var _v=Object.defineProperty;var Sv=(et,c,tt)=>c in et?_v(et,c,{enumerable:!0,configurable:!0,writable:!0,value:tt}):et[c]=tt;var Rs=(et,c,tt)=>Sv(et,typeof c!="symbol"?c+"":c,tt);(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const rt of document.querySelectorAll('link[rel="modulepreload"]'))nt(rt);new MutationObserver(rt=>{for(const it of rt)if(it.type==="childList")for(const st of it.addedNodes)st.tagName==="LINK"&&st.rel==="modulepreload"&&nt(st)}).observe(document,{childList:!0,subtree:!0});function tt(rt){const it={};return rt.integrity&&(it.integrity=rt.integrity),rt.referrerPolicy&&(it.referrerPolicy=rt.referrerPolicy),rt.crossOrigin==="use-credentials"?it.credentials="include":rt.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function nt(rt){if(rt.ep)return;rt.ep=!0;const it=tt(rt);fetch(rt.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$2(et){return et===null||typeof et!="object"?null:(et=z$1&&et[z$1]||et["@@iterator"],typeof et=="function"?et:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$4=Object.assign,D$2={};function E$3(et,c,tt){this.props=et,this.context=c,this.refs=D$2,this.updater=tt||B$1}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(et,c){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,c,"setState")};E$3.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$2(){}F$2.prototype=E$3.prototype;function G$1(et,c,tt){this.props=et,this.context=c,this.refs=D$2,this.updater=tt||B$1}var H$3=G$1.prototype=new F$2;H$3.constructor=G$1;C$4(H$3,E$3.prototype);H$3.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$1(et,c,tt){var nt,rt={},it=null,st=null;if(c!=null)for(nt in c.ref!==void 0&&(st=c.ref),c.key!==void 0&&(it=""+c.key),c)J.call(c,nt)&&!L$2.hasOwnProperty(nt)&&(rt[nt]=c[nt]);var at=arguments.length-2;if(at===1)rt.children=tt;else if(1<at){for(var ot=Array(at),lt=0;lt<at;lt++)ot[lt]=arguments[lt+2];rt.children=ot}if(et&&et.defaultProps)for(nt in at=et.defaultProps,at)rt[nt]===void 0&&(rt[nt]=at[nt]);return{$$typeof:l$2,type:et,key:it,ref:st,props:rt,_owner:K$2.current}}function N$1(et,c){return{$$typeof:l$2,type:et.type,key:c,ref:et.ref,props:et.props,_owner:et._owner}}function O$3(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$2}function escape$1(et){var c={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(tt){return c[tt]})}var P$4=/\/+/g;function Q$2(et,c){return typeof et=="object"&&et!==null&&et.key!=null?escape$1(""+et.key):c.toString(36)}function R$1(et,c,tt,nt,rt){var it=typeof et;(it==="undefined"||it==="boolean")&&(et=null);var st=!1;if(et===null)st=!0;else switch(it){case"string":case"number":st=!0;break;case"object":switch(et.$$typeof){case l$2:case n$2:st=!0}}if(st)return st=et,rt=rt(st),et=nt===""?"."+Q$2(st,0):nt,I$1(rt)?(tt="",et!=null&&(tt=et.replace(P$4,"$&/")+"/"),R$1(rt,c,tt,"",function(lt){return lt})):rt!=null&&(O$3(rt)&&(rt=N$1(rt,tt+(!rt.key||st&&st.key===rt.key?"":(""+rt.key).replace(P$4,"$&/")+"/")+et)),c.push(rt)),1;if(st=0,nt=nt===""?".":nt+":",I$1(et))for(var at=0;at<et.length;at++){it=et[at];var ot=nt+Q$2(it,at);st+=R$1(it,c,tt,ot,rt)}else if(ot=A$2(et),typeof ot=="function")for(et=ot.call(et),at=0;!(it=et.next()).done;)it=it.value,ot=nt+Q$2(it,at++),st+=R$1(it,c,tt,ot,rt);else if(it==="object")throw c=String(et),Error("Objects are not valid as a React child (found: "+(c==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":c)+"). If you meant to render a collection of children, use an array instead.");return st}function S$2(et,c,tt){if(et==null)return et;var nt=[],rt=0;return R$1(et,nt,"","",function(it){return c.call(tt,it,rt++)}),nt}function T$2(et){if(et._status===-1){var c=et._result;c=c(),c.then(function(tt){(et._status===0||et._status===-1)&&(et._status=1,et._result=tt)},function(tt){(et._status===0||et._status===-1)&&(et._status=2,et._result=tt)}),et._status===-1&&(et._status=0,et._result=c)}if(et._status===1)return et._result.default;throw et._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(et,c,tt){S$2(et,function(){c.apply(this,arguments)},tt)},count:function(et){var c=0;return S$2(et,function(){c++}),c},toArray:function(et){return S$2(et,function(c){return c})||[]},only:function(et){if(!O$3(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$3;react_production_min.Fragment=p$3;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$3;react_production_min.cloneElement=function(et,c,tt){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var nt=C$4({},et.props),rt=et.key,it=et.ref,st=et._owner;if(c!=null){if(c.ref!==void 0&&(it=c.ref,st=K$2.current),c.key!==void 0&&(rt=""+c.key),et.type&&et.type.defaultProps)var at=et.type.defaultProps;for(ot in c)J.call(c,ot)&&!L$2.hasOwnProperty(ot)&&(nt[ot]=c[ot]===void 0&&at!==void 0?at[ot]:c[ot])}var ot=arguments.length-2;if(ot===1)nt.children=tt;else if(1<ot){at=Array(ot);for(var lt=0;lt<ot;lt++)at[lt]=arguments[lt+2];nt.children=at}return{$$typeof:l$2,type:et.type,key:rt,ref:it,props:nt,_owner:st}};react_production_min.createContext=function(et){return et={$$typeof:u$2,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$2,_context:et},et.Consumer=et};react_production_min.createElement=M$1;react_production_min.createFactory=function(et){var c=M$1.bind(null,et);return c.type=et,c};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$2,render:et}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(et){return{$$typeof:y$2,_payload:{_status:-1,_result:et},_init:T$2}};react_production_min.memo=function(et,c){return{$$typeof:x,type:et,compare:c===void 0?null:c}};react_production_min.startTransition=function(et){var c=V$2.transition;V$2.transition={};try{et()}finally{V$2.transition=c}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(et,c){return U$2.current.useCallback(et,c)};react_production_min.useContext=function(et){return U$2.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$2.current.useDeferredValue(et)};react_production_min.useEffect=function(et,c){return U$2.current.useEffect(et,c)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(et,c,tt){return U$2.current.useImperativeHandle(et,c,tt)};react_production_min.useInsertionEffect=function(et,c){return U$2.current.useInsertionEffect(et,c)};react_production_min.useLayoutEffect=function(et,c){return U$2.current.useLayoutEffect(et,c)};react_production_min.useMemo=function(et,c){return U$2.current.useMemo(et,c)};react_production_min.useReducer=function(et,c,tt){return U$2.current.useReducer(et,c,tt)};react_production_min.useRef=function(et){return U$2.current.useRef(et)};react_production_min.useState=function(et){return U$2.current.useState(et)};react_production_min.useSyncExternalStore=function(et,c,tt){return U$2.current.useSyncExternalStore(et,c,tt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(et,c,tt){var nt,rt={},it=null,st=null;tt!==void 0&&(it=""+tt),c.key!==void 0&&(it=""+c.key),c.ref!==void 0&&(st=c.ref);for(nt in c)m$2.call(c,nt)&&!p$2.hasOwnProperty(nt)&&(rt[nt]=c[nt]);if(et&&et.defaultProps)for(nt in c=et.defaultProps,c)rt[nt]===void 0&&(rt[nt]=c[nt]);return{$$typeof:k$1,type:et,key:it,ref:st,props:rt,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function c(At,kt){var Ot=At.length;At.push(kt);e:for(;0<Ot;){var Bt=Ot-1>>>1,Qt=At[Bt];if(0<rt(Qt,kt))At[Bt]=kt,At[Ot]=Qt,Ot=Bt;else break e}}function tt(At){return At.length===0?null:At[0]}function nt(At){if(At.length===0)return null;var kt=At[0],Ot=At.pop();if(Ot!==kt){At[0]=Ot;e:for(var Bt=0,Qt=At.length,an=Qt>>>1;Bt<an;){var Kt=2*(Bt+1)-1,ln=At[Kt],vn=Kt+1,En=At[vn];if(0>rt(ln,Ot))vn<Qt&&0>rt(En,ln)?(At[Bt]=En,At[vn]=Ot,Bt=vn):(At[Bt]=ln,At[Kt]=Ot,Bt=Kt);else if(vn<Qt&&0>rt(En,Ot))At[Bt]=En,At[vn]=Ot,Bt=vn;else break e}}return kt}function rt(At,kt){var Ot=At.sortIndex-kt.sortIndex;return Ot!==0?Ot:At.id-kt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;et.unstable_now=function(){return it.now()}}else{var st=Date,at=st.now();et.unstable_now=function(){return st.now()-at}}var ot=[],lt=[],ct=1,dt=null,ht=3,mt=!1,gt=!1,yt=!1,_t=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function vt(At){for(var kt=tt(lt);kt!==null;){if(kt.callback===null)nt(lt);else if(kt.startTime<=At)nt(lt),kt.sortIndex=kt.expirationTime,c(ot,kt);else break;kt=tt(lt)}}function St(At){if(yt=!1,vt(At),!gt)if(tt(ot)!==null)gt=!0,Ft(wt);else{var kt=tt(lt);kt!==null&&Ut(St,kt.startTime-At)}}function wt(At,kt){gt=!1,yt&&(yt=!1,pt(Rt),Rt=-1),mt=!0;var Ot=ht;try{for(vt(kt),dt=tt(ot);dt!==null&&(!(dt.expirationTime>kt)||At&&!Nt());){var Bt=dt.callback;if(typeof Bt=="function"){dt.callback=null,ht=dt.priorityLevel;var Qt=Bt(dt.expirationTime<=kt);kt=et.unstable_now(),typeof Qt=="function"?dt.callback=Qt:dt===tt(ot)&&nt(ot),vt(kt)}else nt(ot);dt=tt(ot)}if(dt!==null)var an=!0;else{var Kt=tt(lt);Kt!==null&&Ut(St,Kt.startTime-kt),an=!1}return an}finally{dt=null,ht=Ot,mt=!1}}var Mt=!1,Ct=null,Rt=-1,Lt=5,It=-1;function Nt(){return!(et.unstable_now()-It<Lt)}function zt(){if(Ct!==null){var At=et.unstable_now();It=At;var kt=!0;try{kt=Ct(!0,At)}finally{kt?Wt():(Mt=!1,Ct=null)}}else Mt=!1}var Wt;if(typeof xt=="function")Wt=function(){xt(zt)};else if(typeof MessageChannel<"u"){var Yt=new MessageChannel,Xt=Yt.port2;Yt.port1.onmessage=zt,Wt=function(){Xt.postMessage(null)}}else Wt=function(){_t(zt,0)};function Ft(At){Ct=At,Mt||(Mt=!0,Wt())}function Ut(At,kt){Rt=_t(function(){At(et.unstable_now())},kt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(At){At.callback=null},et.unstable_continueExecution=function(){gt||mt||(gt=!0,Ft(wt))},et.unstable_forceFrameRate=function(At){0>At||125<At?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Lt=0<At?Math.floor(1e3/At):5},et.unstable_getCurrentPriorityLevel=function(){return ht},et.unstable_getFirstCallbackNode=function(){return tt(ot)},et.unstable_next=function(At){switch(ht){case 1:case 2:case 3:var kt=3;break;default:kt=ht}var Ot=ht;ht=kt;try{return At()}finally{ht=Ot}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(At,kt){switch(At){case 1:case 2:case 3:case 4:case 5:break;default:At=3}var Ot=ht;ht=At;try{return kt()}finally{ht=Ot}},et.unstable_scheduleCallback=function(At,kt,Ot){var Bt=et.unstable_now();switch(typeof Ot=="object"&&Ot!==null?(Ot=Ot.delay,Ot=typeof Ot=="number"&&0<Ot?Bt+Ot:Bt):Ot=Bt,At){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=Ot+Qt,At={id:ct++,callback:kt,priorityLevel:At,startTime:Ot,expirationTime:Qt,sortIndex:-1},Ot>Bt?(At.sortIndex=Ot,c(lt,At),tt(ot)===null&&At===tt(lt)&&(yt?(pt(Rt),Rt=-1):yt=!0,Ut(St,Ot-Bt))):(At.sortIndex=Qt,c(ot,At),gt||mt||(gt=!0,Ft(wt))),At},et.unstable_shouldYield=Nt,et.unstable_wrapCallback=function(At){var kt=ht;return function(){var Ot=ht;ht=kt;try{return At.apply(this,arguments)}finally{ht=Ot}}}})(scheduler_production_min$1);scheduler$1.exports=scheduler_production_min$1;var schedulerExports$1=scheduler$1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p$1(et){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+et,tt=1;tt<arguments.length;tt++)c+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+et+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(et,c){ha(et,c),ha(et+"Capture",c)}function ha(et,c){for(ea[et]=c,et=0;et<c.length;et++)da.add(c[et])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,c,tt,nt){if(tt!==null&&tt.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return nt?!1:tt!==null?!tt.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,c,tt,nt){if(c===null||typeof c>"u"||pa(et,c,tt,nt))return!0;if(nt)return!1;if(tt!==null)switch(tt.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function v$1(et,c,tt,nt,rt,it,st){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=nt,this.attributeNamespace=rt,this.mustUseProperty=tt,this.propertyName=et,this.type=c,this.sanitizeURL=it,this.removeEmptyString=st}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z[et]=new v$1(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var c=et[0];z[c]=new v$1(c,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z[et]=new v$1(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z[et]=new v$1(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z[et]=new v$1(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z[et]=new v$1(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z[et]=new v$1(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z[et]=new v$1(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z[et]=new v$1(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var c=et.replace(ra,sa);z[c]=new v$1(c,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var c=et.replace(ra,sa);z[c]=new v$1(c,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var c=et.replace(ra,sa);z[c]=new v$1(c,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z[et]=new v$1(et,1,!1,et.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z[et]=new v$1(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta(et,c,tt,nt){var rt=z.hasOwnProperty(c)?z[c]:null;(rt!==null?rt.type!==0:nt||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(qa(c,tt,rt,nt)&&(tt=null),nt||rt===null?oa(c)&&(tt===null?et.removeAttribute(c):et.setAttribute(c,""+tt)):rt.mustUseProperty?et[rt.propertyName]=tt===null?rt.type===3?!1:"":tt:(c=rt.attributeName,nt=rt.attributeNamespace,tt===null?et.removeAttribute(c):(rt=rt.type,tt=rt===3||rt===4&&tt===!0?"":""+tt,nt?et.setAttributeNS(nt,c,tt):et.setAttribute(c,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A$1=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(tt){var c=tt.stack.trim().match(/\n( *(at )?)/);La=c&&c[1]||""}return`
`+La+et}var Na=!1;function Oa(et,c){if(!et||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(lt){var nt=lt}Reflect.construct(et,[],c)}else{try{c.call()}catch(lt){nt=lt}et.call(c.prototype)}else{try{throw Error()}catch(lt){nt=lt}et()}}catch(lt){if(lt&&nt&&typeof lt.stack=="string"){for(var rt=lt.stack.split(`
`),it=nt.stack.split(`
`),st=rt.length-1,at=it.length-1;1<=st&&0<=at&&rt[st]!==it[at];)at--;for(;1<=st&&0<=at;st--,at--)if(rt[st]!==it[at]){if(st!==1||at!==1)do if(st--,at--,0>at||rt[st]!==it[at]){var ot=`
`+rt[st].replace(" at new "," at ");return et.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",et.displayName)),ot}while(1<=st&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var c=et.render;return et=et.displayName,et||(et=c.displayName||c.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return c=et.displayName||null,c!==null?c:Qa(et.type)||"Memo";case Ha:c=et._payload,et=et._init;try{return Qa(et(c))}catch{}}return null}function Ra(et){var c=et.type;switch(et.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=c.render,et=et.displayName||et.name||"",c.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(c);case 8:return c===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var c=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ua(et){var c=Ta(et)?"checked":"value",tt=Object.getOwnPropertyDescriptor(et.constructor.prototype,c),nt=""+et[c];if(!et.hasOwnProperty(c)&&typeof tt<"u"&&typeof tt.get=="function"&&typeof tt.set=="function"){var rt=tt.get,it=tt.set;return Object.defineProperty(et,c,{configurable:!0,get:function(){return rt.call(this)},set:function(st){nt=""+st,it.call(this,st)}}),Object.defineProperty(et,c,{enumerable:tt.enumerable}),{getValue:function(){return nt},setValue:function(st){nt=""+st},stopTracking:function(){et._valueTracker=null,delete et[c]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var c=et._valueTracker;if(!c)return!0;var tt=c.getValue(),nt="";return et&&(nt=Ta(et)?et.checked?"true":"false":et.value),et=nt,et!==tt?(c.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document<"u"?document:void 0),typeof et>"u")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,c){var tt=c.checked;return A$1({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt??et._wrapperState.initialChecked})}function Za(et,c){var tt=c.defaultValue==null?"":c.defaultValue,nt=c.checked!=null?c.checked:c.defaultChecked;tt=Sa(c.value!=null?c.value:tt),et._wrapperState={initialChecked:nt,initialValue:tt,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function ab(et,c){c=c.checked,c!=null&&ta(et,"checked",c,!1)}function bb(et,c){ab(et,c);var tt=Sa(c.value),nt=c.type;if(tt!=null)nt==="number"?(tt===0&&et.value===""||et.value!=tt)&&(et.value=""+tt):et.value!==""+tt&&(et.value=""+tt);else if(nt==="submit"||nt==="reset"){et.removeAttribute("value");return}c.hasOwnProperty("value")?cb(et,c.type,tt):c.hasOwnProperty("defaultValue")&&cb(et,c.type,Sa(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(et.defaultChecked=!!c.defaultChecked)}function db(et,c,tt){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var nt=c.type;if(!(nt!=="submit"&&nt!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+et._wrapperState.initialValue,tt||c===et.value||(et.value=c),et.defaultValue=c}tt=et.name,tt!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,tt!==""&&(et.name=tt)}function cb(et,c,tt){(c!=="number"||Xa(et.ownerDocument)!==et)&&(tt==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+tt&&(et.defaultValue=""+tt))}var eb=Array.isArray;function fb(et,c,tt,nt){if(et=et.options,c){c={};for(var rt=0;rt<tt.length;rt++)c["$"+tt[rt]]=!0;for(tt=0;tt<et.length;tt++)rt=c.hasOwnProperty("$"+et[tt].value),et[tt].selected!==rt&&(et[tt].selected=rt),rt&&nt&&(et[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),c=null,rt=0;rt<et.length;rt++){if(et[rt].value===tt){et[rt].selected=!0,nt&&(et[rt].defaultSelected=!0);return}c!==null||et[rt].disabled||(c=et[rt])}c!==null&&(c.selected=!0)}}function gb(et,c){if(c.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},c,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,c){var tt=c.value;if(tt==null){if(tt=c.children,c=c.defaultValue,tt!=null){if(c!=null)throw Error(p$1(92));if(eb(tt)){if(1<tt.length)throw Error(p$1(93));tt=tt[0]}c=tt}c==null&&(c=""),tt=c}et._wrapperState={initialValue:Sa(tt)}}function ib(et,c){var tt=Sa(c.value),nt=Sa(c.defaultValue);tt!=null&&(tt=""+tt,tt!==et.value&&(et.value=tt),c.defaultValue==null&&et.defaultValue!==tt&&(et.defaultValue=tt)),nt!=null&&(et.defaultValue=""+nt)}function jb(et){var c=et.textContent;c===et._wrapperState.initialValue&&c!==""&&c!==null&&(et.value=c)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,c){return et==null||et==="http://www.w3.org/1999/xhtml"?kb(c):et==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,tt,nt,rt){MSApp.execUnsafeLocalFunction(function(){return et(c,tt,nt,rt)})}:et}(function(et,c){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=c;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;c.firstChild;)et.appendChild(c.firstChild)}});function ob(et,c){if(c){var tt=et.firstChild;if(tt&&tt===et.lastChild&&tt.nodeType===3){tt.nodeValue=c;return}}et.textContent=c}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function(c){c=c+et.charAt(0).toUpperCase()+et.substring(1),pb[c]=pb[et]})});function rb(et,c,tt){return c==null||typeof c=="boolean"||c===""?"":tt||typeof c!="number"||c===0||pb.hasOwnProperty(et)&&pb[et]?(""+c).trim():c+"px"}function sb(et,c){et=et.style;for(var tt in c)if(c.hasOwnProperty(tt)){var nt=tt.indexOf("--")===0,rt=rb(tt,c[tt],nt);tt==="float"&&(tt="cssFloat"),nt?et.setProperty(tt,rt):et[tt]=rt}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,c){if(c){if(tb[et]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(p$1(137,et));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(p$1(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(p$1(61))}if(c.style!=null&&typeof c.style!="object")throw Error(p$1(62))}}function vb(et,c){if(et.indexOf("-")===-1)return typeof c.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$1(280));var c=et.stateNode;c&&(c=Db(c),yb(et.stateNode,et.type,c))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,c=Ab;if(Ab=zb=null,Bb(et),c)for(et=0;et<c.length;et++)Bb(c[et])}}function Gb(et,c){return et(c)}function Hb(){}var Ib=!1;function Jb(et,c,tt){if(Ib)return et(c,tt);Ib=!0;try{return Gb(et,c,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,c){var tt=et.stateNode;if(tt===null)return null;var nt=Db(tt);if(nt===null)return null;tt=nt[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(et=et.type,nt=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!nt;break e;default:et=!1}if(et)return null;if(tt&&typeof tt!="function")throw Error(p$1(231,c,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,c,tt,nt,rt,it,st,at,ot){var lt=Array.prototype.slice.call(arguments,3);try{c.apply(tt,lt)}catch(ct){this.onError(ct)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,c,tt,nt,rt,it,st,at,ot){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,c,tt,nt,rt,it,st,at,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=lt)}}function Vb(et){var c=et,tt=et;if(et.alternate)for(;c.return;)c=c.return;else{et=c;do c=et,c.flags&4098&&(tt=c.return),et=c.return;while(et)}return c.tag===3?tt:null}function Wb(et){if(et.tag===13){var c=et.memoizedState;if(c===null&&(et=et.alternate,et!==null&&(c=et.memoizedState)),c!==null)return c.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$1(188))}function Yb(et){var c=et.alternate;if(!c){if(c=Vb(et),c===null)throw Error(p$1(188));return c!==et?null:et}for(var tt=et,nt=c;;){var rt=tt.return;if(rt===null)break;var it=rt.alternate;if(it===null){if(nt=rt.return,nt!==null){tt=nt;continue}break}if(rt.child===it.child){for(it=rt.child;it;){if(it===tt)return Xb(rt),et;if(it===nt)return Xb(rt),c;it=it.sibling}throw Error(p$1(188))}if(tt.return!==nt.return)tt=rt,nt=it;else{for(var st=!1,at=rt.child;at;){if(at===tt){st=!0,tt=rt,nt=it;break}if(at===nt){st=!0,nt=rt,tt=it;break}at=at.sibling}if(!st){for(at=it.child;at;){if(at===tt){st=!0,tt=it,nt=rt;break}if(at===nt){st=!0,nt=it,tt=rt;break}at=at.sibling}if(!st)throw Error(p$1(189))}}if(tt.alternate!==nt)throw Error(p$1(190))}if(tt.tag!==3)throw Error(p$1(188));return tt.stateNode.current===tt?et:c}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var c=$b(et);if(c!==null)return c;et=et.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,c){var tt=et.pendingLanes;if(tt===0)return 0;var nt=0,rt=et.suspendedLanes,it=et.pingedLanes,st=tt&268435455;if(st!==0){var at=st&~rt;at!==0?nt=tc(at):(it&=st,it!==0&&(nt=tc(it)))}else st=tt&~rt,st!==0?nt=tc(st):it!==0&&(nt=tc(it));if(nt===0)return 0;if(c!==0&&c!==nt&&!(c&rt)&&(rt=nt&-nt,it=c&-c,rt>=it||rt===16&&(it&4194240)!==0))return c;if(nt&4&&(nt|=tt&16),c=et.entangledLanes,c!==0)for(et=et.entanglements,c&=nt;0<c;)tt=31-oc(c),rt=1<<tt,nt|=et[tt],c&=~rt;return nt}function vc(et,c){switch(et){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,c){for(var tt=et.suspendedLanes,nt=et.pingedLanes,rt=et.expirationTimes,it=et.pendingLanes;0<it;){var st=31-oc(it),at=1<<st,ot=rt[st];ot===-1?(!(at&tt)||at&nt)&&(rt[st]=vc(at,c)):ot<=c&&(et.expiredLanes|=at),it&=~at}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,!(rc&4194240)&&(rc=64),et}function zc(et){for(var c=[],tt=0;31>tt;tt++)c.push(et);return c}function Ac(et,c,tt){et.pendingLanes|=c,c!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,c=31-oc(c),et[c]=tt}function Bc(et,c){var tt=et.pendingLanes&~c;et.pendingLanes=c,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=c,et.mutableReadLanes&=c,et.entangledLanes&=c,c=et.entanglements;var nt=et.eventTimes;for(et=et.expirationTimes;0<tt;){var rt=31-oc(tt),it=1<<rt;c[rt]=0,nt[rt]=-1,et[rt]=-1,tt&=~it}}function Cc(et,c){var tt=et.entangledLanes|=c;for(et=et.entanglements;tt;){var nt=31-oc(tt),rt=1<<nt;rt&c|et[nt]&c&&(et[nt]|=c),tt&=~rt}}var C$3=0;function Dc(et){return et&=-et,1<et?4<et?et&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,c){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(c.pointerId)}}function Tc(et,c,tt,nt,rt,it){return et===null||et.nativeEvent!==it?(et={blockedOn:c,domEventName:tt,eventSystemFlags:nt,nativeEvent:it,targetContainers:[rt]},c!==null&&(c=Cb(c),c!==null&&Fc(c)),et):(et.eventSystemFlags|=nt,c=et.targetContainers,rt!==null&&c.indexOf(rt)===-1&&c.push(rt),et)}function Uc(et,c,tt,nt,rt){switch(c){case"focusin":return Lc=Tc(Lc,et,c,tt,nt,rt),!0;case"dragenter":return Mc=Tc(Mc,et,c,tt,nt,rt),!0;case"mouseover":return Nc=Tc(Nc,et,c,tt,nt,rt),!0;case"pointerover":var it=rt.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,et,c,tt,nt,rt)),!0;case"gotpointercapture":return it=rt.pointerId,Pc.set(it,Tc(Pc.get(it)||null,et,c,tt,nt,rt)),!0}return!1}function Vc(et){var c=Wc(et.target);if(c!==null){var tt=Vb(c);if(tt!==null){if(c=tt.tag,c===13){if(c=Wb(tt),c!==null){et.blockedOn=c,Ic(et.priority,function(){Gc(tt)});return}}else if(c===3&&tt.stateNode.current.memoizedState.isDehydrated){et.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var c=et.targetContainers;0<c.length;){var tt=Yc(et.domEventName,et.eventSystemFlags,c[0],et.nativeEvent);if(tt===null){tt=et.nativeEvent;var nt=new tt.constructor(tt.type,tt);wb=nt,tt.target.dispatchEvent(nt),wb=null}else return c=Cb(tt),c!==null&&Fc(c),et.blockedOn=tt,!1;c.shift()}return!0}function Zc(et,c,tt){Xc(et)&&tt.delete(c)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,c){et.blockedOn===c&&(et.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(et){function c(rt){return ad(rt,et)}if(0<Kc.length){ad(Kc[0],et);for(var tt=1;tt<Kc.length;tt++){var nt=Kc[tt];nt.blockedOn===et&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach(c),Pc.forEach(c),tt=0;tt<Qc.length;tt++)nt=Qc[tt],nt.blockedOn===et&&(nt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,c,tt,nt){var rt=C$3,it=cd.transition;cd.transition=null;try{C$3=1,fd(et,c,tt,nt)}finally{C$3=rt,cd.transition=it}}function gd(et,c,tt,nt){var rt=C$3,it=cd.transition;cd.transition=null;try{C$3=4,fd(et,c,tt,nt)}finally{C$3=rt,cd.transition=it}}function fd(et,c,tt,nt){if(dd){var rt=Yc(et,c,tt,nt);if(rt===null)hd(et,c,nt,id$2,tt),Sc(et,nt);else if(Uc(rt,et,c,tt,nt))nt.stopPropagation();else if(Sc(et,nt),c&4&&-1<Rc.indexOf(et)){for(;rt!==null;){var it=Cb(rt);if(it!==null&&Ec(it),it=Yc(et,c,tt,nt),it===null&&hd(et,c,nt,id$2,tt),it===rt)break;rt=it}rt!==null&&nt.stopPropagation()}else hd(et,c,nt,null,tt)}}var id$2=null;function Yc(et,c,tt,nt){if(id$2=null,et=xb(nt),et=Wc(et),et!==null)if(c=Vb(et),c===null)et=null;else if(tt=c.tag,tt===13){if(et=Wb(c),et!==null)return et;et=null}else if(tt===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;et=null}else c!==et&&(et=null);return id$2=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,c=ld,tt=c.length,nt,rt="value"in kd?kd.value:kd.textContent,it=rt.length;for(et=0;et<tt&&c[et]===rt[et];et++);var st=tt-et;for(nt=1;nt<=st&&c[tt-nt]===rt[it-nt];nt++);return md=rt.slice(et,1<nt?1-nt:void 0)}function od(et){var c=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&c===13&&(et=13)):et=c,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function c(tt,nt,rt,it,st){this._reactName=tt,this._targetInst=rt,this.type=nt,this.nativeEvent=it,this.target=st,this.currentTarget=null;for(var at in et)et.hasOwnProperty(at)&&(tt=et[at],this[at]=tt?tt(it):it[at]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),c}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(et):(et=Od[et])?!!c[et]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(et){if(et.key){var c=Md[et.key]||et.key;if(c!=="Unidentified")return c}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(et,c){switch(et){case"keyup":return $d.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie=!1;function je$1(et,c){switch(et){case"compositionend":return he$1(c);case"keypress":return c.which!==32?null:(fe=!0,ee);case"textInput":return et=c.data,et===ee&&fe?null:et;default:return null}}function ke$1(et,c){if(ie)return et==="compositionend"||!ae&&ge(et,c)?(et=nd(),md=ld=kd=null,ie=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return de&&c.locale!=="ko"?null:c.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(et){var c=et&&et.nodeName&&et.nodeName.toLowerCase();return c==="input"?!!le[et.type]:c==="textarea"}function ne(et,c,tt,nt){Eb(nt),c=oe(c,"onChange"),0<c.length&&(tt=new td("onChange","change",null,tt,nt),et.push({event:tt,listeners:c}))}var pe=null,qe=null;function re(et){se(et,0)}function te(et){var c=ue(et);if(Wa(c))return et}function ve$1(et,c){if(et==="change")return c}var we$1=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be$1),qe=pe=null)}function Be$1(et){if(et.propertyName==="value"&&te(qe)){var c=[];ne(c,qe,et,xb(et)),Jb(re,c)}}function Ce$1(et,c,tt){et==="focusin"?(Ae(),pe=c,qe=tt,pe.attachEvent("onpropertychange",Be$1)):et==="focusout"&&Ae()}function De$1(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te(qe)}function Ee(et,c){if(et==="click")return te(c)}function Fe$1(et,c){if(et==="input"||et==="change")return te(c)}function Ge$1(et,c){return et===c&&(et!==0||1/et===1/c)||et!==et&&c!==c}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(et,c){if(He$1(et,c))return!0;if(typeof et!="object"||et===null||typeof c!="object"||c===null)return!1;var tt=Object.keys(et),nt=Object.keys(c);if(tt.length!==nt.length)return!1;for(nt=0;nt<tt.length;nt++){var rt=tt[nt];if(!ja.call(c,rt)||!He$1(et[rt],c[rt]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke$1(et,c){var tt=Je(et);et=0;for(var nt;tt;){if(tt.nodeType===3){if(nt=et+tt.textContent.length,et<=c&&nt>=c)return{node:tt,offset:c-et};et=nt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le$1(et,c){return et&&c?et===c?!0:et&&et.nodeType===3?!1:c&&c.nodeType===3?Le$1(et,c.parentNode):"contains"in et?et.contains(c):et.compareDocumentPosition?!!(et.compareDocumentPosition(c)&16):!1:!1}function Me$1(){for(var et=window,c=Xa();c instanceof et.HTMLIFrameElement;){try{var tt=typeof c.contentWindow.location.href=="string"}catch{tt=!1}if(tt)et=c.contentWindow;else break;c=Xa(et.document)}return c}function Ne$1(et){var c=et&&et.nodeName&&et.nodeName.toLowerCase();return c&&(c==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||c==="textarea"||et.contentEditable==="true")}function Oe$1(et){var c=Me$1(),tt=et.focusedElem,nt=et.selectionRange;if(c!==tt&&tt&&tt.ownerDocument&&Le$1(tt.ownerDocument.documentElement,tt)){if(nt!==null&&Ne$1(tt)){if(c=nt.start,et=nt.end,et===void 0&&(et=c),"selectionStart"in tt)tt.selectionStart=c,tt.selectionEnd=Math.min(et,tt.value.length);else if(et=(c=tt.ownerDocument||document)&&c.defaultView||window,et.getSelection){et=et.getSelection();var rt=tt.textContent.length,it=Math.min(nt.start,rt);nt=nt.end===void 0?it:Math.min(nt.end,rt),!et.extend&&it>nt&&(rt=nt,nt=it,it=rt),rt=Ke$1(tt,it);var st=Ke$1(tt,nt);rt&&st&&(et.rangeCount!==1||et.anchorNode!==rt.node||et.anchorOffset!==rt.offset||et.focusNode!==st.node||et.focusOffset!==st.offset)&&(c=c.createRange(),c.setStart(rt.node,rt.offset),et.removeAllRanges(),it>nt?(et.addRange(c),et.extend(st.node,st.offset)):(c.setEnd(st.node,st.offset),et.addRange(c)))}}for(c=[],et=tt;et=et.parentNode;)et.nodeType===1&&c.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<c.length;tt++)et=c[tt],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se$1=null,Te=!1;function Ue$1(et,c,tt){var nt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne$1(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se$1&&Ie$1(Se$1,nt)||(Se$1=nt,nt=oe(Re,"onSelect"),0<nt.length&&(c=new td("onSelect","select",null,c,tt),et.push({event:c,listeners:nt}),c.target=Qe)))}function Ve(et,c){var tt={};return tt[et.toLowerCase()]=c.toLowerCase(),tt["Webkit"+et]="webkit"+c,tt["Moz"+et]="moz"+c,tt}var We$1={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We$1[et])return et;var c=We$1[et],tt;for(tt in c)if(c.hasOwnProperty(tt)&&tt in Ye)return Xe[et]=c[tt];return et}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,c){df.set(et,c),fa(c,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,c,tt){var nt=et.type||"unknown-event";et.currentTarget=tt,Ub(nt,c,void 0,et),et.currentTarget=null}function se(et,c){c=(c&4)!==0;for(var tt=0;tt<et.length;tt++){var nt=et[tt],rt=nt.event;nt=nt.listeners;e:{var it=void 0;if(c)for(var st=nt.length-1;0<=st;st--){var at=nt[st],ot=at.instance,lt=at.currentTarget;if(at=at.listener,ot!==it&&rt.isPropagationStopped())break e;nf(rt,at,lt),it=ot}else for(st=0;st<nt.length;st++){if(at=nt[st],ot=at.instance,lt=at.currentTarget,at=at.listener,ot!==it&&rt.isPropagationStopped())break e;nf(rt,at,lt),it=ot}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$1(et,c){var tt=c[of];tt===void 0&&(tt=c[of]=new Set);var nt=et+"__bubble";tt.has(nt)||(pf(c,et,2,!1),tt.add(nt))}function qf(et,c,tt){var nt=0;c&&(nt|=4),pf(tt,et,nt,c)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,et),qf(tt,!0,et))});var c=et.nodeType===9?et:et.ownerDocument;c===null||c[rf]||(c[rf]=!0,qf("selectionchange",!1,c))}}function pf(et,c,tt,nt){switch(jd(c)){case 1:var rt=ed;break;case 4:rt=gd;break;default:rt=fd}tt=rt.bind(null,c,tt,et),rt=void 0,!Lb||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(rt=!0),nt?rt!==void 0?et.addEventListener(c,tt,{capture:!0,passive:rt}):et.addEventListener(c,tt,!0):rt!==void 0?et.addEventListener(c,tt,{passive:rt}):et.addEventListener(c,tt,!1)}function hd(et,c,tt,nt,rt){var it=nt;if(!(c&1)&&!(c&2)&&nt!==null)e:for(;;){if(nt===null)return;var st=nt.tag;if(st===3||st===4){var at=nt.stateNode.containerInfo;if(at===rt||at.nodeType===8&&at.parentNode===rt)break;if(st===4)for(st=nt.return;st!==null;){var ot=st.tag;if((ot===3||ot===4)&&(ot=st.stateNode.containerInfo,ot===rt||ot.nodeType===8&&ot.parentNode===rt))return;st=st.return}for(;at!==null;){if(st=Wc(at),st===null)return;if(ot=st.tag,ot===5||ot===6){nt=it=st;continue e}at=at.parentNode}}nt=nt.return}Jb(function(){var lt=it,ct=xb(tt),dt=[];e:{var ht=df.get(et);if(ht!==void 0){var mt=td,gt=et;switch(et){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":mt=Rd;break;case"focusin":gt="focus",mt=Fd;break;case"focusout":gt="blur",mt=Fd;break;case"beforeblur":case"afterblur":mt=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Vd;break;case $e:case af:case bf:mt=Hd;break;case cf:mt=Xd;break;case"scroll":mt=vd;break;case"wheel":mt=Zd;break;case"copy":case"cut":case"paste":mt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=Td}var yt=(c&4)!==0,_t=!yt&&et==="scroll",pt=yt?ht!==null?ht+"Capture":null:ht;yt=[];for(var xt=lt,vt;xt!==null;){vt=xt;var St=vt.stateNode;if(vt.tag===5&&St!==null&&(vt=St,pt!==null&&(St=Kb(xt,pt),St!=null&&yt.push(tf(xt,St,vt)))),_t)break;xt=xt.return}0<yt.length&&(ht=new mt(ht,gt,null,tt,ct),dt.push({event:ht,listeners:yt}))}}if(!(c&7)){e:{if(ht=et==="mouseover"||et==="pointerover",mt=et==="mouseout"||et==="pointerout",ht&&tt!==wb&&(gt=tt.relatedTarget||tt.fromElement)&&(Wc(gt)||gt[uf]))break e;if((mt||ht)&&(ht=ct.window===ct?ct:(ht=ct.ownerDocument)?ht.defaultView||ht.parentWindow:window,mt?(gt=tt.relatedTarget||tt.toElement,mt=lt,gt=gt?Wc(gt):null,gt!==null&&(_t=Vb(gt),gt!==_t||gt.tag!==5&&gt.tag!==6)&&(gt=null)):(mt=null,gt=lt),mt!==gt)){if(yt=Bd,St="onMouseLeave",pt="onMouseEnter",xt="mouse",(et==="pointerout"||et==="pointerover")&&(yt=Td,St="onPointerLeave",pt="onPointerEnter",xt="pointer"),_t=mt==null?ht:ue(mt),vt=gt==null?ht:ue(gt),ht=new yt(St,xt+"leave",mt,tt,ct),ht.target=_t,ht.relatedTarget=vt,St=null,Wc(ct)===lt&&(yt=new yt(pt,xt+"enter",gt,tt,ct),yt.target=vt,yt.relatedTarget=_t,St=yt),_t=St,mt&&gt)t:{for(yt=mt,pt=gt,xt=0,vt=yt;vt;vt=vf(vt))xt++;for(vt=0,St=pt;St;St=vf(St))vt++;for(;0<xt-vt;)yt=vf(yt),xt--;for(;0<vt-xt;)pt=vf(pt),vt--;for(;xt--;){if(yt===pt||pt!==null&&yt===pt.alternate)break t;yt=vf(yt),pt=vf(pt)}yt=null}else yt=null;mt!==null&&wf(dt,ht,mt,yt,!1),gt!==null&&_t!==null&&wf(dt,_t,gt,yt,!0)}}e:{if(ht=lt?ue(lt):window,mt=ht.nodeName&&ht.nodeName.toLowerCase(),mt==="select"||mt==="input"&&ht.type==="file")var wt=ve$1;else if(me(ht))if(we$1)wt=Fe$1;else{wt=De$1;var Mt=Ce$1}else(mt=ht.nodeName)&&mt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(wt=Ee);if(wt&&(wt=wt(et,lt))){ne(dt,wt,tt,ct);break e}Mt&&Mt(et,ht,lt),et==="focusout"&&(Mt=ht._wrapperState)&&Mt.controlled&&ht.type==="number"&&cb(ht,"number",ht.value)}switch(Mt=lt?ue(lt):window,et){case"focusin":(me(Mt)||Mt.contentEditable==="true")&&(Qe=Mt,Re=lt,Se$1=null);break;case"focusout":Se$1=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue$1(dt,tt,ct);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue$1(dt,tt,ct)}var Ct;if(ae)e:{switch(et){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else ie?ge(et,tt)&&(Rt="onCompositionEnd"):et==="keydown"&&tt.keyCode===229&&(Rt="onCompositionStart");Rt&&(de&&tt.locale!=="ko"&&(ie||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&ie&&(Ct=nd()):(kd=ct,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Mt=oe(lt,Rt),0<Mt.length&&(Rt=new Ld(Rt,et,null,tt,ct),dt.push({event:Rt,listeners:Mt}),Ct?Rt.data=Ct:(Ct=he$1(tt),Ct!==null&&(Rt.data=Ct)))),(Ct=ce?je$1(et,tt):ke$1(et,tt))&&(lt=oe(lt,"onBeforeInput"),0<lt.length&&(ct=new Ld("onBeforeInput","beforeinput",null,tt,ct),dt.push({event:ct,listeners:lt}),ct.data=Ct))}se(dt,c)})}function tf(et,c,tt){return{instance:et,listener:c,currentTarget:tt}}function oe(et,c){for(var tt=c+"Capture",nt=[];et!==null;){var rt=et,it=rt.stateNode;rt.tag===5&&it!==null&&(rt=it,it=Kb(et,tt),it!=null&&nt.unshift(tf(et,it,rt)),it=Kb(et,c),it!=null&&nt.push(tf(et,it,rt))),et=et.return}return nt}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,c,tt,nt,rt){for(var it=c._reactName,st=[];tt!==null&&tt!==nt;){var at=tt,ot=at.alternate,lt=at.stateNode;if(ot!==null&&ot===nt)break;at.tag===5&&lt!==null&&(at=lt,rt?(ot=Kb(tt,it),ot!=null&&st.unshift(tf(tt,ot,at))):rt||(ot=Kb(tt,it),ot!=null&&st.push(tf(tt,ot,at)))),tt=tt.return}st.length!==0&&et.push({event:c,listeners:st})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,c,tt){if(c=zf(c),zf(et)!==c&&tt)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,c){return et==="textarea"||et==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,c){var tt=c,nt=0;do{var rt=tt.nextSibling;if(et.removeChild(tt),rt&&rt.nodeType===8)if(tt=rt.data,tt==="/$"){if(nt===0){et.removeChild(rt),bd(c);return}nt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||nt++;tt=rt}while(tt);bd(c)}function Lf(et){for(;et!=null;et=et.nextSibling){var c=et.nodeType;if(c===1||c===3)break;if(c===8){if(c=et.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var c=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(c===0)return et;c--}else tt==="/$"&&c++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var c=et[Of];if(c)return c;for(var tt=et.parentNode;tt;){if(c=tt[uf]||tt[Of]){if(tt=c.alternate,c.child!==null||tt!==null&&tt.child!==null)for(et=Mf(et);et!==null;){if(tt=et[Of])return tt;et=Mf(et)}return c}et=tt,tt=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$1(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E$2(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(et,c){Tf++,Sf[Tf]=et.current,et.current=c}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,c){var tt=et.type.contextTypes;if(!tt)return Vf;var nt=et.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===c)return nt.__reactInternalMemoizedMaskedChildContext;var rt={},it;for(it in tt)rt[it]=c[it];return nt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=c,et.__reactInternalMemoizedMaskedChildContext=rt),rt}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E$2(Wf),E$2(H$2)}function ag(et,c,tt){if(H$2.current!==Vf)throw Error(p$1(168));G(H$2,c),G(Wf,tt)}function bg(et,c,tt){var nt=et.stateNode;if(c=c.childContextTypes,typeof nt.getChildContext!="function")return tt;nt=nt.getChildContext();for(var rt in nt)if(!(rt in c))throw Error(p$1(108,Ra(et)||"Unknown",rt));return A$1({},tt,nt)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G(H$2,et),G(Wf,Wf.current),!0}function dg(et,c,tt){var nt=et.stateNode;if(!nt)throw Error(p$1(169));tt?(et=bg(et,c,Xf),nt.__reactInternalMemoizedMergedChildContext=et,E$2(Wf),E$2(H$2),G(H$2,et)):E$2(Wf),G(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,c=C$3;try{var tt=eg;for(C$3=1;et<tt.length;et++){var nt=tt[et];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(rt){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),rt}finally{C$3=c,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,c){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=c}function ug(et,c,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var nt=rg;et=sg;var rt=32-oc(nt)-1;nt&=~(1<<rt),tt+=1;var it=32-oc(c)+rt;if(30<it){var st=rt-rt%5;it=(nt&(1<<st)-1).toString(32),nt>>=st,rt-=st,rg=1<<32-oc(c)+rt|tt<<rt|nt,sg=it+et}else rg=1<<it|tt<<rt|nt,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(et,c){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=c,tt.return=et,c=et.deletions,c===null?(et.deletions=[tt],et.flags|=16):c.push(tt)}function Cg(et,c){switch(et.tag){case 5:var tt=et.type;return c=c.nodeType!==1||tt.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(et.stateNode=c,xg=et,yg=Lf(c.firstChild),!0):!1;case 6:return c=et.pendingProps===""||c.nodeType!==3?null:c,c!==null?(et.stateNode=c,xg=et,yg=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:c,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=c,tt.return=et,et.child=tt,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I){var c=yg;if(c){var tt=c;if(!Cg(et,c)){if(Dg(et))throw Error(p$1(418));c=Lf(tt.nextSibling);var nt=xg;c&&Cg(et,c)?Ag(nt,tt):(et.flags=et.flags&-4097|2,I=!1,xg=et)}}else{if(Dg(et))throw Error(p$1(418));et.flags=et.flags&-4097|2,I=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I)return Fg(et),I=!0,!1;var c;if((c=et.tag!==3)&&!(c=et.tag!==5)&&(c=et.type,c=c!=="head"&&c!=="body"&&!Ef(et.type,et.memoizedProps)),c&&(c=yg)){if(Dg(et))throw Hg(),Error(p$1(418));for(;c;)Ag(et,c),c=Lf(c.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$1(317));e:{for(et=et.nextSibling,c=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="/$"){if(c===0){yg=Lf(et.nextSibling);break e}c--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||c++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,c,tt){if(et=tt.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$1(309));var nt=tt.stateNode}if(!nt)throw Error(p$1(147,et));var rt=nt,it=""+et;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===it?c.ref:(c=function(st){var at=rt.refs;st===null?delete at[it]:at[it]=st},c._stringRef=it,c)}if(typeof et!="string")throw Error(p$1(284));if(!tt._owner)throw Error(p$1(290,et))}return et}function Mg(et,c){throw et=Object.prototype.toString.call(c),Error(p$1(31,et==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":et))}function Ng(et){var c=et._init;return c(et._payload)}function Og(et){function c(pt,xt){if(et){var vt=pt.deletions;vt===null?(pt.deletions=[xt],pt.flags|=16):vt.push(xt)}}function tt(pt,xt){if(!et)return null;for(;xt!==null;)c(pt,xt),xt=xt.sibling;return null}function nt(pt,xt){for(pt=new Map;xt!==null;)xt.key!==null?pt.set(xt.key,xt):pt.set(xt.index,xt),xt=xt.sibling;return pt}function rt(pt,xt){return pt=Pg(pt,xt),pt.index=0,pt.sibling=null,pt}function it(pt,xt,vt){return pt.index=vt,et?(vt=pt.alternate,vt!==null?(vt=vt.index,vt<xt?(pt.flags|=2,xt):vt):(pt.flags|=2,xt)):(pt.flags|=1048576,xt)}function st(pt){return et&&pt.alternate===null&&(pt.flags|=2),pt}function at(pt,xt,vt,St){return xt===null||xt.tag!==6?(xt=Qg(vt,pt.mode,St),xt.return=pt,xt):(xt=rt(xt,vt),xt.return=pt,xt)}function ot(pt,xt,vt,St){var wt=vt.type;return wt===ya?ct(pt,xt,vt.props.children,St,vt.key):xt!==null&&(xt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Ha&&Ng(wt)===xt.type)?(St=rt(xt,vt.props),St.ref=Lg(pt,xt,vt),St.return=pt,St):(St=Rg(vt.type,vt.key,vt.props,null,pt.mode,St),St.ref=Lg(pt,xt,vt),St.return=pt,St)}function lt(pt,xt,vt,St){return xt===null||xt.tag!==4||xt.stateNode.containerInfo!==vt.containerInfo||xt.stateNode.implementation!==vt.implementation?(xt=Sg(vt,pt.mode,St),xt.return=pt,xt):(xt=rt(xt,vt.children||[]),xt.return=pt,xt)}function ct(pt,xt,vt,St,wt){return xt===null||xt.tag!==7?(xt=Tg(vt,pt.mode,St,wt),xt.return=pt,xt):(xt=rt(xt,vt),xt.return=pt,xt)}function dt(pt,xt,vt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return xt=Qg(""+xt,pt.mode,vt),xt.return=pt,xt;if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return vt=Rg(xt.type,xt.key,xt.props,null,pt.mode,vt),vt.ref=Lg(pt,null,xt),vt.return=pt,vt;case wa:return xt=Sg(xt,pt.mode,vt),xt.return=pt,xt;case Ha:var St=xt._init;return dt(pt,St(xt._payload),vt)}if(eb(xt)||Ka(xt))return xt=Tg(xt,pt.mode,vt,null),xt.return=pt,xt;Mg(pt,xt)}return null}function ht(pt,xt,vt,St){var wt=xt!==null?xt.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number")return wt!==null?null:at(pt,xt,""+vt,St);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return vt.key===wt?ot(pt,xt,vt,St):null;case wa:return vt.key===wt?lt(pt,xt,vt,St):null;case Ha:return wt=vt._init,ht(pt,xt,wt(vt._payload),St)}if(eb(vt)||Ka(vt))return wt!==null?null:ct(pt,xt,vt,St,null);Mg(pt,vt)}return null}function mt(pt,xt,vt,St,wt){if(typeof St=="string"&&St!==""||typeof St=="number")return pt=pt.get(vt)||null,at(xt,pt,""+St,wt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case va:return pt=pt.get(St.key===null?vt:St.key)||null,ot(xt,pt,St,wt);case wa:return pt=pt.get(St.key===null?vt:St.key)||null,lt(xt,pt,St,wt);case Ha:var Mt=St._init;return mt(pt,xt,vt,Mt(St._payload),wt)}if(eb(St)||Ka(St))return pt=pt.get(vt)||null,ct(xt,pt,St,wt,null);Mg(xt,St)}return null}function gt(pt,xt,vt,St){for(var wt=null,Mt=null,Ct=xt,Rt=xt=0,Lt=null;Ct!==null&&Rt<vt.length;Rt++){Ct.index>Rt?(Lt=Ct,Ct=null):Lt=Ct.sibling;var It=ht(pt,Ct,vt[Rt],St);if(It===null){Ct===null&&(Ct=Lt);break}et&&Ct&&It.alternate===null&&c(pt,Ct),xt=it(It,xt,Rt),Mt===null?wt=It:Mt.sibling=It,Mt=It,Ct=Lt}if(Rt===vt.length)return tt(pt,Ct),I&&tg(pt,Rt),wt;if(Ct===null){for(;Rt<vt.length;Rt++)Ct=dt(pt,vt[Rt],St),Ct!==null&&(xt=it(Ct,xt,Rt),Mt===null?wt=Ct:Mt.sibling=Ct,Mt=Ct);return I&&tg(pt,Rt),wt}for(Ct=nt(pt,Ct);Rt<vt.length;Rt++)Lt=mt(Ct,pt,Rt,vt[Rt],St),Lt!==null&&(et&&Lt.alternate!==null&&Ct.delete(Lt.key===null?Rt:Lt.key),xt=it(Lt,xt,Rt),Mt===null?wt=Lt:Mt.sibling=Lt,Mt=Lt);return et&&Ct.forEach(function(Nt){return c(pt,Nt)}),I&&tg(pt,Rt),wt}function yt(pt,xt,vt,St){var wt=Ka(vt);if(typeof wt!="function")throw Error(p$1(150));if(vt=wt.call(vt),vt==null)throw Error(p$1(151));for(var Mt=wt=null,Ct=xt,Rt=xt=0,Lt=null,It=vt.next();Ct!==null&&!It.done;Rt++,It=vt.next()){Ct.index>Rt?(Lt=Ct,Ct=null):Lt=Ct.sibling;var Nt=ht(pt,Ct,It.value,St);if(Nt===null){Ct===null&&(Ct=Lt);break}et&&Ct&&Nt.alternate===null&&c(pt,Ct),xt=it(Nt,xt,Rt),Mt===null?wt=Nt:Mt.sibling=Nt,Mt=Nt,Ct=Lt}if(It.done)return tt(pt,Ct),I&&tg(pt,Rt),wt;if(Ct===null){for(;!It.done;Rt++,It=vt.next())It=dt(pt,It.value,St),It!==null&&(xt=it(It,xt,Rt),Mt===null?wt=It:Mt.sibling=It,Mt=It);return I&&tg(pt,Rt),wt}for(Ct=nt(pt,Ct);!It.done;Rt++,It=vt.next())It=mt(Ct,pt,Rt,It.value,St),It!==null&&(et&&It.alternate!==null&&Ct.delete(It.key===null?Rt:It.key),xt=it(It,xt,Rt),Mt===null?wt=It:Mt.sibling=It,Mt=It);return et&&Ct.forEach(function(zt){return c(pt,zt)}),I&&tg(pt,Rt),wt}function _t(pt,xt,vt,St){if(typeof vt=="object"&&vt!==null&&vt.type===ya&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:e:{for(var wt=vt.key,Mt=xt;Mt!==null;){if(Mt.key===wt){if(wt=vt.type,wt===ya){if(Mt.tag===7){tt(pt,Mt.sibling),xt=rt(Mt,vt.props.children),xt.return=pt,pt=xt;break e}}else if(Mt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Ha&&Ng(wt)===Mt.type){tt(pt,Mt.sibling),xt=rt(Mt,vt.props),xt.ref=Lg(pt,Mt,vt),xt.return=pt,pt=xt;break e}tt(pt,Mt);break}else c(pt,Mt);Mt=Mt.sibling}vt.type===ya?(xt=Tg(vt.props.children,pt.mode,St,vt.key),xt.return=pt,pt=xt):(St=Rg(vt.type,vt.key,vt.props,null,pt.mode,St),St.ref=Lg(pt,xt,vt),St.return=pt,pt=St)}return st(pt);case wa:e:{for(Mt=vt.key;xt!==null;){if(xt.key===Mt)if(xt.tag===4&&xt.stateNode.containerInfo===vt.containerInfo&&xt.stateNode.implementation===vt.implementation){tt(pt,xt.sibling),xt=rt(xt,vt.children||[]),xt.return=pt,pt=xt;break e}else{tt(pt,xt);break}else c(pt,xt);xt=xt.sibling}xt=Sg(vt,pt.mode,St),xt.return=pt,pt=xt}return st(pt);case Ha:return Mt=vt._init,_t(pt,xt,Mt(vt._payload),St)}if(eb(vt))return gt(pt,xt,vt,St);if(Ka(vt))return yt(pt,xt,vt,St);Mg(pt,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"?(vt=""+vt,xt!==null&&xt.tag===6?(tt(pt,xt.sibling),xt=rt(xt,vt),xt.return=pt,pt=xt):(tt(pt,xt),xt=Qg(vt,pt.mode,St),xt.return=pt,pt=xt),st(pt)):tt(pt,xt)}return _t}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(et){var c=Wg.current;E$2(Wg),et._currentValue=c}function bh(et,c,tt){for(;et!==null;){var nt=et.alternate;if((et.childLanes&c)!==c?(et.childLanes|=c,nt!==null&&(nt.childLanes|=c)):nt!==null&&(nt.childLanes&c)!==c&&(nt.childLanes|=c),et===tt)break;et=et.return}}function ch(et,c){Xg=et,Zg=Yg=null,et=et.dependencies,et!==null&&et.firstContext!==null&&(et.lanes&c&&(dh=!0),et.firstContext=null)}function eh(et){var c=et._currentValue;if(Zg!==et)if(et={context:et,memoizedValue:c,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=et,Xg.dependencies={lanes:0,firstContext:et}}else Yg=Yg.next=et;return c}var fh=null;function gh(et){fh===null?fh=[et]:fh.push(et)}function hh(et,c,tt,nt){var rt=c.interleaved;return rt===null?(tt.next=tt,gh(c)):(tt.next=rt.next,rt.next=tt),c.interleaved=tt,ih(et,nt)}function ih(et,c){et.lanes|=c;var tt=et.alternate;for(tt!==null&&(tt.lanes|=c),tt=et,et=et.return;et!==null;)et.childLanes|=c,tt=et.alternate,tt!==null&&(tt.childLanes|=c),tt=et,et=et.return;return tt.tag===3?tt.stateNode:null}var jh=!1;function kh(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(et,c){et=et.updateQueue,c.updateQueue===et&&(c.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function mh(et,c){return{eventTime:et,lane:c,tag:0,payload:null,callback:null,next:null}}function nh(et,c,tt){var nt=et.updateQueue;if(nt===null)return null;if(nt=nt.shared,K$1&2){var rt=nt.pending;return rt===null?c.next=c:(c.next=rt.next,rt.next=c),nt.pending=c,ih(et,tt)}return rt=nt.interleaved,rt===null?(c.next=c,gh(nt)):(c.next=rt.next,rt.next=c),nt.interleaved=c,ih(et,tt)}function oh(et,c,tt){if(c=c.updateQueue,c!==null&&(c=c.shared,(tt&4194240)!==0)){var nt=c.lanes;nt&=et.pendingLanes,tt|=nt,c.lanes=tt,Cc(et,tt)}}function ph(et,c){var tt=et.updateQueue,nt=et.alternate;if(nt!==null&&(nt=nt.updateQueue,tt===nt)){var rt=null,it=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var st={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};it===null?rt=it=st:it=it.next=st,tt=tt.next}while(tt!==null);it===null?rt=it=c:it=it.next=c}else rt=it=c;tt={baseState:nt.baseState,firstBaseUpdate:rt,lastBaseUpdate:it,shared:nt.shared,effects:nt.effects},et.updateQueue=tt;return}et=tt.lastBaseUpdate,et===null?tt.firstBaseUpdate=c:et.next=c,tt.lastBaseUpdate=c}function qh(et,c,tt,nt){var rt=et.updateQueue;jh=!1;var it=rt.firstBaseUpdate,st=rt.lastBaseUpdate,at=rt.shared.pending;if(at!==null){rt.shared.pending=null;var ot=at,lt=ot.next;ot.next=null,st===null?it=lt:st.next=lt,st=ot;var ct=et.alternate;ct!==null&&(ct=ct.updateQueue,at=ct.lastBaseUpdate,at!==st&&(at===null?ct.firstBaseUpdate=lt:at.next=lt,ct.lastBaseUpdate=ot))}if(it!==null){var dt=rt.baseState;st=0,ct=lt=ot=null,at=it;do{var ht=at.lane,mt=at.eventTime;if((nt&ht)===ht){ct!==null&&(ct=ct.next={eventTime:mt,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var gt=et,yt=at;switch(ht=c,mt=tt,yt.tag){case 1:if(gt=yt.payload,typeof gt=="function"){dt=gt.call(mt,dt,ht);break e}dt=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=yt.payload,ht=typeof gt=="function"?gt.call(mt,dt,ht):gt,ht==null)break e;dt=A$1({},dt,ht);break e;case 2:jh=!0}}at.callback!==null&&at.lane!==0&&(et.flags|=64,ht=rt.effects,ht===null?rt.effects=[at]:ht.push(at))}else mt={eventTime:mt,lane:ht,tag:at.tag,payload:at.payload,callback:at.callback,next:null},ct===null?(lt=ct=mt,ot=dt):ct=ct.next=mt,st|=ht;if(at=at.next,at===null){if(at=rt.shared.pending,at===null)break;ht=at,at=ht.next,ht.next=null,rt.lastBaseUpdate=ht,rt.shared.pending=null}}while(!0);if(ct===null&&(ot=dt),rt.baseState=ot,rt.firstBaseUpdate=lt,rt.lastBaseUpdate=ct,c=rt.shared.interleaved,c!==null){rt=c;do st|=rt.lane,rt=rt.next;while(rt!==c)}else it===null&&(rt.shared.lanes=0);rh|=st,et.lanes=st,et.memoizedState=dt}}function sh(et,c,tt){if(et=c.effects,c.effects=null,et!==null)for(c=0;c<et.length;c++){var nt=et[c],rt=nt.callback;if(rt!==null){if(nt.callback=null,nt=tt,typeof rt!="function")throw Error(p$1(191,rt));rt.call(nt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(et){if(et===th)throw Error(p$1(174));return et}function yh(et,c){switch(G(wh,c),G(vh$1,et),G(uh,th),et=c.nodeType,et){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:lb(null,"");break;default:et=et===8?c.parentNode:c,c=et.namespaceURI||null,et=et.tagName,c=lb(c,et)}E$2(uh),G(uh,c)}function zh(){E$2(uh),E$2(vh$1),E$2(wh)}function Ah(et){xh(wh.current);var c=xh(uh.current),tt=lb(c,et.type);c!==tt&&(G(vh$1,et),G(uh,tt))}function Bh(et){vh$1.current===et&&(E$2(uh),E$2(vh$1))}var L$1=Uf(0);function Ch(et){for(var c=et;c!==null;){if(c.tag===13){var tt=c.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===et)break;for(;c.sibling===null;){if(c.return===null||c.return===et)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Dh=[];function Eh(){for(var et=0;et<Dh.length;et++)Dh[et]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$1(321))}function Mh(et,c){if(c===null)return!1;for(var tt=0;tt<c.length&&tt<et.length;tt++)if(!He$1(et[tt],c[tt]))return!1;return!0}function Nh(et,c,tt,nt,rt,it){if(Hh=it,M=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Fh.current=et===null||et.memoizedState===null?Oh:Ph,et=tt(nt,rt),Jh){it=0;do{if(Jh=!1,Kh=0,25<=it)throw Error(p$1(301));it+=1,O$2=N=null,c.updateQueue=null,Fh.current=Qh,et=tt(nt,rt)}while(Jh)}if(Fh.current=Rh,c=N!==null&&N.next!==null,Hh=0,O$2=N=M=null,Ih=!1,c)throw Error(p$1(300));return et}function Sh(){var et=Kh!==0;return Kh=0,et}function Th(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M.memoizedState=O$2=et:O$2=O$2.next=et,O$2}function Uh(){if(N===null){var et=M.alternate;et=et!==null?et.memoizedState:null}else et=N.next;var c=O$2===null?M.memoizedState:O$2.next;if(c!==null)O$2=c,N=et;else{if(et===null)throw Error(p$1(310));N=et,et={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O$2===null?M.memoizedState=O$2=et:O$2=O$2.next=et}return O$2}function Vh(et,c){return typeof c=="function"?c(et):c}function Wh(et){var c=Uh(),tt=c.queue;if(tt===null)throw Error(p$1(311));tt.lastRenderedReducer=et;var nt=N,rt=nt.baseQueue,it=tt.pending;if(it!==null){if(rt!==null){var st=rt.next;rt.next=it.next,it.next=st}nt.baseQueue=rt=it,tt.pending=null}if(rt!==null){it=rt.next,nt=nt.baseState;var at=st=null,ot=null,lt=it;do{var ct=lt.lane;if((Hh&ct)===ct)ot!==null&&(ot=ot.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),nt=lt.hasEagerState?lt.eagerState:et(nt,lt.action);else{var dt={lane:ct,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};ot===null?(at=ot=dt,st=nt):ot=ot.next=dt,M.lanes|=ct,rh|=ct}lt=lt.next}while(lt!==null&&lt!==it);ot===null?st=nt:ot.next=at,He$1(nt,c.memoizedState)||(dh=!0),c.memoizedState=nt,c.baseState=st,c.baseQueue=ot,tt.lastRenderedState=nt}if(et=tt.interleaved,et!==null){rt=et;do it=rt.lane,M.lanes|=it,rh|=it,rt=rt.next;while(rt!==et)}else rt===null&&(tt.lanes=0);return[c.memoizedState,tt.dispatch]}function Xh(et){var c=Uh(),tt=c.queue;if(tt===null)throw Error(p$1(311));tt.lastRenderedReducer=et;var nt=tt.dispatch,rt=tt.pending,it=c.memoizedState;if(rt!==null){tt.pending=null;var st=rt=rt.next;do it=et(it,st.action),st=st.next;while(st!==rt);He$1(it,c.memoizedState)||(dh=!0),c.memoizedState=it,c.baseQueue===null&&(c.baseState=it),tt.lastRenderedState=it}return[it,nt]}function Yh(){}function Zh(et,c){var tt=M,nt=Uh(),rt=c(),it=!He$1(nt.memoizedState,rt);if(it&&(nt.memoizedState=rt,dh=!0),nt=nt.queue,$h(ai.bind(null,tt,nt,et),[et]),nt.getSnapshot!==c||it||O$2!==null&&O$2.memoizedState.tag&1){if(tt.flags|=2048,bi(9,ci.bind(null,tt,nt,rt,c),void 0,null),Q$1===null)throw Error(p$1(349));Hh&30||di(tt,c,rt)}return rt}function di(et,c,tt){et.flags|=16384,et={getSnapshot:c,value:tt},c=M.updateQueue,c===null?(c={lastEffect:null,stores:null},M.updateQueue=c,c.stores=[et]):(tt=c.stores,tt===null?c.stores=[et]:tt.push(et))}function ci(et,c,tt,nt){c.value=tt,c.getSnapshot=nt,ei(c)&&fi(et)}function ai(et,c,tt){return tt(function(){ei(c)&&fi(et)})}function ei(et){var c=et.getSnapshot;et=et.value;try{var tt=c();return!He$1(et,tt)}catch{return!0}}function fi(et){var c=ih(et,1);c!==null&&gi(c,et,1,-1)}function hi(et){var c=Th();return typeof et=="function"&&(et=et()),c.memoizedState=c.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:et},c.queue=et,et=et.dispatch=ii.bind(null,M,et),[c.memoizedState,et]}function bi(et,c,tt,nt){return et={tag:et,create:c,destroy:tt,deps:nt,next:null},c=M.updateQueue,c===null?(c={lastEffect:null,stores:null},M.updateQueue=c,c.lastEffect=et.next=et):(tt=c.lastEffect,tt===null?c.lastEffect=et.next=et:(nt=tt.next,tt.next=et,et.next=nt,c.lastEffect=et)),et}function ji(){return Uh().memoizedState}function ki(et,c,tt,nt){var rt=Th();M.flags|=et,rt.memoizedState=bi(1|c,tt,void 0,nt===void 0?null:nt)}function li(et,c,tt,nt){var rt=Uh();nt=nt===void 0?null:nt;var it=void 0;if(N!==null){var st=N.memoizedState;if(it=st.destroy,nt!==null&&Mh(nt,st.deps)){rt.memoizedState=bi(c,tt,it,nt);return}}M.flags|=et,rt.memoizedState=bi(1|c,tt,it,nt)}function mi(et,c){return ki(8390656,8,et,c)}function $h(et,c){return li(2048,8,et,c)}function ni(et,c){return li(4,2,et,c)}function oi(et,c){return li(4,4,et,c)}function pi(et,c){if(typeof c=="function")return et=et(),c(et),function(){c(null)};if(c!=null)return et=et(),c.current=et,function(){c.current=null}}function qi(et,c,tt){return tt=tt!=null?tt.concat([et]):null,li(4,4,pi.bind(null,c,et),tt)}function ri(){}function si(et,c){var tt=Uh();c=c===void 0?null:c;var nt=tt.memoizedState;return nt!==null&&c!==null&&Mh(c,nt[1])?nt[0]:(tt.memoizedState=[et,c],et)}function ti(et,c){var tt=Uh();c=c===void 0?null:c;var nt=tt.memoizedState;return nt!==null&&c!==null&&Mh(c,nt[1])?nt[0]:(et=et(),tt.memoizedState=[et,c],et)}function ui(et,c,tt){return Hh&21?(He$1(tt,c)||(tt=yc(),M.lanes|=tt,rh|=tt,et.baseState=!0),c):(et.baseState&&(et.baseState=!1,dh=!0),et.memoizedState=tt)}function vi(et,c){var tt=C$3;C$3=tt!==0&&4>tt?tt:4,et(!0);var nt=Gh.transition;Gh.transition={};try{et(!1),c()}finally{C$3=tt,Gh.transition=nt}}function wi(){return Uh().memoizedState}function xi(et,c,tt){var nt=yi(et);if(tt={lane:nt,action:tt,hasEagerState:!1,eagerState:null,next:null},zi(et))Ai(c,tt);else if(tt=hh(et,c,tt,nt),tt!==null){var rt=R();gi(tt,et,nt,rt),Bi(tt,c,nt)}}function ii(et,c,tt){var nt=yi(et),rt={lane:nt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(zi(et))Ai(c,rt);else{var it=et.alternate;if(et.lanes===0&&(it===null||it.lanes===0)&&(it=c.lastRenderedReducer,it!==null))try{var st=c.lastRenderedState,at=it(st,tt);if(rt.hasEagerState=!0,rt.eagerState=at,He$1(at,st)){var ot=c.interleaved;ot===null?(rt.next=rt,gh(c)):(rt.next=ot.next,ot.next=rt),c.interleaved=rt;return}}catch{}finally{}tt=hh(et,c,rt,nt),tt!==null&&(rt=R(),gi(tt,et,nt,rt),Bi(tt,c,nt))}}function zi(et){var c=et.alternate;return et===M||c!==null&&c===M}function Ai(et,c){Jh=Ih=!0;var tt=et.pending;tt===null?c.next=c:(c.next=tt.next,tt.next=c),et.pending=c}function Bi(et,c,tt){if(tt&4194240){var nt=c.lanes;nt&=et.pendingLanes,tt|=nt,c.lanes=tt,Cc(et,tt)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(et,c){return Th().memoizedState=[et,c===void 0?null:c],et},useContext:eh,useEffect:mi,useImperativeHandle:function(et,c,tt){return tt=tt!=null?tt.concat([et]):null,ki(4194308,4,pi.bind(null,c,et),tt)},useLayoutEffect:function(et,c){return ki(4194308,4,et,c)},useInsertionEffect:function(et,c){return ki(4,2,et,c)},useMemo:function(et,c){var tt=Th();return c=c===void 0?null:c,et=et(),tt.memoizedState=[et,c],et},useReducer:function(et,c,tt){var nt=Th();return c=tt!==void 0?tt(c):c,nt.memoizedState=nt.baseState=c,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:c},nt.queue=et,et=et.dispatch=xi.bind(null,M,et),[nt.memoizedState,et]},useRef:function(et){var c=Th();return et={current:et},c.memoizedState=et},useState:hi,useDebugValue:ri,useDeferredValue:function(et){return Th().memoizedState=et},useTransition:function(){var et=hi(!1),c=et[0];return et=vi.bind(null,et[1]),Th().memoizedState=et,[c,et]},useMutableSource:function(){},useSyncExternalStore:function(et,c,tt){var nt=M,rt=Th();if(I){if(tt===void 0)throw Error(p$1(407));tt=tt()}else{if(tt=c(),Q$1===null)throw Error(p$1(349));Hh&30||di(nt,c,tt)}rt.memoizedState=tt;var it={value:tt,getSnapshot:c};return rt.queue=it,mi(ai.bind(null,nt,it,et),[et]),nt.flags|=2048,bi(9,ci.bind(null,nt,it,tt,c),void 0,null),tt},useId:function(){var et=Th(),c=Q$1.identifierPrefix;if(I){var tt=sg,nt=rg;tt=(nt&~(1<<32-oc(nt)-1)).toString(32)+tt,c=":"+c+"R"+tt,tt=Kh++,0<tt&&(c+="H"+tt.toString(32)),c+=":"}else tt=Lh++,c=":"+c+"r"+tt.toString(32)+":";return et.memoizedState=c},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(et){var c=Uh();return ui(c,N.memoizedState,et)},useTransition:function(){var et=Wh(Vh)[0],c=Uh().memoizedState;return[et,c]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(et){var c=Uh();return N===null?c.memoizedState=et:ui(c,N.memoizedState,et)},useTransition:function(){var et=Xh(Vh)[0],c=Uh().memoizedState;return[et,c]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(et,c){if(et&&et.defaultProps){c=A$1({},c),et=et.defaultProps;for(var tt in et)c[tt]===void 0&&(c[tt]=et[tt]);return c}return c}function Di(et,c,tt,nt){c=et.memoizedState,tt=tt(nt,c),tt=tt==null?c:A$1({},c,tt),et.memoizedState=tt,et.lanes===0&&(et.updateQueue.baseState=tt)}var Ei={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,c,tt){et=et._reactInternals;var nt=R(),rt=yi(et),it=mh(nt,rt);it.payload=c,tt!=null&&(it.callback=tt),c=nh(et,it,rt),c!==null&&(gi(c,et,rt,nt),oh(c,et,rt))},enqueueReplaceState:function(et,c,tt){et=et._reactInternals;var nt=R(),rt=yi(et),it=mh(nt,rt);it.tag=1,it.payload=c,tt!=null&&(it.callback=tt),c=nh(et,it,rt),c!==null&&(gi(c,et,rt,nt),oh(c,et,rt))},enqueueForceUpdate:function(et,c){et=et._reactInternals;var tt=R(),nt=yi(et),rt=mh(tt,nt);rt.tag=2,c!=null&&(rt.callback=c),c=nh(et,rt,nt),c!==null&&(gi(c,et,nt,tt),oh(c,et,nt))}};function Fi(et,c,tt,nt,rt,it,st){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(nt,it,st):c.prototype&&c.prototype.isPureReactComponent?!Ie$1(tt,nt)||!Ie$1(rt,it):!0}function Gi(et,c,tt){var nt=!1,rt=Vf,it=c.contextType;return typeof it=="object"&&it!==null?it=eh(it):(rt=Zf(c)?Xf:H$2.current,nt=c.contextTypes,it=(nt=nt!=null)?Yf(et,rt):Vf),c=new c(tt,it),et.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Ei,et.stateNode=c,c._reactInternals=et,nt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=rt,et.__reactInternalMemoizedMaskedChildContext=it),c}function Hi(et,c,tt,nt){et=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(tt,nt),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(tt,nt),c.state!==et&&Ei.enqueueReplaceState(c,c.state,null)}function Ii(et,c,tt,nt){var rt=et.stateNode;rt.props=tt,rt.state=et.memoizedState,rt.refs={},kh(et);var it=c.contextType;typeof it=="object"&&it!==null?rt.context=eh(it):(it=Zf(c)?Xf:H$2.current,rt.context=Yf(et,it)),rt.state=et.memoizedState,it=c.getDerivedStateFromProps,typeof it=="function"&&(Di(et,c,it,tt),rt.state=et.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof rt.getSnapshotBeforeUpdate=="function"||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(c=rt.state,typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount(),c!==rt.state&&Ei.enqueueReplaceState(rt,rt.state,null),qh(et,tt,rt,nt),rt.state=et.memoizedState),typeof rt.componentDidMount=="function"&&(et.flags|=4194308)}function Ji(et,c){try{var tt="",nt=c;do tt+=Pa(nt),nt=nt.return;while(nt);var rt=tt}catch(it){rt=`
Error generating stack: `+it.message+`
`+it.stack}return{value:et,source:c,stack:rt,digest:null}}function Ki(et,c,tt){return{value:et,source:null,stack:tt??null,digest:c??null}}function Li(et,c){try{console.error(c.value)}catch(tt){setTimeout(function(){throw tt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(et,c,tt){tt=mh(-1,tt),tt.tag=3,tt.payload={element:null};var nt=c.value;return tt.callback=function(){Oi||(Oi=!0,Pi=nt),Li(et,c)},tt}function Qi(et,c,tt){tt=mh(-1,tt),tt.tag=3;var nt=et.type.getDerivedStateFromError;if(typeof nt=="function"){var rt=c.value;tt.payload=function(){return nt(rt)},tt.callback=function(){Li(et,c)}}var it=et.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(tt.callback=function(){Li(et,c),typeof nt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var st=c.stack;this.componentDidCatch(c.value,{componentStack:st!==null?st:""})}),tt}function Si(et,c,tt){var nt=et.pingCache;if(nt===null){nt=et.pingCache=new Mi;var rt=new Set;nt.set(c,rt)}else rt=nt.get(c),rt===void 0&&(rt=new Set,nt.set(c,rt));rt.has(tt)||(rt.add(tt),et=Ti.bind(null,et,c,tt),c.then(et,et))}function Ui(et){do{var c;if((c=et.tag===13)&&(c=et.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return et;et=et.return}while(et!==null);return null}function Vi(et,c,tt,nt,rt){return et.mode&1?(et.flags|=65536,et.lanes=rt,et):(et===c?et.flags|=65536:(et.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(c=mh(-1,1),c.tag=2,nh(tt,c,1))),tt.lanes|=1),et)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(et,c,tt,nt){c.child=et===null?Vg(c,null,tt,nt):Ug(c,et.child,tt,nt)}function Yi(et,c,tt,nt,rt){tt=tt.render;var it=c.ref;return ch(c,rt),nt=Nh(et,c,tt,nt,it,rt),tt=Sh(),et!==null&&!dh?(c.updateQueue=et.updateQueue,c.flags&=-2053,et.lanes&=~rt,Zi(et,c,rt)):(I&&tt&&vg(c),c.flags|=1,Xi(et,c,nt,rt),c.child)}function $i(et,c,tt,nt,rt){if(et===null){var it=tt.type;return typeof it=="function"&&!aj(it)&&it.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(c.tag=15,c.type=it,bj(et,c,it,nt,rt)):(et=Rg(tt.type,null,nt,c,c.mode,rt),et.ref=c.ref,et.return=c,c.child=et)}if(it=et.child,!(et.lanes&rt)){var st=it.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie$1,tt(st,nt)&&et.ref===c.ref)return Zi(et,c,rt)}return c.flags|=1,et=Pg(it,nt),et.ref=c.ref,et.return=c,c.child=et}function bj(et,c,tt,nt,rt){if(et!==null){var it=et.memoizedProps;if(Ie$1(it,nt)&&et.ref===c.ref)if(dh=!1,c.pendingProps=nt=it,(et.lanes&rt)!==0)et.flags&131072&&(dh=!0);else return c.lanes=et.lanes,Zi(et,c,rt)}return cj(et,c,tt,nt,rt)}function dj(et,c,tt){var nt=c.pendingProps,rt=nt.children,it=et!==null?et.memoizedState:null;if(nt.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=tt;else{if(!(tt&1073741824))return et=it!==null?it.baseLanes|tt:tt,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:et,cachePool:null,transitions:null},c.updateQueue=null,G(ej,fj),fj|=et,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=it!==null?it.baseLanes:tt,G(ej,fj),fj|=nt}else it!==null?(nt=it.baseLanes|tt,c.memoizedState=null):nt=tt,G(ej,fj),fj|=nt;return Xi(et,c,rt,tt),c.child}function gj(et,c){var tt=c.ref;(et===null&&tt!==null||et!==null&&et.ref!==tt)&&(c.flags|=512,c.flags|=2097152)}function cj(et,c,tt,nt,rt){var it=Zf(tt)?Xf:H$2.current;return it=Yf(c,it),ch(c,rt),tt=Nh(et,c,tt,nt,it,rt),nt=Sh(),et!==null&&!dh?(c.updateQueue=et.updateQueue,c.flags&=-2053,et.lanes&=~rt,Zi(et,c,rt)):(I&&nt&&vg(c),c.flags|=1,Xi(et,c,tt,rt),c.child)}function hj(et,c,tt,nt,rt){if(Zf(tt)){var it=!0;cg(c)}else it=!1;if(ch(c,rt),c.stateNode===null)ij(et,c),Gi(c,tt,nt),Ii(c,tt,nt,rt),nt=!0;else if(et===null){var st=c.stateNode,at=c.memoizedProps;st.props=at;var ot=st.context,lt=tt.contextType;typeof lt=="object"&&lt!==null?lt=eh(lt):(lt=Zf(tt)?Xf:H$2.current,lt=Yf(c,lt));var ct=tt.getDerivedStateFromProps,dt=typeof ct=="function"||typeof st.getSnapshotBeforeUpdate=="function";dt||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(at!==nt||ot!==lt)&&Hi(c,st,nt,lt),jh=!1;var ht=c.memoizedState;st.state=ht,qh(c,nt,st,rt),ot=c.memoizedState,at!==nt||ht!==ot||Wf.current||jh?(typeof ct=="function"&&(Di(c,tt,ct,nt),ot=c.memoizedState),(at=jh||Fi(c,tt,at,nt,ht,ot,lt))?(dt||typeof st.UNSAFE_componentWillMount!="function"&&typeof st.componentWillMount!="function"||(typeof st.componentWillMount=="function"&&st.componentWillMount(),typeof st.UNSAFE_componentWillMount=="function"&&st.UNSAFE_componentWillMount()),typeof st.componentDidMount=="function"&&(c.flags|=4194308)):(typeof st.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=nt,c.memoizedState=ot),st.props=nt,st.state=ot,st.context=lt,nt=at):(typeof st.componentDidMount=="function"&&(c.flags|=4194308),nt=!1)}else{st=c.stateNode,lh(et,c),at=c.memoizedProps,lt=c.type===c.elementType?at:Ci(c.type,at),st.props=lt,dt=c.pendingProps,ht=st.context,ot=tt.contextType,typeof ot=="object"&&ot!==null?ot=eh(ot):(ot=Zf(tt)?Xf:H$2.current,ot=Yf(c,ot));var mt=tt.getDerivedStateFromProps;(ct=typeof mt=="function"||typeof st.getSnapshotBeforeUpdate=="function")||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(at!==dt||ht!==ot)&&Hi(c,st,nt,ot),jh=!1,ht=c.memoizedState,st.state=ht,qh(c,nt,st,rt);var gt=c.memoizedState;at!==dt||ht!==gt||Wf.current||jh?(typeof mt=="function"&&(Di(c,tt,mt,nt),gt=c.memoizedState),(lt=jh||Fi(c,tt,lt,nt,ht,gt,ot)||!1)?(ct||typeof st.UNSAFE_componentWillUpdate!="function"&&typeof st.componentWillUpdate!="function"||(typeof st.componentWillUpdate=="function"&&st.componentWillUpdate(nt,gt,ot),typeof st.UNSAFE_componentWillUpdate=="function"&&st.UNSAFE_componentWillUpdate(nt,gt,ot)),typeof st.componentDidUpdate=="function"&&(c.flags|=4),typeof st.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof st.componentDidUpdate!="function"||at===et.memoizedProps&&ht===et.memoizedState||(c.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||at===et.memoizedProps&&ht===et.memoizedState||(c.flags|=1024),c.memoizedProps=nt,c.memoizedState=gt),st.props=nt,st.state=gt,st.context=ot,nt=lt):(typeof st.componentDidUpdate!="function"||at===et.memoizedProps&&ht===et.memoizedState||(c.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||at===et.memoizedProps&&ht===et.memoizedState||(c.flags|=1024),nt=!1)}return jj(et,c,tt,nt,it,rt)}function jj(et,c,tt,nt,rt,it){gj(et,c);var st=(c.flags&128)!==0;if(!nt&&!st)return rt&&dg(c,tt,!1),Zi(et,c,it);nt=c.stateNode,Wi.current=c;var at=st&&typeof tt.getDerivedStateFromError!="function"?null:nt.render();return c.flags|=1,et!==null&&st?(c.child=Ug(c,et.child,null,it),c.child=Ug(c,null,at,it)):Xi(et,c,at,it),c.memoizedState=nt.state,rt&&dg(c,tt,!0),c.child}function kj(et){var c=et.stateNode;c.pendingContext?ag(et,c.pendingContext,c.pendingContext!==c.context):c.context&&ag(et,c.context,!1),yh(et,c.containerInfo)}function lj(et,c,tt,nt,rt){return Ig(),Jg(rt),c.flags|=256,Xi(et,c,tt,nt),c.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(et){return{baseLanes:et,cachePool:null,transitions:null}}function oj(et,c,tt){var nt=c.pendingProps,rt=L$1.current,it=!1,st=(c.flags&128)!==0,at;if((at=st)||(at=et!==null&&et.memoizedState===null?!1:(rt&2)!==0),at?(it=!0,c.flags&=-129):(et===null||et.memoizedState!==null)&&(rt|=1),G(L$1,rt&1),et===null)return Eg(c),et=c.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?(c.mode&1?et.data==="$!"?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(st=nt.children,et=nt.fallback,it?(nt=c.mode,it=c.child,st={mode:"hidden",children:st},!(nt&1)&&it!==null?(it.childLanes=0,it.pendingProps=st):it=pj(st,nt,0,null),et=Tg(et,nt,tt,null),it.return=c,et.return=c,it.sibling=et,c.child=it,c.child.memoizedState=nj(tt),c.memoizedState=mj,et):qj(c,st));if(rt=et.memoizedState,rt!==null&&(at=rt.dehydrated,at!==null))return rj(et,c,st,nt,at,rt,tt);if(it){it=nt.fallback,st=c.mode,rt=et.child,at=rt.sibling;var ot={mode:"hidden",children:nt.children};return!(st&1)&&c.child!==rt?(nt=c.child,nt.childLanes=0,nt.pendingProps=ot,c.deletions=null):(nt=Pg(rt,ot),nt.subtreeFlags=rt.subtreeFlags&14680064),at!==null?it=Pg(at,it):(it=Tg(it,st,tt,null),it.flags|=2),it.return=c,nt.return=c,nt.sibling=it,c.child=nt,nt=it,it=c.child,st=et.child.memoizedState,st=st===null?nj(tt):{baseLanes:st.baseLanes|tt,cachePool:null,transitions:st.transitions},it.memoizedState=st,it.childLanes=et.childLanes&~tt,c.memoizedState=mj,nt}return it=et.child,et=it.sibling,nt=Pg(it,{mode:"visible",children:nt.children}),!(c.mode&1)&&(nt.lanes=tt),nt.return=c,nt.sibling=null,et!==null&&(tt=c.deletions,tt===null?(c.deletions=[et],c.flags|=16):tt.push(et)),c.child=nt,c.memoizedState=null,nt}function qj(et,c){return c=pj({mode:"visible",children:c},et.mode,0,null),c.return=et,et.child=c}function sj(et,c,tt,nt){return nt!==null&&Jg(nt),Ug(c,et.child,null,tt),et=qj(c,c.pendingProps.children),et.flags|=2,c.memoizedState=null,et}function rj(et,c,tt,nt,rt,it,st){if(tt)return c.flags&256?(c.flags&=-257,nt=Ki(Error(p$1(422))),sj(et,c,st,nt)):c.memoizedState!==null?(c.child=et.child,c.flags|=128,null):(it=nt.fallback,rt=c.mode,nt=pj({mode:"visible",children:nt.children},rt,0,null),it=Tg(it,rt,st,null),it.flags|=2,nt.return=c,it.return=c,nt.sibling=it,c.child=nt,c.mode&1&&Ug(c,et.child,null,st),c.child.memoizedState=nj(st),c.memoizedState=mj,it);if(!(c.mode&1))return sj(et,c,st,null);if(rt.data==="$!"){if(nt=rt.nextSibling&&rt.nextSibling.dataset,nt)var at=nt.dgst;return nt=at,it=Error(p$1(419)),nt=Ki(it,nt,void 0),sj(et,c,st,nt)}if(at=(st&et.childLanes)!==0,dh||at){if(nt=Q$1,nt!==null){switch(st&-st){case 4:rt=2;break;case 16:rt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rt=32;break;case 536870912:rt=268435456;break;default:rt=0}rt=rt&(nt.suspendedLanes|st)?0:rt,rt!==0&&rt!==it.retryLane&&(it.retryLane=rt,ih(et,rt),gi(nt,et,rt,-1))}return tj(),nt=Ki(Error(p$1(421))),sj(et,c,st,nt)}return rt.data==="$?"?(c.flags|=128,c.child=et.child,c=uj.bind(null,et),rt._reactRetry=c,null):(et=it.treeContext,yg=Lf(rt.nextSibling),xg=c,I=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=c),c=qj(c,nt.children),c.flags|=4096,c)}function vj(et,c,tt){et.lanes|=c;var nt=et.alternate;nt!==null&&(nt.lanes|=c),bh(et.return,c,tt)}function wj(et,c,tt,nt,rt){var it=et.memoizedState;it===null?et.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:nt,tail:tt,tailMode:rt}:(it.isBackwards=c,it.rendering=null,it.renderingStartTime=0,it.last=nt,it.tail=tt,it.tailMode=rt)}function xj(et,c,tt){var nt=c.pendingProps,rt=nt.revealOrder,it=nt.tail;if(Xi(et,c,nt.children,tt),nt=L$1.current,nt&2)nt=nt&1|2,c.flags|=128;else{if(et!==null&&et.flags&128)e:for(et=c.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&vj(et,tt,c);else if(et.tag===19)vj(et,tt,c);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===c)break e;for(;et.sibling===null;){if(et.return===null||et.return===c)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}nt&=1}if(G(L$1,nt),!(c.mode&1))c.memoizedState=null;else switch(rt){case"forwards":for(tt=c.child,rt=null;tt!==null;)et=tt.alternate,et!==null&&Ch(et)===null&&(rt=tt),tt=tt.sibling;tt=rt,tt===null?(rt=c.child,c.child=null):(rt=tt.sibling,tt.sibling=null),wj(c,!1,rt,tt,it);break;case"backwards":for(tt=null,rt=c.child,c.child=null;rt!==null;){if(et=rt.alternate,et!==null&&Ch(et)===null){c.child=rt;break}et=rt.sibling,rt.sibling=tt,tt=rt,rt=et}wj(c,!0,tt,null,it);break;case"together":wj(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ij(et,c){!(c.mode&1)&&et!==null&&(et.alternate=null,c.alternate=null,c.flags|=2)}function Zi(et,c,tt){if(et!==null&&(c.dependencies=et.dependencies),rh|=c.lanes,!(tt&c.childLanes))return null;if(et!==null&&c.child!==et.child)throw Error(p$1(153));if(c.child!==null){for(et=c.child,tt=Pg(et,et.pendingProps),c.child=tt,tt.return=c;et.sibling!==null;)et=et.sibling,tt=tt.sibling=Pg(et,et.pendingProps),tt.return=c;tt.sibling=null}return c.child}function yj(et,c,tt){switch(c.tag){case 3:kj(c),Ig();break;case 5:Ah(c);break;case 1:Zf(c.type)&&cg(c);break;case 4:yh(c,c.stateNode.containerInfo);break;case 10:var nt=c.type._context,rt=c.memoizedProps.value;G(Wg,nt._currentValue),nt._currentValue=rt;break;case 13:if(nt=c.memoizedState,nt!==null)return nt.dehydrated!==null?(G(L$1,L$1.current&1),c.flags|=128,null):tt&c.child.childLanes?oj(et,c,tt):(G(L$1,L$1.current&1),et=Zi(et,c,tt),et!==null?et.sibling:null);G(L$1,L$1.current&1);break;case 19:if(nt=(tt&c.childLanes)!==0,et.flags&128){if(nt)return xj(et,c,tt);c.flags|=128}if(rt=c.memoizedState,rt!==null&&(rt.rendering=null,rt.tail=null,rt.lastEffect=null),G(L$1,L$1.current),nt)break;return null;case 22:case 23:return c.lanes=0,dj(et,c,tt)}return Zi(et,c,tt)}var zj,Aj,Bj,Cj;zj=function(et,c){for(var tt=c.child;tt!==null;){if(tt.tag===5||tt.tag===6)et.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===c)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===c)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Aj=function(){};Bj=function(et,c,tt,nt){var rt=et.memoizedProps;if(rt!==nt){et=c.stateNode,xh(uh.current);var it=null;switch(tt){case"input":rt=Ya(et,rt),nt=Ya(et,nt),it=[];break;case"select":rt=A$1({},rt,{value:void 0}),nt=A$1({},nt,{value:void 0}),it=[];break;case"textarea":rt=gb(et,rt),nt=gb(et,nt),it=[];break;default:typeof rt.onClick!="function"&&typeof nt.onClick=="function"&&(et.onclick=Bf)}ub(tt,nt);var st;tt=null;for(lt in rt)if(!nt.hasOwnProperty(lt)&&rt.hasOwnProperty(lt)&&rt[lt]!=null)if(lt==="style"){var at=rt[lt];for(st in at)at.hasOwnProperty(st)&&(tt||(tt={}),tt[st]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?it||(it=[]):(it=it||[]).push(lt,null));for(lt in nt){var ot=nt[lt];if(at=rt!=null?rt[lt]:void 0,nt.hasOwnProperty(lt)&&ot!==at&&(ot!=null||at!=null))if(lt==="style")if(at){for(st in at)!at.hasOwnProperty(st)||ot&&ot.hasOwnProperty(st)||(tt||(tt={}),tt[st]="");for(st in ot)ot.hasOwnProperty(st)&&at[st]!==ot[st]&&(tt||(tt={}),tt[st]=ot[st])}else tt||(it||(it=[]),it.push(lt,tt)),tt=ot;else lt==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,at=at?at.__html:void 0,ot!=null&&at!==ot&&(it=it||[]).push(lt,ot)):lt==="children"?typeof ot!="string"&&typeof ot!="number"||(it=it||[]).push(lt,""+ot):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lt)?(ot!=null&&lt==="onScroll"&&D$1("scroll",et),it||at===ot||(it=[])):(it=it||[]).push(lt,ot))}tt&&(it=it||[]).push("style",tt);var lt=it;(c.updateQueue=lt)&&(c.flags|=4)}};Cj=function(et,c,tt,nt){tt!==nt&&(c.flags|=4)};function Dj(et,c){if(!I)switch(et.tailMode){case"hidden":c=et.tail;for(var tt=null;c!==null;)c.alternate!==null&&(tt=c),c=c.sibling;tt===null?et.tail=null:tt.sibling=null;break;case"collapsed":tt=et.tail;for(var nt=null;tt!==null;)tt.alternate!==null&&(nt=tt),tt=tt.sibling;nt===null?c||et.tail===null?et.tail=null:et.tail.sibling=null:nt.sibling=null}}function S$1(et){var c=et.alternate!==null&&et.alternate.child===et.child,tt=0,nt=0;if(c)for(var rt=et.child;rt!==null;)tt|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags&14680064,nt|=rt.flags&14680064,rt.return=et,rt=rt.sibling;else for(rt=et.child;rt!==null;)tt|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags,nt|=rt.flags,rt.return=et,rt=rt.sibling;return et.subtreeFlags|=nt,et.childLanes=tt,c}function Ej(et,c,tt){var nt=c.pendingProps;switch(wg(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(c),null;case 1:return Zf(c.type)&&$f(),S$1(c),null;case 3:return nt=c.stateNode,zh(),E$2(Wf),E$2(H$2),Eh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(et===null||et.child===null)&&(Gg(c)?c.flags|=4:et===null||et.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(et,c),S$1(c),null;case 5:Bh(c);var rt=xh(wh.current);if(tt=c.type,et!==null&&c.stateNode!=null)Bj(et,c,tt,nt,rt),et.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!nt){if(c.stateNode===null)throw Error(p$1(166));return S$1(c),null}if(et=xh(uh.current),Gg(c)){nt=c.stateNode,tt=c.type;var it=c.memoizedProps;switch(nt[Of]=c,nt[Pf]=it,et=(c.mode&1)!==0,tt){case"dialog":D$1("cancel",nt),D$1("close",nt);break;case"iframe":case"object":case"embed":D$1("load",nt);break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$1(lf[rt],nt);break;case"source":D$1("error",nt);break;case"img":case"image":case"link":D$1("error",nt),D$1("load",nt);break;case"details":D$1("toggle",nt);break;case"input":Za(nt,it),D$1("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!it.multiple},D$1("invalid",nt);break;case"textarea":hb(nt,it),D$1("invalid",nt)}ub(tt,it),rt=null;for(var st in it)if(it.hasOwnProperty(st)){var at=it[st];st==="children"?typeof at=="string"?nt.textContent!==at&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,at,et),rt=["children",at]):typeof at=="number"&&nt.textContent!==""+at&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,at,et),rt=["children",""+at]):ea.hasOwnProperty(st)&&at!=null&&st==="onScroll"&&D$1("scroll",nt)}switch(tt){case"input":Va(nt),db(nt,it,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(nt.onclick=Bf)}nt=rt,c.updateQueue=nt,nt!==null&&(c.flags|=4)}else{st=rt.nodeType===9?rt:rt.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(tt)),et==="http://www.w3.org/1999/xhtml"?tt==="script"?(et=st.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof nt.is=="string"?et=st.createElement(tt,{is:nt.is}):(et=st.createElement(tt),tt==="select"&&(st=et,nt.multiple?st.multiple=!0:nt.size&&(st.size=nt.size))):et=st.createElementNS(et,tt),et[Of]=c,et[Pf]=nt,zj(et,c,!1,!1),c.stateNode=et;e:{switch(st=vb(tt,nt),tt){case"dialog":D$1("cancel",et),D$1("close",et),rt=nt;break;case"iframe":case"object":case"embed":D$1("load",et),rt=nt;break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$1(lf[rt],et);rt=nt;break;case"source":D$1("error",et),rt=nt;break;case"img":case"image":case"link":D$1("error",et),D$1("load",et),rt=nt;break;case"details":D$1("toggle",et),rt=nt;break;case"input":Za(et,nt),rt=Ya(et,nt),D$1("invalid",et);break;case"option":rt=nt;break;case"select":et._wrapperState={wasMultiple:!!nt.multiple},rt=A$1({},nt,{value:void 0}),D$1("invalid",et);break;case"textarea":hb(et,nt),rt=gb(et,nt),D$1("invalid",et);break;default:rt=nt}ub(tt,rt),at=rt;for(it in at)if(at.hasOwnProperty(it)){var ot=at[it];it==="style"?sb(et,ot):it==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb(et,ot)):it==="children"?typeof ot=="string"?(tt!=="textarea"||ot!=="")&&ob(et,ot):typeof ot=="number"&&ob(et,""+ot):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?ot!=null&&it==="onScroll"&&D$1("scroll",et):ot!=null&&ta(et,it,ot,st))}switch(tt){case"input":Va(et),db(et,nt,!1);break;case"textarea":Va(et),jb(et);break;case"option":nt.value!=null&&et.setAttribute("value",""+Sa(nt.value));break;case"select":et.multiple=!!nt.multiple,it=nt.value,it!=null?fb(et,!!nt.multiple,it,!1):nt.defaultValue!=null&&fb(et,!!nt.multiple,nt.defaultValue,!0);break;default:typeof rt.onClick=="function"&&(et.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return S$1(c),null;case 6:if(et&&c.stateNode!=null)Cj(et,c,et.memoizedProps,nt);else{if(typeof nt!="string"&&c.stateNode===null)throw Error(p$1(166));if(tt=xh(wh.current),xh(uh.current),Gg(c)){if(nt=c.stateNode,tt=c.memoizedProps,nt[Of]=c,(it=nt.nodeValue!==tt)&&(et=xg,et!==null))switch(et.tag){case 3:Af(nt.nodeValue,tt,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,tt,(et.mode&1)!==0)}it&&(c.flags|=4)}else nt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(nt),nt[Of]=c,c.stateNode=nt}return S$1(c),null;case 13:if(E$2(L$1),nt=c.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I&&yg!==null&&c.mode&1&&!(c.flags&128))Hg(),Ig(),c.flags|=98560,it=!1;else if(it=Gg(c),nt!==null&&nt.dehydrated!==null){if(et===null){if(!it)throw Error(p$1(318));if(it=c.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$1(317));it[Of]=c}else Ig(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;S$1(c),it=!1}else zg!==null&&(Fj(zg),zg=null),it=!0;if(!it)return c.flags&65536?c:null}return c.flags&128?(c.lanes=tt,c):(nt=nt!==null,nt!==(et!==null&&et.memoizedState!==null)&&nt&&(c.child.flags|=8192,c.mode&1&&(et===null||L$1.current&1?T$1===0&&(T$1=3):tj())),c.updateQueue!==null&&(c.flags|=4),S$1(c),null);case 4:return zh(),Aj(et,c),et===null&&sf(c.stateNode.containerInfo),S$1(c),null;case 10:return ah(c.type._context),S$1(c),null;case 17:return Zf(c.type)&&$f(),S$1(c),null;case 19:if(E$2(L$1),it=c.memoizedState,it===null)return S$1(c),null;if(nt=(c.flags&128)!==0,st=it.rendering,st===null)if(nt)Dj(it,!1);else{if(T$1!==0||et!==null&&et.flags&128)for(et=c.child;et!==null;){if(st=Ch(et),st!==null){for(c.flags|=128,Dj(it,!1),nt=st.updateQueue,nt!==null&&(c.updateQueue=nt,c.flags|=4),c.subtreeFlags=0,nt=tt,tt=c.child;tt!==null;)it=tt,et=nt,it.flags&=14680066,st=it.alternate,st===null?(it.childLanes=0,it.lanes=et,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=st.childLanes,it.lanes=st.lanes,it.child=st.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=st.memoizedProps,it.memoizedState=st.memoizedState,it.updateQueue=st.updateQueue,it.type=st.type,et=st.dependencies,it.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),tt=tt.sibling;return G(L$1,L$1.current&1|2),c.child}et=et.sibling}it.tail!==null&&B()>Gj&&(c.flags|=128,nt=!0,Dj(it,!1),c.lanes=4194304)}else{if(!nt)if(et=Ch(st),et!==null){if(c.flags|=128,nt=!0,tt=et.updateQueue,tt!==null&&(c.updateQueue=tt,c.flags|=4),Dj(it,!0),it.tail===null&&it.tailMode==="hidden"&&!st.alternate&&!I)return S$1(c),null}else 2*B()-it.renderingStartTime>Gj&&tt!==1073741824&&(c.flags|=128,nt=!0,Dj(it,!1),c.lanes=4194304);it.isBackwards?(st.sibling=c.child,c.child=st):(tt=it.last,tt!==null?tt.sibling=st:c.child=st,it.last=st)}return it.tail!==null?(c=it.tail,it.rendering=c,it.tail=c.sibling,it.renderingStartTime=B(),c.sibling=null,tt=L$1.current,G(L$1,nt?tt&1|2:tt&1),c):(S$1(c),null);case 22:case 23:return Hj(),nt=c.memoizedState!==null,et!==null&&et.memoizedState!==null!==nt&&(c.flags|=8192),nt&&c.mode&1?fj&1073741824&&(S$1(c),c.subtreeFlags&6&&(c.flags|=8192)):S$1(c),null;case 24:return null;case 25:return null}throw Error(p$1(156,c.tag))}function Ij(et,c){switch(wg(c),c.tag){case 1:return Zf(c.type)&&$f(),et=c.flags,et&65536?(c.flags=et&-65537|128,c):null;case 3:return zh(),E$2(Wf),E$2(H$2),Eh(),et=c.flags,et&65536&&!(et&128)?(c.flags=et&-65537|128,c):null;case 5:return Bh(c),null;case 13:if(E$2(L$1),et=c.memoizedState,et!==null&&et.dehydrated!==null){if(c.alternate===null)throw Error(p$1(340));Ig()}return et=c.flags,et&65536?(c.flags=et&-65537|128,c):null;case 19:return E$2(L$1),null;case 4:return zh(),null;case 10:return ah(c.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(et,c){var tt=et.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(nt){W$1(et,c,nt)}else tt.current=null}function Mj(et,c,tt){try{tt()}catch(nt){W$1(et,c,nt)}}var Nj=!1;function Oj(et,c){if(Cf=dd,et=Me$1(),Ne$1(et)){if("selectionStart"in et)var tt={start:et.selectionStart,end:et.selectionEnd};else e:{tt=(tt=et.ownerDocument)&&tt.defaultView||window;var nt=tt.getSelection&&tt.getSelection();if(nt&&nt.rangeCount!==0){tt=nt.anchorNode;var rt=nt.anchorOffset,it=nt.focusNode;nt=nt.focusOffset;try{tt.nodeType,it.nodeType}catch{tt=null;break e}var st=0,at=-1,ot=-1,lt=0,ct=0,dt=et,ht=null;t:for(;;){for(var mt;dt!==tt||rt!==0&&dt.nodeType!==3||(at=st+rt),dt!==it||nt!==0&&dt.nodeType!==3||(ot=st+nt),dt.nodeType===3&&(st+=dt.nodeValue.length),(mt=dt.firstChild)!==null;)ht=dt,dt=mt;for(;;){if(dt===et)break t;if(ht===tt&&++lt===rt&&(at=st),ht===it&&++ct===nt&&(ot=st),(mt=dt.nextSibling)!==null)break;dt=ht,ht=dt.parentNode}dt=mt}tt=at===-1||ot===-1?null:{start:at,end:ot}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:et,selectionRange:tt},dd=!1,V$1=c;V$1!==null;)if(c=V$1,et=c.child,(c.subtreeFlags&1028)!==0&&et!==null)et.return=c,V$1=et;else for(;V$1!==null;){c=V$1;try{var gt=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(gt!==null){var yt=gt.memoizedProps,_t=gt.memoizedState,pt=c.stateNode,xt=pt.getSnapshotBeforeUpdate(c.elementType===c.type?yt:Ci(c.type,yt),_t);pt.__reactInternalSnapshotBeforeUpdate=xt}break;case 3:var vt=c.stateNode.containerInfo;vt.nodeType===1?vt.textContent="":vt.nodeType===9&&vt.documentElement&&vt.removeChild(vt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(St){W$1(c,c.return,St)}if(et=c.sibling,et!==null){et.return=c.return,V$1=et;break}V$1=c.return}return gt=Nj,Nj=!1,gt}function Pj(et,c,tt){var nt=c.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var rt=nt=nt.next;do{if((rt.tag&et)===et){var it=rt.destroy;rt.destroy=void 0,it!==void 0&&Mj(c,tt,it)}rt=rt.next}while(rt!==nt)}}function Qj(et,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var tt=c=c.next;do{if((tt.tag&et)===et){var nt=tt.create;tt.destroy=nt()}tt=tt.next}while(tt!==c)}}function Rj(et){var c=et.ref;if(c!==null){var tt=et.stateNode;switch(et.tag){case 5:et=tt;break;default:et=tt}typeof c=="function"?c(et):c.current=et}}function Sj(et){var c=et.alternate;c!==null&&(et.alternate=null,Sj(c)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&(c=et.stateNode,c!==null&&(delete c[Of],delete c[Pf],delete c[of],delete c[Qf],delete c[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Tj(et){return et.tag===5||et.tag===3||et.tag===4}function Uj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Tj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Vj(et,c,tt){var nt=et.tag;if(nt===5||nt===6)et=et.stateNode,c?tt.nodeType===8?tt.parentNode.insertBefore(et,c):tt.insertBefore(et,c):(tt.nodeType===8?(c=tt.parentNode,c.insertBefore(et,tt)):(c=tt,c.appendChild(et)),tt=tt._reactRootContainer,tt!=null||c.onclick!==null||(c.onclick=Bf));else if(nt!==4&&(et=et.child,et!==null))for(Vj(et,c,tt),et=et.sibling;et!==null;)Vj(et,c,tt),et=et.sibling}function Wj(et,c,tt){var nt=et.tag;if(nt===5||nt===6)et=et.stateNode,c?tt.insertBefore(et,c):tt.appendChild(et);else if(nt!==4&&(et=et.child,et!==null))for(Wj(et,c,tt),et=et.sibling;et!==null;)Wj(et,c,tt),et=et.sibling}var X$2=null,Xj=!1;function Yj(et,c,tt){for(tt=tt.child;tt!==null;)Zj(et,c,tt),tt=tt.sibling}function Zj(et,c,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U$1||Lj(tt,c);case 6:var nt=X$2,rt=Xj;X$2=null,Yj(et,c,tt),X$2=nt,Xj=rt,X$2!==null&&(Xj?(et=X$2,tt=tt.stateNode,et.nodeType===8?et.parentNode.removeChild(tt):et.removeChild(tt)):X$2.removeChild(tt.stateNode));break;case 18:X$2!==null&&(Xj?(et=X$2,tt=tt.stateNode,et.nodeType===8?Kf(et.parentNode,tt):et.nodeType===1&&Kf(et,tt),bd(et)):Kf(X$2,tt.stateNode));break;case 4:nt=X$2,rt=Xj,X$2=tt.stateNode.containerInfo,Xj=!0,Yj(et,c,tt),X$2=nt,Xj=rt;break;case 0:case 11:case 14:case 15:if(!U$1&&(nt=tt.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){rt=nt=nt.next;do{var it=rt,st=it.destroy;it=it.tag,st!==void 0&&(it&2||it&4)&&Mj(tt,c,st),rt=rt.next}while(rt!==nt)}Yj(et,c,tt);break;case 1:if(!U$1&&(Lj(tt,c),nt=tt.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=tt.memoizedProps,nt.state=tt.memoizedState,nt.componentWillUnmount()}catch(at){W$1(tt,c,at)}Yj(et,c,tt);break;case 21:Yj(et,c,tt);break;case 22:tt.mode&1?(U$1=(nt=U$1)||tt.memoizedState!==null,Yj(et,c,tt),U$1=nt):Yj(et,c,tt);break;default:Yj(et,c,tt)}}function ak(et){var c=et.updateQueue;if(c!==null){et.updateQueue=null;var tt=et.stateNode;tt===null&&(tt=et.stateNode=new Kj),c.forEach(function(nt){var rt=bk.bind(null,et,nt);tt.has(nt)||(tt.add(nt),nt.then(rt,rt))})}}function ck(et,c){var tt=c.deletions;if(tt!==null)for(var nt=0;nt<tt.length;nt++){var rt=tt[nt];try{var it=et,st=c,at=st;e:for(;at!==null;){switch(at.tag){case 5:X$2=at.stateNode,Xj=!1;break e;case 3:X$2=at.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=at.stateNode.containerInfo,Xj=!0;break e}at=at.return}if(X$2===null)throw Error(p$1(160));Zj(it,st,rt),X$2=null,Xj=!1;var ot=rt.alternate;ot!==null&&(ot.return=null),rt.return=null}catch(lt){W$1(rt,c,lt)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)dk(c,et),c=c.sibling}function dk(et,c){var tt=et.alternate,nt=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(ck(c,et),ek(et),nt&4){try{Pj(3,et,et.return),Qj(3,et)}catch(yt){W$1(et,et.return,yt)}try{Pj(5,et,et.return)}catch(yt){W$1(et,et.return,yt)}}break;case 1:ck(c,et),ek(et),nt&512&&tt!==null&&Lj(tt,tt.return);break;case 5:if(ck(c,et),ek(et),nt&512&&tt!==null&&Lj(tt,tt.return),et.flags&32){var rt=et.stateNode;try{ob(rt,"")}catch(yt){W$1(et,et.return,yt)}}if(nt&4&&(rt=et.stateNode,rt!=null)){var it=et.memoizedProps,st=tt!==null?tt.memoizedProps:it,at=et.type,ot=et.updateQueue;if(et.updateQueue=null,ot!==null)try{at==="input"&&it.type==="radio"&&it.name!=null&&ab(rt,it),vb(at,st);var lt=vb(at,it);for(st=0;st<ot.length;st+=2){var ct=ot[st],dt=ot[st+1];ct==="style"?sb(rt,dt):ct==="dangerouslySetInnerHTML"?nb(rt,dt):ct==="children"?ob(rt,dt):ta(rt,ct,dt,lt)}switch(at){case"input":bb(rt,it);break;case"textarea":ib(rt,it);break;case"select":var ht=rt._wrapperState.wasMultiple;rt._wrapperState.wasMultiple=!!it.multiple;var mt=it.value;mt!=null?fb(rt,!!it.multiple,mt,!1):ht!==!!it.multiple&&(it.defaultValue!=null?fb(rt,!!it.multiple,it.defaultValue,!0):fb(rt,!!it.multiple,it.multiple?[]:"",!1))}rt[Pf]=it}catch(yt){W$1(et,et.return,yt)}}break;case 6:if(ck(c,et),ek(et),nt&4){if(et.stateNode===null)throw Error(p$1(162));rt=et.stateNode,it=et.memoizedProps;try{rt.nodeValue=it}catch(yt){W$1(et,et.return,yt)}}break;case 3:if(ck(c,et),ek(et),nt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(c.containerInfo)}catch(yt){W$1(et,et.return,yt)}break;case 4:ck(c,et),ek(et);break;case 13:ck(c,et),ek(et),rt=et.child,rt.flags&8192&&(it=rt.memoizedState!==null,rt.stateNode.isHidden=it,!it||rt.alternate!==null&&rt.alternate.memoizedState!==null||(fk=B())),nt&4&&ak(et);break;case 22:if(ct=tt!==null&&tt.memoizedState!==null,et.mode&1?(U$1=(lt=U$1)||ct,ck(c,et),U$1=lt):ck(c,et),ek(et),nt&8192){if(lt=et.memoizedState!==null,(et.stateNode.isHidden=lt)&&!ct&&et.mode&1)for(V$1=et,ct=et.child;ct!==null;){for(dt=V$1=ct;V$1!==null;){switch(ht=V$1,mt=ht.child,ht.tag){case 0:case 11:case 14:case 15:Pj(4,ht,ht.return);break;case 1:Lj(ht,ht.return);var gt=ht.stateNode;if(typeof gt.componentWillUnmount=="function"){nt=ht,tt=ht.return;try{c=nt,gt.props=c.memoizedProps,gt.state=c.memoizedState,gt.componentWillUnmount()}catch(yt){W$1(nt,tt,yt)}}break;case 5:Lj(ht,ht.return);break;case 22:if(ht.memoizedState!==null){gk(dt);continue}}mt!==null?(mt.return=ht,V$1=mt):gk(dt)}ct=ct.sibling}e:for(ct=null,dt=et;;){if(dt.tag===5){if(ct===null){ct=dt;try{rt=dt.stateNode,lt?(it=rt.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(at=dt.stateNode,ot=dt.memoizedProps.style,st=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,at.style.display=rb("display",st))}catch(yt){W$1(et,et.return,yt)}}}else if(dt.tag===6){if(ct===null)try{dt.stateNode.nodeValue=lt?"":dt.memoizedProps}catch(yt){W$1(et,et.return,yt)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===et)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===et)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===et)break e;ct===dt&&(ct=null),dt=dt.return}ct===dt&&(ct=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:ck(c,et),ek(et),nt&4&&ak(et);break;case 21:break;default:ck(c,et),ek(et)}}function ek(et){var c=et.flags;if(c&2){try{e:{for(var tt=et.return;tt!==null;){if(Tj(tt)){var nt=tt;break e}tt=tt.return}throw Error(p$1(160))}switch(nt.tag){case 5:var rt=nt.stateNode;nt.flags&32&&(ob(rt,""),nt.flags&=-33);var it=Uj(et);Wj(et,it,rt);break;case 3:case 4:var st=nt.stateNode.containerInfo,at=Uj(et);Vj(et,at,st);break;default:throw Error(p$1(161))}}catch(ot){W$1(et,et.return,ot)}et.flags&=-3}c&4096&&(et.flags&=-4097)}function hk(et,c,tt){V$1=et,ik(et)}function ik(et,c,tt){for(var nt=(et.mode&1)!==0;V$1!==null;){var rt=V$1,it=rt.child;if(rt.tag===22&&nt){var st=rt.memoizedState!==null||Jj;if(!st){var at=rt.alternate,ot=at!==null&&at.memoizedState!==null||U$1;at=Jj;var lt=U$1;if(Jj=st,(U$1=ot)&&!lt)for(V$1=rt;V$1!==null;)st=V$1,ot=st.child,st.tag===22&&st.memoizedState!==null?jk(rt):ot!==null?(ot.return=st,V$1=ot):jk(rt);for(;it!==null;)V$1=it,ik(it),it=it.sibling;V$1=rt,Jj=at,U$1=lt}kk(et)}else rt.subtreeFlags&8772&&it!==null?(it.return=rt,V$1=it):kk(et)}}function kk(et){for(;V$1!==null;){var c=V$1;if(c.flags&8772){var tt=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:U$1||Qj(5,c);break;case 1:var nt=c.stateNode;if(c.flags&4&&!U$1)if(tt===null)nt.componentDidMount();else{var rt=c.elementType===c.type?tt.memoizedProps:Ci(c.type,tt.memoizedProps);nt.componentDidUpdate(rt,tt.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var it=c.updateQueue;it!==null&&sh(c,it,nt);break;case 3:var st=c.updateQueue;if(st!==null){if(tt=null,c.child!==null)switch(c.child.tag){case 5:tt=c.child.stateNode;break;case 1:tt=c.child.stateNode}sh(c,st,tt)}break;case 5:var at=c.stateNode;if(tt===null&&c.flags&4){tt=at;var ot=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&tt.focus();break;case"img":ot.src&&(tt.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var lt=c.alternate;if(lt!==null){var ct=lt.memoizedState;if(ct!==null){var dt=ct.dehydrated;dt!==null&&bd(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$1||c.flags&512&&Rj(c)}catch(ht){W$1(c,c.return,ht)}}if(c===et){V$1=null;break}if(tt=c.sibling,tt!==null){tt.return=c.return,V$1=tt;break}V$1=c.return}}function gk(et){for(;V$1!==null;){var c=V$1;if(c===et){V$1=null;break}var tt=c.sibling;if(tt!==null){tt.return=c.return,V$1=tt;break}V$1=c.return}}function jk(et){for(;V$1!==null;){var c=V$1;try{switch(c.tag){case 0:case 11:case 15:var tt=c.return;try{Qj(4,c)}catch(ot){W$1(c,tt,ot)}break;case 1:var nt=c.stateNode;if(typeof nt.componentDidMount=="function"){var rt=c.return;try{nt.componentDidMount()}catch(ot){W$1(c,rt,ot)}}var it=c.return;try{Rj(c)}catch(ot){W$1(c,it,ot)}break;case 5:var st=c.return;try{Rj(c)}catch(ot){W$1(c,st,ot)}}}catch(ot){W$1(c,c.return,ot)}if(c===et){V$1=null;break}var at=c.sibling;if(at!==null){at.return=c.return,V$1=at;break}V$1=c.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K$1&6?B():Ak!==-1?Ak:Ak=B()}function yi(et){return et.mode&1?K$1&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(et=C$3,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et):1}function gi(et,c,tt,nt){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(et,tt,nt),(!(K$1&2)||et!==Q$1)&&(et===Q$1&&(!(K$1&2)&&(qk|=tt),T$1===4&&Ck(et,Z)),Dk(et,nt),tt===1&&K$1===0&&!(c.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(et,c){var tt=et.callbackNode;wc(et,c);var nt=uc(et,et===Q$1?Z:0);if(nt===0)tt!==null&&bc(tt),et.callbackNode=null,et.callbackPriority=0;else if(c=nt&-nt,et.callbackPriority!==c){if(tt!=null&&bc(tt),c===1)et.tag===0?ig(Ek.bind(null,et)):hg(Ek.bind(null,et)),Jf(function(){!(K$1&6)&&jg()}),tt=null;else{switch(Dc(nt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Fk(tt,Gk.bind(null,et))}et.callbackPriority=c,et.callbackNode=tt}}function Gk(et,c){if(Ak=-1,Bk=0,K$1&6)throw Error(p$1(327));var tt=et.callbackNode;if(Hk()&&et.callbackNode!==tt)return null;var nt=uc(et,et===Q$1?Z:0);if(nt===0)return null;if(nt&30||nt&et.expiredLanes||c)c=Ik(et,nt);else{c=nt;var rt=K$1;K$1|=2;var it=Jk();(Q$1!==et||Z!==c)&&(uk=null,Gj=B()+500,Kk(et,c));do try{Lk();break}catch(at){Mk(et,at)}while(!0);$g(),mk.current=it,K$1=rt,Y$1!==null?c=0:(Q$1=null,Z=0,c=T$1)}if(c!==0){if(c===2&&(rt=xc(et),rt!==0&&(nt=rt,c=Nk(et,rt))),c===1)throw tt=pk,Kk(et,0),Ck(et,nt),Dk(et,B()),tt;if(c===6)Ck(et,nt);else{if(rt=et.current.alternate,!(nt&30)&&!Ok(rt)&&(c=Ik(et,nt),c===2&&(it=xc(et),it!==0&&(nt=it,c=Nk(et,it))),c===1))throw tt=pk,Kk(et,0),Ck(et,nt),Dk(et,B()),tt;switch(et.finishedWork=rt,et.finishedLanes=nt,c){case 0:case 1:throw Error(p$1(345));case 2:Pk(et,tk,uk);break;case 3:if(Ck(et,nt),(nt&130023424)===nt&&(c=fk+500-B(),10<c)){if(uc(et,0)!==0)break;if(rt=et.suspendedLanes,(rt&nt)!==nt){R(),et.pingedLanes|=et.suspendedLanes&rt;break}et.timeoutHandle=Ff(Pk.bind(null,et,tk,uk),c);break}Pk(et,tk,uk);break;case 4:if(Ck(et,nt),(nt&4194240)===nt)break;for(c=et.eventTimes,rt=-1;0<nt;){var st=31-oc(nt);it=1<<st,st=c[st],st>rt&&(rt=st),nt&=~it}if(nt=rt,nt=B()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*lk(nt/1960))-nt,10<nt){et.timeoutHandle=Ff(Pk.bind(null,et,tk,uk),nt);break}Pk(et,tk,uk);break;case 5:Pk(et,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(et,B()),et.callbackNode===tt?Gk.bind(null,et):null}function Nk(et,c){var tt=sk;return et.current.memoizedState.isDehydrated&&(Kk(et,c).flags|=256),et=Ik(et,c),et!==2&&(c=tk,tk=tt,c!==null&&Fj(c)),et}function Fj(et){tk===null?tk=et:tk.push.apply(tk,et)}function Ok(et){for(var c=et;;){if(c.flags&16384){var tt=c.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var nt=0;nt<tt.length;nt++){var rt=tt[nt],it=rt.getSnapshot;rt=rt.value;try{if(!He$1(it(),rt))return!1}catch{return!1}}}if(tt=c.child,c.subtreeFlags&16384&&tt!==null)tt.return=c,c=tt;else{if(c===et)break;for(;c.sibling===null;){if(c.return===null||c.return===et)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ck(et,c){for(c&=~rk,c&=~qk,et.suspendedLanes|=c,et.pingedLanes&=~c,et=et.expirationTimes;0<c;){var tt=31-oc(c),nt=1<<tt;et[tt]=-1,c&=~nt}}function Ek(et){if(K$1&6)throw Error(p$1(327));Hk();var c=uc(et,0);if(!(c&1))return Dk(et,B()),null;var tt=Ik(et,c);if(et.tag!==0&&tt===2){var nt=xc(et);nt!==0&&(c=nt,tt=Nk(et,nt))}if(tt===1)throw tt=pk,Kk(et,0),Ck(et,c),Dk(et,B()),tt;if(tt===6)throw Error(p$1(345));return et.finishedWork=et.current.alternate,et.finishedLanes=c,Pk(et,tk,uk),Dk(et,B()),null}function Qk(et,c){var tt=K$1;K$1|=1;try{return et(c)}finally{K$1=tt,K$1===0&&(Gj=B()+500,fg&&jg())}}function Rk(et){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var c=K$1;K$1|=1;var tt=ok.transition,nt=C$3;try{if(ok.transition=null,C$3=1,et)return et()}finally{C$3=nt,ok.transition=tt,K$1=c,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(et,c){et.finishedWork=null,et.finishedLanes=0;var tt=et.timeoutHandle;if(tt!==-1&&(et.timeoutHandle=-1,Gf(tt)),Y$1!==null)for(tt=Y$1.return;tt!==null;){var nt=tt;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:zh(),E$2(Wf),E$2(H$2),Eh();break;case 5:Bh(nt);break;case 4:zh();break;case 13:E$2(L$1);break;case 19:E$2(L$1);break;case 10:ah(nt.type._context);break;case 22:case 23:Hj()}tt=tt.return}if(Q$1=et,Y$1=et=Pg(et.current,null),Z=fj=c,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(c=0;c<fh.length;c++)if(tt=fh[c],nt=tt.interleaved,nt!==null){tt.interleaved=null;var rt=nt.next,it=tt.pending;if(it!==null){var st=it.next;it.next=rt,nt.next=st}tt.pending=nt}fh=null}return et}function Mk(et,c){do{var tt=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var nt=M.memoizedState;nt!==null;){var rt=nt.queue;rt!==null&&(rt.pending=null),nt=nt.next}Ih=!1}if(Hh=0,O$2=N=M=null,Jh=!1,Kh=0,nk.current=null,tt===null||tt.return===null){T$1=1,pk=c,Y$1=null;break}e:{var it=et,st=tt.return,at=tt,ot=c;if(c=Z,at.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var lt=ot,ct=at,dt=ct.tag;if(!(ct.mode&1)&&(dt===0||dt===11||dt===15)){var ht=ct.alternate;ht?(ct.updateQueue=ht.updateQueue,ct.memoizedState=ht.memoizedState,ct.lanes=ht.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var mt=Ui(st);if(mt!==null){mt.flags&=-257,Vi(mt,st,at,it,c),mt.mode&1&&Si(it,lt,c),c=mt,ot=lt;var gt=c.updateQueue;if(gt===null){var yt=new Set;yt.add(ot),c.updateQueue=yt}else gt.add(ot);break e}else{if(!(c&1)){Si(it,lt,c),tj();break e}ot=Error(p$1(426))}}else if(I&&at.mode&1){var _t=Ui(st);if(_t!==null){!(_t.flags&65536)&&(_t.flags|=256),Vi(_t,st,at,it,c),Jg(Ji(ot,at));break e}}it=ot=Ji(ot,at),T$1!==4&&(T$1=2),sk===null?sk=[it]:sk.push(it),it=st;do{switch(it.tag){case 3:it.flags|=65536,c&=-c,it.lanes|=c;var pt=Ni(it,ot,c);ph(it,pt);break e;case 1:at=ot;var xt=it.type,vt=it.stateNode;if(!(it.flags&128)&&(typeof xt.getDerivedStateFromError=="function"||vt!==null&&typeof vt.componentDidCatch=="function"&&(Ri===null||!Ri.has(vt)))){it.flags|=65536,c&=-c,it.lanes|=c;var St=Qi(it,at,c);ph(it,St);break e}}it=it.return}while(it!==null)}Sk(tt)}catch(wt){c=wt,Y$1===tt&&tt!==null&&(Y$1=tt=tt.return);continue}break}while(!0)}function Jk(){var et=mk.current;return mk.current=Rh,et===null?Rh:et}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z)}function Ik(et,c){var tt=K$1;K$1|=2;var nt=Jk();(Q$1!==et||Z!==c)&&(uk=null,Kk(et,c));do try{Tk();break}catch(rt){Mk(et,rt)}while(!0);if($g(),K$1=tt,mk.current=nt,Y$1!==null)throw Error(p$1(261));return Q$1=null,Z=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(et){var c=Vk(et.alternate,et,fj);et.memoizedProps=et.pendingProps,c===null?Sk(et):Y$1=c,nk.current=null}function Sk(et){var c=et;do{var tt=c.alternate;if(et=c.return,c.flags&32768){if(tt=Ij(tt,c),tt!==null){tt.flags&=32767,Y$1=tt;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$1=6,Y$1=null;return}}else if(tt=Ej(tt,c,fj),tt!==null){Y$1=tt;return}if(c=c.sibling,c!==null){Y$1=c;return}Y$1=c=et}while(c!==null);T$1===0&&(T$1=5)}function Pk(et,c,tt){var nt=C$3,rt=ok.transition;try{ok.transition=null,C$3=1,Wk(et,c,tt,nt)}finally{ok.transition=rt,C$3=nt}return null}function Wk(et,c,tt,nt){do Hk();while(wk!==null);if(K$1&6)throw Error(p$1(327));tt=et.finishedWork;var rt=et.finishedLanes;if(tt===null)return null;if(et.finishedWork=null,et.finishedLanes=0,tt===et.current)throw Error(p$1(177));et.callbackNode=null,et.callbackPriority=0;var it=tt.lanes|tt.childLanes;if(Bc(et,it),et===Q$1&&(Y$1=Q$1=null,Z=0),!(tt.subtreeFlags&2064)&&!(tt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),it=(tt.flags&15990)!==0,tt.subtreeFlags&15990||it){it=ok.transition,ok.transition=null;var st=C$3;C$3=1;var at=K$1;K$1|=4,nk.current=null,Oj(et,tt),dk(tt,et),Oe$1(Df),dd=!!Cf,Df=Cf=null,et.current=tt,hk(tt),dc(),K$1=at,C$3=st,ok.transition=it}else et.current=tt;if(vk&&(vk=!1,wk=et,xk=rt),it=et.pendingLanes,it===0&&(Ri=null),mc(tt.stateNode),Dk(et,B()),c!==null)for(nt=et.onRecoverableError,tt=0;tt<c.length;tt++)rt=c[tt],nt(rt.value,{componentStack:rt.stack,digest:rt.digest});if(Oi)throw Oi=!1,et=Pi,Pi=null,et;return xk&1&&et.tag!==0&&Hk(),it=et.pendingLanes,it&1?et===zk?yk++:(yk=0,zk=et):yk=0,jg(),null}function Hk(){if(wk!==null){var et=Dc(xk),c=ok.transition,tt=C$3;try{if(ok.transition=null,C$3=16>et?16:et,wk===null)var nt=!1;else{if(et=wk,wk=null,xk=0,K$1&6)throw Error(p$1(331));var rt=K$1;for(K$1|=4,V$1=et.current;V$1!==null;){var it=V$1,st=it.child;if(V$1.flags&16){var at=it.deletions;if(at!==null){for(var ot=0;ot<at.length;ot++){var lt=at[ot];for(V$1=lt;V$1!==null;){var ct=V$1;switch(ct.tag){case 0:case 11:case 15:Pj(8,ct,it)}var dt=ct.child;if(dt!==null)dt.return=ct,V$1=dt;else for(;V$1!==null;){ct=V$1;var ht=ct.sibling,mt=ct.return;if(Sj(ct),ct===lt){V$1=null;break}if(ht!==null){ht.return=mt,V$1=ht;break}V$1=mt}}}var gt=it.alternate;if(gt!==null){var yt=gt.child;if(yt!==null){gt.child=null;do{var _t=yt.sibling;yt.sibling=null,yt=_t}while(yt!==null)}}V$1=it}}if(it.subtreeFlags&2064&&st!==null)st.return=it,V$1=st;else e:for(;V$1!==null;){if(it=V$1,it.flags&2048)switch(it.tag){case 0:case 11:case 15:Pj(9,it,it.return)}var pt=it.sibling;if(pt!==null){pt.return=it.return,V$1=pt;break e}V$1=it.return}}var xt=et.current;for(V$1=xt;V$1!==null;){st=V$1;var vt=st.child;if(st.subtreeFlags&2064&&vt!==null)vt.return=st,V$1=vt;else e:for(st=xt;V$1!==null;){if(at=V$1,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Qj(9,at)}}catch(wt){W$1(at,at.return,wt)}if(at===st){V$1=null;break e}var St=at.sibling;if(St!==null){St.return=at.return,V$1=St;break e}V$1=at.return}}if(K$1=rt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}nt=!0}return nt}finally{C$3=tt,ok.transition=c}}return!1}function Xk(et,c,tt){c=Ji(tt,c),c=Ni(et,c,1),et=nh(et,c,1),c=R(),et!==null&&(Ac(et,1,c),Dk(et,c))}function W$1(et,c,tt){if(et.tag===3)Xk(et,et,tt);else for(;c!==null;){if(c.tag===3){Xk(c,et,tt);break}else if(c.tag===1){var nt=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Ri===null||!Ri.has(nt))){et=Ji(tt,et),et=Qi(c,et,1),c=nh(c,et,1),et=R(),c!==null&&(Ac(c,1,et),Dk(c,et));break}}c=c.return}}function Ti(et,c,tt){var nt=et.pingCache;nt!==null&&nt.delete(c),c=R(),et.pingedLanes|=et.suspendedLanes&tt,Q$1===et&&(Z&tt)===tt&&(T$1===4||T$1===3&&(Z&130023424)===Z&&500>B()-fk?Kk(et,0):rk|=tt),Dk(et,c)}function Yk(et,c){c===0&&(et.mode&1?(c=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):c=1);var tt=R();et=ih(et,c),et!==null&&(Ac(et,c,tt),Dk(et,tt))}function uj(et){var c=et.memoizedState,tt=0;c!==null&&(tt=c.retryLane),Yk(et,tt)}function bk(et,c){var tt=0;switch(et.tag){case 13:var nt=et.stateNode,rt=et.memoizedState;rt!==null&&(tt=rt.retryLane);break;case 19:nt=et.stateNode;break;default:throw Error(p$1(314))}nt!==null&&nt.delete(c),Yk(et,tt)}var Vk;Vk=function(et,c,tt){if(et!==null)if(et.memoizedProps!==c.pendingProps||Wf.current)dh=!0;else{if(!(et.lanes&tt)&&!(c.flags&128))return dh=!1,yj(et,c,tt);dh=!!(et.flags&131072)}else dh=!1,I&&c.flags&1048576&&ug(c,ng,c.index);switch(c.lanes=0,c.tag){case 2:var nt=c.type;ij(et,c),et=c.pendingProps;var rt=Yf(c,H$2.current);ch(c,tt),rt=Nh(null,c,nt,et,rt,tt);var it=Sh();return c.flags|=1,typeof rt=="object"&&rt!==null&&typeof rt.render=="function"&&rt.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Zf(nt)?(it=!0,cg(c)):it=!1,c.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,kh(c),rt.updater=Ei,c.stateNode=rt,rt._reactInternals=c,Ii(c,nt,et,tt),c=jj(null,c,nt,!0,it,tt)):(c.tag=0,I&&it&&vg(c),Xi(null,c,rt,tt),c=c.child),c;case 16:nt=c.elementType;e:{switch(ij(et,c),et=c.pendingProps,rt=nt._init,nt=rt(nt._payload),c.type=nt,rt=c.tag=Zk(nt),et=Ci(nt,et),rt){case 0:c=cj(null,c,nt,et,tt);break e;case 1:c=hj(null,c,nt,et,tt);break e;case 11:c=Yi(null,c,nt,et,tt);break e;case 14:c=$i(null,c,nt,Ci(nt.type,et),tt);break e}throw Error(p$1(306,nt,""))}return c;case 0:return nt=c.type,rt=c.pendingProps,rt=c.elementType===nt?rt:Ci(nt,rt),cj(et,c,nt,rt,tt);case 1:return nt=c.type,rt=c.pendingProps,rt=c.elementType===nt?rt:Ci(nt,rt),hj(et,c,nt,rt,tt);case 3:e:{if(kj(c),et===null)throw Error(p$1(387));nt=c.pendingProps,it=c.memoizedState,rt=it.element,lh(et,c),qh(c,nt,null,tt);var st=c.memoizedState;if(nt=st.element,it.isDehydrated)if(it={element:nt,isDehydrated:!1,cache:st.cache,pendingSuspenseBoundaries:st.pendingSuspenseBoundaries,transitions:st.transitions},c.updateQueue.baseState=it,c.memoizedState=it,c.flags&256){rt=Ji(Error(p$1(423)),c),c=lj(et,c,nt,tt,rt);break e}else if(nt!==rt){rt=Ji(Error(p$1(424)),c),c=lj(et,c,nt,tt,rt);break e}else for(yg=Lf(c.stateNode.containerInfo.firstChild),xg=c,I=!0,zg=null,tt=Vg(c,null,nt,tt),c.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),nt===rt){c=Zi(et,c,tt);break e}Xi(et,c,nt,tt)}c=c.child}return c;case 5:return Ah(c),et===null&&Eg(c),nt=c.type,rt=c.pendingProps,it=et!==null?et.memoizedProps:null,st=rt.children,Ef(nt,rt)?st=null:it!==null&&Ef(nt,it)&&(c.flags|=32),gj(et,c),Xi(et,c,st,tt),c.child;case 6:return et===null&&Eg(c),null;case 13:return oj(et,c,tt);case 4:return yh(c,c.stateNode.containerInfo),nt=c.pendingProps,et===null?c.child=Ug(c,null,nt,tt):Xi(et,c,nt,tt),c.child;case 11:return nt=c.type,rt=c.pendingProps,rt=c.elementType===nt?rt:Ci(nt,rt),Yi(et,c,nt,rt,tt);case 7:return Xi(et,c,c.pendingProps,tt),c.child;case 8:return Xi(et,c,c.pendingProps.children,tt),c.child;case 12:return Xi(et,c,c.pendingProps.children,tt),c.child;case 10:e:{if(nt=c.type._context,rt=c.pendingProps,it=c.memoizedProps,st=rt.value,G(Wg,nt._currentValue),nt._currentValue=st,it!==null)if(He$1(it.value,st)){if(it.children===rt.children&&!Wf.current){c=Zi(et,c,tt);break e}}else for(it=c.child,it!==null&&(it.return=c);it!==null;){var at=it.dependencies;if(at!==null){st=it.child;for(var ot=at.firstContext;ot!==null;){if(ot.context===nt){if(it.tag===1){ot=mh(-1,tt&-tt),ot.tag=2;var lt=it.updateQueue;if(lt!==null){lt=lt.shared;var ct=lt.pending;ct===null?ot.next=ot:(ot.next=ct.next,ct.next=ot),lt.pending=ot}}it.lanes|=tt,ot=it.alternate,ot!==null&&(ot.lanes|=tt),bh(it.return,tt,c),at.lanes|=tt;break}ot=ot.next}}else if(it.tag===10)st=it.type===c.type?null:it.child;else if(it.tag===18){if(st=it.return,st===null)throw Error(p$1(341));st.lanes|=tt,at=st.alternate,at!==null&&(at.lanes|=tt),bh(st,tt,c),st=it.sibling}else st=it.child;if(st!==null)st.return=it;else for(st=it;st!==null;){if(st===c){st=null;break}if(it=st.sibling,it!==null){it.return=st.return,st=it;break}st=st.return}it=st}Xi(et,c,rt.children,tt),c=c.child}return c;case 9:return rt=c.type,nt=c.pendingProps.children,ch(c,tt),rt=eh(rt),nt=nt(rt),c.flags|=1,Xi(et,c,nt,tt),c.child;case 14:return nt=c.type,rt=Ci(nt,c.pendingProps),rt=Ci(nt.type,rt),$i(et,c,nt,rt,tt);case 15:return bj(et,c,c.type,c.pendingProps,tt);case 17:return nt=c.type,rt=c.pendingProps,rt=c.elementType===nt?rt:Ci(nt,rt),ij(et,c),c.tag=1,Zf(nt)?(et=!0,cg(c)):et=!1,ch(c,tt),Gi(c,nt,rt),Ii(c,nt,rt,tt),jj(null,c,nt,!0,et,tt);case 19:return xj(et,c,tt);case 22:return dj(et,c,tt)}throw Error(p$1(156,c.tag))};function Fk(et,c){return ac(et,c)}function $k(et,c,tt,nt){this.tag=et,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,c,tt,nt){return new $k(et,c,tt,nt)}function aj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function Zk(et){if(typeof et=="function")return aj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function Pg(et,c){var tt=et.alternate;return tt===null?(tt=Bg(et.tag,c,et.key,et.mode),tt.elementType=et.elementType,tt.type=et.type,tt.stateNode=et.stateNode,tt.alternate=et,et.alternate=tt):(tt.pendingProps=c,tt.type=et.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=et.flags&14680064,tt.childLanes=et.childLanes,tt.lanes=et.lanes,tt.child=et.child,tt.memoizedProps=et.memoizedProps,tt.memoizedState=et.memoizedState,tt.updateQueue=et.updateQueue,c=et.dependencies,tt.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},tt.sibling=et.sibling,tt.index=et.index,tt.ref=et.ref,tt}function Rg(et,c,tt,nt,rt,it){var st=2;if(nt=et,typeof et=="function")aj(et)&&(st=1);else if(typeof et=="string")st=5;else e:switch(et){case ya:return Tg(tt.children,rt,it,c);case za:st=8,rt|=8;break;case Aa:return et=Bg(12,tt,c,rt|2),et.elementType=Aa,et.lanes=it,et;case Ea:return et=Bg(13,tt,c,rt),et.elementType=Ea,et.lanes=it,et;case Fa:return et=Bg(19,tt,c,rt),et.elementType=Fa,et.lanes=it,et;case Ia:return pj(tt,rt,it,c);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:st=10;break e;case Ca:st=9;break e;case Da:st=11;break e;case Ga:st=14;break e;case Ha:st=16,nt=null;break e}throw Error(p$1(130,et==null?et:typeof et,""))}return c=Bg(st,tt,c,rt),c.elementType=et,c.type=nt,c.lanes=it,c}function Tg(et,c,tt,nt){return et=Bg(7,et,nt,c),et.lanes=tt,et}function pj(et,c,tt,nt){return et=Bg(22,et,nt,c),et.elementType=Ia,et.lanes=tt,et.stateNode={isHidden:!1},et}function Qg(et,c,tt){return et=Bg(6,et,null,c),et.lanes=tt,et}function Sg(et,c,tt){return c=Bg(4,et.children!==null?et.children:[],et.key,c),c.lanes=tt,c.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},c}function al(et,c,tt,nt,rt){this.tag=c,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=rt,this.mutableSourceEagerHydrationData=null}function bl(et,c,tt,nt,rt,it,st,at,ot){return et=new al(et,c,tt,at,ot),c===1?(c=1,it===!0&&(c|=8)):c=0,it=Bg(3,null,null,c),et.current=it,it.stateNode=et,it.memoizedState={element:nt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(it),et}function cl(et,c,tt){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:et,containerInfo:c,implementation:tt}}function dl(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$1(170));var c=et;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Zf(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(p$1(171))}if(et.tag===1){var tt=et.type;if(Zf(tt))return bg(et,tt,c)}return c}function el(et,c,tt,nt,rt,it,st,at,ot){return et=bl(tt,nt,!0,et,rt,it,st,at,ot),et.context=dl(null),tt=et.current,nt=R(),rt=yi(tt),it=mh(nt,rt),it.callback=c??null,nh(tt,it,rt),et.current.lanes=rt,Ac(et,rt,nt),Dk(et,nt),et}function fl(et,c,tt,nt){var rt=c.current,it=R(),st=yi(rt);return tt=dl(tt),c.context===null?c.context=tt:c.pendingContext=tt,c=mh(it,st),c.payload={element:et},nt=nt===void 0?null:nt,nt!==null&&(c.callback=nt),et=nh(rt,c,st),et!==null&&(gi(et,rt,st,it),oh(et,rt,st)),st}function gl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function hl(et,c){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var tt=et.retryLane;et.retryLane=tt!==0&&tt<c?tt:c}}function il(et,c){hl(et,c),(et=et.alternate)&&hl(et,c)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(et){console.error(et)};function ll(et){this._internalRoot=et}ml.prototype.render=ll.prototype.render=function(et){var c=this._internalRoot;if(c===null)throw Error(p$1(409));fl(et,c,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var c=et.containerInfo;Rk(function(){fl(null,et,null,null)}),c[uf]=null}};function ml(et){this._internalRoot=et}ml.prototype.unstable_scheduleHydration=function(et){if(et){var c=Hc();et={blockedOn:null,target:et,priority:c};for(var tt=0;tt<Qc.length&&c!==0&&c<Qc[tt].priority;tt++);Qc.splice(tt,0,et),tt===0&&Vc(et)}};function nl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(et,c,tt,nt,rt){if(rt){if(typeof nt=="function"){var it=nt;nt=function(){var lt=gl(st);it.call(lt)}}var st=el(c,nt,et,0,null,!1,!1,"",pl);return et._reactRootContainer=st,et[uf]=st.current,sf(et.nodeType===8?et.parentNode:et),Rk(),st}for(;rt=et.lastChild;)et.removeChild(rt);if(typeof nt=="function"){var at=nt;nt=function(){var lt=gl(ot);at.call(lt)}}var ot=bl(et,0,!1,null,null,!1,!1,"",pl);return et._reactRootContainer=ot,et[uf]=ot.current,sf(et.nodeType===8?et.parentNode:et),Rk(function(){fl(c,ot,tt,nt)}),ot}function rl(et,c,tt,nt,rt){var it=tt._reactRootContainer;if(it){var st=it;if(typeof rt=="function"){var at=rt;rt=function(){var ot=gl(st);at.call(ot)}}fl(c,st,et,rt)}else st=ql(tt,c,et,rt,nt);return gl(st)}Ec=function(et){switch(et.tag){case 3:var c=et.stateNode;if(c.current.memoizedState.isDehydrated){var tt=tc(c.pendingLanes);tt!==0&&(Cc(c,tt|1),Dk(c,B()),!(K$1&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var nt=ih(et,1);if(nt!==null){var rt=R();gi(nt,et,1,rt)}}),il(et,1)}};Fc=function(et){if(et.tag===13){var c=ih(et,134217728);if(c!==null){var tt=R();gi(c,et,134217728,tt)}il(et,134217728)}};Gc=function(et){if(et.tag===13){var c=yi(et),tt=ih(et,c);if(tt!==null){var nt=R();gi(tt,et,c,nt)}il(et,c)}};Hc=function(){return C$3};Ic=function(et,c){var tt=C$3;try{return C$3=et,c()}finally{C$3=tt}};yb=function(et,c,tt){switch(c){case"input":if(bb(et,tt),c=tt.name,tt.type==="radio"&&c!=null){for(tt=et;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<tt.length;c++){var nt=tt[c];if(nt!==et&&nt.form===et.form){var rt=Db(nt);if(!rt)throw Error(p$1(90));Wa(nt),bb(nt,rt)}}}break;case"textarea":ib(et,tt);break;case"select":c=tt.value,c!=null&&fb(et,!!tt.multiple,c,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(et,c){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(c))throw Error(p$1(200));return cl(et,c,null,tt)};reactDom_production_min.createRoot=function(et,c){if(!nl(et))throw Error(p$1(299));var tt=!1,nt="",rt=kl;return c!=null&&(c.unstable_strictMode===!0&&(tt=!0),c.identifierPrefix!==void 0&&(nt=c.identifierPrefix),c.onRecoverableError!==void 0&&(rt=c.onRecoverableError)),c=bl(et,1,!1,null,null,tt,!1,nt,rt),et[uf]=c.current,sf(et.nodeType===8?et.parentNode:et),new ll(c)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var c=et._reactInternals;if(c===void 0)throw typeof et.render=="function"?Error(p$1(188)):(et=Object.keys(et).join(","),Error(p$1(268,et)));return et=Zb(c),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Rk(et)};reactDom_production_min.hydrate=function(et,c,tt){if(!ol(c))throw Error(p$1(200));return rl(null,et,c,!0,tt)};reactDom_production_min.hydrateRoot=function(et,c,tt){if(!nl(et))throw Error(p$1(405));var nt=tt!=null&&tt.hydratedSources||null,rt=!1,it="",st=kl;if(tt!=null&&(tt.unstable_strictMode===!0&&(rt=!0),tt.identifierPrefix!==void 0&&(it=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(st=tt.onRecoverableError)),c=el(c,null,et,1,tt??null,rt,!1,it,st),et[uf]=c.current,sf(et),nt)for(et=0;et<nt.length;et++)tt=nt[et],rt=tt._getVersion,rt=rt(tt._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[tt,rt]:c.mutableSourceEagerHydrationData.push(tt,rt);return new ml(c)};reactDom_production_min.render=function(et,c,tt){if(!ol(c))throw Error(p$1(200));return rl(null,et,c,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(et){if(!ol(et))throw Error(p$1(40));return et._reactRootContainer?(Rk(function(){rl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,c,tt,nt){if(!ol(tt))throw Error(p$1(200));if(et==null||et._reactInternals===void 0)throw Error(p$1(38));return rl(et,c,tt,!1,nt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(et){console.error(et)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(et={}){function c(nt,rt){let{pathname:it,search:st,hash:at}=nt.location;return createLocation("",{pathname:it,search:st,hash:at},rt.state&&rt.state.usr||null,rt.state&&rt.state.key||"default")}function tt(nt,rt){return typeof rt=="string"?rt:createPath(rt)}return getUrlBasedHistory(c,tt,null,et)}function invariant$3(et,c){if(et===!1||et===null||typeof et>"u")throw new Error(c)}function warning(et,c){if(!et){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(et,c){return{usr:et.state,key:et.key,idx:c}}function createLocation(et,c,tt=null,nt){return{pathname:typeof et=="string"?et:et.pathname,search:"",hash:"",...typeof c=="string"?parsePath(c):c,state:tt,key:c&&c.key||nt||createKey()}}function createPath({pathname:et="/",search:c="",hash:tt=""}){return c&&c!=="?"&&(et+=c.charAt(0)==="?"?c:"?"+c),tt&&tt!=="#"&&(et+=tt.charAt(0)==="#"?tt:"#"+tt),et}function parsePath(et){let c={};if(et){let tt=et.indexOf("#");tt>=0&&(c.hash=et.substring(tt),et=et.substring(0,tt));let nt=et.indexOf("?");nt>=0&&(c.search=et.substring(nt),et=et.substring(0,nt)),et&&(c.pathname=et)}return c}function getUrlBasedHistory(et,c,tt,nt={}){let{window:rt=document.defaultView,v5Compat:it=!1}=nt,st=rt.history,at="POP",ot=null,lt=ct();lt==null&&(lt=0,st.replaceState({...st.state,idx:lt},""));function ct(){return(st.state||{idx:null}).idx}function dt(){at="POP";let _t=ct(),pt=_t==null?null:_t-lt;lt=_t,ot&&ot({action:at,location:yt.location,delta:pt})}function ht(_t,pt){at="PUSH";let xt=createLocation(yt.location,_t,pt);lt=ct()+1;let vt=getHistoryState(xt,lt),St=yt.createHref(xt);try{st.pushState(vt,"",St)}catch(wt){if(wt instanceof DOMException&&wt.name==="DataCloneError")throw wt;rt.location.assign(St)}it&&ot&&ot({action:at,location:yt.location,delta:1})}function mt(_t,pt){at="REPLACE";let xt=createLocation(yt.location,_t,pt);lt=ct();let vt=getHistoryState(xt,lt),St=yt.createHref(xt);st.replaceState(vt,"",St),it&&ot&&ot({action:at,location:yt.location,delta:0})}function gt(_t){return createBrowserURLImpl(_t)}let yt={get action(){return at},get location(){return et(rt,st)},listen(_t){if(ot)throw new Error("A history only accepts one active listener");return rt.addEventListener(PopStateEventType,dt),ot=_t,()=>{rt.removeEventListener(PopStateEventType,dt),ot=null}},createHref(_t){return c(rt,_t)},createURL:gt,encodeLocation(_t){let pt=gt(_t);return{pathname:pt.pathname,search:pt.search,hash:pt.hash}},push:ht,replace:mt,go(_t){return st.go(_t)}};return yt}function createBrowserURLImpl(et,c=!1){let tt="http://localhost";typeof window<"u"&&(tt=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$3(tt,"No window.location.(origin|href) available to create URL");let nt=typeof et=="string"?et:createPath(et);return nt=nt.replace(/ $/,"%20"),!c&&nt.startsWith("//")&&(nt=tt+nt),new URL(nt,tt)}function matchRoutes(et,c,tt="/"){return matchRoutesImpl(et,c,tt,!1)}function matchRoutesImpl(et,c,tt,nt){let rt=typeof c=="string"?parsePath(c):c,it=stripBasename(rt.pathname||"/",tt);if(it==null)return null;let st=flattenRoutes(et);rankRouteBranches(st);let at=null;for(let ot=0;at==null&&ot<st.length;++ot){let lt=decodePath(it);at=matchRouteBranch(st[ot],lt,nt)}return at}function flattenRoutes(et,c=[],tt=[],nt=""){let rt=(it,st,at)=>{let ot={relativePath:at===void 0?it.path||"":at,caseSensitive:it.caseSensitive===!0,childrenIndex:st,route:it};ot.relativePath.startsWith("/")&&(invariant$3(ot.relativePath.startsWith(nt),`Absolute route path "${ot.relativePath}" nested under path "${nt}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),ot.relativePath=ot.relativePath.slice(nt.length));let lt=joinPaths([nt,ot.relativePath]),ct=tt.concat(ot);it.children&&it.children.length>0&&(invariant$3(it.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${lt}".`),flattenRoutes(it.children,c,ct,lt)),!(it.path==null&&!it.index)&&c.push({path:lt,score:computeScore(lt,it.index),routesMeta:ct})};return et.forEach((it,st)=>{var at;if(it.path===""||!((at=it.path)!=null&&at.includes("?")))rt(it,st);else for(let ot of explodeOptionalSegments(it.path))rt(it,st,ot)}),c}function explodeOptionalSegments(et){let c=et.split("/");if(c.length===0)return[];let[tt,...nt]=c,rt=tt.endsWith("?"),it=tt.replace(/\?$/,"");if(nt.length===0)return rt?[it,""]:[it];let st=explodeOptionalSegments(nt.join("/")),at=[];return at.push(...st.map(ot=>ot===""?it:[it,ot].join("/"))),rt&&at.push(...st),at.map(ot=>et.startsWith("/")&&ot===""?"/":ot)}function rankRouteBranches(et){et.sort((c,tt)=>c.score!==tt.score?tt.score-c.score:compareIndexes(c.routesMeta.map(nt=>nt.childrenIndex),tt.routesMeta.map(nt=>nt.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=et=>et==="*";function computeScore(et,c){let tt=et.split("/"),nt=tt.length;return tt.some(isSplat)&&(nt+=splatPenalty),c&&(nt+=indexRouteValue),tt.filter(rt=>!isSplat(rt)).reduce((rt,it)=>rt+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(et,c){return et.length===c.length&&et.slice(0,-1).every((nt,rt)=>nt===c[rt])?et[et.length-1]-c[c.length-1]:0}function matchRouteBranch(et,c,tt=!1){let{routesMeta:nt}=et,rt={},it="/",st=[];for(let at=0;at<nt.length;++at){let ot=nt[at],lt=at===nt.length-1,ct=it==="/"?c:c.slice(it.length)||"/",dt=matchPath({path:ot.relativePath,caseSensitive:ot.caseSensitive,end:lt},ct),ht=ot.route;if(!dt&&lt&&tt&&!nt[nt.length-1].route.index&&(dt=matchPath({path:ot.relativePath,caseSensitive:ot.caseSensitive,end:!1},ct)),!dt)return null;Object.assign(rt,dt.params),st.push({params:rt,pathname:joinPaths([it,dt.pathname]),pathnameBase:normalizePathname(joinPaths([it,dt.pathnameBase])),route:ht}),dt.pathnameBase!=="/"&&(it=joinPaths([it,dt.pathnameBase]))}return st}function matchPath(et,c){typeof et=="string"&&(et={path:et,caseSensitive:!1,end:!0});let[tt,nt]=compilePath(et.path,et.caseSensitive,et.end),rt=c.match(tt);if(!rt)return null;let it=rt[0],st=it.replace(/(.)\/+$/,"$1"),at=rt.slice(1);return{params:nt.reduce((lt,{paramName:ct,isOptional:dt},ht)=>{if(ct==="*"){let gt=at[ht]||"";st=it.slice(0,it.length-gt.length).replace(/(.)\/+$/,"$1")}const mt=at[ht];return dt&&!mt?lt[ct]=void 0:lt[ct]=(mt||"").replace(/%2F/g,"/"),lt},{}),pathname:it,pathnameBase:st,pattern:et}}function compilePath(et,c=!1,tt=!0){warning(et==="*"||!et.endsWith("*")||et.endsWith("/*"),`Route path "${et}" will be treated as if it were "${et.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${et.replace(/\*$/,"/*")}".`);let nt=[],rt="^"+et.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(st,at,ot)=>(nt.push({paramName:at,isOptional:ot!=null}),ot?"/?([^\\/]+)?":"/([^\\/]+)"));return et.endsWith("*")?(nt.push({paramName:"*"}),rt+=et==="*"||et==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tt?rt+="\\/*$":et!==""&&et!=="/"&&(rt+="(?:(?=\\/|$))"),[new RegExp(rt,c?void 0:"i"),nt]}function decodePath(et){try{return et.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return warning(!1,`The URL path "${et}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),et}}function stripBasename(et,c){if(c==="/")return et;if(!et.toLowerCase().startsWith(c.toLowerCase()))return null;let tt=c.endsWith("/")?c.length-1:c.length,nt=et.charAt(tt);return nt&&nt!=="/"?null:et.slice(tt)||"/"}function resolvePath(et,c="/"){let{pathname:tt,search:nt="",hash:rt=""}=typeof et=="string"?parsePath(et):et;return{pathname:tt?tt.startsWith("/")?tt:resolvePathname(tt,c):c,search:normalizeSearch(nt),hash:normalizeHash(rt)}}function resolvePathname(et,c){let tt=c.replace(/\/+$/,"").split("/");return et.split("/").forEach(rt=>{rt===".."?tt.length>1&&tt.pop():rt!=="."&&tt.push(rt)}),tt.length>1?tt.join("/"):"/"}function getInvalidPathError(et,c,tt,nt){return`Cannot include a '${et}' character in a manually specified \`to.${c}\` field [${JSON.stringify(nt)}].  Please separate it out to the \`to.${tt}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(et){return et.filter((c,tt)=>tt===0||c.route.path&&c.route.path.length>0)}function getResolveToMatches(et){let c=getPathContributingMatches(et);return c.map((tt,nt)=>nt===c.length-1?tt.pathname:tt.pathnameBase)}function resolveTo(et,c,tt,nt=!1){let rt;typeof et=="string"?rt=parsePath(et):(rt={...et},invariant$3(!rt.pathname||!rt.pathname.includes("?"),getInvalidPathError("?","pathname","search",rt)),invariant$3(!rt.pathname||!rt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",rt)),invariant$3(!rt.search||!rt.search.includes("#"),getInvalidPathError("#","search","hash",rt)));let it=et===""||rt.pathname==="",st=it?"/":rt.pathname,at;if(st==null)at=tt;else{let dt=c.length-1;if(!nt&&st.startsWith("..")){let ht=st.split("/");for(;ht[0]==="..";)ht.shift(),dt-=1;rt.pathname=ht.join("/")}at=dt>=0?c[dt]:"/"}let ot=resolvePath(rt,at),lt=st&&st!=="/"&&st.endsWith("/"),ct=(it||st===".")&&tt.endsWith("/");return!ot.pathname.endsWith("/")&&(lt||ct)&&(ot.pathname+="/"),ot}var joinPaths=et=>et.join("/").replace(/\/\/+/g,"/"),normalizePathname=et=>et.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=et=>!et||et==="?"?"":et.startsWith("?")?et:"?"+et,normalizeHash=et=>!et||et==="#"?"":et.startsWith("#")?et:"#"+et;function isRouteErrorResponse(et){return et!=null&&typeof et.status=="number"&&typeof et.statusText=="string"&&typeof et.internal=="boolean"&&"data"in et}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(et,{relative:c}={}){invariant$3(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:tt,navigator:nt}=reactExports.useContext(NavigationContext),{hash:rt,pathname:it,search:st}=useResolvedPath(et,{relative:c}),at=it;return tt!=="/"&&(at=it==="/"?tt:joinPaths([tt,it])),nt.createHref({pathname:at,search:st,hash:rt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$3(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$3(et){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(et)}function useNavigate(){let{isDataRoute:et}=reactExports.useContext(RouteContext);return et?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$3(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let et=reactExports.useContext(DataRouterContext),{basename:c,navigator:tt}=reactExports.useContext(NavigationContext),{matches:nt}=reactExports.useContext(RouteContext),{pathname:rt}=useLocation(),it=JSON.stringify(getResolveToMatches(nt)),st=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{st.current=!0}),reactExports.useCallback((ot,lt={})=>{if(warning(st.current,navigateEffectWarning),!st.current)return;if(typeof ot=="number"){tt.go(ot);return}let ct=resolveTo(ot,JSON.parse(it),rt,lt.relative==="path");et==null&&c!=="/"&&(ct.pathname=ct.pathname==="/"?c:joinPaths([c,ct.pathname])),(lt.replace?tt.replace:tt.push)(ct,lt.state,lt)},[c,tt,it,rt,et])}reactExports.createContext(null);function useParams(){let{matches:et}=reactExports.useContext(RouteContext),c=et[et.length-1];return c?c.params:{}}function useResolvedPath(et,{relative:c}={}){let{matches:tt}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),rt=JSON.stringify(getResolveToMatches(tt));return reactExports.useMemo(()=>resolveTo(et,JSON.parse(rt),nt,c==="path"),[et,rt,nt,c])}function useRoutes(et,c){return useRoutesImpl(et,c)}function useRoutesImpl(et,c,tt,nt){var pt;invariant$3(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:rt}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),st=it[it.length-1],at=st?st.params:{},ot=st?st.pathname:"/",lt=st?st.pathnameBase:"/",ct=st&&st.route;{let xt=ct&&ct.path||"";warningOnce(ot,!ct||xt.endsWith("*")||xt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${ot}" (under <Route path="${xt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${xt}"> to <Route path="${xt==="/"?"*":`${xt}/*`}">.`)}let dt=useLocation(),ht;if(c){let xt=typeof c=="string"?parsePath(c):c;invariant$3(lt==="/"||((pt=xt.pathname)==null?void 0:pt.startsWith(lt)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${lt}" but pathname "${xt.pathname}" was given in the \`location\` prop.`),ht=xt}else ht=dt;let mt=ht.pathname||"/",gt=mt;if(lt!=="/"){let xt=lt.replace(/^\//,"").split("/");gt="/"+mt.replace(/^\//,"").split("/").slice(xt.length).join("/")}let yt=matchRoutes(et,{pathname:gt});warning(ct||yt!=null,`No routes matched location "${ht.pathname}${ht.search}${ht.hash}" `),warning(yt==null||yt[yt.length-1].route.element!==void 0||yt[yt.length-1].route.Component!==void 0||yt[yt.length-1].route.lazy!==void 0,`Matched leaf route at location "${ht.pathname}${ht.search}${ht.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _t=_renderMatches(yt&&yt.map(xt=>Object.assign({},xt,{params:Object.assign({},at,xt.params),pathname:joinPaths([lt,rt.encodeLocation?rt.encodeLocation(xt.pathname).pathname:xt.pathname]),pathnameBase:xt.pathnameBase==="/"?lt:joinPaths([lt,rt.encodeLocation?rt.encodeLocation(xt.pathnameBase).pathname:xt.pathnameBase])})),it,tt,nt);return c&&_t?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ht},navigationType:"POP"}},_t):_t}function DefaultErrorComponent(){let et=useRouteError(),c=isRouteErrorResponse(et)?`${et.status} ${et.statusText}`:et instanceof Error?et.message:JSON.stringify(et),tt=et instanceof Error?et.stack:null,nt="rgba(200,200,200, 0.5)",rt={padding:"0.5rem",backgroundColor:nt},it={padding:"2px 4px",backgroundColor:nt},st=null;return console.error("Error handled by React Router default ErrorBoundary:",et),st=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:it},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:it},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},c),tt?reactExports.createElement("pre",{style:rt},tt):null,st)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(et){super(et),this.state={location:et.location,revalidation:et.revalidation,error:et.error}}static getDerivedStateFromError(et){return{error:et}}static getDerivedStateFromProps(et,c){return c.location!==et.location||c.revalidation!=="idle"&&et.revalidation==="idle"?{error:et.error,location:et.location,revalidation:et.revalidation}:{error:et.error!==void 0?et.error:c.error,location:c.location,revalidation:et.revalidation||c.revalidation}}componentDidCatch(et,c){console.error("React Router caught the following error during render",et,c)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:et,match:c,children:tt}){let nt=reactExports.useContext(DataRouterContext);return nt&&nt.static&&nt.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(nt.staticContext._deepestRenderedBoundaryId=c.route.id),reactExports.createElement(RouteContext.Provider,{value:et},tt)}function _renderMatches(et,c=[],tt=null,nt=null){if(et==null){if(!tt)return null;if(tt.errors)et=tt.matches;else if(c.length===0&&!tt.initialized&&tt.matches.length>0)et=tt.matches;else return null}let rt=et,it=tt==null?void 0:tt.errors;if(it!=null){let ot=rt.findIndex(lt=>lt.route.id&&(it==null?void 0:it[lt.route.id])!==void 0);invariant$3(ot>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(it).join(",")}`),rt=rt.slice(0,Math.min(rt.length,ot+1))}let st=!1,at=-1;if(tt)for(let ot=0;ot<rt.length;ot++){let lt=rt[ot];if((lt.route.HydrateFallback||lt.route.hydrateFallbackElement)&&(at=ot),lt.route.id){let{loaderData:ct,errors:dt}=tt,ht=lt.route.loader&&!ct.hasOwnProperty(lt.route.id)&&(!dt||dt[lt.route.id]===void 0);if(lt.route.lazy||ht){st=!0,at>=0?rt=rt.slice(0,at+1):rt=[rt[0]];break}}}return rt.reduceRight((ot,lt,ct)=>{let dt,ht=!1,mt=null,gt=null;tt&&(dt=it&&lt.route.id?it[lt.route.id]:void 0,mt=lt.route.errorElement||defaultErrorElement,st&&(at<0&&ct===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ht=!0,gt=null):at===ct&&(ht=!0,gt=lt.route.hydrateFallbackElement||null)));let yt=c.concat(rt.slice(0,ct+1)),_t=()=>{let pt;return dt?pt=mt:ht?pt=gt:lt.route.Component?pt=reactExports.createElement(lt.route.Component,null):lt.route.element?pt=lt.route.element:pt=ot,reactExports.createElement(RenderedRoute,{match:lt,routeContext:{outlet:ot,matches:yt,isDataRoute:tt!=null},children:pt})};return tt&&(lt.route.ErrorBoundary||lt.route.errorElement||ct===0)?reactExports.createElement(RenderErrorBoundary,{location:tt.location,revalidation:tt.revalidation,component:mt,error:dt,children:_t(),routeContext:{outlet:null,matches:yt,isDataRoute:!0}}):_t()},null)}function getDataRouterConsoleError(et){return`${et} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(et){let c=reactExports.useContext(DataRouterContext);return invariant$3(c,getDataRouterConsoleError(et)),c}function useDataRouterState(et){let c=reactExports.useContext(DataRouterStateContext);return invariant$3(c,getDataRouterConsoleError(et)),c}function useRouteContext(et){let c=reactExports.useContext(RouteContext);return invariant$3(c,getDataRouterConsoleError(et)),c}function useCurrentRouteId(et){let c=useRouteContext(et),tt=c.matches[c.matches.length-1];return invariant$3(tt.route.id,`${et} can only be used on routes that contain a unique "id"`),tt.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var nt;let et=reactExports.useContext(RouteErrorContext),c=useDataRouterState("useRouteError"),tt=useCurrentRouteId("useRouteError");return et!==void 0?et:(nt=c.errors)==null?void 0:nt[tt]}function useNavigateStable(){let{router:et}=useDataRouterContext("useNavigate"),c=useCurrentRouteId("useNavigate"),tt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{tt.current=!0}),reactExports.useCallback(async(rt,it={})=>{warning(tt.current,navigateEffectWarning),tt.current&&(typeof rt=="number"?et.navigate(rt):await et.navigate(rt,{fromRouteId:c,...it}))},[et,c])}var alreadyWarned={};function warningOnce(et,c,tt){!c&&!alreadyWarned[et]&&(alreadyWarned[et]=!0,warning(!1,tt))}reactExports.memo(DataRoutes);function DataRoutes({routes:et,future:c,state:tt}){return useRoutesImpl(et,void 0,tt,c)}function Route(et){invariant$3(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:et="/",children:c=null,location:tt,navigationType:nt="POP",navigator:rt,static:it=!1}){invariant$3(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let st=et.replace(/^\/*/,"/"),at=reactExports.useMemo(()=>({basename:st,navigator:rt,static:it,future:{}}),[st,rt,it]);typeof tt=="string"&&(tt=parsePath(tt));let{pathname:ot="/",search:lt="",hash:ct="",state:dt=null,key:ht="default"}=tt,mt=reactExports.useMemo(()=>{let gt=stripBasename(ot,st);return gt==null?null:{location:{pathname:gt,search:lt,hash:ct,state:dt,key:ht},navigationType:nt}},[st,ot,lt,ct,dt,ht,nt]);return warning(mt!=null,`<Router basename="${st}"> is not able to match the URL "${ot}${lt}${ct}" because it does not start with the basename, so the <Router> won't render anything.`),mt==null?null:reactExports.createElement(NavigationContext.Provider,{value:at},reactExports.createElement(LocationContext.Provider,{children:c,value:mt}))}function Routes({children:et,location:c}){return useRoutes(createRoutesFromChildren(et),c)}function createRoutesFromChildren(et,c=[]){let tt=[];return reactExports.Children.forEach(et,(nt,rt)=>{if(!reactExports.isValidElement(nt))return;let it=[...c,rt];if(nt.type===reactExports.Fragment){tt.push.apply(tt,createRoutesFromChildren(nt.props.children,it));return}invariant$3(nt.type===Route,`[${typeof nt.type=="string"?nt.type:nt.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$3(!nt.props.index||!nt.props.children,"An index route cannot have child routes.");let st={id:nt.props.id||it.join("-"),caseSensitive:nt.props.caseSensitive,element:nt.props.element,Component:nt.props.Component,index:nt.props.index,path:nt.props.path,loader:nt.props.loader,action:nt.props.action,hydrateFallbackElement:nt.props.hydrateFallbackElement,HydrateFallback:nt.props.HydrateFallback,errorElement:nt.props.errorElement,ErrorBoundary:nt.props.ErrorBoundary,hasErrorBoundary:nt.props.hasErrorBoundary===!0||nt.props.ErrorBoundary!=null||nt.props.errorElement!=null,shouldRevalidate:nt.props.shouldRevalidate,handle:nt.props.handle,lazy:nt.props.lazy};nt.props.children&&(st.children=createRoutesFromChildren(nt.props.children,it)),tt.push(st)}),tt}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(et){return et!=null&&typeof et.tagName=="string"}function isButtonElement(et){return isHtmlElement(et)&&et.tagName.toLowerCase()==="button"}function isFormElement(et){return isHtmlElement(et)&&et.tagName.toLowerCase()==="form"}function isInputElement(et){return isHtmlElement(et)&&et.tagName.toLowerCase()==="input"}function isModifiedEvent(et){return!!(et.metaKey||et.altKey||et.ctrlKey||et.shiftKey)}function shouldProcessLinkClick(et,c){return et.button===0&&(!c||c==="_self")&&!isModifiedEvent(et)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(et){return et!=null&&!supportedFormEncTypes.has(et)?(warning(!1,`"${et}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):et}function getFormSubmissionInfo(et,c){let tt,nt,rt,it,st;if(isFormElement(et)){let at=et.getAttribute("action");nt=at?stripBasename(at,c):null,tt=et.getAttribute("method")||defaultMethod,rt=getFormEncType(et.getAttribute("enctype"))||defaultEncType,it=new FormData(et)}else if(isButtonElement(et)||isInputElement(et)&&(et.type==="submit"||et.type==="image")){let at=et.form;if(at==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let ot=et.getAttribute("formaction")||at.getAttribute("action");if(nt=ot?stripBasename(ot,c):null,tt=et.getAttribute("formmethod")||at.getAttribute("method")||defaultMethod,rt=getFormEncType(et.getAttribute("formenctype"))||getFormEncType(at.getAttribute("enctype"))||defaultEncType,it=new FormData(at,et),!isFormDataSubmitterSupported()){let{name:lt,type:ct,value:dt}=et;if(ct==="image"){let ht=lt?`${lt}.`:"";it.append(`${ht}x`,"0"),it.append(`${ht}y`,"0")}else lt&&it.append(lt,dt)}}else{if(isHtmlElement(et))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');tt=defaultMethod,nt=null,rt=defaultEncType,st=et}return it&&rt==="text/plain"&&(st=it,it=void 0),{action:nt,method:tt.toLowerCase(),encType:rt,formData:it,body:st}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(et,c){if(et===!1||et===null||typeof et>"u")throw new Error(c)}function singleFetchUrl(et,c,tt){let nt=typeof et=="string"?new URL(et,typeof window>"u"?"server://singlefetch/":window.location.origin):et;return nt.pathname==="/"?nt.pathname=`_root.${tt}`:c&&stripBasename(nt.pathname,c)==="/"?nt.pathname=`${c.replace(/\/$/,"")}/_root.${tt}`:nt.pathname=`${nt.pathname.replace(/\/$/,"")}.${tt}`,nt}async function loadRouteModule(et,c){if(et.id in c)return c[et.id];try{let tt=await import(et.module);return c[et.id]=tt,tt}catch(tt){return console.error(`Error loading route module \`${et.module}\`, reloading page...`),console.error(tt),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(et){return et==null?!1:et.href==null?et.rel==="preload"&&typeof et.imageSrcSet=="string"&&typeof et.imageSizes=="string":typeof et.rel=="string"&&typeof et.href=="string"}async function getKeyedPrefetchLinks(et,c,tt){let nt=await Promise.all(et.map(async rt=>{let it=c.routes[rt.route.id];if(it){let st=await loadRouteModule(it,tt);return st.links?st.links():[]}return[]}));return dedupeLinkDescriptors(nt.flat(1).filter(isHtmlLinkDescriptor).filter(rt=>rt.rel==="stylesheet"||rt.rel==="preload").map(rt=>rt.rel==="stylesheet"?{...rt,rel:"prefetch",as:"style"}:{...rt,rel:"prefetch"}))}function getNewMatchesForLinks(et,c,tt,nt,rt,it){let st=(ot,lt)=>tt[lt]?ot.route.id!==tt[lt].route.id:!0,at=(ot,lt)=>{var ct;return tt[lt].pathname!==ot.pathname||((ct=tt[lt].route.path)==null?void 0:ct.endsWith("*"))&&tt[lt].params["*"]!==ot.params["*"]};return it==="assets"?c.filter((ot,lt)=>st(ot,lt)||at(ot,lt)):it==="data"?c.filter((ot,lt)=>{var dt;let ct=nt.routes[ot.route.id];if(!ct||!ct.hasLoader)return!1;if(st(ot,lt)||at(ot,lt))return!0;if(ot.route.shouldRevalidate){let ht=ot.route.shouldRevalidate({currentUrl:new URL(rt.pathname+rt.search+rt.hash,window.origin),currentParams:((dt=tt[0])==null?void 0:dt.params)||{},nextUrl:new URL(et,window.origin),nextParams:ot.params,defaultShouldRevalidate:!0});if(typeof ht=="boolean")return ht}return!0}):[]}function getModuleLinkHrefs(et,c,{includeHydrateFallback:tt}={}){return dedupeHrefs(et.map(nt=>{let rt=c.routes[nt.route.id];if(!rt)return[];let it=[rt.module];return rt.clientActionModule&&(it=it.concat(rt.clientActionModule)),rt.clientLoaderModule&&(it=it.concat(rt.clientLoaderModule)),tt&&rt.hydrateFallbackModule&&(it=it.concat(rt.hydrateFallbackModule)),rt.imports&&(it=it.concat(rt.imports)),it}).flat(1))}function dedupeHrefs(et){return[...new Set(et)]}function sortKeys(et){let c={},tt=Object.keys(et).sort();for(let nt of tt)c[nt]=et[nt];return c}function dedupeLinkDescriptors(et,c){let tt=new Set;return new Set(c),et.reduce((nt,rt)=>{let it=JSON.stringify(sortKeys(rt));return tt.has(it)||(tt.add(it),nt.push({key:it,link:rt})),nt},[])}function useDataRouterContext2(){let et=reactExports.useContext(DataRouterContext);return invariant2(et,"You must render this element inside a <DataRouterContext.Provider> element"),et}function useDataRouterStateContext(){let et=reactExports.useContext(DataRouterStateContext);return invariant2(et,"You must render this element inside a <DataRouterStateContext.Provider> element"),et}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let et=reactExports.useContext(FrameworkContext);return invariant2(et,"You must render this element inside a <HydratedRouter> element"),et}function usePrefetchBehavior(et,c){let tt=reactExports.useContext(FrameworkContext),[nt,rt]=reactExports.useState(!1),[it,st]=reactExports.useState(!1),{onFocus:at,onBlur:ot,onMouseEnter:lt,onMouseLeave:ct,onTouchStart:dt}=c,ht=reactExports.useRef(null);reactExports.useEffect(()=>{if(et==="render"&&st(!0),et==="viewport"){let yt=pt=>{pt.forEach(xt=>{st(xt.isIntersecting)})},_t=new IntersectionObserver(yt,{threshold:.5});return ht.current&&_t.observe(ht.current),()=>{_t.disconnect()}}},[et]),reactExports.useEffect(()=>{if(nt){let yt=setTimeout(()=>{st(!0)},100);return()=>{clearTimeout(yt)}}},[nt]);let mt=()=>{rt(!0)},gt=()=>{rt(!1),st(!1)};return tt?et!=="intent"?[it,ht,{}]:[it,ht,{onFocus:composeEventHandlers(at,mt),onBlur:composeEventHandlers(ot,gt),onMouseEnter:composeEventHandlers(lt,mt),onMouseLeave:composeEventHandlers(ct,gt),onTouchStart:composeEventHandlers(dt,mt)}]:[!1,ht,{}]}function composeEventHandlers(et,c){return tt=>{et&&et(tt),tt.defaultPrevented||c(tt)}}function PrefetchPageLinks({page:et,...c}){let{router:tt}=useDataRouterContext2(),nt=reactExports.useMemo(()=>matchRoutes(tt.routes,et,tt.basename),[tt.routes,et,tt.basename]);return nt?reactExports.createElement(PrefetchPageLinksImpl,{page:et,matches:nt,...c}):null}function useKeyedPrefetchLinks(et){let{manifest:c,routeModules:tt}=useFrameworkContext(),[nt,rt]=reactExports.useState([]);return reactExports.useEffect(()=>{let it=!1;return getKeyedPrefetchLinks(et,c,tt).then(st=>{it||rt(st)}),()=>{it=!0}},[et,c,tt]),nt}function PrefetchPageLinksImpl({page:et,matches:c,...tt}){let nt=useLocation(),{manifest:rt,routeModules:it}=useFrameworkContext(),{basename:st}=useDataRouterContext2(),{loaderData:at,matches:ot}=useDataRouterStateContext(),lt=reactExports.useMemo(()=>getNewMatchesForLinks(et,c,ot,rt,nt,"data"),[et,c,ot,rt,nt]),ct=reactExports.useMemo(()=>getNewMatchesForLinks(et,c,ot,rt,nt,"assets"),[et,c,ot,rt,nt]),dt=reactExports.useMemo(()=>{if(et===nt.pathname+nt.search+nt.hash)return[];let gt=new Set,yt=!1;if(c.forEach(pt=>{var vt;let xt=rt.routes[pt.route.id];!xt||!xt.hasLoader||(!lt.some(St=>St.route.id===pt.route.id)&&pt.route.id in at&&((vt=it[pt.route.id])!=null&&vt.shouldRevalidate)||xt.hasClientLoader?yt=!0:gt.add(pt.route.id))}),gt.size===0)return[];let _t=singleFetchUrl(et,st,"data");return yt&&gt.size>0&&_t.searchParams.set("_routes",c.filter(pt=>gt.has(pt.route.id)).map(pt=>pt.route.id).join(",")),[_t.pathname+_t.search]},[st,at,nt,rt,lt,c,et,it]),ht=reactExports.useMemo(()=>getModuleLinkHrefs(ct,rt),[ct,rt]),mt=useKeyedPrefetchLinks(ct);return reactExports.createElement(reactExports.Fragment,null,dt.map(gt=>reactExports.createElement("link",{key:gt,rel:"prefetch",as:"fetch",href:gt,...tt})),ht.map(gt=>reactExports.createElement("link",{key:gt,rel:"modulepreload",href:gt,...tt})),mt.map(({key:gt,link:yt})=>reactExports.createElement("link",{key:gt,...yt})))}function mergeRefs(...et){return c=>{et.forEach(tt=>{typeof tt=="function"?tt(c):tt!=null&&(tt.current=c)})}}var isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$1&&(window.__reactRouterVersion="7.7.1")}catch{}function BrowserRouter({basename:et,children:c,window:tt}){let nt=reactExports.useRef();nt.current==null&&(nt.current=createBrowserHistory({window:tt,v5Compat:!0}));let rt=nt.current,[it,st]=reactExports.useState({action:rt.action,location:rt.location}),at=reactExports.useCallback(ot=>{reactExports.startTransition(()=>st(ot))},[st]);return reactExports.useLayoutEffect(()=>rt.listen(at),[rt,at]),reactExports.createElement(Router,{basename:et,children:c,location:it.location,navigationType:it.action,navigator:rt})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:c,discover:tt="render",prefetch:nt="none",relative:rt,reloadDocument:it,replace:st,state:at,target:ot,to:lt,preventScrollReset:ct,viewTransition:dt,...ht},mt){let{basename:gt}=reactExports.useContext(NavigationContext),yt=typeof lt=="string"&&ABSOLUTE_URL_REGEX2.test(lt),_t,pt=!1;if(typeof lt=="string"&&yt&&(_t=lt,isBrowser$1))try{let Lt=new URL(window.location.href),It=lt.startsWith("//")?new URL(Lt.protocol+lt):new URL(lt),Nt=stripBasename(It.pathname,gt);It.origin===Lt.origin&&Nt!=null?lt=Nt+It.search+It.hash:pt=!0}catch{warning(!1,`<Link to="${lt}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let xt=useHref(lt,{relative:rt}),[vt,St,wt]=usePrefetchBehavior(nt,ht),Mt=useLinkClickHandler(lt,{replace:st,state:at,target:ot,preventScrollReset:ct,relative:rt,viewTransition:dt});function Ct(Lt){c&&c(Lt),Lt.defaultPrevented||Mt(Lt)}let Rt=reactExports.createElement("a",{...ht,...wt,href:_t||xt,onClick:pt||it?c:Ct,ref:mergeRefs(mt,St),target:ot,"data-discover":!yt&&tt==="render"?"true":void 0});return vt&&!yt?reactExports.createElement(reactExports.Fragment,null,Rt,reactExports.createElement(PrefetchPageLinks,{page:xt})):Rt});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":c="page",caseSensitive:tt=!1,className:nt="",end:rt=!1,style:it,to:st,viewTransition:at,children:ot,...lt},ct){let dt=useResolvedPath(st,{relative:lt.relative}),ht=useLocation(),mt=reactExports.useContext(DataRouterStateContext),{navigator:gt,basename:yt}=reactExports.useContext(NavigationContext),_t=mt!=null&&useViewTransitionState(dt)&&at===!0,pt=gt.encodeLocation?gt.encodeLocation(dt).pathname:dt.pathname,xt=ht.pathname,vt=mt&&mt.navigation&&mt.navigation.location?mt.navigation.location.pathname:null;tt||(xt=xt.toLowerCase(),vt=vt?vt.toLowerCase():null,pt=pt.toLowerCase()),vt&&yt&&(vt=stripBasename(vt,yt)||vt);const St=pt!=="/"&&pt.endsWith("/")?pt.length-1:pt.length;let wt=xt===pt||!rt&&xt.startsWith(pt)&&xt.charAt(St)==="/",Mt=vt!=null&&(vt===pt||!rt&&vt.startsWith(pt)&&vt.charAt(pt.length)==="/"),Ct={isActive:wt,isPending:Mt,isTransitioning:_t},Rt=wt?c:void 0,Lt;typeof nt=="function"?Lt=nt(Ct):Lt=[nt,wt?"active":null,Mt?"pending":null,_t?"transitioning":null].filter(Boolean).join(" ");let It=typeof it=="function"?it(Ct):it;return reactExports.createElement(Link,{...lt,"aria-current":Rt,className:Lt,ref:ct,style:It,to:st,viewTransition:at},typeof ot=="function"?ot(Ct):ot)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:et="render",fetcherKey:c,navigate:tt,reloadDocument:nt,replace:rt,state:it,method:st=defaultMethod,action:at,onSubmit:ot,relative:lt,preventScrollReset:ct,viewTransition:dt,...ht},mt)=>{let gt=useSubmit(),yt=useFormAction(at,{relative:lt}),_t=st.toLowerCase()==="get"?"get":"post",pt=typeof at=="string"&&ABSOLUTE_URL_REGEX2.test(at),xt=vt=>{if(ot&&ot(vt),vt.defaultPrevented)return;vt.preventDefault();let St=vt.nativeEvent.submitter,wt=(St==null?void 0:St.getAttribute("formmethod"))||st;gt(St||vt.currentTarget,{fetcherKey:c,method:wt,navigate:tt,replace:rt,state:it,relative:lt,preventScrollReset:ct,viewTransition:dt})};return reactExports.createElement("form",{ref:mt,method:_t,action:yt,onSubmit:nt?ot:xt,...ht,"data-discover":!pt&&et==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(et){return`${et} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(et){let c=reactExports.useContext(DataRouterContext);return invariant$3(c,getDataRouterConsoleError2(et)),c}function useLinkClickHandler(et,{target:c,replace:tt,state:nt,preventScrollReset:rt,relative:it,viewTransition:st}={}){let at=useNavigate(),ot=useLocation(),lt=useResolvedPath(et,{relative:it});return reactExports.useCallback(ct=>{if(shouldProcessLinkClick(ct,c)){ct.preventDefault();let dt=tt!==void 0?tt:createPath(ot)===createPath(lt);at(et,{replace:dt,state:nt,preventScrollReset:rt,relative:it,viewTransition:st})}},[ot,at,lt,tt,nt,c,et,rt,it,st])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:et}=useDataRouterContext3("useSubmit"),{basename:c}=reactExports.useContext(NavigationContext),tt=useRouteId();return reactExports.useCallback(async(nt,rt={})=>{let{action:it,method:st,encType:at,formData:ot,body:lt}=getFormSubmissionInfo(nt,c);if(rt.navigate===!1){let ct=rt.fetcherKey||getUniqueFetcherId();await et.fetch(ct,tt,rt.action||it,{preventScrollReset:rt.preventScrollReset,formData:ot,body:lt,formMethod:rt.method||st,formEncType:rt.encType||at,flushSync:rt.flushSync})}else await et.navigate(rt.action||it,{preventScrollReset:rt.preventScrollReset,formData:ot,body:lt,formMethod:rt.method||st,formEncType:rt.encType||at,replace:rt.replace,state:rt.state,fromRouteId:tt,flushSync:rt.flushSync,viewTransition:rt.viewTransition})},[et,c,tt])}function useFormAction(et,{relative:c}={}){let{basename:tt}=reactExports.useContext(NavigationContext),nt=reactExports.useContext(RouteContext);invariant$3(nt,"useFormAction must be used inside a RouteContext");let[rt]=nt.matches.slice(-1),it={...useResolvedPath(et||".",{relative:c})},st=useLocation();if(et==null){it.search=st.search;let at=new URLSearchParams(it.search),ot=at.getAll("index");if(ot.some(ct=>ct==="")){at.delete("index"),ot.filter(dt=>dt).forEach(dt=>at.append("index",dt));let ct=at.toString();it.search=ct?`?${ct}`:""}}return(!et||et===".")&&rt.route.index&&(it.search=it.search?it.search.replace(/^\?/,"?index&"):"?index"),tt!=="/"&&(it.pathname=it.pathname==="/"?tt:joinPaths([tt,it.pathname])),createPath(it)}function useViewTransitionState(et,{relative:c}={}){let tt=reactExports.useContext(ViewTransitionContext);invariant$3(tt!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:nt}=useDataRouterContext3("useViewTransitionState"),rt=useResolvedPath(et,{relative:c});if(!tt.isTransitioning)return!1;let it=stripBasename(tt.currentLocation.pathname,nt)||tt.currentLocation.pathname,st=stripBasename(tt.nextLocation.pathname,nt)||tt.nextLocation.pathname;return matchPath(rt.pathname,st)!=null||matchPath(rt.pathname,it)!=null}const LayoutGroupContext=reactExports.createContext({});function useConstant(et){const c=reactExports.useRef(null);return c.current===null&&(c.current=et()),c.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:et=>et,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(c){const tt=this.props.childRef.current;if(tt&&c.isPresent&&!this.props.isPresent){const nt=this.props.sizeRef.current;nt.height=tt.offsetHeight||0,nt.width=tt.offsetWidth||0,nt.top=tt.offsetTop,nt.left=tt.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:et,isPresent:c}){const tt=reactExports.useId(),nt=reactExports.useRef(null),rt=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:it}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:st,height:at,top:ot,left:lt}=rt.current;if(c||!nt.current||!st||!at)return;nt.current.dataset.motionPopId=tt;const ct=document.createElement("style");return it&&(ct.nonce=it),document.head.appendChild(ct),ct.sheet&&ct.sheet.insertRule(`
          [data-motion-pop-id="${tt}"] {
            position: absolute !important;
            width: ${st}px !important;
            height: ${at}px !important;
            top: ${ot}px !important;
            left: ${lt}px !important;
          }
        `),()=>{document.head.removeChild(ct)}},[c]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:c,childRef:nt,sizeRef:rt,children:reactExports.cloneElement(et,{ref:nt})})}const PresenceChild=({children:et,initial:c,isPresent:tt,onExitComplete:nt,custom:rt,presenceAffectsLayout:it,mode:st})=>{const at=useConstant(newChildrenMap),ot=reactExports.useId(),lt=reactExports.useCallback(dt=>{at.set(dt,!0);for(const ht of at.values())if(!ht)return;nt&&nt()},[at,nt]),ct=reactExports.useMemo(()=>({id:ot,initial:c,isPresent:tt,custom:rt,onExitComplete:lt,register:dt=>(at.set(dt,!1),()=>at.delete(dt))}),it?[Math.random(),lt]:[tt,lt]);return reactExports.useMemo(()=>{at.forEach((dt,ht)=>at.set(ht,!1))},[tt]),reactExports.useEffect(()=>{!tt&&!at.size&&nt&&nt()},[tt]),st==="popLayout"&&(et=jsxRuntimeExports.jsx(PopChild,{isPresent:tt,children:et})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:ct,children:et})};function newChildrenMap(){return new Map}function usePresence(et=!0){const c=reactExports.useContext(PresenceContext);if(c===null)return[!0,null];const{isPresent:tt,onExitComplete:nt,register:rt}=c,it=reactExports.useId();reactExports.useEffect(()=>{et&&rt(it)},[et]);const st=reactExports.useCallback(()=>et&&nt&&nt(it),[it,nt,et]);return!tt&&nt?[!1,st]:[!0]}const getChildKey=et=>et.key||"";function onlyElements(et){const c=[];return reactExports.Children.forEach(et,tt=>{reactExports.isValidElement(tt)&&c.push(tt)}),c}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect$2=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence=({children:et,custom:c,initial:tt=!0,onExitComplete:nt,presenceAffectsLayout:rt=!0,mode:it="sync",propagate:st=!1})=>{const[at,ot]=usePresence(st),lt=reactExports.useMemo(()=>onlyElements(et),[et]),ct=st&&!at?[]:lt.map(getChildKey),dt=reactExports.useRef(!0),ht=reactExports.useRef(lt),mt=useConstant(()=>new Map),[gt,yt]=reactExports.useState(lt),[_t,pt]=reactExports.useState(lt);useIsomorphicLayoutEffect$2(()=>{dt.current=!1,ht.current=lt;for(let St=0;St<_t.length;St++){const wt=getChildKey(_t[St]);ct.includes(wt)?mt.delete(wt):mt.get(wt)!==!0&&mt.set(wt,!1)}},[_t,ct.length,ct.join("-")]);const xt=[];if(lt!==gt){let St=[...lt];for(let wt=0;wt<_t.length;wt++){const Mt=_t[wt],Ct=getChildKey(Mt);ct.includes(Ct)||(St.splice(wt,0,Mt),xt.push(Mt))}it==="wait"&&xt.length&&(St=xt),pt(onlyElements(St)),yt(lt);return}const{forceRender:vt}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_t.map(St=>{const wt=getChildKey(St),Mt=st&&!at?!1:lt===_t||ct.includes(wt),Ct=()=>{if(mt.has(wt))mt.set(wt,!0);else return;let Rt=!0;mt.forEach(Lt=>{Lt||(Rt=!1)}),Rt&&(vt==null||vt(),pt(ht.current),st&&(ot==null||ot()),nt&&nt())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:Mt,initial:!dt.current||tt?void 0:!1,custom:Mt?void 0:c,presenceAffectsLayout:rt,mode:it,onExitComplete:Mt?void 0:Ct,children:St},wt)})})},noop=et=>et;let invariant$2=noop;function memo(et){let c;return()=>(c===void 0&&(c=et()),c)}const progress=(et,c,tt)=>{const nt=c-et;return nt===0?1:(tt-et)/nt},secondsToMilliseconds=et=>et*1e3,millisecondsToSeconds=et=>et/1e3,MotionGlobalConfig={useManualTiming:!1};function createRenderStep(et){let c=new Set,tt=new Set,nt=!1,rt=!1;const it=new WeakSet;let st={delta:0,timestamp:0,isProcessing:!1};function at(lt){it.has(lt)&&(ot.schedule(lt),et()),lt(st)}const ot={schedule:(lt,ct=!1,dt=!1)=>{const mt=dt&&nt?c:tt;return ct&&it.add(lt),mt.has(lt)||mt.add(lt),lt},cancel:lt=>{tt.delete(lt),it.delete(lt)},process:lt=>{if(st=lt,nt){rt=!0;return}nt=!0,[c,tt]=[tt,c],c.forEach(at),c.clear(),nt=!1,rt&&(rt=!1,ot.process(lt))}};return ot}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(et,c){let tt=!1,nt=!0;const rt={delta:0,timestamp:0,isProcessing:!1},it=()=>tt=!0,st=stepsOrder.reduce((pt,xt)=>(pt[xt]=createRenderStep(it),pt),{}),{read:at,resolveKeyframes:ot,update:lt,preRender:ct,render:dt,postRender:ht}=st,mt=()=>{const pt=performance.now();tt=!1,rt.delta=nt?1e3/60:Math.max(Math.min(pt-rt.timestamp,maxElapsed),1),rt.timestamp=pt,rt.isProcessing=!0,at.process(rt),ot.process(rt),lt.process(rt),ct.process(rt),dt.process(rt),ht.process(rt),rt.isProcessing=!1,tt&&c&&(nt=!1,et(mt))},gt=()=>{tt=!0,nt=!0,rt.isProcessing||et(mt)};return{schedule:stepsOrder.reduce((pt,xt)=>{const vt=st[xt];return pt[xt]=(St,wt=!1,Mt=!1)=>(tt||gt(),vt.schedule(St,wt,Mt)),pt},{}),cancel:pt=>{for(let xt=0;xt<stepsOrder.length;xt++)st[stepsOrder[xt]].cancel(pt)},state:rt,steps:st}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const et in featureProps)featureDefinitions[et]={isEnabled:c=>featureProps[et].some(tt=>!!c[tt])};function loadFeatures(et){for(const c in et)featureDefinitions[c]={...featureDefinitions[c],...et[c]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(et){return et.startsWith("while")||et.startsWith("drag")&&et!=="draggable"||et.startsWith("layout")||et.startsWith("onTap")||et.startsWith("onPan")||et.startsWith("onLayout")||validMotionProps.has(et)}let shouldForward=et=>!isValidMotionProp(et);function loadExternalIsValidProp(et){et&&(shouldForward=c=>c.startsWith("on")?!isValidMotionProp(c):et(c))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(et,c,tt){const nt={};for(const rt in et)rt==="values"&&typeof et.values=="object"||(shouldForward(rt)||tt===!0&&isValidMotionProp(rt)||!c&&!isValidMotionProp(rt)||et.draggable&&rt.startsWith("onDrag"))&&(nt[rt]=et[rt]);return nt}function createDOMMotionComponentProxy(et){if(typeof Proxy>"u")return et;const c=new Map,tt=(...nt)=>et(...nt);return new Proxy(tt,{get:(nt,rt)=>rt==="create"?et:(c.has(rt)||c.set(rt,et(rt)),c.get(rt))})}const MotionContext=reactExports.createContext({});function isVariantLabel(et){return typeof et=="string"||Array.isArray(et)}function isAnimationControls(et){return et!==null&&typeof et=="object"&&typeof et.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(et){return isAnimationControls(et.animate)||variantProps.some(c=>isVariantLabel(et[c]))}function isVariantNode(et){return!!(isControllingVariants(et)||et.variants)}function getCurrentTreeVariants(et,c){if(isControllingVariants(et)){const{initial:tt,animate:nt}=et;return{initial:tt===!1||isVariantLabel(tt)?tt:void 0,animate:isVariantLabel(nt)?nt:void 0}}return et.inherit!==!1?c:{}}function useCreateMotionContext(et){const{initial:c,animate:tt}=getCurrentTreeVariants(et,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:c,animate:tt}),[variantLabelsAsDependency(c),variantLabelsAsDependency(tt)])}function variantLabelsAsDependency(et){return Array.isArray(et)?et.join(" "):et}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(et){return et&&typeof et=="object"&&Object.prototype.hasOwnProperty.call(et,"current")}function useMotionRef(et,c,tt){return reactExports.useCallback(nt=>{nt&&et.onMount&&et.onMount(nt),c&&(nt?c.mount(nt):c.unmount()),tt&&(typeof tt=="function"?tt(nt):isRefObject(tt)&&(tt.current=nt))},[c])}const camelToDash=et=>et.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(et,c,tt,nt,rt){var it,st;const{visualElement:at}=reactExports.useContext(MotionContext),ot=reactExports.useContext(LazyContext),lt=reactExports.useContext(PresenceContext),ct=reactExports.useContext(MotionConfigContext).reducedMotion,dt=reactExports.useRef(null);nt=nt||ot.renderer,!dt.current&&nt&&(dt.current=nt(et,{visualState:c,parent:at,props:tt,presenceContext:lt,blockInitialAnimation:lt?lt.initial===!1:!1,reducedMotionConfig:ct}));const ht=dt.current,mt=reactExports.useContext(SwitchLayoutGroupContext);ht&&!ht.projection&&rt&&(ht.type==="html"||ht.type==="svg")&&createProjectionNode$1(dt.current,tt,rt,mt);const gt=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{ht&&gt.current&&ht.update(tt,lt)});const yt=tt[optimizedAppearDataAttribute],_t=reactExports.useRef(!!yt&&!(!((it=window.MotionHandoffIsComplete)===null||it===void 0)&&it.call(window,yt))&&((st=window.MotionHasOptimisedAnimation)===null||st===void 0?void 0:st.call(window,yt)));return useIsomorphicLayoutEffect$2(()=>{ht&&(gt.current=!0,window.MotionIsMounted=!0,ht.updateFeatures(),microtask.render(ht.render),_t.current&&ht.animationState&&ht.animationState.animateChanges())}),reactExports.useEffect(()=>{ht&&(!_t.current&&ht.animationState&&ht.animationState.animateChanges(),_t.current&&(queueMicrotask(()=>{var pt;(pt=window.MotionHandoffMarkAsComplete)===null||pt===void 0||pt.call(window,yt)}),_t.current=!1))}),ht}function createProjectionNode$1(et,c,tt,nt){const{layoutId:rt,layout:it,drag:st,dragConstraints:at,layoutScroll:ot,layoutRoot:lt}=c;et.projection=new tt(et.latestValues,c["data-framer-portal-id"]?void 0:getClosestProjectingNode(et.parent)),et.projection.setOptions({layoutId:rt,layout:it,alwaysMeasureLayout:!!st||at&&isRefObject(at),visualElement:et,animationType:typeof it=="string"?it:"both",initialPromotionConfig:nt,layoutScroll:ot,layoutRoot:lt})}function getClosestProjectingNode(et){if(et)return et.options.allowProjection!==!1?et.projection:getClosestProjectingNode(et.parent)}function createRendererMotionComponent({preloadedFeatures:et,createVisualElement:c,useRender:tt,useVisualState:nt,Component:rt}){var it,st;et&&loadFeatures(et);function at(lt,ct){let dt;const ht={...reactExports.useContext(MotionConfigContext),...lt,layoutId:useLayoutId(lt)},{isStatic:mt}=ht,gt=useCreateMotionContext(lt),yt=nt(lt,mt);if(!mt&&isBrowser){useStrictMode();const _t=getProjectionFunctionality(ht);dt=_t.MeasureLayout,gt.visualElement=useVisualElement(rt,yt,ht,c,_t.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:gt,children:[dt&&gt.visualElement?jsxRuntimeExports.jsx(dt,{visualElement:gt.visualElement,...ht}):null,tt(rt,lt,useMotionRef(yt,gt.visualElement,ct),yt,mt,gt.visualElement)]})}at.displayName=`motion.${typeof rt=="string"?rt:`create(${(st=(it=rt.displayName)!==null&&it!==void 0?it:rt.name)!==null&&st!==void 0?st:""})`}`;const ot=reactExports.forwardRef(at);return ot[motionComponentSymbol]=rt,ot}function useLayoutId({layoutId:et}){const c=reactExports.useContext(LayoutGroupContext).id;return c&&et!==void 0?c+"-"+et:et}function useStrictMode(et,c){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(et){const{drag:c,layout:tt}=featureDefinitions;if(!c&&!tt)return{};const nt={...c,...tt};return{MeasureLayout:c!=null&&c.isEnabled(et)||tt!=null&&tt.isEnabled(et)?nt.MeasureLayout:void 0,ProjectionNode:nt.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(et){return typeof et!="string"||et.includes("-")?!1:!!(lowercaseSVGElements.indexOf(et)>-1||/[A-Z]/u.test(et))}function getValueState(et){const c=[{},{}];return et==null||et.values.forEach((tt,nt)=>{c[0][nt]=tt.get(),c[1][nt]=tt.getVelocity()}),c}function resolveVariantFromProps(et,c,tt,nt){if(typeof c=="function"){const[rt,it]=getValueState(nt);c=c(tt!==void 0?tt:et.custom,rt,it)}if(typeof c=="string"&&(c=et.variants&&et.variants[c]),typeof c=="function"){const[rt,it]=getValueState(nt);c=c(tt!==void 0?tt:et.custom,rt,it)}return c}const isKeyframesTarget=et=>Array.isArray(et),isCustomValue=et=>!!(et&&typeof et=="object"&&et.mix&&et.toValue),resolveFinalValueInKeyframes=et=>isKeyframesTarget(et)?et[et.length-1]||0:et,isMotionValue=et=>!!(et&&et.getVelocity);function resolveMotionValue(et){const c=isMotionValue(et)?et.get():et;return isCustomValue(c)?c.toValue():c}function makeState({scrapeMotionValuesFromProps:et,createRenderState:c,onUpdate:tt},nt,rt,it){const st={latestValues:makeLatestValues(nt,rt,it,et),renderState:c()};return tt&&(st.onMount=at=>tt({props:nt,current:at,...st}),st.onUpdate=at=>tt(at)),st}const makeUseVisualState=et=>(c,tt)=>{const nt=reactExports.useContext(MotionContext),rt=reactExports.useContext(PresenceContext),it=()=>makeState(et,c,nt,rt);return tt?it():useConstant(it)};function makeLatestValues(et,c,tt,nt){const rt={},it=nt(et,{});for(const ht in it)rt[ht]=resolveMotionValue(it[ht]);let{initial:st,animate:at}=et;const ot=isControllingVariants(et),lt=isVariantNode(et);c&&lt&&!ot&&et.inherit!==!1&&(st===void 0&&(st=c.initial),at===void 0&&(at=c.animate));let ct=tt?tt.initial===!1:!1;ct=ct||st===!1;const dt=ct?at:st;if(dt&&typeof dt!="boolean"&&!isAnimationControls(dt)){const ht=Array.isArray(dt)?dt:[dt];for(let mt=0;mt<ht.length;mt++){const gt=resolveVariantFromProps(et,ht[mt]);if(gt){const{transitionEnd:yt,transition:_t,...pt}=gt;for(const xt in pt){let vt=pt[xt];if(Array.isArray(vt)){const St=ct?vt.length-1:0;vt=vt[St]}vt!==null&&(rt[xt]=vt)}for(const xt in yt)rt[xt]=yt[xt]}}}return rt}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),checkStringStartsWith=et=>c=>typeof c=="string"&&c.startsWith(et),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=et=>startsAsVariableToken(et)?singleCssVariableRegex.test(et.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(et,c)=>c&&typeof et=="number"?c.transform(et):et,clamp$1=(et,c,tt)=>tt>c?c:tt<et?et:tt,number={test:et=>typeof et=="number",parse:parseFloat,transform:et=>et},alpha={...number,transform:et=>clamp$1(0,1,et)},scale={...number,default:1},createUnitType=et=>({test:c=>typeof c=="string"&&c.endsWith(et)&&c.split(" ").length===1,parse:parseFloat,transform:c=>`${c}${et}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px$1=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:et=>percent.parse(et)/100,transform:et=>percent.transform(et*100)},browserNumberValueTypes={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,backgroundPositionX:px$1,backgroundPositionY:px$1},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px$1},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px$1,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(et,c,tt){let nt="",rt=!0;for(let it=0;it<numTransforms;it++){const st=transformPropOrder[it],at=et[st];if(at===void 0)continue;let ot=!0;if(typeof at=="number"?ot=at===(st.startsWith("scale")?1:0):ot=parseFloat(at)===0,!ot||tt){const lt=getValueAsType(at,numberValueTypes[st]);if(!ot){rt=!1;const ct=translateAlias[st]||st;nt+=`${ct}(${lt}) `}tt&&(c[st]=lt)}}return nt=nt.trim(),tt?nt=tt(c,rt?"":nt):rt&&(nt="none"),nt}function buildHTMLStyles(et,c,tt){const{style:nt,vars:rt,transformOrigin:it}=et;let st=!1,at=!1;for(const ot in c){const lt=c[ot];if(transformProps.has(ot)){st=!0;continue}else if(isCSSVariableName(ot)){rt[ot]=lt;continue}else{const ct=getValueAsType(lt,numberValueTypes[ot]);ot.startsWith("origin")?(at=!0,it[ot]=ct):nt[ot]=ct}}if(c.transform||(st||tt?nt.transform=buildTransform(c,et.transform,tt):nt.transform&&(nt.transform="none")),at){const{originX:ot="50%",originY:lt="50%",originZ:ct=0}=it;nt.transformOrigin=`${ot} ${lt} ${ct}`}}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(et,c,tt=1,nt=0,rt=!0){et.pathLength=1;const it=rt?dashKeys:camelKeys;et[it.offset]=px$1.transform(-nt);const st=px$1.transform(c),at=px$1.transform(tt);et[it.array]=`${st} ${at}`}function calcOrigin$1(et,c,tt){return typeof et=="string"?et:px$1.transform(c+tt*et)}function calcSVGTransformOrigin(et,c,tt){const nt=calcOrigin$1(c,et.x,et.width),rt=calcOrigin$1(tt,et.y,et.height);return`${nt} ${rt}`}function buildSVGAttrs(et,{attrX:c,attrY:tt,attrScale:nt,originX:rt,originY:it,pathLength:st,pathSpacing:at=1,pathOffset:ot=0,...lt},ct,dt){if(buildHTMLStyles(et,lt,dt),ct){et.style.viewBox&&(et.attrs.viewBox=et.style.viewBox);return}et.attrs=et.style,et.style={};const{attrs:ht,style:mt,dimensions:gt}=et;ht.transform&&(gt&&(mt.transform=ht.transform),delete ht.transform),gt&&(rt!==void 0||it!==void 0||mt.transform)&&(mt.transformOrigin=calcSVGTransformOrigin(gt,rt!==void 0?rt:.5,it!==void 0?it:.5)),c!==void 0&&(ht.x=c),tt!==void 0&&(ht.y=tt),nt!==void 0&&(ht.scale=nt),st!==void 0&&buildSVGPath(ht,st,at,ot,!1)}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=et=>typeof et=="string"&&et.toLowerCase()==="svg";function renderHTML(et,{style:c,vars:tt},nt,rt){Object.assign(et.style,c,rt&&rt.getProjectionStyles(nt));for(const it in tt)et.style.setProperty(it,tt[it])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(et,c,tt,nt){renderHTML(et,c,void 0,nt);for(const rt in c.attrs)et.setAttribute(camelCaseAttributes.has(rt)?rt:camelToDash(rt),c.attrs[rt])}const scaleCorrectors={};function addScaleCorrector(et){Object.assign(scaleCorrectors,et)}function isForcedMotionValue(et,{layout:c,layoutId:tt}){return transformProps.has(et)||et.startsWith("origin")||(c||tt!==void 0)&&(!!scaleCorrectors[et]||et==="opacity")}function scrapeMotionValuesFromProps$1(et,c,tt){var nt;const{style:rt}=et,it={};for(const st in rt)(isMotionValue(rt[st])||c.style&&isMotionValue(c.style[st])||isForcedMotionValue(st,et)||((nt=tt==null?void 0:tt.getValue(st))===null||nt===void 0?void 0:nt.liveStyle)!==void 0)&&(it[st]=rt[st]);return it}function scrapeMotionValuesFromProps(et,c,tt){const nt=scrapeMotionValuesFromProps$1(et,c,tt);for(const rt in et)if(isMotionValue(et[rt])||isMotionValue(c[rt])){const it=transformPropOrder.indexOf(rt)!==-1?"attr"+rt.charAt(0).toUpperCase()+rt.substring(1):rt;nt[it]=et[rt]}return nt}function updateSVGDimensions(et,c){try{c.dimensions=typeof et.getBBox=="function"?et.getBBox():et.getBoundingClientRect()}catch{c.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:et,prevProps:c,current:tt,renderState:nt,latestValues:rt})=>{if(!tt)return;let it=!!et.drag;if(!it){for(const at in rt)if(transformProps.has(at)){it=!0;break}}if(!it)return;let st=!c;if(c)for(let at=0;at<layoutProps.length;at++){const ot=layoutProps[at];et[ot]!==c[ot]&&(st=!0)}st&&frame.read(()=>{updateSVGDimensions(tt,nt),frame.render(()=>{buildSVGAttrs(nt,rt,isSVGTag(tt.tagName),et.transformTemplate),renderSVG(tt,nt)})})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(et,c,tt){for(const nt in c)!isMotionValue(c[nt])&&!isForcedMotionValue(nt,tt)&&(et[nt]=c[nt])}function useInitialMotionValues({transformTemplate:et},c){return reactExports.useMemo(()=>{const tt=createHtmlRenderState();return buildHTMLStyles(tt,c,et),Object.assign({},tt.vars,tt.style)},[c])}function useStyle(et,c){const tt=et.style||{},nt={};return copyRawValuesOnly(nt,tt,et),Object.assign(nt,useInitialMotionValues(et,c)),nt}function useHTMLProps(et,c){const tt={},nt=useStyle(et,c);return et.drag&&et.dragListener!==!1&&(tt.draggable=!1,nt.userSelect=nt.WebkitUserSelect=nt.WebkitTouchCallout="none",nt.touchAction=et.drag===!0?"none":`pan-${et.drag==="x"?"y":"x"}`),et.tabIndex===void 0&&(et.onTap||et.onTapStart||et.whileTap)&&(tt.tabIndex=0),tt.style=nt,tt}function useSVGProps(et,c,tt,nt){const rt=reactExports.useMemo(()=>{const it=createSvgRenderState();return buildSVGAttrs(it,c,isSVGTag(nt),et.transformTemplate),{...it.attrs,style:{...it.style}}},[c]);if(et.style){const it={};copyRawValuesOnly(it,et.style,et),rt.style={...it,...rt.style}}return rt}function createUseRender(et=!1){return(tt,nt,rt,{latestValues:it},st)=>{const ot=(isSVGComponent(tt)?useSVGProps:useHTMLProps)(nt,it,st,tt),lt=filterProps(nt,typeof tt=="string",et),ct=tt!==reactExports.Fragment?{...lt,...ot,ref:rt}:{},{children:dt}=nt,ht=reactExports.useMemo(()=>isMotionValue(dt)?dt.get():dt,[dt]);return reactExports.createElement(tt,{...ct,children:ht})}}function createMotionComponentFactory(et,c){return function(nt,{forwardMotionProps:rt}={forwardMotionProps:!1}){const st={...isSVGComponent(nt)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:et,useRender:createUseRender(rt),createVisualElement:c,Component:nt};return createRendererMotionComponent(st)}}function shallowCompare(et,c){if(!Array.isArray(c))return!1;const tt=c.length;if(tt!==et.length)return!1;for(let nt=0;nt<tt;nt++)if(c[nt]!==et[nt])return!1;return!0}function resolveVariant(et,c,tt){const nt=et.getProps();return resolveVariantFromProps(nt,c,tt!==void 0?tt:nt.custom,et)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(c){this.stop=()=>this.runAll("stop"),this.animations=c.filter(Boolean)}get finished(){return Promise.all(this.animations.map(c=>"finished"in c?c.finished:c))}getAll(c){return this.animations[0][c]}setAll(c,tt){for(let nt=0;nt<this.animations.length;nt++)this.animations[nt][c]=tt}attachTimeline(c,tt){const nt=this.animations.map(rt=>{if(supportsScrollTimeline()&&rt.attachTimeline)return rt.attachTimeline(c);if(typeof tt=="function")return tt(rt)});return()=>{nt.forEach((rt,it)=>{rt&&rt(),this.animations[it].stop()})}}get time(){return this.getAll("time")}set time(c){this.setAll("time",c)}get speed(){return this.getAll("speed")}set speed(c){this.setAll("speed",c)}get startTime(){return this.getAll("startTime")}get duration(){let c=0;for(let tt=0;tt<this.animations.length;tt++)c=Math.max(c,this.animations[tt].duration);return c}runAll(c){this.animations.forEach(tt=>tt[c]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(c,tt){return Promise.all(this.animations).then(c).catch(tt)}}function getValueTransition(et,c){return et?et[c]||et.default||et:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(et){let c=0;const tt=50;let nt=et.next(c);for(;!nt.done&&c<maxGeneratorDuration;)c+=tt,nt=et.next(c);return c>=maxGeneratorDuration?1/0:c}function isGenerator(et){return typeof et=="function"}function attachTimeline(et,c){et.timeline=c,et.onfinish=null}const isBezierDefinition=et=>Array.isArray(et)&&typeof et[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(et,c){const tt=memo(et);return()=>{var nt;return(nt=supportsFlags[c])!==null&&nt!==void 0?nt:tt()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(et,c,tt=10)=>{let nt="";const rt=Math.max(Math.round(c/tt),2);for(let it=0;it<rt;it++)nt+=et(progress(0,rt-1,it))+", ";return`linear(${nt.substring(0,nt.length-2)})`};function isWaapiSupportedEasing(et){return!!(typeof et=="function"&&supportsLinearEasing()||!et||typeof et=="string"&&(et in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(et)||Array.isArray(et)&&et.every(isWaapiSupportedEasing))}const cubicBezierAsString=([et,c,tt,nt])=>`cubic-bezier(${et}, ${c}, ${tt}, ${nt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(et,c){if(et)return typeof et=="function"&&supportsLinearEasing()?generateLinearEasing(et,c):isBezierDefinition(et)?cubicBezierAsString(et):Array.isArray(et)?et.map(tt=>mapEasingToNativeEasing(tt,c)||supportedWaapiEasing.easeOut):supportedWaapiEasing[et]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(et,c,tt){var nt;if(et instanceof Element)return[et];if(typeof et=="string"){let rt=document;const it=(nt=void 0)!==null&&nt!==void 0?nt:rt.querySelectorAll(et);return it?Array.from(it):[]}return Array.from(et)}function setupGesture(et,c){const tt=resolveElements(et),nt=new AbortController,rt={passive:!0,...c,signal:nt.signal};return[tt,rt,()=>nt.abort()]}function filterEvents$1(et){return c=>{c.pointerType==="touch"||isDragActive()||et(c)}}function hover(et,c,tt={}){const[nt,rt,it]=setupGesture(et,tt),st=filterEvents$1(at=>{const{target:ot}=at,lt=c(at);if(typeof lt!="function"||!ot)return;const ct=filterEvents$1(dt=>{lt(dt),ot.removeEventListener("pointerleave",ct)});ot.addEventListener("pointerleave",ct,rt)});return nt.forEach(at=>{at.addEventListener("pointerenter",st,rt)}),it}const isNodeOrChild=(et,c)=>c?et===c?!0:isNodeOrChild(et,c.parentElement):!1,isPrimaryPointer=et=>et.pointerType==="mouse"?typeof et.button!="number"||et.button<=0:et.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(et){return focusableElements.has(et.tagName)||et.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(et){return c=>{c.key==="Enter"&&et(c)}}function firePointerEvent(et,c){et.dispatchEvent(new PointerEvent("pointer"+c,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(et,c)=>{const tt=et.currentTarget;if(!tt)return;const nt=filterEvents(()=>{if(isPressing.has(tt))return;firePointerEvent(tt,"down");const rt=filterEvents(()=>{firePointerEvent(tt,"up")}),it=()=>firePointerEvent(tt,"cancel");tt.addEventListener("keyup",rt,c),tt.addEventListener("blur",it,c)});tt.addEventListener("keydown",nt,c),tt.addEventListener("blur",()=>tt.removeEventListener("keydown",nt),c)};function isValidPressEvent(et){return isPrimaryPointer(et)&&!isDragActive()}function press(et,c,tt={}){const[nt,rt,it]=setupGesture(et,tt),st=at=>{const ot=at.currentTarget;if(!isValidPressEvent(at)||isPressing.has(ot))return;isPressing.add(ot);const lt=c(at),ct=(mt,gt)=>{window.removeEventListener("pointerup",dt),window.removeEventListener("pointercancel",ht),!(!isValidPressEvent(mt)||!isPressing.has(ot))&&(isPressing.delete(ot),typeof lt=="function"&&lt(mt,{success:gt}))},dt=mt=>{ct(mt,tt.useGlobalTarget||isNodeOrChild(ot,mt.target))},ht=mt=>{ct(mt,!1)};window.addEventListener("pointerup",dt,rt),window.addEventListener("pointercancel",ht,rt)};return nt.forEach(at=>{!isElementKeyboardAccessible(at)&&at.getAttribute("tabindex")===null&&(at.tabIndex=0),(tt.useGlobalTarget?window:at).addEventListener("pointerdown",st,rt),at.addEventListener("focus",lt=>enableKeyboardPress(lt,rt),rt)}),it}function setDragLock(et){return et==="x"||et==="y"?isDragging[et]?null:(isDragging[et]=!0,()=>{isDragging[et]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now$1;function clearTime(){now$1=void 0}const time={now:()=>(now$1===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now$1),set:et=>{now$1=et,queueMicrotask(clearTime)}};function addUniqueItem(et,c){et.indexOf(c)===-1&&et.push(c)}function removeItem(et,c){const tt=et.indexOf(c);tt>-1&&et.splice(tt,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(c){return addUniqueItem(this.subscriptions,c),()=>removeItem(this.subscriptions,c)}notify(c,tt,nt){const rt=this.subscriptions.length;if(rt)if(rt===1)this.subscriptions[0](c,tt,nt);else for(let it=0;it<rt;it++){const st=this.subscriptions[it];st&&st(c,tt,nt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(et,c){return c?et*(1e3/c):0}const MAX_VELOCITY_DELTA=30,isFloat=et=>!isNaN(parseFloat(et));class MotionValue{constructor(c,tt={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(nt,rt=!0)=>{const it=time.now();this.updatedAt!==it&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(nt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),rt&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(c),this.owner=tt.owner}setCurrent(c){this.current=c,this.updatedAt=time.now(),this.canTrackVelocity===null&&c!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(c=this.current){this.prevFrameValue=c,this.prevUpdatedAt=this.updatedAt}onChange(c){return this.on("change",c)}on(c,tt){this.events[c]||(this.events[c]=new SubscriptionManager);const nt=this.events[c].add(tt);return c==="change"?()=>{nt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:nt}clearListeners(){for(const c in this.events)this.events[c].clear()}attach(c,tt){this.passiveEffect=c,this.stopPassiveEffect=tt}set(c,tt=!0){!tt||!this.passiveEffect?this.updateAndNotify(c,tt):this.passiveEffect(c,this.updateAndNotify)}setWithVelocity(c,tt,nt){this.set(tt),this.prev=void 0,this.prevFrameValue=c,this.prevUpdatedAt=this.updatedAt-nt}jump(c,tt=!0){this.updateAndNotify(c),this.prev=c,this.prevUpdatedAt=this.prevFrameValue=void 0,tt&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const c=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||c-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const tt=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),tt)}start(c){return this.stop(),new Promise(tt=>{this.hasAnimated=!0,this.animation=c(tt),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(et,c){return new MotionValue(et,c)}function setMotionValue(et,c,tt){et.hasValue(c)?et.getValue(c).set(tt):et.addValue(c,motionValue(tt))}function setTarget(et,c){const tt=resolveVariant(et,c);let{transitionEnd:nt={},transition:rt={},...it}=tt||{};it={...it,...nt};for(const st in it){const at=resolveFinalValueInKeyframes(it[st]);setMotionValue(et,st,at)}}function isWillChangeMotionValue(et){return!!(isMotionValue(et)&&et.add)}function addValueToWillChange(et,c){const tt=et.getValue("willChange");if(isWillChangeMotionValue(tt))return tt.add(c)}function getOptimisedAppearId(et){return et.props[optimizedAppearDataAttribute]}const calcBezier=(et,c,tt)=>(((1-3*tt+3*c)*et+(3*tt-6*c))*et+3*c)*et,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(et,c,tt,nt,rt){let it,st,at=0;do st=c+(tt-c)/2,it=calcBezier(st,nt,rt)-et,it>0?tt=st:c=st;while(Math.abs(it)>subdivisionPrecision&&++at<subdivisionMaxIterations);return st}function cubicBezier(et,c,tt,nt){if(et===c&&tt===nt)return noop;const rt=it=>binarySubdivide(it,0,1,et,tt);return it=>it===0||it===1?it:calcBezier(rt(it),c,nt)}const mirrorEasing=et=>c=>c<=.5?et(2*c)/2:(2-et(2*(1-c)))/2,reverseEasing=et=>c=>1-et(1-c),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=et=>(et*=2)<1?.5*backIn(et):.5*(2-Math.pow(2,-10*(et-1))),circIn=et=>1-Math.sin(Math.acos(et)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=et=>/^0[^.\s]+$/u.test(et);function isNone(et){return typeof et=="number"?et===0:et!==null?et==="none"||et==="0"||isZeroValueString(et):!0}const sanitize=et=>Math.round(et*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(et){return et==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(et,c)=>tt=>!!(typeof tt=="string"&&singleColorRegex.test(tt)&&tt.startsWith(et)||c&&!isNullish(tt)&&Object.prototype.hasOwnProperty.call(tt,c)),splitColor=(et,c,tt)=>nt=>{if(typeof nt!="string")return nt;const[rt,it,st,at]=nt.match(floatRegex);return{[et]:parseFloat(rt),[c]:parseFloat(it),[tt]:parseFloat(st),alpha:at!==void 0?parseFloat(at):1}},clampRgbUnit=et=>clamp$1(0,255,et),rgbUnit={...number,transform:et=>Math.round(clampRgbUnit(et))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:et,green:c,blue:tt,alpha:nt=1})=>"rgba("+rgbUnit.transform(et)+", "+rgbUnit.transform(c)+", "+rgbUnit.transform(tt)+", "+sanitize(alpha.transform(nt))+")"};function parseHex(et){let c="",tt="",nt="",rt="";return et.length>5?(c=et.substring(1,3),tt=et.substring(3,5),nt=et.substring(5,7),rt=et.substring(7,9)):(c=et.substring(1,2),tt=et.substring(2,3),nt=et.substring(3,4),rt=et.substring(4,5),c+=c,tt+=tt,nt+=nt,rt+=rt),{red:parseInt(c,16),green:parseInt(tt,16),blue:parseInt(nt,16),alpha:rt?parseInt(rt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:et,saturation:c,lightness:tt,alpha:nt=1})=>"hsla("+Math.round(et)+", "+percent.transform(sanitize(c))+", "+percent.transform(sanitize(tt))+", "+sanitize(alpha.transform(nt))+")"},color={test:et=>rgba.test(et)||hex.test(et)||hsla.test(et),parse:et=>rgba.test(et)?rgba.parse(et):hsla.test(et)?hsla.parse(et):hex.parse(et),transform:et=>typeof et=="string"?et:et.hasOwnProperty("red")?rgba.transform(et):hsla.transform(et)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(et){var c,tt;return isNaN(et)&&typeof et=="string"&&(((c=et.match(floatRegex))===null||c===void 0?void 0:c.length)||0)+(((tt=et.match(colorRegex))===null||tt===void 0?void 0:tt.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(et){const c=et.toString(),tt=[],nt={color:[],number:[],var:[]},rt=[];let it=0;const at=c.replace(complexRegex,ot=>(color.test(ot)?(nt.color.push(it),rt.push(COLOR_TOKEN),tt.push(color.parse(ot))):ot.startsWith(VAR_FUNCTION_TOKEN)?(nt.var.push(it),rt.push(VAR_TOKEN),tt.push(ot)):(nt.number.push(it),rt.push(NUMBER_TOKEN),tt.push(parseFloat(ot))),++it,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:tt,split:at,indexes:nt,types:rt}}function parseComplexValue(et){return analyseComplexValue(et).values}function createTransformer(et){const{split:c,types:tt}=analyseComplexValue(et),nt=c.length;return rt=>{let it="";for(let st=0;st<nt;st++)if(it+=c[st],rt[st]!==void 0){const at=tt[st];at===NUMBER_TOKEN?it+=sanitize(rt[st]):at===COLOR_TOKEN?it+=color.transform(rt[st]):it+=rt[st]}return it}}const convertNumbersToZero=et=>typeof et=="number"?0:et;function getAnimatableNone$1(et){const c=parseComplexValue(et);return createTransformer(et)(c.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(et){const[c,tt]=et.slice(0,-1).split("(");if(c==="drop-shadow")return et;const[nt]=tt.match(floatRegex)||[];if(!nt)return et;const rt=tt.replace(nt,"");let it=maxDefaults.has(c)?1:0;return nt!==tt&&(it*=100),c+"("+it+rt+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:et=>{const c=et.match(functionRegex);return c?c.map(applyDefaultFilter).join(" "):et}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=et=>defaultValueTypes[et];function getAnimatableNone(et,c){let tt=getDefaultValueType(et);return tt!==filter&&(tt=complex),tt.getAnimatableNone?tt.getAnimatableNone(c):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(et,c,tt){let nt=0,rt;for(;nt<et.length&&!rt;){const it=et[nt];typeof it=="string"&&!invalidTemplates.has(it)&&analyseComplexValue(it).values.length&&(rt=et[nt]),nt++}if(rt&&tt)for(const it of c)et[it]=getAnimatableNone(tt,rt)}const isNumOrPxType=et=>et===number||et===px$1,getPosFromMatrix=(et,c)=>parseFloat(et.split(", ")[c]),getTranslateFromMatrix=(et,c)=>(tt,{transform:nt})=>{if(nt==="none"||!nt)return 0;const rt=nt.match(/^matrix3d\((.+)\)$/u);if(rt)return getPosFromMatrix(rt[1],c);{const it=nt.match(/^matrix\((.+)\)$/u);return it?getPosFromMatrix(it[1],et):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(et=>!transformKeys.has(et));function removeNonTranslationalTransform(et){const c=[];return nonTranslationalTransformKeys.forEach(tt=>{const nt=et.getValue(tt);nt!==void 0&&(c.push([tt,nt.get()]),nt.set(tt.startsWith("scale")?1:0))}),c}const positionalValues={width:({x:et},{paddingLeft:c="0",paddingRight:tt="0"})=>et.max-et.min-parseFloat(c)-parseFloat(tt),height:({y:et},{paddingTop:c="0",paddingBottom:tt="0"})=>et.max-et.min-parseFloat(c)-parseFloat(tt),top:(et,{top:c})=>parseFloat(c),left:(et,{left:c})=>parseFloat(c),bottom:({y:et},{top:c})=>parseFloat(c)+(et.max-et.min),right:({x:et},{left:c})=>parseFloat(c)+(et.max-et.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const et=Array.from(toResolve).filter(nt=>nt.needsMeasurement),c=new Set(et.map(nt=>nt.element)),tt=new Map;c.forEach(nt=>{const rt=removeNonTranslationalTransform(nt);rt.length&&(tt.set(nt,rt),nt.render())}),et.forEach(nt=>nt.measureInitialState()),c.forEach(nt=>{nt.render();const rt=tt.get(nt);rt&&rt.forEach(([it,st])=>{var at;(at=nt.getValue(it))===null||at===void 0||at.set(st)})}),et.forEach(nt=>nt.measureEndState()),et.forEach(nt=>{nt.suspendedScrollY!==void 0&&window.scrollTo(0,nt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(et=>et.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(et=>{et.readKeyframes(),et.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(c,tt,nt,rt,it,st=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...c],this.onComplete=tt,this.name=nt,this.motionValue=rt,this.element=it,this.isAsync=st}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:c,name:tt,element:nt,motionValue:rt}=this;for(let it=0;it<c.length;it++)if(c[it]===null)if(it===0){const st=rt==null?void 0:rt.get(),at=c[c.length-1];if(st!==void 0)c[0]=st;else if(nt&&tt){const ot=nt.readValue(tt,at);ot!=null&&(c[0]=ot)}c[0]===void 0&&(c[0]=at),rt&&st===void 0&&rt.set(c[0])}else c[it]=c[it-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=et=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(et),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(et){const c=splitCSSVariableRegex.exec(et);if(!c)return[,];const[,tt,nt,rt]=c;return[`--${tt??nt}`,rt]}function getVariableValue(et,c,tt=1){const[nt,rt]=parseCSSVariable(et);if(!nt)return;const it=window.getComputedStyle(c).getPropertyValue(nt);if(it){const st=it.trim();return isNumericalString(st)?parseFloat(st):st}return isCSSVariableToken(rt)?getVariableValue(rt,c,tt+1):rt}const testValueType=et=>c=>c.test(et),auto={test:et=>et==="auto",parse:et=>et},dimensionValueTypes=[number,px$1,percent,degrees,vw,vh,auto],findDimensionValueType=et=>dimensionValueTypes.find(testValueType(et));class DOMKeyframesResolver extends KeyframeResolver{constructor(c,tt,nt,rt,it){super(c,tt,nt,rt,it,!0)}readKeyframes(){const{unresolvedKeyframes:c,element:tt,name:nt}=this;if(!tt||!tt.current)return;super.readKeyframes();for(let ot=0;ot<c.length;ot++){let lt=c[ot];if(typeof lt=="string"&&(lt=lt.trim(),isCSSVariableToken(lt))){const ct=getVariableValue(lt,tt.current);ct!==void 0&&(c[ot]=ct),ot===c.length-1&&(this.finalKeyframe=lt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(nt)||c.length!==2)return;const[rt,it]=c,st=findDimensionValueType(rt),at=findDimensionValueType(it);if(st!==at)if(isNumOrPxType(st)&&isNumOrPxType(at))for(let ot=0;ot<c.length;ot++){const lt=c[ot];typeof lt=="string"&&(c[ot]=parseFloat(lt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:c,name:tt}=this,nt=[];for(let rt=0;rt<c.length;rt++)isNone(c[rt])&&nt.push(rt);nt.length&&makeNoneKeyframesAnimatable(c,nt,tt)}measureInitialState(){const{element:c,unresolvedKeyframes:tt,name:nt}=this;if(!c||!c.current)return;nt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[nt](c.measureViewportBox(),window.getComputedStyle(c.current)),tt[0]=this.measuredOrigin;const rt=tt[tt.length-1];rt!==void 0&&c.getValue(nt,rt).jump(rt,!1)}measureEndState(){var c;const{element:tt,name:nt,unresolvedKeyframes:rt}=this;if(!tt||!tt.current)return;const it=tt.getValue(nt);it&&it.jump(this.measuredOrigin,!1);const st=rt.length-1,at=rt[st];rt[st]=positionalValues[nt](tt.measureViewportBox(),window.getComputedStyle(tt.current)),at!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=at),!((c=this.removedTransforms)===null||c===void 0)&&c.length&&this.removedTransforms.forEach(([ot,lt])=>{tt.getValue(ot).set(lt)}),this.resolveNoneKeyframes()}}const isAnimatable=(et,c)=>c==="zIndex"?!1:!!(typeof et=="number"||Array.isArray(et)||typeof et=="string"&&(complex.test(et)||et==="0")&&!et.startsWith("url("));function hasKeyframesChanged(et){const c=et[0];if(et.length===1)return!0;for(let tt=0;tt<et.length;tt++)if(et[tt]!==c)return!0}function canAnimate(et,c,tt,nt){const rt=et[0];if(rt===null)return!1;if(c==="display"||c==="visibility")return!0;const it=et[et.length-1],st=isAnimatable(rt,c),at=isAnimatable(it,c);return!st||!at?!1:hasKeyframesChanged(et)||(tt==="spring"||isGenerator(tt))&&nt}const isNotNull=et=>et!==null;function getFinalKeyframe(et,{repeat:c,repeatType:tt="loop"},nt){const rt=et.filter(isNotNull),it=c&&tt!=="loop"&&c%2===1?0:rt.length-1;return!it||nt===void 0?rt[it]:nt}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:c=!0,delay:tt=0,type:nt="keyframes",repeat:rt=0,repeatDelay:it=0,repeatType:st="loop",...at}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:c,delay:tt,type:nt,repeat:rt,repeatDelay:it,repeatType:st,...at},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(c,tt){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:nt,type:rt,velocity:it,delay:st,onComplete:at,onUpdate:ot,isGenerator:lt}=this.options;if(!lt&&!canAnimate(c,nt,rt,it))if(st)this.options.duration=0;else{ot&&ot(getFinalKeyframe(c,this.options,tt)),at&&at(),this.resolveFinishedPromise();return}const ct=this.initPlayback(c,tt);ct!==!1&&(this._resolved={keyframes:c,finalKeyframe:tt,...ct},this.onPostResolved())}onPostResolved(){}then(c,tt){return this.currentFinishedPromise.then(c,tt)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(c=>{this.resolveFinishedPromise=c})}}const mixNumber$1=(et,c,tt)=>et+(c-et)*tt;function hueToRgb(et,c,tt){return tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?et+(c-et)*6*tt:tt<1/2?c:tt<2/3?et+(c-et)*(2/3-tt)*6:et}function hslaToRgba({hue:et,saturation:c,lightness:tt,alpha:nt}){et/=360,c/=100,tt/=100;let rt=0,it=0,st=0;if(!c)rt=it=st=tt;else{const at=tt<.5?tt*(1+c):tt+c-tt*c,ot=2*tt-at;rt=hueToRgb(ot,at,et+1/3),it=hueToRgb(ot,at,et),st=hueToRgb(ot,at,et-1/3)}return{red:Math.round(rt*255),green:Math.round(it*255),blue:Math.round(st*255),alpha:nt}}function mixImmediate(et,c){return tt=>tt>0?c:et}const mixLinearColor=(et,c,tt)=>{const nt=et*et,rt=tt*(c*c-nt)+nt;return rt<0?0:Math.sqrt(rt)},colorTypes=[hex,rgba,hsla],getColorType=et=>colorTypes.find(c=>c.test(et));function asRGBA(et){const c=getColorType(et);if(!c)return!1;let tt=c.parse(et);return c===hsla&&(tt=hslaToRgba(tt)),tt}const mixColor=(et,c)=>{const tt=asRGBA(et),nt=asRGBA(c);if(!tt||!nt)return mixImmediate(et,c);const rt={...tt};return it=>(rt.red=mixLinearColor(tt.red,nt.red,it),rt.green=mixLinearColor(tt.green,nt.green,it),rt.blue=mixLinearColor(tt.blue,nt.blue,it),rt.alpha=mixNumber$1(tt.alpha,nt.alpha,it),rgba.transform(rt))},combineFunctions=(et,c)=>tt=>c(et(tt)),pipe=(...et)=>et.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(et,c){return invisibleValues.has(et)?tt=>tt<=0?et:c:tt=>tt>=1?c:et}function mixNumber(et,c){return tt=>mixNumber$1(et,c,tt)}function getMixer(et){return typeof et=="number"?mixNumber:typeof et=="string"?isCSSVariableToken(et)?mixImmediate:color.test(et)?mixColor:mixComplex:Array.isArray(et)?mixArray:typeof et=="object"?color.test(et)?mixColor:mixObject:mixImmediate}function mixArray(et,c){const tt=[...et],nt=tt.length,rt=et.map((it,st)=>getMixer(it)(it,c[st]));return it=>{for(let st=0;st<nt;st++)tt[st]=rt[st](it);return tt}}function mixObject(et,c){const tt={...et,...c},nt={};for(const rt in tt)et[rt]!==void 0&&c[rt]!==void 0&&(nt[rt]=getMixer(et[rt])(et[rt],c[rt]));return rt=>{for(const it in nt)tt[it]=nt[it](rt);return tt}}function matchOrder(et,c){var tt;const nt=[],rt={color:0,var:0,number:0};for(let it=0;it<c.values.length;it++){const st=c.types[it],at=et.indexes[st][rt[st]],ot=(tt=et.values[at])!==null&&tt!==void 0?tt:0;nt[it]=ot,rt[st]++}return nt}const mixComplex=(et,c)=>{const tt=complex.createTransformer(c),nt=analyseComplexValue(et),rt=analyseComplexValue(c);return nt.indexes.var.length===rt.indexes.var.length&&nt.indexes.color.length===rt.indexes.color.length&&nt.indexes.number.length>=rt.indexes.number.length?invisibleValues.has(et)&&!rt.values.length||invisibleValues.has(c)&&!nt.values.length?mixVisibility(et,c):pipe(mixArray(matchOrder(nt,rt),rt.values),tt):mixImmediate(et,c)};function mix(et,c,tt){return typeof et=="number"&&typeof c=="number"&&typeof tt=="number"?mixNumber$1(et,c,tt):getMixer(et)(et,c)}const velocitySampleDuration=5;function calcGeneratorVelocity(et,c,tt){const nt=Math.max(c-velocitySampleDuration,0);return velocityPerSecond(tt-et(nt),c-nt)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:et=springDefaults.duration,bounce:c=springDefaults.bounce,velocity:tt=springDefaults.velocity,mass:nt=springDefaults.mass}){let rt,it,st=1-c;st=clamp$1(springDefaults.minDamping,springDefaults.maxDamping,st),et=clamp$1(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(et)),st<1?(rt=lt=>{const ct=lt*st,dt=ct*et,ht=ct-tt,mt=calcAngularFreq(lt,st),gt=Math.exp(-dt);return safeMin-ht/mt*gt},it=lt=>{const dt=lt*st*et,ht=dt*tt+tt,mt=Math.pow(st,2)*Math.pow(lt,2)*et,gt=Math.exp(-dt),yt=calcAngularFreq(Math.pow(lt,2),st);return(-rt(lt)+safeMin>0?-1:1)*((ht-mt)*gt)/yt}):(rt=lt=>{const ct=Math.exp(-lt*et),dt=(lt-tt)*et+1;return-safeMin+ct*dt},it=lt=>{const ct=Math.exp(-lt*et),dt=(tt-lt)*(et*et);return ct*dt});const at=5/et,ot=approximateRoot(rt,it,at);if(et=secondsToMilliseconds(et),isNaN(ot))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:et};{const lt=Math.pow(ot,2)*nt;return{stiffness:lt,damping:st*2*Math.sqrt(nt*lt),duration:et}}}const rootIterations=12;function approximateRoot(et,c,tt){let nt=tt;for(let rt=1;rt<rootIterations;rt++)nt=nt-et(nt)/c(nt);return nt}function calcAngularFreq(et,c){return et*Math.sqrt(1-c*c)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(et,c){return c.some(tt=>et[tt]!==void 0)}function getSpringOptions(et){let c={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...et};if(!isSpringType(et,physicsKeys)&&isSpringType(et,durationKeys))if(et.visualDuration){const tt=et.visualDuration,nt=2*Math.PI/(tt*1.2),rt=nt*nt,it=2*clamp$1(.05,1,1-(et.bounce||0))*Math.sqrt(rt);c={...c,mass:springDefaults.mass,stiffness:rt,damping:it}}else{const tt=findSpring(et);c={...c,...tt,mass:springDefaults.mass},c.isResolvedFromDuration=!0}return c}function spring(et=springDefaults.visualDuration,c=springDefaults.bounce){const tt=typeof et!="object"?{visualDuration:et,keyframes:[0,1],bounce:c}:et;let{restSpeed:nt,restDelta:rt}=tt;const it=tt.keyframes[0],st=tt.keyframes[tt.keyframes.length-1],at={done:!1,value:it},{stiffness:ot,damping:lt,mass:ct,duration:dt,velocity:ht,isResolvedFromDuration:mt}=getSpringOptions({...tt,velocity:-millisecondsToSeconds(tt.velocity||0)}),gt=ht||0,yt=lt/(2*Math.sqrt(ot*ct)),_t=st-it,pt=millisecondsToSeconds(Math.sqrt(ot/ct)),xt=Math.abs(_t)<5;nt||(nt=xt?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),rt||(rt=xt?springDefaults.restDelta.granular:springDefaults.restDelta.default);let vt;if(yt<1){const wt=calcAngularFreq(pt,yt);vt=Mt=>{const Ct=Math.exp(-yt*pt*Mt);return st-Ct*((gt+yt*pt*_t)/wt*Math.sin(wt*Mt)+_t*Math.cos(wt*Mt))}}else if(yt===1)vt=wt=>st-Math.exp(-pt*wt)*(_t+(gt+pt*_t)*wt);else{const wt=pt*Math.sqrt(yt*yt-1);vt=Mt=>{const Ct=Math.exp(-yt*pt*Mt),Rt=Math.min(wt*Mt,300);return st-Ct*((gt+yt*pt*_t)*Math.sinh(Rt)+wt*_t*Math.cosh(Rt))/wt}}const St={calculatedDuration:mt&&dt||null,next:wt=>{const Mt=vt(wt);if(mt)at.done=wt>=dt;else{let Ct=0;yt<1&&(Ct=wt===0?secondsToMilliseconds(gt):calcGeneratorVelocity(vt,wt,Mt));const Rt=Math.abs(Ct)<=nt,Lt=Math.abs(st-Mt)<=rt;at.done=Rt&&Lt}return at.value=at.done?st:Mt,at},toString:()=>{const wt=Math.min(calcGeneratorDuration(St),maxGeneratorDuration),Mt=generateLinearEasing(Ct=>St.next(wt*Ct).value,wt,30);return wt+"ms "+Mt}};return St}function inertia({keyframes:et,velocity:c=0,power:tt=.8,timeConstant:nt=325,bounceDamping:rt=10,bounceStiffness:it=500,modifyTarget:st,min:at,max:ot,restDelta:lt=.5,restSpeed:ct}){const dt=et[0],ht={done:!1,value:dt},mt=Rt=>at!==void 0&&Rt<at||ot!==void 0&&Rt>ot,gt=Rt=>at===void 0?ot:ot===void 0||Math.abs(at-Rt)<Math.abs(ot-Rt)?at:ot;let yt=tt*c;const _t=dt+yt,pt=st===void 0?_t:st(_t);pt!==_t&&(yt=pt-dt);const xt=Rt=>-yt*Math.exp(-Rt/nt),vt=Rt=>pt+xt(Rt),St=Rt=>{const Lt=xt(Rt),It=vt(Rt);ht.done=Math.abs(Lt)<=lt,ht.value=ht.done?pt:It};let wt,Mt;const Ct=Rt=>{mt(ht.value)&&(wt=Rt,Mt=spring({keyframes:[ht.value,gt(ht.value)],velocity:calcGeneratorVelocity(vt,Rt,ht.value),damping:rt,stiffness:it,restDelta:lt,restSpeed:ct}))};return Ct(0),{calculatedDuration:null,next:Rt=>{let Lt=!1;return!Mt&&wt===void 0&&(Lt=!0,St(Rt),Ct(Rt)),wt!==void 0&&Rt>=wt?Mt.next(Rt-wt):(!Lt&&St(Rt),ht)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=et=>Array.isArray(et)&&typeof et[0]!="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=et=>{if(isBezierDefinition(et)){invariant$2(et.length===4);const[c,tt,nt,rt]=et;return cubicBezier(c,tt,nt,rt)}else if(typeof et=="string")return easingLookup[et];return et};function createMixers(et,c,tt){const nt=[],rt=tt||mix,it=et.length-1;for(let st=0;st<it;st++){let at=rt(et[st],et[st+1]);if(c){const ot=Array.isArray(c)?c[st]||noop:c;at=pipe(ot,at)}nt.push(at)}return nt}function interpolate(et,c,{clamp:tt=!0,ease:nt,mixer:rt}={}){const it=et.length;if(invariant$2(it===c.length),it===1)return()=>c[0];if(it===2&&c[0]===c[1])return()=>c[1];const st=et[0]===et[1];et[0]>et[it-1]&&(et=[...et].reverse(),c=[...c].reverse());const at=createMixers(c,nt,rt),ot=at.length,lt=ct=>{if(st&&ct<et[0])return c[0];let dt=0;if(ot>1)for(;dt<et.length-2&&!(ct<et[dt+1]);dt++);const ht=progress(et[dt],et[dt+1],ct);return at[dt](ht)};return tt?ct=>lt(clamp$1(et[0],et[it-1],ct)):lt}function fillOffset(et,c){const tt=et[et.length-1];for(let nt=1;nt<=c;nt++){const rt=progress(0,c,nt);et.push(mixNumber$1(tt,1,rt))}}function defaultOffset(et){const c=[0];return fillOffset(c,et.length-1),c}function convertOffsetToTimes(et,c){return et.map(tt=>tt*c)}function defaultEasing(et,c){return et.map(()=>c||easeInOut).splice(0,et.length-1)}function keyframes({duration:et=300,keyframes:c,times:tt,ease:nt="easeInOut"}){const rt=isEasingArray(nt)?nt.map(easingDefinitionToFunction):easingDefinitionToFunction(nt),it={done:!1,value:c[0]},st=convertOffsetToTimes(tt&&tt.length===c.length?tt:defaultOffset(c),et),at=interpolate(st,c,{ease:Array.isArray(rt)?rt:defaultEasing(c,rt)});return{calculatedDuration:et,next:ot=>(it.value=at(ot),it.done=ot>=et,it)}}const frameloopDriver=et=>{const c=({timestamp:tt})=>et(tt);return{start:()=>frame.update(c,!0),stop:()=>cancelFrame(c),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=et=>et/100;class MainThreadAnimation extends BaseAnimation{constructor(c){super(c),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:ot}=this.options;ot&&ot()};const{name:tt,motionValue:nt,element:rt,keyframes:it}=this.options,st=(rt==null?void 0:rt.KeyframeResolver)||KeyframeResolver,at=(ot,lt)=>this.onKeyframesResolved(ot,lt);this.resolver=new st(it,at,tt,nt,rt),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(c){const{type:tt="keyframes",repeat:nt=0,repeatDelay:rt=0,repeatType:it,velocity:st=0}=this.options,at=isGenerator(tt)?tt:generators[tt]||keyframes;let ot,lt;at!==keyframes&&typeof c[0]!="number"&&(ot=pipe(percentToProgress,mix(c[0],c[1])),c=[0,100]);const ct=at({...this.options,keyframes:c});it==="mirror"&&(lt=at({...this.options,keyframes:[...c].reverse(),velocity:-st})),ct.calculatedDuration===null&&(ct.calculatedDuration=calcGeneratorDuration(ct));const{calculatedDuration:dt}=ct,ht=dt+rt,mt=ht*(nt+1)-rt;return{generator:ct,mirroredGenerator:lt,mapPercentToKeyframes:ot,calculatedDuration:dt,resolvedDuration:ht,totalDuration:mt}}onPostResolved(){const{autoplay:c=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!c?this.pause():this.state=this.pendingPlayState}tick(c,tt=!1){const{resolved:nt}=this;if(!nt){const{keyframes:Rt}=this.options;return{done:!0,value:Rt[Rt.length-1]}}const{finalKeyframe:rt,generator:it,mirroredGenerator:st,mapPercentToKeyframes:at,keyframes:ot,calculatedDuration:lt,totalDuration:ct,resolvedDuration:dt}=nt;if(this.startTime===null)return it.next(0);const{delay:ht,repeat:mt,repeatType:gt,repeatDelay:yt,onUpdate:_t}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,c):this.speed<0&&(this.startTime=Math.min(c-ct/this.speed,this.startTime)),tt?this.currentTime=c:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(c-this.startTime)*this.speed;const pt=this.currentTime-ht*(this.speed>=0?1:-1),xt=this.speed>=0?pt<0:pt>ct;this.currentTime=Math.max(pt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=ct);let vt=this.currentTime,St=it;if(mt){const Rt=Math.min(this.currentTime,ct)/dt;let Lt=Math.floor(Rt),It=Rt%1;!It&&Rt>=1&&(It=1),It===1&&Lt--,Lt=Math.min(Lt,mt+1),!!(Lt%2)&&(gt==="reverse"?(It=1-It,yt&&(It-=yt/dt)):gt==="mirror"&&(St=st)),vt=clamp$1(0,1,It)*dt}const wt=xt?{done:!1,value:ot[0]}:St.next(vt);at&&(wt.value=at(wt.value));let{done:Mt}=wt;!xt&&lt!==null&&(Mt=this.speed>=0?this.currentTime>=ct:this.currentTime<=0);const Ct=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Mt);return Ct&&rt!==void 0&&(wt.value=getFinalKeyframe(ot,this.options,rt)),_t&&_t(wt.value),Ct&&this.finish(),wt}get duration(){const{resolved:c}=this;return c?millisecondsToSeconds(c.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(c){c=secondsToMilliseconds(c),this.currentTime=c,this.holdTime!==null||this.speed===0?this.holdTime=c:this.driver&&(this.startTime=this.driver.now()-c/this.speed)}get speed(){return this.playbackSpeed}set speed(c){const tt=this.playbackSpeed!==c;this.playbackSpeed=c,tt&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:c=frameloopDriver,onPlay:tt,startTime:nt}=this.options;this.driver||(this.driver=c(it=>this.tick(it))),tt&&tt();const rt=this.driver.now();this.holdTime!==null?this.startTime=rt-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=rt):this.startTime=nt??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var c;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(c=this.currentTime)!==null&&c!==void 0?c:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:c}=this.options;c&&c()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(c){return this.startTime=0,this.tick(c,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(et,c,tt,{delay:nt=0,duration:rt=300,repeat:it=0,repeatType:st="loop",ease:at="easeInOut",times:ot}={}){const lt={[c]:tt};ot&&(lt.offset=ot);const ct=mapEasingToNativeEasing(at,rt);return Array.isArray(ct)&&(lt.easing=ct),et.animate(lt,{delay:nt,duration:rt,easing:Array.isArray(ct)?"linear":ct,fill:"both",iterations:it+1,direction:st==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(et){return isGenerator(et.type)||et.type==="spring"||!isWaapiSupportedEasing(et.ease)}function pregenerateKeyframes(et,c){const tt=new MainThreadAnimation({...c,keyframes:et,repeat:0,delay:0,isGenerator:!0});let nt={done:!1,value:et[0]};const rt=[];let it=0;for(;!nt.done&&it<maxDuration;)nt=tt.sample(it),rt.push(nt.value),it+=sampleDelta;return{times:void 0,keyframes:rt,duration:it-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(et){return et in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(c){super(c);const{name:tt,motionValue:nt,element:rt,keyframes:it}=this.options;this.resolver=new DOMKeyframesResolver(it,(st,at)=>this.onKeyframesResolved(st,at),tt,nt,rt),this.resolver.scheduleResolve()}initPlayback(c,tt){let{duration:nt=300,times:rt,ease:it,type:st,motionValue:at,name:ot,startTime:lt}=this.options;if(!at.owner||!at.owner.current)return!1;if(typeof it=="string"&&supportsLinearEasing()&&isUnsupportedEase(it)&&(it=unsupportedEasingFunctions[it]),requiresPregeneratedKeyframes(this.options)){const{onComplete:dt,onUpdate:ht,motionValue:mt,element:gt,...yt}=this.options,_t=pregenerateKeyframes(c,yt);c=_t.keyframes,c.length===1&&(c[1]=c[0]),nt=_t.duration,rt=_t.times,it=_t.ease,st="keyframes"}const ct=startWaapiAnimation(at.owner.current,ot,c,{...this.options,duration:nt,times:rt,ease:it});return ct.startTime=lt??this.calcStartTime(),this.pendingTimeline?(attachTimeline(ct,this.pendingTimeline),this.pendingTimeline=void 0):ct.onfinish=()=>{const{onComplete:dt}=this.options;at.set(getFinalKeyframe(c,this.options,tt)),dt&&dt(),this.cancel(),this.resolveFinishedPromise()},{animation:ct,duration:nt,times:rt,type:st,ease:it,keyframes:c}}get duration(){const{resolved:c}=this;if(!c)return 0;const{duration:tt}=c;return millisecondsToSeconds(tt)}get time(){const{resolved:c}=this;if(!c)return 0;const{animation:tt}=c;return millisecondsToSeconds(tt.currentTime||0)}set time(c){const{resolved:tt}=this;if(!tt)return;const{animation:nt}=tt;nt.currentTime=secondsToMilliseconds(c)}get speed(){const{resolved:c}=this;if(!c)return 1;const{animation:tt}=c;return tt.playbackRate}set speed(c){const{resolved:tt}=this;if(!tt)return;const{animation:nt}=tt;nt.playbackRate=c}get state(){const{resolved:c}=this;if(!c)return"idle";const{animation:tt}=c;return tt.playState}get startTime(){const{resolved:c}=this;if(!c)return null;const{animation:tt}=c;return tt.startTime}attachTimeline(c){if(!this._resolved)this.pendingTimeline=c;else{const{resolved:tt}=this;if(!tt)return noop;const{animation:nt}=tt;attachTimeline(nt,c)}return noop}play(){if(this.isStopped)return;const{resolved:c}=this;if(!c)return;const{animation:tt}=c;tt.playState==="finished"&&this.updateFinishedPromise(),tt.play()}pause(){const{resolved:c}=this;if(!c)return;const{animation:tt}=c;tt.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:c}=this;if(!c)return;const{animation:tt,keyframes:nt,duration:rt,type:it,ease:st,times:at}=c;if(tt.playState==="idle"||tt.playState==="finished")return;if(this.time){const{motionValue:lt,onUpdate:ct,onComplete:dt,element:ht,...mt}=this.options,gt=new MainThreadAnimation({...mt,keyframes:nt,duration:rt,type:it,ease:st,times:at,isGenerator:!0}),yt=secondsToMilliseconds(this.time);lt.setWithVelocity(gt.sample(yt-sampleDelta).value,gt.sample(yt).value,sampleDelta)}const{onStop:ot}=this.options;ot&&ot(),this.cancel()}complete(){const{resolved:c}=this;c&&c.animation.finish()}cancel(){const{resolved:c}=this;c&&c.animation.cancel()}static supports(c){const{motionValue:tt,name:nt,repeatDelay:rt,repeatType:it,damping:st,type:at}=c;if(!tt||!tt.owner||!(tt.owner.current instanceof HTMLElement))return!1;const{onUpdate:ot,transformTemplate:lt}=tt.owner.getProps();return supportsWaapi()&&nt&&acceleratedValues.has(nt)&&!ot&&!lt&&!rt&&it!=="mirror"&&st!==0&&at!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=et=>({type:"spring",stiffness:550,damping:et===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(et,{keyframes:c})=>c.length>2?keyframesTransition:transformProps.has(et)?et.startsWith("scale")?criticallyDampedSpring(c[1]):underDampedSpring:ease;function isTransitionDefined({when:et,delay:c,delayChildren:tt,staggerChildren:nt,staggerDirection:rt,repeat:it,repeatType:st,repeatDelay:at,from:ot,elapsed:lt,...ct}){return!!Object.keys(ct).length}const animateMotionValue=(et,c,tt,nt={},rt,it)=>st=>{const at=getValueTransition(nt,et)||{},ot=at.delay||nt.delay||0;let{elapsed:lt=0}=nt;lt=lt-secondsToMilliseconds(ot);let ct={keyframes:Array.isArray(tt)?tt:[null,tt],ease:"easeOut",velocity:c.getVelocity(),...at,delay:-lt,onUpdate:ht=>{c.set(ht),at.onUpdate&&at.onUpdate(ht)},onComplete:()=>{st(),at.onComplete&&at.onComplete()},name:et,motionValue:c,element:it?void 0:rt};isTransitionDefined(at)||(ct={...ct,...getDefaultTransition(et,ct)}),ct.duration&&(ct.duration=secondsToMilliseconds(ct.duration)),ct.repeatDelay&&(ct.repeatDelay=secondsToMilliseconds(ct.repeatDelay)),ct.from!==void 0&&(ct.keyframes[0]=ct.from);let dt=!1;if((ct.type===!1||ct.duration===0&&!ct.repeatDelay)&&(ct.duration=0,ct.delay===0&&(dt=!0)),dt&&!it&&c.get()!==void 0){const ht=getFinalKeyframe(ct.keyframes,at);if(ht!==void 0)return frame.update(()=>{ct.onUpdate(ht),ct.onComplete()}),new GroupPlaybackControls([])}return!it&&AcceleratedAnimation.supports(ct)?new AcceleratedAnimation(ct):new MainThreadAnimation(ct)};function shouldBlockAnimation({protectedKeys:et,needsAnimating:c},tt){const nt=et.hasOwnProperty(tt)&&c[tt]!==!0;return c[tt]=!1,nt}function animateTarget(et,c,{delay:tt=0,transitionOverride:nt,type:rt}={}){var it;let{transition:st=et.getDefaultTransition(),transitionEnd:at,...ot}=c;nt&&(st=nt);const lt=[],ct=rt&&et.animationState&&et.animationState.getState()[rt];for(const dt in ot){const ht=et.getValue(dt,(it=et.latestValues[dt])!==null&&it!==void 0?it:null),mt=ot[dt];if(mt===void 0||ct&&shouldBlockAnimation(ct,dt))continue;const gt={delay:tt,...getValueTransition(st||{},dt)};let yt=!1;if(window.MotionHandoffAnimation){const pt=getOptimisedAppearId(et);if(pt){const xt=window.MotionHandoffAnimation(pt,dt,frame);xt!==null&&(gt.startTime=xt,yt=!0)}}addValueToWillChange(et,dt),ht.start(animateMotionValue(dt,ht,mt,et.shouldReduceMotion&&positionalKeys.has(dt)?{type:!1}:gt,et,yt));const _t=ht.animation;_t&&lt.push(_t)}return at&&Promise.all(lt).then(()=>{frame.update(()=>{at&&setTarget(et,at)})}),lt}function animateVariant(et,c,tt={}){var nt;const rt=resolveVariant(et,c,tt.type==="exit"?(nt=et.presenceContext)===null||nt===void 0?void 0:nt.custom:void 0);let{transition:it=et.getDefaultTransition()||{}}=rt||{};tt.transitionOverride&&(it=tt.transitionOverride);const st=rt?()=>Promise.all(animateTarget(et,rt,tt)):()=>Promise.resolve(),at=et.variantChildren&&et.variantChildren.size?(lt=0)=>{const{delayChildren:ct=0,staggerChildren:dt,staggerDirection:ht}=it;return animateChildren(et,c,ct+lt,dt,ht,tt)}:()=>Promise.resolve(),{when:ot}=it;if(ot){const[lt,ct]=ot==="beforeChildren"?[st,at]:[at,st];return lt().then(()=>ct())}else return Promise.all([st(),at(tt.delay)])}function animateChildren(et,c,tt=0,nt=0,rt=1,it){const st=[],at=(et.variantChildren.size-1)*nt,ot=rt===1?(lt=0)=>lt*nt:(lt=0)=>at-lt*nt;return Array.from(et.variantChildren).sort(sortByTreeOrder).forEach((lt,ct)=>{lt.notify("AnimationStart",c),st.push(animateVariant(lt,c,{...it,delay:tt+ot(ct)}).then(()=>lt.notify("AnimationComplete",c)))}),Promise.all(st)}function sortByTreeOrder(et,c){return et.sortNodePosition(c)}function animateVisualElement(et,c,tt={}){et.notify("AnimationStart",c);let nt;if(Array.isArray(c)){const rt=c.map(it=>animateVariant(et,it,tt));nt=Promise.all(rt)}else if(typeof c=="string")nt=animateVariant(et,c,tt);else{const rt=typeof c=="function"?resolveVariant(et,c,tt.custom):c;nt=Promise.all(animateTarget(et,rt,tt))}return nt.then(()=>{et.notify("AnimationComplete",c)})}const numVariantProps=variantProps.length;function getVariantContext(et){if(!et)return;if(!et.isControllingVariants){const tt=et.parent?getVariantContext(et.parent)||{}:{};return et.props.initial!==void 0&&(tt.initial=et.props.initial),tt}const c={};for(let tt=0;tt<numVariantProps;tt++){const nt=variantProps[tt],rt=et.props[nt];(isVariantLabel(rt)||rt===!1)&&(c[nt]=rt)}return c}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(et){return c=>Promise.all(c.map(({animation:tt,options:nt})=>animateVisualElement(et,tt,nt)))}function createAnimationState(et){let c=animateList(et),tt=createState(),nt=!0;const rt=ot=>(lt,ct)=>{var dt;const ht=resolveVariant(et,ct,ot==="exit"?(dt=et.presenceContext)===null||dt===void 0?void 0:dt.custom:void 0);if(ht){const{transition:mt,transitionEnd:gt,...yt}=ht;lt={...lt,...yt,...gt}}return lt};function it(ot){c=ot(et)}function st(ot){const{props:lt}=et,ct=getVariantContext(et.parent)||{},dt=[],ht=new Set;let mt={},gt=1/0;for(let _t=0;_t<numAnimationTypes;_t++){const pt=reversePriorityOrder[_t],xt=tt[pt],vt=lt[pt]!==void 0?lt[pt]:ct[pt],St=isVariantLabel(vt),wt=pt===ot?xt.isActive:null;wt===!1&&(gt=_t);let Mt=vt===ct[pt]&&vt!==lt[pt]&&St;if(Mt&&nt&&et.manuallyAnimateOnMount&&(Mt=!1),xt.protectedKeys={...mt},!xt.isActive&&wt===null||!vt&&!xt.prevProp||isAnimationControls(vt)||typeof vt=="boolean")continue;const Ct=checkVariantsDidChange(xt.prevProp,vt);let Rt=Ct||pt===ot&&xt.isActive&&!Mt&&St||_t>gt&&St,Lt=!1;const It=Array.isArray(vt)?vt:[vt];let Nt=It.reduce(rt(pt),{});wt===!1&&(Nt={});const{prevResolvedValues:zt={}}=xt,Wt={...zt,...Nt},Yt=Ut=>{Rt=!0,ht.has(Ut)&&(Lt=!0,ht.delete(Ut)),xt.needsAnimating[Ut]=!0;const At=et.getValue(Ut);At&&(At.liveStyle=!1)};for(const Ut in Wt){const At=Nt[Ut],kt=zt[Ut];if(mt.hasOwnProperty(Ut))continue;let Ot=!1;isKeyframesTarget(At)&&isKeyframesTarget(kt)?Ot=!shallowCompare(At,kt):Ot=At!==kt,Ot?At!=null?Yt(Ut):ht.add(Ut):At!==void 0&&ht.has(Ut)?Yt(Ut):xt.protectedKeys[Ut]=!0}xt.prevProp=vt,xt.prevResolvedValues=Nt,xt.isActive&&(mt={...mt,...Nt}),nt&&et.blockInitialAnimation&&(Rt=!1),Rt&&(!(Mt&&Ct)||Lt)&&dt.push(...It.map(Ut=>({animation:Ut,options:{type:pt}})))}if(ht.size){const _t={};ht.forEach(pt=>{const xt=et.getBaseTarget(pt),vt=et.getValue(pt);vt&&(vt.liveStyle=!0),_t[pt]=xt??null}),dt.push({animation:_t})}let yt=!!dt.length;return nt&&(lt.initial===!1||lt.initial===lt.animate)&&!et.manuallyAnimateOnMount&&(yt=!1),nt=!1,yt?c(dt):Promise.resolve()}function at(ot,lt){var ct;if(tt[ot].isActive===lt)return Promise.resolve();(ct=et.variantChildren)===null||ct===void 0||ct.forEach(ht=>{var mt;return(mt=ht.animationState)===null||mt===void 0?void 0:mt.setActive(ot,lt)}),tt[ot].isActive=lt;const dt=st(ot);for(const ht in tt)tt[ht].protectedKeys={};return dt}return{animateChanges:st,setActive:at,setAnimateFunction:it,getState:()=>tt,reset:()=>{tt=createState(),nt=!0}}}function checkVariantsDidChange(et,c){return typeof c=="string"?c!==et:Array.isArray(c)?!shallowCompare(c,et):!1}function createTypeState(et=!1){return{isActive:et,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(c){this.isMounted=!1,this.node=c}update(){}}class AnimationFeature extends Feature{constructor(c){super(c),c.animationState||(c.animationState=createAnimationState(c))}updateAnimationControlsSubscription(){const{animate:c}=this.node.getProps();isAnimationControls(c)&&(this.unmountControls=c.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:c}=this.node.getProps(),{animate:tt}=this.node.prevProps||{};c!==tt&&this.updateAnimationControlsSubscription()}unmount(){var c;this.node.animationState.reset(),(c=this.unmountControls)===null||c===void 0||c.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:c,onExitComplete:tt}=this.node.presenceContext,{isPresent:nt}=this.node.prevPresenceContext||{};if(!this.node.animationState||c===nt)return;const rt=this.node.animationState.setActive("exit",!c);tt&&!c&&rt.then(()=>tt(this.id))}mount(){const{register:c}=this.node.presenceContext||{};c&&(this.unmount=c(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(et,c,tt,nt={passive:!0}){return et.addEventListener(c,tt,nt),()=>et.removeEventListener(c,tt)}function extractEventInfo(et){return{point:{x:et.pageX,y:et.pageY}}}const addPointerInfo=et=>c=>isPrimaryPointer(c)&&et(c,extractEventInfo(c));function addPointerEvent(et,c,tt,nt){return addDomEvent(et,c,addPointerInfo(tt),nt)}const distance=(et,c)=>Math.abs(et-c);function distance2D(et,c){const tt=distance(et.x,c.x),nt=distance(et.y,c.y);return Math.sqrt(tt**2+nt**2)}class PanSession{constructor(c,tt,{transformPagePoint:nt,contextWindow:rt,dragSnapToOrigin:it=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const dt=getPanInfo(this.lastMoveEventInfo,this.history),ht=this.startEvent!==null,mt=distance2D(dt.offset,{x:0,y:0})>=3;if(!ht&&!mt)return;const{point:gt}=dt,{timestamp:yt}=frameData;this.history.push({...gt,timestamp:yt});const{onStart:_t,onMove:pt}=this.handlers;ht||(_t&&_t(this.lastMoveEvent,dt),this.startEvent=this.lastMoveEvent),pt&&pt(this.lastMoveEvent,dt)},this.handlePointerMove=(dt,ht)=>{this.lastMoveEvent=dt,this.lastMoveEventInfo=transformPoint(ht,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(dt,ht)=>{this.end();const{onEnd:mt,onSessionEnd:gt,resumeAnimation:yt}=this.handlers;if(this.dragSnapToOrigin&&yt&&yt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _t=getPanInfo(dt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(ht,this.transformPagePoint),this.history);this.startEvent&&mt&&mt(dt,_t),gt&&gt(dt,_t)},!isPrimaryPointer(c))return;this.dragSnapToOrigin=it,this.handlers=tt,this.transformPagePoint=nt,this.contextWindow=rt||window;const st=extractEventInfo(c),at=transformPoint(st,this.transformPagePoint),{point:ot}=at,{timestamp:lt}=frameData;this.history=[{...ot,timestamp:lt}];const{onSessionStart:ct}=tt;ct&&ct(c,getPanInfo(at,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(c){this.handlers=c}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(et,c){return c?{point:c(et.point)}:et}function subtractPoint(et,c){return{x:et.x-c.x,y:et.y-c.y}}function getPanInfo({point:et},c){return{point:et,delta:subtractPoint(et,lastDevicePoint(c)),offset:subtractPoint(et,startDevicePoint(c)),velocity:getVelocity(c,.1)}}function startDevicePoint(et){return et[0]}function lastDevicePoint(et){return et[et.length-1]}function getVelocity(et,c){if(et.length<2)return{x:0,y:0};let tt=et.length-1,nt=null;const rt=lastDevicePoint(et);for(;tt>=0&&(nt=et[tt],!(rt.timestamp-nt.timestamp>secondsToMilliseconds(c)));)tt--;if(!nt)return{x:0,y:0};const it=millisecondsToSeconds(rt.timestamp-nt.timestamp);if(it===0)return{x:0,y:0};const st={x:(rt.x-nt.x)/it,y:(rt.y-nt.y)/it};return st.x===1/0&&(st.x=0),st.y===1/0&&(st.y=0),st}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(et){return et.max-et.min}function isNear(et,c,tt){return Math.abs(et-c)<=tt}function calcAxisDelta(et,c,tt,nt=.5){et.origin=nt,et.originPoint=mixNumber$1(c.min,c.max,et.origin),et.scale=calcLength(tt)/calcLength(c),et.translate=mixNumber$1(tt.min,tt.max,et.origin)-et.originPoint,(et.scale>=SCALE_MIN&&et.scale<=SCALE_MAX||isNaN(et.scale))&&(et.scale=1),(et.translate>=TRANSLATE_MIN&&et.translate<=TRANSLATE_MAX||isNaN(et.translate))&&(et.translate=0)}function calcBoxDelta(et,c,tt,nt){calcAxisDelta(et.x,c.x,tt.x,nt?nt.originX:void 0),calcAxisDelta(et.y,c.y,tt.y,nt?nt.originY:void 0)}function calcRelativeAxis(et,c,tt){et.min=tt.min+c.min,et.max=et.min+calcLength(c)}function calcRelativeBox(et,c,tt){calcRelativeAxis(et.x,c.x,tt.x),calcRelativeAxis(et.y,c.y,tt.y)}function calcRelativeAxisPosition(et,c,tt){et.min=c.min-tt.min,et.max=et.min+calcLength(c)}function calcRelativePosition(et,c,tt){calcRelativeAxisPosition(et.x,c.x,tt.x),calcRelativeAxisPosition(et.y,c.y,tt.y)}function applyConstraints(et,{min:c,max:tt},nt){return c!==void 0&&et<c?et=nt?mixNumber$1(c,et,nt.min):Math.max(et,c):tt!==void 0&&et>tt&&(et=nt?mixNumber$1(tt,et,nt.max):Math.min(et,tt)),et}function calcRelativeAxisConstraints(et,c,tt){return{min:c!==void 0?et.min+c:void 0,max:tt!==void 0?et.max+tt-(et.max-et.min):void 0}}function calcRelativeConstraints(et,{top:c,left:tt,bottom:nt,right:rt}){return{x:calcRelativeAxisConstraints(et.x,tt,rt),y:calcRelativeAxisConstraints(et.y,c,nt)}}function calcViewportAxisConstraints(et,c){let tt=c.min-et.min,nt=c.max-et.max;return c.max-c.min<et.max-et.min&&([tt,nt]=[nt,tt]),{min:tt,max:nt}}function calcViewportConstraints(et,c){return{x:calcViewportAxisConstraints(et.x,c.x),y:calcViewportAxisConstraints(et.y,c.y)}}function calcOrigin(et,c){let tt=.5;const nt=calcLength(et),rt=calcLength(c);return rt>nt?tt=progress(c.min,c.max-nt,et.min):nt>rt&&(tt=progress(et.min,et.max-rt,c.min)),clamp$1(0,1,tt)}function rebaseAxisConstraints(et,c){const tt={};return c.min!==void 0&&(tt.min=c.min-et.min),c.max!==void 0&&(tt.max=c.max-et.min),tt}const defaultElastic=.35;function resolveDragElastic(et=defaultElastic){return et===!1?et=0:et===!0&&(et=defaultElastic),{x:resolveAxisElastic(et,"left","right"),y:resolveAxisElastic(et,"top","bottom")}}function resolveAxisElastic(et,c,tt){return{min:resolvePointElastic(et,c),max:resolvePointElastic(et,tt)}}function resolvePointElastic(et,c){return typeof et=="number"?et:et[c]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(et){return[et("x"),et("y")]}function convertBoundingBoxToBox({top:et,left:c,right:tt,bottom:nt}){return{x:{min:c,max:tt},y:{min:et,max:nt}}}function convertBoxToBoundingBox({x:et,y:c}){return{top:c.min,right:et.max,bottom:c.max,left:et.min}}function transformBoxPoints(et,c){if(!c)return et;const tt=c({x:et.left,y:et.top}),nt=c({x:et.right,y:et.bottom});return{top:tt.y,left:tt.x,bottom:nt.y,right:nt.x}}function isIdentityScale(et){return et===void 0||et===1}function hasScale({scale:et,scaleX:c,scaleY:tt}){return!isIdentityScale(et)||!isIdentityScale(c)||!isIdentityScale(tt)}function hasTransform(et){return hasScale(et)||has2DTranslate(et)||et.z||et.rotate||et.rotateX||et.rotateY||et.skewX||et.skewY}function has2DTranslate(et){return is2DTranslate(et.x)||is2DTranslate(et.y)}function is2DTranslate(et){return et&&et!=="0%"}function scalePoint(et,c,tt){const nt=et-tt,rt=c*nt;return tt+rt}function applyPointDelta(et,c,tt,nt,rt){return rt!==void 0&&(et=scalePoint(et,rt,nt)),scalePoint(et,tt,nt)+c}function applyAxisDelta(et,c=0,tt=1,nt,rt){et.min=applyPointDelta(et.min,c,tt,nt,rt),et.max=applyPointDelta(et.max,c,tt,nt,rt)}function applyBoxDelta(et,{x:c,y:tt}){applyAxisDelta(et.x,c.translate,c.scale,c.originPoint),applyAxisDelta(et.y,tt.translate,tt.scale,tt.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(et,c,tt,nt=!1){const rt=tt.length;if(!rt)return;c.x=c.y=1;let it,st;for(let at=0;at<rt;at++){it=tt[at],st=it.projectionDelta;const{visualElement:ot}=it.options;ot&&ot.props.style&&ot.props.style.display==="contents"||(nt&&it.options.layoutScroll&&it.scroll&&it!==it.root&&transformBox(et,{x:-it.scroll.offset.x,y:-it.scroll.offset.y}),st&&(c.x*=st.x.scale,c.y*=st.y.scale,applyBoxDelta(et,st)),nt&&hasTransform(it.latestValues)&&transformBox(et,it.latestValues))}c.x<TREE_SCALE_SNAP_MAX&&c.x>TREE_SCALE_SNAP_MIN&&(c.x=1),c.y<TREE_SCALE_SNAP_MAX&&c.y>TREE_SCALE_SNAP_MIN&&(c.y=1)}function translateAxis(et,c){et.min=et.min+c,et.max=et.max+c}function transformAxis(et,c,tt,nt,rt=.5){const it=mixNumber$1(et.min,et.max,rt);applyAxisDelta(et,c,tt,it,nt)}function transformBox(et,c){transformAxis(et.x,c.x,c.scaleX,c.scale,c.originX),transformAxis(et.y,c.y,c.scaleY,c.scale,c.originY)}function measureViewportBox(et,c){return convertBoundingBoxToBox(transformBoxPoints(et.getBoundingClientRect(),c))}function measurePageBox(et,c,tt){const nt=measureViewportBox(et,tt),{scroll:rt}=c;return rt&&(translateAxis(nt.x,rt.offset.x),translateAxis(nt.y,rt.offset.y)),nt}const getContextWindow=({current:et})=>et?et.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(c){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=c}start(c,{snapToCursor:tt=!1}={}){const{presenceContext:nt}=this.visualElement;if(nt&&nt.isPresent===!1)return;const rt=ct=>{const{dragSnapToOrigin:dt}=this.getProps();dt?this.pauseAnimation():this.stopAnimation(),tt&&this.snapToCursor(extractEventInfo(ct).point)},it=(ct,dt)=>{const{drag:ht,dragPropagation:mt,onDragStart:gt}=this.getProps();if(ht&&!mt&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(ht),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(_t=>{let pt=this.getAxisMotionValue(_t).get()||0;if(percent.test(pt)){const{projection:xt}=this.visualElement;if(xt&&xt.layout){const vt=xt.layout.layoutBox[_t];vt&&(pt=calcLength(vt)*(parseFloat(pt)/100))}}this.originPoint[_t]=pt}),gt&&frame.postRender(()=>gt(ct,dt)),addValueToWillChange(this.visualElement,"transform");const{animationState:yt}=this.visualElement;yt&&yt.setActive("whileDrag",!0)},st=(ct,dt)=>{const{dragPropagation:ht,dragDirectionLock:mt,onDirectionLock:gt,onDrag:yt}=this.getProps();if(!ht&&!this.openDragLock)return;const{offset:_t}=dt;if(mt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(_t),this.currentDirection!==null&&gt&&gt(this.currentDirection);return}this.updateAxis("x",dt.point,_t),this.updateAxis("y",dt.point,_t),this.visualElement.render(),yt&&yt(ct,dt)},at=(ct,dt)=>this.stop(ct,dt),ot=()=>eachAxis(ct=>{var dt;return this.getAnimationState(ct)==="paused"&&((dt=this.getAxisMotionValue(ct).animation)===null||dt===void 0?void 0:dt.play())}),{dragSnapToOrigin:lt}=this.getProps();this.panSession=new PanSession(c,{onSessionStart:rt,onStart:it,onMove:st,onSessionEnd:at,resumeAnimation:ot},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:lt,contextWindow:getContextWindow(this.visualElement)})}stop(c,tt){const nt=this.isDragging;if(this.cancel(),!nt)return;const{velocity:rt}=tt;this.startAnimation(rt);const{onDragEnd:it}=this.getProps();it&&frame.postRender(()=>it(c,tt))}cancel(){this.isDragging=!1;const{projection:c,animationState:tt}=this.visualElement;c&&(c.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:nt}=this.getProps();!nt&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),tt&&tt.setActive("whileDrag",!1)}updateAxis(c,tt,nt){const{drag:rt}=this.getProps();if(!nt||!shouldDrag(c,rt,this.currentDirection))return;const it=this.getAxisMotionValue(c);let st=this.originPoint[c]+nt[c];this.constraints&&this.constraints[c]&&(st=applyConstraints(st,this.constraints[c],this.elastic[c])),it.set(st)}resolveConstraints(){var c;const{dragConstraints:tt,dragElastic:nt}=this.getProps(),rt=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)===null||c===void 0?void 0:c.layout,it=this.constraints;tt&&isRefObject(tt)?this.constraints||(this.constraints=this.resolveRefConstraints()):tt&&rt?this.constraints=calcRelativeConstraints(rt.layoutBox,tt):this.constraints=!1,this.elastic=resolveDragElastic(nt),it!==this.constraints&&rt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(st=>{this.constraints!==!1&&this.getAxisMotionValue(st)&&(this.constraints[st]=rebaseAxisConstraints(rt.layoutBox[st],this.constraints[st]))})}resolveRefConstraints(){const{dragConstraints:c,onMeasureDragConstraints:tt}=this.getProps();if(!c||!isRefObject(c))return!1;const nt=c.current,{projection:rt}=this.visualElement;if(!rt||!rt.layout)return!1;const it=measurePageBox(nt,rt.root,this.visualElement.getTransformPagePoint());let st=calcViewportConstraints(rt.layout.layoutBox,it);if(tt){const at=tt(convertBoxToBoundingBox(st));this.hasMutatedConstraints=!!at,at&&(st=convertBoundingBoxToBox(at))}return st}startAnimation(c){const{drag:tt,dragMomentum:nt,dragElastic:rt,dragTransition:it,dragSnapToOrigin:st,onDragTransitionEnd:at}=this.getProps(),ot=this.constraints||{},lt=eachAxis(ct=>{if(!shouldDrag(ct,tt,this.currentDirection))return;let dt=ot&&ot[ct]||{};st&&(dt={min:0,max:0});const ht=rt?200:1e6,mt=rt?40:1e7,gt={type:"inertia",velocity:nt?c[ct]:0,bounceStiffness:ht,bounceDamping:mt,timeConstant:750,restDelta:1,restSpeed:10,...it,...dt};return this.startAxisValueAnimation(ct,gt)});return Promise.all(lt).then(at)}startAxisValueAnimation(c,tt){const nt=this.getAxisMotionValue(c);return addValueToWillChange(this.visualElement,c),nt.start(animateMotionValue(c,nt,0,tt,this.visualElement,!1))}stopAnimation(){eachAxis(c=>this.getAxisMotionValue(c).stop())}pauseAnimation(){eachAxis(c=>{var tt;return(tt=this.getAxisMotionValue(c).animation)===null||tt===void 0?void 0:tt.pause()})}getAnimationState(c){var tt;return(tt=this.getAxisMotionValue(c).animation)===null||tt===void 0?void 0:tt.state}getAxisMotionValue(c){const tt=`_drag${c.toUpperCase()}`,nt=this.visualElement.getProps(),rt=nt[tt];return rt||this.visualElement.getValue(c,(nt.initial?nt.initial[c]:void 0)||0)}snapToCursor(c){eachAxis(tt=>{const{drag:nt}=this.getProps();if(!shouldDrag(tt,nt,this.currentDirection))return;const{projection:rt}=this.visualElement,it=this.getAxisMotionValue(tt);if(rt&&rt.layout){const{min:st,max:at}=rt.layout.layoutBox[tt];it.set(c[tt]-mixNumber$1(st,at,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:c,dragConstraints:tt}=this.getProps(),{projection:nt}=this.visualElement;if(!isRefObject(tt)||!nt||!this.constraints)return;this.stopAnimation();const rt={x:0,y:0};eachAxis(st=>{const at=this.getAxisMotionValue(st);if(at&&this.constraints!==!1){const ot=at.get();rt[st]=calcOrigin({min:ot,max:ot},this.constraints[st])}});const{transformTemplate:it}=this.visualElement.getProps();this.visualElement.current.style.transform=it?it({},""):"none",nt.root&&nt.root.updateScroll(),nt.updateLayout(),this.resolveConstraints(),eachAxis(st=>{if(!shouldDrag(st,c,null))return;const at=this.getAxisMotionValue(st),{min:ot,max:lt}=this.constraints[st];at.set(mixNumber$1(ot,lt,rt[st]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const c=this.visualElement.current,tt=addPointerEvent(c,"pointerdown",ot=>{const{drag:lt,dragListener:ct=!0}=this.getProps();lt&&ct&&this.start(ot)}),nt=()=>{const{dragConstraints:ot}=this.getProps();isRefObject(ot)&&ot.current&&(this.constraints=this.resolveRefConstraints())},{projection:rt}=this.visualElement,it=rt.addEventListener("measure",nt);rt&&!rt.layout&&(rt.root&&rt.root.updateScroll(),rt.updateLayout()),frame.read(nt);const st=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),at=rt.addEventListener("didUpdate",({delta:ot,hasLayoutChanged:lt})=>{this.isDragging&&lt&&(eachAxis(ct=>{const dt=this.getAxisMotionValue(ct);dt&&(this.originPoint[ct]+=ot[ct].translate,dt.set(dt.get()+ot[ct].translate))}),this.visualElement.render())});return()=>{st(),tt(),it(),at&&at()}}getProps(){const c=this.visualElement.getProps(),{drag:tt=!1,dragDirectionLock:nt=!1,dragPropagation:rt=!1,dragConstraints:it=!1,dragElastic:st=defaultElastic,dragMomentum:at=!0}=c;return{...c,drag:tt,dragDirectionLock:nt,dragPropagation:rt,dragConstraints:it,dragElastic:st,dragMomentum:at}}}function shouldDrag(et,c,tt){return(c===!0||c===et)&&(tt===null||tt===et)}function getCurrentDirection(et,c=10){let tt=null;return Math.abs(et.y)>c?tt="y":Math.abs(et.x)>c&&(tt="x"),tt}class DragGesture extends Feature{constructor(c){super(c),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(c)}mount(){const{dragControls:c}=this.node.getProps();c&&(this.removeGroupControls=c.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=et=>(c,tt)=>{et&&frame.postRender(()=>et(c,tt))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(c){this.session=new PanSession(c,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:c,onPanStart:tt,onPan:nt,onPanEnd:rt}=this.node.getProps();return{onSessionStart:asyncHandler(c),onStart:asyncHandler(tt),onMove:nt,onEnd:(it,st)=>{delete this.session,rt&&frame.postRender(()=>rt(it,st))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",c=>this.onPointerDown(c))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(et,c){return c.max===c.min?0:et/(c.max-c.min)*100}const correctBorderRadius={correct:(et,c)=>{if(!c.target)return et;if(typeof et=="string")if(px$1.test(et))et=parseFloat(et);else return et;const tt=pixelsToPercent(et,c.target.x),nt=pixelsToPercent(et,c.target.y);return`${tt}% ${nt}%`}},correctBoxShadow={correct:(et,{treeScale:c,projectionDelta:tt})=>{const nt=et,rt=complex.parse(et);if(rt.length>5)return nt;const it=complex.createTransformer(et),st=typeof rt[0]!="number"?1:0,at=tt.x.scale*c.x,ot=tt.y.scale*c.y;rt[0+st]/=at,rt[1+st]/=ot;const lt=mixNumber$1(at,ot,.5);return typeof rt[2+st]=="number"&&(rt[2+st]/=lt),typeof rt[3+st]=="number"&&(rt[3+st]/=lt),it(rt)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:c,layoutGroup:tt,switchLayoutGroup:nt,layoutId:rt}=this.props,{projection:it}=c;addScaleCorrector(defaultScaleCorrectors),it&&(tt.group&&tt.group.add(it),nt&&nt.register&&rt&&nt.register(it),it.root.didUpdate(),it.addEventListener("animationComplete",()=>{this.safeToRemove()}),it.setOptions({...it.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(c){const{layoutDependency:tt,visualElement:nt,drag:rt,isPresent:it}=this.props,st=nt.projection;return st&&(st.isPresent=it,rt||c.layoutDependency!==tt||tt===void 0?st.willUpdate():this.safeToRemove(),c.isPresent!==it&&(it?st.promote():st.relegate()||frame.postRender(()=>{const at=st.getStack();(!at||!at.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:c}=this.props.visualElement;c&&(c.root.didUpdate(),microtask.postRender(()=>{!c.currentAnimation&&c.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:c,layoutGroup:tt,switchLayoutGroup:nt}=this.props,{projection:rt}=c;rt&&(rt.scheduleCheckAfterUnmount(),tt&&tt.group&&tt.group.remove(rt),nt&&nt.deregister&&nt.deregister(rt))}safeToRemove(){const{safeToRemove:c}=this.props;c&&c()}render(){return null}}function MeasureLayout(et){const[c,tt]=usePresence(),nt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...et,layoutGroup:nt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:c,safeToRemove:tt})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(et,c,tt){const nt=isMotionValue(et)?et:motionValue(et);return nt.start(animateMotionValue("",nt,c,tt)),nt.animation}function isSVGElement(et){return et instanceof SVGElement&&et.tagName!=="svg"}const compareByDepth=(et,c)=>et.depth-c.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(c){addUniqueItem(this.children,c),this.isDirty=!0}remove(c){removeItem(this.children,c),this.isDirty=!0}forEach(c){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(c)}}function delay(et,c){const tt=time.now(),nt=({timestamp:rt})=>{const it=rt-tt;it>=c&&(cancelFrame(nt),et(it-c))};return frame.read(nt,!0),()=>cancelFrame(nt)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=et=>typeof et=="string"?parseFloat(et):et,isPx=et=>typeof et=="number"||px$1.test(et);function mixValues(et,c,tt,nt,rt,it){rt?(et.opacity=mixNumber$1(0,tt.opacity!==void 0?tt.opacity:1,easeCrossfadeIn(nt)),et.opacityExit=mixNumber$1(c.opacity!==void 0?c.opacity:1,0,easeCrossfadeOut(nt))):it&&(et.opacity=mixNumber$1(c.opacity!==void 0?c.opacity:1,tt.opacity!==void 0?tt.opacity:1,nt));for(let st=0;st<numBorders;st++){const at=`border${borders[st]}Radius`;let ot=getRadius(c,at),lt=getRadius(tt,at);if(ot===void 0&&lt===void 0)continue;ot||(ot=0),lt||(lt=0),ot===0||lt===0||isPx(ot)===isPx(lt)?(et[at]=Math.max(mixNumber$1(asNumber(ot),asNumber(lt),nt),0),(percent.test(lt)||percent.test(ot))&&(et[at]+="%")):et[at]=lt}(c.rotate||tt.rotate)&&(et.rotate=mixNumber$1(c.rotate||0,tt.rotate||0,nt))}function getRadius(et,c){return et[c]!==void 0?et[c]:et.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(et,c,tt){return nt=>nt<et?0:nt>c?1:tt(progress(et,c,nt))}function copyAxisInto(et,c){et.min=c.min,et.max=c.max}function copyBoxInto(et,c){copyAxisInto(et.x,c.x),copyAxisInto(et.y,c.y)}function copyAxisDeltaInto(et,c){et.translate=c.translate,et.scale=c.scale,et.originPoint=c.originPoint,et.origin=c.origin}function removePointDelta(et,c,tt,nt,rt){return et-=c,et=scalePoint(et,1/tt,nt),rt!==void 0&&(et=scalePoint(et,1/rt,nt)),et}function removeAxisDelta(et,c=0,tt=1,nt=.5,rt,it=et,st=et){if(percent.test(c)&&(c=parseFloat(c),c=mixNumber$1(st.min,st.max,c/100)-st.min),typeof c!="number")return;let at=mixNumber$1(it.min,it.max,nt);et===it&&(at-=c),et.min=removePointDelta(et.min,c,tt,at,rt),et.max=removePointDelta(et.max,c,tt,at,rt)}function removeAxisTransforms(et,c,[tt,nt,rt],it,st){removeAxisDelta(et,c[tt],c[nt],c[rt],c.scale,it,st)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(et,c,tt,nt){removeAxisTransforms(et.x,c,xKeys,tt?tt.x:void 0,nt?nt.x:void 0),removeAxisTransforms(et.y,c,yKeys,tt?tt.y:void 0,nt?nt.y:void 0)}function isAxisDeltaZero(et){return et.translate===0&&et.scale===1}function isDeltaZero(et){return isAxisDeltaZero(et.x)&&isAxisDeltaZero(et.y)}function axisEquals(et,c){return et.min===c.min&&et.max===c.max}function boxEquals(et,c){return axisEquals(et.x,c.x)&&axisEquals(et.y,c.y)}function axisEqualsRounded(et,c){return Math.round(et.min)===Math.round(c.min)&&Math.round(et.max)===Math.round(c.max)}function boxEqualsRounded(et,c){return axisEqualsRounded(et.x,c.x)&&axisEqualsRounded(et.y,c.y)}function aspectRatio(et){return calcLength(et.x)/calcLength(et.y)}function axisDeltaEquals(et,c){return et.translate===c.translate&&et.scale===c.scale&&et.originPoint===c.originPoint}class NodeStack{constructor(){this.members=[]}add(c){addUniqueItem(this.members,c),c.scheduleRender()}remove(c){if(removeItem(this.members,c),c===this.prevLead&&(this.prevLead=void 0),c===this.lead){const tt=this.members[this.members.length-1];tt&&this.promote(tt)}}relegate(c){const tt=this.members.findIndex(rt=>c===rt);if(tt===0)return!1;let nt;for(let rt=tt;rt>=0;rt--){const it=this.members[rt];if(it.isPresent!==!1){nt=it;break}}return nt?(this.promote(nt),!0):!1}promote(c,tt){const nt=this.lead;if(c!==nt&&(this.prevLead=nt,this.lead=c,c.show(),nt)){nt.instance&&nt.scheduleRender(),c.scheduleRender(),c.resumeFrom=nt,tt&&(c.resumeFrom.preserveOpacity=!0),nt.snapshot&&(c.snapshot=nt.snapshot,c.snapshot.latestValues=nt.animationValues||nt.latestValues),c.root&&c.root.isUpdating&&(c.isLayoutDirty=!0);const{crossfade:rt}=c.options;rt===!1&&nt.hide()}}exitAnimationComplete(){this.members.forEach(c=>{const{options:tt,resumingFrom:nt}=c;tt.onExitComplete&&tt.onExitComplete(),nt&&nt.options.onExitComplete&&nt.options.onExitComplete()})}scheduleRender(){this.members.forEach(c=>{c.instance&&c.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(et,c,tt){let nt="";const rt=et.x.translate/c.x,it=et.y.translate/c.y,st=(tt==null?void 0:tt.z)||0;if((rt||it||st)&&(nt=`translate3d(${rt}px, ${it}px, ${st}px) `),(c.x!==1||c.y!==1)&&(nt+=`scale(${1/c.x}, ${1/c.y}) `),tt){const{transformPerspective:lt,rotate:ct,rotateX:dt,rotateY:ht,skewX:mt,skewY:gt}=tt;lt&&(nt=`perspective(${lt}px) ${nt}`),ct&&(nt+=`rotate(${ct}deg) `),dt&&(nt+=`rotateX(${dt}deg) `),ht&&(nt+=`rotateY(${ht}deg) `),mt&&(nt+=`skewX(${mt}deg) `),gt&&(nt+=`skewY(${gt}deg) `)}const at=et.x.scale*c.x,ot=et.y.scale*c.y;return(at!==1||ot!==1)&&(nt+=`scale(${at}, ${ot})`),nt||"none"}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(et,c,tt,nt){const{latestValues:rt}=c;rt[et]&&(tt[et]=rt[et],c.setStaticValue(et,0),nt&&(nt[et]=0))}function cancelTreeOptimisedTransformAnimations(et){if(et.hasCheckedOptimisedAppear=!0,et.root===et)return;const{visualElement:c}=et.options;if(!c)return;const tt=getOptimisedAppearId(c);if(window.MotionHasOptimisedAnimation(tt,"transform")){const{layout:rt,layoutId:it}=et.options;window.MotionCancelOptimisedAnimation(tt,"transform",frame,!(rt||it))}const{parent:nt}=et;nt&&!nt.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(nt)}function createProjectionNode({attachResizeListener:et,defaultParent:c,measureScroll:tt,checkIsScrollRoot:nt,resetTransform:rt}){return class{constructor(st={},at=c==null?void 0:c()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=st,this.root=at?at.root||at:this,this.path=at?[...at.path,at]:[],this.parent=at,this.depth=at?at.depth+1:0;for(let ot=0;ot<this.path.length;ot++)this.path[ot].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(st,at){return this.eventHandlers.has(st)||this.eventHandlers.set(st,new SubscriptionManager),this.eventHandlers.get(st).add(at)}notifyListeners(st,...at){const ot=this.eventHandlers.get(st);ot&&ot.notify(...at)}hasListeners(st){return this.eventHandlers.has(st)}mount(st,at=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(st),this.instance=st;const{layoutId:ot,layout:lt,visualElement:ct}=this.options;if(ct&&!ct.current&&ct.mount(st),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),at&&(lt||ot)&&(this.isLayoutDirty=!0),et){let dt;const ht=()=>this.root.updateBlockedByResize=!1;et(st,()=>{this.root.updateBlockedByResize=!0,dt&&dt(),dt=delay(ht,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}ot&&this.root.registerSharedNode(ot,this),this.options.animate!==!1&&ct&&(ot||lt)&&this.addEventListener("didUpdate",({delta:dt,hasLayoutChanged:ht,hasRelativeTargetChanged:mt,layout:gt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const yt=this.options.transition||ct.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:_t,onLayoutAnimationComplete:pt}=ct.getProps(),xt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,gt)||mt,vt=!ht&&mt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||vt||ht&&(xt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(dt,vt);const St={...getValueTransition(yt,"layout"),onPlay:_t,onComplete:pt};(ct.shouldReduceMotion||this.options.layoutRoot)&&(St.delay=0,St.type=!1),this.startAnimation(St)}else ht||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=gt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const st=this.getStack();st&&st.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:st}=this.options;return st&&st.getProps().transformTemplate}willUpdate(st=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let ct=0;ct<this.path.length;ct++){const dt=this.path[ct];dt.shouldResetTransform=!0,dt.updateScroll("snapshot"),dt.options.layoutRoot&&dt.willUpdate(!1)}const{layoutId:at,layout:ot}=this.options;if(at===void 0&&!ot)return;const lt=this.getTransformTemplate();this.prevTransformTemplateValue=lt?lt(this.latestValues,""):void 0,this.updateSnapshot(),st&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const at=time.now();frameData.delta=clamp$1(0,1e3/60,at-frameData.timestamp),frameData.timestamp=at,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let ot=0;ot<this.path.length;ot++)this.path[ot].updateScroll();const st=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:at}=this.options;at&&at.notify("LayoutMeasure",this.layout.layoutBox,st?st.layoutBox:void 0)}updateScroll(st="measure"){let at=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===st&&(at=!1),at){const ot=nt(this.instance);this.scroll={animationId:this.root.animationId,phase:st,isRoot:ot,offset:tt(this.instance),wasRoot:this.scroll?this.scroll.isRoot:ot}}}resetTransform(){if(!rt)return;const st=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,at=this.projectionDelta&&!isDeltaZero(this.projectionDelta),ot=this.getTransformTemplate(),lt=ot?ot(this.latestValues,""):void 0,ct=lt!==this.prevTransformTemplateValue;st&&(at||hasTransform(this.latestValues)||ct)&&(rt(this.instance,lt),this.shouldResetTransform=!1,this.scheduleRender())}measure(st=!0){const at=this.measurePageBox();let ot=this.removeElementScroll(at);return st&&(ot=this.removeTransform(ot)),roundBox(ot),{animationId:this.root.animationId,measuredBox:at,layoutBox:ot,latestValues:{},source:this.id}}measurePageBox(){var st;const{visualElement:at}=this.options;if(!at)return createBox();const ot=at.measureViewportBox();if(!(((st=this.scroll)===null||st===void 0?void 0:st.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:ct}=this.root;ct&&(translateAxis(ot.x,ct.offset.x),translateAxis(ot.y,ct.offset.y))}return ot}removeElementScroll(st){var at;const ot=createBox();if(copyBoxInto(ot,st),!((at=this.scroll)===null||at===void 0)&&at.wasRoot)return ot;for(let lt=0;lt<this.path.length;lt++){const ct=this.path[lt],{scroll:dt,options:ht}=ct;ct!==this.root&&dt&&ht.layoutScroll&&(dt.wasRoot&&copyBoxInto(ot,st),translateAxis(ot.x,dt.offset.x),translateAxis(ot.y,dt.offset.y))}return ot}applyTransform(st,at=!1){const ot=createBox();copyBoxInto(ot,st);for(let lt=0;lt<this.path.length;lt++){const ct=this.path[lt];!at&&ct.options.layoutScroll&&ct.scroll&&ct!==ct.root&&transformBox(ot,{x:-ct.scroll.offset.x,y:-ct.scroll.offset.y}),hasTransform(ct.latestValues)&&transformBox(ot,ct.latestValues)}return hasTransform(this.latestValues)&&transformBox(ot,this.latestValues),ot}removeTransform(st){const at=createBox();copyBoxInto(at,st);for(let ot=0;ot<this.path.length;ot++){const lt=this.path[ot];if(!lt.instance||!hasTransform(lt.latestValues))continue;hasScale(lt.latestValues)&&lt.updateSnapshot();const ct=createBox(),dt=lt.measurePageBox();copyBoxInto(ct,dt),removeBoxTransforms(at,lt.latestValues,lt.snapshot?lt.snapshot.layoutBox:void 0,ct)}return hasTransform(this.latestValues)&&removeBoxTransforms(at,this.latestValues),at}setTargetDelta(st){this.targetDelta=st,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(st){this.options={...this.options,...st,crossfade:st.crossfade!==void 0?st.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(st=!1){var at;const ot=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=ot.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=ot.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=ot.isSharedProjectionDirty);const lt=!!this.resumingFrom||this!==ot;if(!(st||lt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((at=this.parent)===null||at===void 0)&&at.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:dt,layoutId:ht}=this.options;if(!(!this.layout||!(dt||ht))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const mt=this.getClosestProjectingParent();mt&&mt.layout&&this.animationProgress!==1?(this.relativeParent=mt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,mt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const mt=this.getClosestProjectingParent();mt&&!!mt.resumingFrom==!!this.resumingFrom&&!mt.options.layoutScroll&&mt.target&&this.animationProgress!==1?(this.relativeParent=mt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,mt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var st;const at=this.getLead(),ot=!!this.resumingFrom||this!==at;let lt=!0;if((this.isProjectionDirty||!((st=this.parent)===null||st===void 0)&&st.isProjectionDirty)&&(lt=!1),ot&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(lt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(lt=!1),lt)return;const{layout:ct,layoutId:dt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(ct||dt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const ht=this.treeScale.x,mt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,ot),at.layout&&!at.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(at.target=at.layout.layoutBox,at.targetWithTransforms=createBox());const{target:gt}=at;if(!gt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,gt,this.latestValues),(this.treeScale.x!==ht||this.treeScale.y!==mt||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",gt)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(st=!0){var at;if((at=this.options.visualElement)===null||at===void 0||at.scheduleRender(),st){const ot=this.getStack();ot&&ot.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(st,at=!1){const ot=this.snapshot,lt=ot?ot.latestValues:{},ct={...this.latestValues},dt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!at;const ht=createBox(),mt=ot?ot.source:void 0,gt=this.layout?this.layout.source:void 0,yt=mt!==gt,_t=this.getStack(),pt=!_t||_t.members.length<=1,xt=!!(yt&&!pt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let vt;this.mixTargetDelta=St=>{const wt=St/1e3;mixAxisDelta(dt.x,st.x,wt),mixAxisDelta(dt.y,st.y,wt),this.setTargetDelta(dt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(ht,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,ht,wt),vt&&boxEquals(this.relativeTarget,vt)&&(this.isProjectionDirty=!1),vt||(vt=createBox()),copyBoxInto(vt,this.relativeTarget)),yt&&(this.animationValues=ct,mixValues(ct,lt,this.latestValues,wt,xt,pt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=wt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(st){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...st,onUpdate:at=>{this.mixTargetDelta(at),st.onUpdate&&st.onUpdate(at)},onComplete:()=>{st.onComplete&&st.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const st=this.getStack();st&&st.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const st=this.getLead();let{targetWithTransforms:at,target:ot,layout:lt,latestValues:ct}=st;if(!(!at||!ot||!lt)){if(this!==st&&this.layout&&lt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,lt.layoutBox)){ot=this.target||createBox();const dt=calcLength(this.layout.layoutBox.x);ot.x.min=st.target.x.min,ot.x.max=ot.x.min+dt;const ht=calcLength(this.layout.layoutBox.y);ot.y.min=st.target.y.min,ot.y.max=ot.y.min+ht}copyBoxInto(at,ot),transformBox(at,ct),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,at,ct)}}registerSharedNode(st,at){this.sharedNodes.has(st)||this.sharedNodes.set(st,new NodeStack),this.sharedNodes.get(st).add(at);const lt=at.options.initialPromotionConfig;at.promote({transition:lt?lt.transition:void 0,preserveFollowOpacity:lt&&lt.shouldPreserveFollowOpacity?lt.shouldPreserveFollowOpacity(at):void 0})}isLead(){const st=this.getStack();return st?st.lead===this:!0}getLead(){var st;const{layoutId:at}=this.options;return at?((st=this.getStack())===null||st===void 0?void 0:st.lead)||this:this}getPrevLead(){var st;const{layoutId:at}=this.options;return at?(st=this.getStack())===null||st===void 0?void 0:st.prevLead:void 0}getStack(){const{layoutId:st}=this.options;if(st)return this.root.sharedNodes.get(st)}promote({needsReset:st,transition:at,preserveFollowOpacity:ot}={}){const lt=this.getStack();lt&&lt.promote(this,ot),st&&(this.projectionDelta=void 0,this.needsReset=!0),at&&this.setOptions({transition:at})}relegate(){const st=this.getStack();return st?st.relegate(this):!1}resetSkewAndRotation(){const{visualElement:st}=this.options;if(!st)return;let at=!1;const{latestValues:ot}=st;if((ot.z||ot.rotate||ot.rotateX||ot.rotateY||ot.rotateZ||ot.skewX||ot.skewY)&&(at=!0),!at)return;const lt={};ot.z&&resetDistortingTransform("z",st,lt,this.animationValues);for(let ct=0;ct<transformAxes.length;ct++)resetDistortingTransform(`rotate${transformAxes[ct]}`,st,lt,this.animationValues),resetDistortingTransform(`skew${transformAxes[ct]}`,st,lt,this.animationValues);st.render();for(const ct in lt)st.setStaticValue(ct,lt[ct]),this.animationValues&&(this.animationValues[ct]=lt[ct]);st.scheduleRender()}getProjectionStyles(st){var at,ot;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const lt={visibility:""},ct=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,lt.opacity="",lt.pointerEvents=resolveMotionValue(st==null?void 0:st.pointerEvents)||"",lt.transform=ct?ct(this.latestValues,""):"none",lt;const dt=this.getLead();if(!this.projectionDelta||!this.layout||!dt.target){const yt={};return this.options.layoutId&&(yt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,yt.pointerEvents=resolveMotionValue(st==null?void 0:st.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(yt.transform=ct?ct({},""):"none",this.hasProjected=!1),yt}const ht=dt.animationValues||dt.latestValues;this.applyTransformsToTarget(),lt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,ht),ct&&(lt.transform=ct(ht,lt.transform));const{x:mt,y:gt}=this.projectionDelta;lt.transformOrigin=`${mt.origin*100}% ${gt.origin*100}% 0`,dt.animationValues?lt.opacity=dt===this?(ot=(at=ht.opacity)!==null&&at!==void 0?at:this.latestValues.opacity)!==null&&ot!==void 0?ot:1:this.preserveOpacity?this.latestValues.opacity:ht.opacityExit:lt.opacity=dt===this?ht.opacity!==void 0?ht.opacity:"":ht.opacityExit!==void 0?ht.opacityExit:0;for(const yt in scaleCorrectors){if(ht[yt]===void 0)continue;const{correct:_t,applyTo:pt}=scaleCorrectors[yt],xt=lt.transform==="none"?ht[yt]:_t(ht[yt],dt);if(pt){const vt=pt.length;for(let St=0;St<vt;St++)lt[pt[St]]=xt}else lt[yt]=xt}return this.options.layoutId&&(lt.pointerEvents=dt===this?resolveMotionValue(st==null?void 0:st.pointerEvents)||"":"none"),lt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(st=>{var at;return(at=st.currentAnimation)===null||at===void 0?void 0:at.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(et){et.updateLayout()}function notifyLayoutUpdate(et){var c;const tt=((c=et.resumeFrom)===null||c===void 0?void 0:c.snapshot)||et.snapshot;if(et.isLead()&&et.layout&&tt&&et.hasListeners("didUpdate")){const{layoutBox:nt,measuredBox:rt}=et.layout,{animationType:it}=et.options,st=tt.source!==et.layout.source;it==="size"?eachAxis(dt=>{const ht=st?tt.measuredBox[dt]:tt.layoutBox[dt],mt=calcLength(ht);ht.min=nt[dt].min,ht.max=ht.min+mt}):shouldAnimatePositionOnly(it,tt.layoutBox,nt)&&eachAxis(dt=>{const ht=st?tt.measuredBox[dt]:tt.layoutBox[dt],mt=calcLength(nt[dt]);ht.max=ht.min+mt,et.relativeTarget&&!et.currentAnimation&&(et.isProjectionDirty=!0,et.relativeTarget[dt].max=et.relativeTarget[dt].min+mt)});const at=createDelta();calcBoxDelta(at,nt,tt.layoutBox);const ot=createDelta();st?calcBoxDelta(ot,et.applyTransform(rt,!0),tt.measuredBox):calcBoxDelta(ot,nt,tt.layoutBox);const lt=!isDeltaZero(at);let ct=!1;if(!et.resumeFrom){const dt=et.getClosestProjectingParent();if(dt&&!dt.resumeFrom){const{snapshot:ht,layout:mt}=dt;if(ht&&mt){const gt=createBox();calcRelativePosition(gt,tt.layoutBox,ht.layoutBox);const yt=createBox();calcRelativePosition(yt,nt,mt.layoutBox),boxEqualsRounded(gt,yt)||(ct=!0),dt.options.layoutRoot&&(et.relativeTarget=yt,et.relativeTargetOrigin=gt,et.relativeParent=dt)}}}et.notifyListeners("didUpdate",{layout:nt,snapshot:tt,delta:ot,layoutDelta:at,hasLayoutChanged:lt,hasRelativeTargetChanged:ct})}else if(et.isLead()){const{onExitComplete:nt}=et.options;nt&&nt()}et.options.transition=void 0}function propagateDirtyNodes(et){isDebug&&metrics.totalNodes++,et.parent&&(et.isProjecting()||(et.isProjectionDirty=et.parent.isProjectionDirty),et.isSharedProjectionDirty||(et.isSharedProjectionDirty=!!(et.isProjectionDirty||et.parent.isProjectionDirty||et.parent.isSharedProjectionDirty)),et.isTransformDirty||(et.isTransformDirty=et.parent.isTransformDirty))}function cleanDirtyNodes(et){et.isProjectionDirty=et.isSharedProjectionDirty=et.isTransformDirty=!1}function clearSnapshot(et){et.clearSnapshot()}function clearMeasurements(et){et.clearMeasurements()}function clearIsLayoutDirty(et){et.isLayoutDirty=!1}function resetTransformStyle(et){const{visualElement:c}=et.options;c&&c.getProps().onBeforeLayoutMeasure&&c.notify("BeforeLayoutMeasure"),et.resetTransform()}function finishAnimation(et){et.finishAnimation(),et.targetDelta=et.relativeTarget=et.target=void 0,et.isProjectionDirty=!0}function resolveTargetDelta(et){et.resolveTargetDelta()}function calcProjection(et){et.calcProjection()}function resetSkewAndRotation(et){et.resetSkewAndRotation()}function removeLeadSnapshots(et){et.removeLeadSnapshot()}function mixAxisDelta(et,c,tt){et.translate=mixNumber$1(c.translate,0,tt),et.scale=mixNumber$1(c.scale,1,tt),et.origin=c.origin,et.originPoint=c.originPoint}function mixAxis(et,c,tt,nt){et.min=mixNumber$1(c.min,tt.min,nt),et.max=mixNumber$1(c.max,tt.max,nt)}function mixBox(et,c,tt,nt){mixAxis(et.x,c.x,tt.x,nt),mixAxis(et.y,c.y,tt.y,nt)}function hasOpacityCrossfade(et){return et.animationValues&&et.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=et=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(et),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(et){et.min=roundPoint(et.min),et.max=roundPoint(et.max)}function roundBox(et){roundAxis(et.x),roundAxis(et.y)}function shouldAnimatePositionOnly(et,c,tt){return et==="position"||et==="preserve-aspect"&&!isNear(aspectRatio(c),aspectRatio(tt),.2)}function checkNodeWasScrollRoot(et){var c;return et!==et.root&&((c=et.scroll)===null||c===void 0?void 0:c.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(et,c)=>addDomEvent(et,"resize",c),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:et=>({x:et.scrollLeft,y:et.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const et=new DocumentProjectionNode({});et.mount(window),et.setOptions({layoutScroll:!0}),rootProjectionNode.current=et}return rootProjectionNode.current},resetTransform:(et,c)=>{et.style.transform=c!==void 0?c:"none"},checkIsScrollRoot:et=>window.getComputedStyle(et).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(et,c,tt){const{props:nt}=et;et.animationState&&nt.whileHover&&et.animationState.setActive("whileHover",tt==="Start");const rt="onHover"+tt,it=nt[rt];it&&frame.postRender(()=>it(c,extractEventInfo(c)))}class HoverGesture extends Feature{mount(){const{current:c}=this.node;c&&(this.unmount=hover(c,tt=>(handleHoverEvent(this.node,tt,"Start"),nt=>handleHoverEvent(this.node,nt,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let c=!1;try{c=this.node.current.matches(":focus-visible")}catch{c=!0}!c||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(et,c,tt){const{props:nt}=et;et.animationState&&nt.whileTap&&et.animationState.setActive("whileTap",tt==="Start");const rt="onTap"+(tt==="End"?"":tt),it=nt[rt];it&&frame.postRender(()=>it(c,extractEventInfo(c)))}class PressGesture extends Feature{mount(){const{current:c}=this.node;c&&(this.unmount=press(c,tt=>(handlePressEvent(this.node,tt,"Start"),(nt,{success:rt})=>handlePressEvent(this.node,nt,rt?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=et=>{const c=observerCallbacks.get(et.target);c&&c(et)},fireAllObserverCallbacks=et=>{et.forEach(fireObserverCallback)};function initIntersectionObserver({root:et,...c}){const tt=et||document;observers.has(tt)||observers.set(tt,{});const nt=observers.get(tt),rt=JSON.stringify(c);return nt[rt]||(nt[rt]=new IntersectionObserver(fireAllObserverCallbacks,{root:et,...c})),nt[rt]}function observeIntersection(et,c,tt){const nt=initIntersectionObserver(c);return observerCallbacks.set(et,tt),nt.observe(et),()=>{observerCallbacks.delete(et),nt.unobserve(et)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:c={}}=this.node.getProps(),{root:tt,margin:nt,amount:rt="some",once:it}=c,st={root:tt?tt.current:void 0,rootMargin:nt,threshold:typeof rt=="number"?rt:thresholdNames[rt]},at=ot=>{const{isIntersecting:lt}=ot;if(this.isInView===lt||(this.isInView=lt,it&&!lt&&this.hasEnteredView))return;lt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",lt);const{onViewportEnter:ct,onViewportLeave:dt}=this.node.getProps(),ht=lt?ct:dt;ht&&ht(ot)};return observeIntersection(this.node.current,st,at)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:c,prevProps:tt}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(c,tt))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:et={}},{viewport:c={}}={}){return tt=>et[tt]!==c[tt]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const et=window.matchMedia("(prefers-reduced-motion)"),c=()=>prefersReducedMotion.current=et.matches;et.addListener(c),c()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=et=>valueTypes.find(testValueType(et)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(et,c,tt){for(const nt in c){const rt=c[nt],it=tt[nt];if(isMotionValue(rt))et.addValue(nt,rt);else if(isMotionValue(it))et.addValue(nt,motionValue(rt,{owner:et}));else if(it!==rt)if(et.hasValue(nt)){const st=et.getValue(nt);st.liveStyle===!0?st.jump(rt):st.hasAnimated||st.set(rt)}else{const st=et.getStaticValue(nt);et.addValue(nt,motionValue(st!==void 0?st:rt,{owner:et}))}}for(const nt in tt)c[nt]===void 0&&et.removeValue(nt);return c}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(c,tt,nt){return{}}constructor({parent:c,props:tt,presenceContext:nt,reducedMotionConfig:rt,blockInitialAnimation:it,visualState:st},at={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const mt=time.now();this.renderScheduledAt<mt&&(this.renderScheduledAt=mt,frame.render(this.render,!1,!0))};const{latestValues:ot,renderState:lt,onUpdate:ct}=st;this.onUpdate=ct,this.latestValues=ot,this.baseTarget={...ot},this.initialValues=tt.initial?{...ot}:{},this.renderState=lt,this.parent=c,this.props=tt,this.presenceContext=nt,this.depth=c?c.depth+1:0,this.reducedMotionConfig=rt,this.options=at,this.blockInitialAnimation=!!it,this.isControllingVariants=isControllingVariants(tt),this.isVariantNode=isVariantNode(tt),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(c&&c.current);const{willChange:dt,...ht}=this.scrapeMotionValuesFromProps(tt,{},this);for(const mt in ht){const gt=ht[mt];ot[mt]!==void 0&&isMotionValue(gt)&&gt.set(ot[mt],!1)}}mount(c){this.current=c,visualElementStore.set(c,this),this.projection&&!this.projection.instance&&this.projection.mount(c),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((tt,nt)=>this.bindToMotionValue(nt,tt)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(c=>c()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const c in this.events)this.events[c].clear();for(const c in this.features){const tt=this.features[c];tt&&(tt.unmount(),tt.isMounted=!1)}this.current=null}bindToMotionValue(c,tt){this.valueSubscriptions.has(c)&&this.valueSubscriptions.get(c)();const nt=transformProps.has(c),rt=tt.on("change",at=>{this.latestValues[c]=at,this.props.onUpdate&&frame.preRender(this.notifyUpdate),nt&&this.projection&&(this.projection.isTransformDirty=!0)}),it=tt.on("renderRequest",this.scheduleRender);let st;window.MotionCheckAppearSync&&(st=window.MotionCheckAppearSync(this,c,tt)),this.valueSubscriptions.set(c,()=>{rt(),it(),st&&st(),tt.owner&&tt.stop()})}sortNodePosition(c){return!this.current||!this.sortInstanceNodePosition||this.type!==c.type?0:this.sortInstanceNodePosition(this.current,c.current)}updateFeatures(){let c="animation";for(c in featureDefinitions){const tt=featureDefinitions[c];if(!tt)continue;const{isEnabled:nt,Feature:rt}=tt;if(!this.features[c]&&rt&&nt(this.props)&&(this.features[c]=new rt(this)),this.features[c]){const it=this.features[c];it.isMounted?it.update():(it.mount(),it.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(c){return this.latestValues[c]}setStaticValue(c,tt){this.latestValues[c]=tt}update(c,tt){(c.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=c,this.prevPresenceContext=this.presenceContext,this.presenceContext=tt;for(let nt=0;nt<propEventHandlers.length;nt++){const rt=propEventHandlers[nt];this.propEventSubscriptions[rt]&&(this.propEventSubscriptions[rt](),delete this.propEventSubscriptions[rt]);const it="on"+rt,st=c[it];st&&(this.propEventSubscriptions[rt]=this.on(rt,st))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(c,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(c){return this.props.variants?this.props.variants[c]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(c){const tt=this.getClosestVariantNode();if(tt)return tt.variantChildren&&tt.variantChildren.add(c),()=>tt.variantChildren.delete(c)}addValue(c,tt){const nt=this.values.get(c);tt!==nt&&(nt&&this.removeValue(c),this.bindToMotionValue(c,tt),this.values.set(c,tt),this.latestValues[c]=tt.get())}removeValue(c){this.values.delete(c);const tt=this.valueSubscriptions.get(c);tt&&(tt(),this.valueSubscriptions.delete(c)),delete this.latestValues[c],this.removeValueFromRenderState(c,this.renderState)}hasValue(c){return this.values.has(c)}getValue(c,tt){if(this.props.values&&this.props.values[c])return this.props.values[c];let nt=this.values.get(c);return nt===void 0&&tt!==void 0&&(nt=motionValue(tt===null?void 0:tt,{owner:this}),this.addValue(c,nt)),nt}readValue(c,tt){var nt;let rt=this.latestValues[c]!==void 0||!this.current?this.latestValues[c]:(nt=this.getBaseTargetFromProps(this.props,c))!==null&&nt!==void 0?nt:this.readValueFromInstance(this.current,c,this.options);return rt!=null&&(typeof rt=="string"&&(isNumericalString(rt)||isZeroValueString(rt))?rt=parseFloat(rt):!findValueType(rt)&&complex.test(tt)&&(rt=getAnimatableNone(c,tt)),this.setBaseTarget(c,isMotionValue(rt)?rt.get():rt)),isMotionValue(rt)?rt.get():rt}setBaseTarget(c,tt){this.baseTarget[c]=tt}getBaseTarget(c){var tt;const{initial:nt}=this.props;let rt;if(typeof nt=="string"||typeof nt=="object"){const st=resolveVariantFromProps(this.props,nt,(tt=this.presenceContext)===null||tt===void 0?void 0:tt.custom);st&&(rt=st[c])}if(nt&&rt!==void 0)return rt;const it=this.getBaseTargetFromProps(this.props,c);return it!==void 0&&!isMotionValue(it)?it:this.initialValues[c]!==void 0&&rt===void 0?void 0:this.baseTarget[c]}on(c,tt){return this.events[c]||(this.events[c]=new SubscriptionManager),this.events[c].add(tt)}notify(c,...tt){this.events[c]&&this.events[c].notify(...tt)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(c,tt){return c.compareDocumentPosition(tt)&2?1:-1}getBaseTargetFromProps(c,tt){return c.style?c.style[tt]:void 0}removeValueFromRenderState(c,{vars:tt,style:nt}){delete tt[c],delete nt[c]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:c}=this.props;isMotionValue(c)&&(this.childSubscription=c.on("change",tt=>{this.current&&(this.current.textContent=`${tt}`)}))}}function getComputedStyle(et){return window.getComputedStyle(et)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(c,tt){if(transformProps.has(tt)){const nt=getDefaultValueType(tt);return nt&&nt.default||0}else{const nt=getComputedStyle(c),rt=(isCSSVariableName(tt)?nt.getPropertyValue(tt):nt[tt])||0;return typeof rt=="string"?rt.trim():rt}}measureInstanceViewportBox(c,{transformPagePoint:tt}){return measureViewportBox(c,tt)}build(c,tt,nt){buildHTMLStyles(c,tt,nt.transformTemplate)}scrapeMotionValuesFromProps(c,tt,nt){return scrapeMotionValuesFromProps$1(c,tt,nt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(c,tt){return c[tt]}readValueFromInstance(c,tt){if(transformProps.has(tt)){const nt=getDefaultValueType(tt);return nt&&nt.default||0}return tt=camelCaseAttributes.has(tt)?tt:camelToDash(tt),c.getAttribute(tt)}scrapeMotionValuesFromProps(c,tt,nt){return scrapeMotionValuesFromProps(c,tt,nt)}build(c,tt,nt){buildSVGAttrs(c,tt,this.isSVGTag,nt.transformTemplate)}renderInstance(c,tt,nt,rt){renderSVG(c,tt,nt,rt)}mount(c){this.isSVGTag=isSVGTag(c.tagName),super.mount(c)}}const createDomVisualElement=(et,c)=>isSVGComponent(et)?new SVGVisualElement(c):new HTMLVisualElement(c,{allowProjection:et!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);function stopAnimation(et){et.values.forEach(c=>c.stop())}function setVariants(et,c){[...c].reverse().forEach(nt=>{const rt=et.getVariant(nt);rt&&setTarget(et,rt),et.variantChildren&&et.variantChildren.forEach(it=>{setVariants(it,c)})})}function setValues(et,c){if(Array.isArray(c))return setVariants(et,c);if(typeof c=="string")return setVariants(et,[c]);setTarget(et,c)}function animationControls(){const et=new Set,c={subscribe(tt){return et.add(tt),()=>void et.delete(tt)},start(tt,nt){const rt=[];return et.forEach(it=>{rt.push(animateVisualElement(it,tt,{transitionOverride:nt}))}),Promise.all(rt)},set(tt){return et.forEach(nt=>{setValues(nt,tt)})},stop(){et.forEach(tt=>{stopAnimation(tt)})},mount(){return()=>{c.stop()}}};return c}function useAnimationControls(){const et=useConstant(animationControls);return useIsomorphicLayoutEffect$2(et.mount,[]),et}/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=et=>et.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...et)=>et.filter((c,tt,nt)=>!!c&&nt.indexOf(c)===tt).join(" ");/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:et="currentColor",size:c=24,strokeWidth:tt=2,absoluteStrokeWidth:nt,className:rt="",children:it,iconNode:st,...at},ot)=>reactExports.createElement("svg",{ref:ot,...defaultAttributes,width:c,height:c,stroke:et,strokeWidth:nt?Number(tt)*24/Number(c):tt,className:mergeClasses("lucide",rt),...at},[...st.map(([lt,ct])=>reactExports.createElement(lt,ct)),...Array.isArray(it)?it:[it]]));/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(et,c)=>{const tt=reactExports.forwardRef(({className:nt,...rt},it)=>reactExports.createElement(Icon,{ref:it,iconNode:c,className:mergeClasses(`lucide-${toKebabCase(et)}`,nt),...rt}));return tt.displayName=`${et}`,tt};/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUpRight=createLucideIcon("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BrainCircuit=createLucideIcon("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartColumn=createLucideIcon("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartNoAxesColumnIncreasing=createLucideIcon("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock$1=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CodeXml=createLucideIcon("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Github=createLucideIcon("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Headphones=createLucideIcon("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Linkedin=createLucideIcon("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Monitor=createLucideIcon("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShieldCheck=createLucideIcon("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShoppingCart=createLucideIcon("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Twitter=createLucideIcon("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$1=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Youtube=createLucideIcon("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Logo=()=>jsxRuntimeExports.jsxs("a",{href:"#",className:"font-satoshi font-bold text-2xl text-text-white hover:text-primary transition-colors duration-200 flex items-center gap-2","aria-label":"LOG_ON homepage",children:[jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-primary to-accent-blue bg-clip-text text-transparent",children:"LOG"}),jsxRuntimeExports.jsx("span",{className:"text-text-white",children:"_ON"})]}),CLASS_PART_SEPARATOR="-",createClassGroupUtils=et=>{const c=createClassMap(et),{conflictingClassGroups:tt,conflictingClassGroupModifiers:nt}=et;return{getClassGroupId:st=>{const at=st.split(CLASS_PART_SEPARATOR);return at[0]===""&&at.length!==1&&at.shift(),getGroupRecursive(at,c)||getGroupIdForArbitraryProperty(st)},getConflictingClassGroupIds:(st,at)=>{const ot=tt[st]||[];return at&&nt[st]?[...ot,...nt[st]]:ot}}},getGroupRecursive=(et,c)=>{var st;if(et.length===0)return c.classGroupId;const tt=et[0],nt=c.nextPart.get(tt),rt=nt?getGroupRecursive(et.slice(1),nt):void 0;if(rt)return rt;if(c.validators.length===0)return;const it=et.join(CLASS_PART_SEPARATOR);return(st=c.validators.find(({validator:at})=>at(it)))==null?void 0:st.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=et=>{if(arbitraryPropertyRegex.test(et)){const c=arbitraryPropertyRegex.exec(et)[1],tt=c==null?void 0:c.substring(0,c.indexOf(":"));if(tt)return"arbitrary.."+tt}},createClassMap=et=>{const{theme:c,prefix:tt}=et,nt={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(et.classGroups),tt).forEach(([it,st])=>{processClassesRecursively(st,nt,it,c)}),nt},processClassesRecursively=(et,c,tt,nt)=>{et.forEach(rt=>{if(typeof rt=="string"){const it=rt===""?c:getPart(c,rt);it.classGroupId=tt;return}if(typeof rt=="function"){if(isThemeGetter(rt)){processClassesRecursively(rt(nt),c,tt,nt);return}c.validators.push({validator:rt,classGroupId:tt});return}Object.entries(rt).forEach(([it,st])=>{processClassesRecursively(st,getPart(c,it),tt,nt)})})},getPart=(et,c)=>{let tt=et;return c.split(CLASS_PART_SEPARATOR).forEach(nt=>{tt.nextPart.has(nt)||tt.nextPart.set(nt,{nextPart:new Map,validators:[]}),tt=tt.nextPart.get(nt)}),tt},isThemeGetter=et=>et.isThemeGetter,getPrefixedClassGroupEntries=(et,c)=>c?et.map(([tt,nt])=>{const rt=nt.map(it=>typeof it=="string"?c+it:typeof it=="object"?Object.fromEntries(Object.entries(it).map(([st,at])=>[c+st,at])):it);return[tt,rt]}):et,createLruCache=et=>{if(et<1)return{get:()=>{},set:()=>{}};let c=0,tt=new Map,nt=new Map;const rt=(it,st)=>{tt.set(it,st),c++,c>et&&(c=0,nt=tt,tt=new Map)};return{get(it){let st=tt.get(it);if(st!==void 0)return st;if((st=nt.get(it))!==void 0)return rt(it,st),st},set(it,st){tt.has(it)?tt.set(it,st):rt(it,st)}}},IMPORTANT_MODIFIER="!",createParseClassName=et=>{const{separator:c,experimentalParseClassName:tt}=et,nt=c.length===1,rt=c[0],it=c.length,st=at=>{const ot=[];let lt=0,ct=0,dt;for(let _t=0;_t<at.length;_t++){let pt=at[_t];if(lt===0){if(pt===rt&&(nt||at.slice(_t,_t+it)===c)){ot.push(at.slice(ct,_t)),ct=_t+it;continue}if(pt==="/"){dt=_t;continue}}pt==="["?lt++:pt==="]"&&lt--}const ht=ot.length===0?at:at.substring(ct),mt=ht.startsWith(IMPORTANT_MODIFIER),gt=mt?ht.substring(1):ht,yt=dt&&dt>ct?dt-ct:void 0;return{modifiers:ot,hasImportantModifier:mt,baseClassName:gt,maybePostfixModifierPosition:yt}};return tt?at=>tt({className:at,parseClassName:st}):st},sortModifiers=et=>{if(et.length<=1)return et;const c=[];let tt=[];return et.forEach(nt=>{nt[0]==="["?(c.push(...tt.sort(),nt),tt=[]):tt.push(nt)}),c.push(...tt.sort()),c},createConfigUtils=et=>({cache:createLruCache(et.cacheSize),parseClassName:createParseClassName(et),...createClassGroupUtils(et)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(et,c)=>{const{parseClassName:tt,getClassGroupId:nt,getConflictingClassGroupIds:rt}=c,it=[],st=et.trim().split(SPLIT_CLASSES_REGEX);let at="";for(let ot=st.length-1;ot>=0;ot-=1){const lt=st[ot],{modifiers:ct,hasImportantModifier:dt,baseClassName:ht,maybePostfixModifierPosition:mt}=tt(lt);let gt=!!mt,yt=nt(gt?ht.substring(0,mt):ht);if(!yt){if(!gt){at=lt+(at.length>0?" "+at:at);continue}if(yt=nt(ht),!yt){at=lt+(at.length>0?" "+at:at);continue}gt=!1}const _t=sortModifiers(ct).join(":"),pt=dt?_t+IMPORTANT_MODIFIER:_t,xt=pt+yt;if(it.includes(xt))continue;it.push(xt);const vt=rt(yt,gt);for(let St=0;St<vt.length;++St){const wt=vt[St];it.push(pt+wt)}at=lt+(at.length>0?" "+at:at)}return at};function twJoin(){let et=0,c,tt,nt="";for(;et<arguments.length;)(c=arguments[et++])&&(tt=toValue(c))&&(nt&&(nt+=" "),nt+=tt);return nt}const toValue=et=>{if(typeof et=="string")return et;let c,tt="";for(let nt=0;nt<et.length;nt++)et[nt]&&(c=toValue(et[nt]))&&(tt&&(tt+=" "),tt+=c);return tt};function createTailwindMerge(et,...c){let tt,nt,rt,it=st;function st(ot){const lt=c.reduce((ct,dt)=>dt(ct),et());return tt=createConfigUtils(lt),nt=tt.cache.get,rt=tt.cache.set,it=at,at(ot)}function at(ot){const lt=nt(ot);if(lt)return lt;const ct=mergeClassList(ot,tt);return rt(ot,ct),ct}return function(){return it(twJoin.apply(null,arguments))}}const fromTheme=et=>{const c=tt=>tt[et]||[];return c.isThemeGetter=!0,c},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=et=>isNumber(et)||stringLengths.has(et)||fractionRegex.test(et),isArbitraryLength=et=>getIsArbitraryValue(et,"length",isLengthOnly),isNumber=et=>!!et&&!Number.isNaN(Number(et)),isArbitraryNumber=et=>getIsArbitraryValue(et,"number",isNumber),isInteger=et=>!!et&&Number.isInteger(Number(et)),isPercent=et=>et.endsWith("%")&&isNumber(et.slice(0,-1)),isArbitraryValue=et=>arbitraryValueRegex.test(et),isTshirtSize=et=>tshirtUnitRegex.test(et),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=et=>getIsArbitraryValue(et,sizeLabels,isNever),isArbitraryPosition=et=>getIsArbitraryValue(et,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=et=>getIsArbitraryValue(et,imageLabels,isImage),isArbitraryShadow=et=>getIsArbitraryValue(et,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(et,c,tt)=>{const nt=arbitraryValueRegex.exec(et);return nt?nt[1]?typeof c=="string"?nt[1]===c:c.has(nt[1]):tt(nt[2]):!1},isLengthOnly=et=>lengthUnitRegex.test(et)&&!colorFunctionRegex.test(et),isNever=()=>!1,isShadow=et=>shadowRegex.test(et),isImage=et=>imageRegex.test(et),getDefaultConfig=()=>{const et=fromTheme("colors"),c=fromTheme("spacing"),tt=fromTheme("blur"),nt=fromTheme("brightness"),rt=fromTheme("borderColor"),it=fromTheme("borderRadius"),st=fromTheme("borderSpacing"),at=fromTheme("borderWidth"),ot=fromTheme("contrast"),lt=fromTheme("grayscale"),ct=fromTheme("hueRotate"),dt=fromTheme("invert"),ht=fromTheme("gap"),mt=fromTheme("gradientColorStops"),gt=fromTheme("gradientColorStopPositions"),yt=fromTheme("inset"),_t=fromTheme("margin"),pt=fromTheme("opacity"),xt=fromTheme("padding"),vt=fromTheme("saturate"),St=fromTheme("scale"),wt=fromTheme("sepia"),Mt=fromTheme("skew"),Ct=fromTheme("space"),Rt=fromTheme("translate"),Lt=()=>["auto","contain","none"],It=()=>["auto","hidden","clip","visible","scroll"],Nt=()=>["auto",isArbitraryValue,c],zt=()=>[isArbitraryValue,c],Wt=()=>["",isLength,isArbitraryLength],Yt=()=>["auto",isNumber,isArbitraryValue],Xt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ft=()=>["solid","dashed","dotted","double","none"],Ut=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],At=()=>["start","end","center","between","around","evenly","stretch"],kt=()=>["","0",isArbitraryValue],Ot=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Bt=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:Bt(),borderColor:[et],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:zt(),borderWidth:Wt(),contrast:Bt(),grayscale:kt(),hueRotate:Bt(),invert:kt(),gap:zt(),gradientColorStops:[et],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:Nt(),margin:Nt(),opacity:Bt(),padding:zt(),saturate:Bt(),scale:Bt(),sepia:kt(),skew:Bt(),space:zt(),translate:zt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Ot()}],"break-before":[{"break-before":Ot()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Xt(),isArbitraryValue]}],overflow:[{overflow:It()}],"overflow-x":[{"overflow-x":It()}],"overflow-y":[{"overflow-y":It()}],overscroll:[{overscroll:Lt()}],"overscroll-x":[{"overscroll-x":Lt()}],"overscroll-y":[{"overscroll-y":Lt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[yt]}],"inset-x":[{"inset-x":[yt]}],"inset-y":[{"inset-y":[yt]}],start:[{start:[yt]}],end:[{end:[yt]}],top:[{top:[yt]}],right:[{right:[yt]}],bottom:[{bottom:[yt]}],left:[{left:[yt]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:Nt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:kt()}],shrink:[{shrink:kt()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":Yt()}],"col-end":[{"col-end":Yt()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":Yt()}],"row-end":[{"row-end":Yt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[ht]}],"gap-x":[{"gap-x":[ht]}],"gap-y":[{"gap-y":[ht]}],"justify-content":[{justify:["normal",...At()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...At(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...At(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[xt]}],px:[{px:[xt]}],py:[{py:[xt]}],ps:[{ps:[xt]}],pe:[{pe:[xt]}],pt:[{pt:[xt]}],pr:[{pr:[xt]}],pb:[{pb:[xt]}],pl:[{pl:[xt]}],m:[{m:[_t]}],mx:[{mx:[_t]}],my:[{my:[_t]}],ms:[{ms:[_t]}],me:[{me:[_t]}],mt:[{mt:[_t]}],mr:[{mr:[_t]}],mb:[{mb:[_t]}],ml:[{ml:[_t]}],"space-x":[{"space-x":[Ct]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Ct]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,c]}],"min-w":[{"min-w":[isArbitraryValue,c,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,c,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,c,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,c,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,c,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,c,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[et]}],"placeholder-opacity":[{"placeholder-opacity":[pt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[et]}],"text-opacity":[{"text-opacity":[pt]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ft(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:zt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[pt]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Xt(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[et]}],"gradient-from-pos":[{from:[gt]}],"gradient-via-pos":[{via:[gt]}],"gradient-to-pos":[{to:[gt]}],"gradient-from":[{from:[mt]}],"gradient-via":[{via:[mt]}],"gradient-to":[{to:[mt]}],rounded:[{rounded:[it]}],"rounded-s":[{"rounded-s":[it]}],"rounded-e":[{"rounded-e":[it]}],"rounded-t":[{"rounded-t":[it]}],"rounded-r":[{"rounded-r":[it]}],"rounded-b":[{"rounded-b":[it]}],"rounded-l":[{"rounded-l":[it]}],"rounded-ss":[{"rounded-ss":[it]}],"rounded-se":[{"rounded-se":[it]}],"rounded-ee":[{"rounded-ee":[it]}],"rounded-es":[{"rounded-es":[it]}],"rounded-tl":[{"rounded-tl":[it]}],"rounded-tr":[{"rounded-tr":[it]}],"rounded-br":[{"rounded-br":[it]}],"rounded-bl":[{"rounded-bl":[it]}],"border-w":[{border:[at]}],"border-w-x":[{"border-x":[at]}],"border-w-y":[{"border-y":[at]}],"border-w-s":[{"border-s":[at]}],"border-w-e":[{"border-e":[at]}],"border-w-t":[{"border-t":[at]}],"border-w-r":[{"border-r":[at]}],"border-w-b":[{"border-b":[at]}],"border-w-l":[{"border-l":[at]}],"border-opacity":[{"border-opacity":[pt]}],"border-style":[{border:[...Ft(),"hidden"]}],"divide-x":[{"divide-x":[at]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[at]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[pt]}],"divide-style":[{divide:Ft()}],"border-color":[{border:[rt]}],"border-color-x":[{"border-x":[rt]}],"border-color-y":[{"border-y":[rt]}],"border-color-s":[{"border-s":[rt]}],"border-color-e":[{"border-e":[rt]}],"border-color-t":[{"border-t":[rt]}],"border-color-r":[{"border-r":[rt]}],"border-color-b":[{"border-b":[rt]}],"border-color-l":[{"border-l":[rt]}],"divide-color":[{divide:[rt]}],"outline-style":[{outline:["",...Ft()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[et]}],"ring-w":[{ring:Wt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[et]}],"ring-opacity":[{"ring-opacity":[pt]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[et]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[pt]}],"mix-blend":[{"mix-blend":[...Ut(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ut()}],filter:[{filter:["","none"]}],blur:[{blur:[tt]}],brightness:[{brightness:[nt]}],contrast:[{contrast:[ot]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[lt]}],"hue-rotate":[{"hue-rotate":[ct]}],invert:[{invert:[dt]}],saturate:[{saturate:[vt]}],sepia:[{sepia:[wt]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[tt]}],"backdrop-brightness":[{"backdrop-brightness":[nt]}],"backdrop-contrast":[{"backdrop-contrast":[ot]}],"backdrop-grayscale":[{"backdrop-grayscale":[lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ct]}],"backdrop-invert":[{"backdrop-invert":[dt]}],"backdrop-opacity":[{"backdrop-opacity":[pt]}],"backdrop-saturate":[{"backdrop-saturate":[vt]}],"backdrop-sepia":[{"backdrop-sepia":[wt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[st]}],"border-spacing-x":[{"border-spacing-x":[st]}],"border-spacing-y":[{"border-spacing-y":[st]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Bt()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Bt()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[St]}],"scale-x":[{"scale-x":[St]}],"scale-y":[{"scale-y":[St]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[Rt]}],"translate-y":[{"translate-y":[Rt]}],"skew-x":[{"skew-x":[Mt]}],"skew-y":[{"skew-y":[Mt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",et]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[et]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":zt()}],"scroll-mx":[{"scroll-mx":zt()}],"scroll-my":[{"scroll-my":zt()}],"scroll-ms":[{"scroll-ms":zt()}],"scroll-me":[{"scroll-me":zt()}],"scroll-mt":[{"scroll-mt":zt()}],"scroll-mr":[{"scroll-mr":zt()}],"scroll-mb":[{"scroll-mb":zt()}],"scroll-ml":[{"scroll-ml":zt()}],"scroll-p":[{"scroll-p":zt()}],"scroll-px":[{"scroll-px":zt()}],"scroll-py":[{"scroll-py":zt()}],"scroll-ps":[{"scroll-ps":zt()}],"scroll-pe":[{"scroll-pe":zt()}],"scroll-pt":[{"scroll-pt":zt()}],"scroll-pr":[{"scroll-pr":zt()}],"scroll-pb":[{"scroll-pb":zt()}],"scroll-pl":[{"scroll-pl":zt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[et,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[et,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig),CTAButton=({children:et,variant:c="primary",size:tt="md",className:nt,...rt})=>{const it="font-inter font-medium rounded-lg transition-all duration-300 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden group",st={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},at={primary:"bg-primary hover:bg-primary-dark text-text-white shadow-lg hover:shadow-glow hover:-translate-y-0.5 focus:ring-4 focus:ring-primary/20",secondary:"bg-bg-white-10 hover:bg-bg-white-12 text-text-white backdrop-blur-sm border border-border-white-20 hover:border-border-white-60 focus:ring-4 focus:ring-bg-white-10",accent:"bg-gradient-to-r from-accent-purple to-accent-blue text-text-white hover:shadow-glow hover:-translate-y-0.5 focus:ring-4 focus:ring-accent-purple/20",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-text-white focus:ring-4 focus:ring-primary/20"},ot=c==="secondary"?"before:absolute before:inset-0 before:bg-gradient-glass before:opacity-50":"";return jsxRuntimeExports.jsxs(motion.button,{whileHover:{y:rt.disabled?0:-2,scale:rt.disabled?1:1.02},whileTap:{scale:rt.disabled?1:.98},transition:{type:"spring",stiffness:300,damping:20},className:twMerge(it,st[tt],at[c],ot,nt),...rt,children:[jsxRuntimeExports.jsx("span",{className:"relative z-10",children:et}),c==="primary"&&jsxRuntimeExports.jsx(motion.div,{className:"absolute inset-0 bg-gradient-to-r from-primary-light to-accent-blue opacity-0 group-hover:opacity-20 transition-opacity duration-300",initial:!1})]})},EnhancedDropdownMenu=({title:et,sections:c,highlight:tt})=>{const[nt,rt]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onMouseEnter:()=>rt(!0),onMouseLeave:()=>rt(!1),className:"flex items-center gap-1 text-sm font-inter font-medium text-text-white-80 hover:text-primary transition-colors duration-200 py-2",children:[et,jsxRuntimeExports.jsx(ChevronDown,{className:`h-4 w-4 transition-transform duration-200 ${nt?"rotate-180":""}`})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:nt&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},onMouseEnter:()=>rt(!0),onMouseLeave:()=>rt(!1),className:"absolute left-0 top-full mt-2 w-[600px] rounded-2xl bg-bg-dark/95 backdrop-blur-xl border border-border-white-10 shadow-2xl overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-6 p-6",children:c.map((it,st)=>jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-text-white uppercase tracking-wide",children:it.title}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:it.items.map((at,ot)=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:at.href,className:"block text-sm text-text-white-60 hover:text-primary transition-colors duration-200 py-1",children:at.label})},ot))})]},st))}),tt&&jsxRuntimeExports.jsx("div",{className:"px-6 py-4 bg-bg-white-5 border-t border-border-white-10",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-text-white-80 italic",children:tt})})]})})]})},navigationConfig={solutions:{label:"Solutions",sections:[{title:"Customer Engagement",items:[{label:"Voice-First Dialogue",href:"#voice-dialogue"},{label:"Proactive Insights",href:"#proactive-insights"},{label:"Feedback Automation",href:"#feedback-automation"}]},{title:"Operations",items:[{label:"Efficiency Optimization",href:"#efficiency"},{label:"Dynamic Pricing",href:"#dynamic-pricing"},{label:"Process Automation",href:"#process-automation"}]},{title:"Growth",items:[{label:"Marketing Intelligence",href:"#marketing-intel"},{label:"Talent Management",href:"#talent-mgmt"},{label:"Strategic Planning",href:"#strategic-planning"}]}],highlight:"See how LOG_ON identifies and solves your unique business challenges."},marketplace:{label:"Marketplace",sections:[{title:"Discover",items:[{label:"Explore All Agents",href:"/marketplace"},{label:"Industry Solutions",href:"/marketplace?category=industry"},{label:"Community Innovations",href:"/marketplace?trending=true"}]},{title:"Create",items:[{label:"Become Agent Creator",href:"/marketplace#become-creator"},{label:"Publish Automations",href:"/creators/submit"},{label:"Monetize Intelligence",href:"/creators/monetization"}]}],highlight:"Expand your platform's power with our vibrant, ever-growing ecosystem."},developers:{label:"Developers",sections:[{title:"Get Started",items:[{label:"SDKs & APIs",href:"#sdks-apis"},{label:"Documentation",href:"#docs"},{label:"Code Samples",href:"#code-samples"},{label:"Tutorials",href:"#tutorials"}]},{title:"Community",items:[{label:"Developer Forums",href:"#dev-forums"},{label:"Bounty Programs",href:"#bounty"},{label:"Contribute to Core",href:"#contribute"}]}],highlight:"Build the future of autonomous business with our comprehensive toolkit."},resources:{label:"Resources",sections:[{title:"Learn",items:[{label:"Case Studies",href:"#case-studies"},{label:"Webinars",href:"#webinars"},{label:"Blog",href:"#blog"},{label:"Whitepapers",href:"#whitepapers"}]},{title:"Support",items:[{label:"FAQs",href:"#faqs"},{label:"Support Center",href:"#support"},{label:"Community Help",href:"#community-help"}]}],highlight:"Everything you need to succeed with LOG_ON."}},AppHeader=()=>{const[et,c]=reactExports.useState(!1),tt={closed:{opacity:0,y:"-100%"},open:{opacity:1,y:0,transition:{type:"spring",stiffness:120,damping:20}}};return jsxRuntimeExports.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50",children:[jsxRuntimeExports.jsx(motion.div,{className:"glass-card glass-card-hover border-0 border-b border-border-white-10 rounded-none",initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100,damping:20},children:jsxRuntimeExports.jsxs("div",{className:"container px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16 sm:h-20",children:[jsxRuntimeExports.jsx(Logo,{}),jsxRuntimeExports.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[jsxRuntimeExports.jsx(EnhancedDropdownMenu,{title:navigationConfig.solutions.label,sections:navigationConfig.solutions.sections,highlight:navigationConfig.solutions.highlight}),jsxRuntimeExports.jsx(EnhancedDropdownMenu,{title:navigationConfig.marketplace.label,sections:navigationConfig.marketplace.sections,highlight:navigationConfig.marketplace.highlight}),jsxRuntimeExports.jsx(EnhancedDropdownMenu,{title:navigationConfig.developers.label,sections:navigationConfig.developers.sections,highlight:navigationConfig.developers.highlight}),jsxRuntimeExports.jsx(EnhancedDropdownMenu,{title:navigationConfig.resources.label,sections:navigationConfig.resources.sections,highlight:navigationConfig.resources.highlight})]}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center gap-2 lg:gap-4",children:[jsxRuntimeExports.jsx(CTAButton,{variant:"outline",className:"!px-4 lg:!px-6 !py-2 lg:!py-3 text-sm lg:text-base",children:"Sign In"}),jsxRuntimeExports.jsx(CTAButton,{variant:"primary",className:"!px-4 lg:!px-6 !py-2 lg:!py-3 text-sm lg:text-base",children:"Get Started"})]}),jsxRuntimeExports.jsx("div",{className:"md:hidden",children:jsxRuntimeExports.jsx("button",{onClick:()=>c(!0),"aria-label":"Open menu",className:"p-2 hover:bg-bg-white-10 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6 text-text-white"})})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:et&&jsxRuntimeExports.jsx(motion.div,{variants:tt,initial:"closed",animate:"open",exit:"closed",className:"fixed inset-0 bg-bg-dark bg-gradient-dark z-50 md:hidden",children:jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center h-16 sm:h-20",children:[jsxRuntimeExports.jsx(Logo,{}),jsxRuntimeExports.jsx("button",{onClick:()=>c(!1),"aria-label":"Close menu",className:"p-2 hover:bg-bg-white-10 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"h-6 w-6 text-text-white"})})]}),jsxRuntimeExports.jsxs("nav",{className:"flex flex-col items-center gap-6 sm:gap-8 mt-12 sm:mt-16",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"text-2xl font-satoshi font-medium text-text-white hover:text-primary transition-colors duration-200",children:"Solutions"}),jsxRuntimeExports.jsx(Link,{to:"/marketplace",className:"text-2xl font-satoshi font-medium text-text-white hover:text-primary transition-colors duration-200",onClick:()=>c(!1),children:"Marketplace"}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-2xl font-satoshi font-medium text-text-white hover:text-primary transition-colors duration-200",children:"Developers"}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-2xl font-satoshi font-medium text-text-white hover:text-primary transition-colors duration-200",children:"Resources"}),jsxRuntimeExports.jsx(CTAButton,{variant:"primary",className:"w-full mt-8",children:"Get Started"})]})]})})})]})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="167",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,RGBDepthPacking=3202,RGDepthPacking=3203,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",DisplayP3ColorSpace="display-p3",LinearDisplayP3ColorSpace="display-p3-linear",LinearTransfer="linear",SRGBTransfer="srgb",Rec709Primaries="rec709",P3Primaries="p3",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;let EventDispatcher$1=class{addEventListener(c,tt){this._listeners===void 0&&(this._listeners={});const nt=this._listeners;nt[c]===void 0&&(nt[c]=[]),nt[c].indexOf(tt)===-1&&nt[c].push(tt)}hasEventListener(c,tt){if(this._listeners===void 0)return!1;const nt=this._listeners;return nt[c]!==void 0&&nt[c].indexOf(tt)!==-1}removeEventListener(c,tt){if(this._listeners===void 0)return;const rt=this._listeners[c];if(rt!==void 0){const it=rt.indexOf(tt);it!==-1&&rt.splice(it,1)}}dispatchEvent(c){if(this._listeners===void 0)return;const nt=this._listeners[c.type];if(nt!==void 0){c.target=this;const rt=nt.slice(0);for(let it=0,st=rt.length;it<st;it++)rt[it].call(this,c);c.target=null}}};const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const et=Math.random()*4294967295|0,c=Math.random()*4294967295|0,tt=Math.random()*4294967295|0,nt=Math.random()*4294967295|0;return(_lut[et&255]+_lut[et>>8&255]+_lut[et>>16&255]+_lut[et>>24&255]+"-"+_lut[c&255]+_lut[c>>8&255]+"-"+_lut[c>>16&15|64]+_lut[c>>24&255]+"-"+_lut[tt&63|128]+_lut[tt>>8&255]+"-"+_lut[tt>>16&255]+_lut[tt>>24&255]+_lut[nt&255]+_lut[nt>>8&255]+_lut[nt>>16&255]+_lut[nt>>24&255]).toLowerCase()}function clamp(et,c,tt){return Math.max(c,Math.min(tt,et))}function euclideanModulo(et,c){return(et%c+c)%c}function mapLinear(et,c,tt,nt,rt){return nt+(et-c)*(rt-nt)/(tt-c)}function inverseLerp(et,c,tt){return et!==c?(tt-et)/(c-et):0}function lerp(et,c,tt){return(1-tt)*et+tt*c}function damp(et,c,tt,nt){return lerp(et,c,1-Math.exp(-tt*nt))}function pingpong(et,c=1){return c-Math.abs(euclideanModulo(et,c*2)-c)}function smoothstep(et,c,tt){return et<=c?0:et>=tt?1:(et=(et-c)/(tt-c),et*et*(3-2*et))}function smootherstep(et,c,tt){return et<=c?0:et>=tt?1:(et=(et-c)/(tt-c),et*et*et*(et*(et*6-15)+10))}function randInt(et,c){return et+Math.floor(Math.random()*(c-et+1))}function randFloat(et,c){return et+Math.random()*(c-et)}function randFloatSpread(et){return et*(.5-Math.random())}function seededRandom(et){et!==void 0&&(_seed=et);let c=_seed+=1831565813;return c=Math.imul(c^c>>>15,c|1),c^=c+Math.imul(c^c>>>7,c|61),((c^c>>>14)>>>0)/4294967296}function degToRad(et){return et*DEG2RAD}function radToDeg(et){return et*RAD2DEG}function isPowerOfTwo(et){return(et&et-1)===0&&et!==0}function ceilPowerOfTwo(et){return Math.pow(2,Math.ceil(Math.log(et)/Math.LN2))}function floorPowerOfTwo(et){return Math.pow(2,Math.floor(Math.log(et)/Math.LN2))}function setQuaternionFromProperEuler(et,c,tt,nt,rt){const it=Math.cos,st=Math.sin,at=it(tt/2),ot=st(tt/2),lt=it((c+nt)/2),ct=st((c+nt)/2),dt=it((c-nt)/2),ht=st((c-nt)/2),mt=it((nt-c)/2),gt=st((nt-c)/2);switch(rt){case"XYX":et.set(at*ct,ot*dt,ot*ht,at*lt);break;case"YZY":et.set(ot*ht,at*ct,ot*dt,at*lt);break;case"ZXZ":et.set(ot*dt,ot*ht,at*ct,at*lt);break;case"XZX":et.set(at*ct,ot*gt,ot*mt,at*lt);break;case"YXY":et.set(ot*mt,at*ct,ot*gt,at*lt);break;case"ZYZ":et.set(ot*gt,ot*mt,at*ct,at*lt);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+rt)}}function denormalize(et,c){switch(c.constructor){case Float32Array:return et;case Uint32Array:return et/4294967295;case Uint16Array:return et/65535;case Uint8Array:return et/255;case Int32Array:return Math.max(et/2147483647,-1);case Int16Array:return Math.max(et/32767,-1);case Int8Array:return Math.max(et/127,-1);default:throw new Error("Invalid component type.")}}function normalize(et,c){switch(c.constructor){case Float32Array:return et;case Uint32Array:return Math.round(et*4294967295);case Uint16Array:return Math.round(et*65535);case Uint8Array:return Math.round(et*255);case Int32Array:return Math.round(et*2147483647);case Int16Array:return Math.round(et*32767);case Int8Array:return Math.round(et*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor(c=0,tt=0){Vector2.prototype.isVector2=!0,this.x=c,this.y=tt}get width(){return this.x}set width(c){this.x=c}get height(){return this.y}set height(c){this.y=c}set(c,tt){return this.x=c,this.y=tt,this}setScalar(c){return this.x=c,this.y=c,this}setX(c){return this.x=c,this}setY(c){return this.y=c,this}setComponent(c,tt){switch(c){case 0:this.x=tt;break;case 1:this.y=tt;break;default:throw new Error("index is out of range: "+c)}return this}getComponent(c){switch(c){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+c)}}clone(){return new this.constructor(this.x,this.y)}copy(c){return this.x=c.x,this.y=c.y,this}add(c){return this.x+=c.x,this.y+=c.y,this}addScalar(c){return this.x+=c,this.y+=c,this}addVectors(c,tt){return this.x=c.x+tt.x,this.y=c.y+tt.y,this}addScaledVector(c,tt){return this.x+=c.x*tt,this.y+=c.y*tt,this}sub(c){return this.x-=c.x,this.y-=c.y,this}subScalar(c){return this.x-=c,this.y-=c,this}subVectors(c,tt){return this.x=c.x-tt.x,this.y=c.y-tt.y,this}multiply(c){return this.x*=c.x,this.y*=c.y,this}multiplyScalar(c){return this.x*=c,this.y*=c,this}divide(c){return this.x/=c.x,this.y/=c.y,this}divideScalar(c){return this.multiplyScalar(1/c)}applyMatrix3(c){const tt=this.x,nt=this.y,rt=c.elements;return this.x=rt[0]*tt+rt[3]*nt+rt[6],this.y=rt[1]*tt+rt[4]*nt+rt[7],this}min(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this}max(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this}clamp(c,tt){return this.x=Math.max(c.x,Math.min(tt.x,this.x)),this.y=Math.max(c.y,Math.min(tt.y,this.y)),this}clampScalar(c,tt){return this.x=Math.max(c,Math.min(tt,this.x)),this.y=Math.max(c,Math.min(tt,this.y)),this}clampLength(c,tt){const nt=this.length();return this.divideScalar(nt||1).multiplyScalar(Math.max(c,Math.min(tt,nt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(c){return this.x*c.x+this.y*c.y}cross(c){return this.x*c.y-this.y*c.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(c){const tt=Math.sqrt(this.lengthSq()*c.lengthSq());if(tt===0)return Math.PI/2;const nt=this.dot(c)/tt;return Math.acos(clamp(nt,-1,1))}distanceTo(c){return Math.sqrt(this.distanceToSquared(c))}distanceToSquared(c){const tt=this.x-c.x,nt=this.y-c.y;return tt*tt+nt*nt}manhattanDistanceTo(c){return Math.abs(this.x-c.x)+Math.abs(this.y-c.y)}setLength(c){return this.normalize().multiplyScalar(c)}lerp(c,tt){return this.x+=(c.x-this.x)*tt,this.y+=(c.y-this.y)*tt,this}lerpVectors(c,tt,nt){return this.x=c.x+(tt.x-c.x)*nt,this.y=c.y+(tt.y-c.y)*nt,this}equals(c){return c.x===this.x&&c.y===this.y}fromArray(c,tt=0){return this.x=c[tt],this.y=c[tt+1],this}toArray(c=[],tt=0){return c[tt]=this.x,c[tt+1]=this.y,c}fromBufferAttribute(c,tt){return this.x=c.getX(tt),this.y=c.getY(tt),this}rotateAround(c,tt){const nt=Math.cos(tt),rt=Math.sin(tt),it=this.x-c.x,st=this.y-c.y;return this.x=it*nt-st*rt+c.x,this.y=it*rt+st*nt+c.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(c,tt,nt,rt,it,st,at,ot,lt){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],c!==void 0&&this.set(c,tt,nt,rt,it,st,at,ot,lt)}set(c,tt,nt,rt,it,st,at,ot,lt){const ct=this.elements;return ct[0]=c,ct[1]=rt,ct[2]=at,ct[3]=tt,ct[4]=it,ct[5]=ot,ct[6]=nt,ct[7]=st,ct[8]=lt,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(c){const tt=this.elements,nt=c.elements;return tt[0]=nt[0],tt[1]=nt[1],tt[2]=nt[2],tt[3]=nt[3],tt[4]=nt[4],tt[5]=nt[5],tt[6]=nt[6],tt[7]=nt[7],tt[8]=nt[8],this}extractBasis(c,tt,nt){return c.setFromMatrix3Column(this,0),tt.setFromMatrix3Column(this,1),nt.setFromMatrix3Column(this,2),this}setFromMatrix4(c){const tt=c.elements;return this.set(tt[0],tt[4],tt[8],tt[1],tt[5],tt[9],tt[2],tt[6],tt[10]),this}multiply(c){return this.multiplyMatrices(this,c)}premultiply(c){return this.multiplyMatrices(c,this)}multiplyMatrices(c,tt){const nt=c.elements,rt=tt.elements,it=this.elements,st=nt[0],at=nt[3],ot=nt[6],lt=nt[1],ct=nt[4],dt=nt[7],ht=nt[2],mt=nt[5],gt=nt[8],yt=rt[0],_t=rt[3],pt=rt[6],xt=rt[1],vt=rt[4],St=rt[7],wt=rt[2],Mt=rt[5],Ct=rt[8];return it[0]=st*yt+at*xt+ot*wt,it[3]=st*_t+at*vt+ot*Mt,it[6]=st*pt+at*St+ot*Ct,it[1]=lt*yt+ct*xt+dt*wt,it[4]=lt*_t+ct*vt+dt*Mt,it[7]=lt*pt+ct*St+dt*Ct,it[2]=ht*yt+mt*xt+gt*wt,it[5]=ht*_t+mt*vt+gt*Mt,it[8]=ht*pt+mt*St+gt*Ct,this}multiplyScalar(c){const tt=this.elements;return tt[0]*=c,tt[3]*=c,tt[6]*=c,tt[1]*=c,tt[4]*=c,tt[7]*=c,tt[2]*=c,tt[5]*=c,tt[8]*=c,this}determinant(){const c=this.elements,tt=c[0],nt=c[1],rt=c[2],it=c[3],st=c[4],at=c[5],ot=c[6],lt=c[7],ct=c[8];return tt*st*ct-tt*at*lt-nt*it*ct+nt*at*ot+rt*it*lt-rt*st*ot}invert(){const c=this.elements,tt=c[0],nt=c[1],rt=c[2],it=c[3],st=c[4],at=c[5],ot=c[6],lt=c[7],ct=c[8],dt=ct*st-at*lt,ht=at*ot-ct*it,mt=lt*it-st*ot,gt=tt*dt+nt*ht+rt*mt;if(gt===0)return this.set(0,0,0,0,0,0,0,0,0);const yt=1/gt;return c[0]=dt*yt,c[1]=(rt*lt-ct*nt)*yt,c[2]=(at*nt-rt*st)*yt,c[3]=ht*yt,c[4]=(ct*tt-rt*ot)*yt,c[5]=(rt*it-at*tt)*yt,c[6]=mt*yt,c[7]=(nt*ot-lt*tt)*yt,c[8]=(st*tt-nt*it)*yt,this}transpose(){let c;const tt=this.elements;return c=tt[1],tt[1]=tt[3],tt[3]=c,c=tt[2],tt[2]=tt[6],tt[6]=c,c=tt[5],tt[5]=tt[7],tt[7]=c,this}getNormalMatrix(c){return this.setFromMatrix4(c).invert().transpose()}transposeIntoArray(c){const tt=this.elements;return c[0]=tt[0],c[1]=tt[3],c[2]=tt[6],c[3]=tt[1],c[4]=tt[4],c[5]=tt[7],c[6]=tt[2],c[7]=tt[5],c[8]=tt[8],this}setUvTransform(c,tt,nt,rt,it,st,at){const ot=Math.cos(it),lt=Math.sin(it);return this.set(nt*ot,nt*lt,-nt*(ot*st+lt*at)+st+c,-rt*lt,rt*ot,-rt*(-lt*st+ot*at)+at+tt,0,0,1),this}scale(c,tt){return this.premultiply(_m3.makeScale(c,tt)),this}rotate(c){return this.premultiply(_m3.makeRotation(-c)),this}translate(c,tt){return this.premultiply(_m3.makeTranslation(c,tt)),this}makeTranslation(c,tt){return c.isVector2?this.set(1,0,c.x,0,1,c.y,0,0,1):this.set(1,0,c,0,1,tt,0,0,1),this}makeRotation(c){const tt=Math.cos(c),nt=Math.sin(c);return this.set(tt,-nt,0,nt,tt,0,0,0,1),this}makeScale(c,tt){return this.set(c,0,0,0,tt,0,0,0,1),this}equals(c){const tt=this.elements,nt=c.elements;for(let rt=0;rt<9;rt++)if(tt[rt]!==nt[rt])return!1;return!0}fromArray(c,tt=0){for(let nt=0;nt<9;nt++)this.elements[nt]=c[nt+tt];return this}toArray(c=[],tt=0){const nt=this.elements;return c[tt]=nt[0],c[tt+1]=nt[1],c[tt+2]=nt[2],c[tt+3]=nt[3],c[tt+4]=nt[4],c[tt+5]=nt[5],c[tt+6]=nt[6],c[tt+7]=nt[7],c[tt+8]=nt[8],c}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(et){for(let c=et.length-1;c>=0;--c)if(et[c]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(et,c){return new TYPED_ARRAYS[et](c)}function createElementNS(et){return document.createElementNS("http://www.w3.org/1999/xhtml",et)}function createCanvasElement(){const et=createElementNS("canvas");return et.style.display="block",et}const _cache={};function warnOnce(et){et in _cache||(_cache[et]=!0,console.warn(et))}function probeAsync(et,c,tt){return new Promise(function(nt,rt){function it(){switch(et.clientWaitSync(c,et.SYNC_FLUSH_COMMANDS_BIT,0)){case et.WAIT_FAILED:rt();break;case et.TIMEOUT_EXPIRED:setTimeout(it,tt);break;default:nt()}}setTimeout(it,tt)})}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),COLOR_SPACES={[LinearSRGBColorSpace]:{transfer:LinearTransfer,primaries:Rec709Primaries,luminanceCoefficients:[.2126,.7152,.0722],toReference:et=>et,fromReference:et=>et},[SRGBColorSpace]:{transfer:SRGBTransfer,primaries:Rec709Primaries,luminanceCoefficients:[.2126,.7152,.0722],toReference:et=>et.convertSRGBToLinear(),fromReference:et=>et.convertLinearToSRGB()},[LinearDisplayP3ColorSpace]:{transfer:LinearTransfer,primaries:P3Primaries,luminanceCoefficients:[.2289,.6917,.0793],toReference:et=>et.applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:et=>et.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3)},[DisplayP3ColorSpace]:{transfer:SRGBTransfer,primaries:P3Primaries,luminanceCoefficients:[.2289,.6917,.0793],toReference:et=>et.convertSRGBToLinear().applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:et=>et.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3).convertLinearToSRGB()}},SUPPORTED_WORKING_COLOR_SPACES=new Set([LinearSRGBColorSpace,LinearDisplayP3ColorSpace]),ColorManagement={enabled:!0,_workingColorSpace:LinearSRGBColorSpace,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(et){if(!SUPPORTED_WORKING_COLOR_SPACES.has(et))throw new Error(`Unsupported working color space, "${et}".`);this._workingColorSpace=et},convert:function(et,c,tt){if(this.enabled===!1||c===tt||!c||!tt)return et;const nt=COLOR_SPACES[c].toReference,rt=COLOR_SPACES[tt].fromReference;return rt(nt(et))},fromWorkingColorSpace:function(et,c){return this.convert(et,this._workingColorSpace,c)},toWorkingColorSpace:function(et,c){return this.convert(et,c,this._workingColorSpace)},getPrimaries:function(et){return COLOR_SPACES[et].primaries},getTransfer:function(et){return et===NoColorSpace?LinearTransfer:COLOR_SPACES[et].transfer},getLuminanceCoefficients:function(et,c=this._workingColorSpace){return et.fromArray(COLOR_SPACES[c].luminanceCoefficients)}};function SRGBToLinear(et){return et<.04045?et*.0773993808:Math.pow(et*.9478672986+.0521327014,2.4)}function LinearToSRGB(et){return et<.0031308?et*12.92:1.055*Math.pow(et,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(c){if(/^data:/i.test(c.src)||typeof HTMLCanvasElement>"u")return c.src;let tt;if(c instanceof HTMLCanvasElement)tt=c;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=c.width,_canvas.height=c.height;const nt=_canvas.getContext("2d");c instanceof ImageData?nt.putImageData(c,0,0):nt.drawImage(c,0,0,c.width,c.height),tt=_canvas}return tt.width>2048||tt.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",c),tt.toDataURL("image/jpeg",.6)):tt.toDataURL("image/png")}static sRGBToLinear(c){if(typeof HTMLImageElement<"u"&&c instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&c instanceof ImageBitmap){const tt=createElementNS("canvas");tt.width=c.width,tt.height=c.height;const nt=tt.getContext("2d");nt.drawImage(c,0,0,c.width,c.height);const rt=nt.getImageData(0,0,c.width,c.height),it=rt.data;for(let st=0;st<it.length;st++)it[st]=SRGBToLinear(it[st]/255)*255;return nt.putImageData(rt,0,0),tt}else if(c.data){const tt=c.data.slice(0);for(let nt=0;nt<tt.length;nt++)tt instanceof Uint8Array||tt instanceof Uint8ClampedArray?tt[nt]=Math.floor(SRGBToLinear(tt[nt]/255)*255):tt[nt]=SRGBToLinear(tt[nt]);return{data:tt,width:c.width,height:c.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),c}}let _sourceId=0;class Source{constructor(c=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=c,this.dataReady=!0,this.version=0}set needsUpdate(c){c===!0&&this.version++}toJSON(c){const tt=c===void 0||typeof c=="string";if(!tt&&c.images[this.uuid]!==void 0)return c.images[this.uuid];const nt={uuid:this.uuid,url:""},rt=this.data;if(rt!==null){let it;if(Array.isArray(rt)){it=[];for(let st=0,at=rt.length;st<at;st++)rt[st].isDataTexture?it.push(serializeImage(rt[st].image)):it.push(serializeImage(rt[st]))}else it=serializeImage(rt);nt.url=it}return tt||(c.images[this.uuid]=nt),nt}}function serializeImage(et){return typeof HTMLImageElement<"u"&&et instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&et instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&et instanceof ImageBitmap?ImageUtils.getDataURL(et):et.data?{data:Array.from(et.data),width:et.width,height:et.height,type:et.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher$1{constructor(c=Texture.DEFAULT_IMAGE,tt=Texture.DEFAULT_MAPPING,nt=ClampToEdgeWrapping,rt=ClampToEdgeWrapping,it=LinearFilter,st=LinearMipmapLinearFilter,at=RGBAFormat,ot=UnsignedByteType,lt=Texture.DEFAULT_ANISOTROPY,ct=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(c),this.mipmaps=[],this.mapping=tt,this.channel=0,this.wrapS=nt,this.wrapT=rt,this.magFilter=it,this.minFilter=st,this.anisotropy=lt,this.format=at,this.internalFormat=null,this.type=ot,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=ct,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(c=null){this.source.data=c}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(c){return this.name=c.name,this.source=c.source,this.mipmaps=c.mipmaps.slice(0),this.mapping=c.mapping,this.channel=c.channel,this.wrapS=c.wrapS,this.wrapT=c.wrapT,this.magFilter=c.magFilter,this.minFilter=c.minFilter,this.anisotropy=c.anisotropy,this.format=c.format,this.internalFormat=c.internalFormat,this.type=c.type,this.offset.copy(c.offset),this.repeat.copy(c.repeat),this.center.copy(c.center),this.rotation=c.rotation,this.matrixAutoUpdate=c.matrixAutoUpdate,this.matrix.copy(c.matrix),this.generateMipmaps=c.generateMipmaps,this.premultiplyAlpha=c.premultiplyAlpha,this.flipY=c.flipY,this.unpackAlignment=c.unpackAlignment,this.colorSpace=c.colorSpace,this.userData=JSON.parse(JSON.stringify(c.userData)),this.needsUpdate=!0,this}toJSON(c){const tt=c===void 0||typeof c=="string";if(!tt&&c.textures[this.uuid]!==void 0)return c.textures[this.uuid];const nt={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(c).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(nt.userData=this.userData),tt||(c.textures[this.uuid]=nt),nt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(c){if(this.mapping!==UVMapping)return c;if(c.applyMatrix3(this.matrix),c.x<0||c.x>1)switch(this.wrapS){case RepeatWrapping:c.x=c.x-Math.floor(c.x);break;case ClampToEdgeWrapping:c.x=c.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(c.x)%2)===1?c.x=Math.ceil(c.x)-c.x:c.x=c.x-Math.floor(c.x);break}if(c.y<0||c.y>1)switch(this.wrapT){case RepeatWrapping:c.y=c.y-Math.floor(c.y);break;case ClampToEdgeWrapping:c.y=c.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(c.y)%2)===1?c.y=Math.ceil(c.y)-c.y:c.y=c.y-Math.floor(c.y);break}return this.flipY&&(c.y=1-c.y),c}set needsUpdate(c){c===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(c){c===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(c=0,tt=0,nt=0,rt=1){Vector4.prototype.isVector4=!0,this.x=c,this.y=tt,this.z=nt,this.w=rt}get width(){return this.z}set width(c){this.z=c}get height(){return this.w}set height(c){this.w=c}set(c,tt,nt,rt){return this.x=c,this.y=tt,this.z=nt,this.w=rt,this}setScalar(c){return this.x=c,this.y=c,this.z=c,this.w=c,this}setX(c){return this.x=c,this}setY(c){return this.y=c,this}setZ(c){return this.z=c,this}setW(c){return this.w=c,this}setComponent(c,tt){switch(c){case 0:this.x=tt;break;case 1:this.y=tt;break;case 2:this.z=tt;break;case 3:this.w=tt;break;default:throw new Error("index is out of range: "+c)}return this}getComponent(c){switch(c){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+c)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(c){return this.x=c.x,this.y=c.y,this.z=c.z,this.w=c.w!==void 0?c.w:1,this}add(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z,this.w+=c.w,this}addScalar(c){return this.x+=c,this.y+=c,this.z+=c,this.w+=c,this}addVectors(c,tt){return this.x=c.x+tt.x,this.y=c.y+tt.y,this.z=c.z+tt.z,this.w=c.w+tt.w,this}addScaledVector(c,tt){return this.x+=c.x*tt,this.y+=c.y*tt,this.z+=c.z*tt,this.w+=c.w*tt,this}sub(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z,this.w-=c.w,this}subScalar(c){return this.x-=c,this.y-=c,this.z-=c,this.w-=c,this}subVectors(c,tt){return this.x=c.x-tt.x,this.y=c.y-tt.y,this.z=c.z-tt.z,this.w=c.w-tt.w,this}multiply(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z,this.w*=c.w,this}multiplyScalar(c){return this.x*=c,this.y*=c,this.z*=c,this.w*=c,this}applyMatrix4(c){const tt=this.x,nt=this.y,rt=this.z,it=this.w,st=c.elements;return this.x=st[0]*tt+st[4]*nt+st[8]*rt+st[12]*it,this.y=st[1]*tt+st[5]*nt+st[9]*rt+st[13]*it,this.z=st[2]*tt+st[6]*nt+st[10]*rt+st[14]*it,this.w=st[3]*tt+st[7]*nt+st[11]*rt+st[15]*it,this}divideScalar(c){return this.multiplyScalar(1/c)}setAxisAngleFromQuaternion(c){this.w=2*Math.acos(c.w);const tt=Math.sqrt(1-c.w*c.w);return tt<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=c.x/tt,this.y=c.y/tt,this.z=c.z/tt),this}setAxisAngleFromRotationMatrix(c){let tt,nt,rt,it;const ot=c.elements,lt=ot[0],ct=ot[4],dt=ot[8],ht=ot[1],mt=ot[5],gt=ot[9],yt=ot[2],_t=ot[6],pt=ot[10];if(Math.abs(ct-ht)<.01&&Math.abs(dt-yt)<.01&&Math.abs(gt-_t)<.01){if(Math.abs(ct+ht)<.1&&Math.abs(dt+yt)<.1&&Math.abs(gt+_t)<.1&&Math.abs(lt+mt+pt-3)<.1)return this.set(1,0,0,0),this;tt=Math.PI;const vt=(lt+1)/2,St=(mt+1)/2,wt=(pt+1)/2,Mt=(ct+ht)/4,Ct=(dt+yt)/4,Rt=(gt+_t)/4;return vt>St&&vt>wt?vt<.01?(nt=0,rt=.707106781,it=.707106781):(nt=Math.sqrt(vt),rt=Mt/nt,it=Ct/nt):St>wt?St<.01?(nt=.707106781,rt=0,it=.707106781):(rt=Math.sqrt(St),nt=Mt/rt,it=Rt/rt):wt<.01?(nt=.707106781,rt=.707106781,it=0):(it=Math.sqrt(wt),nt=Ct/it,rt=Rt/it),this.set(nt,rt,it,tt),this}let xt=Math.sqrt((_t-gt)*(_t-gt)+(dt-yt)*(dt-yt)+(ht-ct)*(ht-ct));return Math.abs(xt)<.001&&(xt=1),this.x=(_t-gt)/xt,this.y=(dt-yt)/xt,this.z=(ht-ct)/xt,this.w=Math.acos((lt+mt+pt-1)/2),this}setFromMatrixPosition(c){const tt=c.elements;return this.x=tt[12],this.y=tt[13],this.z=tt[14],this.w=tt[15],this}min(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this.w=Math.min(this.w,c.w),this}max(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this.w=Math.max(this.w,c.w),this}clamp(c,tt){return this.x=Math.max(c.x,Math.min(tt.x,this.x)),this.y=Math.max(c.y,Math.min(tt.y,this.y)),this.z=Math.max(c.z,Math.min(tt.z,this.z)),this.w=Math.max(c.w,Math.min(tt.w,this.w)),this}clampScalar(c,tt){return this.x=Math.max(c,Math.min(tt,this.x)),this.y=Math.max(c,Math.min(tt,this.y)),this.z=Math.max(c,Math.min(tt,this.z)),this.w=Math.max(c,Math.min(tt,this.w)),this}clampLength(c,tt){const nt=this.length();return this.divideScalar(nt||1).multiplyScalar(Math.max(c,Math.min(tt,nt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(c){return this.normalize().multiplyScalar(c)}lerp(c,tt){return this.x+=(c.x-this.x)*tt,this.y+=(c.y-this.y)*tt,this.z+=(c.z-this.z)*tt,this.w+=(c.w-this.w)*tt,this}lerpVectors(c,tt,nt){return this.x=c.x+(tt.x-c.x)*nt,this.y=c.y+(tt.y-c.y)*nt,this.z=c.z+(tt.z-c.z)*nt,this.w=c.w+(tt.w-c.w)*nt,this}equals(c){return c.x===this.x&&c.y===this.y&&c.z===this.z&&c.w===this.w}fromArray(c,tt=0){return this.x=c[tt],this.y=c[tt+1],this.z=c[tt+2],this.w=c[tt+3],this}toArray(c=[],tt=0){return c[tt]=this.x,c[tt+1]=this.y,c[tt+2]=this.z,c[tt+3]=this.w,c}fromBufferAttribute(c,tt){return this.x=c.getX(tt),this.y=c.getY(tt),this.z=c.getZ(tt),this.w=c.getW(tt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher$1{constructor(c=1,tt=1,nt={}){super(),this.isRenderTarget=!0,this.width=c,this.height=tt,this.depth=1,this.scissor=new Vector4(0,0,c,tt),this.scissorTest=!1,this.viewport=new Vector4(0,0,c,tt);const rt={width:c,height:tt,depth:1};nt=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},nt);const it=new Texture(rt,nt.mapping,nt.wrapS,nt.wrapT,nt.magFilter,nt.minFilter,nt.format,nt.type,nt.anisotropy,nt.colorSpace);it.flipY=!1,it.generateMipmaps=nt.generateMipmaps,it.internalFormat=nt.internalFormat,this.textures=[];const st=nt.count;for(let at=0;at<st;at++)this.textures[at]=it.clone(),this.textures[at].isRenderTargetTexture=!0;this.depthBuffer=nt.depthBuffer,this.stencilBuffer=nt.stencilBuffer,this.resolveDepthBuffer=nt.resolveDepthBuffer,this.resolveStencilBuffer=nt.resolveStencilBuffer,this.depthTexture=nt.depthTexture,this.samples=nt.samples}get texture(){return this.textures[0]}set texture(c){this.textures[0]=c}setSize(c,tt,nt=1){if(this.width!==c||this.height!==tt||this.depth!==nt){this.width=c,this.height=tt,this.depth=nt;for(let rt=0,it=this.textures.length;rt<it;rt++)this.textures[rt].image.width=c,this.textures[rt].image.height=tt,this.textures[rt].image.depth=nt;this.dispose()}this.viewport.set(0,0,c,tt),this.scissor.set(0,0,c,tt)}clone(){return new this.constructor().copy(this)}copy(c){this.width=c.width,this.height=c.height,this.depth=c.depth,this.scissor.copy(c.scissor),this.scissorTest=c.scissorTest,this.viewport.copy(c.viewport),this.textures.length=0;for(let nt=0,rt=c.textures.length;nt<rt;nt++)this.textures[nt]=c.textures[nt].clone(),this.textures[nt].isRenderTargetTexture=!0;const tt=Object.assign({},c.texture.image);return this.texture.source=new Source(tt),this.depthBuffer=c.depthBuffer,this.stencilBuffer=c.stencilBuffer,this.resolveDepthBuffer=c.resolveDepthBuffer,this.resolveStencilBuffer=c.resolveStencilBuffer,c.depthTexture!==null&&(this.depthTexture=c.depthTexture.clone()),this.samples=c.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(c=1,tt=1,nt={}){super(c,tt,nt),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(c=null,tt=1,nt=1,rt=1){super(null),this.isDataArrayTexture=!0,this.image={data:c,width:tt,height:nt,depth:rt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(c){this.layerUpdates.add(c)}clearLayerUpdates(){this.layerUpdates.clear()}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(c=1,tt=1,nt=1,rt={}){super(c,tt,rt),this.isWebGLArrayRenderTarget=!0,this.depth=nt,this.texture=new DataArrayTexture(null,c,tt,nt),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(c=null,tt=1,nt=1,rt=1){super(null),this.isData3DTexture=!0,this.image={data:c,width:tt,height:nt,depth:rt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(c=1,tt=1,nt=1,rt={}){super(c,tt,rt),this.isWebGL3DRenderTarget=!0,this.depth=nt,this.texture=new Data3DTexture(null,c,tt,nt),this.texture.isRenderTargetTexture=!0}}class Quaternion{constructor(c=0,tt=0,nt=0,rt=1){this.isQuaternion=!0,this._x=c,this._y=tt,this._z=nt,this._w=rt}static slerpFlat(c,tt,nt,rt,it,st,at){let ot=nt[rt+0],lt=nt[rt+1],ct=nt[rt+2],dt=nt[rt+3];const ht=it[st+0],mt=it[st+1],gt=it[st+2],yt=it[st+3];if(at===0){c[tt+0]=ot,c[tt+1]=lt,c[tt+2]=ct,c[tt+3]=dt;return}if(at===1){c[tt+0]=ht,c[tt+1]=mt,c[tt+2]=gt,c[tt+3]=yt;return}if(dt!==yt||ot!==ht||lt!==mt||ct!==gt){let _t=1-at;const pt=ot*ht+lt*mt+ct*gt+dt*yt,xt=pt>=0?1:-1,vt=1-pt*pt;if(vt>Number.EPSILON){const wt=Math.sqrt(vt),Mt=Math.atan2(wt,pt*xt);_t=Math.sin(_t*Mt)/wt,at=Math.sin(at*Mt)/wt}const St=at*xt;if(ot=ot*_t+ht*St,lt=lt*_t+mt*St,ct=ct*_t+gt*St,dt=dt*_t+yt*St,_t===1-at){const wt=1/Math.sqrt(ot*ot+lt*lt+ct*ct+dt*dt);ot*=wt,lt*=wt,ct*=wt,dt*=wt}}c[tt]=ot,c[tt+1]=lt,c[tt+2]=ct,c[tt+3]=dt}static multiplyQuaternionsFlat(c,tt,nt,rt,it,st){const at=nt[rt],ot=nt[rt+1],lt=nt[rt+2],ct=nt[rt+3],dt=it[st],ht=it[st+1],mt=it[st+2],gt=it[st+3];return c[tt]=at*gt+ct*dt+ot*mt-lt*ht,c[tt+1]=ot*gt+ct*ht+lt*dt-at*mt,c[tt+2]=lt*gt+ct*mt+at*ht-ot*dt,c[tt+3]=ct*gt-at*dt-ot*ht-lt*mt,c}get x(){return this._x}set x(c){this._x=c,this._onChangeCallback()}get y(){return this._y}set y(c){this._y=c,this._onChangeCallback()}get z(){return this._z}set z(c){this._z=c,this._onChangeCallback()}get w(){return this._w}set w(c){this._w=c,this._onChangeCallback()}set(c,tt,nt,rt){return this._x=c,this._y=tt,this._z=nt,this._w=rt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(c){return this._x=c.x,this._y=c.y,this._z=c.z,this._w=c.w,this._onChangeCallback(),this}setFromEuler(c,tt=!0){const nt=c._x,rt=c._y,it=c._z,st=c._order,at=Math.cos,ot=Math.sin,lt=at(nt/2),ct=at(rt/2),dt=at(it/2),ht=ot(nt/2),mt=ot(rt/2),gt=ot(it/2);switch(st){case"XYZ":this._x=ht*ct*dt+lt*mt*gt,this._y=lt*mt*dt-ht*ct*gt,this._z=lt*ct*gt+ht*mt*dt,this._w=lt*ct*dt-ht*mt*gt;break;case"YXZ":this._x=ht*ct*dt+lt*mt*gt,this._y=lt*mt*dt-ht*ct*gt,this._z=lt*ct*gt-ht*mt*dt,this._w=lt*ct*dt+ht*mt*gt;break;case"ZXY":this._x=ht*ct*dt-lt*mt*gt,this._y=lt*mt*dt+ht*ct*gt,this._z=lt*ct*gt+ht*mt*dt,this._w=lt*ct*dt-ht*mt*gt;break;case"ZYX":this._x=ht*ct*dt-lt*mt*gt,this._y=lt*mt*dt+ht*ct*gt,this._z=lt*ct*gt-ht*mt*dt,this._w=lt*ct*dt+ht*mt*gt;break;case"YZX":this._x=ht*ct*dt+lt*mt*gt,this._y=lt*mt*dt+ht*ct*gt,this._z=lt*ct*gt-ht*mt*dt,this._w=lt*ct*dt-ht*mt*gt;break;case"XZY":this._x=ht*ct*dt-lt*mt*gt,this._y=lt*mt*dt-ht*ct*gt,this._z=lt*ct*gt+ht*mt*dt,this._w=lt*ct*dt+ht*mt*gt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+st)}return tt===!0&&this._onChangeCallback(),this}setFromAxisAngle(c,tt){const nt=tt/2,rt=Math.sin(nt);return this._x=c.x*rt,this._y=c.y*rt,this._z=c.z*rt,this._w=Math.cos(nt),this._onChangeCallback(),this}setFromRotationMatrix(c){const tt=c.elements,nt=tt[0],rt=tt[4],it=tt[8],st=tt[1],at=tt[5],ot=tt[9],lt=tt[2],ct=tt[6],dt=tt[10],ht=nt+at+dt;if(ht>0){const mt=.5/Math.sqrt(ht+1);this._w=.25/mt,this._x=(ct-ot)*mt,this._y=(it-lt)*mt,this._z=(st-rt)*mt}else if(nt>at&&nt>dt){const mt=2*Math.sqrt(1+nt-at-dt);this._w=(ct-ot)/mt,this._x=.25*mt,this._y=(rt+st)/mt,this._z=(it+lt)/mt}else if(at>dt){const mt=2*Math.sqrt(1+at-nt-dt);this._w=(it-lt)/mt,this._x=(rt+st)/mt,this._y=.25*mt,this._z=(ot+ct)/mt}else{const mt=2*Math.sqrt(1+dt-nt-at);this._w=(st-rt)/mt,this._x=(it+lt)/mt,this._y=(ot+ct)/mt,this._z=.25*mt}return this._onChangeCallback(),this}setFromUnitVectors(c,tt){let nt=c.dot(tt)+1;return nt<Number.EPSILON?(nt=0,Math.abs(c.x)>Math.abs(c.z)?(this._x=-c.y,this._y=c.x,this._z=0,this._w=nt):(this._x=0,this._y=-c.z,this._z=c.y,this._w=nt)):(this._x=c.y*tt.z-c.z*tt.y,this._y=c.z*tt.x-c.x*tt.z,this._z=c.x*tt.y-c.y*tt.x,this._w=nt),this.normalize()}angleTo(c){return 2*Math.acos(Math.abs(clamp(this.dot(c),-1,1)))}rotateTowards(c,tt){const nt=this.angleTo(c);if(nt===0)return this;const rt=Math.min(1,tt/nt);return this.slerp(c,rt),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(c){return this._x*c._x+this._y*c._y+this._z*c._z+this._w*c._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let c=this.length();return c===0?(this._x=0,this._y=0,this._z=0,this._w=1):(c=1/c,this._x=this._x*c,this._y=this._y*c,this._z=this._z*c,this._w=this._w*c),this._onChangeCallback(),this}multiply(c){return this.multiplyQuaternions(this,c)}premultiply(c){return this.multiplyQuaternions(c,this)}multiplyQuaternions(c,tt){const nt=c._x,rt=c._y,it=c._z,st=c._w,at=tt._x,ot=tt._y,lt=tt._z,ct=tt._w;return this._x=nt*ct+st*at+rt*lt-it*ot,this._y=rt*ct+st*ot+it*at-nt*lt,this._z=it*ct+st*lt+nt*ot-rt*at,this._w=st*ct-nt*at-rt*ot-it*lt,this._onChangeCallback(),this}slerp(c,tt){if(tt===0)return this;if(tt===1)return this.copy(c);const nt=this._x,rt=this._y,it=this._z,st=this._w;let at=st*c._w+nt*c._x+rt*c._y+it*c._z;if(at<0?(this._w=-c._w,this._x=-c._x,this._y=-c._y,this._z=-c._z,at=-at):this.copy(c),at>=1)return this._w=st,this._x=nt,this._y=rt,this._z=it,this;const ot=1-at*at;if(ot<=Number.EPSILON){const mt=1-tt;return this._w=mt*st+tt*this._w,this._x=mt*nt+tt*this._x,this._y=mt*rt+tt*this._y,this._z=mt*it+tt*this._z,this.normalize(),this}const lt=Math.sqrt(ot),ct=Math.atan2(lt,at),dt=Math.sin((1-tt)*ct)/lt,ht=Math.sin(tt*ct)/lt;return this._w=st*dt+this._w*ht,this._x=nt*dt+this._x*ht,this._y=rt*dt+this._y*ht,this._z=it*dt+this._z*ht,this._onChangeCallback(),this}slerpQuaternions(c,tt,nt){return this.copy(c).slerp(tt,nt)}random(){const c=2*Math.PI*Math.random(),tt=2*Math.PI*Math.random(),nt=Math.random(),rt=Math.sqrt(1-nt),it=Math.sqrt(nt);return this.set(rt*Math.sin(c),rt*Math.cos(c),it*Math.sin(tt),it*Math.cos(tt))}equals(c){return c._x===this._x&&c._y===this._y&&c._z===this._z&&c._w===this._w}fromArray(c,tt=0){return this._x=c[tt],this._y=c[tt+1],this._z=c[tt+2],this._w=c[tt+3],this._onChangeCallback(),this}toArray(c=[],tt=0){return c[tt]=this._x,c[tt+1]=this._y,c[tt+2]=this._z,c[tt+3]=this._w,c}fromBufferAttribute(c,tt){return this._x=c.getX(tt),this._y=c.getY(tt),this._z=c.getZ(tt),this._w=c.getW(tt),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(c){return this._onChangeCallback=c,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(c=0,tt=0,nt=0){Vector3.prototype.isVector3=!0,this.x=c,this.y=tt,this.z=nt}set(c,tt,nt){return nt===void 0&&(nt=this.z),this.x=c,this.y=tt,this.z=nt,this}setScalar(c){return this.x=c,this.y=c,this.z=c,this}setX(c){return this.x=c,this}setY(c){return this.y=c,this}setZ(c){return this.z=c,this}setComponent(c,tt){switch(c){case 0:this.x=tt;break;case 1:this.y=tt;break;case 2:this.z=tt;break;default:throw new Error("index is out of range: "+c)}return this}getComponent(c){switch(c){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+c)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(c){return this.x=c.x,this.y=c.y,this.z=c.z,this}add(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z,this}addScalar(c){return this.x+=c,this.y+=c,this.z+=c,this}addVectors(c,tt){return this.x=c.x+tt.x,this.y=c.y+tt.y,this.z=c.z+tt.z,this}addScaledVector(c,tt){return this.x+=c.x*tt,this.y+=c.y*tt,this.z+=c.z*tt,this}sub(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z,this}subScalar(c){return this.x-=c,this.y-=c,this.z-=c,this}subVectors(c,tt){return this.x=c.x-tt.x,this.y=c.y-tt.y,this.z=c.z-tt.z,this}multiply(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z,this}multiplyScalar(c){return this.x*=c,this.y*=c,this.z*=c,this}multiplyVectors(c,tt){return this.x=c.x*tt.x,this.y=c.y*tt.y,this.z=c.z*tt.z,this}applyEuler(c){return this.applyQuaternion(_quaternion$4.setFromEuler(c))}applyAxisAngle(c,tt){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(c,tt))}applyMatrix3(c){const tt=this.x,nt=this.y,rt=this.z,it=c.elements;return this.x=it[0]*tt+it[3]*nt+it[6]*rt,this.y=it[1]*tt+it[4]*nt+it[7]*rt,this.z=it[2]*tt+it[5]*nt+it[8]*rt,this}applyNormalMatrix(c){return this.applyMatrix3(c).normalize()}applyMatrix4(c){const tt=this.x,nt=this.y,rt=this.z,it=c.elements,st=1/(it[3]*tt+it[7]*nt+it[11]*rt+it[15]);return this.x=(it[0]*tt+it[4]*nt+it[8]*rt+it[12])*st,this.y=(it[1]*tt+it[5]*nt+it[9]*rt+it[13])*st,this.z=(it[2]*tt+it[6]*nt+it[10]*rt+it[14])*st,this}applyQuaternion(c){const tt=this.x,nt=this.y,rt=this.z,it=c.x,st=c.y,at=c.z,ot=c.w,lt=2*(st*rt-at*nt),ct=2*(at*tt-it*rt),dt=2*(it*nt-st*tt);return this.x=tt+ot*lt+st*dt-at*ct,this.y=nt+ot*ct+at*lt-it*dt,this.z=rt+ot*dt+it*ct-st*lt,this}project(c){return this.applyMatrix4(c.matrixWorldInverse).applyMatrix4(c.projectionMatrix)}unproject(c){return this.applyMatrix4(c.projectionMatrixInverse).applyMatrix4(c.matrixWorld)}transformDirection(c){const tt=this.x,nt=this.y,rt=this.z,it=c.elements;return this.x=it[0]*tt+it[4]*nt+it[8]*rt,this.y=it[1]*tt+it[5]*nt+it[9]*rt,this.z=it[2]*tt+it[6]*nt+it[10]*rt,this.normalize()}divide(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z,this}divideScalar(c){return this.multiplyScalar(1/c)}min(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this}max(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this}clamp(c,tt){return this.x=Math.max(c.x,Math.min(tt.x,this.x)),this.y=Math.max(c.y,Math.min(tt.y,this.y)),this.z=Math.max(c.z,Math.min(tt.z,this.z)),this}clampScalar(c,tt){return this.x=Math.max(c,Math.min(tt,this.x)),this.y=Math.max(c,Math.min(tt,this.y)),this.z=Math.max(c,Math.min(tt,this.z)),this}clampLength(c,tt){const nt=this.length();return this.divideScalar(nt||1).multiplyScalar(Math.max(c,Math.min(tt,nt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(c){return this.x*c.x+this.y*c.y+this.z*c.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(c){return this.normalize().multiplyScalar(c)}lerp(c,tt){return this.x+=(c.x-this.x)*tt,this.y+=(c.y-this.y)*tt,this.z+=(c.z-this.z)*tt,this}lerpVectors(c,tt,nt){return this.x=c.x+(tt.x-c.x)*nt,this.y=c.y+(tt.y-c.y)*nt,this.z=c.z+(tt.z-c.z)*nt,this}cross(c){return this.crossVectors(this,c)}crossVectors(c,tt){const nt=c.x,rt=c.y,it=c.z,st=tt.x,at=tt.y,ot=tt.z;return this.x=rt*ot-it*at,this.y=it*st-nt*ot,this.z=nt*at-rt*st,this}projectOnVector(c){const tt=c.lengthSq();if(tt===0)return this.set(0,0,0);const nt=c.dot(this)/tt;return this.copy(c).multiplyScalar(nt)}projectOnPlane(c){return _vector$c.copy(this).projectOnVector(c),this.sub(_vector$c)}reflect(c){return this.sub(_vector$c.copy(c).multiplyScalar(2*this.dot(c)))}angleTo(c){const tt=Math.sqrt(this.lengthSq()*c.lengthSq());if(tt===0)return Math.PI/2;const nt=this.dot(c)/tt;return Math.acos(clamp(nt,-1,1))}distanceTo(c){return Math.sqrt(this.distanceToSquared(c))}distanceToSquared(c){const tt=this.x-c.x,nt=this.y-c.y,rt=this.z-c.z;return tt*tt+nt*nt+rt*rt}manhattanDistanceTo(c){return Math.abs(this.x-c.x)+Math.abs(this.y-c.y)+Math.abs(this.z-c.z)}setFromSpherical(c){return this.setFromSphericalCoords(c.radius,c.phi,c.theta)}setFromSphericalCoords(c,tt,nt){const rt=Math.sin(tt)*c;return this.x=rt*Math.sin(nt),this.y=Math.cos(tt)*c,this.z=rt*Math.cos(nt),this}setFromCylindrical(c){return this.setFromCylindricalCoords(c.radius,c.theta,c.y)}setFromCylindricalCoords(c,tt,nt){return this.x=c*Math.sin(tt),this.y=nt,this.z=c*Math.cos(tt),this}setFromMatrixPosition(c){const tt=c.elements;return this.x=tt[12],this.y=tt[13],this.z=tt[14],this}setFromMatrixScale(c){const tt=this.setFromMatrixColumn(c,0).length(),nt=this.setFromMatrixColumn(c,1).length(),rt=this.setFromMatrixColumn(c,2).length();return this.x=tt,this.y=nt,this.z=rt,this}setFromMatrixColumn(c,tt){return this.fromArray(c.elements,tt*4)}setFromMatrix3Column(c,tt){return this.fromArray(c.elements,tt*3)}setFromEuler(c){return this.x=c._x,this.y=c._y,this.z=c._z,this}setFromColor(c){return this.x=c.r,this.y=c.g,this.z=c.b,this}equals(c){return c.x===this.x&&c.y===this.y&&c.z===this.z}fromArray(c,tt=0){return this.x=c[tt],this.y=c[tt+1],this.z=c[tt+2],this}toArray(c=[],tt=0){return c[tt]=this.x,c[tt+1]=this.y,c[tt+2]=this.z,c}fromBufferAttribute(c,tt){return this.x=c.getX(tt),this.y=c.getY(tt),this.z=c.getZ(tt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const c=Math.random()*Math.PI*2,tt=Math.random()*2-1,nt=Math.sqrt(1-tt*tt);return this.x=nt*Math.cos(c),this.y=tt,this.z=nt*Math.sin(c),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(c=new Vector3(1/0,1/0,1/0),tt=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=c,this.max=tt}set(c,tt){return this.min.copy(c),this.max.copy(tt),this}setFromArray(c){this.makeEmpty();for(let tt=0,nt=c.length;tt<nt;tt+=3)this.expandByPoint(_vector$b.fromArray(c,tt));return this}setFromBufferAttribute(c){this.makeEmpty();for(let tt=0,nt=c.count;tt<nt;tt++)this.expandByPoint(_vector$b.fromBufferAttribute(c,tt));return this}setFromPoints(c){this.makeEmpty();for(let tt=0,nt=c.length;tt<nt;tt++)this.expandByPoint(c[tt]);return this}setFromCenterAndSize(c,tt){const nt=_vector$b.copy(tt).multiplyScalar(.5);return this.min.copy(c).sub(nt),this.max.copy(c).add(nt),this}setFromObject(c,tt=!1){return this.makeEmpty(),this.expandByObject(c,tt)}clone(){return new this.constructor().copy(this)}copy(c){return this.min.copy(c.min),this.max.copy(c.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(c){return this.isEmpty()?c.set(0,0,0):c.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(c){return this.isEmpty()?c.set(0,0,0):c.subVectors(this.max,this.min)}expandByPoint(c){return this.min.min(c),this.max.max(c),this}expandByVector(c){return this.min.sub(c),this.max.add(c),this}expandByScalar(c){return this.min.addScalar(-c),this.max.addScalar(c),this}expandByObject(c,tt=!1){c.updateWorldMatrix(!1,!1);const nt=c.geometry;if(nt!==void 0){const it=nt.getAttribute("position");if(tt===!0&&it!==void 0&&c.isInstancedMesh!==!0)for(let st=0,at=it.count;st<at;st++)c.isMesh===!0?c.getVertexPosition(st,_vector$b):_vector$b.fromBufferAttribute(it,st),_vector$b.applyMatrix4(c.matrixWorld),this.expandByPoint(_vector$b);else c.boundingBox!==void 0?(c.boundingBox===null&&c.computeBoundingBox(),_box$4.copy(c.boundingBox)):(nt.boundingBox===null&&nt.computeBoundingBox(),_box$4.copy(nt.boundingBox)),_box$4.applyMatrix4(c.matrixWorld),this.union(_box$4)}const rt=c.children;for(let it=0,st=rt.length;it<st;it++)this.expandByObject(rt[it],tt);return this}containsPoint(c){return c.x>=this.min.x&&c.x<=this.max.x&&c.y>=this.min.y&&c.y<=this.max.y&&c.z>=this.min.z&&c.z<=this.max.z}containsBox(c){return this.min.x<=c.min.x&&c.max.x<=this.max.x&&this.min.y<=c.min.y&&c.max.y<=this.max.y&&this.min.z<=c.min.z&&c.max.z<=this.max.z}getParameter(c,tt){return tt.set((c.x-this.min.x)/(this.max.x-this.min.x),(c.y-this.min.y)/(this.max.y-this.min.y),(c.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(c){return c.max.x>=this.min.x&&c.min.x<=this.max.x&&c.max.y>=this.min.y&&c.min.y<=this.max.y&&c.max.z>=this.min.z&&c.min.z<=this.max.z}intersectsSphere(c){return this.clampPoint(c.center,_vector$b),_vector$b.distanceToSquared(c.center)<=c.radius*c.radius}intersectsPlane(c){let tt,nt;return c.normal.x>0?(tt=c.normal.x*this.min.x,nt=c.normal.x*this.max.x):(tt=c.normal.x*this.max.x,nt=c.normal.x*this.min.x),c.normal.y>0?(tt+=c.normal.y*this.min.y,nt+=c.normal.y*this.max.y):(tt+=c.normal.y*this.max.y,nt+=c.normal.y*this.min.y),c.normal.z>0?(tt+=c.normal.z*this.min.z,nt+=c.normal.z*this.max.z):(tt+=c.normal.z*this.max.z,nt+=c.normal.z*this.min.z),tt<=-c.constant&&nt>=-c.constant}intersectsTriangle(c){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$3.subVectors(c.a,_center),_v1$7.subVectors(c.b,_center),_v2$4.subVectors(c.c,_center),_f0.subVectors(_v1$7,_v0$3),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$3,_v2$4);let tt=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(tt,_v0$3,_v1$7,_v2$4,_extents)||(tt=[1,0,0,0,1,0,0,0,1],!satForAxes(tt,_v0$3,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),tt=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(tt,_v0$3,_v1$7,_v2$4,_extents))}clampPoint(c,tt){return tt.copy(c).clamp(this.min,this.max)}distanceToPoint(c){return this.clampPoint(c,_vector$b).distanceTo(c)}getBoundingSphere(c){return this.isEmpty()?c.makeEmpty():(this.getCenter(c.center),c.radius=this.getSize(_vector$b).length()*.5),c}intersect(c){return this.min.max(c.min),this.max.min(c.max),this.isEmpty()&&this.makeEmpty(),this}union(c){return this.min.min(c.min),this.max.max(c.max),this}applyMatrix4(c){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(c),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(c),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(c),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(c),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(c),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(c),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(c),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(c),this.setFromPoints(_points),this)}translate(c){return this.min.add(c),this.max.add(c),this}equals(c){return c.min.equals(this.min)&&c.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$3=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(et,c,tt,nt,rt){for(let it=0,st=et.length-3;it<=st;it+=3){_testAxis.fromArray(et,it);const at=rt.x*Math.abs(_testAxis.x)+rt.y*Math.abs(_testAxis.y)+rt.z*Math.abs(_testAxis.z),ot=c.dot(_testAxis),lt=tt.dot(_testAxis),ct=nt.dot(_testAxis);if(Math.max(-Math.max(ot,lt,ct),Math.min(ot,lt,ct))>at)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;let Sphere$1=class{constructor(c=new Vector3,tt=-1){this.isSphere=!0,this.center=c,this.radius=tt}set(c,tt){return this.center.copy(c),this.radius=tt,this}setFromPoints(c,tt){const nt=this.center;tt!==void 0?nt.copy(tt):_box$3.setFromPoints(c).getCenter(nt);let rt=0;for(let it=0,st=c.length;it<st;it++)rt=Math.max(rt,nt.distanceToSquared(c[it]));return this.radius=Math.sqrt(rt),this}copy(c){return this.center.copy(c.center),this.radius=c.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(c){return c.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(c){return c.distanceTo(this.center)-this.radius}intersectsSphere(c){const tt=this.radius+c.radius;return c.center.distanceToSquared(this.center)<=tt*tt}intersectsBox(c){return c.intersectsSphere(this)}intersectsPlane(c){return Math.abs(c.distanceToPoint(this.center))<=this.radius}clampPoint(c,tt){const nt=this.center.distanceToSquared(c);return tt.copy(c),nt>this.radius*this.radius&&(tt.sub(this.center).normalize(),tt.multiplyScalar(this.radius).add(this.center)),tt}getBoundingBox(c){return this.isEmpty()?(c.makeEmpty(),c):(c.set(this.center,this.center),c.expandByScalar(this.radius),c)}applyMatrix4(c){return this.center.applyMatrix4(c),this.radius=this.radius*c.getMaxScaleOnAxis(),this}translate(c){return this.center.add(c),this}expandByPoint(c){if(this.isEmpty())return this.center.copy(c),this.radius=0,this;_v1$6.subVectors(c,this.center);const tt=_v1$6.lengthSq();if(tt>this.radius*this.radius){const nt=Math.sqrt(tt),rt=(nt-this.radius)*.5;this.center.addScaledVector(_v1$6,rt/nt),this.radius+=rt}return this}union(c){return c.isEmpty()?this:this.isEmpty()?(this.copy(c),this):(this.center.equals(c.center)===!0?this.radius=Math.max(this.radius,c.radius):(_v2$3.subVectors(c.center,this.center).setLength(c.radius),this.expandByPoint(_v1$6.copy(c.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(c.center).sub(_v2$3))),this)}equals(c){return c.center.equals(this.center)&&c.radius===this.radius}clone(){return new this.constructor().copy(this)}};const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(c=new Vector3,tt=new Vector3(0,0,-1)){this.origin=c,this.direction=tt}set(c,tt){return this.origin.copy(c),this.direction.copy(tt),this}copy(c){return this.origin.copy(c.origin),this.direction.copy(c.direction),this}at(c,tt){return tt.copy(this.origin).addScaledVector(this.direction,c)}lookAt(c){return this.direction.copy(c).sub(this.origin).normalize(),this}recast(c){return this.origin.copy(this.at(c,_vector$a)),this}closestPointToPoint(c,tt){tt.subVectors(c,this.origin);const nt=tt.dot(this.direction);return nt<0?tt.copy(this.origin):tt.copy(this.origin).addScaledVector(this.direction,nt)}distanceToPoint(c){return Math.sqrt(this.distanceSqToPoint(c))}distanceSqToPoint(c){const tt=_vector$a.subVectors(c,this.origin).dot(this.direction);return tt<0?this.origin.distanceToSquared(c):(_vector$a.copy(this.origin).addScaledVector(this.direction,tt),_vector$a.distanceToSquared(c))}distanceSqToSegment(c,tt,nt,rt){_segCenter.copy(c).add(tt).multiplyScalar(.5),_segDir.copy(tt).sub(c).normalize(),_diff.copy(this.origin).sub(_segCenter);const it=c.distanceTo(tt)*.5,st=-this.direction.dot(_segDir),at=_diff.dot(this.direction),ot=-_diff.dot(_segDir),lt=_diff.lengthSq(),ct=Math.abs(1-st*st);let dt,ht,mt,gt;if(ct>0)if(dt=st*ot-at,ht=st*at-ot,gt=it*ct,dt>=0)if(ht>=-gt)if(ht<=gt){const yt=1/ct;dt*=yt,ht*=yt,mt=dt*(dt+st*ht+2*at)+ht*(st*dt+ht+2*ot)+lt}else ht=it,dt=Math.max(0,-(st*ht+at)),mt=-dt*dt+ht*(ht+2*ot)+lt;else ht=-it,dt=Math.max(0,-(st*ht+at)),mt=-dt*dt+ht*(ht+2*ot)+lt;else ht<=-gt?(dt=Math.max(0,-(-st*it+at)),ht=dt>0?-it:Math.min(Math.max(-it,-ot),it),mt=-dt*dt+ht*(ht+2*ot)+lt):ht<=gt?(dt=0,ht=Math.min(Math.max(-it,-ot),it),mt=ht*(ht+2*ot)+lt):(dt=Math.max(0,-(st*it+at)),ht=dt>0?it:Math.min(Math.max(-it,-ot),it),mt=-dt*dt+ht*(ht+2*ot)+lt);else ht=st>0?-it:it,dt=Math.max(0,-(st*ht+at)),mt=-dt*dt+ht*(ht+2*ot)+lt;return nt&&nt.copy(this.origin).addScaledVector(this.direction,dt),rt&&rt.copy(_segCenter).addScaledVector(_segDir,ht),mt}intersectSphere(c,tt){_vector$a.subVectors(c.center,this.origin);const nt=_vector$a.dot(this.direction),rt=_vector$a.dot(_vector$a)-nt*nt,it=c.radius*c.radius;if(rt>it)return null;const st=Math.sqrt(it-rt),at=nt-st,ot=nt+st;return ot<0?null:at<0?this.at(ot,tt):this.at(at,tt)}intersectsSphere(c){return this.distanceSqToPoint(c.center)<=c.radius*c.radius}distanceToPlane(c){const tt=c.normal.dot(this.direction);if(tt===0)return c.distanceToPoint(this.origin)===0?0:null;const nt=-(this.origin.dot(c.normal)+c.constant)/tt;return nt>=0?nt:null}intersectPlane(c,tt){const nt=this.distanceToPlane(c);return nt===null?null:this.at(nt,tt)}intersectsPlane(c){const tt=c.distanceToPoint(this.origin);return tt===0||c.normal.dot(this.direction)*tt<0}intersectBox(c,tt){let nt,rt,it,st,at,ot;const lt=1/this.direction.x,ct=1/this.direction.y,dt=1/this.direction.z,ht=this.origin;return lt>=0?(nt=(c.min.x-ht.x)*lt,rt=(c.max.x-ht.x)*lt):(nt=(c.max.x-ht.x)*lt,rt=(c.min.x-ht.x)*lt),ct>=0?(it=(c.min.y-ht.y)*ct,st=(c.max.y-ht.y)*ct):(it=(c.max.y-ht.y)*ct,st=(c.min.y-ht.y)*ct),nt>st||it>rt||((it>nt||isNaN(nt))&&(nt=it),(st<rt||isNaN(rt))&&(rt=st),dt>=0?(at=(c.min.z-ht.z)*dt,ot=(c.max.z-ht.z)*dt):(at=(c.max.z-ht.z)*dt,ot=(c.min.z-ht.z)*dt),nt>ot||at>rt)||((at>nt||nt!==nt)&&(nt=at),(ot<rt||rt!==rt)&&(rt=ot),rt<0)?null:this.at(nt>=0?nt:rt,tt)}intersectsBox(c){return this.intersectBox(c,_vector$a)!==null}intersectTriangle(c,tt,nt,rt,it){_edge1.subVectors(tt,c),_edge2.subVectors(nt,c),_normal$1.crossVectors(_edge1,_edge2);let st=this.direction.dot(_normal$1),at;if(st>0){if(rt)return null;at=1}else if(st<0)at=-1,st=-st;else return null;_diff.subVectors(this.origin,c);const ot=at*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(ot<0)return null;const lt=at*this.direction.dot(_edge1.cross(_diff));if(lt<0||ot+lt>st)return null;const ct=-at*_diff.dot(_normal$1);return ct<0?null:this.at(ct/st,it)}applyMatrix4(c){return this.origin.applyMatrix4(c),this.direction.transformDirection(c),this}equals(c){return c.origin.equals(this.origin)&&c.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(c,tt,nt,rt,it,st,at,ot,lt,ct,dt,ht,mt,gt,yt,_t){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c!==void 0&&this.set(c,tt,nt,rt,it,st,at,ot,lt,ct,dt,ht,mt,gt,yt,_t)}set(c,tt,nt,rt,it,st,at,ot,lt,ct,dt,ht,mt,gt,yt,_t){const pt=this.elements;return pt[0]=c,pt[4]=tt,pt[8]=nt,pt[12]=rt,pt[1]=it,pt[5]=st,pt[9]=at,pt[13]=ot,pt[2]=lt,pt[6]=ct,pt[10]=dt,pt[14]=ht,pt[3]=mt,pt[7]=gt,pt[11]=yt,pt[15]=_t,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(c){const tt=this.elements,nt=c.elements;return tt[0]=nt[0],tt[1]=nt[1],tt[2]=nt[2],tt[3]=nt[3],tt[4]=nt[4],tt[5]=nt[5],tt[6]=nt[6],tt[7]=nt[7],tt[8]=nt[8],tt[9]=nt[9],tt[10]=nt[10],tt[11]=nt[11],tt[12]=nt[12],tt[13]=nt[13],tt[14]=nt[14],tt[15]=nt[15],this}copyPosition(c){const tt=this.elements,nt=c.elements;return tt[12]=nt[12],tt[13]=nt[13],tt[14]=nt[14],this}setFromMatrix3(c){const tt=c.elements;return this.set(tt[0],tt[3],tt[6],0,tt[1],tt[4],tt[7],0,tt[2],tt[5],tt[8],0,0,0,0,1),this}extractBasis(c,tt,nt){return c.setFromMatrixColumn(this,0),tt.setFromMatrixColumn(this,1),nt.setFromMatrixColumn(this,2),this}makeBasis(c,tt,nt){return this.set(c.x,tt.x,nt.x,0,c.y,tt.y,nt.y,0,c.z,tt.z,nt.z,0,0,0,0,1),this}extractRotation(c){const tt=this.elements,nt=c.elements,rt=1/_v1$5.setFromMatrixColumn(c,0).length(),it=1/_v1$5.setFromMatrixColumn(c,1).length(),st=1/_v1$5.setFromMatrixColumn(c,2).length();return tt[0]=nt[0]*rt,tt[1]=nt[1]*rt,tt[2]=nt[2]*rt,tt[3]=0,tt[4]=nt[4]*it,tt[5]=nt[5]*it,tt[6]=nt[6]*it,tt[7]=0,tt[8]=nt[8]*st,tt[9]=nt[9]*st,tt[10]=nt[10]*st,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,this}makeRotationFromEuler(c){const tt=this.elements,nt=c.x,rt=c.y,it=c.z,st=Math.cos(nt),at=Math.sin(nt),ot=Math.cos(rt),lt=Math.sin(rt),ct=Math.cos(it),dt=Math.sin(it);if(c.order==="XYZ"){const ht=st*ct,mt=st*dt,gt=at*ct,yt=at*dt;tt[0]=ot*ct,tt[4]=-ot*dt,tt[8]=lt,tt[1]=mt+gt*lt,tt[5]=ht-yt*lt,tt[9]=-at*ot,tt[2]=yt-ht*lt,tt[6]=gt+mt*lt,tt[10]=st*ot}else if(c.order==="YXZ"){const ht=ot*ct,mt=ot*dt,gt=lt*ct,yt=lt*dt;tt[0]=ht+yt*at,tt[4]=gt*at-mt,tt[8]=st*lt,tt[1]=st*dt,tt[5]=st*ct,tt[9]=-at,tt[2]=mt*at-gt,tt[6]=yt+ht*at,tt[10]=st*ot}else if(c.order==="ZXY"){const ht=ot*ct,mt=ot*dt,gt=lt*ct,yt=lt*dt;tt[0]=ht-yt*at,tt[4]=-st*dt,tt[8]=gt+mt*at,tt[1]=mt+gt*at,tt[5]=st*ct,tt[9]=yt-ht*at,tt[2]=-st*lt,tt[6]=at,tt[10]=st*ot}else if(c.order==="ZYX"){const ht=st*ct,mt=st*dt,gt=at*ct,yt=at*dt;tt[0]=ot*ct,tt[4]=gt*lt-mt,tt[8]=ht*lt+yt,tt[1]=ot*dt,tt[5]=yt*lt+ht,tt[9]=mt*lt-gt,tt[2]=-lt,tt[6]=at*ot,tt[10]=st*ot}else if(c.order==="YZX"){const ht=st*ot,mt=st*lt,gt=at*ot,yt=at*lt;tt[0]=ot*ct,tt[4]=yt-ht*dt,tt[8]=gt*dt+mt,tt[1]=dt,tt[5]=st*ct,tt[9]=-at*ct,tt[2]=-lt*ct,tt[6]=mt*dt+gt,tt[10]=ht-yt*dt}else if(c.order==="XZY"){const ht=st*ot,mt=st*lt,gt=at*ot,yt=at*lt;tt[0]=ot*ct,tt[4]=-dt,tt[8]=lt*ct,tt[1]=ht*dt+yt,tt[5]=st*ct,tt[9]=mt*dt-gt,tt[2]=gt*dt-mt,tt[6]=at*ct,tt[10]=yt*dt+ht}return tt[3]=0,tt[7]=0,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,this}makeRotationFromQuaternion(c){return this.compose(_zero,c,_one)}lookAt(c,tt,nt){const rt=this.elements;return _z.subVectors(c,tt),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(nt,_z),_x.lengthSq()===0&&(Math.abs(nt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(nt,_z)),_x.normalize(),_y.crossVectors(_z,_x),rt[0]=_x.x,rt[4]=_y.x,rt[8]=_z.x,rt[1]=_x.y,rt[5]=_y.y,rt[9]=_z.y,rt[2]=_x.z,rt[6]=_y.z,rt[10]=_z.z,this}multiply(c){return this.multiplyMatrices(this,c)}premultiply(c){return this.multiplyMatrices(c,this)}multiplyMatrices(c,tt){const nt=c.elements,rt=tt.elements,it=this.elements,st=nt[0],at=nt[4],ot=nt[8],lt=nt[12],ct=nt[1],dt=nt[5],ht=nt[9],mt=nt[13],gt=nt[2],yt=nt[6],_t=nt[10],pt=nt[14],xt=nt[3],vt=nt[7],St=nt[11],wt=nt[15],Mt=rt[0],Ct=rt[4],Rt=rt[8],Lt=rt[12],It=rt[1],Nt=rt[5],zt=rt[9],Wt=rt[13],Yt=rt[2],Xt=rt[6],Ft=rt[10],Ut=rt[14],At=rt[3],kt=rt[7],Ot=rt[11],Bt=rt[15];return it[0]=st*Mt+at*It+ot*Yt+lt*At,it[4]=st*Ct+at*Nt+ot*Xt+lt*kt,it[8]=st*Rt+at*zt+ot*Ft+lt*Ot,it[12]=st*Lt+at*Wt+ot*Ut+lt*Bt,it[1]=ct*Mt+dt*It+ht*Yt+mt*At,it[5]=ct*Ct+dt*Nt+ht*Xt+mt*kt,it[9]=ct*Rt+dt*zt+ht*Ft+mt*Ot,it[13]=ct*Lt+dt*Wt+ht*Ut+mt*Bt,it[2]=gt*Mt+yt*It+_t*Yt+pt*At,it[6]=gt*Ct+yt*Nt+_t*Xt+pt*kt,it[10]=gt*Rt+yt*zt+_t*Ft+pt*Ot,it[14]=gt*Lt+yt*Wt+_t*Ut+pt*Bt,it[3]=xt*Mt+vt*It+St*Yt+wt*At,it[7]=xt*Ct+vt*Nt+St*Xt+wt*kt,it[11]=xt*Rt+vt*zt+St*Ft+wt*Ot,it[15]=xt*Lt+vt*Wt+St*Ut+wt*Bt,this}multiplyScalar(c){const tt=this.elements;return tt[0]*=c,tt[4]*=c,tt[8]*=c,tt[12]*=c,tt[1]*=c,tt[5]*=c,tt[9]*=c,tt[13]*=c,tt[2]*=c,tt[6]*=c,tt[10]*=c,tt[14]*=c,tt[3]*=c,tt[7]*=c,tt[11]*=c,tt[15]*=c,this}determinant(){const c=this.elements,tt=c[0],nt=c[4],rt=c[8],it=c[12],st=c[1],at=c[5],ot=c[9],lt=c[13],ct=c[2],dt=c[6],ht=c[10],mt=c[14],gt=c[3],yt=c[7],_t=c[11],pt=c[15];return gt*(+it*ot*dt-rt*lt*dt-it*at*ht+nt*lt*ht+rt*at*mt-nt*ot*mt)+yt*(+tt*ot*mt-tt*lt*ht+it*st*ht-rt*st*mt+rt*lt*ct-it*ot*ct)+_t*(+tt*lt*dt-tt*at*mt-it*st*dt+nt*st*mt+it*at*ct-nt*lt*ct)+pt*(-rt*at*ct-tt*ot*dt+tt*at*ht+rt*st*dt-nt*st*ht+nt*ot*ct)}transpose(){const c=this.elements;let tt;return tt=c[1],c[1]=c[4],c[4]=tt,tt=c[2],c[2]=c[8],c[8]=tt,tt=c[6],c[6]=c[9],c[9]=tt,tt=c[3],c[3]=c[12],c[12]=tt,tt=c[7],c[7]=c[13],c[13]=tt,tt=c[11],c[11]=c[14],c[14]=tt,this}setPosition(c,tt,nt){const rt=this.elements;return c.isVector3?(rt[12]=c.x,rt[13]=c.y,rt[14]=c.z):(rt[12]=c,rt[13]=tt,rt[14]=nt),this}invert(){const c=this.elements,tt=c[0],nt=c[1],rt=c[2],it=c[3],st=c[4],at=c[5],ot=c[6],lt=c[7],ct=c[8],dt=c[9],ht=c[10],mt=c[11],gt=c[12],yt=c[13],_t=c[14],pt=c[15],xt=dt*_t*lt-yt*ht*lt+yt*ot*mt-at*_t*mt-dt*ot*pt+at*ht*pt,vt=gt*ht*lt-ct*_t*lt-gt*ot*mt+st*_t*mt+ct*ot*pt-st*ht*pt,St=ct*yt*lt-gt*dt*lt+gt*at*mt-st*yt*mt-ct*at*pt+st*dt*pt,wt=gt*dt*ot-ct*yt*ot-gt*at*ht+st*yt*ht+ct*at*_t-st*dt*_t,Mt=tt*xt+nt*vt+rt*St+it*wt;if(Mt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Ct=1/Mt;return c[0]=xt*Ct,c[1]=(yt*ht*it-dt*_t*it-yt*rt*mt+nt*_t*mt+dt*rt*pt-nt*ht*pt)*Ct,c[2]=(at*_t*it-yt*ot*it+yt*rt*lt-nt*_t*lt-at*rt*pt+nt*ot*pt)*Ct,c[3]=(dt*ot*it-at*ht*it-dt*rt*lt+nt*ht*lt+at*rt*mt-nt*ot*mt)*Ct,c[4]=vt*Ct,c[5]=(ct*_t*it-gt*ht*it+gt*rt*mt-tt*_t*mt-ct*rt*pt+tt*ht*pt)*Ct,c[6]=(gt*ot*it-st*_t*it-gt*rt*lt+tt*_t*lt+st*rt*pt-tt*ot*pt)*Ct,c[7]=(st*ht*it-ct*ot*it+ct*rt*lt-tt*ht*lt-st*rt*mt+tt*ot*mt)*Ct,c[8]=St*Ct,c[9]=(gt*dt*it-ct*yt*it-gt*nt*mt+tt*yt*mt+ct*nt*pt-tt*dt*pt)*Ct,c[10]=(st*yt*it-gt*at*it+gt*nt*lt-tt*yt*lt-st*nt*pt+tt*at*pt)*Ct,c[11]=(ct*at*it-st*dt*it-ct*nt*lt+tt*dt*lt+st*nt*mt-tt*at*mt)*Ct,c[12]=wt*Ct,c[13]=(ct*yt*rt-gt*dt*rt+gt*nt*ht-tt*yt*ht-ct*nt*_t+tt*dt*_t)*Ct,c[14]=(gt*at*rt-st*yt*rt-gt*nt*ot+tt*yt*ot+st*nt*_t-tt*at*_t)*Ct,c[15]=(st*dt*rt-ct*at*rt+ct*nt*ot-tt*dt*ot-st*nt*ht+tt*at*ht)*Ct,this}scale(c){const tt=this.elements,nt=c.x,rt=c.y,it=c.z;return tt[0]*=nt,tt[4]*=rt,tt[8]*=it,tt[1]*=nt,tt[5]*=rt,tt[9]*=it,tt[2]*=nt,tt[6]*=rt,tt[10]*=it,tt[3]*=nt,tt[7]*=rt,tt[11]*=it,this}getMaxScaleOnAxis(){const c=this.elements,tt=c[0]*c[0]+c[1]*c[1]+c[2]*c[2],nt=c[4]*c[4]+c[5]*c[5]+c[6]*c[6],rt=c[8]*c[8]+c[9]*c[9]+c[10]*c[10];return Math.sqrt(Math.max(tt,nt,rt))}makeTranslation(c,tt,nt){return c.isVector3?this.set(1,0,0,c.x,0,1,0,c.y,0,0,1,c.z,0,0,0,1):this.set(1,0,0,c,0,1,0,tt,0,0,1,nt,0,0,0,1),this}makeRotationX(c){const tt=Math.cos(c),nt=Math.sin(c);return this.set(1,0,0,0,0,tt,-nt,0,0,nt,tt,0,0,0,0,1),this}makeRotationY(c){const tt=Math.cos(c),nt=Math.sin(c);return this.set(tt,0,nt,0,0,1,0,0,-nt,0,tt,0,0,0,0,1),this}makeRotationZ(c){const tt=Math.cos(c),nt=Math.sin(c);return this.set(tt,-nt,0,0,nt,tt,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(c,tt){const nt=Math.cos(tt),rt=Math.sin(tt),it=1-nt,st=c.x,at=c.y,ot=c.z,lt=it*st,ct=it*at;return this.set(lt*st+nt,lt*at-rt*ot,lt*ot+rt*at,0,lt*at+rt*ot,ct*at+nt,ct*ot-rt*st,0,lt*ot-rt*at,ct*ot+rt*st,it*ot*ot+nt,0,0,0,0,1),this}makeScale(c,tt,nt){return this.set(c,0,0,0,0,tt,0,0,0,0,nt,0,0,0,0,1),this}makeShear(c,tt,nt,rt,it,st){return this.set(1,nt,it,0,c,1,st,0,tt,rt,1,0,0,0,0,1),this}compose(c,tt,nt){const rt=this.elements,it=tt._x,st=tt._y,at=tt._z,ot=tt._w,lt=it+it,ct=st+st,dt=at+at,ht=it*lt,mt=it*ct,gt=it*dt,yt=st*ct,_t=st*dt,pt=at*dt,xt=ot*lt,vt=ot*ct,St=ot*dt,wt=nt.x,Mt=nt.y,Ct=nt.z;return rt[0]=(1-(yt+pt))*wt,rt[1]=(mt+St)*wt,rt[2]=(gt-vt)*wt,rt[3]=0,rt[4]=(mt-St)*Mt,rt[5]=(1-(ht+pt))*Mt,rt[6]=(_t+xt)*Mt,rt[7]=0,rt[8]=(gt+vt)*Ct,rt[9]=(_t-xt)*Ct,rt[10]=(1-(ht+yt))*Ct,rt[11]=0,rt[12]=c.x,rt[13]=c.y,rt[14]=c.z,rt[15]=1,this}decompose(c,tt,nt){const rt=this.elements;let it=_v1$5.set(rt[0],rt[1],rt[2]).length();const st=_v1$5.set(rt[4],rt[5],rt[6]).length(),at=_v1$5.set(rt[8],rt[9],rt[10]).length();this.determinant()<0&&(it=-it),c.x=rt[12],c.y=rt[13],c.z=rt[14],_m1$4.copy(this);const lt=1/it,ct=1/st,dt=1/at;return _m1$4.elements[0]*=lt,_m1$4.elements[1]*=lt,_m1$4.elements[2]*=lt,_m1$4.elements[4]*=ct,_m1$4.elements[5]*=ct,_m1$4.elements[6]*=ct,_m1$4.elements[8]*=dt,_m1$4.elements[9]*=dt,_m1$4.elements[10]*=dt,tt.setFromRotationMatrix(_m1$4),nt.x=it,nt.y=st,nt.z=at,this}makePerspective(c,tt,nt,rt,it,st,at=WebGLCoordinateSystem){const ot=this.elements,lt=2*it/(tt-c),ct=2*it/(nt-rt),dt=(tt+c)/(tt-c),ht=(nt+rt)/(nt-rt);let mt,gt;if(at===WebGLCoordinateSystem)mt=-(st+it)/(st-it),gt=-2*st*it/(st-it);else if(at===WebGPUCoordinateSystem)mt=-st/(st-it),gt=-st*it/(st-it);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+at);return ot[0]=lt,ot[4]=0,ot[8]=dt,ot[12]=0,ot[1]=0,ot[5]=ct,ot[9]=ht,ot[13]=0,ot[2]=0,ot[6]=0,ot[10]=mt,ot[14]=gt,ot[3]=0,ot[7]=0,ot[11]=-1,ot[15]=0,this}makeOrthographic(c,tt,nt,rt,it,st,at=WebGLCoordinateSystem){const ot=this.elements,lt=1/(tt-c),ct=1/(nt-rt),dt=1/(st-it),ht=(tt+c)*lt,mt=(nt+rt)*ct;let gt,yt;if(at===WebGLCoordinateSystem)gt=(st+it)*dt,yt=-2*dt;else if(at===WebGPUCoordinateSystem)gt=it*dt,yt=-1*dt;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+at);return ot[0]=2*lt,ot[4]=0,ot[8]=0,ot[12]=-ht,ot[1]=0,ot[5]=2*ct,ot[9]=0,ot[13]=-mt,ot[2]=0,ot[6]=0,ot[10]=yt,ot[14]=-gt,ot[3]=0,ot[7]=0,ot[11]=0,ot[15]=1,this}equals(c){const tt=this.elements,nt=c.elements;for(let rt=0;rt<16;rt++)if(tt[rt]!==nt[rt])return!1;return!0}fromArray(c,tt=0){for(let nt=0;nt<16;nt++)this.elements[nt]=c[nt+tt];return this}toArray(c=[],tt=0){const nt=this.elements;return c[tt]=nt[0],c[tt+1]=nt[1],c[tt+2]=nt[2],c[tt+3]=nt[3],c[tt+4]=nt[4],c[tt+5]=nt[5],c[tt+6]=nt[6],c[tt+7]=nt[7],c[tt+8]=nt[8],c[tt+9]=nt[9],c[tt+10]=nt[10],c[tt+11]=nt[11],c[tt+12]=nt[12],c[tt+13]=nt[13],c[tt+14]=nt[14],c[tt+15]=nt[15],c}}const _v1$5=new Vector3,_m1$4=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(c=0,tt=0,nt=0,rt=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=c,this._y=tt,this._z=nt,this._order=rt}get x(){return this._x}set x(c){this._x=c,this._onChangeCallback()}get y(){return this._y}set y(c){this._y=c,this._onChangeCallback()}get z(){return this._z}set z(c){this._z=c,this._onChangeCallback()}get order(){return this._order}set order(c){this._order=c,this._onChangeCallback()}set(c,tt,nt,rt=this._order){return this._x=c,this._y=tt,this._z=nt,this._order=rt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(c){return this._x=c._x,this._y=c._y,this._z=c._z,this._order=c._order,this._onChangeCallback(),this}setFromRotationMatrix(c,tt=this._order,nt=!0){const rt=c.elements,it=rt[0],st=rt[4],at=rt[8],ot=rt[1],lt=rt[5],ct=rt[9],dt=rt[2],ht=rt[6],mt=rt[10];switch(tt){case"XYZ":this._y=Math.asin(clamp(at,-1,1)),Math.abs(at)<.9999999?(this._x=Math.atan2(-ct,mt),this._z=Math.atan2(-st,it)):(this._x=Math.atan2(ht,lt),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(ct,-1,1)),Math.abs(ct)<.9999999?(this._y=Math.atan2(at,mt),this._z=Math.atan2(ot,lt)):(this._y=Math.atan2(-dt,it),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(ht,-1,1)),Math.abs(ht)<.9999999?(this._y=Math.atan2(-dt,mt),this._z=Math.atan2(-st,lt)):(this._y=0,this._z=Math.atan2(ot,it));break;case"ZYX":this._y=Math.asin(-clamp(dt,-1,1)),Math.abs(dt)<.9999999?(this._x=Math.atan2(ht,mt),this._z=Math.atan2(ot,it)):(this._x=0,this._z=Math.atan2(-st,lt));break;case"YZX":this._z=Math.asin(clamp(ot,-1,1)),Math.abs(ot)<.9999999?(this._x=Math.atan2(-ct,lt),this._y=Math.atan2(-dt,it)):(this._x=0,this._y=Math.atan2(at,mt));break;case"XZY":this._z=Math.asin(-clamp(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(ht,lt),this._y=Math.atan2(at,it)):(this._x=Math.atan2(-ct,mt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+tt)}return this._order=tt,nt===!0&&this._onChangeCallback(),this}setFromQuaternion(c,tt,nt){return _matrix$2.makeRotationFromQuaternion(c),this.setFromRotationMatrix(_matrix$2,tt,nt)}setFromVector3(c,tt=this._order){return this.set(c.x,c.y,c.z,tt)}reorder(c){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,c)}equals(c){return c._x===this._x&&c._y===this._y&&c._z===this._z&&c._order===this._order}fromArray(c){return this._x=c[0],this._y=c[1],this._z=c[2],c[3]!==void 0&&(this._order=c[3]),this._onChangeCallback(),this}toArray(c=[],tt=0){return c[tt]=this._x,c[tt+1]=this._y,c[tt+2]=this._z,c[tt+3]=this._order,c}_onChange(c){return this._onChangeCallback=c,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(c){this.mask=(1<<c|0)>>>0}enable(c){this.mask|=1<<c|0}enableAll(){this.mask=-1}toggle(c){this.mask^=1<<c|0}disable(c){this.mask&=~(1<<c|0)}disableAll(){this.mask=0}test(c){return(this.mask&c.mask)!==0}isEnabled(c){return(this.mask&(1<<c|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$3=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher$1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const c=new Vector3,tt=new Euler,nt=new Quaternion,rt=new Vector3(1,1,1);function it(){nt.setFromEuler(tt,!1)}function st(){tt.setFromQuaternion(nt,void 0,!1)}tt._onChange(it),nt._onChange(st),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:c},rotation:{configurable:!0,enumerable:!0,value:tt},quaternion:{configurable:!0,enumerable:!0,value:nt},scale:{configurable:!0,enumerable:!0,value:rt},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(c){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(c),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(c){return this.quaternion.premultiply(c),this}setRotationFromAxisAngle(c,tt){this.quaternion.setFromAxisAngle(c,tt)}setRotationFromEuler(c){this.quaternion.setFromEuler(c,!0)}setRotationFromMatrix(c){this.quaternion.setFromRotationMatrix(c)}setRotationFromQuaternion(c){this.quaternion.copy(c)}rotateOnAxis(c,tt){return _q1.setFromAxisAngle(c,tt),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(c,tt){return _q1.setFromAxisAngle(c,tt),this.quaternion.premultiply(_q1),this}rotateX(c){return this.rotateOnAxis(_xAxis,c)}rotateY(c){return this.rotateOnAxis(_yAxis,c)}rotateZ(c){return this.rotateOnAxis(_zAxis,c)}translateOnAxis(c,tt){return _v1$4.copy(c).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(tt)),this}translateX(c){return this.translateOnAxis(_xAxis,c)}translateY(c){return this.translateOnAxis(_yAxis,c)}translateZ(c){return this.translateOnAxis(_zAxis,c)}localToWorld(c){return this.updateWorldMatrix(!0,!1),c.applyMatrix4(this.matrixWorld)}worldToLocal(c){return this.updateWorldMatrix(!0,!1),c.applyMatrix4(_m1$3.copy(this.matrixWorld).invert())}lookAt(c,tt,nt){c.isVector3?_target.copy(c):_target.set(c,tt,nt);const rt=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$3.lookAt(_position$3,_target,this.up):_m1$3.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$3),rt&&(_m1$3.extractRotation(rt.matrixWorld),_q1.setFromRotationMatrix(_m1$3),this.quaternion.premultiply(_q1.invert()))}add(c){if(arguments.length>1){for(let tt=0;tt<arguments.length;tt++)this.add(arguments[tt]);return this}return c===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",c),this):(c&&c.isObject3D?(c.removeFromParent(),c.parent=this,this.children.push(c),c.dispatchEvent(_addedEvent),_childaddedEvent.child=c,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",c),this)}remove(c){if(arguments.length>1){for(let nt=0;nt<arguments.length;nt++)this.remove(arguments[nt]);return this}const tt=this.children.indexOf(c);return tt!==-1&&(c.parent=null,this.children.splice(tt,1),c.dispatchEvent(_removedEvent),_childremovedEvent.child=c,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const c=this.parent;return c!==null&&c.remove(this),this}clear(){return this.remove(...this.children)}attach(c){return this.updateWorldMatrix(!0,!1),_m1$3.copy(this.matrixWorld).invert(),c.parent!==null&&(c.parent.updateWorldMatrix(!0,!1),_m1$3.multiply(c.parent.matrixWorld)),c.applyMatrix4(_m1$3),c.removeFromParent(),c.parent=this,this.children.push(c),c.updateWorldMatrix(!1,!0),c.dispatchEvent(_addedEvent),_childaddedEvent.child=c,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(c){return this.getObjectByProperty("id",c)}getObjectByName(c){return this.getObjectByProperty("name",c)}getObjectByProperty(c,tt){if(this[c]===tt)return this;for(let nt=0,rt=this.children.length;nt<rt;nt++){const st=this.children[nt].getObjectByProperty(c,tt);if(st!==void 0)return st}}getObjectsByProperty(c,tt,nt=[]){this[c]===tt&&nt.push(this);const rt=this.children;for(let it=0,st=rt.length;it<st;it++)rt[it].getObjectsByProperty(c,tt,nt);return nt}getWorldPosition(c){return this.updateWorldMatrix(!0,!1),c.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(c){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,c,_scale$2),c}getWorldScale(c){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,c),c}getWorldDirection(c){this.updateWorldMatrix(!0,!1);const tt=this.matrixWorld.elements;return c.set(tt[8],tt[9],tt[10]).normalize()}raycast(){}traverse(c){c(this);const tt=this.children;for(let nt=0,rt=tt.length;nt<rt;nt++)tt[nt].traverse(c)}traverseVisible(c){if(this.visible===!1)return;c(this);const tt=this.children;for(let nt=0,rt=tt.length;nt<rt;nt++)tt[nt].traverseVisible(c)}traverseAncestors(c){const tt=this.parent;tt!==null&&(c(tt),tt.traverseAncestors(c))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(c){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||c)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,c=!0);const tt=this.children;for(let nt=0,rt=tt.length;nt<rt;nt++)tt[nt].updateMatrixWorld(c)}updateWorldMatrix(c,tt){const nt=this.parent;if(c===!0&&nt!==null&&nt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),tt===!0){const rt=this.children;for(let it=0,st=rt.length;it<st;it++)rt[it].updateWorldMatrix(!1,!0)}}toJSON(c){const tt=c===void 0||typeof c=="string",nt={};tt&&(c={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},nt.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const rt={};rt.uuid=this.uuid,rt.type=this.type,this.name!==""&&(rt.name=this.name),this.castShadow===!0&&(rt.castShadow=!0),this.receiveShadow===!0&&(rt.receiveShadow=!0),this.visible===!1&&(rt.visible=!1),this.frustumCulled===!1&&(rt.frustumCulled=!1),this.renderOrder!==0&&(rt.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(rt.userData=this.userData),rt.layers=this.layers.mask,rt.matrix=this.matrix.toArray(),rt.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(rt.matrixAutoUpdate=!1),this.isInstancedMesh&&(rt.type="InstancedMesh",rt.count=this.count,rt.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(rt.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(rt.type="BatchedMesh",rt.perObjectFrustumCulled=this.perObjectFrustumCulled,rt.sortObjects=this.sortObjects,rt.drawRanges=this._drawRanges,rt.reservedRanges=this._reservedRanges,rt.visibility=this._visibility,rt.active=this._active,rt.bounds=this._bounds.map(at=>({boxInitialized:at.boxInitialized,boxMin:at.box.min.toArray(),boxMax:at.box.max.toArray(),sphereInitialized:at.sphereInitialized,sphereRadius:at.sphere.radius,sphereCenter:at.sphere.center.toArray()})),rt.maxInstanceCount=this._maxInstanceCount,rt.maxVertexCount=this._maxVertexCount,rt.maxIndexCount=this._maxIndexCount,rt.geometryInitialized=this._geometryInitialized,rt.geometryCount=this._geometryCount,rt.matricesTexture=this._matricesTexture.toJSON(c),this._colorsTexture!==null&&(rt.colorsTexture=this._colorsTexture.toJSON(c)),this.boundingSphere!==null&&(rt.boundingSphere={center:rt.boundingSphere.center.toArray(),radius:rt.boundingSphere.radius}),this.boundingBox!==null&&(rt.boundingBox={min:rt.boundingBox.min.toArray(),max:rt.boundingBox.max.toArray()}));function it(at,ot){return at[ot.uuid]===void 0&&(at[ot.uuid]=ot.toJSON(c)),ot.uuid}if(this.isScene)this.background&&(this.background.isColor?rt.background=this.background.toJSON():this.background.isTexture&&(rt.background=this.background.toJSON(c).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(rt.environment=this.environment.toJSON(c).uuid);else if(this.isMesh||this.isLine||this.isPoints){rt.geometry=it(c.geometries,this.geometry);const at=this.geometry.parameters;if(at!==void 0&&at.shapes!==void 0){const ot=at.shapes;if(Array.isArray(ot))for(let lt=0,ct=ot.length;lt<ct;lt++){const dt=ot[lt];it(c.shapes,dt)}else it(c.shapes,ot)}}if(this.isSkinnedMesh&&(rt.bindMode=this.bindMode,rt.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(it(c.skeletons,this.skeleton),rt.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const at=[];for(let ot=0,lt=this.material.length;ot<lt;ot++)at.push(it(c.materials,this.material[ot]));rt.material=at}else rt.material=it(c.materials,this.material);if(this.children.length>0){rt.children=[];for(let at=0;at<this.children.length;at++)rt.children.push(this.children[at].toJSON(c).object)}if(this.animations.length>0){rt.animations=[];for(let at=0;at<this.animations.length;at++){const ot=this.animations[at];rt.animations.push(it(c.animations,ot))}}if(tt){const at=st(c.geometries),ot=st(c.materials),lt=st(c.textures),ct=st(c.images),dt=st(c.shapes),ht=st(c.skeletons),mt=st(c.animations),gt=st(c.nodes);at.length>0&&(nt.geometries=at),ot.length>0&&(nt.materials=ot),lt.length>0&&(nt.textures=lt),ct.length>0&&(nt.images=ct),dt.length>0&&(nt.shapes=dt),ht.length>0&&(nt.skeletons=ht),mt.length>0&&(nt.animations=mt),gt.length>0&&(nt.nodes=gt)}return nt.object=rt,nt;function st(at){const ot=[];for(const lt in at){const ct=at[lt];delete ct.metadata,ot.push(ct)}return ot}}clone(c){return new this.constructor().copy(this,c)}copy(c,tt=!0){if(this.name=c.name,this.up.copy(c.up),this.position.copy(c.position),this.rotation.order=c.rotation.order,this.quaternion.copy(c.quaternion),this.scale.copy(c.scale),this.matrix.copy(c.matrix),this.matrixWorld.copy(c.matrixWorld),this.matrixAutoUpdate=c.matrixAutoUpdate,this.matrixWorldAutoUpdate=c.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=c.matrixWorldNeedsUpdate,this.layers.mask=c.layers.mask,this.visible=c.visible,this.castShadow=c.castShadow,this.receiveShadow=c.receiveShadow,this.frustumCulled=c.frustumCulled,this.renderOrder=c.renderOrder,this.animations=c.animations.slice(),this.userData=JSON.parse(JSON.stringify(c.userData)),tt===!0)for(let nt=0;nt<c.children.length;nt++){const rt=c.children[nt];this.add(rt.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$2=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(c=new Vector3,tt=new Vector3,nt=new Vector3){this.a=c,this.b=tt,this.c=nt}static getNormal(c,tt,nt,rt){rt.subVectors(nt,tt),_v0$2.subVectors(c,tt),rt.cross(_v0$2);const it=rt.lengthSq();return it>0?rt.multiplyScalar(1/Math.sqrt(it)):rt.set(0,0,0)}static getBarycoord(c,tt,nt,rt,it){_v0$2.subVectors(rt,tt),_v1$3.subVectors(nt,tt),_v2$2.subVectors(c,tt);const st=_v0$2.dot(_v0$2),at=_v0$2.dot(_v1$3),ot=_v0$2.dot(_v2$2),lt=_v1$3.dot(_v1$3),ct=_v1$3.dot(_v2$2),dt=st*lt-at*at;if(dt===0)return it.set(0,0,0),null;const ht=1/dt,mt=(lt*ot-at*ct)*ht,gt=(st*ct-at*ot)*ht;return it.set(1-mt-gt,gt,mt)}static containsPoint(c,tt,nt,rt){return this.getBarycoord(c,tt,nt,rt,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(c,tt,nt,rt,it,st,at,ot){return this.getBarycoord(c,tt,nt,rt,_v3$2)===null?(ot.x=0,ot.y=0,"z"in ot&&(ot.z=0),"w"in ot&&(ot.w=0),null):(ot.setScalar(0),ot.addScaledVector(it,_v3$2.x),ot.addScaledVector(st,_v3$2.y),ot.addScaledVector(at,_v3$2.z),ot)}static isFrontFacing(c,tt,nt,rt){return _v0$2.subVectors(nt,tt),_v1$3.subVectors(c,tt),_v0$2.cross(_v1$3).dot(rt)<0}set(c,tt,nt){return this.a.copy(c),this.b.copy(tt),this.c.copy(nt),this}setFromPointsAndIndices(c,tt,nt,rt){return this.a.copy(c[tt]),this.b.copy(c[nt]),this.c.copy(c[rt]),this}setFromAttributeAndIndices(c,tt,nt,rt){return this.a.fromBufferAttribute(c,tt),this.b.fromBufferAttribute(c,nt),this.c.fromBufferAttribute(c,rt),this}clone(){return new this.constructor().copy(this)}copy(c){return this.a.copy(c.a),this.b.copy(c.b),this.c.copy(c.c),this}getArea(){return _v0$2.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$2.cross(_v1$3).length()*.5}getMidpoint(c){return c.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(c){return Triangle.getNormal(this.a,this.b,this.c,c)}getPlane(c){return c.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(c,tt){return Triangle.getBarycoord(c,this.a,this.b,this.c,tt)}getInterpolation(c,tt,nt,rt,it){return Triangle.getInterpolation(c,this.a,this.b,this.c,tt,nt,rt,it)}containsPoint(c){return Triangle.containsPoint(c,this.a,this.b,this.c)}isFrontFacing(c){return Triangle.isFrontFacing(this.a,this.b,this.c,c)}intersectsBox(c){return c.intersectsTriangle(this)}closestPointToPoint(c,tt){const nt=this.a,rt=this.b,it=this.c;let st,at;_vab.subVectors(rt,nt),_vac.subVectors(it,nt),_vap.subVectors(c,nt);const ot=_vab.dot(_vap),lt=_vac.dot(_vap);if(ot<=0&&lt<=0)return tt.copy(nt);_vbp.subVectors(c,rt);const ct=_vab.dot(_vbp),dt=_vac.dot(_vbp);if(ct>=0&&dt<=ct)return tt.copy(rt);const ht=ot*dt-ct*lt;if(ht<=0&&ot>=0&&ct<=0)return st=ot/(ot-ct),tt.copy(nt).addScaledVector(_vab,st);_vcp.subVectors(c,it);const mt=_vab.dot(_vcp),gt=_vac.dot(_vcp);if(gt>=0&&mt<=gt)return tt.copy(it);const yt=mt*lt-ot*gt;if(yt<=0&&lt>=0&&gt<=0)return at=lt/(lt-gt),tt.copy(nt).addScaledVector(_vac,at);const _t=ct*gt-mt*dt;if(_t<=0&&dt-ct>=0&&mt-gt>=0)return _vbc.subVectors(it,rt),at=(dt-ct)/(dt-ct+(mt-gt)),tt.copy(rt).addScaledVector(_vbc,at);const pt=1/(_t+yt+ht);return st=yt*pt,at=ht*pt,tt.copy(nt).addScaledVector(_vab,st).addScaledVector(_vac,at)}equals(c){return c.a.equals(this.a)&&c.b.equals(this.b)&&c.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(et,c,tt){return tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?et+(c-et)*6*tt:tt<1/2?c:tt<2/3?et+(c-et)*6*(2/3-tt):et}class Color{constructor(c,tt,nt){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(c,tt,nt)}set(c,tt,nt){if(tt===void 0&&nt===void 0){const rt=c;rt&&rt.isColor?this.copy(rt):typeof rt=="number"?this.setHex(rt):typeof rt=="string"&&this.setStyle(rt)}else this.setRGB(c,tt,nt);return this}setScalar(c){return this.r=c,this.g=c,this.b=c,this}setHex(c,tt=SRGBColorSpace){return c=Math.floor(c),this.r=(c>>16&255)/255,this.g=(c>>8&255)/255,this.b=(c&255)/255,ColorManagement.toWorkingColorSpace(this,tt),this}setRGB(c,tt,nt,rt=ColorManagement.workingColorSpace){return this.r=c,this.g=tt,this.b=nt,ColorManagement.toWorkingColorSpace(this,rt),this}setHSL(c,tt,nt,rt=ColorManagement.workingColorSpace){if(c=euclideanModulo(c,1),tt=clamp(tt,0,1),nt=clamp(nt,0,1),tt===0)this.r=this.g=this.b=nt;else{const it=nt<=.5?nt*(1+tt):nt+tt-nt*tt,st=2*nt-it;this.r=hue2rgb(st,it,c+1/3),this.g=hue2rgb(st,it,c),this.b=hue2rgb(st,it,c-1/3)}return ColorManagement.toWorkingColorSpace(this,rt),this}setStyle(c,tt=SRGBColorSpace){function nt(it){it!==void 0&&parseFloat(it)<1&&console.warn("THREE.Color: Alpha component of "+c+" will be ignored.")}let rt;if(rt=/^(\w+)\(([^\)]*)\)/.exec(c)){let it;const st=rt[1],at=rt[2];switch(st){case"rgb":case"rgba":if(it=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(at))return nt(it[4]),this.setRGB(Math.min(255,parseInt(it[1],10))/255,Math.min(255,parseInt(it[2],10))/255,Math.min(255,parseInt(it[3],10))/255,tt);if(it=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(at))return nt(it[4]),this.setRGB(Math.min(100,parseInt(it[1],10))/100,Math.min(100,parseInt(it[2],10))/100,Math.min(100,parseInt(it[3],10))/100,tt);break;case"hsl":case"hsla":if(it=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(at))return nt(it[4]),this.setHSL(parseFloat(it[1])/360,parseFloat(it[2])/100,parseFloat(it[3])/100,tt);break;default:console.warn("THREE.Color: Unknown color model "+c)}}else if(rt=/^\#([A-Fa-f\d]+)$/.exec(c)){const it=rt[1],st=it.length;if(st===3)return this.setRGB(parseInt(it.charAt(0),16)/15,parseInt(it.charAt(1),16)/15,parseInt(it.charAt(2),16)/15,tt);if(st===6)return this.setHex(parseInt(it,16),tt);console.warn("THREE.Color: Invalid hex color "+c)}else if(c&&c.length>0)return this.setColorName(c,tt);return this}setColorName(c,tt=SRGBColorSpace){const nt=_colorKeywords[c.toLowerCase()];return nt!==void 0?this.setHex(nt,tt):console.warn("THREE.Color: Unknown color "+c),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(c){return this.r=c.r,this.g=c.g,this.b=c.b,this}copySRGBToLinear(c){return this.r=SRGBToLinear(c.r),this.g=SRGBToLinear(c.g),this.b=SRGBToLinear(c.b),this}copyLinearToSRGB(c){return this.r=LinearToSRGB(c.r),this.g=LinearToSRGB(c.g),this.b=LinearToSRGB(c.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(c=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),c),Math.round(clamp(_color.r*255,0,255))*65536+Math.round(clamp(_color.g*255,0,255))*256+Math.round(clamp(_color.b*255,0,255))}getHexString(c=SRGBColorSpace){return("000000"+this.getHex(c).toString(16)).slice(-6)}getHSL(c,tt=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),tt);const nt=_color.r,rt=_color.g,it=_color.b,st=Math.max(nt,rt,it),at=Math.min(nt,rt,it);let ot,lt;const ct=(at+st)/2;if(at===st)ot=0,lt=0;else{const dt=st-at;switch(lt=ct<=.5?dt/(st+at):dt/(2-st-at),st){case nt:ot=(rt-it)/dt+(rt<it?6:0);break;case rt:ot=(it-nt)/dt+2;break;case it:ot=(nt-rt)/dt+4;break}ot/=6}return c.h=ot,c.s=lt,c.l=ct,c}getRGB(c,tt=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),tt),c.r=_color.r,c.g=_color.g,c.b=_color.b,c}getStyle(c=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),c);const tt=_color.r,nt=_color.g,rt=_color.b;return c!==SRGBColorSpace?`color(${c} ${tt.toFixed(3)} ${nt.toFixed(3)} ${rt.toFixed(3)})`:`rgb(${Math.round(tt*255)},${Math.round(nt*255)},${Math.round(rt*255)})`}offsetHSL(c,tt,nt){return this.getHSL(_hslA),this.setHSL(_hslA.h+c,_hslA.s+tt,_hslA.l+nt)}add(c){return this.r+=c.r,this.g+=c.g,this.b+=c.b,this}addColors(c,tt){return this.r=c.r+tt.r,this.g=c.g+tt.g,this.b=c.b+tt.b,this}addScalar(c){return this.r+=c,this.g+=c,this.b+=c,this}sub(c){return this.r=Math.max(0,this.r-c.r),this.g=Math.max(0,this.g-c.g),this.b=Math.max(0,this.b-c.b),this}multiply(c){return this.r*=c.r,this.g*=c.g,this.b*=c.b,this}multiplyScalar(c){return this.r*=c,this.g*=c,this.b*=c,this}lerp(c,tt){return this.r+=(c.r-this.r)*tt,this.g+=(c.g-this.g)*tt,this.b+=(c.b-this.b)*tt,this}lerpColors(c,tt,nt){return this.r=c.r+(tt.r-c.r)*nt,this.g=c.g+(tt.g-c.g)*nt,this.b=c.b+(tt.b-c.b)*nt,this}lerpHSL(c,tt){this.getHSL(_hslA),c.getHSL(_hslB);const nt=lerp(_hslA.h,_hslB.h,tt),rt=lerp(_hslA.s,_hslB.s,tt),it=lerp(_hslA.l,_hslB.l,tt);return this.setHSL(nt,rt,it),this}setFromVector3(c){return this.r=c.x,this.g=c.y,this.b=c.z,this}applyMatrix3(c){const tt=this.r,nt=this.g,rt=this.b,it=c.elements;return this.r=it[0]*tt+it[3]*nt+it[6]*rt,this.g=it[1]*tt+it[4]*nt+it[7]*rt,this.b=it[2]*tt+it[5]*nt+it[8]*rt,this}equals(c){return c.r===this.r&&c.g===this.g&&c.b===this.b}fromArray(c,tt=0){return this.r=c[tt],this.g=c[tt+1],this.b=c[tt+2],this}toArray(c=[],tt=0){return c[tt]=this.r,c[tt+1]=this.g,c[tt+2]=this.b,c}fromBufferAttribute(c,tt){return this.r=c.getX(tt),this.g=c.getY(tt),this.b=c.getZ(tt),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher$1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(c){this._alphaTest>0!=c>0&&this.version++,this._alphaTest=c}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(c){if(c!==void 0)for(const tt in c){const nt=c[tt];if(nt===void 0){console.warn(`THREE.Material: parameter '${tt}' has value of undefined.`);continue}const rt=this[tt];if(rt===void 0){console.warn(`THREE.Material: '${tt}' is not a property of THREE.${this.type}.`);continue}rt&&rt.isColor?rt.set(nt):rt&&rt.isVector3&&nt&&nt.isVector3?rt.copy(nt):this[tt]=nt}}toJSON(c){const tt=c===void 0||typeof c=="string";tt&&(c={textures:{},images:{}});const nt={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};nt.uuid=this.uuid,nt.type=this.type,this.name!==""&&(nt.name=this.name),this.color&&this.color.isColor&&(nt.color=this.color.getHex()),this.roughness!==void 0&&(nt.roughness=this.roughness),this.metalness!==void 0&&(nt.metalness=this.metalness),this.sheen!==void 0&&(nt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(nt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(nt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(nt.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(nt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(nt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(nt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(nt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(nt.shininess=this.shininess),this.clearcoat!==void 0&&(nt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(nt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(nt.clearcoatMap=this.clearcoatMap.toJSON(c).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(nt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(c).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(nt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(c).uuid,nt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(nt.dispersion=this.dispersion),this.iridescence!==void 0&&(nt.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(nt.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(nt.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(nt.iridescenceMap=this.iridescenceMap.toJSON(c).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(nt.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(c).uuid),this.anisotropy!==void 0&&(nt.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(nt.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(nt.anisotropyMap=this.anisotropyMap.toJSON(c).uuid),this.map&&this.map.isTexture&&(nt.map=this.map.toJSON(c).uuid),this.matcap&&this.matcap.isTexture&&(nt.matcap=this.matcap.toJSON(c).uuid),this.alphaMap&&this.alphaMap.isTexture&&(nt.alphaMap=this.alphaMap.toJSON(c).uuid),this.lightMap&&this.lightMap.isTexture&&(nt.lightMap=this.lightMap.toJSON(c).uuid,nt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(nt.aoMap=this.aoMap.toJSON(c).uuid,nt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(nt.bumpMap=this.bumpMap.toJSON(c).uuid,nt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(nt.normalMap=this.normalMap.toJSON(c).uuid,nt.normalMapType=this.normalMapType,nt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(nt.displacementMap=this.displacementMap.toJSON(c).uuid,nt.displacementScale=this.displacementScale,nt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(nt.roughnessMap=this.roughnessMap.toJSON(c).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(nt.metalnessMap=this.metalnessMap.toJSON(c).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(nt.emissiveMap=this.emissiveMap.toJSON(c).uuid),this.specularMap&&this.specularMap.isTexture&&(nt.specularMap=this.specularMap.toJSON(c).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(nt.specularIntensityMap=this.specularIntensityMap.toJSON(c).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(nt.specularColorMap=this.specularColorMap.toJSON(c).uuid),this.envMap&&this.envMap.isTexture&&(nt.envMap=this.envMap.toJSON(c).uuid,this.combine!==void 0&&(nt.combine=this.combine)),this.envMapRotation!==void 0&&(nt.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(nt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(nt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(nt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(nt.gradientMap=this.gradientMap.toJSON(c).uuid),this.transmission!==void 0&&(nt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(nt.transmissionMap=this.transmissionMap.toJSON(c).uuid),this.thickness!==void 0&&(nt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(nt.thicknessMap=this.thicknessMap.toJSON(c).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(nt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(nt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(nt.size=this.size),this.shadowSide!==null&&(nt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(nt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(nt.blending=this.blending),this.side!==FrontSide&&(nt.side=this.side),this.vertexColors===!0&&(nt.vertexColors=!0),this.opacity<1&&(nt.opacity=this.opacity),this.transparent===!0&&(nt.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(nt.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(nt.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(nt.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(nt.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(nt.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(nt.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(nt.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(nt.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(nt.depthFunc=this.depthFunc),this.depthTest===!1&&(nt.depthTest=this.depthTest),this.depthWrite===!1&&(nt.depthWrite=this.depthWrite),this.colorWrite===!1&&(nt.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(nt.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(nt.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(nt.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(nt.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(nt.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(nt.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(nt.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(nt.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(nt.rotation=this.rotation),this.polygonOffset===!0&&(nt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(nt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(nt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(nt.linewidth=this.linewidth),this.dashSize!==void 0&&(nt.dashSize=this.dashSize),this.gapSize!==void 0&&(nt.gapSize=this.gapSize),this.scale!==void 0&&(nt.scale=this.scale),this.dithering===!0&&(nt.dithering=!0),this.alphaTest>0&&(nt.alphaTest=this.alphaTest),this.alphaHash===!0&&(nt.alphaHash=!0),this.alphaToCoverage===!0&&(nt.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(nt.premultipliedAlpha=!0),this.forceSinglePass===!0&&(nt.forceSinglePass=!0),this.wireframe===!0&&(nt.wireframe=!0),this.wireframeLinewidth>1&&(nt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(nt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(nt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(nt.flatShading=!0),this.visible===!1&&(nt.visible=!1),this.toneMapped===!1&&(nt.toneMapped=!1),this.fog===!1&&(nt.fog=!1),Object.keys(this.userData).length>0&&(nt.userData=this.userData);function rt(it){const st=[];for(const at in it){const ot=it[at];delete ot.metadata,st.push(ot)}return st}if(tt){const it=rt(c.textures),st=rt(c.images);it.length>0&&(nt.textures=it),st.length>0&&(nt.images=st)}return nt}clone(){return new this.constructor().copy(this)}copy(c){this.name=c.name,this.blending=c.blending,this.side=c.side,this.vertexColors=c.vertexColors,this.opacity=c.opacity,this.transparent=c.transparent,this.blendSrc=c.blendSrc,this.blendDst=c.blendDst,this.blendEquation=c.blendEquation,this.blendSrcAlpha=c.blendSrcAlpha,this.blendDstAlpha=c.blendDstAlpha,this.blendEquationAlpha=c.blendEquationAlpha,this.blendColor.copy(c.blendColor),this.blendAlpha=c.blendAlpha,this.depthFunc=c.depthFunc,this.depthTest=c.depthTest,this.depthWrite=c.depthWrite,this.stencilWriteMask=c.stencilWriteMask,this.stencilFunc=c.stencilFunc,this.stencilRef=c.stencilRef,this.stencilFuncMask=c.stencilFuncMask,this.stencilFail=c.stencilFail,this.stencilZFail=c.stencilZFail,this.stencilZPass=c.stencilZPass,this.stencilWrite=c.stencilWrite;const tt=c.clippingPlanes;let nt=null;if(tt!==null){const rt=tt.length;nt=new Array(rt);for(let it=0;it!==rt;++it)nt[it]=tt[it].clone()}return this.clippingPlanes=nt,this.clipIntersection=c.clipIntersection,this.clipShadows=c.clipShadows,this.shadowSide=c.shadowSide,this.colorWrite=c.colorWrite,this.precision=c.precision,this.polygonOffset=c.polygonOffset,this.polygonOffsetFactor=c.polygonOffsetFactor,this.polygonOffsetUnits=c.polygonOffsetUnits,this.dithering=c.dithering,this.alphaTest=c.alphaTest,this.alphaHash=c.alphaHash,this.alphaToCoverage=c.alphaToCoverage,this.premultipliedAlpha=c.premultipliedAlpha,this.forceSinglePass=c.forceSinglePass,this.visible=c.visible,this.toneMapped=c.toneMapped,this.userData=JSON.parse(JSON.stringify(c.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(c){c===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class MeshBasicMaterial extends Material{constructor(c){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(c)}copy(c){return super.copy(c),this.color.copy(c.color),this.map=c.map,this.lightMap=c.lightMap,this.lightMapIntensity=c.lightMapIntensity,this.aoMap=c.aoMap,this.aoMapIntensity=c.aoMapIntensity,this.specularMap=c.specularMap,this.alphaMap=c.alphaMap,this.envMap=c.envMap,this.envMapRotation.copy(c.envMapRotation),this.combine=c.combine,this.reflectivity=c.reflectivity,this.refractionRatio=c.refractionRatio,this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this.wireframeLinecap=c.wireframeLinecap,this.wireframeLinejoin=c.wireframeLinejoin,this.fog=c.fog,this}}const _tables=_generateTables();function _generateTables(){const et=new ArrayBuffer(4),c=new Float32Array(et),tt=new Uint32Array(et),nt=new Uint32Array(512),rt=new Uint32Array(512);for(let ot=0;ot<256;++ot){const lt=ot-127;lt<-27?(nt[ot]=0,nt[ot|256]=32768,rt[ot]=24,rt[ot|256]=24):lt<-14?(nt[ot]=1024>>-lt-14,nt[ot|256]=1024>>-lt-14|32768,rt[ot]=-lt-1,rt[ot|256]=-lt-1):lt<=15?(nt[ot]=lt+15<<10,nt[ot|256]=lt+15<<10|32768,rt[ot]=13,rt[ot|256]=13):lt<128?(nt[ot]=31744,nt[ot|256]=64512,rt[ot]=24,rt[ot|256]=24):(nt[ot]=31744,nt[ot|256]=64512,rt[ot]=13,rt[ot|256]=13)}const it=new Uint32Array(2048),st=new Uint32Array(64),at=new Uint32Array(64);for(let ot=1;ot<1024;++ot){let lt=ot<<13,ct=0;for(;!(lt&8388608);)lt<<=1,ct-=8388608;lt&=-8388609,ct+=947912704,it[ot]=lt|ct}for(let ot=1024;ot<2048;++ot)it[ot]=939524096+(ot-1024<<13);for(let ot=1;ot<31;++ot)st[ot]=ot<<23;st[31]=1199570944,st[32]=2147483648;for(let ot=33;ot<63;++ot)st[ot]=2147483648+(ot-32<<23);st[63]=3347054592;for(let ot=1;ot<64;++ot)ot!==32&&(at[ot]=1024);return{floatView:c,uint32View:tt,baseTable:nt,shiftTable:rt,mantissaTable:it,exponentTable:st,offsetTable:at}}function toHalfFloat(et){Math.abs(et)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),et=clamp(et,-65504,65504),_tables.floatView[0]=et;const c=_tables.uint32View[0],tt=c>>23&511;return _tables.baseTable[tt]+((c&8388607)>>_tables.shiftTable[tt])}function fromHalfFloat(et){const c=et>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[c]+(et&1023)]+_tables.exponentTable[c],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat},_vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(c,tt,nt=!1){if(Array.isArray(c))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=c,this.itemSize=tt,this.count=c!==void 0?c.length/tt:0,this.normalized=nt,this.usage=StaticDrawUsage,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(c){c===!0&&this.version++}get updateRange(){return warnOnce("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(c){return this.usage=c,this}addUpdateRange(c,tt){this.updateRanges.push({start:c,count:tt})}clearUpdateRanges(){this.updateRanges.length=0}copy(c){return this.name=c.name,this.array=new c.array.constructor(c.array),this.itemSize=c.itemSize,this.count=c.count,this.normalized=c.normalized,this.usage=c.usage,this.gpuType=c.gpuType,this}copyAt(c,tt,nt){c*=this.itemSize,nt*=tt.itemSize;for(let rt=0,it=this.itemSize;rt<it;rt++)this.array[c+rt]=tt.array[nt+rt];return this}copyArray(c){return this.array.set(c),this}applyMatrix3(c){if(this.itemSize===2)for(let tt=0,nt=this.count;tt<nt;tt++)_vector2$1.fromBufferAttribute(this,tt),_vector2$1.applyMatrix3(c),this.setXY(tt,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let tt=0,nt=this.count;tt<nt;tt++)_vector$9.fromBufferAttribute(this,tt),_vector$9.applyMatrix3(c),this.setXYZ(tt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(c){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$9.fromBufferAttribute(this,tt),_vector$9.applyMatrix4(c),this.setXYZ(tt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(c){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$9.fromBufferAttribute(this,tt),_vector$9.applyNormalMatrix(c),this.setXYZ(tt,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(c){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$9.fromBufferAttribute(this,tt),_vector$9.transformDirection(c),this.setXYZ(tt,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(c,tt=0){return this.array.set(c,tt),this}getComponent(c,tt){let nt=this.array[c*this.itemSize+tt];return this.normalized&&(nt=denormalize(nt,this.array)),nt}setComponent(c,tt,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.array[c*this.itemSize+tt]=nt,this}getX(c){let tt=this.array[c*this.itemSize];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setX(c,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[c*this.itemSize]=tt,this}getY(c){let tt=this.array[c*this.itemSize+1];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setY(c,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[c*this.itemSize+1]=tt,this}getZ(c){let tt=this.array[c*this.itemSize+2];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setZ(c,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[c*this.itemSize+2]=tt,this}getW(c){let tt=this.array[c*this.itemSize+3];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setW(c,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[c*this.itemSize+3]=tt,this}setXY(c,tt,nt){return c*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array)),this.array[c+0]=tt,this.array[c+1]=nt,this}setXYZ(c,tt,nt,rt){return c*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array),rt=normalize(rt,this.array)),this.array[c+0]=tt,this.array[c+1]=nt,this.array[c+2]=rt,this}setXYZW(c,tt,nt,rt,it){return c*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array),rt=normalize(rt,this.array),it=normalize(it,this.array)),this.array[c+0]=tt,this.array[c+1]=nt,this.array[c+2]=rt,this.array[c+3]=it,this}onUpload(c){return this.onUploadCallback=c,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const c={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(c.name=this.name),this.usage!==StaticDrawUsage&&(c.usage=this.usage),c}}class Int8BufferAttribute extends BufferAttribute{constructor(c,tt,nt){super(new Int8Array(c),tt,nt)}}class Uint8BufferAttribute extends BufferAttribute{constructor(c,tt,nt){super(new Uint8Array(c),tt,nt)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(c,tt,nt){super(new Uint8ClampedArray(c),tt,nt)}}class Int16BufferAttribute extends BufferAttribute{constructor(c,tt,nt){super(new Int16Array(c),tt,nt)}}class Uint16BufferAttribute extends BufferAttribute{constructor(c,tt,nt){super(new Uint16Array(c),tt,nt)}}class Int32BufferAttribute extends BufferAttribute{constructor(c,tt,nt){super(new Int32Array(c),tt,nt)}}class Uint32BufferAttribute extends BufferAttribute{constructor(c,tt,nt){super(new Uint32Array(c),tt,nt)}}class Float16BufferAttribute extends BufferAttribute{constructor(c,tt,nt){super(new Uint16Array(c),tt,nt),this.isFloat16BufferAttribute=!0}getX(c){let tt=fromHalfFloat(this.array[c*this.itemSize]);return this.normalized&&(tt=denormalize(tt,this.array)),tt}setX(c,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[c*this.itemSize]=toHalfFloat(tt),this}getY(c){let tt=fromHalfFloat(this.array[c*this.itemSize+1]);return this.normalized&&(tt=denormalize(tt,this.array)),tt}setY(c,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[c*this.itemSize+1]=toHalfFloat(tt),this}getZ(c){let tt=fromHalfFloat(this.array[c*this.itemSize+2]);return this.normalized&&(tt=denormalize(tt,this.array)),tt}setZ(c,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[c*this.itemSize+2]=toHalfFloat(tt),this}getW(c){let tt=fromHalfFloat(this.array[c*this.itemSize+3]);return this.normalized&&(tt=denormalize(tt,this.array)),tt}setW(c,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[c*this.itemSize+3]=toHalfFloat(tt),this}setXY(c,tt,nt){return c*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array)),this.array[c+0]=toHalfFloat(tt),this.array[c+1]=toHalfFloat(nt),this}setXYZ(c,tt,nt,rt){return c*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array),rt=normalize(rt,this.array)),this.array[c+0]=toHalfFloat(tt),this.array[c+1]=toHalfFloat(nt),this.array[c+2]=toHalfFloat(rt),this}setXYZW(c,tt,nt,rt,it){return c*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array),rt=normalize(rt,this.array),it=normalize(it,this.array)),this.array[c+0]=toHalfFloat(tt),this.array[c+1]=toHalfFloat(nt),this.array[c+2]=toHalfFloat(rt),this.array[c+3]=toHalfFloat(it),this}}class Float32BufferAttribute extends BufferAttribute{constructor(c,tt,nt){super(new Float32Array(c),tt,nt)}}let _id$2=0;const _m1$2=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher$1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(c){return Array.isArray(c)?this.index=new(arrayNeedsUint32(c)?Uint32BufferAttribute:Uint16BufferAttribute)(c,1):this.index=c,this}getAttribute(c){return this.attributes[c]}setAttribute(c,tt){return this.attributes[c]=tt,this}deleteAttribute(c){return delete this.attributes[c],this}hasAttribute(c){return this.attributes[c]!==void 0}addGroup(c,tt,nt=0){this.groups.push({start:c,count:tt,materialIndex:nt})}clearGroups(){this.groups=[]}setDrawRange(c,tt){this.drawRange.start=c,this.drawRange.count=tt}applyMatrix4(c){const tt=this.attributes.position;tt!==void 0&&(tt.applyMatrix4(c),tt.needsUpdate=!0);const nt=this.attributes.normal;if(nt!==void 0){const it=new Matrix3().getNormalMatrix(c);nt.applyNormalMatrix(it),nt.needsUpdate=!0}const rt=this.attributes.tangent;return rt!==void 0&&(rt.transformDirection(c),rt.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(c){return _m1$2.makeRotationFromQuaternion(c),this.applyMatrix4(_m1$2),this}rotateX(c){return _m1$2.makeRotationX(c),this.applyMatrix4(_m1$2),this}rotateY(c){return _m1$2.makeRotationY(c),this.applyMatrix4(_m1$2),this}rotateZ(c){return _m1$2.makeRotationZ(c),this.applyMatrix4(_m1$2),this}translate(c,tt,nt){return _m1$2.makeTranslation(c,tt,nt),this.applyMatrix4(_m1$2),this}scale(c,tt,nt){return _m1$2.makeScale(c,tt,nt),this.applyMatrix4(_m1$2),this}lookAt(c){return _obj.lookAt(c),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(c){const tt=[];for(let nt=0,rt=c.length;nt<rt;nt++){const it=c[nt];tt.push(it.x,it.y,it.z||0)}return this.setAttribute("position",new Float32BufferAttribute(tt,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const c=this.attributes.position,tt=this.morphAttributes.position;if(c&&c.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(c!==void 0){if(this.boundingBox.setFromBufferAttribute(c),tt)for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];_box$2.setFromBufferAttribute(it),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1);const c=this.attributes.position,tt=this.morphAttributes.position;if(c&&c.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(c){const nt=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(c),tt)for(let it=0,st=tt.length;it<st;it++){const at=tt[it];_boxMorphTargets.setFromBufferAttribute(at),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(nt);let rt=0;for(let it=0,st=c.count;it<st;it++)_vector$8.fromBufferAttribute(c,it),rt=Math.max(rt,nt.distanceToSquared(_vector$8));if(tt)for(let it=0,st=tt.length;it<st;it++){const at=tt[it],ot=this.morphTargetsRelative;for(let lt=0,ct=at.count;lt<ct;lt++)_vector$8.fromBufferAttribute(at,lt),ot&&(_offset.fromBufferAttribute(c,lt),_vector$8.add(_offset)),rt=Math.max(rt,nt.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(rt),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const c=this.index,tt=this.attributes;if(c===null||tt.position===void 0||tt.normal===void 0||tt.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const nt=tt.position,rt=tt.normal,it=tt.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*nt.count),4));const st=this.getAttribute("tangent"),at=[],ot=[];for(let Rt=0;Rt<nt.count;Rt++)at[Rt]=new Vector3,ot[Rt]=new Vector3;const lt=new Vector3,ct=new Vector3,dt=new Vector3,ht=new Vector2,mt=new Vector2,gt=new Vector2,yt=new Vector3,_t=new Vector3;function pt(Rt,Lt,It){lt.fromBufferAttribute(nt,Rt),ct.fromBufferAttribute(nt,Lt),dt.fromBufferAttribute(nt,It),ht.fromBufferAttribute(it,Rt),mt.fromBufferAttribute(it,Lt),gt.fromBufferAttribute(it,It),ct.sub(lt),dt.sub(lt),mt.sub(ht),gt.sub(ht);const Nt=1/(mt.x*gt.y-gt.x*mt.y);isFinite(Nt)&&(yt.copy(ct).multiplyScalar(gt.y).addScaledVector(dt,-mt.y).multiplyScalar(Nt),_t.copy(dt).multiplyScalar(mt.x).addScaledVector(ct,-gt.x).multiplyScalar(Nt),at[Rt].add(yt),at[Lt].add(yt),at[It].add(yt),ot[Rt].add(_t),ot[Lt].add(_t),ot[It].add(_t))}let xt=this.groups;xt.length===0&&(xt=[{start:0,count:c.count}]);for(let Rt=0,Lt=xt.length;Rt<Lt;++Rt){const It=xt[Rt],Nt=It.start,zt=It.count;for(let Wt=Nt,Yt=Nt+zt;Wt<Yt;Wt+=3)pt(c.getX(Wt+0),c.getX(Wt+1),c.getX(Wt+2))}const vt=new Vector3,St=new Vector3,wt=new Vector3,Mt=new Vector3;function Ct(Rt){wt.fromBufferAttribute(rt,Rt),Mt.copy(wt);const Lt=at[Rt];vt.copy(Lt),vt.sub(wt.multiplyScalar(wt.dot(Lt))).normalize(),St.crossVectors(Mt,Lt);const Nt=St.dot(ot[Rt])<0?-1:1;st.setXYZW(Rt,vt.x,vt.y,vt.z,Nt)}for(let Rt=0,Lt=xt.length;Rt<Lt;++Rt){const It=xt[Rt],Nt=It.start,zt=It.count;for(let Wt=Nt,Yt=Nt+zt;Wt<Yt;Wt+=3)Ct(c.getX(Wt+0)),Ct(c.getX(Wt+1)),Ct(c.getX(Wt+2))}}computeVertexNormals(){const c=this.index,tt=this.getAttribute("position");if(tt!==void 0){let nt=this.getAttribute("normal");if(nt===void 0)nt=new BufferAttribute(new Float32Array(tt.count*3),3),this.setAttribute("normal",nt);else for(let ht=0,mt=nt.count;ht<mt;ht++)nt.setXYZ(ht,0,0,0);const rt=new Vector3,it=new Vector3,st=new Vector3,at=new Vector3,ot=new Vector3,lt=new Vector3,ct=new Vector3,dt=new Vector3;if(c)for(let ht=0,mt=c.count;ht<mt;ht+=3){const gt=c.getX(ht+0),yt=c.getX(ht+1),_t=c.getX(ht+2);rt.fromBufferAttribute(tt,gt),it.fromBufferAttribute(tt,yt),st.fromBufferAttribute(tt,_t),ct.subVectors(st,it),dt.subVectors(rt,it),ct.cross(dt),at.fromBufferAttribute(nt,gt),ot.fromBufferAttribute(nt,yt),lt.fromBufferAttribute(nt,_t),at.add(ct),ot.add(ct),lt.add(ct),nt.setXYZ(gt,at.x,at.y,at.z),nt.setXYZ(yt,ot.x,ot.y,ot.z),nt.setXYZ(_t,lt.x,lt.y,lt.z)}else for(let ht=0,mt=tt.count;ht<mt;ht+=3)rt.fromBufferAttribute(tt,ht+0),it.fromBufferAttribute(tt,ht+1),st.fromBufferAttribute(tt,ht+2),ct.subVectors(st,it),dt.subVectors(rt,it),ct.cross(dt),nt.setXYZ(ht+0,ct.x,ct.y,ct.z),nt.setXYZ(ht+1,ct.x,ct.y,ct.z),nt.setXYZ(ht+2,ct.x,ct.y,ct.z);this.normalizeNormals(),nt.needsUpdate=!0}}normalizeNormals(){const c=this.attributes.normal;for(let tt=0,nt=c.count;tt<nt;tt++)_vector$8.fromBufferAttribute(c,tt),_vector$8.normalize(),c.setXYZ(tt,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function c(at,ot){const lt=at.array,ct=at.itemSize,dt=at.normalized,ht=new lt.constructor(ot.length*ct);let mt=0,gt=0;for(let yt=0,_t=ot.length;yt<_t;yt++){at.isInterleavedBufferAttribute?mt=ot[yt]*at.data.stride+at.offset:mt=ot[yt]*ct;for(let pt=0;pt<ct;pt++)ht[gt++]=lt[mt++]}return new BufferAttribute(ht,ct,dt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const tt=new BufferGeometry,nt=this.index.array,rt=this.attributes;for(const at in rt){const ot=rt[at],lt=c(ot,nt);tt.setAttribute(at,lt)}const it=this.morphAttributes;for(const at in it){const ot=[],lt=it[at];for(let ct=0,dt=lt.length;ct<dt;ct++){const ht=lt[ct],mt=c(ht,nt);ot.push(mt)}tt.morphAttributes[at]=ot}tt.morphTargetsRelative=this.morphTargetsRelative;const st=this.groups;for(let at=0,ot=st.length;at<ot;at++){const lt=st[at];tt.addGroup(lt.start,lt.count,lt.materialIndex)}return tt}toJSON(){const c={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(c.uuid=this.uuid,c.type=this.type,this.name!==""&&(c.name=this.name),Object.keys(this.userData).length>0&&(c.userData=this.userData),this.parameters!==void 0){const ot=this.parameters;for(const lt in ot)ot[lt]!==void 0&&(c[lt]=ot[lt]);return c}c.data={attributes:{}};const tt=this.index;tt!==null&&(c.data.index={type:tt.array.constructor.name,array:Array.prototype.slice.call(tt.array)});const nt=this.attributes;for(const ot in nt){const lt=nt[ot];c.data.attributes[ot]=lt.toJSON(c.data)}const rt={};let it=!1;for(const ot in this.morphAttributes){const lt=this.morphAttributes[ot],ct=[];for(let dt=0,ht=lt.length;dt<ht;dt++){const mt=lt[dt];ct.push(mt.toJSON(c.data))}ct.length>0&&(rt[ot]=ct,it=!0)}it&&(c.data.morphAttributes=rt,c.data.morphTargetsRelative=this.morphTargetsRelative);const st=this.groups;st.length>0&&(c.data.groups=JSON.parse(JSON.stringify(st)));const at=this.boundingSphere;return at!==null&&(c.data.boundingSphere={center:at.center.toArray(),radius:at.radius}),c}clone(){return new this.constructor().copy(this)}copy(c){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const tt={};this.name=c.name;const nt=c.index;nt!==null&&this.setIndex(nt.clone(tt));const rt=c.attributes;for(const lt in rt){const ct=rt[lt];this.setAttribute(lt,ct.clone(tt))}const it=c.morphAttributes;for(const lt in it){const ct=[],dt=it[lt];for(let ht=0,mt=dt.length;ht<mt;ht++)ct.push(dt[ht].clone(tt));this.morphAttributes[lt]=ct}this.morphTargetsRelative=c.morphTargetsRelative;const st=c.groups;for(let lt=0,ct=st.length;lt<ct;lt++){const dt=st[lt];this.addGroup(dt.start,dt.count,dt.materialIndex)}const at=c.boundingBox;at!==null&&(this.boundingBox=at.clone());const ot=c.boundingSphere;return ot!==null&&(this.boundingSphere=ot.clone()),this.drawRange.start=c.drawRange.start,this.drawRange.count=c.drawRange.count,this.userData=c.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere$1,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_normalA=new Vector3,_normalB=new Vector3,_normalC=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(c=new BufferGeometry,tt=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=c,this.material=tt,this.updateMorphTargets()}copy(c,tt){return super.copy(c,tt),c.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=c.morphTargetInfluences.slice()),c.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},c.morphTargetDictionary)),this.material=Array.isArray(c.material)?c.material.slice():c.material,this.geometry=c.geometry,this}updateMorphTargets(){const tt=this.geometry.morphAttributes,nt=Object.keys(tt);if(nt.length>0){const rt=tt[nt[0]];if(rt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let it=0,st=rt.length;it<st;it++){const at=rt[it].name||String(it);this.morphTargetInfluences.push(0),this.morphTargetDictionary[at]=it}}}}getVertexPosition(c,tt){const nt=this.geometry,rt=nt.attributes.position,it=nt.morphAttributes.position,st=nt.morphTargetsRelative;tt.fromBufferAttribute(rt,c);const at=this.morphTargetInfluences;if(it&&at){_morphA.set(0,0,0);for(let ot=0,lt=it.length;ot<lt;ot++){const ct=at[ot],dt=it[ot];ct!==0&&(_tempA.fromBufferAttribute(dt,c),st?_morphA.addScaledVector(_tempA,ct):_morphA.addScaledVector(_tempA.sub(tt),ct))}tt.add(_morphA)}return tt}raycast(c,tt){const nt=this.geometry,rt=this.material,it=this.matrixWorld;rt!==void 0&&(nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere$6.copy(nt.boundingSphere),_sphere$6.applyMatrix4(it),_ray$3.copy(c.ray).recast(c.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(c.far-c.near)**2))&&(_inverseMatrix$3.copy(it).invert(),_ray$3.copy(c.ray).applyMatrix4(_inverseMatrix$3),!(nt.boundingBox!==null&&_ray$3.intersectsBox(nt.boundingBox)===!1)&&this._computeIntersections(c,tt,_ray$3)))}_computeIntersections(c,tt,nt){let rt;const it=this.geometry,st=this.material,at=it.index,ot=it.attributes.position,lt=it.attributes.uv,ct=it.attributes.uv1,dt=it.attributes.normal,ht=it.groups,mt=it.drawRange;if(at!==null)if(Array.isArray(st))for(let gt=0,yt=ht.length;gt<yt;gt++){const _t=ht[gt],pt=st[_t.materialIndex],xt=Math.max(_t.start,mt.start),vt=Math.min(at.count,Math.min(_t.start+_t.count,mt.start+mt.count));for(let St=xt,wt=vt;St<wt;St+=3){const Mt=at.getX(St),Ct=at.getX(St+1),Rt=at.getX(St+2);rt=checkGeometryIntersection(this,pt,c,nt,lt,ct,dt,Mt,Ct,Rt),rt&&(rt.faceIndex=Math.floor(St/3),rt.face.materialIndex=_t.materialIndex,tt.push(rt))}}else{const gt=Math.max(0,mt.start),yt=Math.min(at.count,mt.start+mt.count);for(let _t=gt,pt=yt;_t<pt;_t+=3){const xt=at.getX(_t),vt=at.getX(_t+1),St=at.getX(_t+2);rt=checkGeometryIntersection(this,st,c,nt,lt,ct,dt,xt,vt,St),rt&&(rt.faceIndex=Math.floor(_t/3),tt.push(rt))}}else if(ot!==void 0)if(Array.isArray(st))for(let gt=0,yt=ht.length;gt<yt;gt++){const _t=ht[gt],pt=st[_t.materialIndex],xt=Math.max(_t.start,mt.start),vt=Math.min(ot.count,Math.min(_t.start+_t.count,mt.start+mt.count));for(let St=xt,wt=vt;St<wt;St+=3){const Mt=St,Ct=St+1,Rt=St+2;rt=checkGeometryIntersection(this,pt,c,nt,lt,ct,dt,Mt,Ct,Rt),rt&&(rt.faceIndex=Math.floor(St/3),rt.face.materialIndex=_t.materialIndex,tt.push(rt))}}else{const gt=Math.max(0,mt.start),yt=Math.min(ot.count,mt.start+mt.count);for(let _t=gt,pt=yt;_t<pt;_t+=3){const xt=_t,vt=_t+1,St=_t+2;rt=checkGeometryIntersection(this,st,c,nt,lt,ct,dt,xt,vt,St),rt&&(rt.faceIndex=Math.floor(_t/3),tt.push(rt))}}}}function checkIntersection$1(et,c,tt,nt,rt,it,st,at){let ot;if(c.side===BackSide?ot=nt.intersectTriangle(st,it,rt,!0,at):ot=nt.intersectTriangle(rt,it,st,c.side===FrontSide,at),ot===null)return null;_intersectionPointWorld.copy(at),_intersectionPointWorld.applyMatrix4(et.matrixWorld);const lt=tt.ray.origin.distanceTo(_intersectionPointWorld);return lt<tt.near||lt>tt.far?null:{distance:lt,point:_intersectionPointWorld.clone(),object:et}}function checkGeometryIntersection(et,c,tt,nt,rt,it,st,at,ot,lt){et.getVertexPosition(at,_vA$1),et.getVertexPosition(ot,_vB$1),et.getVertexPosition(lt,_vC$1);const ct=checkIntersection$1(et,c,tt,nt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(ct){rt&&(_uvA$1.fromBufferAttribute(rt,at),_uvB$1.fromBufferAttribute(rt,ot),_uvC$1.fromBufferAttribute(rt,lt),ct.uv=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),it&&(_uvA$1.fromBufferAttribute(it,at),_uvB$1.fromBufferAttribute(it,ot),_uvC$1.fromBufferAttribute(it,lt),ct.uv1=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),st&&(_normalA.fromBufferAttribute(st,at),_normalB.fromBufferAttribute(st,ot),_normalC.fromBufferAttribute(st,lt),ct.normal=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_normalA,_normalB,_normalC,new Vector3),ct.normal.dot(nt.direction)>0&&ct.normal.multiplyScalar(-1));const dt={a:at,b:ot,c:lt,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,dt.normal),ct.face=dt}return ct}class BoxGeometry extends BufferGeometry{constructor(c=1,tt=1,nt=1,rt=1,it=1,st=1){super(),this.type="BoxGeometry",this.parameters={width:c,height:tt,depth:nt,widthSegments:rt,heightSegments:it,depthSegments:st};const at=this;rt=Math.floor(rt),it=Math.floor(it),st=Math.floor(st);const ot=[],lt=[],ct=[],dt=[];let ht=0,mt=0;gt("z","y","x",-1,-1,nt,tt,c,st,it,0),gt("z","y","x",1,-1,nt,tt,-c,st,it,1),gt("x","z","y",1,1,c,nt,tt,rt,st,2),gt("x","z","y",1,-1,c,nt,-tt,rt,st,3),gt("x","y","z",1,-1,c,tt,nt,rt,it,4),gt("x","y","z",-1,-1,c,tt,-nt,rt,it,5),this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(lt,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(dt,2));function gt(yt,_t,pt,xt,vt,St,wt,Mt,Ct,Rt,Lt){const It=St/Ct,Nt=wt/Rt,zt=St/2,Wt=wt/2,Yt=Mt/2,Xt=Ct+1,Ft=Rt+1;let Ut=0,At=0;const kt=new Vector3;for(let Ot=0;Ot<Ft;Ot++){const Bt=Ot*Nt-Wt;for(let Qt=0;Qt<Xt;Qt++){const an=Qt*It-zt;kt[yt]=an*xt,kt[_t]=Bt*vt,kt[pt]=Yt,lt.push(kt.x,kt.y,kt.z),kt[yt]=0,kt[_t]=0,kt[pt]=Mt>0?1:-1,ct.push(kt.x,kt.y,kt.z),dt.push(Qt/Ct),dt.push(1-Ot/Rt),Ut+=1}}for(let Ot=0;Ot<Rt;Ot++)for(let Bt=0;Bt<Ct;Bt++){const Qt=ht+Bt+Xt*Ot,an=ht+Bt+Xt*(Ot+1),Kt=ht+(Bt+1)+Xt*(Ot+1),ln=ht+(Bt+1)+Xt*Ot;ot.push(Qt,an,ln),ot.push(an,Kt,ln),At+=6}at.addGroup(mt,At,Lt),mt+=At,ht+=Ut}}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}static fromJSON(c){return new BoxGeometry(c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments)}}function cloneUniforms(et){const c={};for(const tt in et){c[tt]={};for(const nt in et[tt]){const rt=et[tt][nt];rt&&(rt.isColor||rt.isMatrix3||rt.isMatrix4||rt.isVector2||rt.isVector3||rt.isVector4||rt.isTexture||rt.isQuaternion)?rt.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),c[tt][nt]=null):c[tt][nt]=rt.clone():Array.isArray(rt)?c[tt][nt]=rt.slice():c[tt][nt]=rt}}return c}function mergeUniforms(et){const c={};for(let tt=0;tt<et.length;tt++){const nt=cloneUniforms(et[tt]);for(const rt in nt)c[rt]=nt[rt]}return c}function cloneUniformsGroups(et){const c=[];for(let tt=0;tt<et.length;tt++)c.push(et[tt].clone());return c}function getUnlitUniformColorSpace(et){const c=et.getRenderTarget();return c===null?et.outputColorSpace:c.isXRRenderTarget===!0?c.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(c){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,c!==void 0&&this.setValues(c)}copy(c){return super.copy(c),this.fragmentShader=c.fragmentShader,this.vertexShader=c.vertexShader,this.uniforms=cloneUniforms(c.uniforms),this.uniformsGroups=cloneUniformsGroups(c.uniformsGroups),this.defines=Object.assign({},c.defines),this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this.fog=c.fog,this.lights=c.lights,this.clipping=c.clipping,this.extensions=Object.assign({},c.extensions),this.glslVersion=c.glslVersion,this}toJSON(c){const tt=super.toJSON(c);tt.glslVersion=this.glslVersion,tt.uniforms={};for(const rt in this.uniforms){const st=this.uniforms[rt].value;st&&st.isTexture?tt.uniforms[rt]={type:"t",value:st.toJSON(c).uuid}:st&&st.isColor?tt.uniforms[rt]={type:"c",value:st.getHex()}:st&&st.isVector2?tt.uniforms[rt]={type:"v2",value:st.toArray()}:st&&st.isVector3?tt.uniforms[rt]={type:"v3",value:st.toArray()}:st&&st.isVector4?tt.uniforms[rt]={type:"v4",value:st.toArray()}:st&&st.isMatrix3?tt.uniforms[rt]={type:"m3",value:st.toArray()}:st&&st.isMatrix4?tt.uniforms[rt]={type:"m4",value:st.toArray()}:tt.uniforms[rt]={value:st}}Object.keys(this.defines).length>0&&(tt.defines=this.defines),tt.vertexShader=this.vertexShader,tt.fragmentShader=this.fragmentShader,tt.lights=this.lights,tt.clipping=this.clipping;const nt={};for(const rt in this.extensions)this.extensions[rt]===!0&&(nt[rt]=!0);return Object.keys(nt).length>0&&(tt.extensions=nt),tt}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(c,tt){return super.copy(c,tt),this.matrixWorldInverse.copy(c.matrixWorldInverse),this.projectionMatrix.copy(c.projectionMatrix),this.projectionMatrixInverse.copy(c.projectionMatrixInverse),this.coordinateSystem=c.coordinateSystem,this}getWorldDirection(c){return super.getWorldDirection(c).negate()}updateMatrixWorld(c){super.updateMatrixWorld(c),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(c,tt){super.updateWorldMatrix(c,tt),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor(c=50,tt=1,nt=.1,rt=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=c,this.zoom=1,this.near=nt,this.far=rt,this.focus=10,this.aspect=tt,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(c,tt){return super.copy(c,tt),this.fov=c.fov,this.zoom=c.zoom,this.near=c.near,this.far=c.far,this.focus=c.focus,this.aspect=c.aspect,this.view=c.view===null?null:Object.assign({},c.view),this.filmGauge=c.filmGauge,this.filmOffset=c.filmOffset,this}setFocalLength(c){const tt=.5*this.getFilmHeight()/c;this.fov=RAD2DEG*2*Math.atan(tt),this.updateProjectionMatrix()}getFocalLength(){const c=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/c}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(c,tt,nt){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),tt.set(_v3$1.x,_v3$1.y).multiplyScalar(-c/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),nt.set(_v3$1.x,_v3$1.y).multiplyScalar(-c/_v3$1.z)}getViewSize(c,tt){return this.getViewBounds(c,_minTarget,_maxTarget),tt.subVectors(_maxTarget,_minTarget)}setViewOffset(c,tt,nt,rt,it,st){this.aspect=c/tt,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=c,this.view.fullHeight=tt,this.view.offsetX=nt,this.view.offsetY=rt,this.view.width=it,this.view.height=st,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const c=this.near;let tt=c*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,nt=2*tt,rt=this.aspect*nt,it=-.5*rt;const st=this.view;if(this.view!==null&&this.view.enabled){const ot=st.fullWidth,lt=st.fullHeight;it+=st.offsetX*rt/ot,tt-=st.offsetY*nt/lt,rt*=st.width/ot,nt*=st.height/lt}const at=this.filmOffset;at!==0&&(it+=c*at/this.getFilmWidth()),this.projectionMatrix.makePerspective(it,it+rt,tt,tt-nt,c,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(c){const tt=super.toJSON(c);return tt.object.fov=this.fov,tt.object.zoom=this.zoom,tt.object.near=this.near,tt.object.far=this.far,tt.object.focus=this.focus,tt.object.aspect=this.aspect,this.view!==null&&(tt.object.view=Object.assign({},this.view)),tt.object.filmGauge=this.filmGauge,tt.object.filmOffset=this.filmOffset,tt}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(c,tt,nt){super(),this.type="CubeCamera",this.renderTarget=nt,this.coordinateSystem=null,this.activeMipmapLevel=0;const rt=new PerspectiveCamera(fov,aspect,c,tt);rt.layers=this.layers,this.add(rt);const it=new PerspectiveCamera(fov,aspect,c,tt);it.layers=this.layers,this.add(it);const st=new PerspectiveCamera(fov,aspect,c,tt);st.layers=this.layers,this.add(st);const at=new PerspectiveCamera(fov,aspect,c,tt);at.layers=this.layers,this.add(at);const ot=new PerspectiveCamera(fov,aspect,c,tt);ot.layers=this.layers,this.add(ot);const lt=new PerspectiveCamera(fov,aspect,c,tt);lt.layers=this.layers,this.add(lt)}updateCoordinateSystem(){const c=this.coordinateSystem,tt=this.children.concat(),[nt,rt,it,st,at,ot]=tt;for(const lt of tt)this.remove(lt);if(c===WebGLCoordinateSystem)nt.up.set(0,1,0),nt.lookAt(1,0,0),rt.up.set(0,1,0),rt.lookAt(-1,0,0),it.up.set(0,0,-1),it.lookAt(0,1,0),st.up.set(0,0,1),st.lookAt(0,-1,0),at.up.set(0,1,0),at.lookAt(0,0,1),ot.up.set(0,1,0),ot.lookAt(0,0,-1);else if(c===WebGPUCoordinateSystem)nt.up.set(0,-1,0),nt.lookAt(-1,0,0),rt.up.set(0,-1,0),rt.lookAt(1,0,0),it.up.set(0,0,1),it.lookAt(0,1,0),st.up.set(0,0,-1),st.lookAt(0,-1,0),at.up.set(0,-1,0),at.lookAt(0,0,1),ot.up.set(0,-1,0),ot.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+c);for(const lt of tt)this.add(lt),lt.updateMatrixWorld()}update(c,tt){this.parent===null&&this.updateMatrixWorld();const{renderTarget:nt,activeMipmapLevel:rt}=this;this.coordinateSystem!==c.coordinateSystem&&(this.coordinateSystem=c.coordinateSystem,this.updateCoordinateSystem());const[it,st,at,ot,lt,ct]=this.children,dt=c.getRenderTarget(),ht=c.getActiveCubeFace(),mt=c.getActiveMipmapLevel(),gt=c.xr.enabled;c.xr.enabled=!1;const yt=nt.texture.generateMipmaps;nt.texture.generateMipmaps=!1,c.setRenderTarget(nt,0,rt),c.render(tt,it),c.setRenderTarget(nt,1,rt),c.render(tt,st),c.setRenderTarget(nt,2,rt),c.render(tt,at),c.setRenderTarget(nt,3,rt),c.render(tt,ot),c.setRenderTarget(nt,4,rt),c.render(tt,lt),nt.texture.generateMipmaps=yt,c.setRenderTarget(nt,5,rt),c.render(tt,ct),c.setRenderTarget(dt,ht,mt),c.xr.enabled=gt,nt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(c,tt,nt,rt,it,st,at,ot,lt,ct){c=c!==void 0?c:[],tt=tt!==void 0?tt:CubeReflectionMapping,super(c,tt,nt,rt,it,st,at,ot,lt,ct),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(c){this.image=c}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(c=1,tt={}){super(c,c,tt),this.isWebGLCubeRenderTarget=!0;const nt={width:c,height:c,depth:1},rt=[nt,nt,nt,nt,nt,nt];this.texture=new CubeTexture(rt,tt.mapping,tt.wrapS,tt.wrapT,tt.magFilter,tt.minFilter,tt.format,tt.type,tt.anisotropy,tt.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=tt.generateMipmaps!==void 0?tt.generateMipmaps:!1,this.texture.minFilter=tt.minFilter!==void 0?tt.minFilter:LinearFilter}fromEquirectangularTexture(c,tt){this.texture.type=tt.type,this.texture.colorSpace=tt.colorSpace,this.texture.generateMipmaps=tt.generateMipmaps,this.texture.minFilter=tt.minFilter,this.texture.magFilter=tt.magFilter;const nt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},rt=new BoxGeometry(5,5,5),it=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(nt.uniforms),vertexShader:nt.vertexShader,fragmentShader:nt.fragmentShader,side:BackSide,blending:NoBlending});it.uniforms.tEquirect.value=tt;const st=new Mesh(rt,it),at=tt.minFilter;return tt.minFilter===LinearMipmapLinearFilter&&(tt.minFilter=LinearFilter),new CubeCamera(1,10,this).update(c,st),tt.minFilter=at,st.geometry.dispose(),st.material.dispose(),this}clear(c,tt,nt,rt){const it=c.getRenderTarget();for(let st=0;st<6;st++)c.setRenderTarget(this,st),c.clear(tt,nt,rt);c.setRenderTarget(it)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(c=new Vector3(1,0,0),tt=0){this.isPlane=!0,this.normal=c,this.constant=tt}set(c,tt){return this.normal.copy(c),this.constant=tt,this}setComponents(c,tt,nt,rt){return this.normal.set(c,tt,nt),this.constant=rt,this}setFromNormalAndCoplanarPoint(c,tt){return this.normal.copy(c),this.constant=-tt.dot(this.normal),this}setFromCoplanarPoints(c,tt,nt){const rt=_vector1.subVectors(nt,tt).cross(_vector2.subVectors(c,tt)).normalize();return this.setFromNormalAndCoplanarPoint(rt,c),this}copy(c){return this.normal.copy(c.normal),this.constant=c.constant,this}normalize(){const c=1/this.normal.length();return this.normal.multiplyScalar(c),this.constant*=c,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(c){return this.normal.dot(c)+this.constant}distanceToSphere(c){return this.distanceToPoint(c.center)-c.radius}projectPoint(c,tt){return tt.copy(c).addScaledVector(this.normal,-this.distanceToPoint(c))}intersectLine(c,tt){const nt=c.delta(_vector1),rt=this.normal.dot(nt);if(rt===0)return this.distanceToPoint(c.start)===0?tt.copy(c.start):null;const it=-(c.start.dot(this.normal)+this.constant)/rt;return it<0||it>1?null:tt.copy(c.start).addScaledVector(nt,it)}intersectsLine(c){const tt=this.distanceToPoint(c.start),nt=this.distanceToPoint(c.end);return tt<0&&nt>0||nt<0&&tt>0}intersectsBox(c){return c.intersectsPlane(this)}intersectsSphere(c){return c.intersectsPlane(this)}coplanarPoint(c){return c.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(c,tt){const nt=tt||_normalMatrix.getNormalMatrix(c),rt=this.coplanarPoint(_vector1).applyMatrix4(c),it=this.normal.applyMatrix3(nt).normalize();return this.constant=-rt.dot(it),this}translate(c){return this.constant-=c.dot(this.normal),this}equals(c){return c.normal.equals(this.normal)&&c.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$5=new Sphere$1,_vector$7=new Vector3;class Frustum{constructor(c=new Plane,tt=new Plane,nt=new Plane,rt=new Plane,it=new Plane,st=new Plane){this.planes=[c,tt,nt,rt,it,st]}set(c,tt,nt,rt,it,st){const at=this.planes;return at[0].copy(c),at[1].copy(tt),at[2].copy(nt),at[3].copy(rt),at[4].copy(it),at[5].copy(st),this}copy(c){const tt=this.planes;for(let nt=0;nt<6;nt++)tt[nt].copy(c.planes[nt]);return this}setFromProjectionMatrix(c,tt=WebGLCoordinateSystem){const nt=this.planes,rt=c.elements,it=rt[0],st=rt[1],at=rt[2],ot=rt[3],lt=rt[4],ct=rt[5],dt=rt[6],ht=rt[7],mt=rt[8],gt=rt[9],yt=rt[10],_t=rt[11],pt=rt[12],xt=rt[13],vt=rt[14],St=rt[15];if(nt[0].setComponents(ot-it,ht-lt,_t-mt,St-pt).normalize(),nt[1].setComponents(ot+it,ht+lt,_t+mt,St+pt).normalize(),nt[2].setComponents(ot+st,ht+ct,_t+gt,St+xt).normalize(),nt[3].setComponents(ot-st,ht-ct,_t-gt,St-xt).normalize(),nt[4].setComponents(ot-at,ht-dt,_t-yt,St-vt).normalize(),tt===WebGLCoordinateSystem)nt[5].setComponents(ot+at,ht+dt,_t+yt,St+vt).normalize();else if(tt===WebGPUCoordinateSystem)nt[5].setComponents(at,dt,yt,vt).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+tt);return this}intersectsObject(c){if(c.boundingSphere!==void 0)c.boundingSphere===null&&c.computeBoundingSphere(),_sphere$5.copy(c.boundingSphere).applyMatrix4(c.matrixWorld);else{const tt=c.geometry;tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$5.copy(tt.boundingSphere).applyMatrix4(c.matrixWorld)}return this.intersectsSphere(_sphere$5)}intersectsSprite(c){return _sphere$5.center.set(0,0,0),_sphere$5.radius=.7071067811865476,_sphere$5.applyMatrix4(c.matrixWorld),this.intersectsSphere(_sphere$5)}intersectsSphere(c){const tt=this.planes,nt=c.center,rt=-c.radius;for(let it=0;it<6;it++)if(tt[it].distanceToPoint(nt)<rt)return!1;return!0}intersectsBox(c){const tt=this.planes;for(let nt=0;nt<6;nt++){const rt=tt[nt];if(_vector$7.x=rt.normal.x>0?c.max.x:c.min.x,_vector$7.y=rt.normal.y>0?c.max.y:c.min.y,_vector$7.z=rt.normal.z>0?c.max.z:c.min.z,rt.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(c){const tt=this.planes;for(let nt=0;nt<6;nt++)if(tt[nt].distanceToPoint(c)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let et=null,c=!1,tt=null,nt=null;function rt(it,st){tt(it,st),nt=et.requestAnimationFrame(rt)}return{start:function(){c!==!0&&tt!==null&&(nt=et.requestAnimationFrame(rt),c=!0)},stop:function(){et.cancelAnimationFrame(nt),c=!1},setAnimationLoop:function(it){tt=it},setContext:function(it){et=it}}}function WebGLAttributes(et){const c=new WeakMap;function tt(at,ot){const lt=at.array,ct=at.usage,dt=lt.byteLength,ht=et.createBuffer();et.bindBuffer(ot,ht),et.bufferData(ot,lt,ct),at.onUploadCallback();let mt;if(lt instanceof Float32Array)mt=et.FLOAT;else if(lt instanceof Uint16Array)at.isFloat16BufferAttribute?mt=et.HALF_FLOAT:mt=et.UNSIGNED_SHORT;else if(lt instanceof Int16Array)mt=et.SHORT;else if(lt instanceof Uint32Array)mt=et.UNSIGNED_INT;else if(lt instanceof Int32Array)mt=et.INT;else if(lt instanceof Int8Array)mt=et.BYTE;else if(lt instanceof Uint8Array)mt=et.UNSIGNED_BYTE;else if(lt instanceof Uint8ClampedArray)mt=et.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+lt);return{buffer:ht,type:mt,bytesPerElement:lt.BYTES_PER_ELEMENT,version:at.version,size:dt}}function nt(at,ot,lt){const ct=ot.array,dt=ot._updateRange,ht=ot.updateRanges;if(et.bindBuffer(lt,at),dt.count===-1&&ht.length===0&&et.bufferSubData(lt,0,ct),ht.length!==0){for(let mt=0,gt=ht.length;mt<gt;mt++){const yt=ht[mt];et.bufferSubData(lt,yt.start*ct.BYTES_PER_ELEMENT,ct,yt.start,yt.count)}ot.clearUpdateRanges()}dt.count!==-1&&(et.bufferSubData(lt,dt.offset*ct.BYTES_PER_ELEMENT,ct,dt.offset,dt.count),dt.count=-1),ot.onUploadCallback()}function rt(at){return at.isInterleavedBufferAttribute&&(at=at.data),c.get(at)}function it(at){at.isInterleavedBufferAttribute&&(at=at.data);const ot=c.get(at);ot&&(et.deleteBuffer(ot.buffer),c.delete(at))}function st(at,ot){if(at.isInterleavedBufferAttribute&&(at=at.data),at.isGLBufferAttribute){const ct=c.get(at);(!ct||ct.version<at.version)&&c.set(at,{buffer:at.buffer,type:at.type,bytesPerElement:at.elementSize,version:at.version});return}const lt=c.get(at);if(lt===void 0)c.set(at,tt(at,ot));else if(lt.version<at.version){if(lt.size!==at.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");nt(lt.buffer,at,ot),lt.version=at.version}}return{get:rt,remove:it,update:st}}class PlaneGeometry extends BufferGeometry{constructor(c=1,tt=1,nt=1,rt=1){super(),this.type="PlaneGeometry",this.parameters={width:c,height:tt,widthSegments:nt,heightSegments:rt};const it=c/2,st=tt/2,at=Math.floor(nt),ot=Math.floor(rt),lt=at+1,ct=ot+1,dt=c/at,ht=tt/ot,mt=[],gt=[],yt=[],_t=[];for(let pt=0;pt<ct;pt++){const xt=pt*ht-st;for(let vt=0;vt<lt;vt++){const St=vt*dt-it;gt.push(St,-xt,0),yt.push(0,0,1),_t.push(vt/at),_t.push(1-pt/ot)}}for(let pt=0;pt<ot;pt++)for(let xt=0;xt<at;xt++){const vt=xt+lt*pt,St=xt+lt*(pt+1),wt=xt+1+lt*(pt+1),Mt=xt+1+lt*pt;mt.push(vt,St,Mt),mt.push(St,wt,Mt)}this.setIndex(mt),this.setAttribute("position",new Float32BufferAttribute(gt,3)),this.setAttribute("normal",new Float32BufferAttribute(yt,3)),this.setAttribute("uv",new Float32BufferAttribute(_t,2))}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}static fromJSON(c){return new PlaneGeometry(c.width,c.height,c.widthSegments,c.heightSegments)}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(et,c,tt,nt,rt,it,st){const at=new Color(0);let ot=it===!0?0:1,lt,ct,dt=null,ht=0,mt=null;function gt(xt){let vt=xt.isScene===!0?xt.background:null;return vt&&vt.isTexture&&(vt=(xt.backgroundBlurriness>0?tt:c).get(vt)),vt}function yt(xt){let vt=!1;const St=gt(xt);St===null?pt(at,ot):St&&St.isColor&&(pt(St,1),vt=!0);const wt=et.xr.getEnvironmentBlendMode();wt==="additive"?nt.buffers.color.setClear(0,0,0,1,st):wt==="alpha-blend"&&nt.buffers.color.setClear(0,0,0,0,st),(et.autoClear||vt)&&(nt.buffers.depth.setTest(!0),nt.buffers.depth.setMask(!0),nt.buffers.color.setMask(!0),et.clear(et.autoClearColor,et.autoClearDepth,et.autoClearStencil))}function _t(xt,vt){const St=gt(vt);St&&(St.isCubeTexture||St.mapping===CubeUVReflectionMapping)?(ct===void 0&&(ct=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),ct.geometry.deleteAttribute("normal"),ct.geometry.deleteAttribute("uv"),ct.onBeforeRender=function(wt,Mt,Ct){this.matrixWorld.copyPosition(Ct.matrixWorld)},Object.defineProperty(ct.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),rt.update(ct)),_e1$1.copy(vt.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,St.isCubeTexture&&St.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),ct.material.uniforms.envMap.value=St,ct.material.uniforms.flipEnvMap.value=St.isCubeTexture&&St.isRenderTargetTexture===!1?-1:1,ct.material.uniforms.backgroundBlurriness.value=vt.backgroundBlurriness,ct.material.uniforms.backgroundIntensity.value=vt.backgroundIntensity,ct.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),ct.material.toneMapped=ColorManagement.getTransfer(St.colorSpace)!==SRGBTransfer,(dt!==St||ht!==St.version||mt!==et.toneMapping)&&(ct.material.needsUpdate=!0,dt=St,ht=St.version,mt=et.toneMapping),ct.layers.enableAll(),xt.unshift(ct,ct.geometry,ct.material,0,0,null)):St&&St.isTexture&&(lt===void 0&&(lt=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),lt.geometry.deleteAttribute("normal"),Object.defineProperty(lt.material,"map",{get:function(){return this.uniforms.t2D.value}}),rt.update(lt)),lt.material.uniforms.t2D.value=St,lt.material.uniforms.backgroundIntensity.value=vt.backgroundIntensity,lt.material.toneMapped=ColorManagement.getTransfer(St.colorSpace)!==SRGBTransfer,St.matrixAutoUpdate===!0&&St.updateMatrix(),lt.material.uniforms.uvTransform.value.copy(St.matrix),(dt!==St||ht!==St.version||mt!==et.toneMapping)&&(lt.material.needsUpdate=!0,dt=St,ht=St.version,mt=et.toneMapping),lt.layers.enableAll(),xt.unshift(lt,lt.geometry,lt.material,0,0,null))}function pt(xt,vt){xt.getRGB(_rgb,getUnlitUniformColorSpace(et)),nt.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,vt,st)}return{getClearColor:function(){return at},setClearColor:function(xt,vt=1){at.set(xt),ot=vt,pt(at,ot)},getClearAlpha:function(){return ot},setClearAlpha:function(xt){ot=xt,pt(at,ot)},render:yt,addToRenderList:_t}}function WebGLBindingStates(et,c){const tt=et.getParameter(et.MAX_VERTEX_ATTRIBS),nt={},rt=ht(null);let it=rt,st=!1;function at(It,Nt,zt,Wt,Yt){let Xt=!1;const Ft=dt(Wt,zt,Nt);it!==Ft&&(it=Ft,lt(it.object)),Xt=mt(It,Wt,zt,Yt),Xt&&gt(It,Wt,zt,Yt),Yt!==null&&c.update(Yt,et.ELEMENT_ARRAY_BUFFER),(Xt||st)&&(st=!1,St(It,Nt,zt,Wt),Yt!==null&&et.bindBuffer(et.ELEMENT_ARRAY_BUFFER,c.get(Yt).buffer))}function ot(){return et.createVertexArray()}function lt(It){return et.bindVertexArray(It)}function ct(It){return et.deleteVertexArray(It)}function dt(It,Nt,zt){const Wt=zt.wireframe===!0;let Yt=nt[It.id];Yt===void 0&&(Yt={},nt[It.id]=Yt);let Xt=Yt[Nt.id];Xt===void 0&&(Xt={},Yt[Nt.id]=Xt);let Ft=Xt[Wt];return Ft===void 0&&(Ft=ht(ot()),Xt[Wt]=Ft),Ft}function ht(It){const Nt=[],zt=[],Wt=[];for(let Yt=0;Yt<tt;Yt++)Nt[Yt]=0,zt[Yt]=0,Wt[Yt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Nt,enabledAttributes:zt,attributeDivisors:Wt,object:It,attributes:{},index:null}}function mt(It,Nt,zt,Wt){const Yt=it.attributes,Xt=Nt.attributes;let Ft=0;const Ut=zt.getAttributes();for(const At in Ut)if(Ut[At].location>=0){const Ot=Yt[At];let Bt=Xt[At];if(Bt===void 0&&(At==="instanceMatrix"&&It.instanceMatrix&&(Bt=It.instanceMatrix),At==="instanceColor"&&It.instanceColor&&(Bt=It.instanceColor)),Ot===void 0||Ot.attribute!==Bt||Bt&&Ot.data!==Bt.data)return!0;Ft++}return it.attributesNum!==Ft||it.index!==Wt}function gt(It,Nt,zt,Wt){const Yt={},Xt=Nt.attributes;let Ft=0;const Ut=zt.getAttributes();for(const At in Ut)if(Ut[At].location>=0){let Ot=Xt[At];Ot===void 0&&(At==="instanceMatrix"&&It.instanceMatrix&&(Ot=It.instanceMatrix),At==="instanceColor"&&It.instanceColor&&(Ot=It.instanceColor));const Bt={};Bt.attribute=Ot,Ot&&Ot.data&&(Bt.data=Ot.data),Yt[At]=Bt,Ft++}it.attributes=Yt,it.attributesNum=Ft,it.index=Wt}function yt(){const It=it.newAttributes;for(let Nt=0,zt=It.length;Nt<zt;Nt++)It[Nt]=0}function _t(It){pt(It,0)}function pt(It,Nt){const zt=it.newAttributes,Wt=it.enabledAttributes,Yt=it.attributeDivisors;zt[It]=1,Wt[It]===0&&(et.enableVertexAttribArray(It),Wt[It]=1),Yt[It]!==Nt&&(et.vertexAttribDivisor(It,Nt),Yt[It]=Nt)}function xt(){const It=it.newAttributes,Nt=it.enabledAttributes;for(let zt=0,Wt=Nt.length;zt<Wt;zt++)Nt[zt]!==It[zt]&&(et.disableVertexAttribArray(zt),Nt[zt]=0)}function vt(It,Nt,zt,Wt,Yt,Xt,Ft){Ft===!0?et.vertexAttribIPointer(It,Nt,zt,Yt,Xt):et.vertexAttribPointer(It,Nt,zt,Wt,Yt,Xt)}function St(It,Nt,zt,Wt){yt();const Yt=Wt.attributes,Xt=zt.getAttributes(),Ft=Nt.defaultAttributeValues;for(const Ut in Xt){const At=Xt[Ut];if(At.location>=0){let kt=Yt[Ut];if(kt===void 0&&(Ut==="instanceMatrix"&&It.instanceMatrix&&(kt=It.instanceMatrix),Ut==="instanceColor"&&It.instanceColor&&(kt=It.instanceColor)),kt!==void 0){const Ot=kt.normalized,Bt=kt.itemSize,Qt=c.get(kt);if(Qt===void 0)continue;const an=Qt.buffer,Kt=Qt.type,ln=Qt.bytesPerElement,vn=Kt===et.INT||Kt===et.UNSIGNED_INT||kt.gpuType===IntType;if(kt.isInterleavedBufferAttribute){const En=kt.data,jn=En.stride,qn=kt.offset;if(En.isInstancedInterleavedBuffer){for(let Vn=0;Vn<At.locationSize;Vn++)pt(At.location+Vn,En.meshPerAttribute);It.isInstancedMesh!==!0&&Wt._maxInstanceCount===void 0&&(Wt._maxInstanceCount=En.meshPerAttribute*En.count)}else for(let Vn=0;Vn<At.locationSize;Vn++)_t(At.location+Vn);et.bindBuffer(et.ARRAY_BUFFER,an);for(let Vn=0;Vn<At.locationSize;Vn++)vt(At.location+Vn,Bt/At.locationSize,Kt,Ot,jn*ln,(qn+Bt/At.locationSize*Vn)*ln,vn)}else{if(kt.isInstancedBufferAttribute){for(let En=0;En<At.locationSize;En++)pt(At.location+En,kt.meshPerAttribute);It.isInstancedMesh!==!0&&Wt._maxInstanceCount===void 0&&(Wt._maxInstanceCount=kt.meshPerAttribute*kt.count)}else for(let En=0;En<At.locationSize;En++)_t(At.location+En);et.bindBuffer(et.ARRAY_BUFFER,an);for(let En=0;En<At.locationSize;En++)vt(At.location+En,Bt/At.locationSize,Kt,Ot,Bt*ln,Bt/At.locationSize*En*ln,vn)}}else if(Ft!==void 0){const Ot=Ft[Ut];if(Ot!==void 0)switch(Ot.length){case 2:et.vertexAttrib2fv(At.location,Ot);break;case 3:et.vertexAttrib3fv(At.location,Ot);break;case 4:et.vertexAttrib4fv(At.location,Ot);break;default:et.vertexAttrib1fv(At.location,Ot)}}}}xt()}function wt(){Rt();for(const It in nt){const Nt=nt[It];for(const zt in Nt){const Wt=Nt[zt];for(const Yt in Wt)ct(Wt[Yt].object),delete Wt[Yt];delete Nt[zt]}delete nt[It]}}function Mt(It){if(nt[It.id]===void 0)return;const Nt=nt[It.id];for(const zt in Nt){const Wt=Nt[zt];for(const Yt in Wt)ct(Wt[Yt].object),delete Wt[Yt];delete Nt[zt]}delete nt[It.id]}function Ct(It){for(const Nt in nt){const zt=nt[Nt];if(zt[It.id]===void 0)continue;const Wt=zt[It.id];for(const Yt in Wt)ct(Wt[Yt].object),delete Wt[Yt];delete zt[It.id]}}function Rt(){Lt(),st=!0,it!==rt&&(it=rt,lt(it.object))}function Lt(){rt.geometry=null,rt.program=null,rt.wireframe=!1}return{setup:at,reset:Rt,resetDefaultState:Lt,dispose:wt,releaseStatesOfGeometry:Mt,releaseStatesOfProgram:Ct,initAttributes:yt,enableAttribute:_t,disableUnusedAttributes:xt}}function WebGLBufferRenderer(et,c,tt){let nt;function rt(lt){nt=lt}function it(lt,ct){et.drawArrays(nt,lt,ct),tt.update(ct,nt,1)}function st(lt,ct,dt){dt!==0&&(et.drawArraysInstanced(nt,lt,ct,dt),tt.update(ct,nt,dt))}function at(lt,ct,dt){if(dt===0)return;c.get("WEBGL_multi_draw").multiDrawArraysWEBGL(nt,lt,0,ct,0,dt);let mt=0;for(let gt=0;gt<dt;gt++)mt+=ct[gt];tt.update(mt,nt,1)}function ot(lt,ct,dt,ht){if(dt===0)return;const mt=c.get("WEBGL_multi_draw");if(mt===null)for(let gt=0;gt<lt.length;gt++)st(lt[gt],ct[gt],ht[gt]);else{mt.multiDrawArraysInstancedWEBGL(nt,lt,0,ct,0,ht,0,dt);let gt=0;for(let yt=0;yt<dt;yt++)gt+=ct[yt];for(let yt=0;yt<ht.length;yt++)tt.update(gt,nt,ht[yt])}}this.setMode=rt,this.render=it,this.renderInstances=st,this.renderMultiDraw=at,this.renderMultiDrawInstances=ot}function WebGLCapabilities(et,c,tt,nt){let rt;function it(){if(rt!==void 0)return rt;if(c.has("EXT_texture_filter_anisotropic")===!0){const Mt=c.get("EXT_texture_filter_anisotropic");rt=et.getParameter(Mt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else rt=0;return rt}function st(Mt){return!(Mt!==RGBAFormat&&nt.convert(Mt)!==et.getParameter(et.IMPLEMENTATION_COLOR_READ_FORMAT))}function at(Mt){const Ct=Mt===HalfFloatType&&(c.has("EXT_color_buffer_half_float")||c.has("EXT_color_buffer_float"));return!(Mt!==UnsignedByteType&&nt.convert(Mt)!==et.getParameter(et.IMPLEMENTATION_COLOR_READ_TYPE)&&Mt!==FloatType&&!Ct)}function ot(Mt){if(Mt==="highp"){if(et.getShaderPrecisionFormat(et.VERTEX_SHADER,et.HIGH_FLOAT).precision>0&&et.getShaderPrecisionFormat(et.FRAGMENT_SHADER,et.HIGH_FLOAT).precision>0)return"highp";Mt="mediump"}return Mt==="mediump"&&et.getShaderPrecisionFormat(et.VERTEX_SHADER,et.MEDIUM_FLOAT).precision>0&&et.getShaderPrecisionFormat(et.FRAGMENT_SHADER,et.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let lt=tt.precision!==void 0?tt.precision:"highp";const ct=ot(lt);ct!==lt&&(console.warn("THREE.WebGLRenderer:",lt,"not supported, using",ct,"instead."),lt=ct);const dt=tt.logarithmicDepthBuffer===!0,ht=et.getParameter(et.MAX_TEXTURE_IMAGE_UNITS),mt=et.getParameter(et.MAX_VERTEX_TEXTURE_IMAGE_UNITS),gt=et.getParameter(et.MAX_TEXTURE_SIZE),yt=et.getParameter(et.MAX_CUBE_MAP_TEXTURE_SIZE),_t=et.getParameter(et.MAX_VERTEX_ATTRIBS),pt=et.getParameter(et.MAX_VERTEX_UNIFORM_VECTORS),xt=et.getParameter(et.MAX_VARYING_VECTORS),vt=et.getParameter(et.MAX_FRAGMENT_UNIFORM_VECTORS),St=mt>0,wt=et.getParameter(et.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:it,getMaxPrecision:ot,textureFormatReadable:st,textureTypeReadable:at,precision:lt,logarithmicDepthBuffer:dt,maxTextures:ht,maxVertexTextures:mt,maxTextureSize:gt,maxCubemapSize:yt,maxAttributes:_t,maxVertexUniforms:pt,maxVaryings:xt,maxFragmentUniforms:vt,vertexTextures:St,maxSamples:wt}}function WebGLClipping(et){const c=this;let tt=null,nt=0,rt=!1,it=!1;const st=new Plane,at=new Matrix3,ot={value:null,needsUpdate:!1};this.uniform=ot,this.numPlanes=0,this.numIntersection=0,this.init=function(dt,ht){const mt=dt.length!==0||ht||nt!==0||rt;return rt=ht,nt=dt.length,mt},this.beginShadows=function(){it=!0,ct(null)},this.endShadows=function(){it=!1},this.setGlobalState=function(dt,ht){tt=ct(dt,ht,0)},this.setState=function(dt,ht,mt){const gt=dt.clippingPlanes,yt=dt.clipIntersection,_t=dt.clipShadows,pt=et.get(dt);if(!rt||gt===null||gt.length===0||it&&!_t)it?ct(null):lt();else{const xt=it?0:nt,vt=xt*4;let St=pt.clippingState||null;ot.value=St,St=ct(gt,ht,vt,mt);for(let wt=0;wt!==vt;++wt)St[wt]=tt[wt];pt.clippingState=St,this.numIntersection=yt?this.numPlanes:0,this.numPlanes+=xt}};function lt(){ot.value!==tt&&(ot.value=tt,ot.needsUpdate=nt>0),c.numPlanes=nt,c.numIntersection=0}function ct(dt,ht,mt,gt){const yt=dt!==null?dt.length:0;let _t=null;if(yt!==0){if(_t=ot.value,gt!==!0||_t===null){const pt=mt+yt*4,xt=ht.matrixWorldInverse;at.getNormalMatrix(xt),(_t===null||_t.length<pt)&&(_t=new Float32Array(pt));for(let vt=0,St=mt;vt!==yt;++vt,St+=4)st.copy(dt[vt]).applyMatrix4(xt,at),st.normal.toArray(_t,St),_t[St+3]=st.constant}ot.value=_t,ot.needsUpdate=!0}return c.numPlanes=yt,c.numIntersection=0,_t}}function WebGLCubeMaps(et){let c=new WeakMap;function tt(st,at){return at===EquirectangularReflectionMapping?st.mapping=CubeReflectionMapping:at===EquirectangularRefractionMapping&&(st.mapping=CubeRefractionMapping),st}function nt(st){if(st&&st.isTexture){const at=st.mapping;if(at===EquirectangularReflectionMapping||at===EquirectangularRefractionMapping)if(c.has(st)){const ot=c.get(st).texture;return tt(ot,st.mapping)}else{const ot=st.image;if(ot&&ot.height>0){const lt=new WebGLCubeRenderTarget(ot.height);return lt.fromEquirectangularTexture(et,st),c.set(st,lt),st.addEventListener("dispose",rt),tt(lt.texture,st.mapping)}else return null}}return st}function rt(st){const at=st.target;at.removeEventListener("dispose",rt);const ot=c.get(at);ot!==void 0&&(c.delete(at),ot.dispose())}function it(){c=new WeakMap}return{get:nt,dispose:it}}class OrthographicCamera extends Camera{constructor(c=-1,tt=1,nt=1,rt=-1,it=.1,st=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=c,this.right=tt,this.top=nt,this.bottom=rt,this.near=it,this.far=st,this.updateProjectionMatrix()}copy(c,tt){return super.copy(c,tt),this.left=c.left,this.right=c.right,this.top=c.top,this.bottom=c.bottom,this.near=c.near,this.far=c.far,this.zoom=c.zoom,this.view=c.view===null?null:Object.assign({},c.view),this}setViewOffset(c,tt,nt,rt,it,st){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=c,this.view.fullHeight=tt,this.view.offsetX=nt,this.view.offsetY=rt,this.view.width=it,this.view.height=st,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const c=(this.right-this.left)/(2*this.zoom),tt=(this.top-this.bottom)/(2*this.zoom),nt=(this.right+this.left)/2,rt=(this.top+this.bottom)/2;let it=nt-c,st=nt+c,at=rt+tt,ot=rt-tt;if(this.view!==null&&this.view.enabled){const lt=(this.right-this.left)/this.view.fullWidth/this.zoom,ct=(this.top-this.bottom)/this.view.fullHeight/this.zoom;it+=lt*this.view.offsetX,st=it+lt*this.view.width,at-=ct*this.view.offsetY,ot=at-ct*this.view.height}this.projectionMatrix.makeOrthographic(it,st,at,ot,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(c){const tt=super.toJSON(c);return tt.object.zoom=this.zoom,tt.object.left=this.left,tt.object.right=this.right,tt.object.top=this.top,tt.object.bottom=this.bottom,tt.object.near=this.near,tt.object.far=this.far,this.view!==null&&(tt.object.view=Object.assign({},this.view)),tt}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)];class PMREMGenerator{constructor(c){this._renderer=c,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(c,tt=0,nt=.1,rt=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const it=this._allocateTargets();return it.depthBuffer=!0,this._sceneToCubeUV(c,nt,rt,it),tt>0&&this._blur(it,0,0,tt),this._applyPMREM(it),this._cleanup(it),it}fromEquirectangular(c,tt=null){return this._fromTexture(c,tt)}fromCubemap(c,tt=null){return this._fromTexture(c,tt)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(c){this._lodMax=Math.floor(Math.log2(c)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let c=0;c<this._lodPlanes.length;c++)this._lodPlanes[c].dispose()}_cleanup(c){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,c.scissorTest=!1,_setViewport(c,0,0,c.width,c.height)}_fromTexture(c,tt){c.mapping===CubeReflectionMapping||c.mapping===CubeRefractionMapping?this._setSize(c.image.length===0?16:c.image[0].width||c.image[0].image.width):this._setSize(c.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const nt=tt||this._allocateTargets();return this._textureToCubeUV(c,nt),this._applyPMREM(nt),this._cleanup(nt),nt}_allocateTargets(){const c=3*Math.max(this._cubeSize,112),tt=4*this._cubeSize,nt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},rt=_createRenderTarget(c,tt,nt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==c||this._pingPongRenderTarget.height!==tt){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(c,tt,nt);const{_lodMax:it}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(it)),this._blurMaterial=_getBlurShader(it,c,tt)}return rt}_compileMaterial(c){const tt=new Mesh(this._lodPlanes[0],c);this._renderer.compile(tt,_flatCamera)}_sceneToCubeUV(c,tt,nt,rt){const at=new PerspectiveCamera(90,1,tt,nt),ot=[1,-1,1,1,1,1],lt=[1,1,1,-1,-1,-1],ct=this._renderer,dt=ct.autoClear,ht=ct.toneMapping;ct.getClearColor(_clearColor),ct.toneMapping=NoToneMapping,ct.autoClear=!1;const mt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),gt=new Mesh(new BoxGeometry,mt);let yt=!1;const _t=c.background;_t?_t.isColor&&(mt.color.copy(_t),c.background=null,yt=!0):(mt.color.copy(_clearColor),yt=!0);for(let pt=0;pt<6;pt++){const xt=pt%3;xt===0?(at.up.set(0,ot[pt],0),at.lookAt(lt[pt],0,0)):xt===1?(at.up.set(0,0,ot[pt]),at.lookAt(0,lt[pt],0)):(at.up.set(0,ot[pt],0),at.lookAt(0,0,lt[pt]));const vt=this._cubeSize;_setViewport(rt,xt*vt,pt>2?vt:0,vt,vt),ct.setRenderTarget(rt),yt&&ct.render(gt,at),ct.render(c,at)}gt.geometry.dispose(),gt.material.dispose(),ct.toneMapping=ht,ct.autoClear=dt,c.background=_t}_textureToCubeUV(c,tt){const nt=this._renderer,rt=c.mapping===CubeReflectionMapping||c.mapping===CubeRefractionMapping;rt?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=c.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const it=rt?this._cubemapMaterial:this._equirectMaterial,st=new Mesh(this._lodPlanes[0],it),at=it.uniforms;at.envMap.value=c;const ot=this._cubeSize;_setViewport(tt,0,0,3*ot,2*ot),nt.setRenderTarget(tt),nt.render(st,_flatCamera)}_applyPMREM(c){const tt=this._renderer,nt=tt.autoClear;tt.autoClear=!1;const rt=this._lodPlanes.length;for(let it=1;it<rt;it++){const st=Math.sqrt(this._sigmas[it]*this._sigmas[it]-this._sigmas[it-1]*this._sigmas[it-1]),at=_axisDirections[(rt-it-1)%_axisDirections.length];this._blur(c,it-1,it,st,at)}tt.autoClear=nt}_blur(c,tt,nt,rt,it){const st=this._pingPongRenderTarget;this._halfBlur(c,st,tt,nt,rt,"latitudinal",it),this._halfBlur(st,c,nt,nt,rt,"longitudinal",it)}_halfBlur(c,tt,nt,rt,it,st,at){const ot=this._renderer,lt=this._blurMaterial;st!=="latitudinal"&&st!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ct=3,dt=new Mesh(this._lodPlanes[rt],lt),ht=lt.uniforms,mt=this._sizeLods[nt]-1,gt=isFinite(it)?Math.PI/(2*mt):2*Math.PI/(2*MAX_SAMPLES-1),yt=it/gt,_t=isFinite(it)?1+Math.floor(ct*yt):MAX_SAMPLES;_t>MAX_SAMPLES&&console.warn(`sigmaRadians, ${it}, is too large and will clip, as it requested ${_t} samples when the maximum is set to ${MAX_SAMPLES}`);const pt=[];let xt=0;for(let Ct=0;Ct<MAX_SAMPLES;++Ct){const Rt=Ct/yt,Lt=Math.exp(-Rt*Rt/2);pt.push(Lt),Ct===0?xt+=Lt:Ct<_t&&(xt+=2*Lt)}for(let Ct=0;Ct<pt.length;Ct++)pt[Ct]=pt[Ct]/xt;ht.envMap.value=c.texture,ht.samples.value=_t,ht.weights.value=pt,ht.latitudinal.value=st==="latitudinal",at&&(ht.poleAxis.value=at);const{_lodMax:vt}=this;ht.dTheta.value=gt,ht.mipInt.value=vt-nt;const St=this._sizeLods[rt],wt=3*St*(rt>vt-LOD_MIN?rt-vt+LOD_MIN:0),Mt=4*(this._cubeSize-St);_setViewport(tt,wt,Mt,3*St,2*St),ot.setRenderTarget(tt),ot.render(dt,_flatCamera)}}function _createPlanes(et){const c=[],tt=[],nt=[];let rt=et;const it=et-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let st=0;st<it;st++){const at=Math.pow(2,rt);tt.push(at);let ot=1/at;st>et-LOD_MIN?ot=EXTRA_LOD_SIGMA[st-et+LOD_MIN-1]:st===0&&(ot=0),nt.push(ot);const lt=1/(at-2),ct=-lt,dt=1+lt,ht=[ct,ct,dt,ct,dt,dt,ct,ct,dt,dt,ct,dt],mt=6,gt=6,yt=3,_t=2,pt=1,xt=new Float32Array(yt*gt*mt),vt=new Float32Array(_t*gt*mt),St=new Float32Array(pt*gt*mt);for(let Mt=0;Mt<mt;Mt++){const Ct=Mt%3*2/3-1,Rt=Mt>2?0:-1,Lt=[Ct,Rt,0,Ct+2/3,Rt,0,Ct+2/3,Rt+1,0,Ct,Rt,0,Ct+2/3,Rt+1,0,Ct,Rt+1,0];xt.set(Lt,yt*gt*Mt),vt.set(ht,_t*gt*Mt);const It=[Mt,Mt,Mt,Mt,Mt,Mt];St.set(It,pt*gt*Mt)}const wt=new BufferGeometry;wt.setAttribute("position",new BufferAttribute(xt,yt)),wt.setAttribute("uv",new BufferAttribute(vt,_t)),wt.setAttribute("faceIndex",new BufferAttribute(St,pt)),c.push(wt),rt>LOD_MIN&&rt--}return{lodPlanes:c,sizeLods:tt,sigmas:nt}}function _createRenderTarget(et,c,tt){const nt=new WebGLRenderTarget(et,c,tt);return nt.texture.mapping=CubeUVReflectionMapping,nt.texture.name="PMREM.cubeUv",nt.scissorTest=!0,nt}function _setViewport(et,c,tt,nt,rt){et.viewport.set(c,tt,nt,rt),et.scissor.set(c,tt,nt,rt)}function _getBlurShader(et,c,tt){const nt=new Float32Array(MAX_SAMPLES),rt=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/c,CUBEUV_TEXEL_HEIGHT:1/tt,CUBEUV_MAX_MIP:`${et}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:nt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:rt}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(et){let c=new WeakMap,tt=null;function nt(at){if(at&&at.isTexture){const ot=at.mapping,lt=ot===EquirectangularReflectionMapping||ot===EquirectangularRefractionMapping,ct=ot===CubeReflectionMapping||ot===CubeRefractionMapping;if(lt||ct){let dt=c.get(at);const ht=dt!==void 0?dt.texture.pmremVersion:0;if(at.isRenderTargetTexture&&at.pmremVersion!==ht)return tt===null&&(tt=new PMREMGenerator(et)),dt=lt?tt.fromEquirectangular(at,dt):tt.fromCubemap(at,dt),dt.texture.pmremVersion=at.pmremVersion,c.set(at,dt),dt.texture;if(dt!==void 0)return dt.texture;{const mt=at.image;return lt&&mt&&mt.height>0||ct&&mt&&rt(mt)?(tt===null&&(tt=new PMREMGenerator(et)),dt=lt?tt.fromEquirectangular(at):tt.fromCubemap(at),dt.texture.pmremVersion=at.pmremVersion,c.set(at,dt),at.addEventListener("dispose",it),dt.texture):null}}}return at}function rt(at){let ot=0;const lt=6;for(let ct=0;ct<lt;ct++)at[ct]!==void 0&&ot++;return ot===lt}function it(at){const ot=at.target;ot.removeEventListener("dispose",it);const lt=c.get(ot);lt!==void 0&&(c.delete(ot),lt.dispose())}function st(){c=new WeakMap,tt!==null&&(tt.dispose(),tt=null)}return{get:nt,dispose:st}}function WebGLExtensions(et){const c={};function tt(nt){if(c[nt]!==void 0)return c[nt];let rt;switch(nt){case"WEBGL_depth_texture":rt=et.getExtension("WEBGL_depth_texture")||et.getExtension("MOZ_WEBGL_depth_texture")||et.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":rt=et.getExtension("EXT_texture_filter_anisotropic")||et.getExtension("MOZ_EXT_texture_filter_anisotropic")||et.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":rt=et.getExtension("WEBGL_compressed_texture_s3tc")||et.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||et.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":rt=et.getExtension("WEBGL_compressed_texture_pvrtc")||et.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:rt=et.getExtension(nt)}return c[nt]=rt,rt}return{has:function(nt){return tt(nt)!==null},init:function(){tt("EXT_color_buffer_float"),tt("WEBGL_clip_cull_distance"),tt("OES_texture_float_linear"),tt("EXT_color_buffer_half_float"),tt("WEBGL_multisampled_render_to_texture"),tt("WEBGL_render_shared_exponent")},get:function(nt){const rt=tt(nt);return rt===null&&warnOnce("THREE.WebGLRenderer: "+nt+" extension not supported."),rt}}}function WebGLGeometries(et,c,tt,nt){const rt={},it=new WeakMap;function st(dt){const ht=dt.target;ht.index!==null&&c.remove(ht.index);for(const gt in ht.attributes)c.remove(ht.attributes[gt]);for(const gt in ht.morphAttributes){const yt=ht.morphAttributes[gt];for(let _t=0,pt=yt.length;_t<pt;_t++)c.remove(yt[_t])}ht.removeEventListener("dispose",st),delete rt[ht.id];const mt=it.get(ht);mt&&(c.remove(mt),it.delete(ht)),nt.releaseStatesOfGeometry(ht),ht.isInstancedBufferGeometry===!0&&delete ht._maxInstanceCount,tt.memory.geometries--}function at(dt,ht){return rt[ht.id]===!0||(ht.addEventListener("dispose",st),rt[ht.id]=!0,tt.memory.geometries++),ht}function ot(dt){const ht=dt.attributes;for(const gt in ht)c.update(ht[gt],et.ARRAY_BUFFER);const mt=dt.morphAttributes;for(const gt in mt){const yt=mt[gt];for(let _t=0,pt=yt.length;_t<pt;_t++)c.update(yt[_t],et.ARRAY_BUFFER)}}function lt(dt){const ht=[],mt=dt.index,gt=dt.attributes.position;let yt=0;if(mt!==null){const xt=mt.array;yt=mt.version;for(let vt=0,St=xt.length;vt<St;vt+=3){const wt=xt[vt+0],Mt=xt[vt+1],Ct=xt[vt+2];ht.push(wt,Mt,Mt,Ct,Ct,wt)}}else if(gt!==void 0){const xt=gt.array;yt=gt.version;for(let vt=0,St=xt.length/3-1;vt<St;vt+=3){const wt=vt+0,Mt=vt+1,Ct=vt+2;ht.push(wt,Mt,Mt,Ct,Ct,wt)}}else return;const _t=new(arrayNeedsUint32(ht)?Uint32BufferAttribute:Uint16BufferAttribute)(ht,1);_t.version=yt;const pt=it.get(dt);pt&&c.remove(pt),it.set(dt,_t)}function ct(dt){const ht=it.get(dt);if(ht){const mt=dt.index;mt!==null&&ht.version<mt.version&&lt(dt)}else lt(dt);return it.get(dt)}return{get:at,update:ot,getWireframeAttribute:ct}}function WebGLIndexedBufferRenderer(et,c,tt){let nt;function rt(ht){nt=ht}let it,st;function at(ht){it=ht.type,st=ht.bytesPerElement}function ot(ht,mt){et.drawElements(nt,mt,it,ht*st),tt.update(mt,nt,1)}function lt(ht,mt,gt){gt!==0&&(et.drawElementsInstanced(nt,mt,it,ht*st,gt),tt.update(mt,nt,gt))}function ct(ht,mt,gt){if(gt===0)return;c.get("WEBGL_multi_draw").multiDrawElementsWEBGL(nt,mt,0,it,ht,0,gt);let _t=0;for(let pt=0;pt<gt;pt++)_t+=mt[pt];tt.update(_t,nt,1)}function dt(ht,mt,gt,yt){if(gt===0)return;const _t=c.get("WEBGL_multi_draw");if(_t===null)for(let pt=0;pt<ht.length;pt++)lt(ht[pt]/st,mt[pt],yt[pt]);else{_t.multiDrawElementsInstancedWEBGL(nt,mt,0,it,ht,0,yt,0,gt);let pt=0;for(let xt=0;xt<gt;xt++)pt+=mt[xt];for(let xt=0;xt<yt.length;xt++)tt.update(pt,nt,yt[xt])}}this.setMode=rt,this.setIndex=at,this.render=ot,this.renderInstances=lt,this.renderMultiDraw=ct,this.renderMultiDrawInstances=dt}function WebGLInfo(et){const c={geometries:0,textures:0},tt={frame:0,calls:0,triangles:0,points:0,lines:0};function nt(it,st,at){switch(tt.calls++,st){case et.TRIANGLES:tt.triangles+=at*(it/3);break;case et.LINES:tt.lines+=at*(it/2);break;case et.LINE_STRIP:tt.lines+=at*(it-1);break;case et.LINE_LOOP:tt.lines+=at*it;break;case et.POINTS:tt.points+=at*it;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",st);break}}function rt(){tt.calls=0,tt.triangles=0,tt.points=0,tt.lines=0}return{memory:c,render:tt,programs:null,autoReset:!0,reset:rt,update:nt}}function WebGLMorphtargets(et,c,tt){const nt=new WeakMap,rt=new Vector4;function it(st,at,ot){const lt=st.morphTargetInfluences,ct=at.morphAttributes.position||at.morphAttributes.normal||at.morphAttributes.color,dt=ct!==void 0?ct.length:0;let ht=nt.get(at);if(ht===void 0||ht.count!==dt){let It=function(){Rt.dispose(),nt.delete(at),at.removeEventListener("dispose",It)};var mt=It;ht!==void 0&&ht.texture.dispose();const gt=at.morphAttributes.position!==void 0,yt=at.morphAttributes.normal!==void 0,_t=at.morphAttributes.color!==void 0,pt=at.morphAttributes.position||[],xt=at.morphAttributes.normal||[],vt=at.morphAttributes.color||[];let St=0;gt===!0&&(St=1),yt===!0&&(St=2),_t===!0&&(St=3);let wt=at.attributes.position.count*St,Mt=1;wt>c.maxTextureSize&&(Mt=Math.ceil(wt/c.maxTextureSize),wt=c.maxTextureSize);const Ct=new Float32Array(wt*Mt*4*dt),Rt=new DataArrayTexture(Ct,wt,Mt,dt);Rt.type=FloatType,Rt.needsUpdate=!0;const Lt=St*4;for(let Nt=0;Nt<dt;Nt++){const zt=pt[Nt],Wt=xt[Nt],Yt=vt[Nt],Xt=wt*Mt*4*Nt;for(let Ft=0;Ft<zt.count;Ft++){const Ut=Ft*Lt;gt===!0&&(rt.fromBufferAttribute(zt,Ft),Ct[Xt+Ut+0]=rt.x,Ct[Xt+Ut+1]=rt.y,Ct[Xt+Ut+2]=rt.z,Ct[Xt+Ut+3]=0),yt===!0&&(rt.fromBufferAttribute(Wt,Ft),Ct[Xt+Ut+4]=rt.x,Ct[Xt+Ut+5]=rt.y,Ct[Xt+Ut+6]=rt.z,Ct[Xt+Ut+7]=0),_t===!0&&(rt.fromBufferAttribute(Yt,Ft),Ct[Xt+Ut+8]=rt.x,Ct[Xt+Ut+9]=rt.y,Ct[Xt+Ut+10]=rt.z,Ct[Xt+Ut+11]=Yt.itemSize===4?rt.w:1)}}ht={count:dt,texture:Rt,size:new Vector2(wt,Mt)},nt.set(at,ht),at.addEventListener("dispose",It)}if(st.isInstancedMesh===!0&&st.morphTexture!==null)ot.getUniforms().setValue(et,"morphTexture",st.morphTexture,tt);else{let gt=0;for(let _t=0;_t<lt.length;_t++)gt+=lt[_t];const yt=at.morphTargetsRelative?1:1-gt;ot.getUniforms().setValue(et,"morphTargetBaseInfluence",yt),ot.getUniforms().setValue(et,"morphTargetInfluences",lt)}ot.getUniforms().setValue(et,"morphTargetsTexture",ht.texture,tt),ot.getUniforms().setValue(et,"morphTargetsTextureSize",ht.size)}return{update:it}}function WebGLObjects(et,c,tt,nt){let rt=new WeakMap;function it(ot){const lt=nt.render.frame,ct=ot.geometry,dt=c.get(ot,ct);if(rt.get(dt)!==lt&&(c.update(dt),rt.set(dt,lt)),ot.isInstancedMesh&&(ot.hasEventListener("dispose",at)===!1&&ot.addEventListener("dispose",at),rt.get(ot)!==lt&&(tt.update(ot.instanceMatrix,et.ARRAY_BUFFER),ot.instanceColor!==null&&tt.update(ot.instanceColor,et.ARRAY_BUFFER),rt.set(ot,lt))),ot.isSkinnedMesh){const ht=ot.skeleton;rt.get(ht)!==lt&&(ht.update(),rt.set(ht,lt))}return dt}function st(){rt=new WeakMap}function at(ot){const lt=ot.target;lt.removeEventListener("dispose",at),tt.remove(lt.instanceMatrix),lt.instanceColor!==null&&tt.remove(lt.instanceColor)}return{update:it,dispose:st}}class DepthTexture extends Texture{constructor(c,tt,nt,rt,it,st,at,ot,lt,ct=DepthFormat){if(ct!==DepthFormat&&ct!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");nt===void 0&&ct===DepthFormat&&(nt=UnsignedIntType),nt===void 0&&ct===DepthStencilFormat&&(nt=UnsignedInt248Type),super(null,rt,it,st,at,ot,ct,nt,lt),this.isDepthTexture=!0,this.image={width:c,height:tt},this.magFilter=at!==void 0?at:NearestFilter,this.minFilter=ot!==void 0?ot:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(c){return super.copy(c),this.compareFunction=c.compareFunction,this}toJSON(c){const tt=super.toJSON(c);return this.compareFunction!==null&&(tt.compareFunction=this.compareFunction),tt}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1),emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(et,c,tt){const nt=et[0];if(nt<=0||nt>0)return et;const rt=c*tt;let it=arrayCacheF32[rt];if(it===void 0&&(it=new Float32Array(rt),arrayCacheF32[rt]=it),c!==0){nt.toArray(it,0);for(let st=1,at=0;st!==c;++st)at+=tt,et[st].toArray(it,at)}return it}function arraysEqual(et,c){if(et.length!==c.length)return!1;for(let tt=0,nt=et.length;tt<nt;tt++)if(et[tt]!==c[tt])return!1;return!0}function copyArray(et,c){for(let tt=0,nt=c.length;tt<nt;tt++)et[tt]=c[tt]}function allocTexUnits(et,c){let tt=arrayCacheI32[c];tt===void 0&&(tt=new Int32Array(c),arrayCacheI32[c]=tt);for(let nt=0;nt!==c;++nt)tt[nt]=et.allocateTextureUnit();return tt}function setValueV1f(et,c){const tt=this.cache;tt[0]!==c&&(et.uniform1f(this.addr,c),tt[0]=c)}function setValueV2f(et,c){const tt=this.cache;if(c.x!==void 0)(tt[0]!==c.x||tt[1]!==c.y)&&(et.uniform2f(this.addr,c.x,c.y),tt[0]=c.x,tt[1]=c.y);else{if(arraysEqual(tt,c))return;et.uniform2fv(this.addr,c),copyArray(tt,c)}}function setValueV3f(et,c){const tt=this.cache;if(c.x!==void 0)(tt[0]!==c.x||tt[1]!==c.y||tt[2]!==c.z)&&(et.uniform3f(this.addr,c.x,c.y,c.z),tt[0]=c.x,tt[1]=c.y,tt[2]=c.z);else if(c.r!==void 0)(tt[0]!==c.r||tt[1]!==c.g||tt[2]!==c.b)&&(et.uniform3f(this.addr,c.r,c.g,c.b),tt[0]=c.r,tt[1]=c.g,tt[2]=c.b);else{if(arraysEqual(tt,c))return;et.uniform3fv(this.addr,c),copyArray(tt,c)}}function setValueV4f(et,c){const tt=this.cache;if(c.x!==void 0)(tt[0]!==c.x||tt[1]!==c.y||tt[2]!==c.z||tt[3]!==c.w)&&(et.uniform4f(this.addr,c.x,c.y,c.z,c.w),tt[0]=c.x,tt[1]=c.y,tt[2]=c.z,tt[3]=c.w);else{if(arraysEqual(tt,c))return;et.uniform4fv(this.addr,c),copyArray(tt,c)}}function setValueM2(et,c){const tt=this.cache,nt=c.elements;if(nt===void 0){if(arraysEqual(tt,c))return;et.uniformMatrix2fv(this.addr,!1,c),copyArray(tt,c)}else{if(arraysEqual(tt,nt))return;mat2array.set(nt),et.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(tt,nt)}}function setValueM3(et,c){const tt=this.cache,nt=c.elements;if(nt===void 0){if(arraysEqual(tt,c))return;et.uniformMatrix3fv(this.addr,!1,c),copyArray(tt,c)}else{if(arraysEqual(tt,nt))return;mat3array.set(nt),et.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(tt,nt)}}function setValueM4(et,c){const tt=this.cache,nt=c.elements;if(nt===void 0){if(arraysEqual(tt,c))return;et.uniformMatrix4fv(this.addr,!1,c),copyArray(tt,c)}else{if(arraysEqual(tt,nt))return;mat4array.set(nt),et.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(tt,nt)}}function setValueV1i(et,c){const tt=this.cache;tt[0]!==c&&(et.uniform1i(this.addr,c),tt[0]=c)}function setValueV2i(et,c){const tt=this.cache;if(c.x!==void 0)(tt[0]!==c.x||tt[1]!==c.y)&&(et.uniform2i(this.addr,c.x,c.y),tt[0]=c.x,tt[1]=c.y);else{if(arraysEqual(tt,c))return;et.uniform2iv(this.addr,c),copyArray(tt,c)}}function setValueV3i(et,c){const tt=this.cache;if(c.x!==void 0)(tt[0]!==c.x||tt[1]!==c.y||tt[2]!==c.z)&&(et.uniform3i(this.addr,c.x,c.y,c.z),tt[0]=c.x,tt[1]=c.y,tt[2]=c.z);else{if(arraysEqual(tt,c))return;et.uniform3iv(this.addr,c),copyArray(tt,c)}}function setValueV4i(et,c){const tt=this.cache;if(c.x!==void 0)(tt[0]!==c.x||tt[1]!==c.y||tt[2]!==c.z||tt[3]!==c.w)&&(et.uniform4i(this.addr,c.x,c.y,c.z,c.w),tt[0]=c.x,tt[1]=c.y,tt[2]=c.z,tt[3]=c.w);else{if(arraysEqual(tt,c))return;et.uniform4iv(this.addr,c),copyArray(tt,c)}}function setValueV1ui(et,c){const tt=this.cache;tt[0]!==c&&(et.uniform1ui(this.addr,c),tt[0]=c)}function setValueV2ui(et,c){const tt=this.cache;if(c.x!==void 0)(tt[0]!==c.x||tt[1]!==c.y)&&(et.uniform2ui(this.addr,c.x,c.y),tt[0]=c.x,tt[1]=c.y);else{if(arraysEqual(tt,c))return;et.uniform2uiv(this.addr,c),copyArray(tt,c)}}function setValueV3ui(et,c){const tt=this.cache;if(c.x!==void 0)(tt[0]!==c.x||tt[1]!==c.y||tt[2]!==c.z)&&(et.uniform3ui(this.addr,c.x,c.y,c.z),tt[0]=c.x,tt[1]=c.y,tt[2]=c.z);else{if(arraysEqual(tt,c))return;et.uniform3uiv(this.addr,c),copyArray(tt,c)}}function setValueV4ui(et,c){const tt=this.cache;if(c.x!==void 0)(tt[0]!==c.x||tt[1]!==c.y||tt[2]!==c.z||tt[3]!==c.w)&&(et.uniform4ui(this.addr,c.x,c.y,c.z,c.w),tt[0]=c.x,tt[1]=c.y,tt[2]=c.z,tt[3]=c.w);else{if(arraysEqual(tt,c))return;et.uniform4uiv(this.addr,c),copyArray(tt,c)}}function setValueT1(et,c,tt){const nt=this.cache,rt=tt.allocateTextureUnit();nt[0]!==rt&&(et.uniform1i(this.addr,rt),nt[0]=rt);let it;this.type===et.SAMPLER_2D_SHADOW?(emptyShadowTexture.compareFunction=LessEqualCompare,it=emptyShadowTexture):it=emptyTexture,tt.setTexture2D(c||it,rt)}function setValueT3D1(et,c,tt){const nt=this.cache,rt=tt.allocateTextureUnit();nt[0]!==rt&&(et.uniform1i(this.addr,rt),nt[0]=rt),tt.setTexture3D(c||empty3dTexture,rt)}function setValueT6(et,c,tt){const nt=this.cache,rt=tt.allocateTextureUnit();nt[0]!==rt&&(et.uniform1i(this.addr,rt),nt[0]=rt),tt.setTextureCube(c||emptyCubeTexture,rt)}function setValueT2DArray1(et,c,tt){const nt=this.cache,rt=tt.allocateTextureUnit();nt[0]!==rt&&(et.uniform1i(this.addr,rt),nt[0]=rt),tt.setTexture2DArray(c||emptyArrayTexture,rt)}function getSingularSetter(et){switch(et){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(et,c){et.uniform1fv(this.addr,c)}function setValueV2fArray(et,c){const tt=flatten(c,this.size,2);et.uniform2fv(this.addr,tt)}function setValueV3fArray(et,c){const tt=flatten(c,this.size,3);et.uniform3fv(this.addr,tt)}function setValueV4fArray(et,c){const tt=flatten(c,this.size,4);et.uniform4fv(this.addr,tt)}function setValueM2Array(et,c){const tt=flatten(c,this.size,4);et.uniformMatrix2fv(this.addr,!1,tt)}function setValueM3Array(et,c){const tt=flatten(c,this.size,9);et.uniformMatrix3fv(this.addr,!1,tt)}function setValueM4Array(et,c){const tt=flatten(c,this.size,16);et.uniformMatrix4fv(this.addr,!1,tt)}function setValueV1iArray(et,c){et.uniform1iv(this.addr,c)}function setValueV2iArray(et,c){et.uniform2iv(this.addr,c)}function setValueV3iArray(et,c){et.uniform3iv(this.addr,c)}function setValueV4iArray(et,c){et.uniform4iv(this.addr,c)}function setValueV1uiArray(et,c){et.uniform1uiv(this.addr,c)}function setValueV2uiArray(et,c){et.uniform2uiv(this.addr,c)}function setValueV3uiArray(et,c){et.uniform3uiv(this.addr,c)}function setValueV4uiArray(et,c){et.uniform4uiv(this.addr,c)}function setValueT1Array(et,c,tt){const nt=this.cache,rt=c.length,it=allocTexUnits(tt,rt);arraysEqual(nt,it)||(et.uniform1iv(this.addr,it),copyArray(nt,it));for(let st=0;st!==rt;++st)tt.setTexture2D(c[st]||emptyTexture,it[st])}function setValueT3DArray(et,c,tt){const nt=this.cache,rt=c.length,it=allocTexUnits(tt,rt);arraysEqual(nt,it)||(et.uniform1iv(this.addr,it),copyArray(nt,it));for(let st=0;st!==rt;++st)tt.setTexture3D(c[st]||empty3dTexture,it[st])}function setValueT6Array(et,c,tt){const nt=this.cache,rt=c.length,it=allocTexUnits(tt,rt);arraysEqual(nt,it)||(et.uniform1iv(this.addr,it),copyArray(nt,it));for(let st=0;st!==rt;++st)tt.setTextureCube(c[st]||emptyCubeTexture,it[st])}function setValueT2DArrayArray(et,c,tt){const nt=this.cache,rt=c.length,it=allocTexUnits(tt,rt);arraysEqual(nt,it)||(et.uniform1iv(this.addr,it),copyArray(nt,it));for(let st=0;st!==rt;++st)tt.setTexture2DArray(c[st]||emptyArrayTexture,it[st])}function getPureArraySetter(et){switch(et){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(c,tt,nt){this.id=c,this.addr=nt,this.cache=[],this.type=tt.type,this.setValue=getSingularSetter(tt.type)}}class PureArrayUniform{constructor(c,tt,nt){this.id=c,this.addr=nt,this.cache=[],this.type=tt.type,this.size=tt.size,this.setValue=getPureArraySetter(tt.type)}}class StructuredUniform{constructor(c){this.id=c,this.seq=[],this.map={}}setValue(c,tt,nt){const rt=this.seq;for(let it=0,st=rt.length;it!==st;++it){const at=rt[it];at.setValue(c,tt[at.id],nt)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(et,c){et.seq.push(c),et.map[c.id]=c}function parseUniform(et,c,tt){const nt=et.name,rt=nt.length;for(RePathPart.lastIndex=0;;){const it=RePathPart.exec(nt),st=RePathPart.lastIndex;let at=it[1];const ot=it[2]==="]",lt=it[3];if(ot&&(at=at|0),lt===void 0||lt==="["&&st+2===rt){addUniform(tt,lt===void 0?new SingleUniform(at,et,c):new PureArrayUniform(at,et,c));break}else{let dt=tt.map[at];dt===void 0&&(dt=new StructuredUniform(at),addUniform(tt,dt)),tt=dt}}}class WebGLUniforms{constructor(c,tt){this.seq=[],this.map={};const nt=c.getProgramParameter(tt,c.ACTIVE_UNIFORMS);for(let rt=0;rt<nt;++rt){const it=c.getActiveUniform(tt,rt),st=c.getUniformLocation(tt,it.name);parseUniform(it,st,this)}}setValue(c,tt,nt,rt){const it=this.map[tt];it!==void 0&&it.setValue(c,nt,rt)}setOptional(c,tt,nt){const rt=tt[nt];rt!==void 0&&this.setValue(c,nt,rt)}static upload(c,tt,nt,rt){for(let it=0,st=tt.length;it!==st;++it){const at=tt[it],ot=nt[at.id];ot.needsUpdate!==!1&&at.setValue(c,ot.value,rt)}}static seqWithValue(c,tt){const nt=[];for(let rt=0,it=c.length;rt!==it;++rt){const st=c[rt];st.id in tt&&nt.push(st)}return nt}}function WebGLShader(et,c,tt){const nt=et.createShader(c);return et.shaderSource(nt,tt),et.compileShader(nt),nt}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(et,c){const tt=et.split(`
`),nt=[],rt=Math.max(c-6,0),it=Math.min(c+6,tt.length);for(let st=rt;st<it;st++){const at=st+1;nt.push(`${at===c?">":" "} ${at}: ${tt[st]}`)}return nt.join(`
`)}function getEncodingComponents(et){const c=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),tt=ColorManagement.getPrimaries(et);let nt;switch(c===tt?nt="":c===P3Primaries&&tt===Rec709Primaries?nt="LinearDisplayP3ToLinearSRGB":c===Rec709Primaries&&tt===P3Primaries&&(nt="LinearSRGBToLinearDisplayP3"),et){case LinearSRGBColorSpace:case LinearDisplayP3ColorSpace:return[nt,"LinearTransferOETF"];case SRGBColorSpace:case DisplayP3ColorSpace:return[nt,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",et),[nt,"LinearTransferOETF"]}}function getShaderErrors(et,c,tt){const nt=et.getShaderParameter(c,et.COMPILE_STATUS),rt=et.getShaderInfoLog(c).trim();if(nt&&rt==="")return"";const it=/ERROR: 0:(\d+)/.exec(rt);if(it){const st=parseInt(it[1]);return tt.toUpperCase()+`

`+rt+`

`+handleSource(et.getShaderSource(c),st)}else return rt}function getTexelEncodingFunction(et,c){const tt=getEncodingComponents(c);return`vec4 ${et}( vec4 value ) { return ${tt[0]}( ${tt[1]}( value ) ); }`}function getToneMappingFunction(et,c){let tt;switch(c){case LinearToneMapping:tt="Linear";break;case ReinhardToneMapping:tt="Reinhard";break;case CineonToneMapping:tt="OptimizedCineon";break;case ACESFilmicToneMapping:tt="ACESFilmic";break;case AgXToneMapping:tt="AgX";break;case NeutralToneMapping:tt="Neutral";break;case CustomToneMapping:tt="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",c),tt="Linear"}return"vec3 "+et+"( vec3 color ) { return "+tt+"ToneMapping( color ); }"}const _v0$1=new Vector3;function getLuminanceFunction(){ColorManagement.getLuminanceCoefficients(_v0$1);const et=_v0$1.x.toFixed(4),c=_v0$1.y.toFixed(4),tt=_v0$1.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${et}, ${c}, ${tt} );`,"	return dot( weights, rgb );","}"].join(`
`)}function generateVertexExtensions(et){return[et.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",et.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(et){const c=[];for(const tt in et){const nt=et[tt];nt!==!1&&c.push("#define "+tt+" "+nt)}return c.join(`
`)}function fetchAttributeLocations(et,c){const tt={},nt=et.getProgramParameter(c,et.ACTIVE_ATTRIBUTES);for(let rt=0;rt<nt;rt++){const it=et.getActiveAttrib(c,rt),st=it.name;let at=1;it.type===et.FLOAT_MAT2&&(at=2),it.type===et.FLOAT_MAT3&&(at=3),it.type===et.FLOAT_MAT4&&(at=4),tt[st]={type:it.type,location:et.getAttribLocation(c,st),locationSize:at}}return tt}function filterEmptyLine(et){return et!==""}function replaceLightNums(et,c){const tt=c.numSpotLightShadows+c.numSpotLightMaps-c.numSpotLightShadowsWithMaps;return et.replace(/NUM_DIR_LIGHTS/g,c.numDirLights).replace(/NUM_SPOT_LIGHTS/g,c.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,c.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,tt).replace(/NUM_RECT_AREA_LIGHTS/g,c.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,c.numPointLights).replace(/NUM_HEMI_LIGHTS/g,c.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,c.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,c.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,c.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,c.numPointLightShadows)}function replaceClippingPlaneNums(et,c){return et.replace(/NUM_CLIPPING_PLANES/g,c.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,c.numClippingPlanes-c.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(et){return et.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(et,c){let tt=ShaderChunk[c];if(tt===void 0){const nt=shaderChunkMap.get(c);if(nt!==void 0)tt=ShaderChunk[nt],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',c,nt);else throw new Error("Can not resolve #include <"+c+">")}return resolveIncludes(tt)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(et){return et.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(et,c,tt,nt){let rt="";for(let it=parseInt(c);it<parseInt(tt);it++)rt+=nt.replace(/\[\s*i\s*\]/g,"[ "+it+" ]").replace(/UNROLLED_LOOP_INDEX/g,it);return rt}function generatePrecision(et){let c=`precision ${et.precision} float;
	precision ${et.precision} int;
	precision ${et.precision} sampler2D;
	precision ${et.precision} samplerCube;
	precision ${et.precision} sampler3D;
	precision ${et.precision} sampler2DArray;
	precision ${et.precision} sampler2DShadow;
	precision ${et.precision} samplerCubeShadow;
	precision ${et.precision} sampler2DArrayShadow;
	precision ${et.precision} isampler2D;
	precision ${et.precision} isampler3D;
	precision ${et.precision} isamplerCube;
	precision ${et.precision} isampler2DArray;
	precision ${et.precision} usampler2D;
	precision ${et.precision} usampler3D;
	precision ${et.precision} usamplerCube;
	precision ${et.precision} usampler2DArray;
	`;return et.precision==="highp"?c+=`
#define HIGH_PRECISION`:et.precision==="mediump"?c+=`
#define MEDIUM_PRECISION`:et.precision==="lowp"&&(c+=`
#define LOW_PRECISION`),c}function generateShadowMapTypeDefine(et){let c="SHADOWMAP_TYPE_BASIC";return et.shadowMapType===PCFShadowMap?c="SHADOWMAP_TYPE_PCF":et.shadowMapType===PCFSoftShadowMap?c="SHADOWMAP_TYPE_PCF_SOFT":et.shadowMapType===VSMShadowMap&&(c="SHADOWMAP_TYPE_VSM"),c}function generateEnvMapTypeDefine(et){let c="ENVMAP_TYPE_CUBE";if(et.envMap)switch(et.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:c="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:c="ENVMAP_TYPE_CUBE_UV";break}return c}function generateEnvMapModeDefine(et){let c="ENVMAP_MODE_REFLECTION";if(et.envMap)switch(et.envMapMode){case CubeRefractionMapping:c="ENVMAP_MODE_REFRACTION";break}return c}function generateEnvMapBlendingDefine(et){let c="ENVMAP_BLENDING_NONE";if(et.envMap)switch(et.combine){case MultiplyOperation:c="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:c="ENVMAP_BLENDING_MIX";break;case AddOperation:c="ENVMAP_BLENDING_ADD";break}return c}function generateCubeUVSize(et){const c=et.envMapCubeUVHeight;if(c===null)return null;const tt=Math.log2(c)-2,nt=1/c;return{texelWidth:1/(3*Math.max(Math.pow(2,tt),7*16)),texelHeight:nt,maxMip:tt}}function WebGLProgram(et,c,tt,nt){const rt=et.getContext(),it=tt.defines;let st=tt.vertexShader,at=tt.fragmentShader;const ot=generateShadowMapTypeDefine(tt),lt=generateEnvMapTypeDefine(tt),ct=generateEnvMapModeDefine(tt),dt=generateEnvMapBlendingDefine(tt),ht=generateCubeUVSize(tt),mt=generateVertexExtensions(tt),gt=generateDefines(it),yt=rt.createProgram();let _t,pt,xt=tt.glslVersion?"#version "+tt.glslVersion+`
`:"";tt.isRawShaderMaterial?(_t=["#define SHADER_TYPE "+tt.shaderType,"#define SHADER_NAME "+tt.shaderName,gt].filter(filterEmptyLine).join(`
`),_t.length>0&&(_t+=`
`),pt=["#define SHADER_TYPE "+tt.shaderType,"#define SHADER_NAME "+tt.shaderName,gt].filter(filterEmptyLine).join(`
`),pt.length>0&&(pt+=`
`)):(_t=[generatePrecision(tt),"#define SHADER_TYPE "+tt.shaderType,"#define SHADER_NAME "+tt.shaderName,gt,tt.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",tt.batching?"#define USE_BATCHING":"",tt.batchingColor?"#define USE_BATCHING_COLOR":"",tt.instancing?"#define USE_INSTANCING":"",tt.instancingColor?"#define USE_INSTANCING_COLOR":"",tt.instancingMorph?"#define USE_INSTANCING_MORPH":"",tt.useFog&&tt.fog?"#define USE_FOG":"",tt.useFog&&tt.fogExp2?"#define FOG_EXP2":"",tt.map?"#define USE_MAP":"",tt.envMap?"#define USE_ENVMAP":"",tt.envMap?"#define "+ct:"",tt.lightMap?"#define USE_LIGHTMAP":"",tt.aoMap?"#define USE_AOMAP":"",tt.bumpMap?"#define USE_BUMPMAP":"",tt.normalMap?"#define USE_NORMALMAP":"",tt.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",tt.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",tt.displacementMap?"#define USE_DISPLACEMENTMAP":"",tt.emissiveMap?"#define USE_EMISSIVEMAP":"",tt.anisotropy?"#define USE_ANISOTROPY":"",tt.anisotropyMap?"#define USE_ANISOTROPYMAP":"",tt.clearcoatMap?"#define USE_CLEARCOATMAP":"",tt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",tt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",tt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",tt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",tt.specularMap?"#define USE_SPECULARMAP":"",tt.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",tt.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",tt.roughnessMap?"#define USE_ROUGHNESSMAP":"",tt.metalnessMap?"#define USE_METALNESSMAP":"",tt.alphaMap?"#define USE_ALPHAMAP":"",tt.alphaHash?"#define USE_ALPHAHASH":"",tt.transmission?"#define USE_TRANSMISSION":"",tt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",tt.thicknessMap?"#define USE_THICKNESSMAP":"",tt.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",tt.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",tt.mapUv?"#define MAP_UV "+tt.mapUv:"",tt.alphaMapUv?"#define ALPHAMAP_UV "+tt.alphaMapUv:"",tt.lightMapUv?"#define LIGHTMAP_UV "+tt.lightMapUv:"",tt.aoMapUv?"#define AOMAP_UV "+tt.aoMapUv:"",tt.emissiveMapUv?"#define EMISSIVEMAP_UV "+tt.emissiveMapUv:"",tt.bumpMapUv?"#define BUMPMAP_UV "+tt.bumpMapUv:"",tt.normalMapUv?"#define NORMALMAP_UV "+tt.normalMapUv:"",tt.displacementMapUv?"#define DISPLACEMENTMAP_UV "+tt.displacementMapUv:"",tt.metalnessMapUv?"#define METALNESSMAP_UV "+tt.metalnessMapUv:"",tt.roughnessMapUv?"#define ROUGHNESSMAP_UV "+tt.roughnessMapUv:"",tt.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+tt.anisotropyMapUv:"",tt.clearcoatMapUv?"#define CLEARCOATMAP_UV "+tt.clearcoatMapUv:"",tt.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+tt.clearcoatNormalMapUv:"",tt.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+tt.clearcoatRoughnessMapUv:"",tt.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+tt.iridescenceMapUv:"",tt.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+tt.iridescenceThicknessMapUv:"",tt.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+tt.sheenColorMapUv:"",tt.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+tt.sheenRoughnessMapUv:"",tt.specularMapUv?"#define SPECULARMAP_UV "+tt.specularMapUv:"",tt.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+tt.specularColorMapUv:"",tt.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+tt.specularIntensityMapUv:"",tt.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+tt.transmissionMapUv:"",tt.thicknessMapUv?"#define THICKNESSMAP_UV "+tt.thicknessMapUv:"",tt.vertexTangents&&tt.flatShading===!1?"#define USE_TANGENT":"",tt.vertexColors?"#define USE_COLOR":"",tt.vertexAlphas?"#define USE_COLOR_ALPHA":"",tt.vertexUv1s?"#define USE_UV1":"",tt.vertexUv2s?"#define USE_UV2":"",tt.vertexUv3s?"#define USE_UV3":"",tt.pointsUvs?"#define USE_POINTS_UV":"",tt.flatShading?"#define FLAT_SHADED":"",tt.skinning?"#define USE_SKINNING":"",tt.morphTargets?"#define USE_MORPHTARGETS":"",tt.morphNormals&&tt.flatShading===!1?"#define USE_MORPHNORMALS":"",tt.morphColors?"#define USE_MORPHCOLORS":"",tt.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+tt.morphTextureStride:"",tt.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+tt.morphTargetsCount:"",tt.doubleSided?"#define DOUBLE_SIDED":"",tt.flipSided?"#define FLIP_SIDED":"",tt.shadowMapEnabled?"#define USE_SHADOWMAP":"",tt.shadowMapEnabled?"#define "+ot:"",tt.sizeAttenuation?"#define USE_SIZEATTENUATION":"",tt.numLightProbes>0?"#define USE_LIGHT_PROBES":"",tt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),pt=[generatePrecision(tt),"#define SHADER_TYPE "+tt.shaderType,"#define SHADER_NAME "+tt.shaderName,gt,tt.useFog&&tt.fog?"#define USE_FOG":"",tt.useFog&&tt.fogExp2?"#define FOG_EXP2":"",tt.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",tt.map?"#define USE_MAP":"",tt.matcap?"#define USE_MATCAP":"",tt.envMap?"#define USE_ENVMAP":"",tt.envMap?"#define "+lt:"",tt.envMap?"#define "+ct:"",tt.envMap?"#define "+dt:"",ht?"#define CUBEUV_TEXEL_WIDTH "+ht.texelWidth:"",ht?"#define CUBEUV_TEXEL_HEIGHT "+ht.texelHeight:"",ht?"#define CUBEUV_MAX_MIP "+ht.maxMip+".0":"",tt.lightMap?"#define USE_LIGHTMAP":"",tt.aoMap?"#define USE_AOMAP":"",tt.bumpMap?"#define USE_BUMPMAP":"",tt.normalMap?"#define USE_NORMALMAP":"",tt.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",tt.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",tt.emissiveMap?"#define USE_EMISSIVEMAP":"",tt.anisotropy?"#define USE_ANISOTROPY":"",tt.anisotropyMap?"#define USE_ANISOTROPYMAP":"",tt.clearcoat?"#define USE_CLEARCOAT":"",tt.clearcoatMap?"#define USE_CLEARCOATMAP":"",tt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",tt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",tt.dispersion?"#define USE_DISPERSION":"",tt.iridescence?"#define USE_IRIDESCENCE":"",tt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",tt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",tt.specularMap?"#define USE_SPECULARMAP":"",tt.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",tt.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",tt.roughnessMap?"#define USE_ROUGHNESSMAP":"",tt.metalnessMap?"#define USE_METALNESSMAP":"",tt.alphaMap?"#define USE_ALPHAMAP":"",tt.alphaTest?"#define USE_ALPHATEST":"",tt.alphaHash?"#define USE_ALPHAHASH":"",tt.sheen?"#define USE_SHEEN":"",tt.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",tt.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",tt.transmission?"#define USE_TRANSMISSION":"",tt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",tt.thicknessMap?"#define USE_THICKNESSMAP":"",tt.vertexTangents&&tt.flatShading===!1?"#define USE_TANGENT":"",tt.vertexColors||tt.instancingColor||tt.batchingColor?"#define USE_COLOR":"",tt.vertexAlphas?"#define USE_COLOR_ALPHA":"",tt.vertexUv1s?"#define USE_UV1":"",tt.vertexUv2s?"#define USE_UV2":"",tt.vertexUv3s?"#define USE_UV3":"",tt.pointsUvs?"#define USE_POINTS_UV":"",tt.gradientMap?"#define USE_GRADIENTMAP":"",tt.flatShading?"#define FLAT_SHADED":"",tt.doubleSided?"#define DOUBLE_SIDED":"",tt.flipSided?"#define FLIP_SIDED":"",tt.shadowMapEnabled?"#define USE_SHADOWMAP":"",tt.shadowMapEnabled?"#define "+ot:"",tt.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",tt.numLightProbes>0?"#define USE_LIGHT_PROBES":"",tt.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",tt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",tt.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",tt.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",tt.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",tt.toneMapping):"",tt.dithering?"#define DITHERING":"",tt.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",tt.outputColorSpace),getLuminanceFunction(),tt.useDepthPacking?"#define DEPTH_PACKING "+tt.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),st=resolveIncludes(st),st=replaceLightNums(st,tt),st=replaceClippingPlaneNums(st,tt),at=resolveIncludes(at),at=replaceLightNums(at,tt),at=replaceClippingPlaneNums(at,tt),st=unrollLoops(st),at=unrollLoops(at),tt.isRawShaderMaterial!==!0&&(xt=`#version 300 es
`,_t=[mt,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_t,pt=["#define varying in",tt.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",tt.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+pt);const vt=xt+_t+st,St=xt+pt+at,wt=WebGLShader(rt,rt.VERTEX_SHADER,vt),Mt=WebGLShader(rt,rt.FRAGMENT_SHADER,St);rt.attachShader(yt,wt),rt.attachShader(yt,Mt),tt.index0AttributeName!==void 0?rt.bindAttribLocation(yt,0,tt.index0AttributeName):tt.morphTargets===!0&&rt.bindAttribLocation(yt,0,"position"),rt.linkProgram(yt);function Ct(Nt){if(et.debug.checkShaderErrors){const zt=rt.getProgramInfoLog(yt).trim(),Wt=rt.getShaderInfoLog(wt).trim(),Yt=rt.getShaderInfoLog(Mt).trim();let Xt=!0,Ft=!0;if(rt.getProgramParameter(yt,rt.LINK_STATUS)===!1)if(Xt=!1,typeof et.debug.onShaderError=="function")et.debug.onShaderError(rt,yt,wt,Mt);else{const Ut=getShaderErrors(rt,wt,"vertex"),At=getShaderErrors(rt,Mt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+rt.getError()+" - VALIDATE_STATUS "+rt.getProgramParameter(yt,rt.VALIDATE_STATUS)+`

Material Name: `+Nt.name+`
Material Type: `+Nt.type+`

Program Info Log: `+zt+`
`+Ut+`
`+At)}else zt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",zt):(Wt===""||Yt==="")&&(Ft=!1);Ft&&(Nt.diagnostics={runnable:Xt,programLog:zt,vertexShader:{log:Wt,prefix:_t},fragmentShader:{log:Yt,prefix:pt}})}rt.deleteShader(wt),rt.deleteShader(Mt),Rt=new WebGLUniforms(rt,yt),Lt=fetchAttributeLocations(rt,yt)}let Rt;this.getUniforms=function(){return Rt===void 0&&Ct(this),Rt};let Lt;this.getAttributes=function(){return Lt===void 0&&Ct(this),Lt};let It=tt.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return It===!1&&(It=rt.getProgramParameter(yt,COMPLETION_STATUS_KHR)),It},this.destroy=function(){nt.releaseStatesOfProgram(this),rt.deleteProgram(yt),this.program=void 0},this.type=tt.shaderType,this.name=tt.shaderName,this.id=programIdCount++,this.cacheKey=c,this.usedTimes=1,this.program=yt,this.vertexShader=wt,this.fragmentShader=Mt,this}let _id$1=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(c){const tt=c.vertexShader,nt=c.fragmentShader,rt=this._getShaderStage(tt),it=this._getShaderStage(nt),st=this._getShaderCacheForMaterial(c);return st.has(rt)===!1&&(st.add(rt),rt.usedTimes++),st.has(it)===!1&&(st.add(it),it.usedTimes++),this}remove(c){const tt=this.materialCache.get(c);for(const nt of tt)nt.usedTimes--,nt.usedTimes===0&&this.shaderCache.delete(nt.code);return this.materialCache.delete(c),this}getVertexShaderID(c){return this._getShaderStage(c.vertexShader).id}getFragmentShaderID(c){return this._getShaderStage(c.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(c){const tt=this.materialCache;let nt=tt.get(c);return nt===void 0&&(nt=new Set,tt.set(c,nt)),nt}_getShaderStage(c){const tt=this.shaderCache;let nt=tt.get(c);return nt===void 0&&(nt=new WebGLShaderStage(c),tt.set(c,nt)),nt}}class WebGLShaderStage{constructor(c){this.id=_id$1++,this.code=c,this.usedTimes=0}}function WebGLPrograms(et,c,tt,nt,rt,it,st){const at=new Layers,ot=new WebGLShaderCache,lt=new Set,ct=[],dt=rt.logarithmicDepthBuffer,ht=rt.vertexTextures;let mt=rt.precision;const gt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function yt(Lt){return lt.add(Lt),Lt===0?"uv":`uv${Lt}`}function _t(Lt,It,Nt,zt,Wt){const Yt=zt.fog,Xt=Wt.geometry,Ft=Lt.isMeshStandardMaterial?zt.environment:null,Ut=(Lt.isMeshStandardMaterial?tt:c).get(Lt.envMap||Ft),At=Ut&&Ut.mapping===CubeUVReflectionMapping?Ut.image.height:null,kt=gt[Lt.type];Lt.precision!==null&&(mt=rt.getMaxPrecision(Lt.precision),mt!==Lt.precision&&console.warn("THREE.WebGLProgram.getParameters:",Lt.precision,"not supported, using",mt,"instead."));const Ot=Xt.morphAttributes.position||Xt.morphAttributes.normal||Xt.morphAttributes.color,Bt=Ot!==void 0?Ot.length:0;let Qt=0;Xt.morphAttributes.position!==void 0&&(Qt=1),Xt.morphAttributes.normal!==void 0&&(Qt=2),Xt.morphAttributes.color!==void 0&&(Qt=3);let an,Kt,ln,vn;if(kt){const ur=ShaderLib[kt];an=ur.vertexShader,Kt=ur.fragmentShader}else an=Lt.vertexShader,Kt=Lt.fragmentShader,ot.update(Lt),ln=ot.getVertexShaderID(Lt),vn=ot.getFragmentShaderID(Lt);const En=et.getRenderTarget(),jn=Wt.isInstancedMesh===!0,qn=Wt.isBatchedMesh===!0,Vn=!!Lt.map,Gn=!!Lt.matcap,$t=!!Ut,fn=!!Lt.aoMap,rn=!!Lt.lightMap,Pn=!!Lt.bumpMap,mn=!!Lt.normalMap,zn=!!Lt.displacementMap,Tn=!!Lt.emissiveMap,Ln=!!Lt.metalnessMap,Gt=!!Lt.roughnessMap,Vt=Lt.anisotropy>0,sn=Lt.clearcoat>0,Sn=Lt.dispersion>0,gn=Lt.iridescence>0,_n=Lt.sheen>0,On=Lt.transmission>0,An=Vt&&!!Lt.anisotropyMap,kn=sn&&!!Lt.clearcoatMap,er=sn&&!!Lt.clearcoatNormalMap,wn=sn&&!!Lt.clearcoatRoughnessMap,Fn=gn&&!!Lt.iridescenceMap,dr=gn&&!!Lt.iridescenceThicknessMap,rr=_n&&!!Lt.sheenColorMap,Un=_n&&!!Lt.sheenRoughnessMap,ir=!!Lt.specularMap,Zt=!!Lt.specularColorMap,bn=!!Lt.specularIntensityMap,qt=On&&!!Lt.transmissionMap,yn=On&&!!Lt.thicknessMap,dn=!!Lt.gradientMap,xn=!!Lt.alphaMap,Mn=Lt.alphaTest>0,tr=!!Lt.alphaHash,cr=!!Lt.extensions;let pr=NoToneMapping;Lt.toneMapped&&(En===null||En.isXRRenderTarget===!0)&&(pr=et.toneMapping);const xr={shaderID:kt,shaderType:Lt.type,shaderName:Lt.name,vertexShader:an,fragmentShader:Kt,defines:Lt.defines,customVertexShaderID:ln,customFragmentShaderID:vn,isRawShaderMaterial:Lt.isRawShaderMaterial===!0,glslVersion:Lt.glslVersion,precision:mt,batching:qn,batchingColor:qn&&Wt._colorsTexture!==null,instancing:jn,instancingColor:jn&&Wt.instanceColor!==null,instancingMorph:jn&&Wt.morphTexture!==null,supportsVertexTextures:ht,outputColorSpace:En===null?et.outputColorSpace:En.isXRRenderTarget===!0?En.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!Lt.alphaToCoverage,map:Vn,matcap:Gn,envMap:$t,envMapMode:$t&&Ut.mapping,envMapCubeUVHeight:At,aoMap:fn,lightMap:rn,bumpMap:Pn,normalMap:mn,displacementMap:ht&&zn,emissiveMap:Tn,normalMapObjectSpace:mn&&Lt.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:mn&&Lt.normalMapType===TangentSpaceNormalMap,metalnessMap:Ln,roughnessMap:Gt,anisotropy:Vt,anisotropyMap:An,clearcoat:sn,clearcoatMap:kn,clearcoatNormalMap:er,clearcoatRoughnessMap:wn,dispersion:Sn,iridescence:gn,iridescenceMap:Fn,iridescenceThicknessMap:dr,sheen:_n,sheenColorMap:rr,sheenRoughnessMap:Un,specularMap:ir,specularColorMap:Zt,specularIntensityMap:bn,transmission:On,transmissionMap:qt,thicknessMap:yn,gradientMap:dn,opaque:Lt.transparent===!1&&Lt.blending===NormalBlending&&Lt.alphaToCoverage===!1,alphaMap:xn,alphaTest:Mn,alphaHash:tr,combine:Lt.combine,mapUv:Vn&&yt(Lt.map.channel),aoMapUv:fn&&yt(Lt.aoMap.channel),lightMapUv:rn&&yt(Lt.lightMap.channel),bumpMapUv:Pn&&yt(Lt.bumpMap.channel),normalMapUv:mn&&yt(Lt.normalMap.channel),displacementMapUv:zn&&yt(Lt.displacementMap.channel),emissiveMapUv:Tn&&yt(Lt.emissiveMap.channel),metalnessMapUv:Ln&&yt(Lt.metalnessMap.channel),roughnessMapUv:Gt&&yt(Lt.roughnessMap.channel),anisotropyMapUv:An&&yt(Lt.anisotropyMap.channel),clearcoatMapUv:kn&&yt(Lt.clearcoatMap.channel),clearcoatNormalMapUv:er&&yt(Lt.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:wn&&yt(Lt.clearcoatRoughnessMap.channel),iridescenceMapUv:Fn&&yt(Lt.iridescenceMap.channel),iridescenceThicknessMapUv:dr&&yt(Lt.iridescenceThicknessMap.channel),sheenColorMapUv:rr&&yt(Lt.sheenColorMap.channel),sheenRoughnessMapUv:Un&&yt(Lt.sheenRoughnessMap.channel),specularMapUv:ir&&yt(Lt.specularMap.channel),specularColorMapUv:Zt&&yt(Lt.specularColorMap.channel),specularIntensityMapUv:bn&&yt(Lt.specularIntensityMap.channel),transmissionMapUv:qt&&yt(Lt.transmissionMap.channel),thicknessMapUv:yn&&yt(Lt.thicknessMap.channel),alphaMapUv:xn&&yt(Lt.alphaMap.channel),vertexTangents:!!Xt.attributes.tangent&&(mn||Vt),vertexColors:Lt.vertexColors,vertexAlphas:Lt.vertexColors===!0&&!!Xt.attributes.color&&Xt.attributes.color.itemSize===4,pointsUvs:Wt.isPoints===!0&&!!Xt.attributes.uv&&(Vn||xn),fog:!!Yt,useFog:Lt.fog===!0,fogExp2:!!Yt&&Yt.isFogExp2,flatShading:Lt.flatShading===!0,sizeAttenuation:Lt.sizeAttenuation===!0,logarithmicDepthBuffer:dt,skinning:Wt.isSkinnedMesh===!0,morphTargets:Xt.morphAttributes.position!==void 0,morphNormals:Xt.morphAttributes.normal!==void 0,morphColors:Xt.morphAttributes.color!==void 0,morphTargetsCount:Bt,morphTextureStride:Qt,numDirLights:It.directional.length,numPointLights:It.point.length,numSpotLights:It.spot.length,numSpotLightMaps:It.spotLightMap.length,numRectAreaLights:It.rectArea.length,numHemiLights:It.hemi.length,numDirLightShadows:It.directionalShadowMap.length,numPointLightShadows:It.pointShadowMap.length,numSpotLightShadows:It.spotShadowMap.length,numSpotLightShadowsWithMaps:It.numSpotLightShadowsWithMaps,numLightProbes:It.numLightProbes,numClippingPlanes:st.numPlanes,numClipIntersection:st.numIntersection,dithering:Lt.dithering,shadowMapEnabled:et.shadowMap.enabled&&Nt.length>0,shadowMapType:et.shadowMap.type,toneMapping:pr,decodeVideoTexture:Vn&&Lt.map.isVideoTexture===!0&&ColorManagement.getTransfer(Lt.map.colorSpace)===SRGBTransfer,premultipliedAlpha:Lt.premultipliedAlpha,doubleSided:Lt.side===DoubleSide,flipSided:Lt.side===BackSide,useDepthPacking:Lt.depthPacking>=0,depthPacking:Lt.depthPacking||0,index0AttributeName:Lt.index0AttributeName,extensionClipCullDistance:cr&&Lt.extensions.clipCullDistance===!0&&nt.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(cr&&Lt.extensions.multiDraw===!0||qn)&&nt.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:nt.has("KHR_parallel_shader_compile"),customProgramCacheKey:Lt.customProgramCacheKey()};return xr.vertexUv1s=lt.has(1),xr.vertexUv2s=lt.has(2),xr.vertexUv3s=lt.has(3),lt.clear(),xr}function pt(Lt){const It=[];if(Lt.shaderID?It.push(Lt.shaderID):(It.push(Lt.customVertexShaderID),It.push(Lt.customFragmentShaderID)),Lt.defines!==void 0)for(const Nt in Lt.defines)It.push(Nt),It.push(Lt.defines[Nt]);return Lt.isRawShaderMaterial===!1&&(xt(It,Lt),vt(It,Lt),It.push(et.outputColorSpace)),It.push(Lt.customProgramCacheKey),It.join()}function xt(Lt,It){Lt.push(It.precision),Lt.push(It.outputColorSpace),Lt.push(It.envMapMode),Lt.push(It.envMapCubeUVHeight),Lt.push(It.mapUv),Lt.push(It.alphaMapUv),Lt.push(It.lightMapUv),Lt.push(It.aoMapUv),Lt.push(It.bumpMapUv),Lt.push(It.normalMapUv),Lt.push(It.displacementMapUv),Lt.push(It.emissiveMapUv),Lt.push(It.metalnessMapUv),Lt.push(It.roughnessMapUv),Lt.push(It.anisotropyMapUv),Lt.push(It.clearcoatMapUv),Lt.push(It.clearcoatNormalMapUv),Lt.push(It.clearcoatRoughnessMapUv),Lt.push(It.iridescenceMapUv),Lt.push(It.iridescenceThicknessMapUv),Lt.push(It.sheenColorMapUv),Lt.push(It.sheenRoughnessMapUv),Lt.push(It.specularMapUv),Lt.push(It.specularColorMapUv),Lt.push(It.specularIntensityMapUv),Lt.push(It.transmissionMapUv),Lt.push(It.thicknessMapUv),Lt.push(It.combine),Lt.push(It.fogExp2),Lt.push(It.sizeAttenuation),Lt.push(It.morphTargetsCount),Lt.push(It.morphAttributeCount),Lt.push(It.numDirLights),Lt.push(It.numPointLights),Lt.push(It.numSpotLights),Lt.push(It.numSpotLightMaps),Lt.push(It.numHemiLights),Lt.push(It.numRectAreaLights),Lt.push(It.numDirLightShadows),Lt.push(It.numPointLightShadows),Lt.push(It.numSpotLightShadows),Lt.push(It.numSpotLightShadowsWithMaps),Lt.push(It.numLightProbes),Lt.push(It.shadowMapType),Lt.push(It.toneMapping),Lt.push(It.numClippingPlanes),Lt.push(It.numClipIntersection),Lt.push(It.depthPacking)}function vt(Lt,It){at.disableAll(),It.supportsVertexTextures&&at.enable(0),It.instancing&&at.enable(1),It.instancingColor&&at.enable(2),It.instancingMorph&&at.enable(3),It.matcap&&at.enable(4),It.envMap&&at.enable(5),It.normalMapObjectSpace&&at.enable(6),It.normalMapTangentSpace&&at.enable(7),It.clearcoat&&at.enable(8),It.iridescence&&at.enable(9),It.alphaTest&&at.enable(10),It.vertexColors&&at.enable(11),It.vertexAlphas&&at.enable(12),It.vertexUv1s&&at.enable(13),It.vertexUv2s&&at.enable(14),It.vertexUv3s&&at.enable(15),It.vertexTangents&&at.enable(16),It.anisotropy&&at.enable(17),It.alphaHash&&at.enable(18),It.batching&&at.enable(19),It.dispersion&&at.enable(20),It.batchingColor&&at.enable(21),Lt.push(at.mask),at.disableAll(),It.fog&&at.enable(0),It.useFog&&at.enable(1),It.flatShading&&at.enable(2),It.logarithmicDepthBuffer&&at.enable(3),It.skinning&&at.enable(4),It.morphTargets&&at.enable(5),It.morphNormals&&at.enable(6),It.morphColors&&at.enable(7),It.premultipliedAlpha&&at.enable(8),It.shadowMapEnabled&&at.enable(9),It.doubleSided&&at.enable(10),It.flipSided&&at.enable(11),It.useDepthPacking&&at.enable(12),It.dithering&&at.enable(13),It.transmission&&at.enable(14),It.sheen&&at.enable(15),It.opaque&&at.enable(16),It.pointsUvs&&at.enable(17),It.decodeVideoTexture&&at.enable(18),It.alphaToCoverage&&at.enable(19),Lt.push(at.mask)}function St(Lt){const It=gt[Lt.type];let Nt;if(It){const zt=ShaderLib[It];Nt=UniformsUtils.clone(zt.uniforms)}else Nt=Lt.uniforms;return Nt}function wt(Lt,It){let Nt;for(let zt=0,Wt=ct.length;zt<Wt;zt++){const Yt=ct[zt];if(Yt.cacheKey===It){Nt=Yt,++Nt.usedTimes;break}}return Nt===void 0&&(Nt=new WebGLProgram(et,It,Lt,it),ct.push(Nt)),Nt}function Mt(Lt){if(--Lt.usedTimes===0){const It=ct.indexOf(Lt);ct[It]=ct[ct.length-1],ct.pop(),Lt.destroy()}}function Ct(Lt){ot.remove(Lt)}function Rt(){ot.dispose()}return{getParameters:_t,getProgramCacheKey:pt,getUniforms:St,acquireProgram:wt,releaseProgram:Mt,releaseShaderCache:Ct,programs:ct,dispose:Rt}}function WebGLProperties(){let et=new WeakMap;function c(it){let st=et.get(it);return st===void 0&&(st={},et.set(it,st)),st}function tt(it){et.delete(it)}function nt(it,st,at){et.get(it)[st]=at}function rt(){et=new WeakMap}return{get:c,remove:tt,update:nt,dispose:rt}}function painterSortStable(et,c){return et.groupOrder!==c.groupOrder?et.groupOrder-c.groupOrder:et.renderOrder!==c.renderOrder?et.renderOrder-c.renderOrder:et.material.id!==c.material.id?et.material.id-c.material.id:et.z!==c.z?et.z-c.z:et.id-c.id}function reversePainterSortStable(et,c){return et.groupOrder!==c.groupOrder?et.groupOrder-c.groupOrder:et.renderOrder!==c.renderOrder?et.renderOrder-c.renderOrder:et.z!==c.z?c.z-et.z:et.id-c.id}function WebGLRenderList(){const et=[];let c=0;const tt=[],nt=[],rt=[];function it(){c=0,tt.length=0,nt.length=0,rt.length=0}function st(dt,ht,mt,gt,yt,_t){let pt=et[c];return pt===void 0?(pt={id:dt.id,object:dt,geometry:ht,material:mt,groupOrder:gt,renderOrder:dt.renderOrder,z:yt,group:_t},et[c]=pt):(pt.id=dt.id,pt.object=dt,pt.geometry=ht,pt.material=mt,pt.groupOrder=gt,pt.renderOrder=dt.renderOrder,pt.z=yt,pt.group=_t),c++,pt}function at(dt,ht,mt,gt,yt,_t){const pt=st(dt,ht,mt,gt,yt,_t);mt.transmission>0?nt.push(pt):mt.transparent===!0?rt.push(pt):tt.push(pt)}function ot(dt,ht,mt,gt,yt,_t){const pt=st(dt,ht,mt,gt,yt,_t);mt.transmission>0?nt.unshift(pt):mt.transparent===!0?rt.unshift(pt):tt.unshift(pt)}function lt(dt,ht){tt.length>1&&tt.sort(dt||painterSortStable),nt.length>1&&nt.sort(ht||reversePainterSortStable),rt.length>1&&rt.sort(ht||reversePainterSortStable)}function ct(){for(let dt=c,ht=et.length;dt<ht;dt++){const mt=et[dt];if(mt.id===null)break;mt.id=null,mt.object=null,mt.geometry=null,mt.material=null,mt.group=null}}return{opaque:tt,transmissive:nt,transparent:rt,init:it,push:at,unshift:ot,finish:ct,sort:lt}}function WebGLRenderLists(){let et=new WeakMap;function c(nt,rt){const it=et.get(nt);let st;return it===void 0?(st=new WebGLRenderList,et.set(nt,[st])):rt>=it.length?(st=new WebGLRenderList,it.push(st)):st=it[rt],st}function tt(){et=new WeakMap}return{get:c,dispose:tt}}function UniformsCache(){const et={};return{get:function(c){if(et[c.id]!==void 0)return et[c.id];let tt;switch(c.type){case"DirectionalLight":tt={direction:new Vector3,color:new Color};break;case"SpotLight":tt={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":tt={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":tt={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":tt={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return et[c.id]=tt,tt}}}function ShadowUniformsCache(){const et={};return{get:function(c){if(et[c.id]!==void 0)return et[c.id];let tt;switch(c.type){case"DirectionalLight":tt={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":tt={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":tt={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return et[c.id]=tt,tt}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(et,c){return(c.castShadow?2:0)-(et.castShadow?2:0)+(c.map?1:0)-(et.map?1:0)}function WebGLLights(et){const c=new UniformsCache,tt=ShadowUniformsCache(),nt={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let lt=0;lt<9;lt++)nt.probe.push(new Vector3);const rt=new Vector3,it=new Matrix4,st=new Matrix4;function at(lt){let ct=0,dt=0,ht=0;for(let Lt=0;Lt<9;Lt++)nt.probe[Lt].set(0,0,0);let mt=0,gt=0,yt=0,_t=0,pt=0,xt=0,vt=0,St=0,wt=0,Mt=0,Ct=0;lt.sort(shadowCastingAndTexturingLightsFirst);for(let Lt=0,It=lt.length;Lt<It;Lt++){const Nt=lt[Lt],zt=Nt.color,Wt=Nt.intensity,Yt=Nt.distance,Xt=Nt.shadow&&Nt.shadow.map?Nt.shadow.map.texture:null;if(Nt.isAmbientLight)ct+=zt.r*Wt,dt+=zt.g*Wt,ht+=zt.b*Wt;else if(Nt.isLightProbe){for(let Ft=0;Ft<9;Ft++)nt.probe[Ft].addScaledVector(Nt.sh.coefficients[Ft],Wt);Ct++}else if(Nt.isDirectionalLight){const Ft=c.get(Nt);if(Ft.color.copy(Nt.color).multiplyScalar(Nt.intensity),Nt.castShadow){const Ut=Nt.shadow,At=tt.get(Nt);At.shadowIntensity=Ut.intensity,At.shadowBias=Ut.bias,At.shadowNormalBias=Ut.normalBias,At.shadowRadius=Ut.radius,At.shadowMapSize=Ut.mapSize,nt.directionalShadow[mt]=At,nt.directionalShadowMap[mt]=Xt,nt.directionalShadowMatrix[mt]=Nt.shadow.matrix,xt++}nt.directional[mt]=Ft,mt++}else if(Nt.isSpotLight){const Ft=c.get(Nt);Ft.position.setFromMatrixPosition(Nt.matrixWorld),Ft.color.copy(zt).multiplyScalar(Wt),Ft.distance=Yt,Ft.coneCos=Math.cos(Nt.angle),Ft.penumbraCos=Math.cos(Nt.angle*(1-Nt.penumbra)),Ft.decay=Nt.decay,nt.spot[yt]=Ft;const Ut=Nt.shadow;if(Nt.map&&(nt.spotLightMap[wt]=Nt.map,wt++,Ut.updateMatrices(Nt),Nt.castShadow&&Mt++),nt.spotLightMatrix[yt]=Ut.matrix,Nt.castShadow){const At=tt.get(Nt);At.shadowIntensity=Ut.intensity,At.shadowBias=Ut.bias,At.shadowNormalBias=Ut.normalBias,At.shadowRadius=Ut.radius,At.shadowMapSize=Ut.mapSize,nt.spotShadow[yt]=At,nt.spotShadowMap[yt]=Xt,St++}yt++}else if(Nt.isRectAreaLight){const Ft=c.get(Nt);Ft.color.copy(zt).multiplyScalar(Wt),Ft.halfWidth.set(Nt.width*.5,0,0),Ft.halfHeight.set(0,Nt.height*.5,0),nt.rectArea[_t]=Ft,_t++}else if(Nt.isPointLight){const Ft=c.get(Nt);if(Ft.color.copy(Nt.color).multiplyScalar(Nt.intensity),Ft.distance=Nt.distance,Ft.decay=Nt.decay,Nt.castShadow){const Ut=Nt.shadow,At=tt.get(Nt);At.shadowIntensity=Ut.intensity,At.shadowBias=Ut.bias,At.shadowNormalBias=Ut.normalBias,At.shadowRadius=Ut.radius,At.shadowMapSize=Ut.mapSize,At.shadowCameraNear=Ut.camera.near,At.shadowCameraFar=Ut.camera.far,nt.pointShadow[gt]=At,nt.pointShadowMap[gt]=Xt,nt.pointShadowMatrix[gt]=Nt.shadow.matrix,vt++}nt.point[gt]=Ft,gt++}else if(Nt.isHemisphereLight){const Ft=c.get(Nt);Ft.skyColor.copy(Nt.color).multiplyScalar(Wt),Ft.groundColor.copy(Nt.groundColor).multiplyScalar(Wt),nt.hemi[pt]=Ft,pt++}}_t>0&&(et.has("OES_texture_float_linear")===!0?(nt.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,nt.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(nt.rectAreaLTC1=UniformsLib.LTC_HALF_1,nt.rectAreaLTC2=UniformsLib.LTC_HALF_2)),nt.ambient[0]=ct,nt.ambient[1]=dt,nt.ambient[2]=ht;const Rt=nt.hash;(Rt.directionalLength!==mt||Rt.pointLength!==gt||Rt.spotLength!==yt||Rt.rectAreaLength!==_t||Rt.hemiLength!==pt||Rt.numDirectionalShadows!==xt||Rt.numPointShadows!==vt||Rt.numSpotShadows!==St||Rt.numSpotMaps!==wt||Rt.numLightProbes!==Ct)&&(nt.directional.length=mt,nt.spot.length=yt,nt.rectArea.length=_t,nt.point.length=gt,nt.hemi.length=pt,nt.directionalShadow.length=xt,nt.directionalShadowMap.length=xt,nt.pointShadow.length=vt,nt.pointShadowMap.length=vt,nt.spotShadow.length=St,nt.spotShadowMap.length=St,nt.directionalShadowMatrix.length=xt,nt.pointShadowMatrix.length=vt,nt.spotLightMatrix.length=St+wt-Mt,nt.spotLightMap.length=wt,nt.numSpotLightShadowsWithMaps=Mt,nt.numLightProbes=Ct,Rt.directionalLength=mt,Rt.pointLength=gt,Rt.spotLength=yt,Rt.rectAreaLength=_t,Rt.hemiLength=pt,Rt.numDirectionalShadows=xt,Rt.numPointShadows=vt,Rt.numSpotShadows=St,Rt.numSpotMaps=wt,Rt.numLightProbes=Ct,nt.version=nextVersion++)}function ot(lt,ct){let dt=0,ht=0,mt=0,gt=0,yt=0;const _t=ct.matrixWorldInverse;for(let pt=0,xt=lt.length;pt<xt;pt++){const vt=lt[pt];if(vt.isDirectionalLight){const St=nt.directional[dt];St.direction.setFromMatrixPosition(vt.matrixWorld),rt.setFromMatrixPosition(vt.target.matrixWorld),St.direction.sub(rt),St.direction.transformDirection(_t),dt++}else if(vt.isSpotLight){const St=nt.spot[mt];St.position.setFromMatrixPosition(vt.matrixWorld),St.position.applyMatrix4(_t),St.direction.setFromMatrixPosition(vt.matrixWorld),rt.setFromMatrixPosition(vt.target.matrixWorld),St.direction.sub(rt),St.direction.transformDirection(_t),mt++}else if(vt.isRectAreaLight){const St=nt.rectArea[gt];St.position.setFromMatrixPosition(vt.matrixWorld),St.position.applyMatrix4(_t),st.identity(),it.copy(vt.matrixWorld),it.premultiply(_t),st.extractRotation(it),St.halfWidth.set(vt.width*.5,0,0),St.halfHeight.set(0,vt.height*.5,0),St.halfWidth.applyMatrix4(st),St.halfHeight.applyMatrix4(st),gt++}else if(vt.isPointLight){const St=nt.point[ht];St.position.setFromMatrixPosition(vt.matrixWorld),St.position.applyMatrix4(_t),ht++}else if(vt.isHemisphereLight){const St=nt.hemi[yt];St.direction.setFromMatrixPosition(vt.matrixWorld),St.direction.transformDirection(_t),yt++}}}return{setup:at,setupView:ot,state:nt}}function WebGLRenderState(et){const c=new WebGLLights(et),tt=[],nt=[];function rt(ct){lt.camera=ct,tt.length=0,nt.length=0}function it(ct){tt.push(ct)}function st(ct){nt.push(ct)}function at(){c.setup(tt)}function ot(ct){c.setupView(tt,ct)}const lt={lightsArray:tt,shadowsArray:nt,camera:null,lights:c,transmissionRenderTarget:{}};return{init:rt,state:lt,setupLights:at,setupLightsView:ot,pushLight:it,pushShadow:st}}function WebGLRenderStates(et){let c=new WeakMap;function tt(rt,it=0){const st=c.get(rt);let at;return st===void 0?(at=new WebGLRenderState(et),c.set(rt,[at])):it>=st.length?(at=new WebGLRenderState(et),st.push(at)):at=st[it],at}function nt(){c=new WeakMap}return{get:tt,dispose:nt}}class MeshDepthMaterial extends Material{constructor(c){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(c)}copy(c){return super.copy(c),this.depthPacking=c.depthPacking,this.map=c.map,this.alphaMap=c.alphaMap,this.displacementMap=c.displacementMap,this.displacementScale=c.displacementScale,this.displacementBias=c.displacementBias,this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(c){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(c)}copy(c){return super.copy(c),this.map=c.map,this.alphaMap=c.alphaMap,this.displacementMap=c.displacementMap,this.displacementScale=c.displacementScale,this.displacementBias=c.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(et,c,tt){let nt=new Frustum;const rt=new Vector2,it=new Vector2,st=new Vector4,at=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),ot=new MeshDistanceMaterial,lt={},ct=tt.maxTextureSize,dt={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},ht=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),mt=ht.clone();mt.defines.HORIZONTAL_PASS=1;const gt=new BufferGeometry;gt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const yt=new Mesh(gt,ht),_t=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let pt=this.type;this.render=function(Mt,Ct,Rt){if(_t.enabled===!1||_t.autoUpdate===!1&&_t.needsUpdate===!1||Mt.length===0)return;const Lt=et.getRenderTarget(),It=et.getActiveCubeFace(),Nt=et.getActiveMipmapLevel(),zt=et.state;zt.setBlending(NoBlending),zt.buffers.color.setClear(1,1,1,1),zt.buffers.depth.setTest(!0),zt.setScissorTest(!1);const Wt=pt!==VSMShadowMap&&this.type===VSMShadowMap,Yt=pt===VSMShadowMap&&this.type!==VSMShadowMap;for(let Xt=0,Ft=Mt.length;Xt<Ft;Xt++){const Ut=Mt[Xt],At=Ut.shadow;if(At===void 0){console.warn("THREE.WebGLShadowMap:",Ut,"has no shadow.");continue}if(At.autoUpdate===!1&&At.needsUpdate===!1)continue;rt.copy(At.mapSize);const kt=At.getFrameExtents();if(rt.multiply(kt),it.copy(At.mapSize),(rt.x>ct||rt.y>ct)&&(rt.x>ct&&(it.x=Math.floor(ct/kt.x),rt.x=it.x*kt.x,At.mapSize.x=it.x),rt.y>ct&&(it.y=Math.floor(ct/kt.y),rt.y=it.y*kt.y,At.mapSize.y=it.y)),At.map===null||Wt===!0||Yt===!0){const Bt=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};At.map!==null&&At.map.dispose(),At.map=new WebGLRenderTarget(rt.x,rt.y,Bt),At.map.texture.name=Ut.name+".shadowMap",At.camera.updateProjectionMatrix()}et.setRenderTarget(At.map),et.clear();const Ot=At.getViewportCount();for(let Bt=0;Bt<Ot;Bt++){const Qt=At.getViewport(Bt);st.set(it.x*Qt.x,it.y*Qt.y,it.x*Qt.z,it.y*Qt.w),zt.viewport(st),At.updateMatrices(Ut,Bt),nt=At.getFrustum(),St(Ct,Rt,At.camera,Ut,this.type)}At.isPointLightShadow!==!0&&this.type===VSMShadowMap&&xt(At,Rt),At.needsUpdate=!1}pt=this.type,_t.needsUpdate=!1,et.setRenderTarget(Lt,It,Nt)};function xt(Mt,Ct){const Rt=c.update(yt);ht.defines.VSM_SAMPLES!==Mt.blurSamples&&(ht.defines.VSM_SAMPLES=Mt.blurSamples,mt.defines.VSM_SAMPLES=Mt.blurSamples,ht.needsUpdate=!0,mt.needsUpdate=!0),Mt.mapPass===null&&(Mt.mapPass=new WebGLRenderTarget(rt.x,rt.y)),ht.uniforms.shadow_pass.value=Mt.map.texture,ht.uniforms.resolution.value=Mt.mapSize,ht.uniforms.radius.value=Mt.radius,et.setRenderTarget(Mt.mapPass),et.clear(),et.renderBufferDirect(Ct,null,Rt,ht,yt,null),mt.uniforms.shadow_pass.value=Mt.mapPass.texture,mt.uniforms.resolution.value=Mt.mapSize,mt.uniforms.radius.value=Mt.radius,et.setRenderTarget(Mt.map),et.clear(),et.renderBufferDirect(Ct,null,Rt,mt,yt,null)}function vt(Mt,Ct,Rt,Lt){let It=null;const Nt=Rt.isPointLight===!0?Mt.customDistanceMaterial:Mt.customDepthMaterial;if(Nt!==void 0)It=Nt;else if(It=Rt.isPointLight===!0?ot:at,et.localClippingEnabled&&Ct.clipShadows===!0&&Array.isArray(Ct.clippingPlanes)&&Ct.clippingPlanes.length!==0||Ct.displacementMap&&Ct.displacementScale!==0||Ct.alphaMap&&Ct.alphaTest>0||Ct.map&&Ct.alphaTest>0){const zt=It.uuid,Wt=Ct.uuid;let Yt=lt[zt];Yt===void 0&&(Yt={},lt[zt]=Yt);let Xt=Yt[Wt];Xt===void 0&&(Xt=It.clone(),Yt[Wt]=Xt,Ct.addEventListener("dispose",wt)),It=Xt}if(It.visible=Ct.visible,It.wireframe=Ct.wireframe,Lt===VSMShadowMap?It.side=Ct.shadowSide!==null?Ct.shadowSide:Ct.side:It.side=Ct.shadowSide!==null?Ct.shadowSide:dt[Ct.side],It.alphaMap=Ct.alphaMap,It.alphaTest=Ct.alphaTest,It.map=Ct.map,It.clipShadows=Ct.clipShadows,It.clippingPlanes=Ct.clippingPlanes,It.clipIntersection=Ct.clipIntersection,It.displacementMap=Ct.displacementMap,It.displacementScale=Ct.displacementScale,It.displacementBias=Ct.displacementBias,It.wireframeLinewidth=Ct.wireframeLinewidth,It.linewidth=Ct.linewidth,Rt.isPointLight===!0&&It.isMeshDistanceMaterial===!0){const zt=et.properties.get(It);zt.light=Rt}return It}function St(Mt,Ct,Rt,Lt,It){if(Mt.visible===!1)return;if(Mt.layers.test(Ct.layers)&&(Mt.isMesh||Mt.isLine||Mt.isPoints)&&(Mt.castShadow||Mt.receiveShadow&&It===VSMShadowMap)&&(!Mt.frustumCulled||nt.intersectsObject(Mt))){Mt.modelViewMatrix.multiplyMatrices(Rt.matrixWorldInverse,Mt.matrixWorld);const Wt=c.update(Mt),Yt=Mt.material;if(Array.isArray(Yt)){const Xt=Wt.groups;for(let Ft=0,Ut=Xt.length;Ft<Ut;Ft++){const At=Xt[Ft],kt=Yt[At.materialIndex];if(kt&&kt.visible){const Ot=vt(Mt,kt,Lt,It);Mt.onBeforeShadow(et,Mt,Ct,Rt,Wt,Ot,At),et.renderBufferDirect(Rt,null,Wt,Ot,Mt,At),Mt.onAfterShadow(et,Mt,Ct,Rt,Wt,Ot,At)}}}else if(Yt.visible){const Xt=vt(Mt,Yt,Lt,It);Mt.onBeforeShadow(et,Mt,Ct,Rt,Wt,Xt,null),et.renderBufferDirect(Rt,null,Wt,Xt,Mt,null),Mt.onAfterShadow(et,Mt,Ct,Rt,Wt,Xt,null)}}const zt=Mt.children;for(let Wt=0,Yt=zt.length;Wt<Yt;Wt++)St(zt[Wt],Ct,Rt,Lt,It)}function wt(Mt){Mt.target.removeEventListener("dispose",wt);for(const Rt in lt){const Lt=lt[Rt],It=Mt.target.uuid;It in Lt&&(Lt[It].dispose(),delete Lt[It])}}}function WebGLState(et){function c(){let qt=!1;const yn=new Vector4;let dn=null;const xn=new Vector4(0,0,0,0);return{setMask:function(Mn){dn!==Mn&&!qt&&(et.colorMask(Mn,Mn,Mn,Mn),dn=Mn)},setLocked:function(Mn){qt=Mn},setClear:function(Mn,tr,cr,pr,xr){xr===!0&&(Mn*=pr,tr*=pr,cr*=pr),yn.set(Mn,tr,cr,pr),xn.equals(yn)===!1&&(et.clearColor(Mn,tr,cr,pr),xn.copy(yn))},reset:function(){qt=!1,dn=null,xn.set(-1,0,0,0)}}}function tt(){let qt=!1,yn=null,dn=null,xn=null;return{setTest:function(Mn){Mn?vn(et.DEPTH_TEST):En(et.DEPTH_TEST)},setMask:function(Mn){yn!==Mn&&!qt&&(et.depthMask(Mn),yn=Mn)},setFunc:function(Mn){if(dn!==Mn){switch(Mn){case NeverDepth:et.depthFunc(et.NEVER);break;case AlwaysDepth:et.depthFunc(et.ALWAYS);break;case LessDepth:et.depthFunc(et.LESS);break;case LessEqualDepth:et.depthFunc(et.LEQUAL);break;case EqualDepth:et.depthFunc(et.EQUAL);break;case GreaterEqualDepth:et.depthFunc(et.GEQUAL);break;case GreaterDepth:et.depthFunc(et.GREATER);break;case NotEqualDepth:et.depthFunc(et.NOTEQUAL);break;default:et.depthFunc(et.LEQUAL)}dn=Mn}},setLocked:function(Mn){qt=Mn},setClear:function(Mn){xn!==Mn&&(et.clearDepth(Mn),xn=Mn)},reset:function(){qt=!1,yn=null,dn=null,xn=null}}}function nt(){let qt=!1,yn=null,dn=null,xn=null,Mn=null,tr=null,cr=null,pr=null,xr=null;return{setTest:function(ur){qt||(ur?vn(et.STENCIL_TEST):En(et.STENCIL_TEST))},setMask:function(ur){yn!==ur&&!qt&&(et.stencilMask(ur),yn=ur)},setFunc:function(ur,Nr,Dr){(dn!==ur||xn!==Nr||Mn!==Dr)&&(et.stencilFunc(ur,Nr,Dr),dn=ur,xn=Nr,Mn=Dr)},setOp:function(ur,Nr,Dr){(tr!==ur||cr!==Nr||pr!==Dr)&&(et.stencilOp(ur,Nr,Dr),tr=ur,cr=Nr,pr=Dr)},setLocked:function(ur){qt=ur},setClear:function(ur){xr!==ur&&(et.clearStencil(ur),xr=ur)},reset:function(){qt=!1,yn=null,dn=null,xn=null,Mn=null,tr=null,cr=null,pr=null,xr=null}}}const rt=new c,it=new tt,st=new nt,at=new WeakMap,ot=new WeakMap;let lt={},ct={},dt=new WeakMap,ht=[],mt=null,gt=!1,yt=null,_t=null,pt=null,xt=null,vt=null,St=null,wt=null,Mt=new Color(0,0,0),Ct=0,Rt=!1,Lt=null,It=null,Nt=null,zt=null,Wt=null;const Yt=et.getParameter(et.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Xt=!1,Ft=0;const Ut=et.getParameter(et.VERSION);Ut.indexOf("WebGL")!==-1?(Ft=parseFloat(/^WebGL (\d)/.exec(Ut)[1]),Xt=Ft>=1):Ut.indexOf("OpenGL ES")!==-1&&(Ft=parseFloat(/^OpenGL ES (\d)/.exec(Ut)[1]),Xt=Ft>=2);let At=null,kt={};const Ot=et.getParameter(et.SCISSOR_BOX),Bt=et.getParameter(et.VIEWPORT),Qt=new Vector4().fromArray(Ot),an=new Vector4().fromArray(Bt);function Kt(qt,yn,dn,xn){const Mn=new Uint8Array(4),tr=et.createTexture();et.bindTexture(qt,tr),et.texParameteri(qt,et.TEXTURE_MIN_FILTER,et.NEAREST),et.texParameteri(qt,et.TEXTURE_MAG_FILTER,et.NEAREST);for(let cr=0;cr<dn;cr++)qt===et.TEXTURE_3D||qt===et.TEXTURE_2D_ARRAY?et.texImage3D(yn,0,et.RGBA,1,1,xn,0,et.RGBA,et.UNSIGNED_BYTE,Mn):et.texImage2D(yn+cr,0,et.RGBA,1,1,0,et.RGBA,et.UNSIGNED_BYTE,Mn);return tr}const ln={};ln[et.TEXTURE_2D]=Kt(et.TEXTURE_2D,et.TEXTURE_2D,1),ln[et.TEXTURE_CUBE_MAP]=Kt(et.TEXTURE_CUBE_MAP,et.TEXTURE_CUBE_MAP_POSITIVE_X,6),ln[et.TEXTURE_2D_ARRAY]=Kt(et.TEXTURE_2D_ARRAY,et.TEXTURE_2D_ARRAY,1,1),ln[et.TEXTURE_3D]=Kt(et.TEXTURE_3D,et.TEXTURE_3D,1,1),rt.setClear(0,0,0,1),it.setClear(1),st.setClear(0),vn(et.DEPTH_TEST),it.setFunc(LessEqualDepth),Pn(!1),mn(CullFaceBack),vn(et.CULL_FACE),fn(NoBlending);function vn(qt){lt[qt]!==!0&&(et.enable(qt),lt[qt]=!0)}function En(qt){lt[qt]!==!1&&(et.disable(qt),lt[qt]=!1)}function jn(qt,yn){return ct[qt]!==yn?(et.bindFramebuffer(qt,yn),ct[qt]=yn,qt===et.DRAW_FRAMEBUFFER&&(ct[et.FRAMEBUFFER]=yn),qt===et.FRAMEBUFFER&&(ct[et.DRAW_FRAMEBUFFER]=yn),!0):!1}function qn(qt,yn){let dn=ht,xn=!1;if(qt){dn=dt.get(yn),dn===void 0&&(dn=[],dt.set(yn,dn));const Mn=qt.textures;if(dn.length!==Mn.length||dn[0]!==et.COLOR_ATTACHMENT0){for(let tr=0,cr=Mn.length;tr<cr;tr++)dn[tr]=et.COLOR_ATTACHMENT0+tr;dn.length=Mn.length,xn=!0}}else dn[0]!==et.BACK&&(dn[0]=et.BACK,xn=!0);xn&&et.drawBuffers(dn)}function Vn(qt){return mt!==qt?(et.useProgram(qt),mt=qt,!0):!1}const Gn={[AddEquation]:et.FUNC_ADD,[SubtractEquation]:et.FUNC_SUBTRACT,[ReverseSubtractEquation]:et.FUNC_REVERSE_SUBTRACT};Gn[MinEquation]=et.MIN,Gn[MaxEquation]=et.MAX;const $t={[ZeroFactor]:et.ZERO,[OneFactor]:et.ONE,[SrcColorFactor]:et.SRC_COLOR,[SrcAlphaFactor]:et.SRC_ALPHA,[SrcAlphaSaturateFactor]:et.SRC_ALPHA_SATURATE,[DstColorFactor]:et.DST_COLOR,[DstAlphaFactor]:et.DST_ALPHA,[OneMinusSrcColorFactor]:et.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:et.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:et.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:et.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:et.CONSTANT_COLOR,[OneMinusConstantColorFactor]:et.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:et.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:et.ONE_MINUS_CONSTANT_ALPHA};function fn(qt,yn,dn,xn,Mn,tr,cr,pr,xr,ur){if(qt===NoBlending){gt===!0&&(En(et.BLEND),gt=!1);return}if(gt===!1&&(vn(et.BLEND),gt=!0),qt!==CustomBlending){if(qt!==yt||ur!==Rt){if((_t!==AddEquation||vt!==AddEquation)&&(et.blendEquation(et.FUNC_ADD),_t=AddEquation,vt=AddEquation),ur)switch(qt){case NormalBlending:et.blendFuncSeparate(et.ONE,et.ONE_MINUS_SRC_ALPHA,et.ONE,et.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:et.blendFunc(et.ONE,et.ONE);break;case SubtractiveBlending:et.blendFuncSeparate(et.ZERO,et.ONE_MINUS_SRC_COLOR,et.ZERO,et.ONE);break;case MultiplyBlending:et.blendFuncSeparate(et.ZERO,et.SRC_COLOR,et.ZERO,et.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",qt);break}else switch(qt){case NormalBlending:et.blendFuncSeparate(et.SRC_ALPHA,et.ONE_MINUS_SRC_ALPHA,et.ONE,et.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:et.blendFunc(et.SRC_ALPHA,et.ONE);break;case SubtractiveBlending:et.blendFuncSeparate(et.ZERO,et.ONE_MINUS_SRC_COLOR,et.ZERO,et.ONE);break;case MultiplyBlending:et.blendFunc(et.ZERO,et.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",qt);break}pt=null,xt=null,St=null,wt=null,Mt.set(0,0,0),Ct=0,yt=qt,Rt=ur}return}Mn=Mn||yn,tr=tr||dn,cr=cr||xn,(yn!==_t||Mn!==vt)&&(et.blendEquationSeparate(Gn[yn],Gn[Mn]),_t=yn,vt=Mn),(dn!==pt||xn!==xt||tr!==St||cr!==wt)&&(et.blendFuncSeparate($t[dn],$t[xn],$t[tr],$t[cr]),pt=dn,xt=xn,St=tr,wt=cr),(pr.equals(Mt)===!1||xr!==Ct)&&(et.blendColor(pr.r,pr.g,pr.b,xr),Mt.copy(pr),Ct=xr),yt=qt,Rt=!1}function rn(qt,yn){qt.side===DoubleSide?En(et.CULL_FACE):vn(et.CULL_FACE);let dn=qt.side===BackSide;yn&&(dn=!dn),Pn(dn),qt.blending===NormalBlending&&qt.transparent===!1?fn(NoBlending):fn(qt.blending,qt.blendEquation,qt.blendSrc,qt.blendDst,qt.blendEquationAlpha,qt.blendSrcAlpha,qt.blendDstAlpha,qt.blendColor,qt.blendAlpha,qt.premultipliedAlpha),it.setFunc(qt.depthFunc),it.setTest(qt.depthTest),it.setMask(qt.depthWrite),rt.setMask(qt.colorWrite);const xn=qt.stencilWrite;st.setTest(xn),xn&&(st.setMask(qt.stencilWriteMask),st.setFunc(qt.stencilFunc,qt.stencilRef,qt.stencilFuncMask),st.setOp(qt.stencilFail,qt.stencilZFail,qt.stencilZPass)),Tn(qt.polygonOffset,qt.polygonOffsetFactor,qt.polygonOffsetUnits),qt.alphaToCoverage===!0?vn(et.SAMPLE_ALPHA_TO_COVERAGE):En(et.SAMPLE_ALPHA_TO_COVERAGE)}function Pn(qt){Lt!==qt&&(qt?et.frontFace(et.CW):et.frontFace(et.CCW),Lt=qt)}function mn(qt){qt!==CullFaceNone?(vn(et.CULL_FACE),qt!==It&&(qt===CullFaceBack?et.cullFace(et.BACK):qt===CullFaceFront?et.cullFace(et.FRONT):et.cullFace(et.FRONT_AND_BACK))):En(et.CULL_FACE),It=qt}function zn(qt){qt!==Nt&&(Xt&&et.lineWidth(qt),Nt=qt)}function Tn(qt,yn,dn){qt?(vn(et.POLYGON_OFFSET_FILL),(zt!==yn||Wt!==dn)&&(et.polygonOffset(yn,dn),zt=yn,Wt=dn)):En(et.POLYGON_OFFSET_FILL)}function Ln(qt){qt?vn(et.SCISSOR_TEST):En(et.SCISSOR_TEST)}function Gt(qt){qt===void 0&&(qt=et.TEXTURE0+Yt-1),At!==qt&&(et.activeTexture(qt),At=qt)}function Vt(qt,yn,dn){dn===void 0&&(At===null?dn=et.TEXTURE0+Yt-1:dn=At);let xn=kt[dn];xn===void 0&&(xn={type:void 0,texture:void 0},kt[dn]=xn),(xn.type!==qt||xn.texture!==yn)&&(At!==dn&&(et.activeTexture(dn),At=dn),et.bindTexture(qt,yn||ln[qt]),xn.type=qt,xn.texture=yn)}function sn(){const qt=kt[At];qt!==void 0&&qt.type!==void 0&&(et.bindTexture(qt.type,null),qt.type=void 0,qt.texture=void 0)}function Sn(){try{et.compressedTexImage2D.apply(et,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function gn(){try{et.compressedTexImage3D.apply(et,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function _n(){try{et.texSubImage2D.apply(et,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function On(){try{et.texSubImage3D.apply(et,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function An(){try{et.compressedTexSubImage2D.apply(et,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function kn(){try{et.compressedTexSubImage3D.apply(et,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function er(){try{et.texStorage2D.apply(et,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function wn(){try{et.texStorage3D.apply(et,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function Fn(){try{et.texImage2D.apply(et,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function dr(){try{et.texImage3D.apply(et,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function rr(qt){Qt.equals(qt)===!1&&(et.scissor(qt.x,qt.y,qt.z,qt.w),Qt.copy(qt))}function Un(qt){an.equals(qt)===!1&&(et.viewport(qt.x,qt.y,qt.z,qt.w),an.copy(qt))}function ir(qt,yn){let dn=ot.get(yn);dn===void 0&&(dn=new WeakMap,ot.set(yn,dn));let xn=dn.get(qt);xn===void 0&&(xn=et.getUniformBlockIndex(yn,qt.name),dn.set(qt,xn))}function Zt(qt,yn){const xn=ot.get(yn).get(qt);at.get(yn)!==xn&&(et.uniformBlockBinding(yn,xn,qt.__bindingPointIndex),at.set(yn,xn))}function bn(){et.disable(et.BLEND),et.disable(et.CULL_FACE),et.disable(et.DEPTH_TEST),et.disable(et.POLYGON_OFFSET_FILL),et.disable(et.SCISSOR_TEST),et.disable(et.STENCIL_TEST),et.disable(et.SAMPLE_ALPHA_TO_COVERAGE),et.blendEquation(et.FUNC_ADD),et.blendFunc(et.ONE,et.ZERO),et.blendFuncSeparate(et.ONE,et.ZERO,et.ONE,et.ZERO),et.blendColor(0,0,0,0),et.colorMask(!0,!0,!0,!0),et.clearColor(0,0,0,0),et.depthMask(!0),et.depthFunc(et.LESS),et.clearDepth(1),et.stencilMask(4294967295),et.stencilFunc(et.ALWAYS,0,4294967295),et.stencilOp(et.KEEP,et.KEEP,et.KEEP),et.clearStencil(0),et.cullFace(et.BACK),et.frontFace(et.CCW),et.polygonOffset(0,0),et.activeTexture(et.TEXTURE0),et.bindFramebuffer(et.FRAMEBUFFER,null),et.bindFramebuffer(et.DRAW_FRAMEBUFFER,null),et.bindFramebuffer(et.READ_FRAMEBUFFER,null),et.useProgram(null),et.lineWidth(1),et.scissor(0,0,et.canvas.width,et.canvas.height),et.viewport(0,0,et.canvas.width,et.canvas.height),lt={},At=null,kt={},ct={},dt=new WeakMap,ht=[],mt=null,gt=!1,yt=null,_t=null,pt=null,xt=null,vt=null,St=null,wt=null,Mt=new Color(0,0,0),Ct=0,Rt=!1,Lt=null,It=null,Nt=null,zt=null,Wt=null,Qt.set(0,0,et.canvas.width,et.canvas.height),an.set(0,0,et.canvas.width,et.canvas.height),rt.reset(),it.reset(),st.reset()}return{buffers:{color:rt,depth:it,stencil:st},enable:vn,disable:En,bindFramebuffer:jn,drawBuffers:qn,useProgram:Vn,setBlending:fn,setMaterial:rn,setFlipSided:Pn,setCullFace:mn,setLineWidth:zn,setPolygonOffset:Tn,setScissorTest:Ln,activeTexture:Gt,bindTexture:Vt,unbindTexture:sn,compressedTexImage2D:Sn,compressedTexImage3D:gn,texImage2D:Fn,texImage3D:dr,updateUBOMapping:ir,uniformBlockBinding:Zt,texStorage2D:er,texStorage3D:wn,texSubImage2D:_n,texSubImage3D:On,compressedTexSubImage2D:An,compressedTexSubImage3D:kn,scissor:rr,viewport:Un,reset:bn}}function contain(et,c){const tt=et.image&&et.image.width?et.image.width/et.image.height:1;return tt>c?(et.repeat.x=1,et.repeat.y=tt/c,et.offset.x=0,et.offset.y=(1-et.repeat.y)/2):(et.repeat.x=c/tt,et.repeat.y=1,et.offset.x=(1-et.repeat.x)/2,et.offset.y=0),et}function cover(et,c){const tt=et.image&&et.image.width?et.image.width/et.image.height:1;return tt>c?(et.repeat.x=c/tt,et.repeat.y=1,et.offset.x=(1-et.repeat.x)/2,et.offset.y=0):(et.repeat.x=1,et.repeat.y=tt/c,et.offset.x=0,et.offset.y=(1-et.repeat.y)/2),et}function fill(et){return et.repeat.x=1,et.repeat.y=1,et.offset.x=0,et.offset.y=0,et}function getByteLength(et,c,tt,nt){const rt=getTextureTypeByteLength(nt);switch(tt){case AlphaFormat:return et*c;case LuminanceFormat:return et*c;case LuminanceAlphaFormat:return et*c*2;case RedFormat:return et*c/rt.components*rt.byteLength;case RedIntegerFormat:return et*c/rt.components*rt.byteLength;case RGFormat:return et*c*2/rt.components*rt.byteLength;case RGIntegerFormat:return et*c*2/rt.components*rt.byteLength;case RGBFormat:return et*c*3/rt.components*rt.byteLength;case RGBAFormat:return et*c*4/rt.components*rt.byteLength;case RGBAIntegerFormat:return et*c*4/rt.components*rt.byteLength;case RGB_S3TC_DXT1_Format:case RGBA_S3TC_DXT1_Format:return Math.floor((et+3)/4)*Math.floor((c+3)/4)*8;case RGBA_S3TC_DXT3_Format:case RGBA_S3TC_DXT5_Format:return Math.floor((et+3)/4)*Math.floor((c+3)/4)*16;case RGB_PVRTC_2BPPV1_Format:case RGBA_PVRTC_2BPPV1_Format:return Math.max(et,16)*Math.max(c,8)/4;case RGB_PVRTC_4BPPV1_Format:case RGBA_PVRTC_4BPPV1_Format:return Math.max(et,8)*Math.max(c,8)/2;case RGB_ETC1_Format:case RGB_ETC2_Format:return Math.floor((et+3)/4)*Math.floor((c+3)/4)*8;case RGBA_ETC2_EAC_Format:return Math.floor((et+3)/4)*Math.floor((c+3)/4)*16;case RGBA_ASTC_4x4_Format:return Math.floor((et+3)/4)*Math.floor((c+3)/4)*16;case RGBA_ASTC_5x4_Format:return Math.floor((et+4)/5)*Math.floor((c+3)/4)*16;case RGBA_ASTC_5x5_Format:return Math.floor((et+4)/5)*Math.floor((c+4)/5)*16;case RGBA_ASTC_6x5_Format:return Math.floor((et+5)/6)*Math.floor((c+4)/5)*16;case RGBA_ASTC_6x6_Format:return Math.floor((et+5)/6)*Math.floor((c+5)/6)*16;case RGBA_ASTC_8x5_Format:return Math.floor((et+7)/8)*Math.floor((c+4)/5)*16;case RGBA_ASTC_8x6_Format:return Math.floor((et+7)/8)*Math.floor((c+5)/6)*16;case RGBA_ASTC_8x8_Format:return Math.floor((et+7)/8)*Math.floor((c+7)/8)*16;case RGBA_ASTC_10x5_Format:return Math.floor((et+9)/10)*Math.floor((c+4)/5)*16;case RGBA_ASTC_10x6_Format:return Math.floor((et+9)/10)*Math.floor((c+5)/6)*16;case RGBA_ASTC_10x8_Format:return Math.floor((et+9)/10)*Math.floor((c+7)/8)*16;case RGBA_ASTC_10x10_Format:return Math.floor((et+9)/10)*Math.floor((c+9)/10)*16;case RGBA_ASTC_12x10_Format:return Math.floor((et+11)/12)*Math.floor((c+9)/10)*16;case RGBA_ASTC_12x12_Format:return Math.floor((et+11)/12)*Math.floor((c+11)/12)*16;case RGBA_BPTC_Format:case RGB_BPTC_SIGNED_Format:case RGB_BPTC_UNSIGNED_Format:return Math.ceil(et/4)*Math.ceil(c/4)*16;case RED_RGTC1_Format:case SIGNED_RED_RGTC1_Format:return Math.ceil(et/4)*Math.ceil(c/4)*8;case RED_GREEN_RGTC2_Format:case SIGNED_RED_GREEN_RGTC2_Format:return Math.ceil(et/4)*Math.ceil(c/4)*16}throw new Error(`Unable to determine texture byte length for ${tt} format.`)}function getTextureTypeByteLength(et){switch(et){case UnsignedByteType:case ByteType:return{byteLength:1,components:1};case UnsignedShortType:case ShortType:case HalfFloatType:return{byteLength:2,components:1};case UnsignedShort4444Type:case UnsignedShort5551Type:return{byteLength:2,components:4};case UnsignedIntType:case IntType:case FloatType:return{byteLength:4,components:1};case UnsignedInt5999Type:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${et}.`)}const TextureUtils={contain,cover,fill,getByteLength};function WebGLTextures(et,c,tt,nt,rt,it,st){const at=c.has("WEBGL_multisampled_render_to_texture")?c.get("WEBGL_multisampled_render_to_texture"):null,ot=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),lt=new Vector2,ct=new WeakMap;let dt;const ht=new WeakMap;let mt=!1;try{mt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function gt(Gt,Vt){return mt?new OffscreenCanvas(Gt,Vt):createElementNS("canvas")}function yt(Gt,Vt,sn){let Sn=1;const gn=Ln(Gt);if((gn.width>sn||gn.height>sn)&&(Sn=sn/Math.max(gn.width,gn.height)),Sn<1)if(typeof HTMLImageElement<"u"&&Gt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Gt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Gt instanceof ImageBitmap||typeof VideoFrame<"u"&&Gt instanceof VideoFrame){const _n=Math.floor(Sn*gn.width),On=Math.floor(Sn*gn.height);dt===void 0&&(dt=gt(_n,On));const An=Vt?gt(_n,On):dt;return An.width=_n,An.height=On,An.getContext("2d").drawImage(Gt,0,0,_n,On),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+gn.width+"x"+gn.height+") to ("+_n+"x"+On+")."),An}else return"data"in Gt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+gn.width+"x"+gn.height+")."),Gt;return Gt}function _t(Gt){return Gt.generateMipmaps&&Gt.minFilter!==NearestFilter&&Gt.minFilter!==LinearFilter}function pt(Gt){et.generateMipmap(Gt)}function xt(Gt,Vt,sn,Sn,gn=!1){if(Gt!==null){if(et[Gt]!==void 0)return et[Gt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Gt+"'")}let _n=Vt;if(Vt===et.RED&&(sn===et.FLOAT&&(_n=et.R32F),sn===et.HALF_FLOAT&&(_n=et.R16F),sn===et.UNSIGNED_BYTE&&(_n=et.R8)),Vt===et.RED_INTEGER&&(sn===et.UNSIGNED_BYTE&&(_n=et.R8UI),sn===et.UNSIGNED_SHORT&&(_n=et.R16UI),sn===et.UNSIGNED_INT&&(_n=et.R32UI),sn===et.BYTE&&(_n=et.R8I),sn===et.SHORT&&(_n=et.R16I),sn===et.INT&&(_n=et.R32I)),Vt===et.RG&&(sn===et.FLOAT&&(_n=et.RG32F),sn===et.HALF_FLOAT&&(_n=et.RG16F),sn===et.UNSIGNED_BYTE&&(_n=et.RG8)),Vt===et.RG_INTEGER&&(sn===et.UNSIGNED_BYTE&&(_n=et.RG8UI),sn===et.UNSIGNED_SHORT&&(_n=et.RG16UI),sn===et.UNSIGNED_INT&&(_n=et.RG32UI),sn===et.BYTE&&(_n=et.RG8I),sn===et.SHORT&&(_n=et.RG16I),sn===et.INT&&(_n=et.RG32I)),Vt===et.RGB&&sn===et.UNSIGNED_INT_5_9_9_9_REV&&(_n=et.RGB9_E5),Vt===et.RGBA){const On=gn?LinearTransfer:ColorManagement.getTransfer(Sn);sn===et.FLOAT&&(_n=et.RGBA32F),sn===et.HALF_FLOAT&&(_n=et.RGBA16F),sn===et.UNSIGNED_BYTE&&(_n=On===SRGBTransfer?et.SRGB8_ALPHA8:et.RGBA8),sn===et.UNSIGNED_SHORT_4_4_4_4&&(_n=et.RGBA4),sn===et.UNSIGNED_SHORT_5_5_5_1&&(_n=et.RGB5_A1)}return(_n===et.R16F||_n===et.R32F||_n===et.RG16F||_n===et.RG32F||_n===et.RGBA16F||_n===et.RGBA32F)&&c.get("EXT_color_buffer_float"),_n}function vt(Gt,Vt){let sn;return Gt?Vt===null||Vt===UnsignedIntType||Vt===UnsignedInt248Type?sn=et.DEPTH24_STENCIL8:Vt===FloatType?sn=et.DEPTH32F_STENCIL8:Vt===UnsignedShortType&&(sn=et.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Vt===null||Vt===UnsignedIntType||Vt===UnsignedInt248Type?sn=et.DEPTH_COMPONENT24:Vt===FloatType?sn=et.DEPTH_COMPONENT32F:Vt===UnsignedShortType&&(sn=et.DEPTH_COMPONENT16),sn}function St(Gt,Vt){return _t(Gt)===!0||Gt.isFramebufferTexture&&Gt.minFilter!==NearestFilter&&Gt.minFilter!==LinearFilter?Math.log2(Math.max(Vt.width,Vt.height))+1:Gt.mipmaps!==void 0&&Gt.mipmaps.length>0?Gt.mipmaps.length:Gt.isCompressedTexture&&Array.isArray(Gt.image)?Vt.mipmaps.length:1}function wt(Gt){const Vt=Gt.target;Vt.removeEventListener("dispose",wt),Ct(Vt),Vt.isVideoTexture&&ct.delete(Vt)}function Mt(Gt){const Vt=Gt.target;Vt.removeEventListener("dispose",Mt),Lt(Vt)}function Ct(Gt){const Vt=nt.get(Gt);if(Vt.__webglInit===void 0)return;const sn=Gt.source,Sn=ht.get(sn);if(Sn){const gn=Sn[Vt.__cacheKey];gn.usedTimes--,gn.usedTimes===0&&Rt(Gt),Object.keys(Sn).length===0&&ht.delete(sn)}nt.remove(Gt)}function Rt(Gt){const Vt=nt.get(Gt);et.deleteTexture(Vt.__webglTexture);const sn=Gt.source,Sn=ht.get(sn);delete Sn[Vt.__cacheKey],st.memory.textures--}function Lt(Gt){const Vt=nt.get(Gt);if(Gt.depthTexture&&Gt.depthTexture.dispose(),Gt.isWebGLCubeRenderTarget)for(let Sn=0;Sn<6;Sn++){if(Array.isArray(Vt.__webglFramebuffer[Sn]))for(let gn=0;gn<Vt.__webglFramebuffer[Sn].length;gn++)et.deleteFramebuffer(Vt.__webglFramebuffer[Sn][gn]);else et.deleteFramebuffer(Vt.__webglFramebuffer[Sn]);Vt.__webglDepthbuffer&&et.deleteRenderbuffer(Vt.__webglDepthbuffer[Sn])}else{if(Array.isArray(Vt.__webglFramebuffer))for(let Sn=0;Sn<Vt.__webglFramebuffer.length;Sn++)et.deleteFramebuffer(Vt.__webglFramebuffer[Sn]);else et.deleteFramebuffer(Vt.__webglFramebuffer);if(Vt.__webglDepthbuffer&&et.deleteRenderbuffer(Vt.__webglDepthbuffer),Vt.__webglMultisampledFramebuffer&&et.deleteFramebuffer(Vt.__webglMultisampledFramebuffer),Vt.__webglColorRenderbuffer)for(let Sn=0;Sn<Vt.__webglColorRenderbuffer.length;Sn++)Vt.__webglColorRenderbuffer[Sn]&&et.deleteRenderbuffer(Vt.__webglColorRenderbuffer[Sn]);Vt.__webglDepthRenderbuffer&&et.deleteRenderbuffer(Vt.__webglDepthRenderbuffer)}const sn=Gt.textures;for(let Sn=0,gn=sn.length;Sn<gn;Sn++){const _n=nt.get(sn[Sn]);_n.__webglTexture&&(et.deleteTexture(_n.__webglTexture),st.memory.textures--),nt.remove(sn[Sn])}nt.remove(Gt)}let It=0;function Nt(){It=0}function zt(){const Gt=It;return Gt>=rt.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Gt+" texture units while this GPU supports only "+rt.maxTextures),It+=1,Gt}function Wt(Gt){const Vt=[];return Vt.push(Gt.wrapS),Vt.push(Gt.wrapT),Vt.push(Gt.wrapR||0),Vt.push(Gt.magFilter),Vt.push(Gt.minFilter),Vt.push(Gt.anisotropy),Vt.push(Gt.internalFormat),Vt.push(Gt.format),Vt.push(Gt.type),Vt.push(Gt.generateMipmaps),Vt.push(Gt.premultiplyAlpha),Vt.push(Gt.flipY),Vt.push(Gt.unpackAlignment),Vt.push(Gt.colorSpace),Vt.join()}function Yt(Gt,Vt){const sn=nt.get(Gt);if(Gt.isVideoTexture&&zn(Gt),Gt.isRenderTargetTexture===!1&&Gt.version>0&&sn.__version!==Gt.version){const Sn=Gt.image;if(Sn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Sn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{an(sn,Gt,Vt);return}}tt.bindTexture(et.TEXTURE_2D,sn.__webglTexture,et.TEXTURE0+Vt)}function Xt(Gt,Vt){const sn=nt.get(Gt);if(Gt.version>0&&sn.__version!==Gt.version){an(sn,Gt,Vt);return}tt.bindTexture(et.TEXTURE_2D_ARRAY,sn.__webglTexture,et.TEXTURE0+Vt)}function Ft(Gt,Vt){const sn=nt.get(Gt);if(Gt.version>0&&sn.__version!==Gt.version){an(sn,Gt,Vt);return}tt.bindTexture(et.TEXTURE_3D,sn.__webglTexture,et.TEXTURE0+Vt)}function Ut(Gt,Vt){const sn=nt.get(Gt);if(Gt.version>0&&sn.__version!==Gt.version){Kt(sn,Gt,Vt);return}tt.bindTexture(et.TEXTURE_CUBE_MAP,sn.__webglTexture,et.TEXTURE0+Vt)}const At={[RepeatWrapping]:et.REPEAT,[ClampToEdgeWrapping]:et.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:et.MIRRORED_REPEAT},kt={[NearestFilter]:et.NEAREST,[NearestMipmapNearestFilter]:et.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:et.NEAREST_MIPMAP_LINEAR,[LinearFilter]:et.LINEAR,[LinearMipmapNearestFilter]:et.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:et.LINEAR_MIPMAP_LINEAR},Ot={[NeverCompare]:et.NEVER,[AlwaysCompare]:et.ALWAYS,[LessCompare]:et.LESS,[LessEqualCompare]:et.LEQUAL,[EqualCompare]:et.EQUAL,[GreaterEqualCompare]:et.GEQUAL,[GreaterCompare]:et.GREATER,[NotEqualCompare]:et.NOTEQUAL};function Bt(Gt,Vt){if(Vt.type===FloatType&&c.has("OES_texture_float_linear")===!1&&(Vt.magFilter===LinearFilter||Vt.magFilter===LinearMipmapNearestFilter||Vt.magFilter===NearestMipmapLinearFilter||Vt.magFilter===LinearMipmapLinearFilter||Vt.minFilter===LinearFilter||Vt.minFilter===LinearMipmapNearestFilter||Vt.minFilter===NearestMipmapLinearFilter||Vt.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),et.texParameteri(Gt,et.TEXTURE_WRAP_S,At[Vt.wrapS]),et.texParameteri(Gt,et.TEXTURE_WRAP_T,At[Vt.wrapT]),(Gt===et.TEXTURE_3D||Gt===et.TEXTURE_2D_ARRAY)&&et.texParameteri(Gt,et.TEXTURE_WRAP_R,At[Vt.wrapR]),et.texParameteri(Gt,et.TEXTURE_MAG_FILTER,kt[Vt.magFilter]),et.texParameteri(Gt,et.TEXTURE_MIN_FILTER,kt[Vt.minFilter]),Vt.compareFunction&&(et.texParameteri(Gt,et.TEXTURE_COMPARE_MODE,et.COMPARE_REF_TO_TEXTURE),et.texParameteri(Gt,et.TEXTURE_COMPARE_FUNC,Ot[Vt.compareFunction])),c.has("EXT_texture_filter_anisotropic")===!0){if(Vt.magFilter===NearestFilter||Vt.minFilter!==NearestMipmapLinearFilter&&Vt.minFilter!==LinearMipmapLinearFilter||Vt.type===FloatType&&c.has("OES_texture_float_linear")===!1)return;if(Vt.anisotropy>1||nt.get(Vt).__currentAnisotropy){const sn=c.get("EXT_texture_filter_anisotropic");et.texParameterf(Gt,sn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Vt.anisotropy,rt.getMaxAnisotropy())),nt.get(Vt).__currentAnisotropy=Vt.anisotropy}}}function Qt(Gt,Vt){let sn=!1;Gt.__webglInit===void 0&&(Gt.__webglInit=!0,Vt.addEventListener("dispose",wt));const Sn=Vt.source;let gn=ht.get(Sn);gn===void 0&&(gn={},ht.set(Sn,gn));const _n=Wt(Vt);if(_n!==Gt.__cacheKey){gn[_n]===void 0&&(gn[_n]={texture:et.createTexture(),usedTimes:0},st.memory.textures++,sn=!0),gn[_n].usedTimes++;const On=gn[Gt.__cacheKey];On!==void 0&&(gn[Gt.__cacheKey].usedTimes--,On.usedTimes===0&&Rt(Vt)),Gt.__cacheKey=_n,Gt.__webglTexture=gn[_n].texture}return sn}function an(Gt,Vt,sn){let Sn=et.TEXTURE_2D;(Vt.isDataArrayTexture||Vt.isCompressedArrayTexture)&&(Sn=et.TEXTURE_2D_ARRAY),Vt.isData3DTexture&&(Sn=et.TEXTURE_3D);const gn=Qt(Gt,Vt),_n=Vt.source;tt.bindTexture(Sn,Gt.__webglTexture,et.TEXTURE0+sn);const On=nt.get(_n);if(_n.version!==On.__version||gn===!0){tt.activeTexture(et.TEXTURE0+sn);const An=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),kn=Vt.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Vt.colorSpace),er=Vt.colorSpace===NoColorSpace||An===kn?et.NONE:et.BROWSER_DEFAULT_WEBGL;et.pixelStorei(et.UNPACK_FLIP_Y_WEBGL,Vt.flipY),et.pixelStorei(et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Vt.premultiplyAlpha),et.pixelStorei(et.UNPACK_ALIGNMENT,Vt.unpackAlignment),et.pixelStorei(et.UNPACK_COLORSPACE_CONVERSION_WEBGL,er);let wn=yt(Vt.image,!1,rt.maxTextureSize);wn=Tn(Vt,wn);const Fn=it.convert(Vt.format,Vt.colorSpace),dr=it.convert(Vt.type);let rr=xt(Vt.internalFormat,Fn,dr,Vt.colorSpace,Vt.isVideoTexture);Bt(Sn,Vt);let Un;const ir=Vt.mipmaps,Zt=Vt.isVideoTexture!==!0,bn=On.__version===void 0||gn===!0,qt=_n.dataReady,yn=St(Vt,wn);if(Vt.isDepthTexture)rr=vt(Vt.format===DepthStencilFormat,Vt.type),bn&&(Zt?tt.texStorage2D(et.TEXTURE_2D,1,rr,wn.width,wn.height):tt.texImage2D(et.TEXTURE_2D,0,rr,wn.width,wn.height,0,Fn,dr,null));else if(Vt.isDataTexture)if(ir.length>0){Zt&&bn&&tt.texStorage2D(et.TEXTURE_2D,yn,rr,ir[0].width,ir[0].height);for(let dn=0,xn=ir.length;dn<xn;dn++)Un=ir[dn],Zt?qt&&tt.texSubImage2D(et.TEXTURE_2D,dn,0,0,Un.width,Un.height,Fn,dr,Un.data):tt.texImage2D(et.TEXTURE_2D,dn,rr,Un.width,Un.height,0,Fn,dr,Un.data);Vt.generateMipmaps=!1}else Zt?(bn&&tt.texStorage2D(et.TEXTURE_2D,yn,rr,wn.width,wn.height),qt&&tt.texSubImage2D(et.TEXTURE_2D,0,0,0,wn.width,wn.height,Fn,dr,wn.data)):tt.texImage2D(et.TEXTURE_2D,0,rr,wn.width,wn.height,0,Fn,dr,wn.data);else if(Vt.isCompressedTexture)if(Vt.isCompressedArrayTexture){Zt&&bn&&tt.texStorage3D(et.TEXTURE_2D_ARRAY,yn,rr,ir[0].width,ir[0].height,wn.depth);for(let dn=0,xn=ir.length;dn<xn;dn++)if(Un=ir[dn],Vt.format!==RGBAFormat)if(Fn!==null)if(Zt){if(qt)if(Vt.layerUpdates.size>0){const Mn=getByteLength(Un.width,Un.height,Vt.format,Vt.type);for(const tr of Vt.layerUpdates){const cr=Un.data.subarray(tr*Mn/Un.data.BYTES_PER_ELEMENT,(tr+1)*Mn/Un.data.BYTES_PER_ELEMENT);tt.compressedTexSubImage3D(et.TEXTURE_2D_ARRAY,dn,0,0,tr,Un.width,Un.height,1,Fn,cr,0,0)}Vt.clearLayerUpdates()}else tt.compressedTexSubImage3D(et.TEXTURE_2D_ARRAY,dn,0,0,0,Un.width,Un.height,wn.depth,Fn,Un.data,0,0)}else tt.compressedTexImage3D(et.TEXTURE_2D_ARRAY,dn,rr,Un.width,Un.height,wn.depth,0,Un.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Zt?qt&&tt.texSubImage3D(et.TEXTURE_2D_ARRAY,dn,0,0,0,Un.width,Un.height,wn.depth,Fn,dr,Un.data):tt.texImage3D(et.TEXTURE_2D_ARRAY,dn,rr,Un.width,Un.height,wn.depth,0,Fn,dr,Un.data)}else{Zt&&bn&&tt.texStorage2D(et.TEXTURE_2D,yn,rr,ir[0].width,ir[0].height);for(let dn=0,xn=ir.length;dn<xn;dn++)Un=ir[dn],Vt.format!==RGBAFormat?Fn!==null?Zt?qt&&tt.compressedTexSubImage2D(et.TEXTURE_2D,dn,0,0,Un.width,Un.height,Fn,Un.data):tt.compressedTexImage2D(et.TEXTURE_2D,dn,rr,Un.width,Un.height,0,Un.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Zt?qt&&tt.texSubImage2D(et.TEXTURE_2D,dn,0,0,Un.width,Un.height,Fn,dr,Un.data):tt.texImage2D(et.TEXTURE_2D,dn,rr,Un.width,Un.height,0,Fn,dr,Un.data)}else if(Vt.isDataArrayTexture)if(Zt){if(bn&&tt.texStorage3D(et.TEXTURE_2D_ARRAY,yn,rr,wn.width,wn.height,wn.depth),qt)if(Vt.layerUpdates.size>0){const dn=getByteLength(wn.width,wn.height,Vt.format,Vt.type);for(const xn of Vt.layerUpdates){const Mn=wn.data.subarray(xn*dn/wn.data.BYTES_PER_ELEMENT,(xn+1)*dn/wn.data.BYTES_PER_ELEMENT);tt.texSubImage3D(et.TEXTURE_2D_ARRAY,0,0,0,xn,wn.width,wn.height,1,Fn,dr,Mn)}Vt.clearLayerUpdates()}else tt.texSubImage3D(et.TEXTURE_2D_ARRAY,0,0,0,0,wn.width,wn.height,wn.depth,Fn,dr,wn.data)}else tt.texImage3D(et.TEXTURE_2D_ARRAY,0,rr,wn.width,wn.height,wn.depth,0,Fn,dr,wn.data);else if(Vt.isData3DTexture)Zt?(bn&&tt.texStorage3D(et.TEXTURE_3D,yn,rr,wn.width,wn.height,wn.depth),qt&&tt.texSubImage3D(et.TEXTURE_3D,0,0,0,0,wn.width,wn.height,wn.depth,Fn,dr,wn.data)):tt.texImage3D(et.TEXTURE_3D,0,rr,wn.width,wn.height,wn.depth,0,Fn,dr,wn.data);else if(Vt.isFramebufferTexture){if(bn)if(Zt)tt.texStorage2D(et.TEXTURE_2D,yn,rr,wn.width,wn.height);else{let dn=wn.width,xn=wn.height;for(let Mn=0;Mn<yn;Mn++)tt.texImage2D(et.TEXTURE_2D,Mn,rr,dn,xn,0,Fn,dr,null),dn>>=1,xn>>=1}}else if(ir.length>0){if(Zt&&bn){const dn=Ln(ir[0]);tt.texStorage2D(et.TEXTURE_2D,yn,rr,dn.width,dn.height)}for(let dn=0,xn=ir.length;dn<xn;dn++)Un=ir[dn],Zt?qt&&tt.texSubImage2D(et.TEXTURE_2D,dn,0,0,Fn,dr,Un):tt.texImage2D(et.TEXTURE_2D,dn,rr,Fn,dr,Un);Vt.generateMipmaps=!1}else if(Zt){if(bn){const dn=Ln(wn);tt.texStorage2D(et.TEXTURE_2D,yn,rr,dn.width,dn.height)}qt&&tt.texSubImage2D(et.TEXTURE_2D,0,0,0,Fn,dr,wn)}else tt.texImage2D(et.TEXTURE_2D,0,rr,Fn,dr,wn);_t(Vt)&&pt(Sn),On.__version=_n.version,Vt.onUpdate&&Vt.onUpdate(Vt)}Gt.__version=Vt.version}function Kt(Gt,Vt,sn){if(Vt.image.length!==6)return;const Sn=Qt(Gt,Vt),gn=Vt.source;tt.bindTexture(et.TEXTURE_CUBE_MAP,Gt.__webglTexture,et.TEXTURE0+sn);const _n=nt.get(gn);if(gn.version!==_n.__version||Sn===!0){tt.activeTexture(et.TEXTURE0+sn);const On=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),An=Vt.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Vt.colorSpace),kn=Vt.colorSpace===NoColorSpace||On===An?et.NONE:et.BROWSER_DEFAULT_WEBGL;et.pixelStorei(et.UNPACK_FLIP_Y_WEBGL,Vt.flipY),et.pixelStorei(et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Vt.premultiplyAlpha),et.pixelStorei(et.UNPACK_ALIGNMENT,Vt.unpackAlignment),et.pixelStorei(et.UNPACK_COLORSPACE_CONVERSION_WEBGL,kn);const er=Vt.isCompressedTexture||Vt.image[0].isCompressedTexture,wn=Vt.image[0]&&Vt.image[0].isDataTexture,Fn=[];for(let xn=0;xn<6;xn++)!er&&!wn?Fn[xn]=yt(Vt.image[xn],!0,rt.maxCubemapSize):Fn[xn]=wn?Vt.image[xn].image:Vt.image[xn],Fn[xn]=Tn(Vt,Fn[xn]);const dr=Fn[0],rr=it.convert(Vt.format,Vt.colorSpace),Un=it.convert(Vt.type),ir=xt(Vt.internalFormat,rr,Un,Vt.colorSpace),Zt=Vt.isVideoTexture!==!0,bn=_n.__version===void 0||Sn===!0,qt=gn.dataReady;let yn=St(Vt,dr);Bt(et.TEXTURE_CUBE_MAP,Vt);let dn;if(er){Zt&&bn&&tt.texStorage2D(et.TEXTURE_CUBE_MAP,yn,ir,dr.width,dr.height);for(let xn=0;xn<6;xn++){dn=Fn[xn].mipmaps;for(let Mn=0;Mn<dn.length;Mn++){const tr=dn[Mn];Vt.format!==RGBAFormat?rr!==null?Zt?qt&&tt.compressedTexSubImage2D(et.TEXTURE_CUBE_MAP_POSITIVE_X+xn,Mn,0,0,tr.width,tr.height,rr,tr.data):tt.compressedTexImage2D(et.TEXTURE_CUBE_MAP_POSITIVE_X+xn,Mn,ir,tr.width,tr.height,0,tr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Zt?qt&&tt.texSubImage2D(et.TEXTURE_CUBE_MAP_POSITIVE_X+xn,Mn,0,0,tr.width,tr.height,rr,Un,tr.data):tt.texImage2D(et.TEXTURE_CUBE_MAP_POSITIVE_X+xn,Mn,ir,tr.width,tr.height,0,rr,Un,tr.data)}}}else{if(dn=Vt.mipmaps,Zt&&bn){dn.length>0&&yn++;const xn=Ln(Fn[0]);tt.texStorage2D(et.TEXTURE_CUBE_MAP,yn,ir,xn.width,xn.height)}for(let xn=0;xn<6;xn++)if(wn){Zt?qt&&tt.texSubImage2D(et.TEXTURE_CUBE_MAP_POSITIVE_X+xn,0,0,0,Fn[xn].width,Fn[xn].height,rr,Un,Fn[xn].data):tt.texImage2D(et.TEXTURE_CUBE_MAP_POSITIVE_X+xn,0,ir,Fn[xn].width,Fn[xn].height,0,rr,Un,Fn[xn].data);for(let Mn=0;Mn<dn.length;Mn++){const cr=dn[Mn].image[xn].image;Zt?qt&&tt.texSubImage2D(et.TEXTURE_CUBE_MAP_POSITIVE_X+xn,Mn+1,0,0,cr.width,cr.height,rr,Un,cr.data):tt.texImage2D(et.TEXTURE_CUBE_MAP_POSITIVE_X+xn,Mn+1,ir,cr.width,cr.height,0,rr,Un,cr.data)}}else{Zt?qt&&tt.texSubImage2D(et.TEXTURE_CUBE_MAP_POSITIVE_X+xn,0,0,0,rr,Un,Fn[xn]):tt.texImage2D(et.TEXTURE_CUBE_MAP_POSITIVE_X+xn,0,ir,rr,Un,Fn[xn]);for(let Mn=0;Mn<dn.length;Mn++){const tr=dn[Mn];Zt?qt&&tt.texSubImage2D(et.TEXTURE_CUBE_MAP_POSITIVE_X+xn,Mn+1,0,0,rr,Un,tr.image[xn]):tt.texImage2D(et.TEXTURE_CUBE_MAP_POSITIVE_X+xn,Mn+1,ir,rr,Un,tr.image[xn])}}}_t(Vt)&&pt(et.TEXTURE_CUBE_MAP),_n.__version=gn.version,Vt.onUpdate&&Vt.onUpdate(Vt)}Gt.__version=Vt.version}function ln(Gt,Vt,sn,Sn,gn,_n){const On=it.convert(sn.format,sn.colorSpace),An=it.convert(sn.type),kn=xt(sn.internalFormat,On,An,sn.colorSpace);if(!nt.get(Vt).__hasExternalTextures){const wn=Math.max(1,Vt.width>>_n),Fn=Math.max(1,Vt.height>>_n);gn===et.TEXTURE_3D||gn===et.TEXTURE_2D_ARRAY?tt.texImage3D(gn,_n,kn,wn,Fn,Vt.depth,0,On,An,null):tt.texImage2D(gn,_n,kn,wn,Fn,0,On,An,null)}tt.bindFramebuffer(et.FRAMEBUFFER,Gt),mn(Vt)?at.framebufferTexture2DMultisampleEXT(et.FRAMEBUFFER,Sn,gn,nt.get(sn).__webglTexture,0,Pn(Vt)):(gn===et.TEXTURE_2D||gn>=et.TEXTURE_CUBE_MAP_POSITIVE_X&&gn<=et.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&et.framebufferTexture2D(et.FRAMEBUFFER,Sn,gn,nt.get(sn).__webglTexture,_n),tt.bindFramebuffer(et.FRAMEBUFFER,null)}function vn(Gt,Vt,sn){if(et.bindRenderbuffer(et.RENDERBUFFER,Gt),Vt.depthBuffer){const Sn=Vt.depthTexture,gn=Sn&&Sn.isDepthTexture?Sn.type:null,_n=vt(Vt.stencilBuffer,gn),On=Vt.stencilBuffer?et.DEPTH_STENCIL_ATTACHMENT:et.DEPTH_ATTACHMENT,An=Pn(Vt);mn(Vt)?at.renderbufferStorageMultisampleEXT(et.RENDERBUFFER,An,_n,Vt.width,Vt.height):sn?et.renderbufferStorageMultisample(et.RENDERBUFFER,An,_n,Vt.width,Vt.height):et.renderbufferStorage(et.RENDERBUFFER,_n,Vt.width,Vt.height),et.framebufferRenderbuffer(et.FRAMEBUFFER,On,et.RENDERBUFFER,Gt)}else{const Sn=Vt.textures;for(let gn=0;gn<Sn.length;gn++){const _n=Sn[gn],On=it.convert(_n.format,_n.colorSpace),An=it.convert(_n.type),kn=xt(_n.internalFormat,On,An,_n.colorSpace),er=Pn(Vt);sn&&mn(Vt)===!1?et.renderbufferStorageMultisample(et.RENDERBUFFER,er,kn,Vt.width,Vt.height):mn(Vt)?at.renderbufferStorageMultisampleEXT(et.RENDERBUFFER,er,kn,Vt.width,Vt.height):et.renderbufferStorage(et.RENDERBUFFER,kn,Vt.width,Vt.height)}}et.bindRenderbuffer(et.RENDERBUFFER,null)}function En(Gt,Vt){if(Vt&&Vt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(tt.bindFramebuffer(et.FRAMEBUFFER,Gt),!(Vt.depthTexture&&Vt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!nt.get(Vt.depthTexture).__webglTexture||Vt.depthTexture.image.width!==Vt.width||Vt.depthTexture.image.height!==Vt.height)&&(Vt.depthTexture.image.width=Vt.width,Vt.depthTexture.image.height=Vt.height,Vt.depthTexture.needsUpdate=!0),Yt(Vt.depthTexture,0);const Sn=nt.get(Vt.depthTexture).__webglTexture,gn=Pn(Vt);if(Vt.depthTexture.format===DepthFormat)mn(Vt)?at.framebufferTexture2DMultisampleEXT(et.FRAMEBUFFER,et.DEPTH_ATTACHMENT,et.TEXTURE_2D,Sn,0,gn):et.framebufferTexture2D(et.FRAMEBUFFER,et.DEPTH_ATTACHMENT,et.TEXTURE_2D,Sn,0);else if(Vt.depthTexture.format===DepthStencilFormat)mn(Vt)?at.framebufferTexture2DMultisampleEXT(et.FRAMEBUFFER,et.DEPTH_STENCIL_ATTACHMENT,et.TEXTURE_2D,Sn,0,gn):et.framebufferTexture2D(et.FRAMEBUFFER,et.DEPTH_STENCIL_ATTACHMENT,et.TEXTURE_2D,Sn,0);else throw new Error("Unknown depthTexture format")}function jn(Gt){const Vt=nt.get(Gt),sn=Gt.isWebGLCubeRenderTarget===!0;if(Gt.depthTexture&&!Vt.__autoAllocateDepthBuffer){if(sn)throw new Error("target.depthTexture not supported in Cube render targets");En(Vt.__webglFramebuffer,Gt)}else if(sn){Vt.__webglDepthbuffer=[];for(let Sn=0;Sn<6;Sn++)tt.bindFramebuffer(et.FRAMEBUFFER,Vt.__webglFramebuffer[Sn]),Vt.__webglDepthbuffer[Sn]=et.createRenderbuffer(),vn(Vt.__webglDepthbuffer[Sn],Gt,!1)}else tt.bindFramebuffer(et.FRAMEBUFFER,Vt.__webglFramebuffer),Vt.__webglDepthbuffer=et.createRenderbuffer(),vn(Vt.__webglDepthbuffer,Gt,!1);tt.bindFramebuffer(et.FRAMEBUFFER,null)}function qn(Gt,Vt,sn){const Sn=nt.get(Gt);Vt!==void 0&&ln(Sn.__webglFramebuffer,Gt,Gt.texture,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,0),sn!==void 0&&jn(Gt)}function Vn(Gt){const Vt=Gt.texture,sn=nt.get(Gt),Sn=nt.get(Vt);Gt.addEventListener("dispose",Mt);const gn=Gt.textures,_n=Gt.isWebGLCubeRenderTarget===!0,On=gn.length>1;if(On||(Sn.__webglTexture===void 0&&(Sn.__webglTexture=et.createTexture()),Sn.__version=Vt.version,st.memory.textures++),_n){sn.__webglFramebuffer=[];for(let An=0;An<6;An++)if(Vt.mipmaps&&Vt.mipmaps.length>0){sn.__webglFramebuffer[An]=[];for(let kn=0;kn<Vt.mipmaps.length;kn++)sn.__webglFramebuffer[An][kn]=et.createFramebuffer()}else sn.__webglFramebuffer[An]=et.createFramebuffer()}else{if(Vt.mipmaps&&Vt.mipmaps.length>0){sn.__webglFramebuffer=[];for(let An=0;An<Vt.mipmaps.length;An++)sn.__webglFramebuffer[An]=et.createFramebuffer()}else sn.__webglFramebuffer=et.createFramebuffer();if(On)for(let An=0,kn=gn.length;An<kn;An++){const er=nt.get(gn[An]);er.__webglTexture===void 0&&(er.__webglTexture=et.createTexture(),st.memory.textures++)}if(Gt.samples>0&&mn(Gt)===!1){sn.__webglMultisampledFramebuffer=et.createFramebuffer(),sn.__webglColorRenderbuffer=[],tt.bindFramebuffer(et.FRAMEBUFFER,sn.__webglMultisampledFramebuffer);for(let An=0;An<gn.length;An++){const kn=gn[An];sn.__webglColorRenderbuffer[An]=et.createRenderbuffer(),et.bindRenderbuffer(et.RENDERBUFFER,sn.__webglColorRenderbuffer[An]);const er=it.convert(kn.format,kn.colorSpace),wn=it.convert(kn.type),Fn=xt(kn.internalFormat,er,wn,kn.colorSpace,Gt.isXRRenderTarget===!0),dr=Pn(Gt);et.renderbufferStorageMultisample(et.RENDERBUFFER,dr,Fn,Gt.width,Gt.height),et.framebufferRenderbuffer(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0+An,et.RENDERBUFFER,sn.__webglColorRenderbuffer[An])}et.bindRenderbuffer(et.RENDERBUFFER,null),Gt.depthBuffer&&(sn.__webglDepthRenderbuffer=et.createRenderbuffer(),vn(sn.__webglDepthRenderbuffer,Gt,!0)),tt.bindFramebuffer(et.FRAMEBUFFER,null)}}if(_n){tt.bindTexture(et.TEXTURE_CUBE_MAP,Sn.__webglTexture),Bt(et.TEXTURE_CUBE_MAP,Vt);for(let An=0;An<6;An++)if(Vt.mipmaps&&Vt.mipmaps.length>0)for(let kn=0;kn<Vt.mipmaps.length;kn++)ln(sn.__webglFramebuffer[An][kn],Gt,Vt,et.COLOR_ATTACHMENT0,et.TEXTURE_CUBE_MAP_POSITIVE_X+An,kn);else ln(sn.__webglFramebuffer[An],Gt,Vt,et.COLOR_ATTACHMENT0,et.TEXTURE_CUBE_MAP_POSITIVE_X+An,0);_t(Vt)&&pt(et.TEXTURE_CUBE_MAP),tt.unbindTexture()}else if(On){for(let An=0,kn=gn.length;An<kn;An++){const er=gn[An],wn=nt.get(er);tt.bindTexture(et.TEXTURE_2D,wn.__webglTexture),Bt(et.TEXTURE_2D,er),ln(sn.__webglFramebuffer,Gt,er,et.COLOR_ATTACHMENT0+An,et.TEXTURE_2D,0),_t(er)&&pt(et.TEXTURE_2D)}tt.unbindTexture()}else{let An=et.TEXTURE_2D;if((Gt.isWebGL3DRenderTarget||Gt.isWebGLArrayRenderTarget)&&(An=Gt.isWebGL3DRenderTarget?et.TEXTURE_3D:et.TEXTURE_2D_ARRAY),tt.bindTexture(An,Sn.__webglTexture),Bt(An,Vt),Vt.mipmaps&&Vt.mipmaps.length>0)for(let kn=0;kn<Vt.mipmaps.length;kn++)ln(sn.__webglFramebuffer[kn],Gt,Vt,et.COLOR_ATTACHMENT0,An,kn);else ln(sn.__webglFramebuffer,Gt,Vt,et.COLOR_ATTACHMENT0,An,0);_t(Vt)&&pt(An),tt.unbindTexture()}Gt.depthBuffer&&jn(Gt)}function Gn(Gt){const Vt=Gt.textures;for(let sn=0,Sn=Vt.length;sn<Sn;sn++){const gn=Vt[sn];if(_t(gn)){const _n=Gt.isWebGLCubeRenderTarget?et.TEXTURE_CUBE_MAP:et.TEXTURE_2D,On=nt.get(gn).__webglTexture;tt.bindTexture(_n,On),pt(_n),tt.unbindTexture()}}}const $t=[],fn=[];function rn(Gt){if(Gt.samples>0){if(mn(Gt)===!1){const Vt=Gt.textures,sn=Gt.width,Sn=Gt.height;let gn=et.COLOR_BUFFER_BIT;const _n=Gt.stencilBuffer?et.DEPTH_STENCIL_ATTACHMENT:et.DEPTH_ATTACHMENT,On=nt.get(Gt),An=Vt.length>1;if(An)for(let kn=0;kn<Vt.length;kn++)tt.bindFramebuffer(et.FRAMEBUFFER,On.__webglMultisampledFramebuffer),et.framebufferRenderbuffer(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0+kn,et.RENDERBUFFER,null),tt.bindFramebuffer(et.FRAMEBUFFER,On.__webglFramebuffer),et.framebufferTexture2D(et.DRAW_FRAMEBUFFER,et.COLOR_ATTACHMENT0+kn,et.TEXTURE_2D,null,0);tt.bindFramebuffer(et.READ_FRAMEBUFFER,On.__webglMultisampledFramebuffer),tt.bindFramebuffer(et.DRAW_FRAMEBUFFER,On.__webglFramebuffer);for(let kn=0;kn<Vt.length;kn++){if(Gt.resolveDepthBuffer&&(Gt.depthBuffer&&(gn|=et.DEPTH_BUFFER_BIT),Gt.stencilBuffer&&Gt.resolveStencilBuffer&&(gn|=et.STENCIL_BUFFER_BIT)),An){et.framebufferRenderbuffer(et.READ_FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.RENDERBUFFER,On.__webglColorRenderbuffer[kn]);const er=nt.get(Vt[kn]).__webglTexture;et.framebufferTexture2D(et.DRAW_FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,er,0)}et.blitFramebuffer(0,0,sn,Sn,0,0,sn,Sn,gn,et.NEAREST),ot===!0&&($t.length=0,fn.length=0,$t.push(et.COLOR_ATTACHMENT0+kn),Gt.depthBuffer&&Gt.resolveDepthBuffer===!1&&($t.push(_n),fn.push(_n),et.invalidateFramebuffer(et.DRAW_FRAMEBUFFER,fn)),et.invalidateFramebuffer(et.READ_FRAMEBUFFER,$t))}if(tt.bindFramebuffer(et.READ_FRAMEBUFFER,null),tt.bindFramebuffer(et.DRAW_FRAMEBUFFER,null),An)for(let kn=0;kn<Vt.length;kn++){tt.bindFramebuffer(et.FRAMEBUFFER,On.__webglMultisampledFramebuffer),et.framebufferRenderbuffer(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0+kn,et.RENDERBUFFER,On.__webglColorRenderbuffer[kn]);const er=nt.get(Vt[kn]).__webglTexture;tt.bindFramebuffer(et.FRAMEBUFFER,On.__webglFramebuffer),et.framebufferTexture2D(et.DRAW_FRAMEBUFFER,et.COLOR_ATTACHMENT0+kn,et.TEXTURE_2D,er,0)}tt.bindFramebuffer(et.DRAW_FRAMEBUFFER,On.__webglMultisampledFramebuffer)}else if(Gt.depthBuffer&&Gt.resolveDepthBuffer===!1&&ot){const Vt=Gt.stencilBuffer?et.DEPTH_STENCIL_ATTACHMENT:et.DEPTH_ATTACHMENT;et.invalidateFramebuffer(et.DRAW_FRAMEBUFFER,[Vt])}}}function Pn(Gt){return Math.min(rt.maxSamples,Gt.samples)}function mn(Gt){const Vt=nt.get(Gt);return Gt.samples>0&&c.has("WEBGL_multisampled_render_to_texture")===!0&&Vt.__useRenderToTexture!==!1}function zn(Gt){const Vt=st.render.frame;ct.get(Gt)!==Vt&&(ct.set(Gt,Vt),Gt.update())}function Tn(Gt,Vt){const sn=Gt.colorSpace,Sn=Gt.format,gn=Gt.type;return Gt.isCompressedTexture===!0||Gt.isVideoTexture===!0||sn!==LinearSRGBColorSpace&&sn!==NoColorSpace&&(ColorManagement.getTransfer(sn)===SRGBTransfer?(Sn!==RGBAFormat||gn!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",sn)),Vt}function Ln(Gt){return typeof HTMLImageElement<"u"&&Gt instanceof HTMLImageElement?(lt.width=Gt.naturalWidth||Gt.width,lt.height=Gt.naturalHeight||Gt.height):typeof VideoFrame<"u"&&Gt instanceof VideoFrame?(lt.width=Gt.displayWidth,lt.height=Gt.displayHeight):(lt.width=Gt.width,lt.height=Gt.height),lt}this.allocateTextureUnit=zt,this.resetTextureUnits=Nt,this.setTexture2D=Yt,this.setTexture2DArray=Xt,this.setTexture3D=Ft,this.setTextureCube=Ut,this.rebindTextures=qn,this.setupRenderTarget=Vn,this.updateRenderTargetMipmap=Gn,this.updateMultisampleRenderTarget=rn,this.setupDepthRenderbuffer=jn,this.setupFrameBufferTexture=ln,this.useMultisampledRTT=mn}function WebGLUtils(et,c){function tt(nt,rt=NoColorSpace){let it;const st=ColorManagement.getTransfer(rt);if(nt===UnsignedByteType)return et.UNSIGNED_BYTE;if(nt===UnsignedShort4444Type)return et.UNSIGNED_SHORT_4_4_4_4;if(nt===UnsignedShort5551Type)return et.UNSIGNED_SHORT_5_5_5_1;if(nt===UnsignedInt5999Type)return et.UNSIGNED_INT_5_9_9_9_REV;if(nt===ByteType)return et.BYTE;if(nt===ShortType)return et.SHORT;if(nt===UnsignedShortType)return et.UNSIGNED_SHORT;if(nt===IntType)return et.INT;if(nt===UnsignedIntType)return et.UNSIGNED_INT;if(nt===FloatType)return et.FLOAT;if(nt===HalfFloatType)return et.HALF_FLOAT;if(nt===AlphaFormat)return et.ALPHA;if(nt===RGBFormat)return et.RGB;if(nt===RGBAFormat)return et.RGBA;if(nt===LuminanceFormat)return et.LUMINANCE;if(nt===LuminanceAlphaFormat)return et.LUMINANCE_ALPHA;if(nt===DepthFormat)return et.DEPTH_COMPONENT;if(nt===DepthStencilFormat)return et.DEPTH_STENCIL;if(nt===RedFormat)return et.RED;if(nt===RedIntegerFormat)return et.RED_INTEGER;if(nt===RGFormat)return et.RG;if(nt===RGIntegerFormat)return et.RG_INTEGER;if(nt===RGBAIntegerFormat)return et.RGBA_INTEGER;if(nt===RGB_S3TC_DXT1_Format||nt===RGBA_S3TC_DXT1_Format||nt===RGBA_S3TC_DXT3_Format||nt===RGBA_S3TC_DXT5_Format)if(st===SRGBTransfer)if(it=c.get("WEBGL_compressed_texture_s3tc_srgb"),it!==null){if(nt===RGB_S3TC_DXT1_Format)return it.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(nt===RGBA_S3TC_DXT1_Format)return it.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(nt===RGBA_S3TC_DXT3_Format)return it.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(nt===RGBA_S3TC_DXT5_Format)return it.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(it=c.get("WEBGL_compressed_texture_s3tc"),it!==null){if(nt===RGB_S3TC_DXT1_Format)return it.COMPRESSED_RGB_S3TC_DXT1_EXT;if(nt===RGBA_S3TC_DXT1_Format)return it.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(nt===RGBA_S3TC_DXT3_Format)return it.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(nt===RGBA_S3TC_DXT5_Format)return it.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(nt===RGB_PVRTC_4BPPV1_Format||nt===RGB_PVRTC_2BPPV1_Format||nt===RGBA_PVRTC_4BPPV1_Format||nt===RGBA_PVRTC_2BPPV1_Format)if(it=c.get("WEBGL_compressed_texture_pvrtc"),it!==null){if(nt===RGB_PVRTC_4BPPV1_Format)return it.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(nt===RGB_PVRTC_2BPPV1_Format)return it.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(nt===RGBA_PVRTC_4BPPV1_Format)return it.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(nt===RGBA_PVRTC_2BPPV1_Format)return it.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(nt===RGB_ETC1_Format||nt===RGB_ETC2_Format||nt===RGBA_ETC2_EAC_Format)if(it=c.get("WEBGL_compressed_texture_etc"),it!==null){if(nt===RGB_ETC1_Format||nt===RGB_ETC2_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ETC2:it.COMPRESSED_RGB8_ETC2;if(nt===RGBA_ETC2_EAC_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:it.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(nt===RGBA_ASTC_4x4_Format||nt===RGBA_ASTC_5x4_Format||nt===RGBA_ASTC_5x5_Format||nt===RGBA_ASTC_6x5_Format||nt===RGBA_ASTC_6x6_Format||nt===RGBA_ASTC_8x5_Format||nt===RGBA_ASTC_8x6_Format||nt===RGBA_ASTC_8x8_Format||nt===RGBA_ASTC_10x5_Format||nt===RGBA_ASTC_10x6_Format||nt===RGBA_ASTC_10x8_Format||nt===RGBA_ASTC_10x10_Format||nt===RGBA_ASTC_12x10_Format||nt===RGBA_ASTC_12x12_Format)if(it=c.get("WEBGL_compressed_texture_astc"),it!==null){if(nt===RGBA_ASTC_4x4_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:it.COMPRESSED_RGBA_ASTC_4x4_KHR;if(nt===RGBA_ASTC_5x4_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:it.COMPRESSED_RGBA_ASTC_5x4_KHR;if(nt===RGBA_ASTC_5x5_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:it.COMPRESSED_RGBA_ASTC_5x5_KHR;if(nt===RGBA_ASTC_6x5_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:it.COMPRESSED_RGBA_ASTC_6x5_KHR;if(nt===RGBA_ASTC_6x6_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:it.COMPRESSED_RGBA_ASTC_6x6_KHR;if(nt===RGBA_ASTC_8x5_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:it.COMPRESSED_RGBA_ASTC_8x5_KHR;if(nt===RGBA_ASTC_8x6_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:it.COMPRESSED_RGBA_ASTC_8x6_KHR;if(nt===RGBA_ASTC_8x8_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:it.COMPRESSED_RGBA_ASTC_8x8_KHR;if(nt===RGBA_ASTC_10x5_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:it.COMPRESSED_RGBA_ASTC_10x5_KHR;if(nt===RGBA_ASTC_10x6_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:it.COMPRESSED_RGBA_ASTC_10x6_KHR;if(nt===RGBA_ASTC_10x8_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:it.COMPRESSED_RGBA_ASTC_10x8_KHR;if(nt===RGBA_ASTC_10x10_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:it.COMPRESSED_RGBA_ASTC_10x10_KHR;if(nt===RGBA_ASTC_12x10_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:it.COMPRESSED_RGBA_ASTC_12x10_KHR;if(nt===RGBA_ASTC_12x12_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:it.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(nt===RGBA_BPTC_Format||nt===RGB_BPTC_SIGNED_Format||nt===RGB_BPTC_UNSIGNED_Format)if(it=c.get("EXT_texture_compression_bptc"),it!==null){if(nt===RGBA_BPTC_Format)return st===SRGBTransfer?it.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:it.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(nt===RGB_BPTC_SIGNED_Format)return it.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(nt===RGB_BPTC_UNSIGNED_Format)return it.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(nt===RED_RGTC1_Format||nt===SIGNED_RED_RGTC1_Format||nt===RED_GREEN_RGTC2_Format||nt===SIGNED_RED_GREEN_RGTC2_Format)if(it=c.get("EXT_texture_compression_rgtc"),it!==null){if(nt===RGBA_BPTC_Format)return it.COMPRESSED_RED_RGTC1_EXT;if(nt===SIGNED_RED_RGTC1_Format)return it.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(nt===RED_GREEN_RGTC2_Format)return it.COMPRESSED_RED_GREEN_RGTC2_EXT;if(nt===SIGNED_RED_GREEN_RGTC2_Format)return it.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return nt===UnsignedInt248Type?et.UNSIGNED_INT_24_8:et[nt]!==void 0?et[nt]:null}return{convert:tt}}class ArrayCamera extends PerspectiveCamera{constructor(c=[]){super(),this.isArrayCamera=!0,this.cameras=c}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(c){return this._targetRay!==null&&this._targetRay.dispatchEvent(c),this._grip!==null&&this._grip.dispatchEvent(c),this._hand!==null&&this._hand.dispatchEvent(c),this}connect(c){if(c&&c.hand){const tt=this._hand;if(tt)for(const nt of c.hand.values())this._getHandJoint(tt,nt)}return this.dispatchEvent({type:"connected",data:c}),this}disconnect(c){return this.dispatchEvent({type:"disconnected",data:c}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(c,tt,nt){let rt=null,it=null,st=null;const at=this._targetRay,ot=this._grip,lt=this._hand;if(c&&tt.session.visibilityState!=="visible-blurred"){if(lt&&c.hand){st=!0;for(const yt of c.hand.values()){const _t=tt.getJointPose(yt,nt),pt=this._getHandJoint(lt,yt);_t!==null&&(pt.matrix.fromArray(_t.transform.matrix),pt.matrix.decompose(pt.position,pt.rotation,pt.scale),pt.matrixWorldNeedsUpdate=!0,pt.jointRadius=_t.radius),pt.visible=_t!==null}const ct=lt.joints["index-finger-tip"],dt=lt.joints["thumb-tip"],ht=ct.position.distanceTo(dt.position),mt=.02,gt=.005;lt.inputState.pinching&&ht>mt+gt?(lt.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:c.handedness,target:this})):!lt.inputState.pinching&&ht<=mt-gt&&(lt.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:c.handedness,target:this}))}else ot!==null&&c.gripSpace&&(it=tt.getPose(c.gripSpace,nt),it!==null&&(ot.matrix.fromArray(it.transform.matrix),ot.matrix.decompose(ot.position,ot.rotation,ot.scale),ot.matrixWorldNeedsUpdate=!0,it.linearVelocity?(ot.hasLinearVelocity=!0,ot.linearVelocity.copy(it.linearVelocity)):ot.hasLinearVelocity=!1,it.angularVelocity?(ot.hasAngularVelocity=!0,ot.angularVelocity.copy(it.angularVelocity)):ot.hasAngularVelocity=!1));at!==null&&(rt=tt.getPose(c.targetRaySpace,nt),rt===null&&it!==null&&(rt=it),rt!==null&&(at.matrix.fromArray(rt.transform.matrix),at.matrix.decompose(at.position,at.rotation,at.scale),at.matrixWorldNeedsUpdate=!0,rt.linearVelocity?(at.hasLinearVelocity=!0,at.linearVelocity.copy(rt.linearVelocity)):at.hasLinearVelocity=!1,rt.angularVelocity?(at.hasAngularVelocity=!0,at.angularVelocity.copy(rt.angularVelocity)):at.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return at!==null&&(at.visible=rt!==null),ot!==null&&(ot.visible=it!==null),lt!==null&&(lt.visible=st!==null),this}_getHandJoint(c,tt){if(c.joints[tt.jointName]===void 0){const nt=new Group;nt.matrixAutoUpdate=!1,nt.visible=!1,c.joints[tt.jointName]=nt,c.add(nt)}return c.joints[tt.jointName]}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(c,tt,nt){if(this.texture===null){const rt=new Texture,it=c.properties.get(rt);it.__webglTexture=tt.texture,(tt.depthNear!=nt.depthNear||tt.depthFar!=nt.depthFar)&&(this.depthNear=tt.depthNear,this.depthFar=tt.depthFar),this.texture=rt}}getMesh(c){if(this.texture!==null&&this.mesh===null){const tt=c.cameras[0].viewport,nt=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:tt.z},depthHeight:{value:tt.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),nt)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class WebXRManager extends EventDispatcher$1{constructor(c,tt){super();const nt=this;let rt=null,it=1,st=null,at="local-floor",ot=1,lt=null,ct=null,dt=null,ht=null,mt=null,gt=null;const yt=new WebXRDepthSensing,_t=tt.getContextAttributes();let pt=null,xt=null;const vt=[],St=[],wt=new Vector2;let Mt=null;const Ct=new PerspectiveCamera;Ct.layers.enable(1),Ct.viewport=new Vector4;const Rt=new PerspectiveCamera;Rt.layers.enable(2),Rt.viewport=new Vector4;const Lt=[Ct,Rt],It=new ArrayCamera;It.layers.enable(1),It.layers.enable(2);let Nt=null,zt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Kt){let ln=vt[Kt];return ln===void 0&&(ln=new WebXRController,vt[Kt]=ln),ln.getTargetRaySpace()},this.getControllerGrip=function(Kt){let ln=vt[Kt];return ln===void 0&&(ln=new WebXRController,vt[Kt]=ln),ln.getGripSpace()},this.getHand=function(Kt){let ln=vt[Kt];return ln===void 0&&(ln=new WebXRController,vt[Kt]=ln),ln.getHandSpace()};function Wt(Kt){const ln=St.indexOf(Kt.inputSource);if(ln===-1)return;const vn=vt[ln];vn!==void 0&&(vn.update(Kt.inputSource,Kt.frame,lt||st),vn.dispatchEvent({type:Kt.type,data:Kt.inputSource}))}function Yt(){rt.removeEventListener("select",Wt),rt.removeEventListener("selectstart",Wt),rt.removeEventListener("selectend",Wt),rt.removeEventListener("squeeze",Wt),rt.removeEventListener("squeezestart",Wt),rt.removeEventListener("squeezeend",Wt),rt.removeEventListener("end",Yt),rt.removeEventListener("inputsourceschange",Xt);for(let Kt=0;Kt<vt.length;Kt++){const ln=St[Kt];ln!==null&&(St[Kt]=null,vt[Kt].disconnect(ln))}Nt=null,zt=null,yt.reset(),c.setRenderTarget(pt),mt=null,ht=null,dt=null,rt=null,xt=null,an.stop(),nt.isPresenting=!1,c.setPixelRatio(Mt),c.setSize(wt.width,wt.height,!1),nt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Kt){it=Kt,nt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Kt){at=Kt,nt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return lt||st},this.setReferenceSpace=function(Kt){lt=Kt},this.getBaseLayer=function(){return ht!==null?ht:mt},this.getBinding=function(){return dt},this.getFrame=function(){return gt},this.getSession=function(){return rt},this.setSession=async function(Kt){if(rt=Kt,rt!==null){if(pt=c.getRenderTarget(),rt.addEventListener("select",Wt),rt.addEventListener("selectstart",Wt),rt.addEventListener("selectend",Wt),rt.addEventListener("squeeze",Wt),rt.addEventListener("squeezestart",Wt),rt.addEventListener("squeezeend",Wt),rt.addEventListener("end",Yt),rt.addEventListener("inputsourceschange",Xt),_t.xrCompatible!==!0&&await tt.makeXRCompatible(),Mt=c.getPixelRatio(),c.getSize(wt),rt.renderState.layers===void 0){const ln={antialias:_t.antialias,alpha:!0,depth:_t.depth,stencil:_t.stencil,framebufferScaleFactor:it};mt=new XRWebGLLayer(rt,tt,ln),rt.updateRenderState({baseLayer:mt}),c.setPixelRatio(1),c.setSize(mt.framebufferWidth,mt.framebufferHeight,!1),xt=new WebGLRenderTarget(mt.framebufferWidth,mt.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:c.outputColorSpace,stencilBuffer:_t.stencil})}else{let ln=null,vn=null,En=null;_t.depth&&(En=_t.stencil?tt.DEPTH24_STENCIL8:tt.DEPTH_COMPONENT24,ln=_t.stencil?DepthStencilFormat:DepthFormat,vn=_t.stencil?UnsignedInt248Type:UnsignedIntType);const jn={colorFormat:tt.RGBA8,depthFormat:En,scaleFactor:it};dt=new XRWebGLBinding(rt,tt),ht=dt.createProjectionLayer(jn),rt.updateRenderState({layers:[ht]}),c.setPixelRatio(1),c.setSize(ht.textureWidth,ht.textureHeight,!1),xt=new WebGLRenderTarget(ht.textureWidth,ht.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ht.textureWidth,ht.textureHeight,vn,void 0,void 0,void 0,void 0,void 0,void 0,ln),stencilBuffer:_t.stencil,colorSpace:c.outputColorSpace,samples:_t.antialias?4:0,resolveDepthBuffer:ht.ignoreDepthValues===!1})}xt.isXRRenderTarget=!0,this.setFoveation(ot),lt=null,st=await rt.requestReferenceSpace(at),an.setContext(rt),an.start(),nt.isPresenting=!0,nt.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(rt!==null)return rt.environmentBlendMode},this.getDepthTexture=function(){return yt.getDepthTexture()};function Xt(Kt){for(let ln=0;ln<Kt.removed.length;ln++){const vn=Kt.removed[ln],En=St.indexOf(vn);En>=0&&(St[En]=null,vt[En].disconnect(vn))}for(let ln=0;ln<Kt.added.length;ln++){const vn=Kt.added[ln];let En=St.indexOf(vn);if(En===-1){for(let qn=0;qn<vt.length;qn++)if(qn>=St.length){St.push(vn),En=qn;break}else if(St[qn]===null){St[qn]=vn,En=qn;break}if(En===-1)break}const jn=vt[En];jn&&jn.connect(vn)}}const Ft=new Vector3,Ut=new Vector3;function At(Kt,ln,vn){Ft.setFromMatrixPosition(ln.matrixWorld),Ut.setFromMatrixPosition(vn.matrixWorld);const En=Ft.distanceTo(Ut),jn=ln.projectionMatrix.elements,qn=vn.projectionMatrix.elements,Vn=jn[14]/(jn[10]-1),Gn=jn[14]/(jn[10]+1),$t=(jn[9]+1)/jn[5],fn=(jn[9]-1)/jn[5],rn=(jn[8]-1)/jn[0],Pn=(qn[8]+1)/qn[0],mn=Vn*rn,zn=Vn*Pn,Tn=En/(-rn+Pn),Ln=Tn*-rn;ln.matrixWorld.decompose(Kt.position,Kt.quaternion,Kt.scale),Kt.translateX(Ln),Kt.translateZ(Tn),Kt.matrixWorld.compose(Kt.position,Kt.quaternion,Kt.scale),Kt.matrixWorldInverse.copy(Kt.matrixWorld).invert();const Gt=Vn+Tn,Vt=Gn+Tn,sn=mn-Ln,Sn=zn+(En-Ln),gn=$t*Gn/Vt*Gt,_n=fn*Gn/Vt*Gt;Kt.projectionMatrix.makePerspective(sn,Sn,gn,_n,Gt,Vt),Kt.projectionMatrixInverse.copy(Kt.projectionMatrix).invert()}function kt(Kt,ln){ln===null?Kt.matrixWorld.copy(Kt.matrix):Kt.matrixWorld.multiplyMatrices(ln.matrixWorld,Kt.matrix),Kt.matrixWorldInverse.copy(Kt.matrixWorld).invert()}this.updateCamera=function(Kt){if(rt===null)return;yt.texture!==null&&(Kt.near=yt.depthNear,Kt.far=yt.depthFar),It.near=Rt.near=Ct.near=Kt.near,It.far=Rt.far=Ct.far=Kt.far,(Nt!==It.near||zt!==It.far)&&(rt.updateRenderState({depthNear:It.near,depthFar:It.far}),Nt=It.near,zt=It.far,Ct.near=Nt,Ct.far=zt,Rt.near=Nt,Rt.far=zt,Ct.updateProjectionMatrix(),Rt.updateProjectionMatrix(),Kt.updateProjectionMatrix());const ln=Kt.parent,vn=It.cameras;kt(It,ln);for(let En=0;En<vn.length;En++)kt(vn[En],ln);vn.length===2?At(It,Ct,Rt):It.projectionMatrix.copy(Ct.projectionMatrix),Ot(Kt,It,ln)};function Ot(Kt,ln,vn){vn===null?Kt.matrix.copy(ln.matrixWorld):(Kt.matrix.copy(vn.matrixWorld),Kt.matrix.invert(),Kt.matrix.multiply(ln.matrixWorld)),Kt.matrix.decompose(Kt.position,Kt.quaternion,Kt.scale),Kt.updateMatrixWorld(!0),Kt.projectionMatrix.copy(ln.projectionMatrix),Kt.projectionMatrixInverse.copy(ln.projectionMatrixInverse),Kt.isPerspectiveCamera&&(Kt.fov=RAD2DEG*2*Math.atan(1/Kt.projectionMatrix.elements[5]),Kt.zoom=1)}this.getCamera=function(){return It},this.getFoveation=function(){if(!(ht===null&&mt===null))return ot},this.setFoveation=function(Kt){ot=Kt,ht!==null&&(ht.fixedFoveation=Kt),mt!==null&&mt.fixedFoveation!==void 0&&(mt.fixedFoveation=Kt)},this.hasDepthSensing=function(){return yt.texture!==null},this.getDepthSensingMesh=function(){return yt.getMesh(It)};let Bt=null;function Qt(Kt,ln){if(ct=ln.getViewerPose(lt||st),gt=ln,ct!==null){const vn=ct.views;mt!==null&&(c.setRenderTargetFramebuffer(xt,mt.framebuffer),c.setRenderTarget(xt));let En=!1;vn.length!==It.cameras.length&&(It.cameras.length=0,En=!0);for(let qn=0;qn<vn.length;qn++){const Vn=vn[qn];let Gn=null;if(mt!==null)Gn=mt.getViewport(Vn);else{const fn=dt.getViewSubImage(ht,Vn);Gn=fn.viewport,qn===0&&(c.setRenderTargetTextures(xt,fn.colorTexture,ht.ignoreDepthValues?void 0:fn.depthStencilTexture),c.setRenderTarget(xt))}let $t=Lt[qn];$t===void 0&&($t=new PerspectiveCamera,$t.layers.enable(qn),$t.viewport=new Vector4,Lt[qn]=$t),$t.matrix.fromArray(Vn.transform.matrix),$t.matrix.decompose($t.position,$t.quaternion,$t.scale),$t.projectionMatrix.fromArray(Vn.projectionMatrix),$t.projectionMatrixInverse.copy($t.projectionMatrix).invert(),$t.viewport.set(Gn.x,Gn.y,Gn.width,Gn.height),qn===0&&(It.matrix.copy($t.matrix),It.matrix.decompose(It.position,It.quaternion,It.scale)),En===!0&&It.cameras.push($t)}const jn=rt.enabledFeatures;if(jn&&jn.includes("depth-sensing")){const qn=dt.getDepthInformation(vn[0]);qn&&qn.isValid&&qn.texture&&yt.init(c,qn,rt.renderState)}}for(let vn=0;vn<vt.length;vn++){const En=St[vn],jn=vt[vn];En!==null&&jn!==void 0&&jn.update(En,ln,lt||st)}Bt&&Bt(Kt,ln),ln.detectedPlanes&&nt.dispatchEvent({type:"planesdetected",data:ln}),gt=null}const an=new WebGLAnimation;an.setAnimationLoop(Qt),this.setAnimationLoop=function(Kt){Bt=Kt},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(et,c){function tt(_t,pt){_t.matrixAutoUpdate===!0&&_t.updateMatrix(),pt.value.copy(_t.matrix)}function nt(_t,pt){pt.color.getRGB(_t.fogColor.value,getUnlitUniformColorSpace(et)),pt.isFog?(_t.fogNear.value=pt.near,_t.fogFar.value=pt.far):pt.isFogExp2&&(_t.fogDensity.value=pt.density)}function rt(_t,pt,xt,vt,St){pt.isMeshBasicMaterial||pt.isMeshLambertMaterial?it(_t,pt):pt.isMeshToonMaterial?(it(_t,pt),dt(_t,pt)):pt.isMeshPhongMaterial?(it(_t,pt),ct(_t,pt)):pt.isMeshStandardMaterial?(it(_t,pt),ht(_t,pt),pt.isMeshPhysicalMaterial&&mt(_t,pt,St)):pt.isMeshMatcapMaterial?(it(_t,pt),gt(_t,pt)):pt.isMeshDepthMaterial?it(_t,pt):pt.isMeshDistanceMaterial?(it(_t,pt),yt(_t,pt)):pt.isMeshNormalMaterial?it(_t,pt):pt.isLineBasicMaterial?(st(_t,pt),pt.isLineDashedMaterial&&at(_t,pt)):pt.isPointsMaterial?ot(_t,pt,xt,vt):pt.isSpriteMaterial?lt(_t,pt):pt.isShadowMaterial?(_t.color.value.copy(pt.color),_t.opacity.value=pt.opacity):pt.isShaderMaterial&&(pt.uniformsNeedUpdate=!1)}function it(_t,pt){_t.opacity.value=pt.opacity,pt.color&&_t.diffuse.value.copy(pt.color),pt.emissive&&_t.emissive.value.copy(pt.emissive).multiplyScalar(pt.emissiveIntensity),pt.map&&(_t.map.value=pt.map,tt(pt.map,_t.mapTransform)),pt.alphaMap&&(_t.alphaMap.value=pt.alphaMap,tt(pt.alphaMap,_t.alphaMapTransform)),pt.bumpMap&&(_t.bumpMap.value=pt.bumpMap,tt(pt.bumpMap,_t.bumpMapTransform),_t.bumpScale.value=pt.bumpScale,pt.side===BackSide&&(_t.bumpScale.value*=-1)),pt.normalMap&&(_t.normalMap.value=pt.normalMap,tt(pt.normalMap,_t.normalMapTransform),_t.normalScale.value.copy(pt.normalScale),pt.side===BackSide&&_t.normalScale.value.negate()),pt.displacementMap&&(_t.displacementMap.value=pt.displacementMap,tt(pt.displacementMap,_t.displacementMapTransform),_t.displacementScale.value=pt.displacementScale,_t.displacementBias.value=pt.displacementBias),pt.emissiveMap&&(_t.emissiveMap.value=pt.emissiveMap,tt(pt.emissiveMap,_t.emissiveMapTransform)),pt.specularMap&&(_t.specularMap.value=pt.specularMap,tt(pt.specularMap,_t.specularMapTransform)),pt.alphaTest>0&&(_t.alphaTest.value=pt.alphaTest);const xt=c.get(pt),vt=xt.envMap,St=xt.envMapRotation;vt&&(_t.envMap.value=vt,_e1.copy(St),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,vt.isCubeTexture&&vt.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),_t.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),_t.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1,_t.reflectivity.value=pt.reflectivity,_t.ior.value=pt.ior,_t.refractionRatio.value=pt.refractionRatio),pt.lightMap&&(_t.lightMap.value=pt.lightMap,_t.lightMapIntensity.value=pt.lightMapIntensity,tt(pt.lightMap,_t.lightMapTransform)),pt.aoMap&&(_t.aoMap.value=pt.aoMap,_t.aoMapIntensity.value=pt.aoMapIntensity,tt(pt.aoMap,_t.aoMapTransform))}function st(_t,pt){_t.diffuse.value.copy(pt.color),_t.opacity.value=pt.opacity,pt.map&&(_t.map.value=pt.map,tt(pt.map,_t.mapTransform))}function at(_t,pt){_t.dashSize.value=pt.dashSize,_t.totalSize.value=pt.dashSize+pt.gapSize,_t.scale.value=pt.scale}function ot(_t,pt,xt,vt){_t.diffuse.value.copy(pt.color),_t.opacity.value=pt.opacity,_t.size.value=pt.size*xt,_t.scale.value=vt*.5,pt.map&&(_t.map.value=pt.map,tt(pt.map,_t.uvTransform)),pt.alphaMap&&(_t.alphaMap.value=pt.alphaMap,tt(pt.alphaMap,_t.alphaMapTransform)),pt.alphaTest>0&&(_t.alphaTest.value=pt.alphaTest)}function lt(_t,pt){_t.diffuse.value.copy(pt.color),_t.opacity.value=pt.opacity,_t.rotation.value=pt.rotation,pt.map&&(_t.map.value=pt.map,tt(pt.map,_t.mapTransform)),pt.alphaMap&&(_t.alphaMap.value=pt.alphaMap,tt(pt.alphaMap,_t.alphaMapTransform)),pt.alphaTest>0&&(_t.alphaTest.value=pt.alphaTest)}function ct(_t,pt){_t.specular.value.copy(pt.specular),_t.shininess.value=Math.max(pt.shininess,1e-4)}function dt(_t,pt){pt.gradientMap&&(_t.gradientMap.value=pt.gradientMap)}function ht(_t,pt){_t.metalness.value=pt.metalness,pt.metalnessMap&&(_t.metalnessMap.value=pt.metalnessMap,tt(pt.metalnessMap,_t.metalnessMapTransform)),_t.roughness.value=pt.roughness,pt.roughnessMap&&(_t.roughnessMap.value=pt.roughnessMap,tt(pt.roughnessMap,_t.roughnessMapTransform)),pt.envMap&&(_t.envMapIntensity.value=pt.envMapIntensity)}function mt(_t,pt,xt){_t.ior.value=pt.ior,pt.sheen>0&&(_t.sheenColor.value.copy(pt.sheenColor).multiplyScalar(pt.sheen),_t.sheenRoughness.value=pt.sheenRoughness,pt.sheenColorMap&&(_t.sheenColorMap.value=pt.sheenColorMap,tt(pt.sheenColorMap,_t.sheenColorMapTransform)),pt.sheenRoughnessMap&&(_t.sheenRoughnessMap.value=pt.sheenRoughnessMap,tt(pt.sheenRoughnessMap,_t.sheenRoughnessMapTransform))),pt.clearcoat>0&&(_t.clearcoat.value=pt.clearcoat,_t.clearcoatRoughness.value=pt.clearcoatRoughness,pt.clearcoatMap&&(_t.clearcoatMap.value=pt.clearcoatMap,tt(pt.clearcoatMap,_t.clearcoatMapTransform)),pt.clearcoatRoughnessMap&&(_t.clearcoatRoughnessMap.value=pt.clearcoatRoughnessMap,tt(pt.clearcoatRoughnessMap,_t.clearcoatRoughnessMapTransform)),pt.clearcoatNormalMap&&(_t.clearcoatNormalMap.value=pt.clearcoatNormalMap,tt(pt.clearcoatNormalMap,_t.clearcoatNormalMapTransform),_t.clearcoatNormalScale.value.copy(pt.clearcoatNormalScale),pt.side===BackSide&&_t.clearcoatNormalScale.value.negate())),pt.dispersion>0&&(_t.dispersion.value=pt.dispersion),pt.iridescence>0&&(_t.iridescence.value=pt.iridescence,_t.iridescenceIOR.value=pt.iridescenceIOR,_t.iridescenceThicknessMinimum.value=pt.iridescenceThicknessRange[0],_t.iridescenceThicknessMaximum.value=pt.iridescenceThicknessRange[1],pt.iridescenceMap&&(_t.iridescenceMap.value=pt.iridescenceMap,tt(pt.iridescenceMap,_t.iridescenceMapTransform)),pt.iridescenceThicknessMap&&(_t.iridescenceThicknessMap.value=pt.iridescenceThicknessMap,tt(pt.iridescenceThicknessMap,_t.iridescenceThicknessMapTransform))),pt.transmission>0&&(_t.transmission.value=pt.transmission,_t.transmissionSamplerMap.value=xt.texture,_t.transmissionSamplerSize.value.set(xt.width,xt.height),pt.transmissionMap&&(_t.transmissionMap.value=pt.transmissionMap,tt(pt.transmissionMap,_t.transmissionMapTransform)),_t.thickness.value=pt.thickness,pt.thicknessMap&&(_t.thicknessMap.value=pt.thicknessMap,tt(pt.thicknessMap,_t.thicknessMapTransform)),_t.attenuationDistance.value=pt.attenuationDistance,_t.attenuationColor.value.copy(pt.attenuationColor)),pt.anisotropy>0&&(_t.anisotropyVector.value.set(pt.anisotropy*Math.cos(pt.anisotropyRotation),pt.anisotropy*Math.sin(pt.anisotropyRotation)),pt.anisotropyMap&&(_t.anisotropyMap.value=pt.anisotropyMap,tt(pt.anisotropyMap,_t.anisotropyMapTransform))),_t.specularIntensity.value=pt.specularIntensity,_t.specularColor.value.copy(pt.specularColor),pt.specularColorMap&&(_t.specularColorMap.value=pt.specularColorMap,tt(pt.specularColorMap,_t.specularColorMapTransform)),pt.specularIntensityMap&&(_t.specularIntensityMap.value=pt.specularIntensityMap,tt(pt.specularIntensityMap,_t.specularIntensityMapTransform))}function gt(_t,pt){pt.matcap&&(_t.matcap.value=pt.matcap)}function yt(_t,pt){const xt=c.get(pt).light;_t.referencePosition.value.setFromMatrixPosition(xt.matrixWorld),_t.nearDistance.value=xt.shadow.camera.near,_t.farDistance.value=xt.shadow.camera.far}return{refreshFogUniforms:nt,refreshMaterialUniforms:rt}}function WebGLUniformsGroups(et,c,tt,nt){let rt={},it={},st=[];const at=et.getParameter(et.MAX_UNIFORM_BUFFER_BINDINGS);function ot(xt,vt){const St=vt.program;nt.uniformBlockBinding(xt,St)}function lt(xt,vt){let St=rt[xt.id];St===void 0&&(gt(xt),St=ct(xt),rt[xt.id]=St,xt.addEventListener("dispose",_t));const wt=vt.program;nt.updateUBOMapping(xt,wt);const Mt=c.render.frame;it[xt.id]!==Mt&&(ht(xt),it[xt.id]=Mt)}function ct(xt){const vt=dt();xt.__bindingPointIndex=vt;const St=et.createBuffer(),wt=xt.__size,Mt=xt.usage;return et.bindBuffer(et.UNIFORM_BUFFER,St),et.bufferData(et.UNIFORM_BUFFER,wt,Mt),et.bindBuffer(et.UNIFORM_BUFFER,null),et.bindBufferBase(et.UNIFORM_BUFFER,vt,St),St}function dt(){for(let xt=0;xt<at;xt++)if(st.indexOf(xt)===-1)return st.push(xt),xt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function ht(xt){const vt=rt[xt.id],St=xt.uniforms,wt=xt.__cache;et.bindBuffer(et.UNIFORM_BUFFER,vt);for(let Mt=0,Ct=St.length;Mt<Ct;Mt++){const Rt=Array.isArray(St[Mt])?St[Mt]:[St[Mt]];for(let Lt=0,It=Rt.length;Lt<It;Lt++){const Nt=Rt[Lt];if(mt(Nt,Mt,Lt,wt)===!0){const zt=Nt.__offset,Wt=Array.isArray(Nt.value)?Nt.value:[Nt.value];let Yt=0;for(let Xt=0;Xt<Wt.length;Xt++){const Ft=Wt[Xt],Ut=yt(Ft);typeof Ft=="number"||typeof Ft=="boolean"?(Nt.__data[0]=Ft,et.bufferSubData(et.UNIFORM_BUFFER,zt+Yt,Nt.__data)):Ft.isMatrix3?(Nt.__data[0]=Ft.elements[0],Nt.__data[1]=Ft.elements[1],Nt.__data[2]=Ft.elements[2],Nt.__data[3]=0,Nt.__data[4]=Ft.elements[3],Nt.__data[5]=Ft.elements[4],Nt.__data[6]=Ft.elements[5],Nt.__data[7]=0,Nt.__data[8]=Ft.elements[6],Nt.__data[9]=Ft.elements[7],Nt.__data[10]=Ft.elements[8],Nt.__data[11]=0):(Ft.toArray(Nt.__data,Yt),Yt+=Ut.storage/Float32Array.BYTES_PER_ELEMENT)}et.bufferSubData(et.UNIFORM_BUFFER,zt,Nt.__data)}}}et.bindBuffer(et.UNIFORM_BUFFER,null)}function mt(xt,vt,St,wt){const Mt=xt.value,Ct=vt+"_"+St;if(wt[Ct]===void 0)return typeof Mt=="number"||typeof Mt=="boolean"?wt[Ct]=Mt:wt[Ct]=Mt.clone(),!0;{const Rt=wt[Ct];if(typeof Mt=="number"||typeof Mt=="boolean"){if(Rt!==Mt)return wt[Ct]=Mt,!0}else if(Rt.equals(Mt)===!1)return Rt.copy(Mt),!0}return!1}function gt(xt){const vt=xt.uniforms;let St=0;const wt=16;for(let Ct=0,Rt=vt.length;Ct<Rt;Ct++){const Lt=Array.isArray(vt[Ct])?vt[Ct]:[vt[Ct]];for(let It=0,Nt=Lt.length;It<Nt;It++){const zt=Lt[It],Wt=Array.isArray(zt.value)?zt.value:[zt.value];for(let Yt=0,Xt=Wt.length;Yt<Xt;Yt++){const Ft=Wt[Yt],Ut=yt(Ft),At=St%wt,kt=At%Ut.boundary,Ot=At+kt;St+=kt,Ot!==0&&wt-Ot<Ut.storage&&(St+=wt-Ot),zt.__data=new Float32Array(Ut.storage/Float32Array.BYTES_PER_ELEMENT),zt.__offset=St,St+=Ut.storage}}}const Mt=St%wt;return Mt>0&&(St+=wt-Mt),xt.__size=St,xt.__cache={},this}function yt(xt){const vt={boundary:0,storage:0};return typeof xt=="number"||typeof xt=="boolean"?(vt.boundary=4,vt.storage=4):xt.isVector2?(vt.boundary=8,vt.storage=8):xt.isVector3||xt.isColor?(vt.boundary=16,vt.storage=12):xt.isVector4?(vt.boundary=16,vt.storage=16):xt.isMatrix3?(vt.boundary=48,vt.storage=48):xt.isMatrix4?(vt.boundary=64,vt.storage=64):xt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",xt),vt}function _t(xt){const vt=xt.target;vt.removeEventListener("dispose",_t);const St=st.indexOf(vt.__bindingPointIndex);st.splice(St,1),et.deleteBuffer(rt[vt.id]),delete rt[vt.id],delete it[vt.id]}function pt(){for(const xt in rt)et.deleteBuffer(rt[xt]);st=[],rt={},it={}}return{bind:ot,update:lt,dispose:pt}}class WebGLRenderer{constructor(c={}){const{canvas:tt=createCanvasElement(),context:nt=null,depth:rt=!0,stencil:it=!1,alpha:st=!1,antialias:at=!1,premultipliedAlpha:ot=!0,preserveDrawingBuffer:lt=!1,powerPreference:ct="default",failIfMajorPerformanceCaveat:dt=!1}=c;this.isWebGLRenderer=!0;let ht;if(nt!==null){if(typeof WebGLRenderingContext<"u"&&nt instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");ht=nt.getContextAttributes().alpha}else ht=st;const mt=new Uint32Array(4),gt=new Int32Array(4);let yt=null,_t=null;const pt=[],xt=[];this.domElement=tt,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const vt=this;let St=!1,wt=0,Mt=0,Ct=null,Rt=-1,Lt=null;const It=new Vector4,Nt=new Vector4;let zt=null;const Wt=new Color(0);let Yt=0,Xt=tt.width,Ft=tt.height,Ut=1,At=null,kt=null;const Ot=new Vector4(0,0,Xt,Ft),Bt=new Vector4(0,0,Xt,Ft);let Qt=!1;const an=new Frustum;let Kt=!1,ln=!1;const vn=new Matrix4,En=new Vector3,jn=new Vector4,qn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Vn=!1;function Gn(){return Ct===null?Ut:1}let $t=nt;function fn(jt,en){return tt.getContext(jt,en)}try{const jt={alpha:!0,depth:rt,stencil:it,antialias:at,premultipliedAlpha:ot,preserveDrawingBuffer:lt,powerPreference:ct,failIfMajorPerformanceCaveat:dt};if("setAttribute"in tt&&tt.setAttribute("data-engine",`three.js r${REVISION}`),tt.addEventListener("webglcontextlost",dn,!1),tt.addEventListener("webglcontextrestored",xn,!1),tt.addEventListener("webglcontextcreationerror",Mn,!1),$t===null){const en="webgl2";if($t=fn(en,jt),$t===null)throw fn(en)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(jt){throw console.error("THREE.WebGLRenderer: "+jt.message),jt}let rn,Pn,mn,zn,Tn,Ln,Gt,Vt,sn,Sn,gn,_n,On,An,kn,er,wn,Fn,dr,rr,Un,ir,Zt,bn;function qt(){rn=new WebGLExtensions($t),rn.init(),ir=new WebGLUtils($t,rn),Pn=new WebGLCapabilities($t,rn,c,ir),mn=new WebGLState($t),zn=new WebGLInfo($t),Tn=new WebGLProperties,Ln=new WebGLTextures($t,rn,mn,Tn,Pn,ir,zn),Gt=new WebGLCubeMaps(vt),Vt=new WebGLCubeUVMaps(vt),sn=new WebGLAttributes($t),Zt=new WebGLBindingStates($t,sn),Sn=new WebGLGeometries($t,sn,zn,Zt),gn=new WebGLObjects($t,Sn,sn,zn),dr=new WebGLMorphtargets($t,Pn,Ln),er=new WebGLClipping(Tn),_n=new WebGLPrograms(vt,Gt,Vt,rn,Pn,Zt,er),On=new WebGLMaterials(vt,Tn),An=new WebGLRenderLists,kn=new WebGLRenderStates(rn),Fn=new WebGLBackground(vt,Gt,Vt,mn,gn,ht,ot),wn=new WebGLShadowMap(vt,gn,Pn),bn=new WebGLUniformsGroups($t,zn,Pn,mn),rr=new WebGLBufferRenderer($t,rn,zn),Un=new WebGLIndexedBufferRenderer($t,rn,zn),zn.programs=_n.programs,vt.capabilities=Pn,vt.extensions=rn,vt.properties=Tn,vt.renderLists=An,vt.shadowMap=wn,vt.state=mn,vt.info=zn}qt();const yn=new WebXRManager(vt,$t);this.xr=yn,this.getContext=function(){return $t},this.getContextAttributes=function(){return $t.getContextAttributes()},this.forceContextLoss=function(){const jt=rn.get("WEBGL_lose_context");jt&&jt.loseContext()},this.forceContextRestore=function(){const jt=rn.get("WEBGL_lose_context");jt&&jt.restoreContext()},this.getPixelRatio=function(){return Ut},this.setPixelRatio=function(jt){jt!==void 0&&(Ut=jt,this.setSize(Xt,Ft,!1))},this.getSize=function(jt){return jt.set(Xt,Ft)},this.setSize=function(jt,en,cn=!0){if(yn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Xt=jt,Ft=en,tt.width=Math.floor(jt*Ut),tt.height=Math.floor(en*Ut),cn===!0&&(tt.style.width=jt+"px",tt.style.height=en+"px"),this.setViewport(0,0,jt,en)},this.getDrawingBufferSize=function(jt){return jt.set(Xt*Ut,Ft*Ut).floor()},this.setDrawingBufferSize=function(jt,en,cn){Xt=jt,Ft=en,Ut=cn,tt.width=Math.floor(jt*cn),tt.height=Math.floor(en*cn),this.setViewport(0,0,jt,en)},this.getCurrentViewport=function(jt){return jt.copy(It)},this.getViewport=function(jt){return jt.copy(Ot)},this.setViewport=function(jt,en,cn,un){jt.isVector4?Ot.set(jt.x,jt.y,jt.z,jt.w):Ot.set(jt,en,cn,un),mn.viewport(It.copy(Ot).multiplyScalar(Ut).round())},this.getScissor=function(jt){return jt.copy(Bt)},this.setScissor=function(jt,en,cn,un){jt.isVector4?Bt.set(jt.x,jt.y,jt.z,jt.w):Bt.set(jt,en,cn,un),mn.scissor(Nt.copy(Bt).multiplyScalar(Ut).round())},this.getScissorTest=function(){return Qt},this.setScissorTest=function(jt){mn.setScissorTest(Qt=jt)},this.setOpaqueSort=function(jt){At=jt},this.setTransparentSort=function(jt){kt=jt},this.getClearColor=function(jt){return jt.copy(Fn.getClearColor())},this.setClearColor=function(){Fn.setClearColor.apply(Fn,arguments)},this.getClearAlpha=function(){return Fn.getClearAlpha()},this.setClearAlpha=function(){Fn.setClearAlpha.apply(Fn,arguments)},this.clear=function(jt=!0,en=!0,cn=!0){let un=0;if(jt){let nn=!1;if(Ct!==null){const Rn=Ct.texture.format;nn=Rn===RGBAIntegerFormat||Rn===RGIntegerFormat||Rn===RedIntegerFormat}if(nn){const Rn=Ct.texture.type,Bn=Rn===UnsignedByteType||Rn===UnsignedIntType||Rn===UnsignedShortType||Rn===UnsignedInt248Type||Rn===UnsignedShort4444Type||Rn===UnsignedShort5551Type,Wn=Fn.getClearColor(),Hn=Fn.getClearAlpha(),Qn=Wn.r,nr=Wn.g,Zn=Wn.b;Bn?(mt[0]=Qn,mt[1]=nr,mt[2]=Zn,mt[3]=Hn,$t.clearBufferuiv($t.COLOR,0,mt)):(gt[0]=Qn,gt[1]=nr,gt[2]=Zn,gt[3]=Hn,$t.clearBufferiv($t.COLOR,0,gt))}else un|=$t.COLOR_BUFFER_BIT}en&&(un|=$t.DEPTH_BUFFER_BIT),cn&&(un|=$t.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),$t.clear(un)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){tt.removeEventListener("webglcontextlost",dn,!1),tt.removeEventListener("webglcontextrestored",xn,!1),tt.removeEventListener("webglcontextcreationerror",Mn,!1),An.dispose(),kn.dispose(),Tn.dispose(),Gt.dispose(),Vt.dispose(),gn.dispose(),Zt.dispose(),bn.dispose(),_n.dispose(),yn.dispose(),yn.removeEventListener("sessionstart",Dr),yn.removeEventListener("sessionend",Es),bs.stop()};function dn(jt){jt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),St=!0}function xn(){console.log("THREE.WebGLRenderer: Context Restored."),St=!1;const jt=zn.autoReset,en=wn.enabled,cn=wn.autoUpdate,un=wn.needsUpdate,nn=wn.type;qt(),zn.autoReset=jt,wn.enabled=en,wn.autoUpdate=cn,wn.needsUpdate=un,wn.type=nn}function Mn(jt){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",jt.statusMessage)}function tr(jt){const en=jt.target;en.removeEventListener("dispose",tr),cr(en)}function cr(jt){pr(jt),Tn.remove(jt)}function pr(jt){const en=Tn.get(jt).programs;en!==void 0&&(en.forEach(function(cn){_n.releaseProgram(cn)}),jt.isShaderMaterial&&_n.releaseShaderCache(jt))}this.renderBufferDirect=function(jt,en,cn,un,nn,Rn){en===null&&(en=qn);const Bn=nn.isMesh&&nn.matrixWorld.determinant()<0,Wn=Wl(jt,en,cn,un,nn);mn.setMaterial(un,Bn);let Hn=cn.index,Qn=1;if(un.wireframe===!0){if(Hn=Sn.getWireframeAttribute(cn),Hn===void 0)return;Qn=2}const nr=cn.drawRange,Zn=cn.attributes.position;let mr=nr.start*Qn,Er=(nr.start+nr.count)*Qn;Rn!==null&&(mr=Math.max(mr,Rn.start*Qn),Er=Math.min(Er,(Rn.start+Rn.count)*Qn)),Hn!==null?(mr=Math.max(mr,0),Er=Math.min(Er,Hn.count)):Zn!=null&&(mr=Math.max(mr,0),Er=Math.min(Er,Zn.count));const _r=Er-mr;if(_r<0||_r===1/0)return;Zt.setup(nn,un,Wn,cn,Hn);let Cr,Kn=rr;if(Hn!==null&&(Cr=sn.get(Hn),Kn=Un,Kn.setIndex(Cr)),nn.isMesh)un.wireframe===!0?(mn.setLineWidth(un.wireframeLinewidth*Gn()),Kn.setMode($t.LINES)):Kn.setMode($t.TRIANGLES);else if(nn.isLine){let In=un.linewidth;In===void 0&&(In=1),mn.setLineWidth(In*Gn()),nn.isLineSegments?Kn.setMode($t.LINES):nn.isLineLoop?Kn.setMode($t.LINE_LOOP):Kn.setMode($t.LINE_STRIP)}else nn.isPoints?Kn.setMode($t.POINTS):nn.isSprite&&Kn.setMode($t.TRIANGLES);if(nn.isBatchedMesh)if(nn._multiDrawInstances!==null)Kn.renderMultiDrawInstances(nn._multiDrawStarts,nn._multiDrawCounts,nn._multiDrawCount,nn._multiDrawInstances);else if(rn.get("WEBGL_multi_draw"))Kn.renderMultiDraw(nn._multiDrawStarts,nn._multiDrawCounts,nn._multiDrawCount);else{const In=nn._multiDrawStarts,br=nn._multiDrawCounts,sr=nn._multiDrawCount,wr=Hn?sn.get(Hn).bytesPerElement:1,Yr=Tn.get(un).currentProgram.getUniforms();for(let Ir=0;Ir<sr;Ir++)Yr.setValue($t,"_gl_DrawID",Ir),Kn.render(In[Ir]/wr,br[Ir])}else if(nn.isInstancedMesh)Kn.renderInstances(mr,_r,nn.count);else if(cn.isInstancedBufferGeometry){const In=cn._maxInstanceCount!==void 0?cn._maxInstanceCount:1/0,br=Math.min(cn.instanceCount,In);Kn.renderInstances(mr,_r,br)}else Kn.render(mr,_r)};function xr(jt,en,cn){jt.transparent===!0&&jt.side===DoubleSide&&jt.forceSinglePass===!1?(jt.side=BackSide,jt.needsUpdate=!0,Qs(jt,en,cn),jt.side=FrontSide,jt.needsUpdate=!0,Qs(jt,en,cn),jt.side=DoubleSide):Qs(jt,en,cn)}this.compile=function(jt,en,cn=null){cn===null&&(cn=jt),_t=kn.get(cn),_t.init(en),xt.push(_t),cn.traverseVisible(function(nn){nn.isLight&&nn.layers.test(en.layers)&&(_t.pushLight(nn),nn.castShadow&&_t.pushShadow(nn))}),jt!==cn&&jt.traverseVisible(function(nn){nn.isLight&&nn.layers.test(en.layers)&&(_t.pushLight(nn),nn.castShadow&&_t.pushShadow(nn))}),_t.setupLights();const un=new Set;return jt.traverse(function(nn){const Rn=nn.material;if(Rn)if(Array.isArray(Rn))for(let Bn=0;Bn<Rn.length;Bn++){const Wn=Rn[Bn];xr(Wn,cn,nn),un.add(Wn)}else xr(Rn,cn,nn),un.add(Rn)}),xt.pop(),_t=null,un},this.compileAsync=function(jt,en,cn=null){const un=this.compile(jt,en,cn);return new Promise(nn=>{function Rn(){if(un.forEach(function(Bn){Tn.get(Bn).currentProgram.isReady()&&un.delete(Bn)}),un.size===0){nn(jt);return}setTimeout(Rn,10)}rn.get("KHR_parallel_shader_compile")!==null?Rn():setTimeout(Rn,10)})};let ur=null;function Nr(jt){ur&&ur(jt)}function Dr(){bs.stop()}function Es(){bs.start()}const bs=new WebGLAnimation;bs.setAnimationLoop(Nr),typeof self<"u"&&bs.setContext(self),this.setAnimationLoop=function(jt){ur=jt,yn.setAnimationLoop(jt),jt===null?bs.stop():bs.start()},yn.addEventListener("sessionstart",Dr),yn.addEventListener("sessionend",Es),this.render=function(jt,en){if(en!==void 0&&en.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(St===!0)return;if(jt.matrixWorldAutoUpdate===!0&&jt.updateMatrixWorld(),en.parent===null&&en.matrixWorldAutoUpdate===!0&&en.updateMatrixWorld(),yn.enabled===!0&&yn.isPresenting===!0&&(yn.cameraAutoUpdate===!0&&yn.updateCamera(en),en=yn.getCamera()),jt.isScene===!0&&jt.onBeforeRender(vt,jt,en,Ct),_t=kn.get(jt,xt.length),_t.init(en),xt.push(_t),vn.multiplyMatrices(en.projectionMatrix,en.matrixWorldInverse),an.setFromProjectionMatrix(vn),ln=this.localClippingEnabled,Kt=er.init(this.clippingPlanes,ln),yt=An.get(jt,pt.length),yt.init(),pt.push(yt),yn.enabled===!0&&yn.isPresenting===!0){const Rn=vt.xr.getDepthSensingMesh();Rn!==null&&lo(Rn,en,-1/0,vt.sortObjects)}lo(jt,en,0,vt.sortObjects),yt.finish(),vt.sortObjects===!0&&yt.sort(At,kt),Vn=yn.enabled===!1||yn.isPresenting===!1||yn.hasDepthSensing()===!1,Vn&&Fn.addToRenderList(yt,jt),this.info.render.frame++,Kt===!0&&er.beginShadows();const cn=_t.state.shadowsArray;wn.render(cn,jt,en),Kt===!0&&er.endShadows(),this.info.autoReset===!0&&this.info.reset();const un=yt.opaque,nn=yt.transmissive;if(_t.setupLights(),en.isArrayCamera){const Rn=en.cameras;if(nn.length>0)for(let Bn=0,Wn=Rn.length;Bn<Wn;Bn++){const Hn=Rn[Bn];Ks(un,nn,jt,Hn)}Vn&&Fn.render(jt);for(let Bn=0,Wn=Rn.length;Bn<Wn;Bn++){const Hn=Rn[Bn];co(yt,jt,Hn,Hn.viewport)}}else nn.length>0&&Ks(un,nn,jt,en),Vn&&Fn.render(jt),co(yt,jt,en);Ct!==null&&(Ln.updateMultisampleRenderTarget(Ct),Ln.updateRenderTargetMipmap(Ct)),jt.isScene===!0&&jt.onAfterRender(vt,jt,en),Zt.resetDefaultState(),Rt=-1,Lt=null,xt.pop(),xt.length>0?(_t=xt[xt.length-1],Kt===!0&&er.setGlobalState(vt.clippingPlanes,_t.state.camera)):_t=null,pt.pop(),pt.length>0?yt=pt[pt.length-1]:yt=null};function lo(jt,en,cn,un){if(jt.visible===!1)return;if(jt.layers.test(en.layers)){if(jt.isGroup)cn=jt.renderOrder;else if(jt.isLOD)jt.autoUpdate===!0&&jt.update(en);else if(jt.isLight)_t.pushLight(jt),jt.castShadow&&_t.pushShadow(jt);else if(jt.isSprite){if(!jt.frustumCulled||an.intersectsSprite(jt)){un&&jn.setFromMatrixPosition(jt.matrixWorld).applyMatrix4(vn);const Bn=gn.update(jt),Wn=jt.material;Wn.visible&&yt.push(jt,Bn,Wn,cn,jn.z,null)}}else if((jt.isMesh||jt.isLine||jt.isPoints)&&(!jt.frustumCulled||an.intersectsObject(jt))){const Bn=gn.update(jt),Wn=jt.material;if(un&&(jt.boundingSphere!==void 0?(jt.boundingSphere===null&&jt.computeBoundingSphere(),jn.copy(jt.boundingSphere.center)):(Bn.boundingSphere===null&&Bn.computeBoundingSphere(),jn.copy(Bn.boundingSphere.center)),jn.applyMatrix4(jt.matrixWorld).applyMatrix4(vn)),Array.isArray(Wn)){const Hn=Bn.groups;for(let Qn=0,nr=Hn.length;Qn<nr;Qn++){const Zn=Hn[Qn],mr=Wn[Zn.materialIndex];mr&&mr.visible&&yt.push(jt,Bn,mr,cn,jn.z,Zn)}}else Wn.visible&&yt.push(jt,Bn,Wn,cn,jn.z,null)}}const Rn=jt.children;for(let Bn=0,Wn=Rn.length;Bn<Wn;Bn++)lo(Rn[Bn],en,cn,un)}function co(jt,en,cn,un){const nn=jt.opaque,Rn=jt.transmissive,Bn=jt.transparent;_t.setupLightsView(cn),Kt===!0&&er.setGlobalState(vt.clippingPlanes,cn),un&&mn.viewport(It.copy(un)),nn.length>0&&Zs(nn,en,cn),Rn.length>0&&Zs(Rn,en,cn),Bn.length>0&&Zs(Bn,en,cn),mn.buffers.depth.setTest(!0),mn.buffers.depth.setMask(!0),mn.buffers.color.setMask(!0),mn.setPolygonOffset(!1)}function Ks(jt,en,cn,un){if((cn.isScene===!0?cn.overrideMaterial:null)!==null)return;_t.state.transmissionRenderTarget[un.id]===void 0&&(_t.state.transmissionRenderTarget[un.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:rn.has("EXT_color_buffer_half_float")||rn.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:it,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const Rn=_t.state.transmissionRenderTarget[un.id],Bn=un.viewport||It;Rn.setSize(Bn.z,Bn.w);const Wn=vt.getRenderTarget();vt.setRenderTarget(Rn),vt.getClearColor(Wt),Yt=vt.getClearAlpha(),Yt<1&&vt.setClearColor(16777215,.5),vt.clear(),Vn&&Fn.render(cn);const Hn=vt.toneMapping;vt.toneMapping=NoToneMapping;const Qn=un.viewport;if(un.viewport!==void 0&&(un.viewport=void 0),_t.setupLightsView(un),Kt===!0&&er.setGlobalState(vt.clippingPlanes,un),Zs(jt,cn,un),Ln.updateMultisampleRenderTarget(Rn),Ln.updateRenderTargetMipmap(Rn),rn.has("WEBGL_multisampled_render_to_texture")===!1){let nr=!1;for(let Zn=0,mr=en.length;Zn<mr;Zn++){const Er=en[Zn],_r=Er.object,Cr=Er.geometry,Kn=Er.material,In=Er.group;if(Kn.side===DoubleSide&&_r.layers.test(un.layers)){const br=Kn.side;Kn.side=BackSide,Kn.needsUpdate=!0,Is(_r,cn,un,Cr,Kn,In),Kn.side=br,Kn.needsUpdate=!0,nr=!0}}nr===!0&&(Ln.updateMultisampleRenderTarget(Rn),Ln.updateRenderTargetMipmap(Rn))}vt.setRenderTarget(Wn),vt.setClearColor(Wt,Yt),Qn!==void 0&&(un.viewport=Qn),vt.toneMapping=Hn}function Zs(jt,en,cn){const un=en.isScene===!0?en.overrideMaterial:null;for(let nn=0,Rn=jt.length;nn<Rn;nn++){const Bn=jt[nn],Wn=Bn.object,Hn=Bn.geometry,Qn=un===null?Bn.material:un,nr=Bn.group;Wn.layers.test(cn.layers)&&Is(Wn,en,cn,Hn,Qn,nr)}}function Is(jt,en,cn,un,nn,Rn){jt.onBeforeRender(vt,en,cn,un,nn,Rn),jt.modelViewMatrix.multiplyMatrices(cn.matrixWorldInverse,jt.matrixWorld),jt.normalMatrix.getNormalMatrix(jt.modelViewMatrix),nn.transparent===!0&&nn.side===DoubleSide&&nn.forceSinglePass===!1?(nn.side=BackSide,nn.needsUpdate=!0,vt.renderBufferDirect(cn,en,un,nn,jt,Rn),nn.side=FrontSide,nn.needsUpdate=!0,vt.renderBufferDirect(cn,en,un,nn,jt,Rn),nn.side=DoubleSide):vt.renderBufferDirect(cn,en,un,nn,jt,Rn),jt.onAfterRender(vt,en,cn,un,nn,Rn)}function Qs(jt,en,cn){en.isScene!==!0&&(en=qn);const un=Tn.get(jt),nn=_t.state.lights,Rn=_t.state.shadowsArray,Bn=nn.state.version,Wn=_n.getParameters(jt,nn.state,Rn,en,cn),Hn=_n.getProgramCacheKey(Wn);let Qn=un.programs;un.environment=jt.isMeshStandardMaterial?en.environment:null,un.fog=en.fog,un.envMap=(jt.isMeshStandardMaterial?Vt:Gt).get(jt.envMap||un.environment),un.envMapRotation=un.environment!==null&&jt.envMap===null?en.environmentRotation:jt.envMapRotation,Qn===void 0&&(jt.addEventListener("dispose",tr),Qn=new Map,un.programs=Qn);let nr=Qn.get(Hn);if(nr!==void 0){if(un.currentProgram===nr&&un.lightsStateVersion===Bn)return Io(jt,Wn),nr}else Wn.uniforms=_n.getUniforms(jt),jt.onBeforeCompile(Wn,vt),nr=_n.acquireProgram(Wn,Hn),Qn.set(Hn,nr),un.uniforms=Wn.uniforms;const Zn=un.uniforms;return(!jt.isShaderMaterial&&!jt.isRawShaderMaterial||jt.clipping===!0)&&(Zn.clippingPlanes=er.uniform),Io(jt,Wn),un.needsLights=Yl(jt),un.lightsStateVersion=Bn,un.needsLights&&(Zn.ambientLightColor.value=nn.state.ambient,Zn.lightProbe.value=nn.state.probe,Zn.directionalLights.value=nn.state.directional,Zn.directionalLightShadows.value=nn.state.directionalShadow,Zn.spotLights.value=nn.state.spot,Zn.spotLightShadows.value=nn.state.spotShadow,Zn.rectAreaLights.value=nn.state.rectArea,Zn.ltc_1.value=nn.state.rectAreaLTC1,Zn.ltc_2.value=nn.state.rectAreaLTC2,Zn.pointLights.value=nn.state.point,Zn.pointLightShadows.value=nn.state.pointShadow,Zn.hemisphereLights.value=nn.state.hemi,Zn.directionalShadowMap.value=nn.state.directionalShadowMap,Zn.directionalShadowMatrix.value=nn.state.directionalShadowMatrix,Zn.spotShadowMap.value=nn.state.spotShadowMap,Zn.spotLightMatrix.value=nn.state.spotLightMatrix,Zn.spotLightMap.value=nn.state.spotLightMap,Zn.pointShadowMap.value=nn.state.pointShadowMap,Zn.pointShadowMatrix.value=nn.state.pointShadowMatrix),un.currentProgram=nr,un.uniformsList=null,nr}function Ro(jt){if(jt.uniformsList===null){const en=jt.currentProgram.getUniforms();jt.uniformsList=WebGLUniforms.seqWithValue(en.seq,jt.uniforms)}return jt.uniformsList}function Io(jt,en){const cn=Tn.get(jt);cn.outputColorSpace=en.outputColorSpace,cn.batching=en.batching,cn.batchingColor=en.batchingColor,cn.instancing=en.instancing,cn.instancingColor=en.instancingColor,cn.instancingMorph=en.instancingMorph,cn.skinning=en.skinning,cn.morphTargets=en.morphTargets,cn.morphNormals=en.morphNormals,cn.morphColors=en.morphColors,cn.morphTargetsCount=en.morphTargetsCount,cn.numClippingPlanes=en.numClippingPlanes,cn.numIntersection=en.numClipIntersection,cn.vertexAlphas=en.vertexAlphas,cn.vertexTangents=en.vertexTangents,cn.toneMapping=en.toneMapping}function Wl(jt,en,cn,un,nn){en.isScene!==!0&&(en=qn),Ln.resetTextureUnits();const Rn=en.fog,Bn=un.isMeshStandardMaterial?en.environment:null,Wn=Ct===null?vt.outputColorSpace:Ct.isXRRenderTarget===!0?Ct.texture.colorSpace:LinearSRGBColorSpace,Hn=(un.isMeshStandardMaterial?Vt:Gt).get(un.envMap||Bn),Qn=un.vertexColors===!0&&!!cn.attributes.color&&cn.attributes.color.itemSize===4,nr=!!cn.attributes.tangent&&(!!un.normalMap||un.anisotropy>0),Zn=!!cn.morphAttributes.position,mr=!!cn.morphAttributes.normal,Er=!!cn.morphAttributes.color;let _r=NoToneMapping;un.toneMapped&&(Ct===null||Ct.isXRRenderTarget===!0)&&(_r=vt.toneMapping);const Cr=cn.morphAttributes.position||cn.morphAttributes.normal||cn.morphAttributes.color,Kn=Cr!==void 0?Cr.length:0,In=Tn.get(un),br=_t.state.lights;if(Kt===!0&&(ln===!0||jt!==Lt)){const zr=jt===Lt&&un.id===Rt;er.setState(un,jt,zr)}let sr=!1;un.version===In.__version?(In.needsLights&&In.lightsStateVersion!==br.state.version||In.outputColorSpace!==Wn||nn.isBatchedMesh&&In.batching===!1||!nn.isBatchedMesh&&In.batching===!0||nn.isBatchedMesh&&In.batchingColor===!0&&nn.colorTexture===null||nn.isBatchedMesh&&In.batchingColor===!1&&nn.colorTexture!==null||nn.isInstancedMesh&&In.instancing===!1||!nn.isInstancedMesh&&In.instancing===!0||nn.isSkinnedMesh&&In.skinning===!1||!nn.isSkinnedMesh&&In.skinning===!0||nn.isInstancedMesh&&In.instancingColor===!0&&nn.instanceColor===null||nn.isInstancedMesh&&In.instancingColor===!1&&nn.instanceColor!==null||nn.isInstancedMesh&&In.instancingMorph===!0&&nn.morphTexture===null||nn.isInstancedMesh&&In.instancingMorph===!1&&nn.morphTexture!==null||In.envMap!==Hn||un.fog===!0&&In.fog!==Rn||In.numClippingPlanes!==void 0&&(In.numClippingPlanes!==er.numPlanes||In.numIntersection!==er.numIntersection)||In.vertexAlphas!==Qn||In.vertexTangents!==nr||In.morphTargets!==Zn||In.morphNormals!==mr||In.morphColors!==Er||In.toneMapping!==_r||In.morphTargetsCount!==Kn)&&(sr=!0):(sr=!0,In.__version=un.version);let wr=In.currentProgram;sr===!0&&(wr=Qs(un,en,nn));let Yr=!1,Ir=!1,Br=!1;const Mr=wr.getUniforms(),fs=In.uniforms;if(mn.useProgram(wr.program)&&(Yr=!0,Ir=!0,Br=!0),un.id!==Rt&&(Rt=un.id,Ir=!0),Yr||Lt!==jt){Mr.setValue($t,"projectionMatrix",jt.projectionMatrix),Mr.setValue($t,"viewMatrix",jt.matrixWorldInverse);const zr=Mr.map.cameraPosition;zr!==void 0&&zr.setValue($t,En.setFromMatrixPosition(jt.matrixWorld)),Pn.logarithmicDepthBuffer&&Mr.setValue($t,"logDepthBufFC",2/(Math.log(jt.far+1)/Math.LN2)),(un.isMeshPhongMaterial||un.isMeshToonMaterial||un.isMeshLambertMaterial||un.isMeshBasicMaterial||un.isMeshStandardMaterial||un.isShaderMaterial)&&Mr.setValue($t,"isOrthographic",jt.isOrthographicCamera===!0),Lt!==jt&&(Lt=jt,Ir=!0,Br=!0)}if(nn.isSkinnedMesh){Mr.setOptional($t,nn,"bindMatrix"),Mr.setOptional($t,nn,"bindMatrixInverse");const zr=nn.skeleton;zr&&(zr.boneTexture===null&&zr.computeBoneTexture(),Mr.setValue($t,"boneTexture",zr.boneTexture,Ln))}nn.isBatchedMesh&&(Mr.setOptional($t,nn,"batchingTexture"),Mr.setValue($t,"batchingTexture",nn._matricesTexture,Ln),Mr.setOptional($t,nn,"batchingIdTexture"),Mr.setValue($t,"batchingIdTexture",nn._indirectTexture,Ln),Mr.setOptional($t,nn,"batchingColorTexture"),nn._colorsTexture!==null&&Mr.setValue($t,"batchingColorTexture",nn._colorsTexture,Ln));const Js=cn.morphAttributes;if((Js.position!==void 0||Js.normal!==void 0||Js.color!==void 0)&&dr.update(nn,cn,wr),(Ir||In.receiveShadow!==nn.receiveShadow)&&(In.receiveShadow=nn.receiveShadow,Mr.setValue($t,"receiveShadow",nn.receiveShadow)),un.isMeshGouraudMaterial&&un.envMap!==null&&(fs.envMap.value=Hn,fs.flipEnvMap.value=Hn.isCubeTexture&&Hn.isRenderTargetTexture===!1?-1:1),un.isMeshStandardMaterial&&un.envMap===null&&en.environment!==null&&(fs.envMapIntensity.value=en.environmentIntensity),Ir&&(Mr.setValue($t,"toneMappingExposure",vt.toneMappingExposure),In.needsLights&&Xl(fs,Br),Rn&&un.fog===!0&&On.refreshFogUniforms(fs,Rn),On.refreshMaterialUniforms(fs,un,Ut,Ft,_t.state.transmissionRenderTarget[jt.id]),WebGLUniforms.upload($t,Ro(In),fs,Ln)),un.isShaderMaterial&&un.uniformsNeedUpdate===!0&&(WebGLUniforms.upload($t,Ro(In),fs,Ln),un.uniformsNeedUpdate=!1),un.isSpriteMaterial&&Mr.setValue($t,"center",nn.center),Mr.setValue($t,"modelViewMatrix",nn.modelViewMatrix),Mr.setValue($t,"normalMatrix",nn.normalMatrix),Mr.setValue($t,"modelMatrix",nn.matrixWorld),un.isShaderMaterial||un.isRawShaderMaterial){const zr=un.uniformsGroups;for(let na=0,Jr=zr.length;na<Jr;na++){const Lo=zr[na];bn.update(Lo,wr),bn.bind(Lo,wr)}}return wr}function Xl(jt,en){jt.ambientLightColor.needsUpdate=en,jt.lightProbe.needsUpdate=en,jt.directionalLights.needsUpdate=en,jt.directionalLightShadows.needsUpdate=en,jt.pointLights.needsUpdate=en,jt.pointLightShadows.needsUpdate=en,jt.spotLights.needsUpdate=en,jt.spotLightShadows.needsUpdate=en,jt.rectAreaLights.needsUpdate=en,jt.hemisphereLights.needsUpdate=en}function Yl(jt){return jt.isMeshLambertMaterial||jt.isMeshToonMaterial||jt.isMeshPhongMaterial||jt.isMeshStandardMaterial||jt.isShadowMaterial||jt.isShaderMaterial&&jt.lights===!0}this.getActiveCubeFace=function(){return wt},this.getActiveMipmapLevel=function(){return Mt},this.getRenderTarget=function(){return Ct},this.setRenderTargetTextures=function(jt,en,cn){Tn.get(jt.texture).__webglTexture=en,Tn.get(jt.depthTexture).__webglTexture=cn;const un=Tn.get(jt);un.__hasExternalTextures=!0,un.__autoAllocateDepthBuffer=cn===void 0,un.__autoAllocateDepthBuffer||rn.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),un.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(jt,en){const cn=Tn.get(jt);cn.__webglFramebuffer=en,cn.__useDefaultFramebuffer=en===void 0},this.setRenderTarget=function(jt,en=0,cn=0){Ct=jt,wt=en,Mt=cn;let un=!0,nn=null,Rn=!1,Bn=!1;if(jt){const Hn=Tn.get(jt);Hn.__useDefaultFramebuffer!==void 0?(mn.bindFramebuffer($t.FRAMEBUFFER,null),un=!1):Hn.__webglFramebuffer===void 0?Ln.setupRenderTarget(jt):Hn.__hasExternalTextures&&Ln.rebindTextures(jt,Tn.get(jt.texture).__webglTexture,Tn.get(jt.depthTexture).__webglTexture);const Qn=jt.texture;(Qn.isData3DTexture||Qn.isDataArrayTexture||Qn.isCompressedArrayTexture)&&(Bn=!0);const nr=Tn.get(jt).__webglFramebuffer;jt.isWebGLCubeRenderTarget?(Array.isArray(nr[en])?nn=nr[en][cn]:nn=nr[en],Rn=!0):jt.samples>0&&Ln.useMultisampledRTT(jt)===!1?nn=Tn.get(jt).__webglMultisampledFramebuffer:Array.isArray(nr)?nn=nr[cn]:nn=nr,It.copy(jt.viewport),Nt.copy(jt.scissor),zt=jt.scissorTest}else It.copy(Ot).multiplyScalar(Ut).floor(),Nt.copy(Bt).multiplyScalar(Ut).floor(),zt=Qt;if(mn.bindFramebuffer($t.FRAMEBUFFER,nn)&&un&&mn.drawBuffers(jt,nn),mn.viewport(It),mn.scissor(Nt),mn.setScissorTest(zt),Rn){const Hn=Tn.get(jt.texture);$t.framebufferTexture2D($t.FRAMEBUFFER,$t.COLOR_ATTACHMENT0,$t.TEXTURE_CUBE_MAP_POSITIVE_X+en,Hn.__webglTexture,cn)}else if(Bn){const Hn=Tn.get(jt.texture),Qn=en||0;$t.framebufferTextureLayer($t.FRAMEBUFFER,$t.COLOR_ATTACHMENT0,Hn.__webglTexture,cn||0,Qn)}Rt=-1},this.readRenderTargetPixels=function(jt,en,cn,un,nn,Rn,Bn){if(!(jt&&jt.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Wn=Tn.get(jt).__webglFramebuffer;if(jt.isWebGLCubeRenderTarget&&Bn!==void 0&&(Wn=Wn[Bn]),Wn){mn.bindFramebuffer($t.FRAMEBUFFER,Wn);try{const Hn=jt.texture,Qn=Hn.format,nr=Hn.type;if(!Pn.textureFormatReadable(Qn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Pn.textureTypeReadable(nr)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}en>=0&&en<=jt.width-un&&cn>=0&&cn<=jt.height-nn&&$t.readPixels(en,cn,un,nn,ir.convert(Qn),ir.convert(nr),Rn)}finally{const Hn=Ct!==null?Tn.get(Ct).__webglFramebuffer:null;mn.bindFramebuffer($t.FRAMEBUFFER,Hn)}}},this.readRenderTargetPixelsAsync=async function(jt,en,cn,un,nn,Rn,Bn){if(!(jt&&jt.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Wn=Tn.get(jt).__webglFramebuffer;if(jt.isWebGLCubeRenderTarget&&Bn!==void 0&&(Wn=Wn[Bn]),Wn){mn.bindFramebuffer($t.FRAMEBUFFER,Wn);try{const Hn=jt.texture,Qn=Hn.format,nr=Hn.type;if(!Pn.textureFormatReadable(Qn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Pn.textureTypeReadable(nr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(en>=0&&en<=jt.width-un&&cn>=0&&cn<=jt.height-nn){const Zn=$t.createBuffer();$t.bindBuffer($t.PIXEL_PACK_BUFFER,Zn),$t.bufferData($t.PIXEL_PACK_BUFFER,Rn.byteLength,$t.STREAM_READ),$t.readPixels(en,cn,un,nn,ir.convert(Qn),ir.convert(nr),0),$t.flush();const mr=$t.fenceSync($t.SYNC_GPU_COMMANDS_COMPLETE,0);await probeAsync($t,mr,4);try{$t.bindBuffer($t.PIXEL_PACK_BUFFER,Zn),$t.getBufferSubData($t.PIXEL_PACK_BUFFER,0,Rn)}finally{$t.deleteBuffer(Zn),$t.deleteSync(mr)}return Rn}}finally{const Hn=Ct!==null?Tn.get(Ct).__webglFramebuffer:null;mn.bindFramebuffer($t.FRAMEBUFFER,Hn)}}},this.copyFramebufferToTexture=function(jt,en=null,cn=0){jt.isTexture!==!0&&(warnOnce("WebGLRenderer: copyFramebufferToTexture function signature has changed."),en=arguments[0]||null,jt=arguments[1]);const un=Math.pow(2,-cn),nn=Math.floor(jt.image.width*un),Rn=Math.floor(jt.image.height*un),Bn=en!==null?en.x:0,Wn=en!==null?en.y:0;Ln.setTexture2D(jt,0),$t.copyTexSubImage2D($t.TEXTURE_2D,cn,0,0,Bn,Wn,nn,Rn),mn.unbindTexture()},this.copyTextureToTexture=function(jt,en,cn=null,un=null,nn=0){jt.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed."),un=arguments[0]||null,jt=arguments[1],en=arguments[2],nn=arguments[3]||0,cn=null);let Rn,Bn,Wn,Hn,Qn,nr;cn!==null?(Rn=cn.max.x-cn.min.x,Bn=cn.max.y-cn.min.y,Wn=cn.min.x,Hn=cn.min.y):(Rn=jt.image.width,Bn=jt.image.height,Wn=0,Hn=0),un!==null?(Qn=un.x,nr=un.y):(Qn=0,nr=0);const Zn=ir.convert(en.format),mr=ir.convert(en.type);Ln.setTexture2D(en,0),$t.pixelStorei($t.UNPACK_FLIP_Y_WEBGL,en.flipY),$t.pixelStorei($t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,en.premultiplyAlpha),$t.pixelStorei($t.UNPACK_ALIGNMENT,en.unpackAlignment);const Er=$t.getParameter($t.UNPACK_ROW_LENGTH),_r=$t.getParameter($t.UNPACK_IMAGE_HEIGHT),Cr=$t.getParameter($t.UNPACK_SKIP_PIXELS),Kn=$t.getParameter($t.UNPACK_SKIP_ROWS),In=$t.getParameter($t.UNPACK_SKIP_IMAGES),br=jt.isCompressedTexture?jt.mipmaps[nn]:jt.image;$t.pixelStorei($t.UNPACK_ROW_LENGTH,br.width),$t.pixelStorei($t.UNPACK_IMAGE_HEIGHT,br.height),$t.pixelStorei($t.UNPACK_SKIP_PIXELS,Wn),$t.pixelStorei($t.UNPACK_SKIP_ROWS,Hn),jt.isDataTexture?$t.texSubImage2D($t.TEXTURE_2D,nn,Qn,nr,Rn,Bn,Zn,mr,br.data):jt.isCompressedTexture?$t.compressedTexSubImage2D($t.TEXTURE_2D,nn,Qn,nr,br.width,br.height,Zn,br.data):$t.texSubImage2D($t.TEXTURE_2D,nn,Qn,nr,Rn,Bn,Zn,mr,br),$t.pixelStorei($t.UNPACK_ROW_LENGTH,Er),$t.pixelStorei($t.UNPACK_IMAGE_HEIGHT,_r),$t.pixelStorei($t.UNPACK_SKIP_PIXELS,Cr),$t.pixelStorei($t.UNPACK_SKIP_ROWS,Kn),$t.pixelStorei($t.UNPACK_SKIP_IMAGES,In),nn===0&&en.generateMipmaps&&$t.generateMipmap($t.TEXTURE_2D),mn.unbindTexture()},this.copyTextureToTexture3D=function(jt,en,cn=null,un=null,nn=0){jt.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture3D function signature has changed."),cn=arguments[0]||null,un=arguments[1]||null,jt=arguments[2],en=arguments[3],nn=arguments[4]||0);let Rn,Bn,Wn,Hn,Qn,nr,Zn,mr,Er;const _r=jt.isCompressedTexture?jt.mipmaps[nn]:jt.image;cn!==null?(Rn=cn.max.x-cn.min.x,Bn=cn.max.y-cn.min.y,Wn=cn.max.z-cn.min.z,Hn=cn.min.x,Qn=cn.min.y,nr=cn.min.z):(Rn=_r.width,Bn=_r.height,Wn=_r.depth,Hn=0,Qn=0,nr=0),un!==null?(Zn=un.x,mr=un.y,Er=un.z):(Zn=0,mr=0,Er=0);const Cr=ir.convert(en.format),Kn=ir.convert(en.type);let In;if(en.isData3DTexture)Ln.setTexture3D(en,0),In=$t.TEXTURE_3D;else if(en.isDataArrayTexture||en.isCompressedArrayTexture)Ln.setTexture2DArray(en,0),In=$t.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}$t.pixelStorei($t.UNPACK_FLIP_Y_WEBGL,en.flipY),$t.pixelStorei($t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,en.premultiplyAlpha),$t.pixelStorei($t.UNPACK_ALIGNMENT,en.unpackAlignment);const br=$t.getParameter($t.UNPACK_ROW_LENGTH),sr=$t.getParameter($t.UNPACK_IMAGE_HEIGHT),wr=$t.getParameter($t.UNPACK_SKIP_PIXELS),Yr=$t.getParameter($t.UNPACK_SKIP_ROWS),Ir=$t.getParameter($t.UNPACK_SKIP_IMAGES);$t.pixelStorei($t.UNPACK_ROW_LENGTH,_r.width),$t.pixelStorei($t.UNPACK_IMAGE_HEIGHT,_r.height),$t.pixelStorei($t.UNPACK_SKIP_PIXELS,Hn),$t.pixelStorei($t.UNPACK_SKIP_ROWS,Qn),$t.pixelStorei($t.UNPACK_SKIP_IMAGES,nr),jt.isDataTexture||jt.isData3DTexture?$t.texSubImage3D(In,nn,Zn,mr,Er,Rn,Bn,Wn,Cr,Kn,_r.data):en.isCompressedArrayTexture?$t.compressedTexSubImage3D(In,nn,Zn,mr,Er,Rn,Bn,Wn,Cr,_r.data):$t.texSubImage3D(In,nn,Zn,mr,Er,Rn,Bn,Wn,Cr,Kn,_r),$t.pixelStorei($t.UNPACK_ROW_LENGTH,br),$t.pixelStorei($t.UNPACK_IMAGE_HEIGHT,sr),$t.pixelStorei($t.UNPACK_SKIP_PIXELS,wr),$t.pixelStorei($t.UNPACK_SKIP_ROWS,Yr),$t.pixelStorei($t.UNPACK_SKIP_IMAGES,Ir),nn===0&&en.generateMipmaps&&$t.generateMipmap(In),mn.unbindTexture()},this.initRenderTarget=function(jt){Tn.get(jt).__webglFramebuffer===void 0&&Ln.setupRenderTarget(jt)},this.initTexture=function(jt){jt.isCubeTexture?Ln.setTextureCube(jt,0):jt.isData3DTexture?Ln.setTexture3D(jt,0):jt.isDataArrayTexture||jt.isCompressedArrayTexture?Ln.setTexture2DArray(jt,0):Ln.setTexture2D(jt,0),mn.unbindTexture()},this.resetState=function(){wt=0,Mt=0,Ct=null,mn.reset(),Zt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(c){this._outputColorSpace=c;const tt=this.getContext();tt.drawingBufferColorSpace=c===DisplayP3ColorSpace?"display-p3":"srgb",tt.unpackColorSpace=ColorManagement.workingColorSpace===LinearDisplayP3ColorSpace?"display-p3":"srgb"}}class FogExp2{constructor(c,tt=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(c),this.density=tt}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(c,tt=1,nt=1e3){this.isFog=!0,this.name="",this.color=new Color(c),this.near=tt,this.far=nt}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(c,tt){return super.copy(c,tt),c.background!==null&&(this.background=c.background.clone()),c.environment!==null&&(this.environment=c.environment.clone()),c.fog!==null&&(this.fog=c.fog.clone()),this.backgroundBlurriness=c.backgroundBlurriness,this.backgroundIntensity=c.backgroundIntensity,this.backgroundRotation.copy(c.backgroundRotation),this.environmentIntensity=c.environmentIntensity,this.environmentRotation.copy(c.environmentRotation),c.overrideMaterial!==null&&(this.overrideMaterial=c.overrideMaterial.clone()),this.matrixAutoUpdate=c.matrixAutoUpdate,this}toJSON(c){const tt=super.toJSON(c);return this.fog!==null&&(tt.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(tt.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(tt.object.backgroundIntensity=this.backgroundIntensity),tt.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(tt.object.environmentIntensity=this.environmentIntensity),tt.object.environmentRotation=this.environmentRotation.toArray(),tt}}class InterleavedBuffer{constructor(c,tt){this.isInterleavedBuffer=!0,this.array=c,this.stride=tt,this.count=c!==void 0?c.length/tt:0,this.usage=StaticDrawUsage,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(c){c===!0&&this.version++}get updateRange(){return warnOnce("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(c){return this.usage=c,this}addUpdateRange(c,tt){this.updateRanges.push({start:c,count:tt})}clearUpdateRanges(){this.updateRanges.length=0}copy(c){return this.array=new c.array.constructor(c.array),this.count=c.count,this.stride=c.stride,this.usage=c.usage,this}copyAt(c,tt,nt){c*=this.stride,nt*=tt.stride;for(let rt=0,it=this.stride;rt<it;rt++)this.array[c+rt]=tt.array[nt+rt];return this}set(c,tt=0){return this.array.set(c,tt),this}clone(c){c.arrayBuffers===void 0&&(c.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),c.arrayBuffers[this.array.buffer._uuid]===void 0&&(c.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const tt=new this.array.constructor(c.arrayBuffers[this.array.buffer._uuid]),nt=new this.constructor(tt,this.stride);return nt.setUsage(this.usage),nt}onUpload(c){return this.onUploadCallback=c,this}toJSON(c){return c.arrayBuffers===void 0&&(c.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),c.arrayBuffers[this.array.buffer._uuid]===void 0&&(c.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(c,tt,nt,rt=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=c,this.itemSize=tt,this.offset=nt,this.normalized=rt}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(c){this.data.needsUpdate=c}applyMatrix4(c){for(let tt=0,nt=this.data.count;tt<nt;tt++)_vector$6.fromBufferAttribute(this,tt),_vector$6.applyMatrix4(c),this.setXYZ(tt,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(c){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$6.fromBufferAttribute(this,tt),_vector$6.applyNormalMatrix(c),this.setXYZ(tt,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(c){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$6.fromBufferAttribute(this,tt),_vector$6.transformDirection(c),this.setXYZ(tt,_vector$6.x,_vector$6.y,_vector$6.z);return this}getComponent(c,tt){let nt=this.array[c*this.data.stride+this.offset+tt];return this.normalized&&(nt=denormalize(nt,this.array)),nt}setComponent(c,tt,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.data.array[c*this.data.stride+this.offset+tt]=nt,this}setX(c,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.data.array[c*this.data.stride+this.offset]=tt,this}setY(c,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.data.array[c*this.data.stride+this.offset+1]=tt,this}setZ(c,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.data.array[c*this.data.stride+this.offset+2]=tt,this}setW(c,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.data.array[c*this.data.stride+this.offset+3]=tt,this}getX(c){let tt=this.data.array[c*this.data.stride+this.offset];return this.normalized&&(tt=denormalize(tt,this.array)),tt}getY(c){let tt=this.data.array[c*this.data.stride+this.offset+1];return this.normalized&&(tt=denormalize(tt,this.array)),tt}getZ(c){let tt=this.data.array[c*this.data.stride+this.offset+2];return this.normalized&&(tt=denormalize(tt,this.array)),tt}getW(c){let tt=this.data.array[c*this.data.stride+this.offset+3];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setXY(c,tt,nt){return c=c*this.data.stride+this.offset,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array)),this.data.array[c+0]=tt,this.data.array[c+1]=nt,this}setXYZ(c,tt,nt,rt){return c=c*this.data.stride+this.offset,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array),rt=normalize(rt,this.array)),this.data.array[c+0]=tt,this.data.array[c+1]=nt,this.data.array[c+2]=rt,this}setXYZW(c,tt,nt,rt,it){return c=c*this.data.stride+this.offset,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array),rt=normalize(rt,this.array),it=normalize(it,this.array)),this.data.array[c+0]=tt,this.data.array[c+1]=nt,this.data.array[c+2]=rt,this.data.array[c+3]=it,this}clone(c){if(c===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const tt=[];for(let nt=0;nt<this.count;nt++){const rt=nt*this.data.stride+this.offset;for(let it=0;it<this.itemSize;it++)tt.push(this.data.array[rt+it])}return new BufferAttribute(new this.array.constructor(tt),this.itemSize,this.normalized)}else return c.interleavedBuffers===void 0&&(c.interleavedBuffers={}),c.interleavedBuffers[this.data.uuid]===void 0&&(c.interleavedBuffers[this.data.uuid]=this.data.clone(c)),new InterleavedBufferAttribute(c.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(c){if(c===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const tt=[];for(let nt=0;nt<this.count;nt++){const rt=nt*this.data.stride+this.offset;for(let it=0;it<this.itemSize;it++)tt.push(this.data.array[rt+it])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:tt,normalized:this.normalized}}else return c.interleavedBuffers===void 0&&(c.interleavedBuffers={}),c.interleavedBuffers[this.data.uuid]===void 0&&(c.interleavedBuffers[this.data.uuid]=this.data.toJSON(c)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(c){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(c)}copy(c){return super.copy(c),this.color.copy(c.color),this.map=c.map,this.alphaMap=c.alphaMap,this.rotation=c.rotation,this.sizeAttenuation=c.sizeAttenuation,this.fog=c.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(c=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const tt=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),nt=new InterleavedBuffer(tt,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(nt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(nt,2,3,!1))}this.geometry=_geometry,this.material=c,this.center=new Vector2(.5,.5)}raycast(c,tt){c.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(c.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(c.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),c.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const nt=this.material.rotation;let rt,it;nt!==0&&(it=Math.cos(nt),rt=Math.sin(nt));const st=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,st,_worldScale,rt,it),transformVertex(_vB.set(.5,-.5,0),_mvPosition,st,_worldScale,rt,it),transformVertex(_vC.set(.5,.5,0),_mvPosition,st,_worldScale,rt,it),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let at=c.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(at===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,st,_worldScale,rt,it),_uvB.set(0,1),at=c.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),at===null))return;const ot=c.ray.origin.distanceTo(_intersectPoint);ot<c.near||ot>c.far||tt.push({distance:ot,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(c,tt){return super.copy(c,tt),c.center!==void 0&&this.center.copy(c.center),this.material=c.material,this}}function transformVertex(et,c,tt,nt,rt,it){_alignedPosition.subVectors(et,tt).addScalar(.5).multiply(nt),rt!==void 0?(_rotatedPosition.x=it*_alignedPosition.x-rt*_alignedPosition.y,_rotatedPosition.y=rt*_alignedPosition.x+it*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),et.copy(c),et.x+=_rotatedPosition.x,et.y+=_rotatedPosition.y,et.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(c){super.copy(c,!1);const tt=c.levels;for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];this.addLevel(it.object.clone(),it.distance,it.hysteresis)}return this.autoUpdate=c.autoUpdate,this}addLevel(c,tt=0,nt=0){tt=Math.abs(tt);const rt=this.levels;let it;for(it=0;it<rt.length&&!(tt<rt[it].distance);it++);return rt.splice(it,0,{distance:tt,hysteresis:nt,object:c}),this.add(c),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(c){const tt=this.levels;if(tt.length>0){let nt,rt;for(nt=1,rt=tt.length;nt<rt;nt++){let it=tt[nt].distance;if(tt[nt].object.visible&&(it-=it*tt[nt].hysteresis),c<it)break}return tt[nt-1].object}return null}raycast(c,tt){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const rt=c.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(rt).raycast(c,tt)}}update(c){const tt=this.levels;if(tt.length>1){_v1$2.setFromMatrixPosition(c.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const nt=_v1$2.distanceTo(_v2$1)/c.zoom;tt[0].object.visible=!0;let rt,it;for(rt=1,it=tt.length;rt<it;rt++){let st=tt[rt].distance;if(tt[rt].object.visible&&(st-=st*tt[rt].hysteresis),nt>=st)tt[rt-1].object.visible=!1,tt[rt].object.visible=!0;else break}for(this._currentLevel=rt-1;rt<it;rt++)tt[rt].object.visible=!1}}toJSON(c){const tt=super.toJSON(c);this.autoUpdate===!1&&(tt.object.autoUpdate=!1),tt.object.levels=[];const nt=this.levels;for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt];tt.object.levels.push({object:st.object.uuid,distance:st.distance,hysteresis:st.hysteresis})}return tt}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$4=new Sphere$1,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(c,tt){super(c,tt),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const c=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const tt=c.getAttribute("position");for(let nt=0;nt<tt.count;nt++)this.getVertexPosition(nt,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const c=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere$1),this.boundingSphere.makeEmpty();const tt=c.getAttribute("position");for(let nt=0;nt<tt.count;nt++)this.getVertexPosition(nt,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(c,tt){return super.copy(c,tt),this.bindMode=c.bindMode,this.bindMatrix.copy(c.bindMatrix),this.bindMatrixInverse.copy(c.bindMatrixInverse),this.skeleton=c.skeleton,c.boundingBox!==null&&(this.boundingBox=c.boundingBox.clone()),c.boundingSphere!==null&&(this.boundingSphere=c.boundingSphere.clone()),this}raycast(c,tt){const nt=this.material,rt=this.matrixWorld;nt!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(rt),c.ray.intersectsSphere(_sphere$4)!==!1&&(_inverseMatrix$2.copy(rt).invert(),_ray$2.copy(c.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(c,tt,_ray$2)))}getVertexPosition(c,tt){return super.getVertexPosition(c,tt),this.applyBoneTransform(c,tt),tt}bind(c,tt){this.skeleton=c,tt===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),tt=this.matrixWorld),this.bindMatrix.copy(tt),this.bindMatrixInverse.copy(tt).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const c=new Vector4,tt=this.geometry.attributes.skinWeight;for(let nt=0,rt=tt.count;nt<rt;nt++){c.fromBufferAttribute(tt,nt);const it=1/c.manhattanLength();it!==1/0?c.multiplyScalar(it):c.set(1,0,0,0),tt.setXYZW(nt,c.x,c.y,c.z,c.w)}}updateMatrixWorld(c){super.updateMatrixWorld(c),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(c,tt){const nt=this.skeleton,rt=this.geometry;_skinIndex.fromBufferAttribute(rt.attributes.skinIndex,c),_skinWeight.fromBufferAttribute(rt.attributes.skinWeight,c),_basePosition.copy(tt).applyMatrix4(this.bindMatrix),tt.set(0,0,0);for(let it=0;it<4;it++){const st=_skinWeight.getComponent(it);if(st!==0){const at=_skinIndex.getComponent(it);_matrix4.multiplyMatrices(nt.bones[at].matrixWorld,nt.boneInverses[at]),tt.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),st)}}return tt.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(c=null,tt=1,nt=1,rt,it,st,at,ot,lt=NearestFilter,ct=NearestFilter,dt,ht){super(null,st,at,ot,lt,ct,rt,it,dt,ht),this.isDataTexture=!0,this.image={data:c,width:tt,height:nt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(c=[],tt=[]){this.uuid=generateUUID(),this.bones=c.slice(0),this.boneInverses=tt,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const c=this.bones,tt=this.boneInverses;if(this.boneMatrices=new Float32Array(c.length*16),tt.length===0)this.calculateInverses();else if(c.length!==tt.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let nt=0,rt=this.bones.length;nt<rt;nt++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let c=0,tt=this.bones.length;c<tt;c++){const nt=new Matrix4;this.bones[c]&&nt.copy(this.bones[c].matrixWorld).invert(),this.boneInverses.push(nt)}}pose(){for(let c=0,tt=this.bones.length;c<tt;c++){const nt=this.bones[c];nt&&nt.matrixWorld.copy(this.boneInverses[c]).invert()}for(let c=0,tt=this.bones.length;c<tt;c++){const nt=this.bones[c];nt&&(nt.parent&&nt.parent.isBone?(nt.matrix.copy(nt.parent.matrixWorld).invert(),nt.matrix.multiply(nt.matrixWorld)):nt.matrix.copy(nt.matrixWorld),nt.matrix.decompose(nt.position,nt.quaternion,nt.scale))}}update(){const c=this.bones,tt=this.boneInverses,nt=this.boneMatrices,rt=this.boneTexture;for(let it=0,st=c.length;it<st;it++){const at=c[it]?c[it].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(at,tt[it]),_offsetMatrix.toArray(nt,it*16)}rt!==null&&(rt.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let c=Math.sqrt(this.bones.length*4);c=Math.ceil(c/4)*4,c=Math.max(c,4);const tt=new Float32Array(c*c*4);tt.set(this.boneMatrices);const nt=new DataTexture(tt,c,c,RGBAFormat,FloatType);return nt.needsUpdate=!0,this.boneMatrices=tt,this.boneTexture=nt,this}getBoneByName(c){for(let tt=0,nt=this.bones.length;tt<nt;tt++){const rt=this.bones[tt];if(rt.name===c)return rt}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(c,tt){this.uuid=c.uuid;for(let nt=0,rt=c.bones.length;nt<rt;nt++){const it=c.bones[nt];let st=tt[it];st===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",it),st=new Bone),this.bones.push(st),this.boneInverses.push(new Matrix4().fromArray(c.boneInverses[nt]))}return this.init(),this}toJSON(){const c={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};c.uuid=this.uuid;const tt=this.bones,nt=this.boneInverses;for(let rt=0,it=tt.length;rt<it;rt++){const st=tt[rt];c.bones.push(st.uuid);const at=nt[rt];c.boneInverses.push(at.toArray())}return c}}class InstancedBufferAttribute extends BufferAttribute{constructor(c,tt,nt,rt=1){super(c,tt,nt),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=rt}copy(c){return super.copy(c),this.meshPerAttribute=c.meshPerAttribute,this}toJSON(){const c=super.toJSON();return c.meshPerAttribute=this.meshPerAttribute,c.isInstancedBufferAttribute=!0,c}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$3=new Sphere$1;class InstancedMesh extends Mesh{constructor(c,tt,nt){super(c,tt),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(nt*16),16),this.instanceColor=null,this.morphTexture=null,this.count=nt,this.boundingBox=null,this.boundingSphere=null;for(let rt=0;rt<nt;rt++)this.setMatrixAt(rt,_identity)}computeBoundingBox(){const c=this.geometry,tt=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),c.boundingBox===null&&c.computeBoundingBox(),this.boundingBox.makeEmpty();for(let nt=0;nt<tt;nt++)this.getMatrixAt(nt,_instanceLocalMatrix),_box3.copy(c.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const c=this.geometry,tt=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere$1),c.boundingSphere===null&&c.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let nt=0;nt<tt;nt++)this.getMatrixAt(nt,_instanceLocalMatrix),_sphere$3.copy(c.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$3)}copy(c,tt){return super.copy(c,tt),this.instanceMatrix.copy(c.instanceMatrix),c.morphTexture!==null&&(this.morphTexture=c.morphTexture.clone()),c.instanceColor!==null&&(this.instanceColor=c.instanceColor.clone()),this.count=c.count,c.boundingBox!==null&&(this.boundingBox=c.boundingBox.clone()),c.boundingSphere!==null&&(this.boundingSphere=c.boundingSphere.clone()),this}getColorAt(c,tt){tt.fromArray(this.instanceColor.array,c*3)}getMatrixAt(c,tt){tt.fromArray(this.instanceMatrix.array,c*16)}getMorphAt(c,tt){const nt=tt.morphTargetInfluences,rt=this.morphTexture.source.data.data,it=nt.length+1,st=c*it+1;for(let at=0;at<nt.length;at++)nt[at]=rt[st+at]}raycast(c,tt){const nt=this.matrixWorld,rt=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$3.copy(this.boundingSphere),_sphere$3.applyMatrix4(nt),c.ray.intersectsSphere(_sphere$3)!==!1))for(let it=0;it<rt;it++){this.getMatrixAt(it,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(nt,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(c,_instanceIntersects);for(let st=0,at=_instanceIntersects.length;st<at;st++){const ot=_instanceIntersects[st];ot.instanceId=it,ot.object=this,tt.push(ot)}_instanceIntersects.length=0}}setColorAt(c,tt){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),tt.toArray(this.instanceColor.array,c*3)}setMatrixAt(c,tt){tt.toArray(this.instanceMatrix.array,c*16)}setMorphAt(c,tt){const nt=tt.morphTargetInfluences,rt=nt.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(rt*this.count),rt,this.count,RedFormat,FloatType));const it=this.morphTexture.source.data.data;let st=0;for(let lt=0;lt<nt.length;lt++)st+=nt[lt];const at=this.geometry.morphTargetsRelative?1:1-st,ot=rt*c;it[ot]=at,it.set(nt,ot+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function sortOpaque(et,c){return et.z-c.z}function sortTransparent(et,c){return c.z-et.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(c,tt,nt){const rt=this.pool,it=this.list;this.index>=rt.length&&rt.push({start:-1,count:-1,z:-1,index:-1});const st=rt[this.index];it.push(st),this.index++,st.start=c.start,st.count=c.count,st.z=tt,st.index=nt}reset(){this.list.length=0,this.index=0}}const _matrix$1=new Matrix4,_invMatrixWorld=new Matrix4,_identityMatrix=new Matrix4,_whiteColor=new Color(1,1,1),_projScreenMatrix$2=new Matrix4,_frustum=new Frustum,_box$1=new Box3,_sphere$2=new Sphere$1,_vector$5=new Vector3,_forward=new Vector3,_temp=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(et,c,tt=0){const nt=c.itemSize;if(et.isInterleavedBufferAttribute||et.array.constructor!==c.array.constructor){const rt=et.count;for(let it=0;it<rt;it++)for(let st=0;st<nt;st++)c.setComponent(it+tt,st,et.getComponent(it,st))}else c.array.set(et.array,tt*nt);c.needsUpdate=!0}class BatchedMesh extends Mesh{get maxInstanceCount(){return this._maxInstanceCount}constructor(c,tt,nt=tt*2,rt){super(new BufferGeometry,rt),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=c,this._maxVertexCount=tt,this._maxIndexCount=nt,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(c),this._multiDrawStarts=new Int32Array(c),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let c=Math.sqrt(this._maxInstanceCount*4);c=Math.ceil(c/4)*4,c=Math.max(c,4);const tt=new Float32Array(c*c*4),nt=new DataTexture(tt,c,c,RGBAFormat,FloatType);this._matricesTexture=nt}_initIndirectTexture(){let c=Math.sqrt(this._maxInstanceCount);c=Math.ceil(c);const tt=new Uint32Array(c*c),nt=new DataTexture(tt,c,c,RedIntegerFormat,UnsignedIntType);this._indirectTexture=nt}_initColorsTexture(){let c=Math.sqrt(this._maxIndexCount);c=Math.ceil(c);const tt=new Float32Array(c*c*4).fill(1),nt=new DataTexture(tt,c,c,RGBAFormat,FloatType);nt.colorSpace=ColorManagement.workingColorSpace,this._colorsTexture=nt}_initializeGeometry(c){const tt=this.geometry,nt=this._maxVertexCount,rt=this._maxIndexCount;if(this._geometryInitialized===!1){for(const it in c.attributes){const st=c.getAttribute(it),{array:at,itemSize:ot,normalized:lt}=st,ct=new at.constructor(nt*ot),dt=new BufferAttribute(ct,ot,lt);tt.setAttribute(it,dt)}if(c.getIndex()!==null){const it=nt>65535?new Uint32Array(rt):new Uint16Array(rt);tt.setIndex(new BufferAttribute(it,1))}this._geometryInitialized=!0}}_validateGeometry(c){const tt=this.geometry;if(!!c.getIndex()!=!!tt.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const nt in tt.attributes){if(!c.hasAttribute(nt))throw new Error(`BatchedMesh: Added geometry missing "${nt}". All geometries must have consistent attributes.`);const rt=c.getAttribute(nt),it=tt.getAttribute(nt);if(rt.itemSize!==it.itemSize||rt.normalized!==it.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(c){return this.customSort=c,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const c=this._geometryCount,tt=this.boundingBox,nt=this._drawInfo;tt.makeEmpty();for(let rt=0;rt<c;rt++){if(nt[rt].active===!1)continue;const it=nt[rt].geometryIndex;this.getMatrixAt(rt,_matrix$1),this.getBoundingBoxAt(it,_box$1).applyMatrix4(_matrix$1),tt.union(_box$1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1);const c=this.boundingSphere,tt=this._drawInfo;c.makeEmpty();for(let nt=0,rt=tt.length;nt<rt;nt++){if(tt[nt].active===!1)continue;const it=tt[nt].geometryIndex;this.getMatrixAt(nt,_matrix$1),this.getBoundingSphereAt(it,_sphere$2).applyMatrix4(_matrix$1),c.union(_sphere$2)}}addInstance(c){if(this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,geometryIndex:c});const tt=this._drawInfo.length-1,nt=this._matricesTexture,rt=nt.image.data;_identityMatrix.toArray(rt,tt*16),nt.needsUpdate=!0;const it=this._colorsTexture;return it&&(_whiteColor.toArray(it.image.data,tt*4),it.needsUpdate=!0),tt}addGeometry(c,tt=-1,nt=-1){if(this._initializeGeometry(c),this._validateGeometry(c),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const rt={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let it=null;const st=this._reservedRanges,at=this._drawRanges,ot=this._bounds;this._geometryCount!==0&&(it=st[st.length-1]),tt===-1?rt.vertexCount=c.getAttribute("position").count:rt.vertexCount=tt,it===null?rt.vertexStart=0:rt.vertexStart=it.vertexStart+it.vertexCount;const lt=c.getIndex(),ct=lt!==null;if(ct&&(nt===-1?rt.indexCount=lt.count:rt.indexCount=nt,it===null?rt.indexStart=0:rt.indexStart=it.indexStart+it.indexCount),rt.indexStart!==-1&&rt.indexStart+rt.indexCount>this._maxIndexCount||rt.vertexStart+rt.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const dt=this._geometryCount;return this._geometryCount++,st.push(rt),at.push({start:ct?rt.indexStart:rt.vertexStart,count:-1}),ot.push({boxInitialized:!1,box:new Box3,sphereInitialized:!1,sphere:new Sphere$1}),this.setGeometryAt(dt,c),dt}setGeometryAt(c,tt){if(c>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(tt);const nt=this.geometry,rt=nt.getIndex()!==null,it=nt.getIndex(),st=tt.getIndex(),at=this._reservedRanges[c];if(rt&&st.count>at.indexCount||tt.attributes.position.count>at.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const ot=at.vertexStart,lt=at.vertexCount;for(const mt in nt.attributes){const gt=tt.getAttribute(mt),yt=nt.getAttribute(mt);copyAttributeData(gt,yt,ot);const _t=gt.itemSize;for(let pt=gt.count,xt=lt;pt<xt;pt++){const vt=ot+pt;for(let St=0;St<_t;St++)yt.setComponent(vt,St,0)}yt.needsUpdate=!0,yt.addUpdateRange(ot*_t,lt*_t)}if(rt){const mt=at.indexStart;for(let gt=0;gt<st.count;gt++)it.setX(mt+gt,ot+st.getX(gt));for(let gt=st.count,yt=at.indexCount;gt<yt;gt++)it.setX(mt+gt,ot);it.needsUpdate=!0,it.addUpdateRange(mt,at.indexCount)}const ct=this._bounds[c];tt.boundingBox!==null?(ct.box.copy(tt.boundingBox),ct.boxInitialized=!0):ct.boxInitialized=!1,tt.boundingSphere!==null?(ct.sphere.copy(tt.boundingSphere),ct.sphereInitialized=!0):ct.sphereInitialized=!1;const dt=this._drawRanges[c],ht=tt.getAttribute("position");return dt.count=rt?st.count:ht.count,this._visibilityChanged=!0,c}getBoundingBoxAt(c,tt){if(c>=this._geometryCount)return null;const nt=this._bounds[c],rt=nt.box,it=this.geometry;if(nt.boxInitialized===!1){rt.makeEmpty();const st=it.index,at=it.attributes.position,ot=this._drawRanges[c];for(let lt=ot.start,ct=ot.start+ot.count;lt<ct;lt++){let dt=lt;st&&(dt=st.getX(dt)),rt.expandByPoint(_vector$5.fromBufferAttribute(at,dt))}nt.boxInitialized=!0}return tt.copy(rt),tt}getBoundingSphereAt(c,tt){if(c>=this._geometryCount)return null;const nt=this._bounds[c],rt=nt.sphere,it=this.geometry;if(nt.sphereInitialized===!1){rt.makeEmpty(),this.getBoundingBoxAt(c,_box$1),_box$1.getCenter(rt.center);const st=it.index,at=it.attributes.position,ot=this._drawRanges[c];let lt=0;for(let ct=ot.start,dt=ot.start+ot.count;ct<dt;ct++){let ht=ct;st&&(ht=st.getX(ht)),_vector$5.fromBufferAttribute(at,ht),lt=Math.max(lt,rt.center.distanceToSquared(_vector$5))}rt.radius=Math.sqrt(lt),nt.sphereInitialized=!0}return tt.copy(rt),tt}setMatrixAt(c,tt){const nt=this._drawInfo,rt=this._matricesTexture,it=this._matricesTexture.image.data;return c>=nt.length||nt[c].active===!1?this:(tt.toArray(it,c*16),rt.needsUpdate=!0,this)}getMatrixAt(c,tt){const nt=this._drawInfo,rt=this._matricesTexture.image.data;return c>=nt.length||nt[c].active===!1?null:tt.fromArray(rt,c*16)}setColorAt(c,tt){this._colorsTexture===null&&this._initColorsTexture();const nt=this._colorsTexture,rt=this._colorsTexture.image.data,it=this._drawInfo;return c>=it.length||it[c].active===!1?this:(tt.toArray(rt,c*4),nt.needsUpdate=!0,this)}getColorAt(c,tt){const nt=this._colorsTexture.image.data,rt=this._drawInfo;return c>=rt.length||rt[c].active===!1?null:tt.fromArray(nt,c*4)}setVisibleAt(c,tt){const nt=this._drawInfo;return c>=nt.length||nt[c].active===!1||nt[c].visible===tt?this:(nt[c].visible=tt,this._visibilityChanged=!0,this)}getVisibleAt(c){const tt=this._drawInfo;return c>=tt.length||tt[c].active===!1?!1:tt[c].visible}raycast(c,tt){const nt=this._drawInfo,rt=this._drawRanges,it=this.matrixWorld,st=this.geometry;_mesh.material=this.material,_mesh.geometry.index=st.index,_mesh.geometry.attributes=st.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere$1);for(let at=0,ot=nt.length;at<ot;at++){if(!nt[at].visible||!nt[at].active)continue;const lt=nt[at].geometryIndex,ct=rt[lt];_mesh.geometry.setDrawRange(ct.start,ct.count),this.getMatrixAt(at,_mesh.matrixWorld).premultiply(it),this.getBoundingBoxAt(lt,_mesh.geometry.boundingBox),this.getBoundingSphereAt(lt,_mesh.geometry.boundingSphere),_mesh.raycast(c,_batchIntersects);for(let dt=0,ht=_batchIntersects.length;dt<ht;dt++){const mt=_batchIntersects[dt];mt.object=this,mt.batchId=at,tt.push(mt)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(c){return super.copy(c),this.geometry=c.geometry.clone(),this.perObjectFrustumCulled=c.perObjectFrustumCulled,this.sortObjects=c.sortObjects,this.boundingBox=c.boundingBox!==null?c.boundingBox.clone():null,this.boundingSphere=c.boundingSphere!==null?c.boundingSphere.clone():null,this._drawRanges=c._drawRanges.map(tt=>({...tt})),this._reservedRanges=c._reservedRanges.map(tt=>({...tt})),this._drawInfo=c._drawInfo.map(tt=>({...tt})),this._bounds=c._bounds.map(tt=>({boxInitialized:tt.boxInitialized,box:tt.box.clone(),sphereInitialized:tt.sphereInitialized,sphere:tt.sphere.clone()})),this._maxInstanceCount=c._maxInstanceCount,this._maxVertexCount=c._maxVertexCount,this._maxIndexCount=c._maxIndexCount,this._geometryInitialized=c._geometryInitialized,this._geometryCount=c._geometryCount,this._multiDrawCounts=c._multiDrawCounts.slice(),this._multiDrawStarts=c._multiDrawStarts.slice(),this._matricesTexture=c._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=c._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(c,tt,nt,rt,it){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const st=rt.getIndex(),at=st===null?1:st.array.BYTES_PER_ELEMENT,ot=this._drawInfo,lt=this._multiDrawStarts,ct=this._multiDrawCounts,dt=this._drawRanges,ht=this.perObjectFrustumCulled,mt=this._indirectTexture,gt=mt.image.data;ht&&(_projScreenMatrix$2.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_projScreenMatrix$2,c.coordinateSystem));let yt=0;if(this.sortObjects){_invMatrixWorld.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(nt.matrixWorld).applyMatrix4(_invMatrixWorld),_forward.set(0,0,-1).transformDirection(nt.matrixWorld).transformDirection(_invMatrixWorld);for(let xt=0,vt=ot.length;xt<vt;xt++)if(ot[xt].visible&&ot[xt].active){const St=ot[xt].geometryIndex;this.getMatrixAt(xt,_matrix$1),this.getBoundingSphereAt(St,_sphere$2).applyMatrix4(_matrix$1);let wt=!1;if(ht&&(wt=!_frustum.intersectsSphere(_sphere$2)),!wt){const Mt=_temp.subVectors(_sphere$2.center,_vector$5).dot(_forward);_renderList.push(dt[St],Mt,xt)}}const _t=_renderList.list,pt=this.customSort;pt===null?_t.sort(it.transparent?sortTransparent:sortOpaque):pt.call(this,_t,nt);for(let xt=0,vt=_t.length;xt<vt;xt++){const St=_t[xt];lt[yt]=St.start*at,ct[yt]=St.count,gt[yt]=St.index,yt++}_renderList.reset()}else for(let _t=0,pt=ot.length;_t<pt;_t++)if(ot[_t].visible&&ot[_t].active){const xt=ot[_t].geometryIndex;let vt=!1;if(ht&&(this.getMatrixAt(_t,_matrix$1),this.getBoundingSphereAt(xt,_sphere$2).applyMatrix4(_matrix$1),vt=!_frustum.intersectsSphere(_sphere$2)),!vt){const St=dt[xt];lt[yt]=St.start*at,ct[yt]=St.count,gt[yt]=_t,yt++}}mt.needsUpdate=!0,this._multiDrawCount=yt,this._visibilityChanged=!1}onBeforeShadow(c,tt,nt,rt,it,st){this.onBeforeRender(c,null,rt,it,st)}}class LineBasicMaterial extends Material{constructor(c){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(c)}copy(c){return super.copy(c),this.color.copy(c.color),this.map=c.map,this.linewidth=c.linewidth,this.linecap=c.linecap,this.linejoin=c.linejoin,this.fog=c.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere$1,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;class Line extends Object3D{constructor(c=new BufferGeometry,tt=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=c,this.material=tt,this.updateMorphTargets()}copy(c,tt){return super.copy(c,tt),this.material=Array.isArray(c.material)?c.material.slice():c.material,this.geometry=c.geometry,this}computeLineDistances(){const c=this.geometry;if(c.index===null){const tt=c.attributes.position,nt=[0];for(let rt=1,it=tt.count;rt<it;rt++)_vStart.fromBufferAttribute(tt,rt-1),_vEnd.fromBufferAttribute(tt,rt),nt[rt]=nt[rt-1],nt[rt]+=_vStart.distanceTo(_vEnd);c.setAttribute("lineDistance",new Float32BufferAttribute(nt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(c,tt){const nt=this.geometry,rt=this.matrixWorld,it=c.params.Line.threshold,st=nt.drawRange;if(nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere$1.copy(nt.boundingSphere),_sphere$1.applyMatrix4(rt),_sphere$1.radius+=it,c.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(rt).invert(),_ray$1.copy(c.ray).applyMatrix4(_inverseMatrix$1);const at=it/((this.scale.x+this.scale.y+this.scale.z)/3),ot=at*at,lt=this.isLineSegments?2:1,ct=nt.index,ht=nt.attributes.position;if(ct!==null){const mt=Math.max(0,st.start),gt=Math.min(ct.count,st.start+st.count);for(let yt=mt,_t=gt-1;yt<_t;yt+=lt){const pt=ct.getX(yt),xt=ct.getX(yt+1),vt=checkIntersection(this,c,_ray$1,ot,pt,xt);vt&&tt.push(vt)}if(this.isLineLoop){const yt=ct.getX(gt-1),_t=ct.getX(mt),pt=checkIntersection(this,c,_ray$1,ot,yt,_t);pt&&tt.push(pt)}}else{const mt=Math.max(0,st.start),gt=Math.min(ht.count,st.start+st.count);for(let yt=mt,_t=gt-1;yt<_t;yt+=lt){const pt=checkIntersection(this,c,_ray$1,ot,yt,yt+1);pt&&tt.push(pt)}if(this.isLineLoop){const yt=checkIntersection(this,c,_ray$1,ot,gt-1,mt);yt&&tt.push(yt)}}}updateMorphTargets(){const tt=this.geometry.morphAttributes,nt=Object.keys(tt);if(nt.length>0){const rt=tt[nt[0]];if(rt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let it=0,st=rt.length;it<st;it++){const at=rt[it].name||String(it);this.morphTargetInfluences.push(0),this.morphTargetDictionary[at]=it}}}}}function checkIntersection(et,c,tt,nt,rt,it){const st=et.geometry.attributes.position;if(_vStart.fromBufferAttribute(st,rt),_vEnd.fromBufferAttribute(st,it),tt.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>nt)return;_intersectPointOnRay.applyMatrix4(et.matrixWorld);const ot=c.ray.origin.distanceTo(_intersectPointOnRay);if(!(ot<c.near||ot>c.far))return{distance:ot,point:_intersectPointOnSegment.clone().applyMatrix4(et.matrixWorld),index:rt,face:null,faceIndex:null,object:et}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(c,tt){super(c,tt),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const c=this.geometry;if(c.index===null){const tt=c.attributes.position,nt=[];for(let rt=0,it=tt.count;rt<it;rt+=2)_start.fromBufferAttribute(tt,rt),_end.fromBufferAttribute(tt,rt+1),nt[rt]=rt===0?0:nt[rt-1],nt[rt+1]=nt[rt]+_start.distanceTo(_end);c.setAttribute("lineDistance",new Float32BufferAttribute(nt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(c,tt){super(c,tt),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(c){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(c)}copy(c){return super.copy(c),this.color.copy(c.color),this.map=c.map,this.alphaMap=c.alphaMap,this.size=c.size,this.sizeAttenuation=c.sizeAttenuation,this.fog=c.fog,this}}const _inverseMatrix=new Matrix4,_ray$4=new Ray,_sphere=new Sphere$1,_position$2=new Vector3;class Points extends Object3D{constructor(c=new BufferGeometry,tt=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=c,this.material=tt,this.updateMorphTargets()}copy(c,tt){return super.copy(c,tt),this.material=Array.isArray(c.material)?c.material.slice():c.material,this.geometry=c.geometry,this}raycast(c,tt){const nt=this.geometry,rt=this.matrixWorld,it=c.params.Points.threshold,st=nt.drawRange;if(nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere.copy(nt.boundingSphere),_sphere.applyMatrix4(rt),_sphere.radius+=it,c.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(rt).invert(),_ray$4.copy(c.ray).applyMatrix4(_inverseMatrix);const at=it/((this.scale.x+this.scale.y+this.scale.z)/3),ot=at*at,lt=nt.index,dt=nt.attributes.position;if(lt!==null){const ht=Math.max(0,st.start),mt=Math.min(lt.count,st.start+st.count);for(let gt=ht,yt=mt;gt<yt;gt++){const _t=lt.getX(gt);_position$2.fromBufferAttribute(dt,_t),testPoint(_position$2,_t,ot,rt,c,tt,this)}}else{const ht=Math.max(0,st.start),mt=Math.min(dt.count,st.start+st.count);for(let gt=ht,yt=mt;gt<yt;gt++)_position$2.fromBufferAttribute(dt,gt),testPoint(_position$2,gt,ot,rt,c,tt,this)}}updateMorphTargets(){const tt=this.geometry.morphAttributes,nt=Object.keys(tt);if(nt.length>0){const rt=tt[nt[0]];if(rt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let it=0,st=rt.length;it<st;it++){const at=rt[it].name||String(it);this.morphTargetInfluences.push(0),this.morphTargetDictionary[at]=it}}}}}function testPoint(et,c,tt,nt,rt,it,st){const at=_ray$4.distanceSqToPoint(et);if(at<tt){const ot=new Vector3;_ray$4.closestPointToPoint(et,ot),ot.applyMatrix4(nt);const lt=rt.ray.origin.distanceTo(ot);if(lt<rt.near||lt>rt.far)return;it.push({distance:lt,distanceToRay:Math.sqrt(at),point:ot,index:c,face:null,object:st})}}class VideoTexture extends Texture{constructor(c,tt,nt,rt,it,st,at,ot,lt){super(c,tt,nt,rt,it,st,at,ot,lt),this.isVideoTexture=!0,this.minFilter=st!==void 0?st:LinearFilter,this.magFilter=it!==void 0?it:LinearFilter,this.generateMipmaps=!1;const ct=this;function dt(){ct.needsUpdate=!0,c.requestVideoFrameCallback(dt)}"requestVideoFrameCallback"in c&&c.requestVideoFrameCallback(dt)}clone(){return new this.constructor(this.image).copy(this)}update(){const c=this.image;"requestVideoFrameCallback"in c===!1&&c.readyState>=c.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(c,tt){super({width:c,height:tt}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(c,tt,nt,rt,it,st,at,ot,lt,ct,dt,ht){super(null,st,at,ot,lt,ct,rt,it,dt,ht),this.isCompressedTexture=!0,this.image={width:tt,height:nt},this.mipmaps=c,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(c,tt,nt,rt,it,st){super(c,tt,nt,it,st),this.isCompressedArrayTexture=!0,this.image.depth=rt,this.wrapR=ClampToEdgeWrapping,this.layerUpdates=new Set}addLayerUpdate(c){this.layerUpdates.add(c)}clearLayerUpdates(){this.layerUpdates.clear()}}class CompressedCubeTexture extends CompressedTexture{constructor(c,tt,nt){super(void 0,c[0].width,c[0].height,tt,nt,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=c}}class CanvasTexture extends Texture{constructor(c,tt,nt,rt,it,st,at,ot,lt){super(c,tt,nt,rt,it,st,at,ot,lt),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(c,tt){const nt=this.getUtoTmapping(c);return this.getPoint(nt,tt)}getPoints(c=5){const tt=[];for(let nt=0;nt<=c;nt++)tt.push(this.getPoint(nt/c));return tt}getSpacedPoints(c=5){const tt=[];for(let nt=0;nt<=c;nt++)tt.push(this.getPointAt(nt/c));return tt}getLength(){const c=this.getLengths();return c[c.length-1]}getLengths(c=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===c+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const tt=[];let nt,rt=this.getPoint(0),it=0;tt.push(0);for(let st=1;st<=c;st++)nt=this.getPoint(st/c),it+=nt.distanceTo(rt),tt.push(it),rt=nt;return this.cacheArcLengths=tt,tt}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(c,tt){const nt=this.getLengths();let rt=0;const it=nt.length;let st;tt?st=tt:st=c*nt[it-1];let at=0,ot=it-1,lt;for(;at<=ot;)if(rt=Math.floor(at+(ot-at)/2),lt=nt[rt]-st,lt<0)at=rt+1;else if(lt>0)ot=rt-1;else{ot=rt;break}if(rt=ot,nt[rt]===st)return rt/(it-1);const ct=nt[rt],ht=nt[rt+1]-ct,mt=(st-ct)/ht;return(rt+mt)/(it-1)}getTangent(c,tt){let rt=c-1e-4,it=c+1e-4;rt<0&&(rt=0),it>1&&(it=1);const st=this.getPoint(rt),at=this.getPoint(it),ot=tt||(st.isVector2?new Vector2:new Vector3);return ot.copy(at).sub(st).normalize(),ot}getTangentAt(c,tt){const nt=this.getUtoTmapping(c);return this.getTangent(nt,tt)}computeFrenetFrames(c,tt){const nt=new Vector3,rt=[],it=[],st=[],at=new Vector3,ot=new Matrix4;for(let mt=0;mt<=c;mt++){const gt=mt/c;rt[mt]=this.getTangentAt(gt,new Vector3)}it[0]=new Vector3,st[0]=new Vector3;let lt=Number.MAX_VALUE;const ct=Math.abs(rt[0].x),dt=Math.abs(rt[0].y),ht=Math.abs(rt[0].z);ct<=lt&&(lt=ct,nt.set(1,0,0)),dt<=lt&&(lt=dt,nt.set(0,1,0)),ht<=lt&&nt.set(0,0,1),at.crossVectors(rt[0],nt).normalize(),it[0].crossVectors(rt[0],at),st[0].crossVectors(rt[0],it[0]);for(let mt=1;mt<=c;mt++){if(it[mt]=it[mt-1].clone(),st[mt]=st[mt-1].clone(),at.crossVectors(rt[mt-1],rt[mt]),at.length()>Number.EPSILON){at.normalize();const gt=Math.acos(clamp(rt[mt-1].dot(rt[mt]),-1,1));it[mt].applyMatrix4(ot.makeRotationAxis(at,gt))}st[mt].crossVectors(rt[mt],it[mt])}if(tt===!0){let mt=Math.acos(clamp(it[0].dot(it[c]),-1,1));mt/=c,rt[0].dot(at.crossVectors(it[0],it[c]))>0&&(mt=-mt);for(let gt=1;gt<=c;gt++)it[gt].applyMatrix4(ot.makeRotationAxis(rt[gt],mt*gt)),st[gt].crossVectors(rt[gt],it[gt])}return{tangents:rt,normals:it,binormals:st}}clone(){return new this.constructor().copy(this)}copy(c){return this.arcLengthDivisions=c.arcLengthDivisions,this}toJSON(){const c={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return c.arcLengthDivisions=this.arcLengthDivisions,c.type=this.type,c}fromJSON(c){return this.arcLengthDivisions=c.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(c=0,tt=0,nt=1,rt=1,it=0,st=Math.PI*2,at=!1,ot=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=c,this.aY=tt,this.xRadius=nt,this.yRadius=rt,this.aStartAngle=it,this.aEndAngle=st,this.aClockwise=at,this.aRotation=ot}getPoint(c,tt=new Vector2){const nt=tt,rt=Math.PI*2;let it=this.aEndAngle-this.aStartAngle;const st=Math.abs(it)<Number.EPSILON;for(;it<0;)it+=rt;for(;it>rt;)it-=rt;it<Number.EPSILON&&(st?it=0:it=rt),this.aClockwise===!0&&!st&&(it===rt?it=-rt:it=it-rt);const at=this.aStartAngle+c*it;let ot=this.aX+this.xRadius*Math.cos(at),lt=this.aY+this.yRadius*Math.sin(at);if(this.aRotation!==0){const ct=Math.cos(this.aRotation),dt=Math.sin(this.aRotation),ht=ot-this.aX,mt=lt-this.aY;ot=ht*ct-mt*dt+this.aX,lt=ht*dt+mt*ct+this.aY}return nt.set(ot,lt)}copy(c){return super.copy(c),this.aX=c.aX,this.aY=c.aY,this.xRadius=c.xRadius,this.yRadius=c.yRadius,this.aStartAngle=c.aStartAngle,this.aEndAngle=c.aEndAngle,this.aClockwise=c.aClockwise,this.aRotation=c.aRotation,this}toJSON(){const c=super.toJSON();return c.aX=this.aX,c.aY=this.aY,c.xRadius=this.xRadius,c.yRadius=this.yRadius,c.aStartAngle=this.aStartAngle,c.aEndAngle=this.aEndAngle,c.aClockwise=this.aClockwise,c.aRotation=this.aRotation,c}fromJSON(c){return super.fromJSON(c),this.aX=c.aX,this.aY=c.aY,this.xRadius=c.xRadius,this.yRadius=c.yRadius,this.aStartAngle=c.aStartAngle,this.aEndAngle=c.aEndAngle,this.aClockwise=c.aClockwise,this.aRotation=c.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(c,tt,nt,rt,it,st){super(c,tt,nt,nt,rt,it,st),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let et=0,c=0,tt=0,nt=0;function rt(it,st,at,ot){et=it,c=at,tt=-3*it+3*st-2*at-ot,nt=2*it-2*st+at+ot}return{initCatmullRom:function(it,st,at,ot,lt){rt(st,at,lt*(at-it),lt*(ot-st))},initNonuniformCatmullRom:function(it,st,at,ot,lt,ct,dt){let ht=(st-it)/lt-(at-it)/(lt+ct)+(at-st)/ct,mt=(at-st)/ct-(ot-st)/(ct+dt)+(ot-at)/dt;ht*=ct,mt*=ct,rt(st,at,ht,mt)},calc:function(it){const st=it*it,at=st*it;return et+c*it+tt*st+nt*at}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(c=[],tt=!1,nt="centripetal",rt=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=c,this.closed=tt,this.curveType=nt,this.tension=rt}getPoint(c,tt=new Vector3){const nt=tt,rt=this.points,it=rt.length,st=(it-(this.closed?0:1))*c;let at=Math.floor(st),ot=st-at;this.closed?at+=at>0?0:(Math.floor(Math.abs(at)/it)+1)*it:ot===0&&at===it-1&&(at=it-2,ot=1);let lt,ct;this.closed||at>0?lt=rt[(at-1)%it]:(tmp.subVectors(rt[0],rt[1]).add(rt[0]),lt=tmp);const dt=rt[at%it],ht=rt[(at+1)%it];if(this.closed||at+2<it?ct=rt[(at+2)%it]:(tmp.subVectors(rt[it-1],rt[it-2]).add(rt[it-1]),ct=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const mt=this.curveType==="chordal"?.5:.25;let gt=Math.pow(lt.distanceToSquared(dt),mt),yt=Math.pow(dt.distanceToSquared(ht),mt),_t=Math.pow(ht.distanceToSquared(ct),mt);yt<1e-4&&(yt=1),gt<1e-4&&(gt=yt),_t<1e-4&&(_t=yt),px.initNonuniformCatmullRom(lt.x,dt.x,ht.x,ct.x,gt,yt,_t),py.initNonuniformCatmullRom(lt.y,dt.y,ht.y,ct.y,gt,yt,_t),pz.initNonuniformCatmullRom(lt.z,dt.z,ht.z,ct.z,gt,yt,_t)}else this.curveType==="catmullrom"&&(px.initCatmullRom(lt.x,dt.x,ht.x,ct.x,this.tension),py.initCatmullRom(lt.y,dt.y,ht.y,ct.y,this.tension),pz.initCatmullRom(lt.z,dt.z,ht.z,ct.z,this.tension));return nt.set(px.calc(ot),py.calc(ot),pz.calc(ot)),nt}copy(c){super.copy(c),this.points=[];for(let tt=0,nt=c.points.length;tt<nt;tt++){const rt=c.points[tt];this.points.push(rt.clone())}return this.closed=c.closed,this.curveType=c.curveType,this.tension=c.tension,this}toJSON(){const c=super.toJSON();c.points=[];for(let tt=0,nt=this.points.length;tt<nt;tt++){const rt=this.points[tt];c.points.push(rt.toArray())}return c.closed=this.closed,c.curveType=this.curveType,c.tension=this.tension,c}fromJSON(c){super.fromJSON(c),this.points=[];for(let tt=0,nt=c.points.length;tt<nt;tt++){const rt=c.points[tt];this.points.push(new Vector3().fromArray(rt))}return this.closed=c.closed,this.curveType=c.curveType,this.tension=c.tension,this}}function CatmullRom(et,c,tt,nt,rt){const it=(nt-c)*.5,st=(rt-tt)*.5,at=et*et,ot=et*at;return(2*tt-2*nt+it+st)*ot+(-3*tt+3*nt-2*it-st)*at+it*et+tt}function QuadraticBezierP0(et,c){const tt=1-et;return tt*tt*c}function QuadraticBezierP1(et,c){return 2*(1-et)*et*c}function QuadraticBezierP2(et,c){return et*et*c}function QuadraticBezier(et,c,tt,nt){return QuadraticBezierP0(et,c)+QuadraticBezierP1(et,tt)+QuadraticBezierP2(et,nt)}function CubicBezierP0(et,c){const tt=1-et;return tt*tt*tt*c}function CubicBezierP1(et,c){const tt=1-et;return 3*tt*tt*et*c}function CubicBezierP2(et,c){return 3*(1-et)*et*et*c}function CubicBezierP3(et,c){return et*et*et*c}function CubicBezier(et,c,tt,nt,rt){return CubicBezierP0(et,c)+CubicBezierP1(et,tt)+CubicBezierP2(et,nt)+CubicBezierP3(et,rt)}class CubicBezierCurve extends Curve{constructor(c=new Vector2,tt=new Vector2,nt=new Vector2,rt=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=c,this.v1=tt,this.v2=nt,this.v3=rt}getPoint(c,tt=new Vector2){const nt=tt,rt=this.v0,it=this.v1,st=this.v2,at=this.v3;return nt.set(CubicBezier(c,rt.x,it.x,st.x,at.x),CubicBezier(c,rt.y,it.y,st.y,at.y)),nt}copy(c){return super.copy(c),this.v0.copy(c.v0),this.v1.copy(c.v1),this.v2.copy(c.v2),this.v3.copy(c.v3),this}toJSON(){const c=super.toJSON();return c.v0=this.v0.toArray(),c.v1=this.v1.toArray(),c.v2=this.v2.toArray(),c.v3=this.v3.toArray(),c}fromJSON(c){return super.fromJSON(c),this.v0.fromArray(c.v0),this.v1.fromArray(c.v1),this.v2.fromArray(c.v2),this.v3.fromArray(c.v3),this}}class CubicBezierCurve3 extends Curve{constructor(c=new Vector3,tt=new Vector3,nt=new Vector3,rt=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=c,this.v1=tt,this.v2=nt,this.v3=rt}getPoint(c,tt=new Vector3){const nt=tt,rt=this.v0,it=this.v1,st=this.v2,at=this.v3;return nt.set(CubicBezier(c,rt.x,it.x,st.x,at.x),CubicBezier(c,rt.y,it.y,st.y,at.y),CubicBezier(c,rt.z,it.z,st.z,at.z)),nt}copy(c){return super.copy(c),this.v0.copy(c.v0),this.v1.copy(c.v1),this.v2.copy(c.v2),this.v3.copy(c.v3),this}toJSON(){const c=super.toJSON();return c.v0=this.v0.toArray(),c.v1=this.v1.toArray(),c.v2=this.v2.toArray(),c.v3=this.v3.toArray(),c}fromJSON(c){return super.fromJSON(c),this.v0.fromArray(c.v0),this.v1.fromArray(c.v1),this.v2.fromArray(c.v2),this.v3.fromArray(c.v3),this}}class LineCurve extends Curve{constructor(c=new Vector2,tt=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=c,this.v2=tt}getPoint(c,tt=new Vector2){const nt=tt;return c===1?nt.copy(this.v2):(nt.copy(this.v2).sub(this.v1),nt.multiplyScalar(c).add(this.v1)),nt}getPointAt(c,tt){return this.getPoint(c,tt)}getTangent(c,tt=new Vector2){return tt.subVectors(this.v2,this.v1).normalize()}getTangentAt(c,tt){return this.getTangent(c,tt)}copy(c){return super.copy(c),this.v1.copy(c.v1),this.v2.copy(c.v2),this}toJSON(){const c=super.toJSON();return c.v1=this.v1.toArray(),c.v2=this.v2.toArray(),c}fromJSON(c){return super.fromJSON(c),this.v1.fromArray(c.v1),this.v2.fromArray(c.v2),this}}class LineCurve3 extends Curve{constructor(c=new Vector3,tt=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=c,this.v2=tt}getPoint(c,tt=new Vector3){const nt=tt;return c===1?nt.copy(this.v2):(nt.copy(this.v2).sub(this.v1),nt.multiplyScalar(c).add(this.v1)),nt}getPointAt(c,tt){return this.getPoint(c,tt)}getTangent(c,tt=new Vector3){return tt.subVectors(this.v2,this.v1).normalize()}getTangentAt(c,tt){return this.getTangent(c,tt)}copy(c){return super.copy(c),this.v1.copy(c.v1),this.v2.copy(c.v2),this}toJSON(){const c=super.toJSON();return c.v1=this.v1.toArray(),c.v2=this.v2.toArray(),c}fromJSON(c){return super.fromJSON(c),this.v1.fromArray(c.v1),this.v2.fromArray(c.v2),this}}class QuadraticBezierCurve extends Curve{constructor(c=new Vector2,tt=new Vector2,nt=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=c,this.v1=tt,this.v2=nt}getPoint(c,tt=new Vector2){const nt=tt,rt=this.v0,it=this.v1,st=this.v2;return nt.set(QuadraticBezier(c,rt.x,it.x,st.x),QuadraticBezier(c,rt.y,it.y,st.y)),nt}copy(c){return super.copy(c),this.v0.copy(c.v0),this.v1.copy(c.v1),this.v2.copy(c.v2),this}toJSON(){const c=super.toJSON();return c.v0=this.v0.toArray(),c.v1=this.v1.toArray(),c.v2=this.v2.toArray(),c}fromJSON(c){return super.fromJSON(c),this.v0.fromArray(c.v0),this.v1.fromArray(c.v1),this.v2.fromArray(c.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(c=new Vector3,tt=new Vector3,nt=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=c,this.v1=tt,this.v2=nt}getPoint(c,tt=new Vector3){const nt=tt,rt=this.v0,it=this.v1,st=this.v2;return nt.set(QuadraticBezier(c,rt.x,it.x,st.x),QuadraticBezier(c,rt.y,it.y,st.y),QuadraticBezier(c,rt.z,it.z,st.z)),nt}copy(c){return super.copy(c),this.v0.copy(c.v0),this.v1.copy(c.v1),this.v2.copy(c.v2),this}toJSON(){const c=super.toJSON();return c.v0=this.v0.toArray(),c.v1=this.v1.toArray(),c.v2=this.v2.toArray(),c}fromJSON(c){return super.fromJSON(c),this.v0.fromArray(c.v0),this.v1.fromArray(c.v1),this.v2.fromArray(c.v2),this}}class SplineCurve extends Curve{constructor(c=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=c}getPoint(c,tt=new Vector2){const nt=tt,rt=this.points,it=(rt.length-1)*c,st=Math.floor(it),at=it-st,ot=rt[st===0?st:st-1],lt=rt[st],ct=rt[st>rt.length-2?rt.length-1:st+1],dt=rt[st>rt.length-3?rt.length-1:st+2];return nt.set(CatmullRom(at,ot.x,lt.x,ct.x,dt.x),CatmullRom(at,ot.y,lt.y,ct.y,dt.y)),nt}copy(c){super.copy(c),this.points=[];for(let tt=0,nt=c.points.length;tt<nt;tt++){const rt=c.points[tt];this.points.push(rt.clone())}return this}toJSON(){const c=super.toJSON();c.points=[];for(let tt=0,nt=this.points.length;tt<nt;tt++){const rt=this.points[tt];c.points.push(rt.toArray())}return c}fromJSON(c){super.fromJSON(c),this.points=[];for(let tt=0,nt=c.points.length;tt<nt;tt++){const rt=c.points[tt];this.points.push(new Vector2().fromArray(rt))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(c){this.curves.push(c)}closePath(){const c=this.curves[0].getPoint(0),tt=this.curves[this.curves.length-1].getPoint(1);if(!c.equals(tt)){const nt=c.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[nt](tt,c))}return this}getPoint(c,tt){const nt=c*this.getLength(),rt=this.getCurveLengths();let it=0;for(;it<rt.length;){if(rt[it]>=nt){const st=rt[it]-nt,at=this.curves[it],ot=at.getLength(),lt=ot===0?0:1-st/ot;return at.getPointAt(lt,tt)}it++}return null}getLength(){const c=this.getCurveLengths();return c[c.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const c=[];let tt=0;for(let nt=0,rt=this.curves.length;nt<rt;nt++)tt+=this.curves[nt].getLength(),c.push(tt);return this.cacheLengths=c,c}getSpacedPoints(c=40){const tt=[];for(let nt=0;nt<=c;nt++)tt.push(this.getPoint(nt/c));return this.autoClose&&tt.push(tt[0]),tt}getPoints(c=12){const tt=[];let nt;for(let rt=0,it=this.curves;rt<it.length;rt++){const st=it[rt],at=st.isEllipseCurve?c*2:st.isLineCurve||st.isLineCurve3?1:st.isSplineCurve?c*st.points.length:c,ot=st.getPoints(at);for(let lt=0;lt<ot.length;lt++){const ct=ot[lt];nt&&nt.equals(ct)||(tt.push(ct),nt=ct)}}return this.autoClose&&tt.length>1&&!tt[tt.length-1].equals(tt[0])&&tt.push(tt[0]),tt}copy(c){super.copy(c),this.curves=[];for(let tt=0,nt=c.curves.length;tt<nt;tt++){const rt=c.curves[tt];this.curves.push(rt.clone())}return this.autoClose=c.autoClose,this}toJSON(){const c=super.toJSON();c.autoClose=this.autoClose,c.curves=[];for(let tt=0,nt=this.curves.length;tt<nt;tt++){const rt=this.curves[tt];c.curves.push(rt.toJSON())}return c}fromJSON(c){super.fromJSON(c),this.autoClose=c.autoClose,this.curves=[];for(let tt=0,nt=c.curves.length;tt<nt;tt++){const rt=c.curves[tt];this.curves.push(new Curves[rt.type]().fromJSON(rt))}return this}}class Path extends CurvePath{constructor(c){super(),this.type="Path",this.currentPoint=new Vector2,c&&this.setFromPoints(c)}setFromPoints(c){this.moveTo(c[0].x,c[0].y);for(let tt=1,nt=c.length;tt<nt;tt++)this.lineTo(c[tt].x,c[tt].y);return this}moveTo(c,tt){return this.currentPoint.set(c,tt),this}lineTo(c,tt){const nt=new LineCurve(this.currentPoint.clone(),new Vector2(c,tt));return this.curves.push(nt),this.currentPoint.set(c,tt),this}quadraticCurveTo(c,tt,nt,rt){const it=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(c,tt),new Vector2(nt,rt));return this.curves.push(it),this.currentPoint.set(nt,rt),this}bezierCurveTo(c,tt,nt,rt,it,st){const at=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(c,tt),new Vector2(nt,rt),new Vector2(it,st));return this.curves.push(at),this.currentPoint.set(it,st),this}splineThru(c){const tt=[this.currentPoint.clone()].concat(c),nt=new SplineCurve(tt);return this.curves.push(nt),this.currentPoint.copy(c[c.length-1]),this}arc(c,tt,nt,rt,it,st){const at=this.currentPoint.x,ot=this.currentPoint.y;return this.absarc(c+at,tt+ot,nt,rt,it,st),this}absarc(c,tt,nt,rt,it,st){return this.absellipse(c,tt,nt,nt,rt,it,st),this}ellipse(c,tt,nt,rt,it,st,at,ot){const lt=this.currentPoint.x,ct=this.currentPoint.y;return this.absellipse(c+lt,tt+ct,nt,rt,it,st,at,ot),this}absellipse(c,tt,nt,rt,it,st,at,ot){const lt=new EllipseCurve(c,tt,nt,rt,it,st,at,ot);if(this.curves.length>0){const dt=lt.getPoint(0);dt.equals(this.currentPoint)||this.lineTo(dt.x,dt.y)}this.curves.push(lt);const ct=lt.getPoint(1);return this.currentPoint.copy(ct),this}copy(c){return super.copy(c),this.currentPoint.copy(c.currentPoint),this}toJSON(){const c=super.toJSON();return c.currentPoint=this.currentPoint.toArray(),c}fromJSON(c){return super.fromJSON(c),this.currentPoint.fromArray(c.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(c=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],tt=12,nt=0,rt=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:c,segments:tt,phiStart:nt,phiLength:rt},tt=Math.floor(tt),rt=clamp(rt,0,Math.PI*2);const it=[],st=[],at=[],ot=[],lt=[],ct=1/tt,dt=new Vector3,ht=new Vector2,mt=new Vector3,gt=new Vector3,yt=new Vector3;let _t=0,pt=0;for(let xt=0;xt<=c.length-1;xt++)switch(xt){case 0:_t=c[xt+1].x-c[xt].x,pt=c[xt+1].y-c[xt].y,mt.x=pt*1,mt.y=-_t,mt.z=pt*0,yt.copy(mt),mt.normalize(),ot.push(mt.x,mt.y,mt.z);break;case c.length-1:ot.push(yt.x,yt.y,yt.z);break;default:_t=c[xt+1].x-c[xt].x,pt=c[xt+1].y-c[xt].y,mt.x=pt*1,mt.y=-_t,mt.z=pt*0,gt.copy(mt),mt.x+=yt.x,mt.y+=yt.y,mt.z+=yt.z,mt.normalize(),ot.push(mt.x,mt.y,mt.z),yt.copy(gt)}for(let xt=0;xt<=tt;xt++){const vt=nt+xt*ct*rt,St=Math.sin(vt),wt=Math.cos(vt);for(let Mt=0;Mt<=c.length-1;Mt++){dt.x=c[Mt].x*St,dt.y=c[Mt].y,dt.z=c[Mt].x*wt,st.push(dt.x,dt.y,dt.z),ht.x=xt/tt,ht.y=Mt/(c.length-1),at.push(ht.x,ht.y);const Ct=ot[3*Mt+0]*St,Rt=ot[3*Mt+1],Lt=ot[3*Mt+0]*wt;lt.push(Ct,Rt,Lt)}}for(let xt=0;xt<tt;xt++)for(let vt=0;vt<c.length-1;vt++){const St=vt+xt*c.length,wt=St,Mt=St+c.length,Ct=St+c.length+1,Rt=St+1;it.push(wt,Mt,Rt),it.push(Ct,Rt,Mt)}this.setIndex(it),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("uv",new Float32BufferAttribute(at,2)),this.setAttribute("normal",new Float32BufferAttribute(lt,3))}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}static fromJSON(c){return new LatheGeometry(c.points,c.segments,c.phiStart,c.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(c=1,tt=1,nt=4,rt=8){const it=new Path;it.absarc(0,-tt/2,c,Math.PI*1.5,0),it.absarc(0,tt/2,c,0,Math.PI*.5),super(it.getPoints(nt),rt),this.type="CapsuleGeometry",this.parameters={radius:c,length:tt,capSegments:nt,radialSegments:rt}}static fromJSON(c){return new CapsuleGeometry(c.radius,c.length,c.capSegments,c.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(c=1,tt=32,nt=0,rt=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:c,segments:tt,thetaStart:nt,thetaLength:rt},tt=Math.max(3,tt);const it=[],st=[],at=[],ot=[],lt=new Vector3,ct=new Vector2;st.push(0,0,0),at.push(0,0,1),ot.push(.5,.5);for(let dt=0,ht=3;dt<=tt;dt++,ht+=3){const mt=nt+dt/tt*rt;lt.x=c*Math.cos(mt),lt.y=c*Math.sin(mt),st.push(lt.x,lt.y,lt.z),at.push(0,0,1),ct.x=(st[ht]/c+1)/2,ct.y=(st[ht+1]/c+1)/2,ot.push(ct.x,ct.y)}for(let dt=1;dt<=tt;dt++)it.push(dt,dt+1,0);this.setIndex(it),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2))}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}static fromJSON(c){return new CircleGeometry(c.radius,c.segments,c.thetaStart,c.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(c=1,tt=1,nt=1,rt=32,it=1,st=!1,at=0,ot=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:c,radiusBottom:tt,height:nt,radialSegments:rt,heightSegments:it,openEnded:st,thetaStart:at,thetaLength:ot};const lt=this;rt=Math.floor(rt),it=Math.floor(it);const ct=[],dt=[],ht=[],mt=[];let gt=0;const yt=[],_t=nt/2;let pt=0;xt(),st===!1&&(c>0&&vt(!0),tt>0&&vt(!1)),this.setIndex(ct),this.setAttribute("position",new Float32BufferAttribute(dt,3)),this.setAttribute("normal",new Float32BufferAttribute(ht,3)),this.setAttribute("uv",new Float32BufferAttribute(mt,2));function xt(){const St=new Vector3,wt=new Vector3;let Mt=0;const Ct=(tt-c)/nt;for(let Rt=0;Rt<=it;Rt++){const Lt=[],It=Rt/it,Nt=It*(tt-c)+c;for(let zt=0;zt<=rt;zt++){const Wt=zt/rt,Yt=Wt*ot+at,Xt=Math.sin(Yt),Ft=Math.cos(Yt);wt.x=Nt*Xt,wt.y=-It*nt+_t,wt.z=Nt*Ft,dt.push(wt.x,wt.y,wt.z),St.set(Xt,Ct,Ft).normalize(),ht.push(St.x,St.y,St.z),mt.push(Wt,1-It),Lt.push(gt++)}yt.push(Lt)}for(let Rt=0;Rt<rt;Rt++)for(let Lt=0;Lt<it;Lt++){const It=yt[Lt][Rt],Nt=yt[Lt+1][Rt],zt=yt[Lt+1][Rt+1],Wt=yt[Lt][Rt+1];ct.push(It,Nt,Wt),ct.push(Nt,zt,Wt),Mt+=6}lt.addGroup(pt,Mt,0),pt+=Mt}function vt(St){const wt=gt,Mt=new Vector2,Ct=new Vector3;let Rt=0;const Lt=St===!0?c:tt,It=St===!0?1:-1;for(let zt=1;zt<=rt;zt++)dt.push(0,_t*It,0),ht.push(0,It,0),mt.push(.5,.5),gt++;const Nt=gt;for(let zt=0;zt<=rt;zt++){const Yt=zt/rt*ot+at,Xt=Math.cos(Yt),Ft=Math.sin(Yt);Ct.x=Lt*Ft,Ct.y=_t*It,Ct.z=Lt*Xt,dt.push(Ct.x,Ct.y,Ct.z),ht.push(0,It,0),Mt.x=Xt*.5+.5,Mt.y=Ft*.5*It+.5,mt.push(Mt.x,Mt.y),gt++}for(let zt=0;zt<rt;zt++){const Wt=wt+zt,Yt=Nt+zt;St===!0?ct.push(Yt,Yt+1,Wt):ct.push(Yt+1,Yt,Wt),Rt+=3}lt.addGroup(pt,Rt,St===!0?1:2),pt+=Rt}}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}static fromJSON(c){return new CylinderGeometry(c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(c=1,tt=1,nt=32,rt=1,it=!1,st=0,at=Math.PI*2){super(0,c,tt,nt,rt,it,st,at),this.type="ConeGeometry",this.parameters={radius:c,height:tt,radialSegments:nt,heightSegments:rt,openEnded:it,thetaStart:st,thetaLength:at}}static fromJSON(c){return new ConeGeometry(c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(c=[],tt=[],nt=1,rt=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:c,indices:tt,radius:nt,detail:rt};const it=[],st=[];at(rt),lt(nt),ct(),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(it.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(st,2)),rt===0?this.computeVertexNormals():this.normalizeNormals();function at(xt){const vt=new Vector3,St=new Vector3,wt=new Vector3;for(let Mt=0;Mt<tt.length;Mt+=3)mt(tt[Mt+0],vt),mt(tt[Mt+1],St),mt(tt[Mt+2],wt),ot(vt,St,wt,xt)}function ot(xt,vt,St,wt){const Mt=wt+1,Ct=[];for(let Rt=0;Rt<=Mt;Rt++){Ct[Rt]=[];const Lt=xt.clone().lerp(St,Rt/Mt),It=vt.clone().lerp(St,Rt/Mt),Nt=Mt-Rt;for(let zt=0;zt<=Nt;zt++)zt===0&&Rt===Mt?Ct[Rt][zt]=Lt:Ct[Rt][zt]=Lt.clone().lerp(It,zt/Nt)}for(let Rt=0;Rt<Mt;Rt++)for(let Lt=0;Lt<2*(Mt-Rt)-1;Lt++){const It=Math.floor(Lt/2);Lt%2===0?(ht(Ct[Rt][It+1]),ht(Ct[Rt+1][It]),ht(Ct[Rt][It])):(ht(Ct[Rt][It+1]),ht(Ct[Rt+1][It+1]),ht(Ct[Rt+1][It]))}}function lt(xt){const vt=new Vector3;for(let St=0;St<it.length;St+=3)vt.x=it[St+0],vt.y=it[St+1],vt.z=it[St+2],vt.normalize().multiplyScalar(xt),it[St+0]=vt.x,it[St+1]=vt.y,it[St+2]=vt.z}function ct(){const xt=new Vector3;for(let vt=0;vt<it.length;vt+=3){xt.x=it[vt+0],xt.y=it[vt+1],xt.z=it[vt+2];const St=_t(xt)/2/Math.PI+.5,wt=pt(xt)/Math.PI+.5;st.push(St,1-wt)}gt(),dt()}function dt(){for(let xt=0;xt<st.length;xt+=6){const vt=st[xt+0],St=st[xt+2],wt=st[xt+4],Mt=Math.max(vt,St,wt),Ct=Math.min(vt,St,wt);Mt>.9&&Ct<.1&&(vt<.2&&(st[xt+0]+=1),St<.2&&(st[xt+2]+=1),wt<.2&&(st[xt+4]+=1))}}function ht(xt){it.push(xt.x,xt.y,xt.z)}function mt(xt,vt){const St=xt*3;vt.x=c[St+0],vt.y=c[St+1],vt.z=c[St+2]}function gt(){const xt=new Vector3,vt=new Vector3,St=new Vector3,wt=new Vector3,Mt=new Vector2,Ct=new Vector2,Rt=new Vector2;for(let Lt=0,It=0;Lt<it.length;Lt+=9,It+=6){xt.set(it[Lt+0],it[Lt+1],it[Lt+2]),vt.set(it[Lt+3],it[Lt+4],it[Lt+5]),St.set(it[Lt+6],it[Lt+7],it[Lt+8]),Mt.set(st[It+0],st[It+1]),Ct.set(st[It+2],st[It+3]),Rt.set(st[It+4],st[It+5]),wt.copy(xt).add(vt).add(St).divideScalar(3);const Nt=_t(wt);yt(Mt,It+0,xt,Nt),yt(Ct,It+2,vt,Nt),yt(Rt,It+4,St,Nt)}}function yt(xt,vt,St,wt){wt<0&&xt.x===1&&(st[vt]=xt.x-1),St.x===0&&St.z===0&&(st[vt]=wt/2/Math.PI+.5)}function _t(xt){return Math.atan2(xt.z,-xt.x)}function pt(xt){return Math.atan2(-xt.y,Math.sqrt(xt.x*xt.x+xt.z*xt.z))}}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}static fromJSON(c){return new PolyhedronGeometry(c.vertices,c.indices,c.radius,c.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(c=1,tt=0){const nt=(1+Math.sqrt(5))/2,rt=1/nt,it=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-rt,-nt,0,-rt,nt,0,rt,-nt,0,rt,nt,-rt,-nt,0,-rt,nt,0,rt,-nt,0,rt,nt,0,-nt,0,-rt,nt,0,-rt,-nt,0,rt,nt,0,rt],st=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(it,st,c,tt),this.type="DodecahedronGeometry",this.parameters={radius:c,detail:tt}}static fromJSON(c){return new DodecahedronGeometry(c.radius,c.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(c=null,tt=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:c,thresholdAngle:tt},c!==null){const rt=Math.pow(10,4),it=Math.cos(DEG2RAD*tt),st=c.getIndex(),at=c.getAttribute("position"),ot=st?st.count:at.count,lt=[0,0,0],ct=["a","b","c"],dt=new Array(3),ht={},mt=[];for(let gt=0;gt<ot;gt+=3){st?(lt[0]=st.getX(gt),lt[1]=st.getX(gt+1),lt[2]=st.getX(gt+2)):(lt[0]=gt,lt[1]=gt+1,lt[2]=gt+2);const{a:yt,b:_t,c:pt}=_triangle;if(yt.fromBufferAttribute(at,lt[0]),_t.fromBufferAttribute(at,lt[1]),pt.fromBufferAttribute(at,lt[2]),_triangle.getNormal(_normal),dt[0]=`${Math.round(yt.x*rt)},${Math.round(yt.y*rt)},${Math.round(yt.z*rt)}`,dt[1]=`${Math.round(_t.x*rt)},${Math.round(_t.y*rt)},${Math.round(_t.z*rt)}`,dt[2]=`${Math.round(pt.x*rt)},${Math.round(pt.y*rt)},${Math.round(pt.z*rt)}`,!(dt[0]===dt[1]||dt[1]===dt[2]||dt[2]===dt[0]))for(let xt=0;xt<3;xt++){const vt=(xt+1)%3,St=dt[xt],wt=dt[vt],Mt=_triangle[ct[xt]],Ct=_triangle[ct[vt]],Rt=`${St}_${wt}`,Lt=`${wt}_${St}`;Lt in ht&&ht[Lt]?(_normal.dot(ht[Lt].normal)<=it&&(mt.push(Mt.x,Mt.y,Mt.z),mt.push(Ct.x,Ct.y,Ct.z)),ht[Lt]=null):Rt in ht||(ht[Rt]={index0:lt[xt],index1:lt[vt],normal:_normal.clone()})}}for(const gt in ht)if(ht[gt]){const{index0:yt,index1:_t}=ht[gt];_v0.fromBufferAttribute(at,yt),_v1$1.fromBufferAttribute(at,_t),mt.push(_v0.x,_v0.y,_v0.z),mt.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(mt,3))}}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}}class Shape extends Path{constructor(c){super(c),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(c){const tt=[];for(let nt=0,rt=this.holes.length;nt<rt;nt++)tt[nt]=this.holes[nt].getPoints(c);return tt}extractPoints(c){return{shape:this.getPoints(c),holes:this.getPointsHoles(c)}}copy(c){super.copy(c),this.holes=[];for(let tt=0,nt=c.holes.length;tt<nt;tt++){const rt=c.holes[tt];this.holes.push(rt.clone())}return this}toJSON(){const c=super.toJSON();c.uuid=this.uuid,c.holes=[];for(let tt=0,nt=this.holes.length;tt<nt;tt++){const rt=this.holes[tt];c.holes.push(rt.toJSON())}return c}fromJSON(c){super.fromJSON(c),this.uuid=c.uuid,this.holes=[];for(let tt=0,nt=c.holes.length;tt<nt;tt++){const rt=c.holes[tt];this.holes.push(new Path().fromJSON(rt))}return this}}const Earcut={triangulate:function(et,c,tt=2){const nt=c&&c.length,rt=nt?c[0]*tt:et.length;let it=linkedList(et,0,rt,tt,!0);const st=[];if(!it||it.next===it.prev)return st;let at,ot,lt,ct,dt,ht,mt;if(nt&&(it=eliminateHoles(et,c,it,tt)),et.length>80*tt){at=lt=et[0],ot=ct=et[1];for(let gt=tt;gt<rt;gt+=tt)dt=et[gt],ht=et[gt+1],dt<at&&(at=dt),ht<ot&&(ot=ht),dt>lt&&(lt=dt),ht>ct&&(ct=ht);mt=Math.max(lt-at,ct-ot),mt=mt!==0?32767/mt:0}return earcutLinked(it,st,tt,at,ot,mt,0),st}};function linkedList(et,c,tt,nt,rt){let it,st;if(rt===signedArea(et,c,tt,nt)>0)for(it=c;it<tt;it+=nt)st=insertNode(it,et[it],et[it+1],st);else for(it=tt-nt;it>=c;it-=nt)st=insertNode(it,et[it],et[it+1],st);return st&&equals(st,st.next)&&(removeNode(st),st=st.next),st}function filterPoints(et,c){if(!et)return et;c||(c=et);let tt=et,nt;do if(nt=!1,!tt.steiner&&(equals(tt,tt.next)||area(tt.prev,tt,tt.next)===0)){if(removeNode(tt),tt=c=tt.prev,tt===tt.next)break;nt=!0}else tt=tt.next;while(nt||tt!==c);return c}function earcutLinked(et,c,tt,nt,rt,it,st){if(!et)return;!st&&it&&indexCurve(et,nt,rt,it);let at=et,ot,lt;for(;et.prev!==et.next;){if(ot=et.prev,lt=et.next,it?isEarHashed(et,nt,rt,it):isEar(et)){c.push(ot.i/tt|0),c.push(et.i/tt|0),c.push(lt.i/tt|0),removeNode(et),et=lt.next,at=lt.next;continue}if(et=lt,et===at){st?st===1?(et=cureLocalIntersections(filterPoints(et),c,tt),earcutLinked(et,c,tt,nt,rt,it,2)):st===2&&splitEarcut(et,c,tt,nt,rt,it):earcutLinked(filterPoints(et),c,tt,nt,rt,it,1);break}}}function isEar(et){const c=et.prev,tt=et,nt=et.next;if(area(c,tt,nt)>=0)return!1;const rt=c.x,it=tt.x,st=nt.x,at=c.y,ot=tt.y,lt=nt.y,ct=rt<it?rt<st?rt:st:it<st?it:st,dt=at<ot?at<lt?at:lt:ot<lt?ot:lt,ht=rt>it?rt>st?rt:st:it>st?it:st,mt=at>ot?at>lt?at:lt:ot>lt?ot:lt;let gt=nt.next;for(;gt!==c;){if(gt.x>=ct&&gt.x<=ht&&gt.y>=dt&&gt.y<=mt&&pointInTriangle(rt,at,it,ot,st,lt,gt.x,gt.y)&&area(gt.prev,gt,gt.next)>=0)return!1;gt=gt.next}return!0}function isEarHashed(et,c,tt,nt){const rt=et.prev,it=et,st=et.next;if(area(rt,it,st)>=0)return!1;const at=rt.x,ot=it.x,lt=st.x,ct=rt.y,dt=it.y,ht=st.y,mt=at<ot?at<lt?at:lt:ot<lt?ot:lt,gt=ct<dt?ct<ht?ct:ht:dt<ht?dt:ht,yt=at>ot?at>lt?at:lt:ot>lt?ot:lt,_t=ct>dt?ct>ht?ct:ht:dt>ht?dt:ht,pt=zOrder(mt,gt,c,tt,nt),xt=zOrder(yt,_t,c,tt,nt);let vt=et.prevZ,St=et.nextZ;for(;vt&&vt.z>=pt&&St&&St.z<=xt;){if(vt.x>=mt&&vt.x<=yt&&vt.y>=gt&&vt.y<=_t&&vt!==rt&&vt!==st&&pointInTriangle(at,ct,ot,dt,lt,ht,vt.x,vt.y)&&area(vt.prev,vt,vt.next)>=0||(vt=vt.prevZ,St.x>=mt&&St.x<=yt&&St.y>=gt&&St.y<=_t&&St!==rt&&St!==st&&pointInTriangle(at,ct,ot,dt,lt,ht,St.x,St.y)&&area(St.prev,St,St.next)>=0))return!1;St=St.nextZ}for(;vt&&vt.z>=pt;){if(vt.x>=mt&&vt.x<=yt&&vt.y>=gt&&vt.y<=_t&&vt!==rt&&vt!==st&&pointInTriangle(at,ct,ot,dt,lt,ht,vt.x,vt.y)&&area(vt.prev,vt,vt.next)>=0)return!1;vt=vt.prevZ}for(;St&&St.z<=xt;){if(St.x>=mt&&St.x<=yt&&St.y>=gt&&St.y<=_t&&St!==rt&&St!==st&&pointInTriangle(at,ct,ot,dt,lt,ht,St.x,St.y)&&area(St.prev,St,St.next)>=0)return!1;St=St.nextZ}return!0}function cureLocalIntersections(et,c,tt){let nt=et;do{const rt=nt.prev,it=nt.next.next;!equals(rt,it)&&intersects(rt,nt,nt.next,it)&&locallyInside(rt,it)&&locallyInside(it,rt)&&(c.push(rt.i/tt|0),c.push(nt.i/tt|0),c.push(it.i/tt|0),removeNode(nt),removeNode(nt.next),nt=et=it),nt=nt.next}while(nt!==et);return filterPoints(nt)}function splitEarcut(et,c,tt,nt,rt,it){let st=et;do{let at=st.next.next;for(;at!==st.prev;){if(st.i!==at.i&&isValidDiagonal(st,at)){let ot=splitPolygon(st,at);st=filterPoints(st,st.next),ot=filterPoints(ot,ot.next),earcutLinked(st,c,tt,nt,rt,it,0),earcutLinked(ot,c,tt,nt,rt,it,0);return}at=at.next}st=st.next}while(st!==et)}function eliminateHoles(et,c,tt,nt){const rt=[];let it,st,at,ot,lt;for(it=0,st=c.length;it<st;it++)at=c[it]*nt,ot=it<st-1?c[it+1]*nt:et.length,lt=linkedList(et,at,ot,nt,!1),lt===lt.next&&(lt.steiner=!0),rt.push(getLeftmost(lt));for(rt.sort(compareX),it=0;it<rt.length;it++)tt=eliminateHole(rt[it],tt);return tt}function compareX(et,c){return et.x-c.x}function eliminateHole(et,c){const tt=findHoleBridge(et,c);if(!tt)return c;const nt=splitPolygon(tt,et);return filterPoints(nt,nt.next),filterPoints(tt,tt.next)}function findHoleBridge(et,c){let tt=c,nt=-1/0,rt;const it=et.x,st=et.y;do{if(st<=tt.y&&st>=tt.next.y&&tt.next.y!==tt.y){const ht=tt.x+(st-tt.y)*(tt.next.x-tt.x)/(tt.next.y-tt.y);if(ht<=it&&ht>nt&&(nt=ht,rt=tt.x<tt.next.x?tt:tt.next,ht===it))return rt}tt=tt.next}while(tt!==c);if(!rt)return null;const at=rt,ot=rt.x,lt=rt.y;let ct=1/0,dt;tt=rt;do it>=tt.x&&tt.x>=ot&&it!==tt.x&&pointInTriangle(st<lt?it:nt,st,ot,lt,st<lt?nt:it,st,tt.x,tt.y)&&(dt=Math.abs(st-tt.y)/(it-tt.x),locallyInside(tt,et)&&(dt<ct||dt===ct&&(tt.x>rt.x||tt.x===rt.x&&sectorContainsSector(rt,tt)))&&(rt=tt,ct=dt)),tt=tt.next;while(tt!==at);return rt}function sectorContainsSector(et,c){return area(et.prev,et,c.prev)<0&&area(c.next,et,et.next)<0}function indexCurve(et,c,tt,nt){let rt=et;do rt.z===0&&(rt.z=zOrder(rt.x,rt.y,c,tt,nt)),rt.prevZ=rt.prev,rt.nextZ=rt.next,rt=rt.next;while(rt!==et);rt.prevZ.nextZ=null,rt.prevZ=null,sortLinked(rt)}function sortLinked(et){let c,tt,nt,rt,it,st,at,ot,lt=1;do{for(tt=et,et=null,it=null,st=0;tt;){for(st++,nt=tt,at=0,c=0;c<lt&&(at++,nt=nt.nextZ,!!nt);c++);for(ot=lt;at>0||ot>0&&nt;)at!==0&&(ot===0||!nt||tt.z<=nt.z)?(rt=tt,tt=tt.nextZ,at--):(rt=nt,nt=nt.nextZ,ot--),it?it.nextZ=rt:et=rt,rt.prevZ=it,it=rt;tt=nt}it.nextZ=null,lt*=2}while(st>1);return et}function zOrder(et,c,tt,nt,rt){return et=(et-tt)*rt|0,c=(c-nt)*rt|0,et=(et|et<<8)&16711935,et=(et|et<<4)&252645135,et=(et|et<<2)&858993459,et=(et|et<<1)&1431655765,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,et|c<<1}function getLeftmost(et){let c=et,tt=et;do(c.x<tt.x||c.x===tt.x&&c.y<tt.y)&&(tt=c),c=c.next;while(c!==et);return tt}function pointInTriangle(et,c,tt,nt,rt,it,st,at){return(rt-st)*(c-at)>=(et-st)*(it-at)&&(et-st)*(nt-at)>=(tt-st)*(c-at)&&(tt-st)*(it-at)>=(rt-st)*(nt-at)}function isValidDiagonal(et,c){return et.next.i!==c.i&&et.prev.i!==c.i&&!intersectsPolygon(et,c)&&(locallyInside(et,c)&&locallyInside(c,et)&&middleInside(et,c)&&(area(et.prev,et,c.prev)||area(et,c.prev,c))||equals(et,c)&&area(et.prev,et,et.next)>0&&area(c.prev,c,c.next)>0)}function area(et,c,tt){return(c.y-et.y)*(tt.x-c.x)-(c.x-et.x)*(tt.y-c.y)}function equals(et,c){return et.x===c.x&&et.y===c.y}function intersects(et,c,tt,nt){const rt=sign(area(et,c,tt)),it=sign(area(et,c,nt)),st=sign(area(tt,nt,et)),at=sign(area(tt,nt,c));return!!(rt!==it&&st!==at||rt===0&&onSegment(et,tt,c)||it===0&&onSegment(et,nt,c)||st===0&&onSegment(tt,et,nt)||at===0&&onSegment(tt,c,nt))}function onSegment(et,c,tt){return c.x<=Math.max(et.x,tt.x)&&c.x>=Math.min(et.x,tt.x)&&c.y<=Math.max(et.y,tt.y)&&c.y>=Math.min(et.y,tt.y)}function sign(et){return et>0?1:et<0?-1:0}function intersectsPolygon(et,c){let tt=et;do{if(tt.i!==et.i&&tt.next.i!==et.i&&tt.i!==c.i&&tt.next.i!==c.i&&intersects(tt,tt.next,et,c))return!0;tt=tt.next}while(tt!==et);return!1}function locallyInside(et,c){return area(et.prev,et,et.next)<0?area(et,c,et.next)>=0&&area(et,et.prev,c)>=0:area(et,c,et.prev)<0||area(et,et.next,c)<0}function middleInside(et,c){let tt=et,nt=!1;const rt=(et.x+c.x)/2,it=(et.y+c.y)/2;do tt.y>it!=tt.next.y>it&&tt.next.y!==tt.y&&rt<(tt.next.x-tt.x)*(it-tt.y)/(tt.next.y-tt.y)+tt.x&&(nt=!nt),tt=tt.next;while(tt!==et);return nt}function splitPolygon(et,c){const tt=new Node$1(et.i,et.x,et.y),nt=new Node$1(c.i,c.x,c.y),rt=et.next,it=c.prev;return et.next=c,c.prev=et,tt.next=rt,rt.prev=tt,nt.next=tt,tt.prev=nt,it.next=nt,nt.prev=it,nt}function insertNode(et,c,tt,nt){const rt=new Node$1(et,c,tt);return nt?(rt.next=nt.next,rt.prev=nt,nt.next.prev=rt,nt.next=rt):(rt.prev=rt,rt.next=rt),rt}function removeNode(et){et.next.prev=et.prev,et.prev.next=et.next,et.prevZ&&(et.prevZ.nextZ=et.nextZ),et.nextZ&&(et.nextZ.prevZ=et.prevZ)}function Node$1(et,c,tt){this.i=et,this.x=c,this.y=tt,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(et,c,tt,nt){let rt=0;for(let it=c,st=tt-nt;it<tt;it+=nt)rt+=(et[st]-et[it])*(et[it+1]+et[st+1]),st=it;return rt}class ShapeUtils{static area(c){const tt=c.length;let nt=0;for(let rt=tt-1,it=0;it<tt;rt=it++)nt+=c[rt].x*c[it].y-c[it].x*c[rt].y;return nt*.5}static isClockWise(c){return ShapeUtils.area(c)<0}static triangulateShape(c,tt){const nt=[],rt=[],it=[];removeDupEndPts(c),addContour(nt,c);let st=c.length;tt.forEach(removeDupEndPts);for(let ot=0;ot<tt.length;ot++)rt.push(st),st+=tt[ot].length,addContour(nt,tt[ot]);const at=Earcut.triangulate(nt,rt);for(let ot=0;ot<at.length;ot+=3)it.push(at.slice(ot,ot+3));return it}}function removeDupEndPts(et){const c=et.length;c>2&&et[c-1].equals(et[0])&&et.pop()}function addContour(et,c){for(let tt=0;tt<c.length;tt++)et.push(c[tt].x),et.push(c[tt].y)}class ExtrudeGeometry extends BufferGeometry{constructor(c=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),tt={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:c,options:tt},c=Array.isArray(c)?c:[c];const nt=this,rt=[],it=[];for(let at=0,ot=c.length;at<ot;at++){const lt=c[at];st(lt)}this.setAttribute("position",new Float32BufferAttribute(rt,3)),this.setAttribute("uv",new Float32BufferAttribute(it,2)),this.computeVertexNormals();function st(at){const ot=[],lt=tt.curveSegments!==void 0?tt.curveSegments:12,ct=tt.steps!==void 0?tt.steps:1,dt=tt.depth!==void 0?tt.depth:1;let ht=tt.bevelEnabled!==void 0?tt.bevelEnabled:!0,mt=tt.bevelThickness!==void 0?tt.bevelThickness:.2,gt=tt.bevelSize!==void 0?tt.bevelSize:mt-.1,yt=tt.bevelOffset!==void 0?tt.bevelOffset:0,_t=tt.bevelSegments!==void 0?tt.bevelSegments:3;const pt=tt.extrudePath,xt=tt.UVGenerator!==void 0?tt.UVGenerator:WorldUVGenerator;let vt,St=!1,wt,Mt,Ct,Rt;pt&&(vt=pt.getSpacedPoints(ct),St=!0,ht=!1,wt=pt.computeFrenetFrames(ct,!1),Mt=new Vector3,Ct=new Vector3,Rt=new Vector3),ht||(_t=0,mt=0,gt=0,yt=0);const Lt=at.extractPoints(lt);let It=Lt.shape;const Nt=Lt.holes;if(!ShapeUtils.isClockWise(It)){It=It.reverse();for(let $t=0,fn=Nt.length;$t<fn;$t++){const rn=Nt[$t];ShapeUtils.isClockWise(rn)&&(Nt[$t]=rn.reverse())}}const Wt=ShapeUtils.triangulateShape(It,Nt),Yt=It;for(let $t=0,fn=Nt.length;$t<fn;$t++){const rn=Nt[$t];It=It.concat(rn)}function Xt($t,fn,rn){return fn||console.error("THREE.ExtrudeGeometry: vec does not exist"),$t.clone().addScaledVector(fn,rn)}const Ft=It.length,Ut=Wt.length;function At($t,fn,rn){let Pn,mn,zn;const Tn=$t.x-fn.x,Ln=$t.y-fn.y,Gt=rn.x-$t.x,Vt=rn.y-$t.y,sn=Tn*Tn+Ln*Ln,Sn=Tn*Vt-Ln*Gt;if(Math.abs(Sn)>Number.EPSILON){const gn=Math.sqrt(sn),_n=Math.sqrt(Gt*Gt+Vt*Vt),On=fn.x-Ln/gn,An=fn.y+Tn/gn,kn=rn.x-Vt/_n,er=rn.y+Gt/_n,wn=((kn-On)*Vt-(er-An)*Gt)/(Tn*Vt-Ln*Gt);Pn=On+Tn*wn-$t.x,mn=An+Ln*wn-$t.y;const Fn=Pn*Pn+mn*mn;if(Fn<=2)return new Vector2(Pn,mn);zn=Math.sqrt(Fn/2)}else{let gn=!1;Tn>Number.EPSILON?Gt>Number.EPSILON&&(gn=!0):Tn<-Number.EPSILON?Gt<-Number.EPSILON&&(gn=!0):Math.sign(Ln)===Math.sign(Vt)&&(gn=!0),gn?(Pn=-Ln,mn=Tn,zn=Math.sqrt(sn)):(Pn=Tn,mn=Ln,zn=Math.sqrt(sn/2))}return new Vector2(Pn/zn,mn/zn)}const kt=[];for(let $t=0,fn=Yt.length,rn=fn-1,Pn=$t+1;$t<fn;$t++,rn++,Pn++)rn===fn&&(rn=0),Pn===fn&&(Pn=0),kt[$t]=At(Yt[$t],Yt[rn],Yt[Pn]);const Ot=[];let Bt,Qt=kt.concat();for(let $t=0,fn=Nt.length;$t<fn;$t++){const rn=Nt[$t];Bt=[];for(let Pn=0,mn=rn.length,zn=mn-1,Tn=Pn+1;Pn<mn;Pn++,zn++,Tn++)zn===mn&&(zn=0),Tn===mn&&(Tn=0),Bt[Pn]=At(rn[Pn],rn[zn],rn[Tn]);Ot.push(Bt),Qt=Qt.concat(Bt)}for(let $t=0;$t<_t;$t++){const fn=$t/_t,rn=mt*Math.cos(fn*Math.PI/2),Pn=gt*Math.sin(fn*Math.PI/2)+yt;for(let mn=0,zn=Yt.length;mn<zn;mn++){const Tn=Xt(Yt[mn],kt[mn],Pn);En(Tn.x,Tn.y,-rn)}for(let mn=0,zn=Nt.length;mn<zn;mn++){const Tn=Nt[mn];Bt=Ot[mn];for(let Ln=0,Gt=Tn.length;Ln<Gt;Ln++){const Vt=Xt(Tn[Ln],Bt[Ln],Pn);En(Vt.x,Vt.y,-rn)}}}const an=gt+yt;for(let $t=0;$t<Ft;$t++){const fn=ht?Xt(It[$t],Qt[$t],an):It[$t];St?(Ct.copy(wt.normals[0]).multiplyScalar(fn.x),Mt.copy(wt.binormals[0]).multiplyScalar(fn.y),Rt.copy(vt[0]).add(Ct).add(Mt),En(Rt.x,Rt.y,Rt.z)):En(fn.x,fn.y,0)}for(let $t=1;$t<=ct;$t++)for(let fn=0;fn<Ft;fn++){const rn=ht?Xt(It[fn],Qt[fn],an):It[fn];St?(Ct.copy(wt.normals[$t]).multiplyScalar(rn.x),Mt.copy(wt.binormals[$t]).multiplyScalar(rn.y),Rt.copy(vt[$t]).add(Ct).add(Mt),En(Rt.x,Rt.y,Rt.z)):En(rn.x,rn.y,dt/ct*$t)}for(let $t=_t-1;$t>=0;$t--){const fn=$t/_t,rn=mt*Math.cos(fn*Math.PI/2),Pn=gt*Math.sin(fn*Math.PI/2)+yt;for(let mn=0,zn=Yt.length;mn<zn;mn++){const Tn=Xt(Yt[mn],kt[mn],Pn);En(Tn.x,Tn.y,dt+rn)}for(let mn=0,zn=Nt.length;mn<zn;mn++){const Tn=Nt[mn];Bt=Ot[mn];for(let Ln=0,Gt=Tn.length;Ln<Gt;Ln++){const Vt=Xt(Tn[Ln],Bt[Ln],Pn);St?En(Vt.x,Vt.y+vt[ct-1].y,vt[ct-1].x+rn):En(Vt.x,Vt.y,dt+rn)}}}Kt(),ln();function Kt(){const $t=rt.length/3;if(ht){let fn=0,rn=Ft*fn;for(let Pn=0;Pn<Ut;Pn++){const mn=Wt[Pn];jn(mn[2]+rn,mn[1]+rn,mn[0]+rn)}fn=ct+_t*2,rn=Ft*fn;for(let Pn=0;Pn<Ut;Pn++){const mn=Wt[Pn];jn(mn[0]+rn,mn[1]+rn,mn[2]+rn)}}else{for(let fn=0;fn<Ut;fn++){const rn=Wt[fn];jn(rn[2],rn[1],rn[0])}for(let fn=0;fn<Ut;fn++){const rn=Wt[fn];jn(rn[0]+Ft*ct,rn[1]+Ft*ct,rn[2]+Ft*ct)}}nt.addGroup($t,rt.length/3-$t,0)}function ln(){const $t=rt.length/3;let fn=0;vn(Yt,fn),fn+=Yt.length;for(let rn=0,Pn=Nt.length;rn<Pn;rn++){const mn=Nt[rn];vn(mn,fn),fn+=mn.length}nt.addGroup($t,rt.length/3-$t,1)}function vn($t,fn){let rn=$t.length;for(;--rn>=0;){const Pn=rn;let mn=rn-1;mn<0&&(mn=$t.length-1);for(let zn=0,Tn=ct+_t*2;zn<Tn;zn++){const Ln=Ft*zn,Gt=Ft*(zn+1),Vt=fn+Pn+Ln,sn=fn+mn+Ln,Sn=fn+mn+Gt,gn=fn+Pn+Gt;qn(Vt,sn,Sn,gn)}}}function En($t,fn,rn){ot.push($t),ot.push(fn),ot.push(rn)}function jn($t,fn,rn){Vn($t),Vn(fn),Vn(rn);const Pn=rt.length/3,mn=xt.generateTopUV(nt,rt,Pn-3,Pn-2,Pn-1);Gn(mn[0]),Gn(mn[1]),Gn(mn[2])}function qn($t,fn,rn,Pn){Vn($t),Vn(fn),Vn(Pn),Vn(fn),Vn(rn),Vn(Pn);const mn=rt.length/3,zn=xt.generateSideWallUV(nt,rt,mn-6,mn-3,mn-2,mn-1);Gn(zn[0]),Gn(zn[1]),Gn(zn[3]),Gn(zn[1]),Gn(zn[2]),Gn(zn[3])}function Vn($t){rt.push(ot[$t*3+0]),rt.push(ot[$t*3+1]),rt.push(ot[$t*3+2])}function Gn($t){it.push($t.x),it.push($t.y)}}}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}toJSON(){const c=super.toJSON(),tt=this.parameters.shapes,nt=this.parameters.options;return toJSON$1(tt,nt,c)}static fromJSON(c,tt){const nt=[];for(let it=0,st=c.shapes.length;it<st;it++){const at=tt[c.shapes[it]];nt.push(at)}const rt=c.options.extrudePath;return rt!==void 0&&(c.options.extrudePath=new Curves[rt.type]().fromJSON(rt)),new ExtrudeGeometry(nt,c.options)}}const WorldUVGenerator={generateTopUV:function(et,c,tt,nt,rt){const it=c[tt*3],st=c[tt*3+1],at=c[nt*3],ot=c[nt*3+1],lt=c[rt*3],ct=c[rt*3+1];return[new Vector2(it,st),new Vector2(at,ot),new Vector2(lt,ct)]},generateSideWallUV:function(et,c,tt,nt,rt,it){const st=c[tt*3],at=c[tt*3+1],ot=c[tt*3+2],lt=c[nt*3],ct=c[nt*3+1],dt=c[nt*3+2],ht=c[rt*3],mt=c[rt*3+1],gt=c[rt*3+2],yt=c[it*3],_t=c[it*3+1],pt=c[it*3+2];return Math.abs(at-ct)<Math.abs(st-lt)?[new Vector2(st,1-ot),new Vector2(lt,1-dt),new Vector2(ht,1-gt),new Vector2(yt,1-pt)]:[new Vector2(at,1-ot),new Vector2(ct,1-dt),new Vector2(mt,1-gt),new Vector2(_t,1-pt)]}};function toJSON$1(et,c,tt){if(tt.shapes=[],Array.isArray(et))for(let nt=0,rt=et.length;nt<rt;nt++){const it=et[nt];tt.shapes.push(it.uuid)}else tt.shapes.push(et.uuid);return tt.options=Object.assign({},c),c.extrudePath!==void 0&&(tt.options.extrudePath=c.extrudePath.toJSON()),tt}class IcosahedronGeometry extends PolyhedronGeometry{constructor(c=1,tt=0){const nt=(1+Math.sqrt(5))/2,rt=[-1,nt,0,1,nt,0,-1,-nt,0,1,-nt,0,0,-1,nt,0,1,nt,0,-1,-nt,0,1,-nt,nt,0,-1,nt,0,1,-nt,0,-1,-nt,0,1],it=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(rt,it,c,tt),this.type="IcosahedronGeometry",this.parameters={radius:c,detail:tt}}static fromJSON(c){return new IcosahedronGeometry(c.radius,c.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(c=1,tt=0){const nt=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],rt=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(nt,rt,c,tt),this.type="OctahedronGeometry",this.parameters={radius:c,detail:tt}}static fromJSON(c){return new OctahedronGeometry(c.radius,c.detail)}}class RingGeometry extends BufferGeometry{constructor(c=.5,tt=1,nt=32,rt=1,it=0,st=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:c,outerRadius:tt,thetaSegments:nt,phiSegments:rt,thetaStart:it,thetaLength:st},nt=Math.max(3,nt),rt=Math.max(1,rt);const at=[],ot=[],lt=[],ct=[];let dt=c;const ht=(tt-c)/rt,mt=new Vector3,gt=new Vector2;for(let yt=0;yt<=rt;yt++){for(let _t=0;_t<=nt;_t++){const pt=it+_t/nt*st;mt.x=dt*Math.cos(pt),mt.y=dt*Math.sin(pt),ot.push(mt.x,mt.y,mt.z),lt.push(0,0,1),gt.x=(mt.x/tt+1)/2,gt.y=(mt.y/tt+1)/2,ct.push(gt.x,gt.y)}dt+=ht}for(let yt=0;yt<rt;yt++){const _t=yt*(nt+1);for(let pt=0;pt<nt;pt++){const xt=pt+_t,vt=xt,St=xt+nt+1,wt=xt+nt+2,Mt=xt+1;at.push(vt,St,Mt),at.push(St,wt,Mt)}}this.setIndex(at),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(lt,3)),this.setAttribute("uv",new Float32BufferAttribute(ct,2))}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}static fromJSON(c){return new RingGeometry(c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(c=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),tt=12){super(),this.type="ShapeGeometry",this.parameters={shapes:c,curveSegments:tt};const nt=[],rt=[],it=[],st=[];let at=0,ot=0;if(Array.isArray(c)===!1)lt(c);else for(let ct=0;ct<c.length;ct++)lt(c[ct]),this.addGroup(at,ot,ct),at+=ot,ot=0;this.setIndex(nt),this.setAttribute("position",new Float32BufferAttribute(rt,3)),this.setAttribute("normal",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(st,2));function lt(ct){const dt=rt.length/3,ht=ct.extractPoints(tt);let mt=ht.shape;const gt=ht.holes;ShapeUtils.isClockWise(mt)===!1&&(mt=mt.reverse());for(let _t=0,pt=gt.length;_t<pt;_t++){const xt=gt[_t];ShapeUtils.isClockWise(xt)===!0&&(gt[_t]=xt.reverse())}const yt=ShapeUtils.triangulateShape(mt,gt);for(let _t=0,pt=gt.length;_t<pt;_t++){const xt=gt[_t];mt=mt.concat(xt)}for(let _t=0,pt=mt.length;_t<pt;_t++){const xt=mt[_t];rt.push(xt.x,xt.y,0),it.push(0,0,1),st.push(xt.x,xt.y)}for(let _t=0,pt=yt.length;_t<pt;_t++){const xt=yt[_t],vt=xt[0]+dt,St=xt[1]+dt,wt=xt[2]+dt;nt.push(vt,St,wt),ot+=3}}}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}toJSON(){const c=super.toJSON(),tt=this.parameters.shapes;return toJSON(tt,c)}static fromJSON(c,tt){const nt=[];for(let rt=0,it=c.shapes.length;rt<it;rt++){const st=tt[c.shapes[rt]];nt.push(st)}return new ShapeGeometry(nt,c.curveSegments)}}function toJSON(et,c){if(c.shapes=[],Array.isArray(et))for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];c.shapes.push(rt.uuid)}else c.shapes.push(et.uuid);return c}class SphereGeometry extends BufferGeometry{constructor(c=1,tt=32,nt=16,rt=0,it=Math.PI*2,st=0,at=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:c,widthSegments:tt,heightSegments:nt,phiStart:rt,phiLength:it,thetaStart:st,thetaLength:at},tt=Math.max(3,Math.floor(tt)),nt=Math.max(2,Math.floor(nt));const ot=Math.min(st+at,Math.PI);let lt=0;const ct=[],dt=new Vector3,ht=new Vector3,mt=[],gt=[],yt=[],_t=[];for(let pt=0;pt<=nt;pt++){const xt=[],vt=pt/nt;let St=0;pt===0&&st===0?St=.5/tt:pt===nt&&ot===Math.PI&&(St=-.5/tt);for(let wt=0;wt<=tt;wt++){const Mt=wt/tt;dt.x=-c*Math.cos(rt+Mt*it)*Math.sin(st+vt*at),dt.y=c*Math.cos(st+vt*at),dt.z=c*Math.sin(rt+Mt*it)*Math.sin(st+vt*at),gt.push(dt.x,dt.y,dt.z),ht.copy(dt).normalize(),yt.push(ht.x,ht.y,ht.z),_t.push(Mt+St,1-vt),xt.push(lt++)}ct.push(xt)}for(let pt=0;pt<nt;pt++)for(let xt=0;xt<tt;xt++){const vt=ct[pt][xt+1],St=ct[pt][xt],wt=ct[pt+1][xt],Mt=ct[pt+1][xt+1];(pt!==0||st>0)&&mt.push(vt,St,Mt),(pt!==nt-1||ot<Math.PI)&&mt.push(St,wt,Mt)}this.setIndex(mt),this.setAttribute("position",new Float32BufferAttribute(gt,3)),this.setAttribute("normal",new Float32BufferAttribute(yt,3)),this.setAttribute("uv",new Float32BufferAttribute(_t,2))}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}static fromJSON(c){return new SphereGeometry(c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(c=1,tt=0){const nt=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],rt=[2,1,0,0,3,2,1,3,0,2,3,1];super(nt,rt,c,tt),this.type="TetrahedronGeometry",this.parameters={radius:c,detail:tt}}static fromJSON(c){return new TetrahedronGeometry(c.radius,c.detail)}}class TorusGeometry extends BufferGeometry{constructor(c=1,tt=.4,nt=12,rt=48,it=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:c,tube:tt,radialSegments:nt,tubularSegments:rt,arc:it},nt=Math.floor(nt),rt=Math.floor(rt);const st=[],at=[],ot=[],lt=[],ct=new Vector3,dt=new Vector3,ht=new Vector3;for(let mt=0;mt<=nt;mt++)for(let gt=0;gt<=rt;gt++){const yt=gt/rt*it,_t=mt/nt*Math.PI*2;dt.x=(c+tt*Math.cos(_t))*Math.cos(yt),dt.y=(c+tt*Math.cos(_t))*Math.sin(yt),dt.z=tt*Math.sin(_t),at.push(dt.x,dt.y,dt.z),ct.x=c*Math.cos(yt),ct.y=c*Math.sin(yt),ht.subVectors(dt,ct).normalize(),ot.push(ht.x,ht.y,ht.z),lt.push(gt/rt),lt.push(mt/nt)}for(let mt=1;mt<=nt;mt++)for(let gt=1;gt<=rt;gt++){const yt=(rt+1)*mt+gt-1,_t=(rt+1)*(mt-1)+gt-1,pt=(rt+1)*(mt-1)+gt,xt=(rt+1)*mt+gt;st.push(yt,_t,xt),st.push(_t,pt,xt)}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("normal",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(lt,2))}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}static fromJSON(c){return new TorusGeometry(c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(c=1,tt=.4,nt=64,rt=8,it=2,st=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:c,tube:tt,tubularSegments:nt,radialSegments:rt,p:it,q:st},nt=Math.floor(nt),rt=Math.floor(rt);const at=[],ot=[],lt=[],ct=[],dt=new Vector3,ht=new Vector3,mt=new Vector3,gt=new Vector3,yt=new Vector3,_t=new Vector3,pt=new Vector3;for(let vt=0;vt<=nt;++vt){const St=vt/nt*it*Math.PI*2;xt(St,it,st,c,mt),xt(St+.01,it,st,c,gt),_t.subVectors(gt,mt),pt.addVectors(gt,mt),yt.crossVectors(_t,pt),pt.crossVectors(yt,_t),yt.normalize(),pt.normalize();for(let wt=0;wt<=rt;++wt){const Mt=wt/rt*Math.PI*2,Ct=-tt*Math.cos(Mt),Rt=tt*Math.sin(Mt);dt.x=mt.x+(Ct*pt.x+Rt*yt.x),dt.y=mt.y+(Ct*pt.y+Rt*yt.y),dt.z=mt.z+(Ct*pt.z+Rt*yt.z),ot.push(dt.x,dt.y,dt.z),ht.subVectors(dt,mt).normalize(),lt.push(ht.x,ht.y,ht.z),ct.push(vt/nt),ct.push(wt/rt)}}for(let vt=1;vt<=nt;vt++)for(let St=1;St<=rt;St++){const wt=(rt+1)*(vt-1)+(St-1),Mt=(rt+1)*vt+(St-1),Ct=(rt+1)*vt+St,Rt=(rt+1)*(vt-1)+St;at.push(wt,Mt,Rt),at.push(Mt,Ct,Rt)}this.setIndex(at),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(lt,3)),this.setAttribute("uv",new Float32BufferAttribute(ct,2));function xt(vt,St,wt,Mt,Ct){const Rt=Math.cos(vt),Lt=Math.sin(vt),It=wt/St*vt,Nt=Math.cos(It);Ct.x=Mt*(2+Nt)*.5*Rt,Ct.y=Mt*(2+Nt)*Lt*.5,Ct.z=Mt*Math.sin(It)*.5}}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}static fromJSON(c){return new TorusKnotGeometry(c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q)}}class TubeGeometry extends BufferGeometry{constructor(c=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),tt=64,nt=1,rt=8,it=!1){super(),this.type="TubeGeometry",this.parameters={path:c,tubularSegments:tt,radius:nt,radialSegments:rt,closed:it};const st=c.computeFrenetFrames(tt,it);this.tangents=st.tangents,this.normals=st.normals,this.binormals=st.binormals;const at=new Vector3,ot=new Vector3,lt=new Vector2;let ct=new Vector3;const dt=[],ht=[],mt=[],gt=[];yt(),this.setIndex(gt),this.setAttribute("position",new Float32BufferAttribute(dt,3)),this.setAttribute("normal",new Float32BufferAttribute(ht,3)),this.setAttribute("uv",new Float32BufferAttribute(mt,2));function yt(){for(let vt=0;vt<tt;vt++)_t(vt);_t(it===!1?tt:0),xt(),pt()}function _t(vt){ct=c.getPointAt(vt/tt,ct);const St=st.normals[vt],wt=st.binormals[vt];for(let Mt=0;Mt<=rt;Mt++){const Ct=Mt/rt*Math.PI*2,Rt=Math.sin(Ct),Lt=-Math.cos(Ct);ot.x=Lt*St.x+Rt*wt.x,ot.y=Lt*St.y+Rt*wt.y,ot.z=Lt*St.z+Rt*wt.z,ot.normalize(),ht.push(ot.x,ot.y,ot.z),at.x=ct.x+nt*ot.x,at.y=ct.y+nt*ot.y,at.z=ct.z+nt*ot.z,dt.push(at.x,at.y,at.z)}}function pt(){for(let vt=1;vt<=tt;vt++)for(let St=1;St<=rt;St++){const wt=(rt+1)*(vt-1)+(St-1),Mt=(rt+1)*vt+(St-1),Ct=(rt+1)*vt+St,Rt=(rt+1)*(vt-1)+St;gt.push(wt,Mt,Rt),gt.push(Mt,Ct,Rt)}}function xt(){for(let vt=0;vt<=tt;vt++)for(let St=0;St<=rt;St++)lt.x=vt/tt,lt.y=St/rt,mt.push(lt.x,lt.y)}}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}toJSON(){const c=super.toJSON();return c.path=this.parameters.path.toJSON(),c}static fromJSON(c){return new TubeGeometry(new Curves[c.path.type]().fromJSON(c.path),c.tubularSegments,c.radius,c.radialSegments,c.closed)}}class WireframeGeometry extends BufferGeometry{constructor(c=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:c},c!==null){const tt=[],nt=new Set,rt=new Vector3,it=new Vector3;if(c.index!==null){const st=c.attributes.position,at=c.index;let ot=c.groups;ot.length===0&&(ot=[{start:0,count:at.count,materialIndex:0}]);for(let lt=0,ct=ot.length;lt<ct;++lt){const dt=ot[lt],ht=dt.start,mt=dt.count;for(let gt=ht,yt=ht+mt;gt<yt;gt+=3)for(let _t=0;_t<3;_t++){const pt=at.getX(gt+_t),xt=at.getX(gt+(_t+1)%3);rt.fromBufferAttribute(st,pt),it.fromBufferAttribute(st,xt),isUniqueEdge(rt,it,nt)===!0&&(tt.push(rt.x,rt.y,rt.z),tt.push(it.x,it.y,it.z))}}}else{const st=c.attributes.position;for(let at=0,ot=st.count/3;at<ot;at++)for(let lt=0;lt<3;lt++){const ct=3*at+lt,dt=3*at+(lt+1)%3;rt.fromBufferAttribute(st,ct),it.fromBufferAttribute(st,dt),isUniqueEdge(rt,it,nt)===!0&&(tt.push(rt.x,rt.y,rt.z),tt.push(it.x,it.y,it.z))}}this.setAttribute("position",new Float32BufferAttribute(tt,3))}}copy(c){return super.copy(c),this.parameters=Object.assign({},c.parameters),this}}function isUniqueEdge(et,c,tt){const nt=`${et.x},${et.y},${et.z}-${c.x},${c.y},${c.z}`,rt=`${c.x},${c.y},${c.z}-${et.x},${et.y},${et.z}`;return tt.has(nt)===!0||tt.has(rt)===!0?!1:(tt.add(nt),tt.add(rt),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(c){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(c)}copy(c){return super.copy(c),this.color.copy(c.color),this.fog=c.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(c){super(c),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(c){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(c)}copy(c){return super.copy(c),this.defines={STANDARD:""},this.color.copy(c.color),this.roughness=c.roughness,this.metalness=c.metalness,this.map=c.map,this.lightMap=c.lightMap,this.lightMapIntensity=c.lightMapIntensity,this.aoMap=c.aoMap,this.aoMapIntensity=c.aoMapIntensity,this.emissive.copy(c.emissive),this.emissiveMap=c.emissiveMap,this.emissiveIntensity=c.emissiveIntensity,this.bumpMap=c.bumpMap,this.bumpScale=c.bumpScale,this.normalMap=c.normalMap,this.normalMapType=c.normalMapType,this.normalScale.copy(c.normalScale),this.displacementMap=c.displacementMap,this.displacementScale=c.displacementScale,this.displacementBias=c.displacementBias,this.roughnessMap=c.roughnessMap,this.metalnessMap=c.metalnessMap,this.alphaMap=c.alphaMap,this.envMap=c.envMap,this.envMapRotation.copy(c.envMapRotation),this.envMapIntensity=c.envMapIntensity,this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this.wireframeLinecap=c.wireframeLinecap,this.wireframeLinejoin=c.wireframeLinejoin,this.flatShading=c.flatShading,this.fog=c.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(c){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(tt){this.ior=(1+.4*tt)/(1-.4*tt)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(c)}get anisotropy(){return this._anisotropy}set anisotropy(c){this._anisotropy>0!=c>0&&this.version++,this._anisotropy=c}get clearcoat(){return this._clearcoat}set clearcoat(c){this._clearcoat>0!=c>0&&this.version++,this._clearcoat=c}get iridescence(){return this._iridescence}set iridescence(c){this._iridescence>0!=c>0&&this.version++,this._iridescence=c}get dispersion(){return this._dispersion}set dispersion(c){this._dispersion>0!=c>0&&this.version++,this._dispersion=c}get sheen(){return this._sheen}set sheen(c){this._sheen>0!=c>0&&this.version++,this._sheen=c}get transmission(){return this._transmission}set transmission(c){this._transmission>0!=c>0&&this.version++,this._transmission=c}copy(c){return super.copy(c),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=c.anisotropy,this.anisotropyRotation=c.anisotropyRotation,this.anisotropyMap=c.anisotropyMap,this.clearcoat=c.clearcoat,this.clearcoatMap=c.clearcoatMap,this.clearcoatRoughness=c.clearcoatRoughness,this.clearcoatRoughnessMap=c.clearcoatRoughnessMap,this.clearcoatNormalMap=c.clearcoatNormalMap,this.clearcoatNormalScale.copy(c.clearcoatNormalScale),this.dispersion=c.dispersion,this.ior=c.ior,this.iridescence=c.iridescence,this.iridescenceMap=c.iridescenceMap,this.iridescenceIOR=c.iridescenceIOR,this.iridescenceThicknessRange=[...c.iridescenceThicknessRange],this.iridescenceThicknessMap=c.iridescenceThicknessMap,this.sheen=c.sheen,this.sheenColor.copy(c.sheenColor),this.sheenColorMap=c.sheenColorMap,this.sheenRoughness=c.sheenRoughness,this.sheenRoughnessMap=c.sheenRoughnessMap,this.transmission=c.transmission,this.transmissionMap=c.transmissionMap,this.thickness=c.thickness,this.thicknessMap=c.thicknessMap,this.attenuationDistance=c.attenuationDistance,this.attenuationColor.copy(c.attenuationColor),this.specularIntensity=c.specularIntensity,this.specularIntensityMap=c.specularIntensityMap,this.specularColor.copy(c.specularColor),this.specularColorMap=c.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(c){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(c)}copy(c){return super.copy(c),this.color.copy(c.color),this.specular.copy(c.specular),this.shininess=c.shininess,this.map=c.map,this.lightMap=c.lightMap,this.lightMapIntensity=c.lightMapIntensity,this.aoMap=c.aoMap,this.aoMapIntensity=c.aoMapIntensity,this.emissive.copy(c.emissive),this.emissiveMap=c.emissiveMap,this.emissiveIntensity=c.emissiveIntensity,this.bumpMap=c.bumpMap,this.bumpScale=c.bumpScale,this.normalMap=c.normalMap,this.normalMapType=c.normalMapType,this.normalScale.copy(c.normalScale),this.displacementMap=c.displacementMap,this.displacementScale=c.displacementScale,this.displacementBias=c.displacementBias,this.specularMap=c.specularMap,this.alphaMap=c.alphaMap,this.envMap=c.envMap,this.envMapRotation.copy(c.envMapRotation),this.combine=c.combine,this.reflectivity=c.reflectivity,this.refractionRatio=c.refractionRatio,this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this.wireframeLinecap=c.wireframeLinecap,this.wireframeLinejoin=c.wireframeLinejoin,this.flatShading=c.flatShading,this.fog=c.fog,this}}class MeshToonMaterial extends Material{constructor(c){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(c)}copy(c){return super.copy(c),this.color.copy(c.color),this.map=c.map,this.gradientMap=c.gradientMap,this.lightMap=c.lightMap,this.lightMapIntensity=c.lightMapIntensity,this.aoMap=c.aoMap,this.aoMapIntensity=c.aoMapIntensity,this.emissive.copy(c.emissive),this.emissiveMap=c.emissiveMap,this.emissiveIntensity=c.emissiveIntensity,this.bumpMap=c.bumpMap,this.bumpScale=c.bumpScale,this.normalMap=c.normalMap,this.normalMapType=c.normalMapType,this.normalScale.copy(c.normalScale),this.displacementMap=c.displacementMap,this.displacementScale=c.displacementScale,this.displacementBias=c.displacementBias,this.alphaMap=c.alphaMap,this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this.wireframeLinecap=c.wireframeLinecap,this.wireframeLinejoin=c.wireframeLinejoin,this.fog=c.fog,this}}class MeshNormalMaterial extends Material{constructor(c){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(c)}copy(c){return super.copy(c),this.bumpMap=c.bumpMap,this.bumpScale=c.bumpScale,this.normalMap=c.normalMap,this.normalMapType=c.normalMapType,this.normalScale.copy(c.normalScale),this.displacementMap=c.displacementMap,this.displacementScale=c.displacementScale,this.displacementBias=c.displacementBias,this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this.flatShading=c.flatShading,this}}class MeshLambertMaterial extends Material{constructor(c){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(c)}copy(c){return super.copy(c),this.color.copy(c.color),this.map=c.map,this.lightMap=c.lightMap,this.lightMapIntensity=c.lightMapIntensity,this.aoMap=c.aoMap,this.aoMapIntensity=c.aoMapIntensity,this.emissive.copy(c.emissive),this.emissiveMap=c.emissiveMap,this.emissiveIntensity=c.emissiveIntensity,this.bumpMap=c.bumpMap,this.bumpScale=c.bumpScale,this.normalMap=c.normalMap,this.normalMapType=c.normalMapType,this.normalScale.copy(c.normalScale),this.displacementMap=c.displacementMap,this.displacementScale=c.displacementScale,this.displacementBias=c.displacementBias,this.specularMap=c.specularMap,this.alphaMap=c.alphaMap,this.envMap=c.envMap,this.envMapRotation.copy(c.envMapRotation),this.combine=c.combine,this.reflectivity=c.reflectivity,this.refractionRatio=c.refractionRatio,this.wireframe=c.wireframe,this.wireframeLinewidth=c.wireframeLinewidth,this.wireframeLinecap=c.wireframeLinecap,this.wireframeLinejoin=c.wireframeLinejoin,this.flatShading=c.flatShading,this.fog=c.fog,this}}class MeshMatcapMaterial extends Material{constructor(c){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(c)}copy(c){return super.copy(c),this.defines={MATCAP:""},this.color.copy(c.color),this.matcap=c.matcap,this.map=c.map,this.bumpMap=c.bumpMap,this.bumpScale=c.bumpScale,this.normalMap=c.normalMap,this.normalMapType=c.normalMapType,this.normalScale.copy(c.normalScale),this.displacementMap=c.displacementMap,this.displacementScale=c.displacementScale,this.displacementBias=c.displacementBias,this.alphaMap=c.alphaMap,this.flatShading=c.flatShading,this.fog=c.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(c){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(c)}copy(c){return super.copy(c),this.scale=c.scale,this.dashSize=c.dashSize,this.gapSize=c.gapSize,this}}function convertArray(et,c,tt){return!et||!tt&&et.constructor===c?et:typeof c.BYTES_PER_ELEMENT=="number"?new c(et):Array.prototype.slice.call(et)}function isTypedArray(et){return ArrayBuffer.isView(et)&&!(et instanceof DataView)}function getKeyframeOrder(et){function c(rt,it){return et[rt]-et[it]}const tt=et.length,nt=new Array(tt);for(let rt=0;rt!==tt;++rt)nt[rt]=rt;return nt.sort(c),nt}function sortedArray(et,c,tt){const nt=et.length,rt=new et.constructor(nt);for(let it=0,st=0;st!==nt;++it){const at=tt[it]*c;for(let ot=0;ot!==c;++ot)rt[st++]=et[at+ot]}return rt}function flattenJSON(et,c,tt,nt){let rt=1,it=et[0];for(;it!==void 0&&it[nt]===void 0;)it=et[rt++];if(it===void 0)return;let st=it[nt];if(st!==void 0)if(Array.isArray(st))do st=it[nt],st!==void 0&&(c.push(it.time),tt.push.apply(tt,st)),it=et[rt++];while(it!==void 0);else if(st.toArray!==void 0)do st=it[nt],st!==void 0&&(c.push(it.time),st.toArray(tt,tt.length)),it=et[rt++];while(it!==void 0);else do st=it[nt],st!==void 0&&(c.push(it.time),tt.push(st)),it=et[rt++];while(it!==void 0)}function subclip(et,c,tt,nt,rt=30){const it=et.clone();it.name=c;const st=[];for(let ot=0;ot<it.tracks.length;++ot){const lt=it.tracks[ot],ct=lt.getValueSize(),dt=[],ht=[];for(let mt=0;mt<lt.times.length;++mt){const gt=lt.times[mt]*rt;if(!(gt<tt||gt>=nt)){dt.push(lt.times[mt]);for(let yt=0;yt<ct;++yt)ht.push(lt.values[mt*ct+yt])}}dt.length!==0&&(lt.times=convertArray(dt,lt.times.constructor),lt.values=convertArray(ht,lt.values.constructor),st.push(lt))}it.tracks=st;let at=1/0;for(let ot=0;ot<it.tracks.length;++ot)at>it.tracks[ot].times[0]&&(at=it.tracks[ot].times[0]);for(let ot=0;ot<it.tracks.length;++ot)it.tracks[ot].shift(-1*at);return it.resetDuration(),it}function makeClipAdditive(et,c=0,tt=et,nt=30){nt<=0&&(nt=30);const rt=tt.tracks.length,it=c/nt;for(let st=0;st<rt;++st){const at=tt.tracks[st],ot=at.ValueTypeName;if(ot==="bool"||ot==="string")continue;const lt=et.tracks.find(function(pt){return pt.name===at.name&&pt.ValueTypeName===ot});if(lt===void 0)continue;let ct=0;const dt=at.getValueSize();at.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ct=dt/3);let ht=0;const mt=lt.getValueSize();lt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ht=mt/3);const gt=at.times.length-1;let yt;if(it<=at.times[0]){const pt=ct,xt=dt-ct;yt=at.values.slice(pt,xt)}else if(it>=at.times[gt]){const pt=gt*dt+ct,xt=pt+dt-ct;yt=at.values.slice(pt,xt)}else{const pt=at.createInterpolant(),xt=ct,vt=dt-ct;pt.evaluate(it),yt=pt.resultBuffer.slice(xt,vt)}ot==="quaternion"&&new Quaternion().fromArray(yt).normalize().conjugate().toArray(yt);const _t=lt.times.length;for(let pt=0;pt<_t;++pt){const xt=pt*mt+ht;if(ot==="quaternion")Quaternion.multiplyQuaternionsFlat(lt.values,xt,yt,0,lt.values,xt);else{const vt=mt-ht*2;for(let St=0;St<vt;++St)lt.values[xt+St]-=yt[St]}}}return et.blendMode=AdditiveAnimationBlendMode,et}const AnimationUtils={convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(c,tt,nt,rt){this.parameterPositions=c,this._cachedIndex=0,this.resultBuffer=rt!==void 0?rt:new tt.constructor(nt),this.sampleValues=tt,this.valueSize=nt,this.settings=null,this.DefaultSettings_={}}evaluate(c){const tt=this.parameterPositions;let nt=this._cachedIndex,rt=tt[nt],it=tt[nt-1];e:{t:{let st;n:{r:if(!(c<rt)){for(let at=nt+2;;){if(rt===void 0){if(c<it)break r;return nt=tt.length,this._cachedIndex=nt,this.copySampleValue_(nt-1)}if(nt===at)break;if(it=rt,rt=tt[++nt],c<rt)break t}st=tt.length;break n}if(!(c>=it)){const at=tt[1];c<at&&(nt=2,it=at);for(let ot=nt-2;;){if(it===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(nt===ot)break;if(rt=it,it=tt[--nt-1],c>=it)break t}st=nt,nt=0;break n}break e}for(;nt<st;){const at=nt+st>>>1;c<tt[at]?st=at:nt=at+1}if(rt=tt[nt],it=tt[nt-1],it===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(rt===void 0)return nt=tt.length,this._cachedIndex=nt,this.copySampleValue_(nt-1)}this._cachedIndex=nt,this.intervalChanged_(nt,it,rt)}return this.interpolate_(nt,it,c,rt)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(c){const tt=this.resultBuffer,nt=this.sampleValues,rt=this.valueSize,it=c*rt;for(let st=0;st!==rt;++st)tt[st]=nt[it+st];return tt}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(c,tt,nt,rt){super(c,tt,nt,rt),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(c,tt,nt){const rt=this.parameterPositions;let it=c-2,st=c+1,at=rt[it],ot=rt[st];if(at===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:it=c,at=2*tt-nt;break;case WrapAroundEnding:it=rt.length-2,at=tt+rt[it]-rt[it+1];break;default:it=c,at=nt}if(ot===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:st=c,ot=2*nt-tt;break;case WrapAroundEnding:st=1,ot=nt+rt[1]-rt[0];break;default:st=c-1,ot=tt}const lt=(nt-tt)*.5,ct=this.valueSize;this._weightPrev=lt/(tt-at),this._weightNext=lt/(ot-nt),this._offsetPrev=it*ct,this._offsetNext=st*ct}interpolate_(c,tt,nt,rt){const it=this.resultBuffer,st=this.sampleValues,at=this.valueSize,ot=c*at,lt=ot-at,ct=this._offsetPrev,dt=this._offsetNext,ht=this._weightPrev,mt=this._weightNext,gt=(nt-tt)/(rt-tt),yt=gt*gt,_t=yt*gt,pt=-ht*_t+2*ht*yt-ht*gt,xt=(1+ht)*_t+(-1.5-2*ht)*yt+(-.5+ht)*gt+1,vt=(-1-mt)*_t+(1.5+mt)*yt+.5*gt,St=mt*_t-mt*yt;for(let wt=0;wt!==at;++wt)it[wt]=pt*st[ct+wt]+xt*st[lt+wt]+vt*st[ot+wt]+St*st[dt+wt];return it}}class LinearInterpolant extends Interpolant{constructor(c,tt,nt,rt){super(c,tt,nt,rt)}interpolate_(c,tt,nt,rt){const it=this.resultBuffer,st=this.sampleValues,at=this.valueSize,ot=c*at,lt=ot-at,ct=(nt-tt)/(rt-tt),dt=1-ct;for(let ht=0;ht!==at;++ht)it[ht]=st[lt+ht]*dt+st[ot+ht]*ct;return it}}class DiscreteInterpolant extends Interpolant{constructor(c,tt,nt,rt){super(c,tt,nt,rt)}interpolate_(c){return this.copySampleValue_(c-1)}}class KeyframeTrack{constructor(c,tt,nt,rt){if(c===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(tt===void 0||tt.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+c);this.name=c,this.times=convertArray(tt,this.TimeBufferType),this.values=convertArray(nt,this.ValueBufferType),this.setInterpolation(rt||this.DefaultInterpolation)}static toJSON(c){const tt=c.constructor;let nt;if(tt.toJSON!==this.toJSON)nt=tt.toJSON(c);else{nt={name:c.name,times:convertArray(c.times,Array),values:convertArray(c.values,Array)};const rt=c.getInterpolation();rt!==c.DefaultInterpolation&&(nt.interpolation=rt)}return nt.type=c.ValueTypeName,nt}InterpolantFactoryMethodDiscrete(c){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),c)}InterpolantFactoryMethodLinear(c){return new LinearInterpolant(this.times,this.values,this.getValueSize(),c)}InterpolantFactoryMethodSmooth(c){return new CubicInterpolant(this.times,this.values,this.getValueSize(),c)}setInterpolation(c){let tt;switch(c){case InterpolateDiscrete:tt=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:tt=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:tt=this.InterpolantFactoryMethodSmooth;break}if(tt===void 0){const nt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(c!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(nt);return console.warn("THREE.KeyframeTrack:",nt),this}return this.createInterpolant=tt,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(c){if(c!==0){const tt=this.times;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]+=c}return this}scale(c){if(c!==1){const tt=this.times;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]*=c}return this}trim(c,tt){const nt=this.times,rt=nt.length;let it=0,st=rt-1;for(;it!==rt&&nt[it]<c;)++it;for(;st!==-1&&nt[st]>tt;)--st;if(++st,it!==0||st!==rt){it>=st&&(st=Math.max(st,1),it=st-1);const at=this.getValueSize();this.times=nt.slice(it,st),this.values=this.values.slice(it*at,st*at)}return this}validate(){let c=!0;const tt=this.getValueSize();tt-Math.floor(tt)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),c=!1);const nt=this.times,rt=this.values,it=nt.length;it===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),c=!1);let st=null;for(let at=0;at!==it;at++){const ot=nt[at];if(typeof ot=="number"&&isNaN(ot)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,at,ot),c=!1;break}if(st!==null&&st>ot){console.error("THREE.KeyframeTrack: Out of order keys.",this,at,ot,st),c=!1;break}st=ot}if(rt!==void 0&&isTypedArray(rt))for(let at=0,ot=rt.length;at!==ot;++at){const lt=rt[at];if(isNaN(lt)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,at,lt),c=!1;break}}return c}optimize(){const c=this.times.slice(),tt=this.values.slice(),nt=this.getValueSize(),rt=this.getInterpolation()===InterpolateSmooth,it=c.length-1;let st=1;for(let at=1;at<it;++at){let ot=!1;const lt=c[at],ct=c[at+1];if(lt!==ct&&(at!==1||lt!==c[0]))if(rt)ot=!0;else{const dt=at*nt,ht=dt-nt,mt=dt+nt;for(let gt=0;gt!==nt;++gt){const yt=tt[dt+gt];if(yt!==tt[ht+gt]||yt!==tt[mt+gt]){ot=!0;break}}}if(ot){if(at!==st){c[st]=c[at];const dt=at*nt,ht=st*nt;for(let mt=0;mt!==nt;++mt)tt[ht+mt]=tt[dt+mt]}++st}}if(it>0){c[st]=c[it];for(let at=it*nt,ot=st*nt,lt=0;lt!==nt;++lt)tt[ot+lt]=tt[at+lt];++st}return st!==c.length?(this.times=c.slice(0,st),this.values=tt.slice(0,st*nt)):(this.times=c,this.values=tt),this}clone(){const c=this.times.slice(),tt=this.values.slice(),nt=this.constructor,rt=new nt(this.name,c,tt);return rt.createInterpolant=this.createInterpolant,rt}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{constructor(c,tt,nt){super(c,tt,nt)}}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(c,tt,nt,rt){super(c,tt,nt,rt)}interpolate_(c,tt,nt,rt){const it=this.resultBuffer,st=this.sampleValues,at=this.valueSize,ot=(nt-tt)/(rt-tt);let lt=c*at;for(let ct=lt+at;lt!==ct;lt+=4)Quaternion.slerpFlat(it,0,st,lt-at,st,lt,ot);return it}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(c){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),c)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{constructor(c,tt,nt){super(c,tt,nt)}}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(c="",tt=-1,nt=[],rt=NormalAnimationBlendMode){this.name=c,this.tracks=nt,this.duration=tt,this.blendMode=rt,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(c){const tt=[],nt=c.tracks,rt=1/(c.fps||1);for(let st=0,at=nt.length;st!==at;++st)tt.push(parseKeyframeTrack(nt[st]).scale(rt));const it=new this(c.name,c.duration,tt,c.blendMode);return it.uuid=c.uuid,it}static toJSON(c){const tt=[],nt=c.tracks,rt={name:c.name,duration:c.duration,tracks:tt,uuid:c.uuid,blendMode:c.blendMode};for(let it=0,st=nt.length;it!==st;++it)tt.push(KeyframeTrack.toJSON(nt[it]));return rt}static CreateFromMorphTargetSequence(c,tt,nt,rt){const it=tt.length,st=[];for(let at=0;at<it;at++){let ot=[],lt=[];ot.push((at+it-1)%it,at,(at+1)%it),lt.push(0,1,0);const ct=getKeyframeOrder(ot);ot=sortedArray(ot,1,ct),lt=sortedArray(lt,1,ct),!rt&&ot[0]===0&&(ot.push(it),lt.push(lt[0])),st.push(new NumberKeyframeTrack(".morphTargetInfluences["+tt[at].name+"]",ot,lt).scale(1/nt))}return new this(c,-1,st)}static findByName(c,tt){let nt=c;if(!Array.isArray(c)){const rt=c;nt=rt.geometry&&rt.geometry.animations||rt.animations}for(let rt=0;rt<nt.length;rt++)if(nt[rt].name===tt)return nt[rt];return null}static CreateClipsFromMorphTargetSequences(c,tt,nt){const rt={},it=/^([\w-]*?)([\d]+)$/;for(let at=0,ot=c.length;at<ot;at++){const lt=c[at],ct=lt.name.match(it);if(ct&&ct.length>1){const dt=ct[1];let ht=rt[dt];ht||(rt[dt]=ht=[]),ht.push(lt)}}const st=[];for(const at in rt)st.push(this.CreateFromMorphTargetSequence(at,rt[at],tt,nt));return st}static parseAnimation(c,tt){if(!c)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const nt=function(dt,ht,mt,gt,yt){if(mt.length!==0){const _t=[],pt=[];flattenJSON(mt,_t,pt,gt),_t.length!==0&&yt.push(new dt(ht,_t,pt))}},rt=[],it=c.name||"default",st=c.fps||30,at=c.blendMode;let ot=c.length||-1;const lt=c.hierarchy||[];for(let dt=0;dt<lt.length;dt++){const ht=lt[dt].keys;if(!(!ht||ht.length===0))if(ht[0].morphTargets){const mt={};let gt;for(gt=0;gt<ht.length;gt++)if(ht[gt].morphTargets)for(let yt=0;yt<ht[gt].morphTargets.length;yt++)mt[ht[gt].morphTargets[yt]]=-1;for(const yt in mt){const _t=[],pt=[];for(let xt=0;xt!==ht[gt].morphTargets.length;++xt){const vt=ht[gt];_t.push(vt.time),pt.push(vt.morphTarget===yt?1:0)}rt.push(new NumberKeyframeTrack(".morphTargetInfluence["+yt+"]",_t,pt))}ot=mt.length*st}else{const mt=".bones["+tt[dt].name+"]";nt(VectorKeyframeTrack,mt+".position",ht,"pos",rt),nt(QuaternionKeyframeTrack,mt+".quaternion",ht,"rot",rt),nt(VectorKeyframeTrack,mt+".scale",ht,"scl",rt)}}return rt.length===0?null:new this(it,ot,rt,at)}resetDuration(){const c=this.tracks;let tt=0;for(let nt=0,rt=c.length;nt!==rt;++nt){const it=this.tracks[nt];tt=Math.max(tt,it.times[it.times.length-1])}return this.duration=tt,this}trim(){for(let c=0;c<this.tracks.length;c++)this.tracks[c].trim(0,this.duration);return this}validate(){let c=!0;for(let tt=0;tt<this.tracks.length;tt++)c=c&&this.tracks[tt].validate();return c}optimize(){for(let c=0;c<this.tracks.length;c++)this.tracks[c].optimize();return this}clone(){const c=[];for(let tt=0;tt<this.tracks.length;tt++)c.push(this.tracks[tt].clone());return new this.constructor(this.name,this.duration,c,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(et){switch(et.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+et)}function parseKeyframeTrack(et){if(et.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const c=getTrackTypeForValueTypeName(et.type);if(et.times===void 0){const tt=[],nt=[];flattenJSON(et.keys,tt,nt,"value"),et.times=tt,et.values=nt}return c.parse!==void 0?c.parse(et):new c(et.name,et.times,et.values,et.interpolation)}const Cache={enabled:!1,files:{},add:function(et,c){this.enabled!==!1&&(this.files[et]=c)},get:function(et){if(this.enabled!==!1)return this.files[et]},remove:function(et){delete this.files[et]},clear:function(){this.files={}}};class LoadingManager{constructor(c,tt,nt){const rt=this;let it=!1,st=0,at=0,ot;const lt=[];this.onStart=void 0,this.onLoad=c,this.onProgress=tt,this.onError=nt,this.itemStart=function(ct){at++,it===!1&&rt.onStart!==void 0&&rt.onStart(ct,st,at),it=!0},this.itemEnd=function(ct){st++,rt.onProgress!==void 0&&rt.onProgress(ct,st,at),st===at&&(it=!1,rt.onLoad!==void 0&&rt.onLoad())},this.itemError=function(ct){rt.onError!==void 0&&rt.onError(ct)},this.resolveURL=function(ct){return ot?ot(ct):ct},this.setURLModifier=function(ct){return ot=ct,this},this.addHandler=function(ct,dt){return lt.push(ct,dt),this},this.removeHandler=function(ct){const dt=lt.indexOf(ct);return dt!==-1&&lt.splice(dt,2),this},this.getHandler=function(ct){for(let dt=0,ht=lt.length;dt<ht;dt+=2){const mt=lt[dt],gt=lt[dt+1];if(mt.global&&(mt.lastIndex=0),mt.test(ct))return gt}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(c){this.manager=c!==void 0?c:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(c,tt){const nt=this;return new Promise(function(rt,it){nt.load(c,rt,tt,it)})}parse(){}setCrossOrigin(c){return this.crossOrigin=c,this}setWithCredentials(c){return this.withCredentials=c,this}setPath(c){return this.path=c,this}setResourcePath(c){return this.resourcePath=c,this}setRequestHeader(c){return this.requestHeader=c,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(c,tt){super(c),this.response=tt}}class FileLoader extends Loader{constructor(c){super(c)}load(c,tt,nt,rt){c===void 0&&(c=""),this.path!==void 0&&(c=this.path+c),c=this.manager.resolveURL(c);const it=Cache.get(c);if(it!==void 0)return this.manager.itemStart(c),setTimeout(()=>{tt&&tt(it),this.manager.itemEnd(c)},0),it;if(loading[c]!==void 0){loading[c].push({onLoad:tt,onProgress:nt,onError:rt});return}loading[c]=[],loading[c].push({onLoad:tt,onProgress:nt,onError:rt});const st=new Request(c,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),at=this.mimeType,ot=this.responseType;fetch(st).then(lt=>{if(lt.status===200||lt.status===0){if(lt.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||lt.body===void 0||lt.body.getReader===void 0)return lt;const ct=loading[c],dt=lt.body.getReader(),ht=lt.headers.get("X-File-Size")||lt.headers.get("Content-Length"),mt=ht?parseInt(ht):0,gt=mt!==0;let yt=0;const _t=new ReadableStream({start(pt){xt();function xt(){dt.read().then(({done:vt,value:St})=>{if(vt)pt.close();else{yt+=St.byteLength;const wt=new ProgressEvent("progress",{lengthComputable:gt,loaded:yt,total:mt});for(let Mt=0,Ct=ct.length;Mt<Ct;Mt++){const Rt=ct[Mt];Rt.onProgress&&Rt.onProgress(wt)}pt.enqueue(St),xt()}},vt=>{pt.error(vt)})}}});return new Response(_t)}else throw new HttpError(`fetch for "${lt.url}" responded with ${lt.status}: ${lt.statusText}`,lt)}).then(lt=>{switch(ot){case"arraybuffer":return lt.arrayBuffer();case"blob":return lt.blob();case"document":return lt.text().then(ct=>new DOMParser().parseFromString(ct,at));case"json":return lt.json();default:if(at===void 0)return lt.text();{const dt=/charset="?([^;"\s]*)"?/i.exec(at),ht=dt&&dt[1]?dt[1].toLowerCase():void 0,mt=new TextDecoder(ht);return lt.arrayBuffer().then(gt=>mt.decode(gt))}}}).then(lt=>{Cache.add(c,lt);const ct=loading[c];delete loading[c];for(let dt=0,ht=ct.length;dt<ht;dt++){const mt=ct[dt];mt.onLoad&&mt.onLoad(lt)}}).catch(lt=>{const ct=loading[c];if(ct===void 0)throw this.manager.itemError(c),lt;delete loading[c];for(let dt=0,ht=ct.length;dt<ht;dt++){const mt=ct[dt];mt.onError&&mt.onError(lt)}this.manager.itemError(c)}).finally(()=>{this.manager.itemEnd(c)}),this.manager.itemStart(c)}setResponseType(c){return this.responseType=c,this}setMimeType(c){return this.mimeType=c,this}}class AnimationLoader extends Loader{constructor(c){super(c)}load(c,tt,nt,rt){const it=this,st=new FileLoader(this.manager);st.setPath(this.path),st.setRequestHeader(this.requestHeader),st.setWithCredentials(this.withCredentials),st.load(c,function(at){try{tt(it.parse(JSON.parse(at)))}catch(ot){rt?rt(ot):console.error(ot),it.manager.itemError(c)}},nt,rt)}parse(c){const tt=[];for(let nt=0;nt<c.length;nt++){const rt=AnimationClip.parse(c[nt]);tt.push(rt)}return tt}}class CompressedTextureLoader extends Loader{constructor(c){super(c)}load(c,tt,nt,rt){const it=this,st=[],at=new CompressedTexture,ot=new FileLoader(this.manager);ot.setPath(this.path),ot.setResponseType("arraybuffer"),ot.setRequestHeader(this.requestHeader),ot.setWithCredentials(it.withCredentials);let lt=0;function ct(dt){ot.load(c[dt],function(ht){const mt=it.parse(ht,!0);st[dt]={width:mt.width,height:mt.height,format:mt.format,mipmaps:mt.mipmaps},lt+=1,lt===6&&(mt.mipmapCount===1&&(at.minFilter=LinearFilter),at.image=st,at.format=mt.format,at.needsUpdate=!0,tt&&tt(at))},nt,rt)}if(Array.isArray(c))for(let dt=0,ht=c.length;dt<ht;++dt)ct(dt);else ot.load(c,function(dt){const ht=it.parse(dt,!0);if(ht.isCubemap){const mt=ht.mipmaps.length/ht.mipmapCount;for(let gt=0;gt<mt;gt++){st[gt]={mipmaps:[]};for(let yt=0;yt<ht.mipmapCount;yt++)st[gt].mipmaps.push(ht.mipmaps[gt*ht.mipmapCount+yt]),st[gt].format=ht.format,st[gt].width=ht.width,st[gt].height=ht.height}at.image=st}else at.image.width=ht.width,at.image.height=ht.height,at.mipmaps=ht.mipmaps;ht.mipmapCount===1&&(at.minFilter=LinearFilter),at.format=ht.format,at.needsUpdate=!0,tt&&tt(at)},nt,rt);return at}}class ImageLoader extends Loader{constructor(c){super(c)}load(c,tt,nt,rt){this.path!==void 0&&(c=this.path+c),c=this.manager.resolveURL(c);const it=this,st=Cache.get(c);if(st!==void 0)return it.manager.itemStart(c),setTimeout(function(){tt&&tt(st),it.manager.itemEnd(c)},0),st;const at=createElementNS("img");function ot(){ct(),Cache.add(c,this),tt&&tt(this),it.manager.itemEnd(c)}function lt(dt){ct(),rt&&rt(dt),it.manager.itemError(c),it.manager.itemEnd(c)}function ct(){at.removeEventListener("load",ot,!1),at.removeEventListener("error",lt,!1)}return at.addEventListener("load",ot,!1),at.addEventListener("error",lt,!1),c.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(at.crossOrigin=this.crossOrigin),it.manager.itemStart(c),at.src=c,at}}class CubeTextureLoader extends Loader{constructor(c){super(c)}load(c,tt,nt,rt){const it=new CubeTexture;it.colorSpace=SRGBColorSpace;const st=new ImageLoader(this.manager);st.setCrossOrigin(this.crossOrigin),st.setPath(this.path);let at=0;function ot(lt){st.load(c[lt],function(ct){it.images[lt]=ct,at++,at===6&&(it.needsUpdate=!0,tt&&tt(it))},void 0,rt)}for(let lt=0;lt<c.length;++lt)ot(lt);return it}}class DataTextureLoader extends Loader{constructor(c){super(c)}load(c,tt,nt,rt){const it=this,st=new DataTexture,at=new FileLoader(this.manager);return at.setResponseType("arraybuffer"),at.setRequestHeader(this.requestHeader),at.setPath(this.path),at.setWithCredentials(it.withCredentials),at.load(c,function(ot){let lt;try{lt=it.parse(ot)}catch(ct){if(rt!==void 0)rt(ct);else{console.error(ct);return}}lt.image!==void 0?st.image=lt.image:lt.data!==void 0&&(st.image.width=lt.width,st.image.height=lt.height,st.image.data=lt.data),st.wrapS=lt.wrapS!==void 0?lt.wrapS:ClampToEdgeWrapping,st.wrapT=lt.wrapT!==void 0?lt.wrapT:ClampToEdgeWrapping,st.magFilter=lt.magFilter!==void 0?lt.magFilter:LinearFilter,st.minFilter=lt.minFilter!==void 0?lt.minFilter:LinearFilter,st.anisotropy=lt.anisotropy!==void 0?lt.anisotropy:1,lt.colorSpace!==void 0&&(st.colorSpace=lt.colorSpace),lt.flipY!==void 0&&(st.flipY=lt.flipY),lt.format!==void 0&&(st.format=lt.format),lt.type!==void 0&&(st.type=lt.type),lt.mipmaps!==void 0&&(st.mipmaps=lt.mipmaps,st.minFilter=LinearMipmapLinearFilter),lt.mipmapCount===1&&(st.minFilter=LinearFilter),lt.generateMipmaps!==void 0&&(st.generateMipmaps=lt.generateMipmaps),st.needsUpdate=!0,tt&&tt(st,lt)},nt,rt),st}}class TextureLoader extends Loader{constructor(c){super(c)}load(c,tt,nt,rt){const it=new Texture,st=new ImageLoader(this.manager);return st.setCrossOrigin(this.crossOrigin),st.setPath(this.path),st.load(c,function(at){it.image=at,it.needsUpdate=!0,tt!==void 0&&tt(it)},nt,rt),it}}class Light extends Object3D{constructor(c,tt=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(c),this.intensity=tt}dispose(){}copy(c,tt){return super.copy(c,tt),this.color.copy(c.color),this.intensity=c.intensity,this}toJSON(c){const tt=super.toJSON(c);return tt.object.color=this.color.getHex(),tt.object.intensity=this.intensity,this.groundColor!==void 0&&(tt.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(tt.object.distance=this.distance),this.angle!==void 0&&(tt.object.angle=this.angle),this.decay!==void 0&&(tt.object.decay=this.decay),this.penumbra!==void 0&&(tt.object.penumbra=this.penumbra),this.shadow!==void 0&&(tt.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(tt.object.target=this.target.uuid),tt}}class HemisphereLight extends Light{constructor(c,tt,nt){super(c,nt),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(tt)}copy(c,tt){return super.copy(c,tt),this.groundColor.copy(c.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(c){this.camera=c,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(c){const tt=this.camera,nt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(c.matrixWorld),tt.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(c.target.matrixWorld),tt.lookAt(_lookTarget$1),tt.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(tt.projectionMatrix,tt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),nt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),nt.multiply(_projScreenMatrix$1)}getViewport(c){return this._viewports[c]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(c){return this.camera=c.camera.clone(),this.intensity=c.intensity,this.bias=c.bias,this.radius=c.radius,this.mapSize.copy(c.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const c={};return this.intensity!==1&&(c.intensity=this.intensity),this.bias!==0&&(c.bias=this.bias),this.normalBias!==0&&(c.normalBias=this.normalBias),this.radius!==1&&(c.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(c.mapSize=this.mapSize.toArray()),c.camera=this.camera.toJSON(!1).object,delete c.camera.matrix,c}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(c){const tt=this.camera,nt=RAD2DEG*2*c.angle*this.focus,rt=this.mapSize.width/this.mapSize.height,it=c.distance||tt.far;(nt!==tt.fov||rt!==tt.aspect||it!==tt.far)&&(tt.fov=nt,tt.aspect=rt,tt.far=it,tt.updateProjectionMatrix()),super.updateMatrices(c)}copy(c){return super.copy(c),this.focus=c.focus,this}}class SpotLight extends Light{constructor(c,tt,nt=0,rt=Math.PI/3,it=0,st=2){super(c,tt),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=nt,this.angle=rt,this.penumbra=it,this.decay=st,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(c){this.intensity=c/Math.PI}dispose(){this.shadow.dispose()}copy(c,tt){return super.copy(c,tt),this.distance=c.distance,this.angle=c.angle,this.penumbra=c.penumbra,this.decay=c.decay,this.target=c.target.clone(),this.shadow=c.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(c,tt=0){const nt=this.camera,rt=this.matrix,it=c.distance||nt.far;it!==nt.far&&(nt.far=it,nt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(c.matrixWorld),nt.position.copy(_lightPositionWorld),_lookTarget.copy(nt.position),_lookTarget.add(this._cubeDirections[tt]),nt.up.copy(this._cubeUps[tt]),nt.lookAt(_lookTarget),nt.updateMatrixWorld(),rt.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(c,tt,nt=0,rt=2){super(c,tt),this.isPointLight=!0,this.type="PointLight",this.distance=nt,this.decay=rt,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(c){this.intensity=c/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(c,tt){return super.copy(c,tt),this.distance=c.distance,this.decay=c.decay,this.shadow=c.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(c,tt){super(c,tt),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(c){return super.copy(c),this.target=c.target.clone(),this.shadow=c.shadow.clone(),this}}class AmbientLight extends Light{constructor(c,tt){super(c,tt),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(c,tt,nt=10,rt=10){super(c,tt),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=nt,this.height=rt}get power(){return this.intensity*this.width*this.height*Math.PI}set power(c){this.intensity=c/(this.width*this.height*Math.PI)}copy(c){return super.copy(c),this.width=c.width,this.height=c.height,this}toJSON(c){const tt=super.toJSON(c);return tt.object.width=this.width,tt.object.height=this.height,tt}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let c=0;c<9;c++)this.coefficients.push(new Vector3)}set(c){for(let tt=0;tt<9;tt++)this.coefficients[tt].copy(c[tt]);return this}zero(){for(let c=0;c<9;c++)this.coefficients[c].set(0,0,0);return this}getAt(c,tt){const nt=c.x,rt=c.y,it=c.z,st=this.coefficients;return tt.copy(st[0]).multiplyScalar(.282095),tt.addScaledVector(st[1],.488603*rt),tt.addScaledVector(st[2],.488603*it),tt.addScaledVector(st[3],.488603*nt),tt.addScaledVector(st[4],1.092548*(nt*rt)),tt.addScaledVector(st[5],1.092548*(rt*it)),tt.addScaledVector(st[6],.315392*(3*it*it-1)),tt.addScaledVector(st[7],1.092548*(nt*it)),tt.addScaledVector(st[8],.546274*(nt*nt-rt*rt)),tt}getIrradianceAt(c,tt){const nt=c.x,rt=c.y,it=c.z,st=this.coefficients;return tt.copy(st[0]).multiplyScalar(.886227),tt.addScaledVector(st[1],2*.511664*rt),tt.addScaledVector(st[2],2*.511664*it),tt.addScaledVector(st[3],2*.511664*nt),tt.addScaledVector(st[4],2*.429043*nt*rt),tt.addScaledVector(st[5],2*.429043*rt*it),tt.addScaledVector(st[6],.743125*it*it-.247708),tt.addScaledVector(st[7],2*.429043*nt*it),tt.addScaledVector(st[8],.429043*(nt*nt-rt*rt)),tt}add(c){for(let tt=0;tt<9;tt++)this.coefficients[tt].add(c.coefficients[tt]);return this}addScaledSH(c,tt){for(let nt=0;nt<9;nt++)this.coefficients[nt].addScaledVector(c.coefficients[nt],tt);return this}scale(c){for(let tt=0;tt<9;tt++)this.coefficients[tt].multiplyScalar(c);return this}lerp(c,tt){for(let nt=0;nt<9;nt++)this.coefficients[nt].lerp(c.coefficients[nt],tt);return this}equals(c){for(let tt=0;tt<9;tt++)if(!this.coefficients[tt].equals(c.coefficients[tt]))return!1;return!0}copy(c){return this.set(c.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(c,tt=0){const nt=this.coefficients;for(let rt=0;rt<9;rt++)nt[rt].fromArray(c,tt+rt*3);return this}toArray(c=[],tt=0){const nt=this.coefficients;for(let rt=0;rt<9;rt++)nt[rt].toArray(c,tt+rt*3);return c}static getBasisAt(c,tt){const nt=c.x,rt=c.y,it=c.z;tt[0]=.282095,tt[1]=.488603*rt,tt[2]=.488603*it,tt[3]=.488603*nt,tt[4]=1.092548*nt*rt,tt[5]=1.092548*rt*it,tt[6]=.315392*(3*it*it-1),tt[7]=1.092548*nt*it,tt[8]=.546274*(nt*nt-rt*rt)}}class LightProbe extends Light{constructor(c=new SphericalHarmonics3,tt=1){super(void 0,tt),this.isLightProbe=!0,this.sh=c}copy(c){return super.copy(c),this.sh.copy(c.sh),this}fromJSON(c){return this.intensity=c.intensity,this.sh.fromArray(c.sh),this}toJSON(c){const tt=super.toJSON(c);return tt.object.sh=this.sh.toArray(),tt}}class MaterialLoader extends Loader{constructor(c){super(c),this.textures={}}load(c,tt,nt,rt){const it=this,st=new FileLoader(it.manager);st.setPath(it.path),st.setRequestHeader(it.requestHeader),st.setWithCredentials(it.withCredentials),st.load(c,function(at){try{tt(it.parse(JSON.parse(at)))}catch(ot){rt?rt(ot):console.error(ot),it.manager.itemError(c)}},nt,rt)}parse(c){const tt=this.textures;function nt(it){return tt[it]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",it),tt[it]}const rt=MaterialLoader.createMaterialFromType(c.type);if(c.uuid!==void 0&&(rt.uuid=c.uuid),c.name!==void 0&&(rt.name=c.name),c.color!==void 0&&rt.color!==void 0&&rt.color.setHex(c.color),c.roughness!==void 0&&(rt.roughness=c.roughness),c.metalness!==void 0&&(rt.metalness=c.metalness),c.sheen!==void 0&&(rt.sheen=c.sheen),c.sheenColor!==void 0&&(rt.sheenColor=new Color().setHex(c.sheenColor)),c.sheenRoughness!==void 0&&(rt.sheenRoughness=c.sheenRoughness),c.emissive!==void 0&&rt.emissive!==void 0&&rt.emissive.setHex(c.emissive),c.specular!==void 0&&rt.specular!==void 0&&rt.specular.setHex(c.specular),c.specularIntensity!==void 0&&(rt.specularIntensity=c.specularIntensity),c.specularColor!==void 0&&rt.specularColor!==void 0&&rt.specularColor.setHex(c.specularColor),c.shininess!==void 0&&(rt.shininess=c.shininess),c.clearcoat!==void 0&&(rt.clearcoat=c.clearcoat),c.clearcoatRoughness!==void 0&&(rt.clearcoatRoughness=c.clearcoatRoughness),c.dispersion!==void 0&&(rt.dispersion=c.dispersion),c.iridescence!==void 0&&(rt.iridescence=c.iridescence),c.iridescenceIOR!==void 0&&(rt.iridescenceIOR=c.iridescenceIOR),c.iridescenceThicknessRange!==void 0&&(rt.iridescenceThicknessRange=c.iridescenceThicknessRange),c.transmission!==void 0&&(rt.transmission=c.transmission),c.thickness!==void 0&&(rt.thickness=c.thickness),c.attenuationDistance!==void 0&&(rt.attenuationDistance=c.attenuationDistance),c.attenuationColor!==void 0&&rt.attenuationColor!==void 0&&rt.attenuationColor.setHex(c.attenuationColor),c.anisotropy!==void 0&&(rt.anisotropy=c.anisotropy),c.anisotropyRotation!==void 0&&(rt.anisotropyRotation=c.anisotropyRotation),c.fog!==void 0&&(rt.fog=c.fog),c.flatShading!==void 0&&(rt.flatShading=c.flatShading),c.blending!==void 0&&(rt.blending=c.blending),c.combine!==void 0&&(rt.combine=c.combine),c.side!==void 0&&(rt.side=c.side),c.shadowSide!==void 0&&(rt.shadowSide=c.shadowSide),c.opacity!==void 0&&(rt.opacity=c.opacity),c.transparent!==void 0&&(rt.transparent=c.transparent),c.alphaTest!==void 0&&(rt.alphaTest=c.alphaTest),c.alphaHash!==void 0&&(rt.alphaHash=c.alphaHash),c.depthFunc!==void 0&&(rt.depthFunc=c.depthFunc),c.depthTest!==void 0&&(rt.depthTest=c.depthTest),c.depthWrite!==void 0&&(rt.depthWrite=c.depthWrite),c.colorWrite!==void 0&&(rt.colorWrite=c.colorWrite),c.blendSrc!==void 0&&(rt.blendSrc=c.blendSrc),c.blendDst!==void 0&&(rt.blendDst=c.blendDst),c.blendEquation!==void 0&&(rt.blendEquation=c.blendEquation),c.blendSrcAlpha!==void 0&&(rt.blendSrcAlpha=c.blendSrcAlpha),c.blendDstAlpha!==void 0&&(rt.blendDstAlpha=c.blendDstAlpha),c.blendEquationAlpha!==void 0&&(rt.blendEquationAlpha=c.blendEquationAlpha),c.blendColor!==void 0&&rt.blendColor!==void 0&&rt.blendColor.setHex(c.blendColor),c.blendAlpha!==void 0&&(rt.blendAlpha=c.blendAlpha),c.stencilWriteMask!==void 0&&(rt.stencilWriteMask=c.stencilWriteMask),c.stencilFunc!==void 0&&(rt.stencilFunc=c.stencilFunc),c.stencilRef!==void 0&&(rt.stencilRef=c.stencilRef),c.stencilFuncMask!==void 0&&(rt.stencilFuncMask=c.stencilFuncMask),c.stencilFail!==void 0&&(rt.stencilFail=c.stencilFail),c.stencilZFail!==void 0&&(rt.stencilZFail=c.stencilZFail),c.stencilZPass!==void 0&&(rt.stencilZPass=c.stencilZPass),c.stencilWrite!==void 0&&(rt.stencilWrite=c.stencilWrite),c.wireframe!==void 0&&(rt.wireframe=c.wireframe),c.wireframeLinewidth!==void 0&&(rt.wireframeLinewidth=c.wireframeLinewidth),c.wireframeLinecap!==void 0&&(rt.wireframeLinecap=c.wireframeLinecap),c.wireframeLinejoin!==void 0&&(rt.wireframeLinejoin=c.wireframeLinejoin),c.rotation!==void 0&&(rt.rotation=c.rotation),c.linewidth!==void 0&&(rt.linewidth=c.linewidth),c.dashSize!==void 0&&(rt.dashSize=c.dashSize),c.gapSize!==void 0&&(rt.gapSize=c.gapSize),c.scale!==void 0&&(rt.scale=c.scale),c.polygonOffset!==void 0&&(rt.polygonOffset=c.polygonOffset),c.polygonOffsetFactor!==void 0&&(rt.polygonOffsetFactor=c.polygonOffsetFactor),c.polygonOffsetUnits!==void 0&&(rt.polygonOffsetUnits=c.polygonOffsetUnits),c.dithering!==void 0&&(rt.dithering=c.dithering),c.alphaToCoverage!==void 0&&(rt.alphaToCoverage=c.alphaToCoverage),c.premultipliedAlpha!==void 0&&(rt.premultipliedAlpha=c.premultipliedAlpha),c.forceSinglePass!==void 0&&(rt.forceSinglePass=c.forceSinglePass),c.visible!==void 0&&(rt.visible=c.visible),c.toneMapped!==void 0&&(rt.toneMapped=c.toneMapped),c.userData!==void 0&&(rt.userData=c.userData),c.vertexColors!==void 0&&(typeof c.vertexColors=="number"?rt.vertexColors=c.vertexColors>0:rt.vertexColors=c.vertexColors),c.uniforms!==void 0)for(const it in c.uniforms){const st=c.uniforms[it];switch(rt.uniforms[it]={},st.type){case"t":rt.uniforms[it].value=nt(st.value);break;case"c":rt.uniforms[it].value=new Color().setHex(st.value);break;case"v2":rt.uniforms[it].value=new Vector2().fromArray(st.value);break;case"v3":rt.uniforms[it].value=new Vector3().fromArray(st.value);break;case"v4":rt.uniforms[it].value=new Vector4().fromArray(st.value);break;case"m3":rt.uniforms[it].value=new Matrix3().fromArray(st.value);break;case"m4":rt.uniforms[it].value=new Matrix4().fromArray(st.value);break;default:rt.uniforms[it].value=st.value}}if(c.defines!==void 0&&(rt.defines=c.defines),c.vertexShader!==void 0&&(rt.vertexShader=c.vertexShader),c.fragmentShader!==void 0&&(rt.fragmentShader=c.fragmentShader),c.glslVersion!==void 0&&(rt.glslVersion=c.glslVersion),c.extensions!==void 0)for(const it in c.extensions)rt.extensions[it]=c.extensions[it];if(c.lights!==void 0&&(rt.lights=c.lights),c.clipping!==void 0&&(rt.clipping=c.clipping),c.size!==void 0&&(rt.size=c.size),c.sizeAttenuation!==void 0&&(rt.sizeAttenuation=c.sizeAttenuation),c.map!==void 0&&(rt.map=nt(c.map)),c.matcap!==void 0&&(rt.matcap=nt(c.matcap)),c.alphaMap!==void 0&&(rt.alphaMap=nt(c.alphaMap)),c.bumpMap!==void 0&&(rt.bumpMap=nt(c.bumpMap)),c.bumpScale!==void 0&&(rt.bumpScale=c.bumpScale),c.normalMap!==void 0&&(rt.normalMap=nt(c.normalMap)),c.normalMapType!==void 0&&(rt.normalMapType=c.normalMapType),c.normalScale!==void 0){let it=c.normalScale;Array.isArray(it)===!1&&(it=[it,it]),rt.normalScale=new Vector2().fromArray(it)}return c.displacementMap!==void 0&&(rt.displacementMap=nt(c.displacementMap)),c.displacementScale!==void 0&&(rt.displacementScale=c.displacementScale),c.displacementBias!==void 0&&(rt.displacementBias=c.displacementBias),c.roughnessMap!==void 0&&(rt.roughnessMap=nt(c.roughnessMap)),c.metalnessMap!==void 0&&(rt.metalnessMap=nt(c.metalnessMap)),c.emissiveMap!==void 0&&(rt.emissiveMap=nt(c.emissiveMap)),c.emissiveIntensity!==void 0&&(rt.emissiveIntensity=c.emissiveIntensity),c.specularMap!==void 0&&(rt.specularMap=nt(c.specularMap)),c.specularIntensityMap!==void 0&&(rt.specularIntensityMap=nt(c.specularIntensityMap)),c.specularColorMap!==void 0&&(rt.specularColorMap=nt(c.specularColorMap)),c.envMap!==void 0&&(rt.envMap=nt(c.envMap)),c.envMapRotation!==void 0&&rt.envMapRotation.fromArray(c.envMapRotation),c.envMapIntensity!==void 0&&(rt.envMapIntensity=c.envMapIntensity),c.reflectivity!==void 0&&(rt.reflectivity=c.reflectivity),c.refractionRatio!==void 0&&(rt.refractionRatio=c.refractionRatio),c.lightMap!==void 0&&(rt.lightMap=nt(c.lightMap)),c.lightMapIntensity!==void 0&&(rt.lightMapIntensity=c.lightMapIntensity),c.aoMap!==void 0&&(rt.aoMap=nt(c.aoMap)),c.aoMapIntensity!==void 0&&(rt.aoMapIntensity=c.aoMapIntensity),c.gradientMap!==void 0&&(rt.gradientMap=nt(c.gradientMap)),c.clearcoatMap!==void 0&&(rt.clearcoatMap=nt(c.clearcoatMap)),c.clearcoatRoughnessMap!==void 0&&(rt.clearcoatRoughnessMap=nt(c.clearcoatRoughnessMap)),c.clearcoatNormalMap!==void 0&&(rt.clearcoatNormalMap=nt(c.clearcoatNormalMap)),c.clearcoatNormalScale!==void 0&&(rt.clearcoatNormalScale=new Vector2().fromArray(c.clearcoatNormalScale)),c.iridescenceMap!==void 0&&(rt.iridescenceMap=nt(c.iridescenceMap)),c.iridescenceThicknessMap!==void 0&&(rt.iridescenceThicknessMap=nt(c.iridescenceThicknessMap)),c.transmissionMap!==void 0&&(rt.transmissionMap=nt(c.transmissionMap)),c.thicknessMap!==void 0&&(rt.thicknessMap=nt(c.thicknessMap)),c.anisotropyMap!==void 0&&(rt.anisotropyMap=nt(c.anisotropyMap)),c.sheenColorMap!==void 0&&(rt.sheenColorMap=nt(c.sheenColorMap)),c.sheenRoughnessMap!==void 0&&(rt.sheenRoughnessMap=nt(c.sheenRoughnessMap)),rt}setTextures(c){return this.textures=c,this}static createMaterialFromType(c){const tt={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new tt[c]}}class LoaderUtils{static decodeText(c){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(c);let tt="";for(let nt=0,rt=c.length;nt<rt;nt++)tt+=String.fromCharCode(c[nt]);try{return decodeURIComponent(escape(tt))}catch{return tt}}static extractUrlBase(c){const tt=c.lastIndexOf("/");return tt===-1?"./":c.slice(0,tt+1)}static resolveURL(c,tt){return typeof c!="string"||c===""?"":(/^https?:\/\//i.test(tt)&&/^\//.test(c)&&(tt=tt.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(c)||/^data:.*,.*$/i.test(c)||/^blob:.*$/i.test(c)?c:tt+c)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(c){return super.copy(c),this.instanceCount=c.instanceCount,this}toJSON(){const c=super.toJSON();return c.instanceCount=this.instanceCount,c.isInstancedBufferGeometry=!0,c}}class BufferGeometryLoader extends Loader{constructor(c){super(c)}load(c,tt,nt,rt){const it=this,st=new FileLoader(it.manager);st.setPath(it.path),st.setRequestHeader(it.requestHeader),st.setWithCredentials(it.withCredentials),st.load(c,function(at){try{tt(it.parse(JSON.parse(at)))}catch(ot){rt?rt(ot):console.error(ot),it.manager.itemError(c)}},nt,rt)}parse(c){const tt={},nt={};function rt(mt,gt){if(tt[gt]!==void 0)return tt[gt];const _t=mt.interleavedBuffers[gt],pt=it(mt,_t.buffer),xt=getTypedArray(_t.type,pt),vt=new InterleavedBuffer(xt,_t.stride);return vt.uuid=_t.uuid,tt[gt]=vt,vt}function it(mt,gt){if(nt[gt]!==void 0)return nt[gt];const _t=mt.arrayBuffers[gt],pt=new Uint32Array(_t).buffer;return nt[gt]=pt,pt}const st=c.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,at=c.data.index;if(at!==void 0){const mt=getTypedArray(at.type,at.array);st.setIndex(new BufferAttribute(mt,1))}const ot=c.data.attributes;for(const mt in ot){const gt=ot[mt];let yt;if(gt.isInterleavedBufferAttribute){const _t=rt(c.data,gt.data);yt=new InterleavedBufferAttribute(_t,gt.itemSize,gt.offset,gt.normalized)}else{const _t=getTypedArray(gt.type,gt.array),pt=gt.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;yt=new pt(_t,gt.itemSize,gt.normalized)}gt.name!==void 0&&(yt.name=gt.name),gt.usage!==void 0&&yt.setUsage(gt.usage),st.setAttribute(mt,yt)}const lt=c.data.morphAttributes;if(lt)for(const mt in lt){const gt=lt[mt],yt=[];for(let _t=0,pt=gt.length;_t<pt;_t++){const xt=gt[_t];let vt;if(xt.isInterleavedBufferAttribute){const St=rt(c.data,xt.data);vt=new InterleavedBufferAttribute(St,xt.itemSize,xt.offset,xt.normalized)}else{const St=getTypedArray(xt.type,xt.array);vt=new BufferAttribute(St,xt.itemSize,xt.normalized)}xt.name!==void 0&&(vt.name=xt.name),yt.push(vt)}st.morphAttributes[mt]=yt}c.data.morphTargetsRelative&&(st.morphTargetsRelative=!0);const dt=c.data.groups||c.data.drawcalls||c.data.offsets;if(dt!==void 0)for(let mt=0,gt=dt.length;mt!==gt;++mt){const yt=dt[mt];st.addGroup(yt.start,yt.count,yt.materialIndex)}const ht=c.data.boundingSphere;if(ht!==void 0){const mt=new Vector3;ht.center!==void 0&&mt.fromArray(ht.center),st.boundingSphere=new Sphere$1(mt,ht.radius)}return c.name&&(st.name=c.name),c.userData&&(st.userData=c.userData),st}}class ObjectLoader extends Loader{constructor(c){super(c)}load(c,tt,nt,rt){const it=this,st=this.path===""?LoaderUtils.extractUrlBase(c):this.path;this.resourcePath=this.resourcePath||st;const at=new FileLoader(this.manager);at.setPath(this.path),at.setRequestHeader(this.requestHeader),at.setWithCredentials(this.withCredentials),at.load(c,function(ot){let lt=null;try{lt=JSON.parse(ot)}catch(dt){rt!==void 0&&rt(dt),console.error("THREE:ObjectLoader: Can't parse "+c+".",dt.message);return}const ct=lt.metadata;if(ct===void 0||ct.type===void 0||ct.type.toLowerCase()==="geometry"){rt!==void 0&&rt(new Error("THREE.ObjectLoader: Can't load "+c)),console.error("THREE.ObjectLoader: Can't load "+c);return}it.parse(lt,tt)},nt,rt)}async loadAsync(c,tt){const nt=this,rt=this.path===""?LoaderUtils.extractUrlBase(c):this.path;this.resourcePath=this.resourcePath||rt;const it=new FileLoader(this.manager);it.setPath(this.path),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials);const st=await it.loadAsync(c,tt),at=JSON.parse(st),ot=at.metadata;if(ot===void 0||ot.type===void 0||ot.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+c);return await nt.parseAsync(at)}parse(c,tt){const nt=this.parseAnimations(c.animations),rt=this.parseShapes(c.shapes),it=this.parseGeometries(c.geometries,rt),st=this.parseImages(c.images,function(){tt!==void 0&&tt(lt)}),at=this.parseTextures(c.textures,st),ot=this.parseMaterials(c.materials,at),lt=this.parseObject(c.object,it,ot,at,nt),ct=this.parseSkeletons(c.skeletons,lt);if(this.bindSkeletons(lt,ct),this.bindLightTargets(lt),tt!==void 0){let dt=!1;for(const ht in st)if(st[ht].data instanceof HTMLImageElement){dt=!0;break}dt===!1&&tt(lt)}return lt}async parseAsync(c){const tt=this.parseAnimations(c.animations),nt=this.parseShapes(c.shapes),rt=this.parseGeometries(c.geometries,nt),it=await this.parseImagesAsync(c.images),st=this.parseTextures(c.textures,it),at=this.parseMaterials(c.materials,st),ot=this.parseObject(c.object,rt,at,st,tt),lt=this.parseSkeletons(c.skeletons,ot);return this.bindSkeletons(ot,lt),this.bindLightTargets(ot),ot}parseShapes(c){const tt={};if(c!==void 0)for(let nt=0,rt=c.length;nt<rt;nt++){const it=new Shape().fromJSON(c[nt]);tt[it.uuid]=it}return tt}parseSkeletons(c,tt){const nt={},rt={};if(tt.traverse(function(it){it.isBone&&(rt[it.uuid]=it)}),c!==void 0)for(let it=0,st=c.length;it<st;it++){const at=new Skeleton().fromJSON(c[it],rt);nt[at.uuid]=at}return nt}parseGeometries(c,tt){const nt={};if(c!==void 0){const rt=new BufferGeometryLoader;for(let it=0,st=c.length;it<st;it++){let at;const ot=c[it];switch(ot.type){case"BufferGeometry":case"InstancedBufferGeometry":at=rt.parse(ot);break;default:ot.type in Geometries?at=Geometries[ot.type].fromJSON(ot,tt):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${ot.type}"`)}at.uuid=ot.uuid,ot.name!==void 0&&(at.name=ot.name),ot.userData!==void 0&&(at.userData=ot.userData),nt[ot.uuid]=at}}return nt}parseMaterials(c,tt){const nt={},rt={};if(c!==void 0){const it=new MaterialLoader;it.setTextures(tt);for(let st=0,at=c.length;st<at;st++){const ot=c[st];nt[ot.uuid]===void 0&&(nt[ot.uuid]=it.parse(ot)),rt[ot.uuid]=nt[ot.uuid]}}return rt}parseAnimations(c){const tt={};if(c!==void 0)for(let nt=0;nt<c.length;nt++){const rt=c[nt],it=AnimationClip.parse(rt);tt[it.uuid]=it}return tt}parseImages(c,tt){const nt=this,rt={};let it;function st(ot){return nt.manager.itemStart(ot),it.load(ot,function(){nt.manager.itemEnd(ot)},void 0,function(){nt.manager.itemError(ot),nt.manager.itemEnd(ot)})}function at(ot){if(typeof ot=="string"){const lt=ot,ct=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(lt)?lt:nt.resourcePath+lt;return st(ct)}else return ot.data?{data:getTypedArray(ot.type,ot.data),width:ot.width,height:ot.height}:null}if(c!==void 0&&c.length>0){const ot=new LoadingManager(tt);it=new ImageLoader(ot),it.setCrossOrigin(this.crossOrigin);for(let lt=0,ct=c.length;lt<ct;lt++){const dt=c[lt],ht=dt.url;if(Array.isArray(ht)){const mt=[];for(let gt=0,yt=ht.length;gt<yt;gt++){const _t=ht[gt],pt=at(_t);pt!==null&&(pt instanceof HTMLImageElement?mt.push(pt):mt.push(new DataTexture(pt.data,pt.width,pt.height)))}rt[dt.uuid]=new Source(mt)}else{const mt=at(dt.url);rt[dt.uuid]=new Source(mt)}}}return rt}async parseImagesAsync(c){const tt=this,nt={};let rt;async function it(st){if(typeof st=="string"){const at=st,ot=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(at)?at:tt.resourcePath+at;return await rt.loadAsync(ot)}else return st.data?{data:getTypedArray(st.type,st.data),width:st.width,height:st.height}:null}if(c!==void 0&&c.length>0){rt=new ImageLoader(this.manager),rt.setCrossOrigin(this.crossOrigin);for(let st=0,at=c.length;st<at;st++){const ot=c[st],lt=ot.url;if(Array.isArray(lt)){const ct=[];for(let dt=0,ht=lt.length;dt<ht;dt++){const mt=lt[dt],gt=await it(mt);gt!==null&&(gt instanceof HTMLImageElement?ct.push(gt):ct.push(new DataTexture(gt.data,gt.width,gt.height)))}nt[ot.uuid]=new Source(ct)}else{const ct=await it(ot.url);nt[ot.uuid]=new Source(ct)}}}return nt}parseTextures(c,tt){function nt(it,st){return typeof it=="number"?it:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",it),st[it])}const rt={};if(c!==void 0)for(let it=0,st=c.length;it<st;it++){const at=c[it];at.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',at.uuid),tt[at.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",at.image);const ot=tt[at.image],lt=ot.data;let ct;Array.isArray(lt)?(ct=new CubeTexture,lt.length===6&&(ct.needsUpdate=!0)):(lt&&lt.data?ct=new DataTexture:ct=new Texture,lt&&(ct.needsUpdate=!0)),ct.source=ot,ct.uuid=at.uuid,at.name!==void 0&&(ct.name=at.name),at.mapping!==void 0&&(ct.mapping=nt(at.mapping,TEXTURE_MAPPING)),at.channel!==void 0&&(ct.channel=at.channel),at.offset!==void 0&&ct.offset.fromArray(at.offset),at.repeat!==void 0&&ct.repeat.fromArray(at.repeat),at.center!==void 0&&ct.center.fromArray(at.center),at.rotation!==void 0&&(ct.rotation=at.rotation),at.wrap!==void 0&&(ct.wrapS=nt(at.wrap[0],TEXTURE_WRAPPING),ct.wrapT=nt(at.wrap[1],TEXTURE_WRAPPING)),at.format!==void 0&&(ct.format=at.format),at.internalFormat!==void 0&&(ct.internalFormat=at.internalFormat),at.type!==void 0&&(ct.type=at.type),at.colorSpace!==void 0&&(ct.colorSpace=at.colorSpace),at.minFilter!==void 0&&(ct.minFilter=nt(at.minFilter,TEXTURE_FILTER)),at.magFilter!==void 0&&(ct.magFilter=nt(at.magFilter,TEXTURE_FILTER)),at.anisotropy!==void 0&&(ct.anisotropy=at.anisotropy),at.flipY!==void 0&&(ct.flipY=at.flipY),at.generateMipmaps!==void 0&&(ct.generateMipmaps=at.generateMipmaps),at.premultiplyAlpha!==void 0&&(ct.premultiplyAlpha=at.premultiplyAlpha),at.unpackAlignment!==void 0&&(ct.unpackAlignment=at.unpackAlignment),at.compareFunction!==void 0&&(ct.compareFunction=at.compareFunction),at.userData!==void 0&&(ct.userData=at.userData),rt[at.uuid]=ct}return rt}parseObject(c,tt,nt,rt,it){let st;function at(ht){return tt[ht]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",ht),tt[ht]}function ot(ht){if(ht!==void 0){if(Array.isArray(ht)){const mt=[];for(let gt=0,yt=ht.length;gt<yt;gt++){const _t=ht[gt];nt[_t]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_t),mt.push(nt[_t])}return mt}return nt[ht]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ht),nt[ht]}}function lt(ht){return rt[ht]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",ht),rt[ht]}let ct,dt;switch(c.type){case"Scene":st=new Scene,c.background!==void 0&&(Number.isInteger(c.background)?st.background=new Color(c.background):st.background=lt(c.background)),c.environment!==void 0&&(st.environment=lt(c.environment)),c.fog!==void 0&&(c.fog.type==="Fog"?st.fog=new Fog(c.fog.color,c.fog.near,c.fog.far):c.fog.type==="FogExp2"&&(st.fog=new FogExp2(c.fog.color,c.fog.density)),c.fog.name!==""&&(st.fog.name=c.fog.name)),c.backgroundBlurriness!==void 0&&(st.backgroundBlurriness=c.backgroundBlurriness),c.backgroundIntensity!==void 0&&(st.backgroundIntensity=c.backgroundIntensity),c.backgroundRotation!==void 0&&st.backgroundRotation.fromArray(c.backgroundRotation),c.environmentIntensity!==void 0&&(st.environmentIntensity=c.environmentIntensity),c.environmentRotation!==void 0&&st.environmentRotation.fromArray(c.environmentRotation);break;case"PerspectiveCamera":st=new PerspectiveCamera(c.fov,c.aspect,c.near,c.far),c.focus!==void 0&&(st.focus=c.focus),c.zoom!==void 0&&(st.zoom=c.zoom),c.filmGauge!==void 0&&(st.filmGauge=c.filmGauge),c.filmOffset!==void 0&&(st.filmOffset=c.filmOffset),c.view!==void 0&&(st.view=Object.assign({},c.view));break;case"OrthographicCamera":st=new OrthographicCamera(c.left,c.right,c.top,c.bottom,c.near,c.far),c.zoom!==void 0&&(st.zoom=c.zoom),c.view!==void 0&&(st.view=Object.assign({},c.view));break;case"AmbientLight":st=new AmbientLight(c.color,c.intensity);break;case"DirectionalLight":st=new DirectionalLight(c.color,c.intensity),st.target=c.target||"";break;case"PointLight":st=new PointLight(c.color,c.intensity,c.distance,c.decay);break;case"RectAreaLight":st=new RectAreaLight(c.color,c.intensity,c.width,c.height);break;case"SpotLight":st=new SpotLight(c.color,c.intensity,c.distance,c.angle,c.penumbra,c.decay),st.target=c.target||"";break;case"HemisphereLight":st=new HemisphereLight(c.color,c.groundColor,c.intensity);break;case"LightProbe":st=new LightProbe().fromJSON(c);break;case"SkinnedMesh":ct=at(c.geometry),dt=ot(c.material),st=new SkinnedMesh(ct,dt),c.bindMode!==void 0&&(st.bindMode=c.bindMode),c.bindMatrix!==void 0&&st.bindMatrix.fromArray(c.bindMatrix),c.skeleton!==void 0&&(st.skeleton=c.skeleton);break;case"Mesh":ct=at(c.geometry),dt=ot(c.material),st=new Mesh(ct,dt);break;case"InstancedMesh":ct=at(c.geometry),dt=ot(c.material);const ht=c.count,mt=c.instanceMatrix,gt=c.instanceColor;st=new InstancedMesh(ct,dt,ht),st.instanceMatrix=new InstancedBufferAttribute(new Float32Array(mt.array),16),gt!==void 0&&(st.instanceColor=new InstancedBufferAttribute(new Float32Array(gt.array),gt.itemSize));break;case"BatchedMesh":ct=at(c.geometry),dt=ot(c.material),st=new BatchedMesh(c.maxInstanceCount,c.maxVertexCount,c.maxIndexCount,dt),st.geometry=ct,st.perObjectFrustumCulled=c.perObjectFrustumCulled,st.sortObjects=c.sortObjects,st._drawRanges=c.drawRanges,st._reservedRanges=c.reservedRanges,st._visibility=c.visibility,st._active=c.active,st._bounds=c.bounds.map(yt=>{const _t=new Box3;_t.min.fromArray(yt.boxMin),_t.max.fromArray(yt.boxMax);const pt=new Sphere$1;return pt.radius=yt.sphereRadius,pt.center.fromArray(yt.sphereCenter),{boxInitialized:yt.boxInitialized,box:_t,sphereInitialized:yt.sphereInitialized,sphere:pt}}),st._maxInstanceCount=c.maxInstanceCount,st._maxVertexCount=c.maxVertexCount,st._maxIndexCount=c.maxIndexCount,st._geometryInitialized=c.geometryInitialized,st._geometryCount=c.geometryCount,st._matricesTexture=lt(c.matricesTexture.uuid),c.colorsTexture!==void 0&&(st._colorsTexture=lt(c.colorsTexture.uuid));break;case"LOD":st=new LOD;break;case"Line":st=new Line(at(c.geometry),ot(c.material));break;case"LineLoop":st=new LineLoop(at(c.geometry),ot(c.material));break;case"LineSegments":st=new LineSegments(at(c.geometry),ot(c.material));break;case"PointCloud":case"Points":st=new Points(at(c.geometry),ot(c.material));break;case"Sprite":st=new Sprite(ot(c.material));break;case"Group":st=new Group;break;case"Bone":st=new Bone;break;default:st=new Object3D}if(st.uuid=c.uuid,c.name!==void 0&&(st.name=c.name),c.matrix!==void 0?(st.matrix.fromArray(c.matrix),c.matrixAutoUpdate!==void 0&&(st.matrixAutoUpdate=c.matrixAutoUpdate),st.matrixAutoUpdate&&st.matrix.decompose(st.position,st.quaternion,st.scale)):(c.position!==void 0&&st.position.fromArray(c.position),c.rotation!==void 0&&st.rotation.fromArray(c.rotation),c.quaternion!==void 0&&st.quaternion.fromArray(c.quaternion),c.scale!==void 0&&st.scale.fromArray(c.scale)),c.up!==void 0&&st.up.fromArray(c.up),c.castShadow!==void 0&&(st.castShadow=c.castShadow),c.receiveShadow!==void 0&&(st.receiveShadow=c.receiveShadow),c.shadow&&(c.shadow.intensity!==void 0&&(st.shadow.intensity=c.shadow.intensity),c.shadow.bias!==void 0&&(st.shadow.bias=c.shadow.bias),c.shadow.normalBias!==void 0&&(st.shadow.normalBias=c.shadow.normalBias),c.shadow.radius!==void 0&&(st.shadow.radius=c.shadow.radius),c.shadow.mapSize!==void 0&&st.shadow.mapSize.fromArray(c.shadow.mapSize),c.shadow.camera!==void 0&&(st.shadow.camera=this.parseObject(c.shadow.camera))),c.visible!==void 0&&(st.visible=c.visible),c.frustumCulled!==void 0&&(st.frustumCulled=c.frustumCulled),c.renderOrder!==void 0&&(st.renderOrder=c.renderOrder),c.userData!==void 0&&(st.userData=c.userData),c.layers!==void 0&&(st.layers.mask=c.layers),c.children!==void 0){const ht=c.children;for(let mt=0;mt<ht.length;mt++)st.add(this.parseObject(ht[mt],tt,nt,rt,it))}if(c.animations!==void 0){const ht=c.animations;for(let mt=0;mt<ht.length;mt++){const gt=ht[mt];st.animations.push(it[gt])}}if(c.type==="LOD"){c.autoUpdate!==void 0&&(st.autoUpdate=c.autoUpdate);const ht=c.levels;for(let mt=0;mt<ht.length;mt++){const gt=ht[mt],yt=st.getObjectByProperty("uuid",gt.object);yt!==void 0&&st.addLevel(yt,gt.distance,gt.hysteresis)}}return st}bindSkeletons(c,tt){Object.keys(tt).length!==0&&c.traverse(function(nt){if(nt.isSkinnedMesh===!0&&nt.skeleton!==void 0){const rt=tt[nt.skeleton];rt===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",nt.skeleton):nt.bind(rt,nt.bindMatrix)}})}bindLightTargets(c){c.traverse(function(tt){if(tt.isDirectionalLight||tt.isSpotLight){const nt=tt.target,rt=c.getObjectByProperty("uuid",nt);rt!==void 0?tt.target=rt:tt.target=new Object3D}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(c){super(c),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(c){return this.options=c,this}load(c,tt,nt,rt){c===void 0&&(c=""),this.path!==void 0&&(c=this.path+c),c=this.manager.resolveURL(c);const it=this,st=Cache.get(c);if(st!==void 0){if(it.manager.itemStart(c),st.then){st.then(lt=>{tt&&tt(lt),it.manager.itemEnd(c)}).catch(lt=>{rt&&rt(lt)});return}return setTimeout(function(){tt&&tt(st),it.manager.itemEnd(c)},0),st}const at={};at.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",at.headers=this.requestHeader;const ot=fetch(c,at).then(function(lt){return lt.blob()}).then(function(lt){return createImageBitmap(lt,Object.assign(it.options,{colorSpaceConversion:"none"}))}).then(function(lt){return Cache.add(c,lt),tt&&tt(lt),it.manager.itemEnd(c),lt}).catch(function(lt){rt&&rt(lt),Cache.remove(c),it.manager.itemError(c),it.manager.itemEnd(c)});Cache.add(c,ot),it.manager.itemStart(c)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(c){_context=c}}class AudioLoader extends Loader{constructor(c){super(c)}load(c,tt,nt,rt){const it=this,st=new FileLoader(this.manager);st.setResponseType("arraybuffer"),st.setPath(this.path),st.setRequestHeader(this.requestHeader),st.setWithCredentials(this.withCredentials),st.load(c,function(ot){try{const lt=ot.slice(0);AudioContext.getContext().decodeAudioData(lt,function(dt){tt(dt)}).catch(at)}catch(lt){at(lt)}},nt,rt);function at(ot){rt?rt(ot):console.error(ot),it.manager.itemError(c)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(c){const tt=this._cache;if(tt.focus!==c.focus||tt.fov!==c.fov||tt.aspect!==c.aspect*this.aspect||tt.near!==c.near||tt.far!==c.far||tt.zoom!==c.zoom||tt.eyeSep!==this.eyeSep){tt.focus=c.focus,tt.fov=c.fov,tt.aspect=c.aspect*this.aspect,tt.near=c.near,tt.far=c.far,tt.zoom=c.zoom,tt.eyeSep=this.eyeSep,_projectionMatrix.copy(c.projectionMatrix);const rt=tt.eyeSep/2,it=rt*tt.near/tt.focus,st=tt.near*Math.tan(DEG2RAD*tt.fov*.5)/tt.zoom;let at,ot;_eyeLeft.elements[12]=-rt,_eyeRight.elements[12]=rt,at=-st*tt.aspect+it,ot=st*tt.aspect+it,_projectionMatrix.elements[0]=2*tt.near/(ot-at),_projectionMatrix.elements[8]=(ot+at)/(ot-at),this.cameraL.projectionMatrix.copy(_projectionMatrix),at=-st*tt.aspect-it,ot=st*tt.aspect-it,_projectionMatrix.elements[0]=2*tt.near/(ot-at),_projectionMatrix.elements[8]=(ot+at)/(ot-at),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(c.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(c.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(c=!0){this.autoStart=c,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let c=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const tt=now();c=(tt-this.oldTime)/1e3,this.oldTime=tt,this.elapsedTime+=c}return c}}function now(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(c){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=c,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(c){return this.gain.gain.setTargetAtTime(c,this.context.currentTime,.01),this}updateMatrixWorld(c){super.updateMatrixWorld(c);const tt=this.context.listener,nt=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),tt.positionX){const rt=this.context.currentTime+this.timeDelta;tt.positionX.linearRampToValueAtTime(_position$1.x,rt),tt.positionY.linearRampToValueAtTime(_position$1.y,rt),tt.positionZ.linearRampToValueAtTime(_position$1.z,rt),tt.forwardX.linearRampToValueAtTime(_orientation$1.x,rt),tt.forwardY.linearRampToValueAtTime(_orientation$1.y,rt),tt.forwardZ.linearRampToValueAtTime(_orientation$1.z,rt),tt.upX.linearRampToValueAtTime(nt.x,rt),tt.upY.linearRampToValueAtTime(nt.y,rt),tt.upZ.linearRampToValueAtTime(nt.z,rt)}else tt.setPosition(_position$1.x,_position$1.y,_position$1.z),tt.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,nt.x,nt.y,nt.z)}}class Audio extends Object3D{constructor(c){super(),this.type="Audio",this.listener=c,this.context=c.context,this.gain=this.context.createGain(),this.gain.connect(c.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(c){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=c,this.connect(),this}setMediaElementSource(c){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(c),this.connect(),this}setMediaStreamSource(c){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(c),this.connect(),this}setBuffer(c){return this.buffer=c,this.sourceType="buffer",this.autoplay&&this.play(),this}play(c=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+c;const tt=this.context.createBufferSource();return tt.buffer=this.buffer,tt.loop=this.loop,tt.loopStart=this.loopStart,tt.loopEnd=this.loopEnd,tt.onended=this.onEnded.bind(this),tt.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=tt,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let c=1,tt=this.filters.length;c<tt;c++)this.filters[c-1].connect(this.filters[c]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let c=1,tt=this.filters.length;c<tt;c++)this.filters[c-1].disconnect(this.filters[c]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(c){return c||(c=[]),this._connected===!0?(this.disconnect(),this.filters=c.slice(),this.connect()):this.filters=c.slice(),this}setDetune(c){return this.detune=c,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(c){return this.setFilters(c?[c]:[])}setPlaybackRate(c){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=c,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(c){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=c,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(c){return this.loopStart=c,this}setLoopEnd(c){return this.loopEnd=c,this}getVolume(){return this.gain.gain.value}setVolume(c){return this.gain.gain.setTargetAtTime(c,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(c){super(c),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(c){return this.panner.refDistance=c,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(c){return this.panner.rolloffFactor=c,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(c){return this.panner.distanceModel=c,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(c){return this.panner.maxDistance=c,this}setDirectionalCone(c,tt,nt){return this.panner.coneInnerAngle=c,this.panner.coneOuterAngle=tt,this.panner.coneOuterGain=nt,this}updateMatrixWorld(c){if(super.updateMatrixWorld(c),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const tt=this.panner;if(tt.positionX){const nt=this.context.currentTime+this.listener.timeDelta;tt.positionX.linearRampToValueAtTime(_position.x,nt),tt.positionY.linearRampToValueAtTime(_position.y,nt),tt.positionZ.linearRampToValueAtTime(_position.z,nt),tt.orientationX.linearRampToValueAtTime(_orientation.x,nt),tt.orientationY.linearRampToValueAtTime(_orientation.y,nt),tt.orientationZ.linearRampToValueAtTime(_orientation.z,nt)}else tt.setPosition(_position.x,_position.y,_position.z),tt.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(c,tt=2048){this.analyser=c.context.createAnalyser(),this.analyser.fftSize=tt,this.data=new Uint8Array(this.analyser.frequencyBinCount),c.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let c=0;const tt=this.getFrequencyData();for(let nt=0;nt<tt.length;nt++)c+=tt[nt];return c/tt.length}}class PropertyMixer{constructor(c,tt,nt){this.binding=c,this.valueSize=nt;let rt,it,st;switch(tt){case"quaternion":rt=this._slerp,it=this._slerpAdditive,st=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(nt*6),this._workIndex=5;break;case"string":case"bool":rt=this._select,it=this._select,st=this._setAdditiveIdentityOther,this.buffer=new Array(nt*5);break;default:rt=this._lerp,it=this._lerpAdditive,st=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(nt*5)}this._mixBufferRegion=rt,this._mixBufferRegionAdditive=it,this._setIdentity=st,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(c,tt){const nt=this.buffer,rt=this.valueSize,it=c*rt+rt;let st=this.cumulativeWeight;if(st===0){for(let at=0;at!==rt;++at)nt[it+at]=nt[at];st=tt}else{st+=tt;const at=tt/st;this._mixBufferRegion(nt,it,0,at,rt)}this.cumulativeWeight=st}accumulateAdditive(c){const tt=this.buffer,nt=this.valueSize,rt=nt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(tt,rt,0,c,nt),this.cumulativeWeightAdditive+=c}apply(c){const tt=this.valueSize,nt=this.buffer,rt=c*tt+tt,it=this.cumulativeWeight,st=this.cumulativeWeightAdditive,at=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,it<1){const ot=tt*this._origIndex;this._mixBufferRegion(nt,rt,ot,1-it,tt)}st>0&&this._mixBufferRegionAdditive(nt,rt,this._addIndex*tt,1,tt);for(let ot=tt,lt=tt+tt;ot!==lt;++ot)if(nt[ot]!==nt[ot+tt]){at.setValue(nt,rt);break}}saveOriginalState(){const c=this.binding,tt=this.buffer,nt=this.valueSize,rt=nt*this._origIndex;c.getValue(tt,rt);for(let it=nt,st=rt;it!==st;++it)tt[it]=tt[rt+it%nt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const c=this.valueSize*3;this.binding.setValue(this.buffer,c)}_setAdditiveIdentityNumeric(){const c=this._addIndex*this.valueSize,tt=c+this.valueSize;for(let nt=c;nt<tt;nt++)this.buffer[nt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const c=this._origIndex*this.valueSize,tt=this._addIndex*this.valueSize;for(let nt=0;nt<this.valueSize;nt++)this.buffer[tt+nt]=this.buffer[c+nt]}_select(c,tt,nt,rt,it){if(rt>=.5)for(let st=0;st!==it;++st)c[tt+st]=c[nt+st]}_slerp(c,tt,nt,rt){Quaternion.slerpFlat(c,tt,c,tt,c,nt,rt)}_slerpAdditive(c,tt,nt,rt,it){const st=this._workIndex*it;Quaternion.multiplyQuaternionsFlat(c,st,c,tt,c,nt),Quaternion.slerpFlat(c,tt,c,tt,c,st,rt)}_lerp(c,tt,nt,rt,it){const st=1-rt;for(let at=0;at!==it;++at){const ot=tt+at;c[ot]=c[ot]*st+c[nt+at]*rt}}_lerpAdditive(c,tt,nt,rt,it){for(let st=0;st!==it;++st){const at=tt+st;c[at]=c[at]+c[nt+st]*rt}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(c,tt,nt){const rt=nt||PropertyBinding.parseTrackName(tt);this._targetGroup=c,this._bindings=c.subscribe_(tt,rt)}getValue(c,tt){this.bind();const nt=this._targetGroup.nCachedObjects_,rt=this._bindings[nt];rt!==void 0&&rt.getValue(c,tt)}setValue(c,tt){const nt=this._bindings;for(let rt=this._targetGroup.nCachedObjects_,it=nt.length;rt!==it;++rt)nt[rt].setValue(c,tt)}bind(){const c=this._bindings;for(let tt=this._targetGroup.nCachedObjects_,nt=c.length;tt!==nt;++tt)c[tt].bind()}unbind(){const c=this._bindings;for(let tt=this._targetGroup.nCachedObjects_,nt=c.length;tt!==nt;++tt)c[tt].unbind()}}class PropertyBinding{constructor(c,tt,nt){this.path=tt,this.parsedPath=nt||PropertyBinding.parseTrackName(tt),this.node=PropertyBinding.findNode(c,this.parsedPath.nodeName),this.rootNode=c,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(c,tt,nt){return c&&c.isAnimationObjectGroup?new PropertyBinding.Composite(c,tt,nt):new PropertyBinding(c,tt,nt)}static sanitizeNodeName(c){return c.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(c){const tt=_trackRe.exec(c);if(tt===null)throw new Error("PropertyBinding: Cannot parse trackName: "+c);const nt={nodeName:tt[2],objectName:tt[3],objectIndex:tt[4],propertyName:tt[5],propertyIndex:tt[6]},rt=nt.nodeName&&nt.nodeName.lastIndexOf(".");if(rt!==void 0&&rt!==-1){const it=nt.nodeName.substring(rt+1);_supportedObjectNames.indexOf(it)!==-1&&(nt.nodeName=nt.nodeName.substring(0,rt),nt.objectName=it)}if(nt.propertyName===null||nt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+c);return nt}static findNode(c,tt){if(tt===void 0||tt===""||tt==="."||tt===-1||tt===c.name||tt===c.uuid)return c;if(c.skeleton){const nt=c.skeleton.getBoneByName(tt);if(nt!==void 0)return nt}if(c.children){const nt=function(it){for(let st=0;st<it.length;st++){const at=it[st];if(at.name===tt||at.uuid===tt)return at;const ot=nt(at.children);if(ot)return ot}return null},rt=nt(c.children);if(rt)return rt}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(c,tt){c[tt]=this.targetObject[this.propertyName]}_getValue_array(c,tt){const nt=this.resolvedProperty;for(let rt=0,it=nt.length;rt!==it;++rt)c[tt++]=nt[rt]}_getValue_arrayElement(c,tt){c[tt]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(c,tt){this.resolvedProperty.toArray(c,tt)}_setValue_direct(c,tt){this.targetObject[this.propertyName]=c[tt]}_setValue_direct_setNeedsUpdate(c,tt){this.targetObject[this.propertyName]=c[tt],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(c,tt){this.targetObject[this.propertyName]=c[tt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(c,tt){const nt=this.resolvedProperty;for(let rt=0,it=nt.length;rt!==it;++rt)nt[rt]=c[tt++]}_setValue_array_setNeedsUpdate(c,tt){const nt=this.resolvedProperty;for(let rt=0,it=nt.length;rt!==it;++rt)nt[rt]=c[tt++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(c,tt){const nt=this.resolvedProperty;for(let rt=0,it=nt.length;rt!==it;++rt)nt[rt]=c[tt++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(c,tt){this.resolvedProperty[this.propertyIndex]=c[tt]}_setValue_arrayElement_setNeedsUpdate(c,tt){this.resolvedProperty[this.propertyIndex]=c[tt],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(c,tt){this.resolvedProperty[this.propertyIndex]=c[tt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(c,tt){this.resolvedProperty.fromArray(c,tt)}_setValue_fromArray_setNeedsUpdate(c,tt){this.resolvedProperty.fromArray(c,tt),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(c,tt){this.resolvedProperty.fromArray(c,tt),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(c,tt){this.bind(),this.getValue(c,tt)}_setValue_unbound(c,tt){this.bind(),this.setValue(c,tt)}bind(){let c=this.node;const tt=this.parsedPath,nt=tt.objectName,rt=tt.propertyName;let it=tt.propertyIndex;if(c||(c=PropertyBinding.findNode(this.rootNode,tt.nodeName),this.node=c),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!c){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(nt){let lt=tt.objectIndex;switch(nt){case"materials":if(!c.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!c.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}c=c.material.materials;break;case"bones":if(!c.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}c=c.skeleton.bones;for(let ct=0;ct<c.length;ct++)if(c[ct].name===lt){lt=ct;break}break;case"map":if("map"in c){c=c.map;break}if(!c.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!c.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}c=c.material.map;break;default:if(c[nt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}c=c[nt]}if(lt!==void 0){if(c[lt]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,c);return}c=c[lt]}}const st=c[rt];if(st===void 0){const lt=tt.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+lt+"."+rt+" but it wasn't found.",c);return}let at=this.Versioning.None;this.targetObject=c,c.needsUpdate!==void 0?at=this.Versioning.NeedsUpdate:c.matrixWorldNeedsUpdate!==void 0&&(at=this.Versioning.MatrixWorldNeedsUpdate);let ot=this.BindingType.Direct;if(it!==void 0){if(rt==="morphTargetInfluences"){if(!c.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!c.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}c.morphTargetDictionary[it]!==void 0&&(it=c.morphTargetDictionary[it])}ot=this.BindingType.ArrayElement,this.resolvedProperty=st,this.propertyIndex=it}else st.fromArray!==void 0&&st.toArray!==void 0?(ot=this.BindingType.HasFromToArray,this.resolvedProperty=st):Array.isArray(st)?(ot=this.BindingType.EntireArray,this.resolvedProperty=st):this.propertyName=rt;this.getValue=this.GetterByBindingType[ot],this.setValue=this.SetterByBindingTypeAndVersioning[ot][at]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const c={};this._indicesByUUID=c;for(let nt=0,rt=arguments.length;nt!==rt;++nt)c[arguments[nt].uuid]=nt;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const tt=this;this.stats={objects:{get total(){return tt._objects.length},get inUse(){return this.total-tt.nCachedObjects_}},get bindingsPerObject(){return tt._bindings.length}}}add(){const c=this._objects,tt=this._indicesByUUID,nt=this._paths,rt=this._parsedPaths,it=this._bindings,st=it.length;let at,ot=c.length,lt=this.nCachedObjects_;for(let ct=0,dt=arguments.length;ct!==dt;++ct){const ht=arguments[ct],mt=ht.uuid;let gt=tt[mt];if(gt===void 0){gt=ot++,tt[mt]=gt,c.push(ht);for(let yt=0,_t=st;yt!==_t;++yt)it[yt].push(new PropertyBinding(ht,nt[yt],rt[yt]))}else if(gt<lt){at=c[gt];const yt=--lt,_t=c[yt];tt[_t.uuid]=gt,c[gt]=_t,tt[mt]=yt,c[yt]=ht;for(let pt=0,xt=st;pt!==xt;++pt){const vt=it[pt],St=vt[yt];let wt=vt[gt];vt[gt]=St,wt===void 0&&(wt=new PropertyBinding(ht,nt[pt],rt[pt])),vt[yt]=wt}}else c[gt]!==at&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=lt}remove(){const c=this._objects,tt=this._indicesByUUID,nt=this._bindings,rt=nt.length;let it=this.nCachedObjects_;for(let st=0,at=arguments.length;st!==at;++st){const ot=arguments[st],lt=ot.uuid,ct=tt[lt];if(ct!==void 0&&ct>=it){const dt=it++,ht=c[dt];tt[ht.uuid]=ct,c[ct]=ht,tt[lt]=dt,c[dt]=ot;for(let mt=0,gt=rt;mt!==gt;++mt){const yt=nt[mt],_t=yt[dt],pt=yt[ct];yt[ct]=_t,yt[dt]=pt}}}this.nCachedObjects_=it}uncache(){const c=this._objects,tt=this._indicesByUUID,nt=this._bindings,rt=nt.length;let it=this.nCachedObjects_,st=c.length;for(let at=0,ot=arguments.length;at!==ot;++at){const lt=arguments[at],ct=lt.uuid,dt=tt[ct];if(dt!==void 0)if(delete tt[ct],dt<it){const ht=--it,mt=c[ht],gt=--st,yt=c[gt];tt[mt.uuid]=dt,c[dt]=mt,tt[yt.uuid]=ht,c[ht]=yt,c.pop();for(let _t=0,pt=rt;_t!==pt;++_t){const xt=nt[_t],vt=xt[ht],St=xt[gt];xt[dt]=vt,xt[ht]=St,xt.pop()}}else{const ht=--st,mt=c[ht];ht>0&&(tt[mt.uuid]=dt),c[dt]=mt,c.pop();for(let gt=0,yt=rt;gt!==yt;++gt){const _t=nt[gt];_t[dt]=_t[ht],_t.pop()}}}this.nCachedObjects_=it}subscribe_(c,tt){const nt=this._bindingsIndicesByPath;let rt=nt[c];const it=this._bindings;if(rt!==void 0)return it[rt];const st=this._paths,at=this._parsedPaths,ot=this._objects,lt=ot.length,ct=this.nCachedObjects_,dt=new Array(lt);rt=it.length,nt[c]=rt,st.push(c),at.push(tt),it.push(dt);for(let ht=ct,mt=ot.length;ht!==mt;++ht){const gt=ot[ht];dt[ht]=new PropertyBinding(gt,c,tt)}return dt}unsubscribe_(c){const tt=this._bindingsIndicesByPath,nt=tt[c];if(nt!==void 0){const rt=this._paths,it=this._parsedPaths,st=this._bindings,at=st.length-1,ot=st[at],lt=c[at];tt[lt]=nt,st[nt]=ot,st.pop(),it[nt]=it[at],it.pop(),rt[nt]=rt[at],rt.pop()}}}class AnimationAction{constructor(c,tt,nt=null,rt=tt.blendMode){this._mixer=c,this._clip=tt,this._localRoot=nt,this.blendMode=rt;const it=tt.tracks,st=it.length,at=new Array(st),ot={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let lt=0;lt!==st;++lt){const ct=it[lt].createInterpolant(null);at[lt]=ct,ct.settings=ot}this._interpolantSettings=ot,this._interpolants=at,this._propertyBindings=new Array(st),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(c){return this._startTime=c,this}setLoop(c,tt){return this.loop=c,this.repetitions=tt,this}setEffectiveWeight(c){return this.weight=c,this._effectiveWeight=this.enabled?c:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(c){return this._scheduleFading(c,0,1)}fadeOut(c){return this._scheduleFading(c,1,0)}crossFadeFrom(c,tt,nt){if(c.fadeOut(tt),this.fadeIn(tt),nt){const rt=this._clip.duration,it=c._clip.duration,st=it/rt,at=rt/it;c.warp(1,st,tt),this.warp(at,1,tt)}return this}crossFadeTo(c,tt,nt){return c.crossFadeFrom(this,tt,nt)}stopFading(){const c=this._weightInterpolant;return c!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(c)),this}setEffectiveTimeScale(c){return this.timeScale=c,this._effectiveTimeScale=this.paused?0:c,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(c){return this.timeScale=this._clip.duration/c,this.stopWarping()}syncWith(c){return this.time=c.time,this.timeScale=c.timeScale,this.stopWarping()}halt(c){return this.warp(this._effectiveTimeScale,0,c)}warp(c,tt,nt){const rt=this._mixer,it=rt.time,st=this.timeScale;let at=this._timeScaleInterpolant;at===null&&(at=rt._lendControlInterpolant(),this._timeScaleInterpolant=at);const ot=at.parameterPositions,lt=at.sampleValues;return ot[0]=it,ot[1]=it+nt,lt[0]=c/st,lt[1]=tt/st,this}stopWarping(){const c=this._timeScaleInterpolant;return c!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(c)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(c,tt,nt,rt){if(!this.enabled){this._updateWeight(c);return}const it=this._startTime;if(it!==null){const ot=(c-it)*nt;ot<0||nt===0?tt=0:(this._startTime=null,tt=nt*ot)}tt*=this._updateTimeScale(c);const st=this._updateTime(tt),at=this._updateWeight(c);if(at>0){const ot=this._interpolants,lt=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let ct=0,dt=ot.length;ct!==dt;++ct)ot[ct].evaluate(st),lt[ct].accumulateAdditive(at);break;case NormalAnimationBlendMode:default:for(let ct=0,dt=ot.length;ct!==dt;++ct)ot[ct].evaluate(st),lt[ct].accumulate(rt,at)}}}_updateWeight(c){let tt=0;if(this.enabled){tt=this.weight;const nt=this._weightInterpolant;if(nt!==null){const rt=nt.evaluate(c)[0];tt*=rt,c>nt.parameterPositions[1]&&(this.stopFading(),rt===0&&(this.enabled=!1))}}return this._effectiveWeight=tt,tt}_updateTimeScale(c){let tt=0;if(!this.paused){tt=this.timeScale;const nt=this._timeScaleInterpolant;if(nt!==null){const rt=nt.evaluate(c)[0];tt*=rt,c>nt.parameterPositions[1]&&(this.stopWarping(),tt===0?this.paused=!0:this.timeScale=tt)}}return this._effectiveTimeScale=tt,tt}_updateTime(c){const tt=this._clip.duration,nt=this.loop;let rt=this.time+c,it=this._loopCount;const st=nt===LoopPingPong;if(c===0)return it===-1?rt:st&&(it&1)===1?tt-rt:rt;if(nt===LoopOnce){it===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(rt>=tt)rt=tt;else if(rt<0)rt=0;else{this.time=rt;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=rt,this._mixer.dispatchEvent({type:"finished",action:this,direction:c<0?-1:1})}}else{if(it===-1&&(c>=0?(it=0,this._setEndings(!0,this.repetitions===0,st)):this._setEndings(this.repetitions===0,!0,st)),rt>=tt||rt<0){const at=Math.floor(rt/tt);rt-=tt*at,it+=Math.abs(at);const ot=this.repetitions-it;if(ot<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,rt=c>0?tt:0,this.time=rt,this._mixer.dispatchEvent({type:"finished",action:this,direction:c>0?1:-1});else{if(ot===1){const lt=c<0;this._setEndings(lt,!lt,st)}else this._setEndings(!1,!1,st);this._loopCount=it,this.time=rt,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:at})}}else this.time=rt;if(st&&(it&1)===1)return tt-rt}return rt}_setEndings(c,tt,nt){const rt=this._interpolantSettings;nt?(rt.endingStart=ZeroSlopeEnding,rt.endingEnd=ZeroSlopeEnding):(c?rt.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:rt.endingStart=WrapAroundEnding,tt?rt.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:rt.endingEnd=WrapAroundEnding)}_scheduleFading(c,tt,nt){const rt=this._mixer,it=rt.time;let st=this._weightInterpolant;st===null&&(st=rt._lendControlInterpolant(),this._weightInterpolant=st);const at=st.parameterPositions,ot=st.sampleValues;return at[0]=it,ot[0]=tt,at[1]=it+c,ot[1]=nt,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher$1{constructor(c){super(),this._root=c,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(c,tt){const nt=c._localRoot||this._root,rt=c._clip.tracks,it=rt.length,st=c._propertyBindings,at=c._interpolants,ot=nt.uuid,lt=this._bindingsByRootAndName;let ct=lt[ot];ct===void 0&&(ct={},lt[ot]=ct);for(let dt=0;dt!==it;++dt){const ht=rt[dt],mt=ht.name;let gt=ct[mt];if(gt!==void 0)++gt.referenceCount,st[dt]=gt;else{if(gt=st[dt],gt!==void 0){gt._cacheIndex===null&&(++gt.referenceCount,this._addInactiveBinding(gt,ot,mt));continue}const yt=tt&&tt._propertyBindings[dt].binding.parsedPath;gt=new PropertyMixer(PropertyBinding.create(nt,mt,yt),ht.ValueTypeName,ht.getValueSize()),++gt.referenceCount,this._addInactiveBinding(gt,ot,mt),st[dt]=gt}at[dt].resultBuffer=gt.buffer}}_activateAction(c){if(!this._isActiveAction(c)){if(c._cacheIndex===null){const nt=(c._localRoot||this._root).uuid,rt=c._clip.uuid,it=this._actionsByClip[rt];this._bindAction(c,it&&it.knownActions[0]),this._addInactiveAction(c,rt,nt)}const tt=c._propertyBindings;for(let nt=0,rt=tt.length;nt!==rt;++nt){const it=tt[nt];it.useCount++===0&&(this._lendBinding(it),it.saveOriginalState())}this._lendAction(c)}}_deactivateAction(c){if(this._isActiveAction(c)){const tt=c._propertyBindings;for(let nt=0,rt=tt.length;nt!==rt;++nt){const it=tt[nt];--it.useCount===0&&(it.restoreOriginalState(),this._takeBackBinding(it))}this._takeBackAction(c)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const c=this;this.stats={actions:{get total(){return c._actions.length},get inUse(){return c._nActiveActions}},bindings:{get total(){return c._bindings.length},get inUse(){return c._nActiveBindings}},controlInterpolants:{get total(){return c._controlInterpolants.length},get inUse(){return c._nActiveControlInterpolants}}}}_isActiveAction(c){const tt=c._cacheIndex;return tt!==null&&tt<this._nActiveActions}_addInactiveAction(c,tt,nt){const rt=this._actions,it=this._actionsByClip;let st=it[tt];if(st===void 0)st={knownActions:[c],actionByRoot:{}},c._byClipCacheIndex=0,it[tt]=st;else{const at=st.knownActions;c._byClipCacheIndex=at.length,at.push(c)}c._cacheIndex=rt.length,rt.push(c),st.actionByRoot[nt]=c}_removeInactiveAction(c){const tt=this._actions,nt=tt[tt.length-1],rt=c._cacheIndex;nt._cacheIndex=rt,tt[rt]=nt,tt.pop(),c._cacheIndex=null;const it=c._clip.uuid,st=this._actionsByClip,at=st[it],ot=at.knownActions,lt=ot[ot.length-1],ct=c._byClipCacheIndex;lt._byClipCacheIndex=ct,ot[ct]=lt,ot.pop(),c._byClipCacheIndex=null;const dt=at.actionByRoot,ht=(c._localRoot||this._root).uuid;delete dt[ht],ot.length===0&&delete st[it],this._removeInactiveBindingsForAction(c)}_removeInactiveBindingsForAction(c){const tt=c._propertyBindings;for(let nt=0,rt=tt.length;nt!==rt;++nt){const it=tt[nt];--it.referenceCount===0&&this._removeInactiveBinding(it)}}_lendAction(c){const tt=this._actions,nt=c._cacheIndex,rt=this._nActiveActions++,it=tt[rt];c._cacheIndex=rt,tt[rt]=c,it._cacheIndex=nt,tt[nt]=it}_takeBackAction(c){const tt=this._actions,nt=c._cacheIndex,rt=--this._nActiveActions,it=tt[rt];c._cacheIndex=rt,tt[rt]=c,it._cacheIndex=nt,tt[nt]=it}_addInactiveBinding(c,tt,nt){const rt=this._bindingsByRootAndName,it=this._bindings;let st=rt[tt];st===void 0&&(st={},rt[tt]=st),st[nt]=c,c._cacheIndex=it.length,it.push(c)}_removeInactiveBinding(c){const tt=this._bindings,nt=c.binding,rt=nt.rootNode.uuid,it=nt.path,st=this._bindingsByRootAndName,at=st[rt],ot=tt[tt.length-1],lt=c._cacheIndex;ot._cacheIndex=lt,tt[lt]=ot,tt.pop(),delete at[it],Object.keys(at).length===0&&delete st[rt]}_lendBinding(c){const tt=this._bindings,nt=c._cacheIndex,rt=this._nActiveBindings++,it=tt[rt];c._cacheIndex=rt,tt[rt]=c,it._cacheIndex=nt,tt[nt]=it}_takeBackBinding(c){const tt=this._bindings,nt=c._cacheIndex,rt=--this._nActiveBindings,it=tt[rt];c._cacheIndex=rt,tt[rt]=c,it._cacheIndex=nt,tt[nt]=it}_lendControlInterpolant(){const c=this._controlInterpolants,tt=this._nActiveControlInterpolants++;let nt=c[tt];return nt===void 0&&(nt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),nt.__cacheIndex=tt,c[tt]=nt),nt}_takeBackControlInterpolant(c){const tt=this._controlInterpolants,nt=c.__cacheIndex,rt=--this._nActiveControlInterpolants,it=tt[rt];c.__cacheIndex=rt,tt[rt]=c,it.__cacheIndex=nt,tt[nt]=it}clipAction(c,tt,nt){const rt=tt||this._root,it=rt.uuid;let st=typeof c=="string"?AnimationClip.findByName(rt,c):c;const at=st!==null?st.uuid:c,ot=this._actionsByClip[at];let lt=null;if(nt===void 0&&(st!==null?nt=st.blendMode:nt=NormalAnimationBlendMode),ot!==void 0){const dt=ot.actionByRoot[it];if(dt!==void 0&&dt.blendMode===nt)return dt;lt=ot.knownActions[0],st===null&&(st=lt._clip)}if(st===null)return null;const ct=new AnimationAction(this,st,tt,nt);return this._bindAction(ct,lt),this._addInactiveAction(ct,at,it),ct}existingAction(c,tt){const nt=tt||this._root,rt=nt.uuid,it=typeof c=="string"?AnimationClip.findByName(nt,c):c,st=it?it.uuid:c,at=this._actionsByClip[st];return at!==void 0&&at.actionByRoot[rt]||null}stopAllAction(){const c=this._actions,tt=this._nActiveActions;for(let nt=tt-1;nt>=0;--nt)c[nt].stop();return this}update(c){c*=this.timeScale;const tt=this._actions,nt=this._nActiveActions,rt=this.time+=c,it=Math.sign(c),st=this._accuIndex^=1;for(let lt=0;lt!==nt;++lt)tt[lt]._update(rt,c,it,st);const at=this._bindings,ot=this._nActiveBindings;for(let lt=0;lt!==ot;++lt)at[lt].apply(st);return this}setTime(c){this.time=0;for(let tt=0;tt<this._actions.length;tt++)this._actions[tt].time=0;return this.update(c)}getRoot(){return this._root}uncacheClip(c){const tt=this._actions,nt=c.uuid,rt=this._actionsByClip,it=rt[nt];if(it!==void 0){const st=it.knownActions;for(let at=0,ot=st.length;at!==ot;++at){const lt=st[at];this._deactivateAction(lt);const ct=lt._cacheIndex,dt=tt[tt.length-1];lt._cacheIndex=null,lt._byClipCacheIndex=null,dt._cacheIndex=ct,tt[ct]=dt,tt.pop(),this._removeInactiveBindingsForAction(lt)}delete rt[nt]}}uncacheRoot(c){const tt=c.uuid,nt=this._actionsByClip;for(const st in nt){const at=nt[st].actionByRoot,ot=at[tt];ot!==void 0&&(this._deactivateAction(ot),this._removeInactiveAction(ot))}const rt=this._bindingsByRootAndName,it=rt[tt];if(it!==void 0)for(const st in it){const at=it[st];at.restoreOriginalState(),this._removeInactiveBinding(at)}}uncacheAction(c,tt){const nt=this.existingAction(c,tt);nt!==null&&(this._deactivateAction(nt),this._removeInactiveAction(nt))}}class Uniform{constructor(c){this.value=c}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id=0;class UniformsGroup extends EventDispatcher$1{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(c){return this.uniforms.push(c),this}remove(c){const tt=this.uniforms.indexOf(c);return tt!==-1&&this.uniforms.splice(tt,1),this}setName(c){return this.name=c,this}setUsage(c){return this.usage=c,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(c){this.name=c.name,this.usage=c.usage;const tt=c.uniforms;this.uniforms.length=0;for(let nt=0,rt=tt.length;nt<rt;nt++){const it=Array.isArray(tt[nt])?tt[nt]:[tt[nt]];for(let st=0;st<it.length;st++)this.uniforms.push(it[st].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(c,tt,nt=1){super(c,tt),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=nt}copy(c){return super.copy(c),this.meshPerAttribute=c.meshPerAttribute,this}clone(c){const tt=super.clone(c);return tt.meshPerAttribute=this.meshPerAttribute,tt}toJSON(c){const tt=super.toJSON(c);return tt.isInstancedInterleavedBuffer=!0,tt.meshPerAttribute=this.meshPerAttribute,tt}}class GLBufferAttribute{constructor(c,tt,nt,rt,it){this.isGLBufferAttribute=!0,this.name="",this.buffer=c,this.type=tt,this.itemSize=nt,this.elementSize=rt,this.count=it,this.version=0}set needsUpdate(c){c===!0&&this.version++}setBuffer(c){return this.buffer=c,this}setType(c,tt){return this.type=c,this.elementSize=tt,this}setItemSize(c){return this.itemSize=c,this}setCount(c){return this.count=c,this}}const _matrix=new Matrix4;class Raycaster{constructor(c,tt,nt=0,rt=1/0){this.ray=new Ray(c,tt),this.near=nt,this.far=rt,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(c,tt){this.ray.set(c,tt)}setFromCamera(c,tt){tt.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(tt.matrixWorld),this.ray.direction.set(c.x,c.y,.5).unproject(tt).sub(this.ray.origin).normalize(),this.camera=tt):tt.isOrthographicCamera?(this.ray.origin.set(c.x,c.y,(tt.near+tt.far)/(tt.near-tt.far)).unproject(tt),this.ray.direction.set(0,0,-1).transformDirection(tt.matrixWorld),this.camera=tt):console.error("THREE.Raycaster: Unsupported camera type: "+tt.type)}setFromXRController(c){return _matrix.identity().extractRotation(c.matrixWorld),this.ray.origin.setFromMatrixPosition(c.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(c,tt=!0,nt=[]){return intersect(c,this,nt,tt),nt.sort(ascSort),nt}intersectObjects(c,tt=!0,nt=[]){for(let rt=0,it=c.length;rt<it;rt++)intersect(c[rt],this,nt,tt);return nt.sort(ascSort),nt}}function ascSort(et,c){return et.distance-c.distance}function intersect(et,c,tt,nt){let rt=!0;if(et.layers.test(c.layers)&&et.raycast(c,tt)===!1&&(rt=!1),rt===!0&&nt===!0){const it=et.children;for(let st=0,at=it.length;st<at;st++)intersect(it[st],c,tt,!0)}}class Spherical{constructor(c=1,tt=0,nt=0){return this.radius=c,this.phi=tt,this.theta=nt,this}set(c,tt,nt){return this.radius=c,this.phi=tt,this.theta=nt,this}copy(c){return this.radius=c.radius,this.phi=c.phi,this.theta=c.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(c){return this.setFromCartesianCoords(c.x,c.y,c.z)}setFromCartesianCoords(c,tt,nt){return this.radius=Math.sqrt(c*c+tt*tt+nt*nt),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(c,nt),this.phi=Math.acos(clamp(tt/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(c=1,tt=0,nt=0){return this.radius=c,this.theta=tt,this.y=nt,this}set(c,tt,nt){return this.radius=c,this.theta=tt,this.y=nt,this}copy(c){return this.radius=c.radius,this.theta=c.theta,this.y=c.y,this}setFromVector3(c){return this.setFromCartesianCoords(c.x,c.y,c.z)}setFromCartesianCoords(c,tt,nt){return this.radius=Math.sqrt(c*c+nt*nt),this.theta=Math.atan2(c,nt),this.y=tt,this}clone(){return new this.constructor().copy(this)}}class Matrix2{constructor(c,tt,nt,rt){Matrix2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],c!==void 0&&this.set(c,tt,nt,rt)}identity(){return this.set(1,0,0,1),this}fromArray(c,tt=0){for(let nt=0;nt<4;nt++)this.elements[nt]=c[nt+tt];return this}set(c,tt,nt,rt){const it=this.elements;return it[0]=c,it[2]=tt,it[1]=nt,it[3]=rt,this}}const _vector$4=new Vector2;class Box2{constructor(c=new Vector2(1/0,1/0),tt=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=c,this.max=tt}set(c,tt){return this.min.copy(c),this.max.copy(tt),this}setFromPoints(c){this.makeEmpty();for(let tt=0,nt=c.length;tt<nt;tt++)this.expandByPoint(c[tt]);return this}setFromCenterAndSize(c,tt){const nt=_vector$4.copy(tt).multiplyScalar(.5);return this.min.copy(c).sub(nt),this.max.copy(c).add(nt),this}clone(){return new this.constructor().copy(this)}copy(c){return this.min.copy(c.min),this.max.copy(c.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(c){return this.isEmpty()?c.set(0,0):c.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(c){return this.isEmpty()?c.set(0,0):c.subVectors(this.max,this.min)}expandByPoint(c){return this.min.min(c),this.max.max(c),this}expandByVector(c){return this.min.sub(c),this.max.add(c),this}expandByScalar(c){return this.min.addScalar(-c),this.max.addScalar(c),this}containsPoint(c){return c.x>=this.min.x&&c.x<=this.max.x&&c.y>=this.min.y&&c.y<=this.max.y}containsBox(c){return this.min.x<=c.min.x&&c.max.x<=this.max.x&&this.min.y<=c.min.y&&c.max.y<=this.max.y}getParameter(c,tt){return tt.set((c.x-this.min.x)/(this.max.x-this.min.x),(c.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(c){return c.max.x>=this.min.x&&c.min.x<=this.max.x&&c.max.y>=this.min.y&&c.min.y<=this.max.y}clampPoint(c,tt){return tt.copy(c).clamp(this.min,this.max)}distanceToPoint(c){return this.clampPoint(c,_vector$4).distanceTo(c)}intersect(c){return this.min.max(c.min),this.max.min(c.max),this.isEmpty()&&this.makeEmpty(),this}union(c){return this.min.min(c.min),this.max.max(c.max),this}translate(c){return this.min.add(c),this.max.add(c),this}equals(c){return c.min.equals(this.min)&&c.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(c=new Vector3,tt=new Vector3){this.start=c,this.end=tt}set(c,tt){return this.start.copy(c),this.end.copy(tt),this}copy(c){return this.start.copy(c.start),this.end.copy(c.end),this}getCenter(c){return c.addVectors(this.start,this.end).multiplyScalar(.5)}delta(c){return c.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(c,tt){return this.delta(tt).multiplyScalar(c).add(this.start)}closestPointToPointParameter(c,tt){_startP.subVectors(c,this.start),_startEnd.subVectors(this.end,this.start);const nt=_startEnd.dot(_startEnd);let it=_startEnd.dot(_startP)/nt;return tt&&(it=clamp(it,0,1)),it}closestPointToPoint(c,tt,nt){const rt=this.closestPointToPointParameter(c,tt);return this.delta(nt).multiplyScalar(rt).add(this.start)}applyMatrix4(c){return this.start.applyMatrix4(c),this.end.applyMatrix4(c),this}equals(c){return c.start.equals(this.start)&&c.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(c,tt){super(),this.light=c,this.matrixAutoUpdate=!1,this.color=tt,this.type="SpotLightHelper";const nt=new BufferGeometry,rt=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let st=0,at=1,ot=32;st<ot;st++,at++){const lt=st/ot*Math.PI*2,ct=at/ot*Math.PI*2;rt.push(Math.cos(lt),Math.sin(lt),1,Math.cos(ct),Math.sin(ct),1)}nt.setAttribute("position",new Float32BufferAttribute(rt,3));const it=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(nt,it),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const c=this.light.distance?this.light.distance:1e3,tt=c*Math.tan(this.light.angle);this.cone.scale.set(tt,tt,c),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(c){const tt=getBoneList(c),nt=new BufferGeometry,rt=[],it=[],st=new Color(0,0,1),at=new Color(0,1,0);for(let lt=0;lt<tt.length;lt++){const ct=tt[lt];ct.parent&&ct.parent.isBone&&(rt.push(0,0,0),rt.push(0,0,0),it.push(st.r,st.g,st.b),it.push(at.r,at.g,at.b))}nt.setAttribute("position",new Float32BufferAttribute(rt,3)),nt.setAttribute("color",new Float32BufferAttribute(it,3));const ot=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(nt,ot),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=c,this.bones=tt,this.matrix=c.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(c){const tt=this.bones,nt=this.geometry,rt=nt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let it=0,st=0;it<tt.length;it++){const at=tt[it];at.parent&&at.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,at.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),rt.setXYZ(st,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,at.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),rt.setXYZ(st+1,_vector$2.x,_vector$2.y,_vector$2.z),st+=2)}nt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(c)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(et){const c=[];et.isBone===!0&&c.push(et);for(let tt=0;tt<et.children.length;tt++)c.push.apply(c,getBoneList(et.children[tt]));return c}class PointLightHelper extends Mesh{constructor(c,tt,nt){const rt=new SphereGeometry(tt,4,2),it=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(rt,it),this.light=c,this.color=nt,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(c,tt,nt){super(),this.light=c,this.matrix=c.matrixWorld,this.matrixAutoUpdate=!1,this.color=nt,this.type="HemisphereLightHelper";const rt=new OctahedronGeometry(tt);rt.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const it=rt.getAttribute("position"),st=new Float32Array(it.count*3);rt.setAttribute("color",new BufferAttribute(st,3)),this.add(new Mesh(rt,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const c=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const tt=c.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let nt=0,rt=tt.count;nt<rt;nt++){const it=nt<rt/2?_color1:_color2;tt.setXYZ(nt,it.r,it.g,it.b)}tt.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),c.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(c=10,tt=10,nt=4473924,rt=8947848){nt=new Color(nt),rt=new Color(rt);const it=tt/2,st=c/tt,at=c/2,ot=[],lt=[];for(let ht=0,mt=0,gt=-at;ht<=tt;ht++,gt+=st){ot.push(-at,0,gt,at,0,gt),ot.push(gt,0,-at,gt,0,at);const yt=ht===it?nt:rt;yt.toArray(lt,mt),mt+=3,yt.toArray(lt,mt),mt+=3,yt.toArray(lt,mt),mt+=3,yt.toArray(lt,mt),mt+=3}const ct=new BufferGeometry;ct.setAttribute("position",new Float32BufferAttribute(ot,3)),ct.setAttribute("color",new Float32BufferAttribute(lt,3));const dt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ct,dt),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(c=10,tt=16,nt=8,rt=64,it=4473924,st=8947848){it=new Color(it),st=new Color(st);const at=[],ot=[];if(tt>1)for(let dt=0;dt<tt;dt++){const ht=dt/tt*(Math.PI*2),mt=Math.sin(ht)*c,gt=Math.cos(ht)*c;at.push(0,0,0),at.push(mt,0,gt);const yt=dt&1?it:st;ot.push(yt.r,yt.g,yt.b),ot.push(yt.r,yt.g,yt.b)}for(let dt=0;dt<nt;dt++){const ht=dt&1?it:st,mt=c-c/nt*dt;for(let gt=0;gt<rt;gt++){let yt=gt/rt*(Math.PI*2),_t=Math.sin(yt)*mt,pt=Math.cos(yt)*mt;at.push(_t,0,pt),ot.push(ht.r,ht.g,ht.b),yt=(gt+1)/rt*(Math.PI*2),_t=Math.sin(yt)*mt,pt=Math.cos(yt)*mt,at.push(_t,0,pt),ot.push(ht.r,ht.g,ht.b)}}const lt=new BufferGeometry;lt.setAttribute("position",new Float32BufferAttribute(at,3)),lt.setAttribute("color",new Float32BufferAttribute(ot,3));const ct=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(lt,ct),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(c,tt,nt){super(),this.light=c,this.matrix=c.matrixWorld,this.matrixAutoUpdate=!1,this.color=nt,this.type="DirectionalLightHelper",tt===void 0&&(tt=1);let rt=new BufferGeometry;rt.setAttribute("position",new Float32BufferAttribute([-tt,tt,0,tt,tt,0,tt,-tt,0,-tt,-tt,0,-tt,tt,0],3));const it=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(rt,it),this.add(this.lightPlane),rt=new BufferGeometry,rt.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(rt,it),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(c){const tt=new BufferGeometry,nt=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),rt=[],it=[],st={};at("n1","n2"),at("n2","n4"),at("n4","n3"),at("n3","n1"),at("f1","f2"),at("f2","f4"),at("f4","f3"),at("f3","f1"),at("n1","f1"),at("n2","f2"),at("n3","f3"),at("n4","f4"),at("p","n1"),at("p","n2"),at("p","n3"),at("p","n4"),at("u1","u2"),at("u2","u3"),at("u3","u1"),at("c","t"),at("p","c"),at("cn1","cn2"),at("cn3","cn4"),at("cf1","cf2"),at("cf3","cf4");function at(gt,yt){ot(gt),ot(yt)}function ot(gt){rt.push(0,0,0),it.push(0,0,0),st[gt]===void 0&&(st[gt]=[]),st[gt].push(rt.length/3-1)}tt.setAttribute("position",new Float32BufferAttribute(rt,3)),tt.setAttribute("color",new Float32BufferAttribute(it,3)),super(tt,nt),this.type="CameraHelper",this.camera=c,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=c.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=st,this.update();const lt=new Color(16755200),ct=new Color(16711680),dt=new Color(43775),ht=new Color(16777215),mt=new Color(3355443);this.setColors(lt,ct,dt,ht,mt)}setColors(c,tt,nt,rt,it){const at=this.geometry.getAttribute("color");at.setXYZ(0,c.r,c.g,c.b),at.setXYZ(1,c.r,c.g,c.b),at.setXYZ(2,c.r,c.g,c.b),at.setXYZ(3,c.r,c.g,c.b),at.setXYZ(4,c.r,c.g,c.b),at.setXYZ(5,c.r,c.g,c.b),at.setXYZ(6,c.r,c.g,c.b),at.setXYZ(7,c.r,c.g,c.b),at.setXYZ(8,c.r,c.g,c.b),at.setXYZ(9,c.r,c.g,c.b),at.setXYZ(10,c.r,c.g,c.b),at.setXYZ(11,c.r,c.g,c.b),at.setXYZ(12,c.r,c.g,c.b),at.setXYZ(13,c.r,c.g,c.b),at.setXYZ(14,c.r,c.g,c.b),at.setXYZ(15,c.r,c.g,c.b),at.setXYZ(16,c.r,c.g,c.b),at.setXYZ(17,c.r,c.g,c.b),at.setXYZ(18,c.r,c.g,c.b),at.setXYZ(19,c.r,c.g,c.b),at.setXYZ(20,c.r,c.g,c.b),at.setXYZ(21,c.r,c.g,c.b),at.setXYZ(22,c.r,c.g,c.b),at.setXYZ(23,c.r,c.g,c.b),at.setXYZ(24,tt.r,tt.g,tt.b),at.setXYZ(25,tt.r,tt.g,tt.b),at.setXYZ(26,tt.r,tt.g,tt.b),at.setXYZ(27,tt.r,tt.g,tt.b),at.setXYZ(28,tt.r,tt.g,tt.b),at.setXYZ(29,tt.r,tt.g,tt.b),at.setXYZ(30,tt.r,tt.g,tt.b),at.setXYZ(31,tt.r,tt.g,tt.b),at.setXYZ(32,nt.r,nt.g,nt.b),at.setXYZ(33,nt.r,nt.g,nt.b),at.setXYZ(34,nt.r,nt.g,nt.b),at.setXYZ(35,nt.r,nt.g,nt.b),at.setXYZ(36,nt.r,nt.g,nt.b),at.setXYZ(37,nt.r,nt.g,nt.b),at.setXYZ(38,rt.r,rt.g,rt.b),at.setXYZ(39,rt.r,rt.g,rt.b),at.setXYZ(40,it.r,it.g,it.b),at.setXYZ(41,it.r,it.g,it.b),at.setXYZ(42,it.r,it.g,it.b),at.setXYZ(43,it.r,it.g,it.b),at.setXYZ(44,it.r,it.g,it.b),at.setXYZ(45,it.r,it.g,it.b),at.setXYZ(46,it.r,it.g,it.b),at.setXYZ(47,it.r,it.g,it.b),at.setXYZ(48,it.r,it.g,it.b),at.setXYZ(49,it.r,it.g,it.b),at.needsUpdate=!0}update(){const c=this.geometry,tt=this.pointMap,nt=1,rt=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",tt,c,_camera,0,0,-1),setPoint("t",tt,c,_camera,0,0,1),setPoint("n1",tt,c,_camera,-nt,-rt,-1),setPoint("n2",tt,c,_camera,nt,-rt,-1),setPoint("n3",tt,c,_camera,-nt,rt,-1),setPoint("n4",tt,c,_camera,nt,rt,-1),setPoint("f1",tt,c,_camera,-nt,-rt,1),setPoint("f2",tt,c,_camera,nt,-rt,1),setPoint("f3",tt,c,_camera,-nt,rt,1),setPoint("f4",tt,c,_camera,nt,rt,1),setPoint("u1",tt,c,_camera,nt*.7,rt*1.1,-1),setPoint("u2",tt,c,_camera,-nt*.7,rt*1.1,-1),setPoint("u3",tt,c,_camera,0,rt*2,-1),setPoint("cf1",tt,c,_camera,-nt,0,1),setPoint("cf2",tt,c,_camera,nt,0,1),setPoint("cf3",tt,c,_camera,0,-rt,1),setPoint("cf4",tt,c,_camera,0,rt,1),setPoint("cn1",tt,c,_camera,-nt,0,-1),setPoint("cn2",tt,c,_camera,nt,0,-1),setPoint("cn3",tt,c,_camera,0,-rt,-1),setPoint("cn4",tt,c,_camera,0,rt,-1),c.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(et,c,tt,nt,rt,it,st){_vector.set(rt,it,st).unproject(nt);const at=c[et];if(at!==void 0){const ot=tt.getAttribute("position");for(let lt=0,ct=at.length;lt<ct;lt++)ot.setXYZ(at[lt],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(c,tt=16776960){const nt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),rt=new Float32Array(8*3),it=new BufferGeometry;it.setIndex(new BufferAttribute(nt,1)),it.setAttribute("position",new BufferAttribute(rt,3)),super(it,new LineBasicMaterial({color:tt,toneMapped:!1})),this.object=c,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(c){if(c!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const tt=_box.min,nt=_box.max,rt=this.geometry.attributes.position,it=rt.array;it[0]=nt.x,it[1]=nt.y,it[2]=nt.z,it[3]=tt.x,it[4]=nt.y,it[5]=nt.z,it[6]=tt.x,it[7]=tt.y,it[8]=nt.z,it[9]=nt.x,it[10]=tt.y,it[11]=nt.z,it[12]=nt.x,it[13]=nt.y,it[14]=tt.z,it[15]=tt.x,it[16]=nt.y,it[17]=tt.z,it[18]=tt.x,it[19]=tt.y,it[20]=tt.z,it[21]=nt.x,it[22]=tt.y,it[23]=tt.z,rt.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(c){return this.object=c,this.update(),this}copy(c,tt){return super.copy(c,tt),this.object=c.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(c,tt=16776960){const nt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),rt=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],it=new BufferGeometry;it.setIndex(new BufferAttribute(nt,1)),it.setAttribute("position",new Float32BufferAttribute(rt,3)),super(it,new LineBasicMaterial({color:tt,toneMapped:!1})),this.box=c,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(c){const tt=this.box;tt.isEmpty()||(tt.getCenter(this.position),tt.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(c))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(c,tt=1,nt=16776960){const rt=nt,it=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],st=new BufferGeometry;st.setAttribute("position",new Float32BufferAttribute(it,3)),st.computeBoundingSphere(),super(st,new LineBasicMaterial({color:rt,toneMapped:!1})),this.type="PlaneHelper",this.plane=c,this.size=tt;const at=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],ot=new BufferGeometry;ot.setAttribute("position",new Float32BufferAttribute(at,3)),ot.computeBoundingSphere(),this.add(new Mesh(ot,new MeshBasicMaterial({color:rt,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(c){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(c)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(c=new Vector3(0,0,1),tt=new Vector3(0,0,0),nt=1,rt=16776960,it=nt*.2,st=it*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(tt),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:rt,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:rt,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(c),this.setLength(nt,it,st)}setDirection(c){if(c.y>.99999)this.quaternion.set(0,0,0,1);else if(c.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(c.z,0,-c.x).normalize();const tt=Math.acos(c.y);this.quaternion.setFromAxisAngle(_axis,tt)}}setLength(c,tt=c*.2,nt=tt*.2){this.line.scale.set(1,Math.max(1e-4,c-tt),1),this.line.updateMatrix(),this.cone.scale.set(nt,tt,nt),this.cone.position.y=c,this.cone.updateMatrix()}setColor(c){this.line.material.color.set(c),this.cone.material.color.set(c)}copy(c){return super.copy(c,!1),this.line.copy(c.line),this.cone.copy(c.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(c=1){const tt=[0,0,0,c,0,0,0,0,0,0,c,0,0,0,0,0,0,c],nt=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],rt=new BufferGeometry;rt.setAttribute("position",new Float32BufferAttribute(tt,3)),rt.setAttribute("color",new Float32BufferAttribute(nt,3));const it=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(rt,it),this.type="AxesHelper"}setColors(c,tt,nt){const rt=new Color,it=this.geometry.attributes.color.array;return rt.set(c),rt.toArray(it,0),rt.toArray(it,3),rt.set(tt),rt.toArray(it,6),rt.toArray(it,9),rt.set(nt),rt.toArray(it,12),rt.toArray(it,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(c,tt){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(c,tt),this}lineTo(c,tt){return this.currentPath.lineTo(c,tt),this}quadraticCurveTo(c,tt,nt,rt){return this.currentPath.quadraticCurveTo(c,tt,nt,rt),this}bezierCurveTo(c,tt,nt,rt,it,st){return this.currentPath.bezierCurveTo(c,tt,nt,rt,it,st),this}splineThru(c){return this.currentPath.splineThru(c),this}toShapes(c){function tt(pt){const xt=[];for(let vt=0,St=pt.length;vt<St;vt++){const wt=pt[vt],Mt=new Shape;Mt.curves=wt.curves,xt.push(Mt)}return xt}function nt(pt,xt){const vt=xt.length;let St=!1;for(let wt=vt-1,Mt=0;Mt<vt;wt=Mt++){let Ct=xt[wt],Rt=xt[Mt],Lt=Rt.x-Ct.x,It=Rt.y-Ct.y;if(Math.abs(It)>Number.EPSILON){if(It<0&&(Ct=xt[Mt],Lt=-Lt,Rt=xt[wt],It=-It),pt.y<Ct.y||pt.y>Rt.y)continue;if(pt.y===Ct.y){if(pt.x===Ct.x)return!0}else{const Nt=It*(pt.x-Ct.x)-Lt*(pt.y-Ct.y);if(Nt===0)return!0;if(Nt<0)continue;St=!St}}else{if(pt.y!==Ct.y)continue;if(Rt.x<=pt.x&&pt.x<=Ct.x||Ct.x<=pt.x&&pt.x<=Rt.x)return!0}}return St}const rt=ShapeUtils.isClockWise,it=this.subPaths;if(it.length===0)return[];let st,at,ot;const lt=[];if(it.length===1)return at=it[0],ot=new Shape,ot.curves=at.curves,lt.push(ot),lt;let ct=!rt(it[0].getPoints());ct=c?!ct:ct;const dt=[],ht=[];let mt=[],gt=0,yt;ht[gt]=void 0,mt[gt]=[];for(let pt=0,xt=it.length;pt<xt;pt++)at=it[pt],yt=at.getPoints(),st=rt(yt),st=c?!st:st,st?(!ct&&ht[gt]&&gt++,ht[gt]={s:new Shape,p:yt},ht[gt].s.curves=at.curves,ct&&gt++,mt[gt]=[]):mt[gt].push({h:at,p:yt[0]});if(!ht[0])return tt(it);if(ht.length>1){let pt=!1,xt=0;for(let vt=0,St=ht.length;vt<St;vt++)dt[vt]=[];for(let vt=0,St=ht.length;vt<St;vt++){const wt=mt[vt];for(let Mt=0;Mt<wt.length;Mt++){const Ct=wt[Mt];let Rt=!0;for(let Lt=0;Lt<ht.length;Lt++)nt(Ct.p,ht[Lt].p)&&(vt!==Lt&&xt++,Rt?(Rt=!1,dt[Lt].push(Ct)):pt=!0);Rt&&dt[vt].push(Ct)}}xt>0&&pt===!1&&(mt=dt)}let _t;for(let pt=0,xt=ht.length;pt<xt;pt++){ot=ht[pt].s,lt.push(ot),_t=mt[pt];for(let vt=0,St=_t.length;vt<St;vt++)ot.holes.push(_t[vt].h)}return lt}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(c=1,tt=1,nt=1,rt={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(c,tt,{...rt,count:nt}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DisplayP3ColorSpace,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher:EventDispatcher$1,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearDisplayP3ColorSpace,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix2,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,P3Primaries,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBDepthPacking,RGBFormat,RGBIntegerFormat,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGDepthPacking,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,Rec709Primaries,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere:Sphere$1,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TextureUtils,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedInt5999Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;function createStore$1(et){let c;const tt=new Set,nt=(lt,ct)=>{const dt=typeof lt=="function"?lt(c):lt;if(dt!==c){const ht=c;c=ct?dt:Object.assign({},c,dt),tt.forEach(mt=>mt(c,ht))}},rt=()=>c,it=(lt,ct=rt,dt=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let ht=ct(c);function mt(){const gt=ct(c);if(!dt(ht,gt)){const yt=ht;lt(ht=gt,yt)}}return tt.add(mt),()=>tt.delete(mt)},ot={setState:nt,getState:rt,subscribe:(lt,ct,dt)=>ct||dt?it(lt,ct,dt):(tt.add(lt),()=>tt.delete(lt)),destroy:()=>tt.clear()};return c=et(nt,rt,ot),ot}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create$1(et){const c=typeof et=="function"?createStore$1(et):et,tt=(nt=c.getState,rt=Object.is)=>{const[,it]=reactExports.useReducer(_t=>_t+1,0),st=c.getState(),at=reactExports.useRef(st),ot=reactExports.useRef(nt),lt=reactExports.useRef(rt),ct=reactExports.useRef(!1),dt=reactExports.useRef();dt.current===void 0&&(dt.current=nt(st));let ht,mt=!1;(at.current!==st||ot.current!==nt||lt.current!==rt||ct.current)&&(ht=nt(st),mt=!rt(dt.current,ht)),useIsomorphicLayoutEffect$1(()=>{mt&&(dt.current=ht),at.current=st,ot.current=nt,lt.current=rt,ct.current=!1});const gt=reactExports.useRef(st);useIsomorphicLayoutEffect$1(()=>{const _t=()=>{try{const xt=c.getState(),vt=ot.current(xt);lt.current(dt.current,vt)||(at.current=xt,dt.current=vt,it())}catch{ct.current=!0,it()}},pt=c.subscribe(_t);return c.getState()!==gt.current&&_t(),pt},[]);const yt=mt?ht:dt.current;return reactExports.useDebugValue(yt),yt};return Object.assign(tt,c),tt[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const nt=[tt,c];return{next(){const rt=nt.length<=0;return{value:nt.shift(),done:rt}}}},tt}var reactReconciler={exports:{}},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function c(At,kt){var Ot=At.length;At.push(kt);e:for(;0<Ot;){var Bt=Ot-1>>>1,Qt=At[Bt];if(0<rt(Qt,kt))At[Bt]=kt,At[Ot]=Qt,Ot=Bt;else break e}}function tt(At){return At.length===0?null:At[0]}function nt(At){if(At.length===0)return null;var kt=At[0],Ot=At.pop();if(Ot!==kt){At[0]=Ot;e:for(var Bt=0,Qt=At.length,an=Qt>>>1;Bt<an;){var Kt=2*(Bt+1)-1,ln=At[Kt],vn=Kt+1,En=At[vn];if(0>rt(ln,Ot))vn<Qt&&0>rt(En,ln)?(At[Bt]=En,At[vn]=Ot,Bt=vn):(At[Bt]=ln,At[Kt]=Ot,Bt=Kt);else if(vn<Qt&&0>rt(En,Ot))At[Bt]=En,At[vn]=Ot,Bt=vn;else break e}}return kt}function rt(At,kt){var Ot=At.sortIndex-kt.sortIndex;return Ot!==0?Ot:At.id-kt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;et.unstable_now=function(){return it.now()}}else{var st=Date,at=st.now();et.unstable_now=function(){return st.now()-at}}var ot=[],lt=[],ct=1,dt=null,ht=3,mt=!1,gt=!1,yt=!1,_t=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function vt(At){for(var kt=tt(lt);kt!==null;){if(kt.callback===null)nt(lt);else if(kt.startTime<=At)nt(lt),kt.sortIndex=kt.expirationTime,c(ot,kt);else break;kt=tt(lt)}}function St(At){if(yt=!1,vt(At),!gt)if(tt(ot)!==null)gt=!0,Ft(wt);else{var kt=tt(lt);kt!==null&&Ut(St,kt.startTime-At)}}function wt(At,kt){gt=!1,yt&&(yt=!1,pt(Rt),Rt=-1),mt=!0;var Ot=ht;try{for(vt(kt),dt=tt(ot);dt!==null&&(!(dt.expirationTime>kt)||At&&!Nt());){var Bt=dt.callback;if(typeof Bt=="function"){dt.callback=null,ht=dt.priorityLevel;var Qt=Bt(dt.expirationTime<=kt);kt=et.unstable_now(),typeof Qt=="function"?dt.callback=Qt:dt===tt(ot)&&nt(ot),vt(kt)}else nt(ot);dt=tt(ot)}if(dt!==null)var an=!0;else{var Kt=tt(lt);Kt!==null&&Ut(St,Kt.startTime-kt),an=!1}return an}finally{dt=null,ht=Ot,mt=!1}}var Mt=!1,Ct=null,Rt=-1,Lt=5,It=-1;function Nt(){return!(et.unstable_now()-It<Lt)}function zt(){if(Ct!==null){var At=et.unstable_now();It=At;var kt=!0;try{kt=Ct(!0,At)}finally{kt?Wt():(Mt=!1,Ct=null)}}else Mt=!1}var Wt;if(typeof xt=="function")Wt=function(){xt(zt)};else if(typeof MessageChannel<"u"){var Yt=new MessageChannel,Xt=Yt.port2;Yt.port1.onmessage=zt,Wt=function(){Xt.postMessage(null)}}else Wt=function(){_t(zt,0)};function Ft(At){Ct=At,Mt||(Mt=!0,Wt())}function Ut(At,kt){Rt=_t(function(){At(et.unstable_now())},kt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(At){At.callback=null},et.unstable_continueExecution=function(){gt||mt||(gt=!0,Ft(wt))},et.unstable_forceFrameRate=function(At){0>At||125<At?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Lt=0<At?Math.floor(1e3/At):5},et.unstable_getCurrentPriorityLevel=function(){return ht},et.unstable_getFirstCallbackNode=function(){return tt(ot)},et.unstable_next=function(At){switch(ht){case 1:case 2:case 3:var kt=3;break;default:kt=ht}var Ot=ht;ht=kt;try{return At()}finally{ht=Ot}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(At,kt){switch(At){case 1:case 2:case 3:case 4:case 5:break;default:At=3}var Ot=ht;ht=At;try{return kt()}finally{ht=Ot}},et.unstable_scheduleCallback=function(At,kt,Ot){var Bt=et.unstable_now();switch(typeof Ot=="object"&&Ot!==null?(Ot=Ot.delay,Ot=typeof Ot=="number"&&0<Ot?Bt+Ot:Bt):Ot=Bt,At){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=Ot+Qt,At={id:ct++,callback:kt,priorityLevel:At,startTime:Ot,expirationTime:Qt,sortIndex:-1},Ot>Bt?(At.sortIndex=Ot,c(lt,At),tt(ot)===null&&At===tt(lt)&&(yt?(pt(Rt),Rt=-1):yt=!0,Ut(St,Ot-Bt))):(At.sortIndex=Qt,c(ot,At),gt||mt||(gt=!0,Ft(wt))),At},et.unstable_shouldYield=Nt,et.unstable_wrapCallback=function(At){var kt=ht;return function(){var Ot=ht;ht=kt;try{return At.apply(this,arguments)}finally{ht=Ot}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function(c){var tt={},nt=reactExports,rt=schedulerExports,it=Object.assign;function st(ut){for(var ft="https://reactjs.org/docs/error-decoder.html?invariant="+ut,Et=1;Et<arguments.length;Et++)ft+="&args[]="+encodeURIComponent(arguments[Et]);return"Minified React error #"+ut+"; visit "+ft+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var at=nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ot=Symbol.for("react.element"),lt=Symbol.for("react.portal"),ct=Symbol.for("react.fragment"),dt=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),mt=Symbol.for("react.provider"),gt=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),St=Symbol.for("react.offscreen"),wt=Symbol.iterator;function Mt(ut){return ut===null||typeof ut!="object"?null:(ut=wt&&ut[wt]||ut["@@iterator"],typeof ut=="function"?ut:null)}function Ct(ut){if(ut==null)return null;if(typeof ut=="function")return ut.displayName||ut.name||null;if(typeof ut=="string")return ut;switch(ut){case ct:return"Fragment";case lt:return"Portal";case ht:return"Profiler";case dt:return"StrictMode";case _t:return"Suspense";case pt:return"SuspenseList"}if(typeof ut=="object")switch(ut.$$typeof){case gt:return(ut.displayName||"Context")+".Consumer";case mt:return(ut._context.displayName||"Context")+".Provider";case yt:var ft=ut.render;return ut=ut.displayName,ut||(ut=ft.displayName||ft.name||"",ut=ut!==""?"ForwardRef("+ut+")":"ForwardRef"),ut;case xt:return ft=ut.displayName||null,ft!==null?ft:Ct(ut.type)||"Memo";case vt:ft=ut._payload,ut=ut._init;try{return Ct(ut(ft))}catch{}}return null}function Rt(ut){var ft=ut.type;switch(ut.tag){case 24:return"Cache";case 9:return(ft.displayName||"Context")+".Consumer";case 10:return(ft._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ut=ft.render,ut=ut.displayName||ut.name||"",ft.displayName||(ut!==""?"ForwardRef("+ut+")":"ForwardRef");case 7:return"Fragment";case 5:return ft;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ct(ft);case 8:return ft===dt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ft=="function")return ft.displayName||ft.name||null;if(typeof ft=="string")return ft}return null}function Lt(ut){var ft=ut,Et=ut;if(ut.alternate)for(;ft.return;)ft=ft.return;else{ut=ft;do ft=ut,ft.flags&4098&&(Et=ft.return),ut=ft.return;while(ut)}return ft.tag===3?Et:null}function It(ut){if(Lt(ut)!==ut)throw Error(st(188))}function Nt(ut){var ft=ut.alternate;if(!ft){if(ft=Lt(ut),ft===null)throw Error(st(188));return ft!==ut?null:ut}for(var Et=ut,bt=ft;;){var Pt=Et.return;if(Pt===null)break;var Dt=Pt.alternate;if(Dt===null){if(bt=Pt.return,bt!==null){Et=bt;continue}break}if(Pt.child===Dt.child){for(Dt=Pt.child;Dt;){if(Dt===Et)return It(Pt),ut;if(Dt===bt)return It(Pt),ft;Dt=Dt.sibling}throw Error(st(188))}if(Et.return!==bt.return)Et=Pt,bt=Dt;else{for(var Ht=!1,Jt=Pt.child;Jt;){if(Jt===Et){Ht=!0,Et=Pt,bt=Dt;break}if(Jt===bt){Ht=!0,bt=Pt,Et=Dt;break}Jt=Jt.sibling}if(!Ht){for(Jt=Dt.child;Jt;){if(Jt===Et){Ht=!0,Et=Dt,bt=Pt;break}if(Jt===bt){Ht=!0,bt=Dt,Et=Pt;break}Jt=Jt.sibling}if(!Ht)throw Error(st(189))}}if(Et.alternate!==bt)throw Error(st(190))}if(Et.tag!==3)throw Error(st(188));return Et.stateNode.current===Et?ut:ft}function zt(ut){return ut=Nt(ut),ut!==null?Wt(ut):null}function Wt(ut){if(ut.tag===5||ut.tag===6)return ut;for(ut=ut.child;ut!==null;){var ft=Wt(ut);if(ft!==null)return ft;ut=ut.sibling}return null}function Yt(ut){if(ut.tag===5||ut.tag===6)return ut;for(ut=ut.child;ut!==null;){if(ut.tag!==4){var ft=Yt(ut);if(ft!==null)return ft}ut=ut.sibling}return null}var Xt=Array.isArray,Ft=c.getPublicInstance,Ut=c.getRootHostContext,At=c.getChildHostContext,kt=c.prepareForCommit,Ot=c.resetAfterCommit,Bt=c.createInstance,Qt=c.appendInitialChild,an=c.finalizeInitialChildren,Kt=c.prepareUpdate,ln=c.shouldSetTextContent,vn=c.createTextInstance,En=c.scheduleTimeout,jn=c.cancelTimeout,qn=c.noTimeout,Vn=c.isPrimaryRenderer,Gn=c.supportsMutation,$t=c.supportsPersistence,fn=c.supportsHydration,rn=c.getInstanceFromNode,Pn=c.preparePortalMount,mn=c.getCurrentEventPriority,zn=c.detachDeletedInstance,Tn=c.supportsMicrotasks,Ln=c.scheduleMicrotask,Gt=c.supportsTestSelectors,Vt=c.findFiberRoot,sn=c.getBoundingRect,Sn=c.getTextContent,gn=c.isHiddenSubtree,_n=c.matchAccessibilityRole,On=c.setFocusIfFocusable,An=c.setupIntersectionObserver,kn=c.appendChild,er=c.appendChildToContainer,wn=c.commitTextUpdate,Fn=c.commitMount,dr=c.commitUpdate,rr=c.insertBefore,Un=c.insertInContainerBefore,ir=c.removeChild,Zt=c.removeChildFromContainer,bn=c.resetTextContent,qt=c.hideInstance,yn=c.hideTextInstance,dn=c.unhideInstance,xn=c.unhideTextInstance,Mn=c.clearContainer,tr=c.cloneInstance,cr=c.createContainerChildSet,pr=c.appendChildToContainerChildSet,xr=c.finalizeContainerChildren,ur=c.replaceContainerChildren,Nr=c.cloneHiddenInstance,Dr=c.cloneHiddenTextInstance,Es=c.canHydrateInstance,bs=c.canHydrateTextInstance,lo=c.canHydrateSuspenseInstance,co=c.isSuspenseInstancePending,Ks=c.isSuspenseInstanceFallback,Zs=c.registerSuspenseInstanceRetry,Is=c.getNextHydratableSibling,Qs=c.getFirstHydratableChild,Ro=c.getFirstHydratableChildWithinContainer,Io=c.getFirstHydratableChildWithinSuspenseInstance,Wl=c.hydrateInstance,Xl=c.hydrateTextInstance,Yl=c.hydrateSuspenseInstance,jt=c.getNextHydratableInstanceAfterSuspenseInstance,en=c.commitHydratedContainer,cn=c.commitHydratedSuspenseInstance,un=c.clearSuspenseBoundary,nn=c.clearSuspenseBoundaryFromContainer,Rn=c.shouldDeleteUnhydratedTailInstances,Bn=c.didNotMatchHydratedContainerTextInstance,Wn=c.didNotMatchHydratedTextInstance,Hn;function Qn(ut){if(Hn===void 0)try{throw Error()}catch(Et){var ft=Et.stack.trim().match(/\n( *(at )?)/);Hn=ft&&ft[1]||""}return`
`+Hn+ut}var nr=!1;function Zn(ut,ft){if(!ut||nr)return"";nr=!0;var Et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ft)if(ft=function(){throw Error()},Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(Cn){var bt=Cn}Reflect.construct(ut,[],ft)}else{try{ft.call()}catch(Cn){bt=Cn}ut.call(ft.prototype)}else{try{throw Error()}catch(Cn){bt=Cn}ut()}}catch(Cn){if(Cn&&bt&&typeof Cn.stack=="string"){for(var Pt=Cn.stack.split(`
`),Dt=bt.stack.split(`
`),Ht=Pt.length-1,Jt=Dt.length-1;1<=Ht&&0<=Jt&&Pt[Ht]!==Dt[Jt];)Jt--;for(;1<=Ht&&0<=Jt;Ht--,Jt--)if(Pt[Ht]!==Dt[Jt]){if(Ht!==1||Jt!==1)do if(Ht--,Jt--,0>Jt||Pt[Ht]!==Dt[Jt]){var pn=`
`+Pt[Ht].replace(" at new "," at ");return ut.displayName&&pn.includes("<anonymous>")&&(pn=pn.replace("<anonymous>",ut.displayName)),pn}while(1<=Ht&&0<=Jt);break}}}finally{nr=!1,Error.prepareStackTrace=Et}return(ut=ut?ut.displayName||ut.name:"")?Qn(ut):""}var mr=Object.prototype.hasOwnProperty,Er=[],_r=-1;function Cr(ut){return{current:ut}}function Kn(ut){0>_r||(ut.current=Er[_r],Er[_r]=null,_r--)}function In(ut,ft){_r++,Er[_r]=ut.current,ut.current=ft}var br={},sr=Cr(br),wr=Cr(!1),Yr=br;function Ir(ut,ft){var Et=ut.type.contextTypes;if(!Et)return br;var bt=ut.stateNode;if(bt&&bt.__reactInternalMemoizedUnmaskedChildContext===ft)return bt.__reactInternalMemoizedMaskedChildContext;var Pt={},Dt;for(Dt in Et)Pt[Dt]=ft[Dt];return bt&&(ut=ut.stateNode,ut.__reactInternalMemoizedUnmaskedChildContext=ft,ut.__reactInternalMemoizedMaskedChildContext=Pt),Pt}function Br(ut){return ut=ut.childContextTypes,ut!=null}function Mr(){Kn(wr),Kn(sr)}function fs(ut,ft,Et){if(sr.current!==br)throw Error(st(168));In(sr,ft),In(wr,Et)}function Js(ut,ft,Et){var bt=ut.stateNode;if(ft=ft.childContextTypes,typeof bt.getChildContext!="function")return Et;bt=bt.getChildContext();for(var Pt in bt)if(!(Pt in ft))throw Error(st(108,Rt(ut)||"Unknown",Pt));return it({},Et,bt)}function zr(ut){return ut=(ut=ut.stateNode)&&ut.__reactInternalMemoizedMergedChildContext||br,Yr=sr.current,In(sr,ut),In(wr,wr.current),!0}function na(ut,ft,Et){var bt=ut.stateNode;if(!bt)throw Error(st(169));Et?(ut=Js(ut,ft,Yr),bt.__reactInternalMemoizedMergedChildContext=ut,Kn(wr),Kn(sr),In(sr,ut)):Kn(wr),In(wr,Et)}var Jr=Math.clz32?Math.clz32:Lm,Lo=Math.log,Im=Math.LN2;function Lm(ut){return ut>>>=0,ut===0?32:31-(Lo(ut)/Im|0)|0}var ko=64,Do=4194304;function uo(ut){switch(ut&-ut){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ut&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ut&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ut}}function Fo(ut,ft){var Et=ut.pendingLanes;if(Et===0)return 0;var bt=0,Pt=ut.suspendedLanes,Dt=ut.pingedLanes,Ht=Et&268435455;if(Ht!==0){var Jt=Ht&~Pt;Jt!==0?bt=uo(Jt):(Dt&=Ht,Dt!==0&&(bt=uo(Dt)))}else Ht=Et&~Pt,Ht!==0?bt=uo(Ht):Dt!==0&&(bt=uo(Dt));if(bt===0)return 0;if(ft!==0&&ft!==bt&&!(ft&Pt)&&(Pt=bt&-bt,Dt=ft&-ft,Pt>=Dt||Pt===16&&(Dt&4194240)!==0))return ft;if(bt&4&&(bt|=Et&16),ft=ut.entangledLanes,ft!==0)for(ut=ut.entanglements,ft&=bt;0<ft;)Et=31-Jr(ft),Pt=1<<Et,bt|=ut[Et],ft&=~Pt;return bt}function km(ut,ft){switch(ut){case 1:case 2:case 4:return ft+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ft+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dm(ut,ft){for(var Et=ut.suspendedLanes,bt=ut.pingedLanes,Pt=ut.expirationTimes,Dt=ut.pendingLanes;0<Dt;){var Ht=31-Jr(Dt),Jt=1<<Ht,pn=Pt[Ht];pn===-1?(!(Jt&Et)||Jt&bt)&&(Pt[Ht]=km(Jt,ft)):pn<=ft&&(ut.expiredLanes|=Jt),Dt&=~Jt}}function Kl(ut){return ut=ut.pendingLanes&-1073741825,ut!==0?ut:ut&1073741824?1073741824:0}function Zl(ut){for(var ft=[],Et=0;31>Et;Et++)ft.push(ut);return ft}function ho(ut,ft,Et){ut.pendingLanes|=ft,ft!==536870912&&(ut.suspendedLanes=0,ut.pingedLanes=0),ut=ut.eventTimes,ft=31-Jr(ft),ut[ft]=Et}function Fm(ut,ft){var Et=ut.pendingLanes&~ft;ut.pendingLanes=ft,ut.suspendedLanes=0,ut.pingedLanes=0,ut.expiredLanes&=ft,ut.mutableReadLanes&=ft,ut.entangledLanes&=ft,ft=ut.entanglements;var bt=ut.eventTimes;for(ut=ut.expirationTimes;0<Et;){var Pt=31-Jr(Et),Dt=1<<Pt;ft[Pt]=0,bt[Pt]=-1,ut[Pt]=-1,Et&=~Dt}}function Ql(ut,ft){var Et=ut.entangledLanes|=ft;for(ut=ut.entanglements;Et;){var bt=31-Jr(Et),Pt=1<<bt;Pt&ft|ut[bt]&ft&&(ut[bt]|=ft),Et&=~Pt}}var gr=0;function _h(ut){return ut&=-ut,1<ut?4<ut?ut&268435455?16:536870912:4:1}var Jl=rt.unstable_scheduleCallback,_f=rt.unstable_cancelCallback,Nm=rt.unstable_shouldYield,Bm=rt.unstable_requestPaint,Or=rt.unstable_now,_c=rt.unstable_ImmediatePriority,Om=rt.unstable_UserBlockingPriority,eu=rt.unstable_NormalPriority,Vm=rt.unstable_IdlePriority,No=null,ms=null;function Um(ut){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(No,ut,void 0,(ut.current.flags&128)===128)}catch{}}function zm(ut,ft){return ut===ft&&(ut!==0||1/ut===1/ft)||ut!==ut&&ft!==ft}var gs=typeof Object.is=="function"?Object.is:zm,ws=null,Bo=!1,tu=!1;function _d(ut){ws===null?ws=[ut]:ws.push(ut)}function jm(ut){Bo=!0,_d(ut)}function vs(){if(!tu&&ws!==null){tu=!0;var ut=0,ft=gr;try{var Et=ws;for(gr=1;ut<Et.length;ut++){var bt=Et[ut];do bt=bt(!0);while(bt!==null)}ws=null,Bo=!1}catch(Pt){throw ws!==null&&(ws=ws.slice(ut+1)),Jl(_c,vs),Pt}finally{gr=ft,tu=!1}}return null}var $m=at.ReactCurrentBatchConfig;function Oo(ut,ft){if(gs(ut,ft))return!0;if(typeof ut!="object"||ut===null||typeof ft!="object"||ft===null)return!1;var Et=Object.keys(ut),bt=Object.keys(ft);if(Et.length!==bt.length)return!1;for(bt=0;bt<Et.length;bt++){var Pt=Et[bt];if(!mr.call(ft,Pt)||!gs(ut[Pt],ft[Pt]))return!1}return!0}function Gm(ut){switch(ut.tag){case 5:return Qn(ut.type);case 16:return Qn("Lazy");case 13:return Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 2:case 15:return ut=Zn(ut.type,!1),ut;case 11:return ut=Zn(ut.type.render,!1),ut;case 1:return ut=Zn(ut.type,!0),ut;default:return""}}function ds(ut,ft){if(ut&&ut.defaultProps){ft=it({},ft),ut=ut.defaultProps;for(var Et in ut)ft[Et]===void 0&&(ft[Et]=ut[Et]);return ft}return ft}var Vo=Cr(null),Uo=null,ga=null,nu=null;function ru(){nu=ga=Uo=null}function ep(ut,ft,Et){Vn?(In(Vo,ft._currentValue),ft._currentValue=Et):(In(Vo,ft._currentValue2),ft._currentValue2=Et)}function iu(ut){var ft=Vo.current;Kn(Vo),Vn?ut._currentValue=ft:ut._currentValue2=ft}function su(ut,ft,Et){for(;ut!==null;){var bt=ut.alternate;if((ut.childLanes&ft)!==ft?(ut.childLanes|=ft,bt!==null&&(bt.childLanes|=ft)):bt!==null&&(bt.childLanes&ft)!==ft&&(bt.childLanes|=ft),ut===Et)break;ut=ut.return}}function xa(ut,ft){Uo=ut,nu=ga=null,ut=ut.dependencies,ut!==null&&ut.firstContext!==null&&(ut.lanes&ft&&(ts=!0),ut.firstContext=null)}function rs(ut){var ft=Vn?ut._currentValue:ut._currentValue2;if(nu!==ut)if(ut={context:ut,memoizedValue:ft,next:null},ga===null){if(Uo===null)throw Error(st(308));ga=ut,Uo.dependencies={lanes:0,firstContext:ut}}else ga=ga.next=ut;return ft}var ys=null,Ls=!1;function au(ut){ut.updateQueue={baseState:ut.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tp(ut,ft){ut=ut.updateQueue,ft.updateQueue===ut&&(ft.updateQueue={baseState:ut.baseState,firstBaseUpdate:ut.firstBaseUpdate,lastBaseUpdate:ut.lastBaseUpdate,shared:ut.shared,effects:ut.effects})}function Ms(ut,ft){return{eventTime:ut,lane:ft,tag:0,payload:null,callback:null,next:null}}function ks(ut,ft){var Et=ut.updateQueue;Et!==null&&(Et=Et.shared,Lr!==null&&ut.mode&1&&!(hr&2)?(ut=Et.interleaved,ut===null?(ft.next=ft,ys===null?ys=[Et]:ys.push(Et)):(ft.next=ut.next,ut.next=ft),Et.interleaved=ft):(ut=Et.pending,ut===null?ft.next=ft:(ft.next=ut.next,ut.next=ft),Et.pending=ft))}function zo(ut,ft,Et){if(ft=ft.updateQueue,ft!==null&&(ft=ft.shared,(Et&4194240)!==0)){var bt=ft.lanes;bt&=ut.pendingLanes,Et|=bt,ft.lanes=Et,Ql(ut,Et)}}function np(ut,ft){var Et=ut.updateQueue,bt=ut.alternate;if(bt!==null&&(bt=bt.updateQueue,Et===bt)){var Pt=null,Dt=null;if(Et=Et.firstBaseUpdate,Et!==null){do{var Ht={eventTime:Et.eventTime,lane:Et.lane,tag:Et.tag,payload:Et.payload,callback:Et.callback,next:null};Dt===null?Pt=Dt=Ht:Dt=Dt.next=Ht,Et=Et.next}while(Et!==null);Dt===null?Pt=Dt=ft:Dt=Dt.next=ft}else Pt=Dt=ft;Et={baseState:bt.baseState,firstBaseUpdate:Pt,lastBaseUpdate:Dt,shared:bt.shared,effects:bt.effects},ut.updateQueue=Et;return}ut=Et.lastBaseUpdate,ut===null?Et.firstBaseUpdate=ft:ut.next=ft,Et.lastBaseUpdate=ft}function jo(ut,ft,Et,bt){var Pt=ut.updateQueue;Ls=!1;var Dt=Pt.firstBaseUpdate,Ht=Pt.lastBaseUpdate,Jt=Pt.shared.pending;if(Jt!==null){Pt.shared.pending=null;var pn=Jt,Cn=pn.next;pn.next=null,Ht===null?Dt=Cn:Ht.next=Cn,Ht=pn;var $n=ut.alternate;$n!==null&&($n=$n.updateQueue,Jt=$n.lastBaseUpdate,Jt!==Ht&&(Jt===null?$n.firstBaseUpdate=Cn:Jt.next=Cn,$n.lastBaseUpdate=pn))}if(Dt!==null){var ar=Pt.baseState;Ht=0,$n=Cn=pn=null,Jt=Dt;do{var Jn=Jt.lane,Sr=Jt.eventTime;if((bt&Jn)===Jn){$n!==null&&($n=$n.next={eventTime:Sr,lane:0,tag:Jt.tag,payload:Jt.payload,callback:Jt.callback,next:null});e:{var Yn=ut,Wr=Jt;switch(Jn=ft,Sr=Et,Wr.tag){case 1:if(Yn=Wr.payload,typeof Yn=="function"){ar=Yn.call(Sr,ar,Jn);break e}ar=Yn;break e;case 3:Yn.flags=Yn.flags&-65537|128;case 0:if(Yn=Wr.payload,Jn=typeof Yn=="function"?Yn.call(Sr,ar,Jn):Yn,Jn==null)break e;ar=it({},ar,Jn);break e;case 2:Ls=!0}}Jt.callback!==null&&Jt.lane!==0&&(ut.flags|=64,Jn=Pt.effects,Jn===null?Pt.effects=[Jt]:Jn.push(Jt))}else Sr={eventTime:Sr,lane:Jn,tag:Jt.tag,payload:Jt.payload,callback:Jt.callback,next:null},$n===null?(Cn=$n=Sr,pn=ar):$n=$n.next=Sr,Ht|=Jn;if(Jt=Jt.next,Jt===null){if(Jt=Pt.shared.pending,Jt===null)break;Jn=Jt,Jt=Jn.next,Jn.next=null,Pt.lastBaseUpdate=Jn,Pt.shared.pending=null}}while(!0);if($n===null&&(pn=ar),Pt.baseState=pn,Pt.firstBaseUpdate=Cn,Pt.lastBaseUpdate=$n,ft=Pt.shared.interleaved,ft!==null){Pt=ft;do Ht|=Pt.lane,Pt=Pt.next;while(Pt!==ft)}else Dt===null&&(Pt.shared.lanes=0);ao|=Ht,ut.lanes=Ht,ut.memoizedState=ar}}function rp(ut,ft,Et){if(ut=ft.effects,ft.effects=null,ut!==null)for(ft=0;ft<ut.length;ft++){var bt=ut[ft],Pt=bt.callback;if(Pt!==null){if(bt.callback=null,bt=Et,typeof Pt!="function")throw Error(st(191,Pt));Pt.call(bt)}}}var sp=new nt.Component().refs;function ou(ut,ft,Et,bt){ft=ut.memoizedState,Et=Et(bt,ft),Et=Et==null?ft:it({},ft,Et),ut.memoizedState=Et,ut.lanes===0&&(ut.updateQueue.baseState=Et)}var $o={isMounted:function(ut){return(ut=ut._reactInternals)?Lt(ut)===ut:!1},enqueueSetState:function(ut,ft,Et){ut=ut._reactInternals;var bt=qr(),Pt=Ns(ut),Dt=Ms(bt,Pt);Dt.payload=ft,Et!=null&&(Dt.callback=Et),ks(ut,Dt),ft=cs(ut,Pt,bt),ft!==null&&zo(ft,ut,Pt)},enqueueReplaceState:function(ut,ft,Et){ut=ut._reactInternals;var bt=qr(),Pt=Ns(ut),Dt=Ms(bt,Pt);Dt.tag=1,Dt.payload=ft,Et!=null&&(Dt.callback=Et),ks(ut,Dt),ft=cs(ut,Pt,bt),ft!==null&&zo(ft,ut,Pt)},enqueueForceUpdate:function(ut,ft){ut=ut._reactInternals;var Et=qr(),bt=Ns(ut),Pt=Ms(Et,bt);Pt.tag=2,ft!=null&&(Pt.callback=ft),ks(ut,Pt),ft=cs(ut,bt,Et),ft!==null&&zo(ft,ut,bt)}};function ap(ut,ft,Et,bt,Pt,Dt,Ht){return ut=ut.stateNode,typeof ut.shouldComponentUpdate=="function"?ut.shouldComponentUpdate(bt,Dt,Ht):ft.prototype&&ft.prototype.isPureReactComponent?!Oo(Et,bt)||!Oo(Pt,Dt):!0}function lp(ut,ft,Et){var bt=!1,Pt=br,Dt=ft.contextType;return typeof Dt=="object"&&Dt!==null?Dt=rs(Dt):(Pt=Br(ft)?Yr:sr.current,bt=ft.contextTypes,Dt=(bt=bt!=null)?Ir(ut,Pt):br),ft=new ft(Et,Dt),ut.memoizedState=ft.state!==null&&ft.state!==void 0?ft.state:null,ft.updater=$o,ut.stateNode=ft,ft._reactInternals=ut,bt&&(ut=ut.stateNode,ut.__reactInternalMemoizedUnmaskedChildContext=Pt,ut.__reactInternalMemoizedMaskedChildContext=Dt),ft}function cp(ut,ft,Et,bt){ut=ft.state,typeof ft.componentWillReceiveProps=="function"&&ft.componentWillReceiveProps(Et,bt),typeof ft.UNSAFE_componentWillReceiveProps=="function"&&ft.UNSAFE_componentWillReceiveProps(Et,bt),ft.state!==ut&&$o.enqueueReplaceState(ft,ft.state,null)}function lu(ut,ft,Et,bt){var Pt=ut.stateNode;Pt.props=Et,Pt.state=ut.memoizedState,Pt.refs=sp,au(ut);var Dt=ft.contextType;typeof Dt=="object"&&Dt!==null?Pt.context=rs(Dt):(Dt=Br(ft)?Yr:sr.current,Pt.context=Ir(ut,Dt)),Pt.state=ut.memoizedState,Dt=ft.getDerivedStateFromProps,typeof Dt=="function"&&(ou(ut,ft,Dt,Et),Pt.state=ut.memoizedState),typeof ft.getDerivedStateFromProps=="function"||typeof Pt.getSnapshotBeforeUpdate=="function"||typeof Pt.UNSAFE_componentWillMount!="function"&&typeof Pt.componentWillMount!="function"||(ft=Pt.state,typeof Pt.componentWillMount=="function"&&Pt.componentWillMount(),typeof Pt.UNSAFE_componentWillMount=="function"&&Pt.UNSAFE_componentWillMount(),ft!==Pt.state&&$o.enqueueReplaceState(Pt,Pt.state,null),jo(ut,Et,Pt,bt),Pt.state=ut.memoizedState),typeof Pt.componentDidMount=="function"&&(ut.flags|=4194308)}var ba=[],$a=0,Go=null,Ho=0,ss=[],as=0,Us=null,Ts=1,As="";function zs(ut,ft){ba[$a++]=Ho,ba[$a++]=Go,Go=ut,Ho=ft}function up(ut,ft,Et){ss[as++]=Ts,ss[as++]=As,ss[as++]=Us,Us=ut;var bt=Ts;ut=As;var Pt=32-Jr(bt)-1;bt&=~(1<<Pt),Et+=1;var Dt=32-Jr(ft)+Pt;if(30<Dt){var Ht=Pt-Pt%5;Dt=(bt&(1<<Ht)-1).toString(32),bt>>=Ht,Pt-=Ht,Ts=1<<32-Jr(ft)+Pt|Et<<Pt|bt,As=Dt+ut}else Ts=1<<Dt|Et<<Pt|bt,As=ut}function cu(ut){ut.return!==null&&(zs(ut,1),up(ut,1,0))}function uu(ut){for(;ut===Go;)Go=ba[--$a],ba[$a]=null,Ho=ba[--$a],ba[$a]=null;for(;ut===Us;)Us=ss[--as],ss[as]=null,As=ss[--as],ss[as]=null,Ts=ss[--as],ss[as]=null}var _i=null,es=null,Tr=!1,fo=!1,ps=null;function hp(ut,ft){var Et=us(5,null,null,0);Et.elementType="DELETED",Et.stateNode=ft,Et.return=ut,ft=ut.deletions,ft===null?(ut.deletions=[Et],ut.flags|=16):ft.push(Et)}function fp(ut,ft){switch(ut.tag){case 5:return ft=Es(ft,ut.type,ut.pendingProps),ft!==null?(ut.stateNode=ft,_i=ut,es=Qs(ft),!0):!1;case 6:return ft=bs(ft,ut.pendingProps),ft!==null?(ut.stateNode=ft,_i=ut,es=null,!0):!1;case 13:if(ft=lo(ft),ft!==null){var Et=Us!==null?{id:Ts,overflow:As}:null;return ut.memoizedState={dehydrated:ft,treeContext:Et,retryLane:1073741824},Et=us(18,null,null,0),Et.stateNode=ft,Et.return=ut,ut.child=Et,_i=ut,es=null,!0}return!1;default:return!1}}function hu(ut){return(ut.mode&1)!==0&&(ut.flags&128)===0}function fu(ut){if(Tr){var ft=es;if(ft){var Et=ft;if(!fp(ut,ft)){if(hu(ut))throw Error(st(418));ft=Is(Et);var bt=_i;ft&&fp(ut,ft)?hp(bt,Et):(ut.flags=ut.flags&-4097|2,Tr=!1,_i=ut)}}else{if(hu(ut))throw Error(st(418));ut.flags=ut.flags&-4097|2,Tr=!1,_i=ut}}}function dp(ut){for(ut=ut.return;ut!==null&&ut.tag!==5&&ut.tag!==3&&ut.tag!==13;)ut=ut.return;_i=ut}function po(ut){if(!fn||ut!==_i)return!1;if(!Tr)return dp(ut),Tr=!0,!1;if(ut.tag!==3&&(ut.tag!==5||Rn(ut.type)&&!ln(ut.type,ut.memoizedProps))){var ft=es;if(ft){if(hu(ut)){for(ut=es;ut;)ut=Is(ut);throw Error(st(418))}for(;ft;)hp(ut,ft),ft=Is(ft)}}if(dp(ut),ut.tag===13){if(!fn)throw Error(st(316));if(ut=ut.memoizedState,ut=ut!==null?ut.dehydrated:null,!ut)throw Error(st(317));es=jt(ut)}else es=_i?Is(ut.stateNode):null;return!0}function eo(){fn&&(es=_i=null,fo=Tr=!1)}function du(ut){ps===null?ps=[ut]:ps.push(ut)}function mo(ut,ft,Et){if(ut=Et.ref,ut!==null&&typeof ut!="function"&&typeof ut!="object"){if(Et._owner){if(Et=Et._owner,Et){if(Et.tag!==1)throw Error(st(309));var bt=Et.stateNode}if(!bt)throw Error(st(147,ut));var Pt=bt,Dt=""+ut;return ft!==null&&ft.ref!==null&&typeof ft.ref=="function"&&ft.ref._stringRef===Dt?ft.ref:(ft=function(Ht){var Jt=Pt.refs;Jt===sp&&(Jt=Pt.refs={}),Ht===null?delete Jt[Dt]:Jt[Dt]=Ht},ft._stringRef=Dt,ft)}if(typeof ut!="string")throw Error(st(284));if(!Et._owner)throw Error(st(290,ut))}return ut}function Wo(ut,ft){throw ut=Object.prototype.toString.call(ft),Error(st(31,ut==="[object Object]"?"object with keys {"+Object.keys(ft).join(", ")+"}":ut))}function pp(ut){var ft=ut._init;return ft(ut._payload)}function mp(ut){function ft(on,tn){if(ut){var hn=on.deletions;hn===null?(on.deletions=[tn],on.flags|=16):hn.push(tn)}}function Et(on,tn){if(!ut)return null;for(;tn!==null;)ft(on,tn),tn=tn.sibling;return null}function bt(on,tn){for(on=new Map;tn!==null;)tn.key!==null?on.set(tn.key,tn):on.set(tn.index,tn),tn=tn.sibling;return on}function Pt(on,tn){return on=Os(on,tn),on.index=0,on.sibling=null,on}function Dt(on,tn,hn){return on.index=hn,ut?(hn=on.alternate,hn!==null?(hn=hn.index,hn<tn?(on.flags|=2,tn):hn):(on.flags|=2,tn)):(on.flags|=1048576,tn)}function Ht(on){return ut&&on.alternate===null&&(on.flags|=2),on}function Jt(on,tn,hn,Nn){return tn===null||tn.tag!==6?(tn=Ku(hn,on.mode,Nn),tn.return=on,tn):(tn=Pt(tn,hn),tn.return=on,tn)}function pn(on,tn,hn,Nn){var Xn=hn.type;return Xn===ct?$n(on,tn,hn.props.children,Nn,hn.key):tn!==null&&(tn.elementType===Xn||typeof Xn=="object"&&Xn!==null&&Xn.$$typeof===vt&&pp(Xn)===tn.type)?(Nn=Pt(tn,hn.props),Nn.ref=mo(on,tn,hn),Nn.return=on,Nn):(Nn=Gl(hn.type,hn.key,hn.props,null,on.mode,Nn),Nn.ref=mo(on,tn,hn),Nn.return=on,Nn)}function Cn(on,tn,hn,Nn){return tn===null||tn.tag!==4||tn.stateNode.containerInfo!==hn.containerInfo||tn.stateNode.implementation!==hn.implementation?(tn=Zu(hn,on.mode,Nn),tn.return=on,tn):(tn=Pt(tn,hn.children||[]),tn.return=on,tn)}function $n(on,tn,hn,Nn,Xn){return tn===null||tn.tag!==7?(tn=qs(hn,on.mode,Nn,Xn),tn.return=on,tn):(tn=Pt(tn,hn),tn.return=on,tn)}function ar(on,tn,hn){if(typeof tn=="string"&&tn!==""||typeof tn=="number")return tn=Ku(""+tn,on.mode,hn),tn.return=on,tn;if(typeof tn=="object"&&tn!==null){switch(tn.$$typeof){case ot:return hn=Gl(tn.type,tn.key,tn.props,null,on.mode,hn),hn.ref=mo(on,null,tn),hn.return=on,hn;case lt:return tn=Zu(tn,on.mode,hn),tn.return=on,tn;case vt:var Nn=tn._init;return ar(on,Nn(tn._payload),hn)}if(Xt(tn)||Mt(tn))return tn=qs(tn,on.mode,hn,null),tn.return=on,tn;Wo(on,tn)}return null}function Jn(on,tn,hn,Nn){var Xn=tn!==null?tn.key:null;if(typeof hn=="string"&&hn!==""||typeof hn=="number")return Xn!==null?null:Jt(on,tn,""+hn,Nn);if(typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case ot:return hn.key===Xn?pn(on,tn,hn,Nn):null;case lt:return hn.key===Xn?Cn(on,tn,hn,Nn):null;case vt:return Xn=hn._init,Jn(on,tn,Xn(hn._payload),Nn)}if(Xt(hn)||Mt(hn))return Xn!==null?null:$n(on,tn,hn,Nn,null);Wo(on,hn)}return null}function Sr(on,tn,hn,Nn,Xn){if(typeof Nn=="string"&&Nn!==""||typeof Nn=="number")return on=on.get(hn)||null,Jt(tn,on,""+Nn,Xn);if(typeof Nn=="object"&&Nn!==null){switch(Nn.$$typeof){case ot:return on=on.get(Nn.key===null?hn:Nn.key)||null,pn(tn,on,Nn,Xn);case lt:return on=on.get(Nn.key===null?hn:Nn.key)||null,Cn(tn,on,Nn,Xn);case vt:var lr=Nn._init;return Sr(on,tn,hn,lr(Nn._payload),Xn)}if(Xt(Nn)||Mt(Nn))return on=on.get(hn)||null,$n(tn,on,Nn,Xn,null);Wo(tn,Nn)}return null}function Yn(on,tn,hn,Nn){for(var Xn=null,lr=null,or=tn,vr=tn=0,Ur=null;or!==null&&vr<hn.length;vr++){or.index>vr?(Ur=or,or=null):Ur=or.sibling;var yr=Jn(on,or,hn[vr],Nn);if(yr===null){or===null&&(or=Ur);break}ut&&or&&yr.alternate===null&&ft(on,or),tn=Dt(yr,tn,vr),lr===null?Xn=yr:lr.sibling=yr,lr=yr,or=Ur}if(vr===hn.length)return Et(on,or),Tr&&zs(on,vr),Xn;if(or===null){for(;vr<hn.length;vr++)or=ar(on,hn[vr],Nn),or!==null&&(tn=Dt(or,tn,vr),lr===null?Xn=or:lr.sibling=or,lr=or);return Tr&&zs(on,vr),Xn}for(or=bt(on,or);vr<hn.length;vr++)Ur=Sr(or,on,vr,hn[vr],Nn),Ur!==null&&(ut&&Ur.alternate!==null&&or.delete(Ur.key===null?vr:Ur.key),tn=Dt(Ur,tn,vr),lr===null?Xn=Ur:lr.sibling=Ur,lr=Ur);return ut&&or.forEach(function(Vs){return ft(on,Vs)}),Tr&&zs(on,vr),Xn}function Wr(on,tn,hn,Nn){var Xn=Mt(hn);if(typeof Xn!="function")throw Error(st(150));if(hn=Xn.call(hn),hn==null)throw Error(st(151));for(var lr=Xn=null,or=tn,vr=tn=0,Ur=null,yr=hn.next();or!==null&&!yr.done;vr++,yr=hn.next()){or.index>vr?(Ur=or,or=null):Ur=or.sibling;var Vs=Jn(on,or,yr.value,Nn);if(Vs===null){or===null&&(or=Ur);break}ut&&or&&Vs.alternate===null&&ft(on,or),tn=Dt(Vs,tn,vr),lr===null?Xn=Vs:lr.sibling=Vs,lr=Vs,or=Ur}if(yr.done)return Et(on,or),Tr&&zs(on,vr),Xn;if(or===null){for(;!yr.done;vr++,yr=hn.next())yr=ar(on,yr.value,Nn),yr!==null&&(tn=Dt(yr,tn,vr),lr===null?Xn=yr:lr.sibling=yr,lr=yr);return Tr&&zs(on,vr),Xn}for(or=bt(on,or);!yr.done;vr++,yr=hn.next())yr=Sr(or,on,vr,yr.value,Nn),yr!==null&&(ut&&yr.alternate!==null&&or.delete(yr.key===null?vr:yr.key),tn=Dt(yr,tn,vr),lr===null?Xn=yr:lr.sibling=yr,lr=yr);return ut&&or.forEach(function(xv){return ft(on,xv)}),Tr&&zs(on,vr),Xn}function hs(on,tn,hn,Nn){if(typeof hn=="object"&&hn!==null&&hn.type===ct&&hn.key===null&&(hn=hn.props.children),typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case ot:e:{for(var Xn=hn.key,lr=tn;lr!==null;){if(lr.key===Xn){if(Xn=hn.type,Xn===ct){if(lr.tag===7){Et(on,lr.sibling),tn=Pt(lr,hn.props.children),tn.return=on,on=tn;break e}}else if(lr.elementType===Xn||typeof Xn=="object"&&Xn!==null&&Xn.$$typeof===vt&&pp(Xn)===lr.type){Et(on,lr.sibling),tn=Pt(lr,hn.props),tn.ref=mo(on,lr,hn),tn.return=on,on=tn;break e}Et(on,lr);break}else ft(on,lr);lr=lr.sibling}hn.type===ct?(tn=qs(hn.props.children,on.mode,Nn,hn.key),tn.return=on,on=tn):(Nn=Gl(hn.type,hn.key,hn.props,null,on.mode,Nn),Nn.ref=mo(on,tn,hn),Nn.return=on,on=Nn)}return Ht(on);case lt:e:{for(lr=hn.key;tn!==null;){if(tn.key===lr)if(tn.tag===4&&tn.stateNode.containerInfo===hn.containerInfo&&tn.stateNode.implementation===hn.implementation){Et(on,tn.sibling),tn=Pt(tn,hn.children||[]),tn.return=on,on=tn;break e}else{Et(on,tn);break}else ft(on,tn);tn=tn.sibling}tn=Zu(hn,on.mode,Nn),tn.return=on,on=tn}return Ht(on);case vt:return lr=hn._init,hs(on,tn,lr(hn._payload),Nn)}if(Xt(hn))return Yn(on,tn,hn,Nn);if(Mt(hn))return Wr(on,tn,hn,Nn);Wo(on,hn)}return typeof hn=="string"&&hn!==""||typeof hn=="number"?(hn=""+hn,tn!==null&&tn.tag===6?(Et(on,tn.sibling),tn=Pt(tn,hn),tn.return=on,on=tn):(Et(on,tn),tn=Ku(hn,on.mode,Nn),tn.return=on,on=tn),Ht(on)):Et(on,tn)}return hs}var to=mp(!0),gp=mp(!1),go={},os=Cr(go),vo=Cr(go),no=Cr(go);function xs(ut){if(ut===go)throw Error(st(174));return ut}function pu(ut,ft){In(no,ft),In(vo,ut),In(os,go),ut=Ut(ft),Kn(os),In(os,ut)}function ro(){Kn(os),Kn(vo),Kn(no)}function vp(ut){var ft=xs(no.current),Et=xs(os.current);ft=At(Et,ut.type,ft),Et!==ft&&(In(vo,ut),In(os,ft))}function mu(ut){vo.current===ut&&(Kn(os),Kn(vo))}var Ar=Cr(0);function Xo(ut){for(var ft=ut;ft!==null;){if(ft.tag===13){var Et=ft.memoizedState;if(Et!==null&&(Et=Et.dehydrated,Et===null||co(Et)||Ks(Et)))return ft}else if(ft.tag===19&&ft.memoizedProps.revealOrder!==void 0){if(ft.flags&128)return ft}else if(ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===ut)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===ut)return null;ft=ft.return}ft.sibling.return=ft.return,ft=ft.sibling}return null}var gu=[];function vu(){for(var ut=0;ut<gu.length;ut++){var ft=gu[ut];Vn?ft._workInProgressVersionPrimary=null:ft._workInProgressVersionSecondary=null}gu.length=0}var qo=at.ReactCurrentDispatcher,ls=at.ReactCurrentBatchConfig,io=0,Pr=null,$r=null,Vr=null,Yo=!1,yo=!1,xo=0,Hm=0;function Gr(){throw Error(st(321))}function yu(ut,ft){if(ft===null)return!1;for(var Et=0;Et<ft.length&&Et<ut.length;Et++)if(!gs(ut[Et],ft[Et]))return!1;return!0}function xu(ut,ft,Et,bt,Pt,Dt){if(io=Dt,Pr=ft,ft.memoizedState=null,ft.updateQueue=null,ft.lanes=0,qo.current=ut===null||ut.memoizedState===null?Ym:Km,ut=Et(bt,Pt),yo){Dt=0;do{if(yo=!1,xo=0,25<=Dt)throw Error(st(301));Dt+=1,Vr=$r=null,ft.updateQueue=null,qo.current=Zm,ut=Et(bt,Pt)}while(yo)}if(qo.current=yl,ft=$r!==null&&$r.next!==null,io=0,Vr=$r=Pr=null,Yo=!1,ft)throw Error(st(300));return ut}function _u(){var ut=xo!==0;return xo=0,ut}function Cs(){var ut={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?Pr.memoizedState=Vr=ut:Vr=Vr.next=ut,Vr}function _s(){if($r===null){var ut=Pr.alternate;ut=ut!==null?ut.memoizedState:null}else ut=$r.next;var ft=Vr===null?Pr.memoizedState:Vr.next;if(ft!==null)Vr=ft,$r=ut;else{if(ut===null)throw Error(st(310));$r=ut,ut={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},Vr===null?Pr.memoizedState=Vr=ut:Vr=Vr.next=ut}return Vr}function js(ut,ft){return typeof ft=="function"?ft(ut):ft}function Ko(ut){var ft=_s(),Et=ft.queue;if(Et===null)throw Error(st(311));Et.lastRenderedReducer=ut;var bt=$r,Pt=bt.baseQueue,Dt=Et.pending;if(Dt!==null){if(Pt!==null){var Ht=Pt.next;Pt.next=Dt.next,Dt.next=Ht}bt.baseQueue=Pt=Dt,Et.pending=null}if(Pt!==null){Dt=Pt.next,bt=bt.baseState;var Jt=Ht=null,pn=null,Cn=Dt;do{var $n=Cn.lane;if((io&$n)===$n)pn!==null&&(pn=pn.next={lane:0,action:Cn.action,hasEagerState:Cn.hasEagerState,eagerState:Cn.eagerState,next:null}),bt=Cn.hasEagerState?Cn.eagerState:ut(bt,Cn.action);else{var ar={lane:$n,action:Cn.action,hasEagerState:Cn.hasEagerState,eagerState:Cn.eagerState,next:null};pn===null?(Jt=pn=ar,Ht=bt):pn=pn.next=ar,Pr.lanes|=$n,ao|=$n}Cn=Cn.next}while(Cn!==null&&Cn!==Dt);pn===null?Ht=bt:pn.next=Jt,gs(bt,ft.memoizedState)||(ts=!0),ft.memoizedState=bt,ft.baseState=Ht,ft.baseQueue=pn,Et.lastRenderedState=bt}if(ut=Et.interleaved,ut!==null){Pt=ut;do Dt=Pt.lane,Pr.lanes|=Dt,ao|=Dt,Pt=Pt.next;while(Pt!==ut)}else Pt===null&&(Et.lanes=0);return[ft.memoizedState,Et.dispatch]}function Zo(ut){var ft=_s(),Et=ft.queue;if(Et===null)throw Error(st(311));Et.lastRenderedReducer=ut;var bt=Et.dispatch,Pt=Et.pending,Dt=ft.memoizedState;if(Pt!==null){Et.pending=null;var Ht=Pt=Pt.next;do Dt=ut(Dt,Ht.action),Ht=Ht.next;while(Ht!==Pt);gs(Dt,ft.memoizedState)||(ts=!0),ft.memoizedState=Dt,ft.baseQueue===null&&(ft.baseState=Dt),Et.lastRenderedState=Dt}return[Dt,bt]}function yp(){}function xp(ut,ft){var Et=Pr,bt=_s(),Pt=ft(),Dt=!gs(bt.memoizedState,Pt);if(Dt&&(bt.memoizedState=Pt,ts=!0),bt=bt.queue,So(Ep.bind(null,Et,bt,ut),[ut]),bt.getSnapshot!==ft||Dt||Vr!==null&&Vr.memoizedState.tag&1){if(Et.flags|=2048,_o(9,Sp.bind(null,Et,bt,Pt,ft),void 0,null),Lr===null)throw Error(st(349));io&30||_p(Et,ft,Pt)}return Pt}function _p(ut,ft,Et){ut.flags|=16384,ut={getSnapshot:ft,value:Et},ft=Pr.updateQueue,ft===null?(ft={lastEffect:null,stores:null},Pr.updateQueue=ft,ft.stores=[ut]):(Et=ft.stores,Et===null?ft.stores=[ut]:Et.push(ut))}function Sp(ut,ft,Et,bt){ft.value=Et,ft.getSnapshot=bt,bp(ft)&&cs(ut,1,-1)}function Ep(ut,ft,Et){return Et(function(){bp(ft)&&cs(ut,1,-1)})}function bp(ut){var ft=ut.getSnapshot;ut=ut.value;try{var Et=ft();return!gs(ut,Et)}catch{return!0}}function Su(ut){var ft=Cs();return typeof ut=="function"&&(ut=ut()),ft.memoizedState=ft.baseState=ut,ut={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:ut},ft.queue=ut,ut=ut.dispatch=qm.bind(null,Pr,ut),[ft.memoizedState,ut]}function _o(ut,ft,Et,bt){return ut={tag:ut,create:ft,destroy:Et,deps:bt,next:null},ft=Pr.updateQueue,ft===null?(ft={lastEffect:null,stores:null},Pr.updateQueue=ft,ft.lastEffect=ut.next=ut):(Et=ft.lastEffect,Et===null?ft.lastEffect=ut.next=ut:(bt=Et.next,Et.next=ut,ut.next=bt,ft.lastEffect=ut)),ut}function wp(){return _s().memoizedState}function Qo(ut,ft,Et,bt){var Pt=Cs();Pr.flags|=ut,Pt.memoizedState=_o(1|ft,Et,void 0,bt===void 0?null:bt)}function Jo(ut,ft,Et,bt){var Pt=_s();bt=bt===void 0?null:bt;var Dt=void 0;if($r!==null){var Ht=$r.memoizedState;if(Dt=Ht.destroy,bt!==null&&yu(bt,Ht.deps)){Pt.memoizedState=_o(ft,Et,Dt,bt);return}}Pr.flags|=ut,Pt.memoizedState=_o(1|ft,Et,Dt,bt)}function Eu(ut,ft){return Qo(8390656,8,ut,ft)}function So(ut,ft){return Jo(2048,8,ut,ft)}function Mp(ut,ft){return Jo(4,2,ut,ft)}function Tp(ut,ft){return Jo(4,4,ut,ft)}function Ap(ut,ft){if(typeof ft=="function")return ut=ut(),ft(ut),function(){ft(null)};if(ft!=null)return ut=ut(),ft.current=ut,function(){ft.current=null}}function Cp(ut,ft,Et){return Et=Et!=null?Et.concat([ut]):null,Jo(4,4,Ap.bind(null,ft,ut),Et)}function bu(){}function Pp(ut,ft){var Et=_s();ft=ft===void 0?null:ft;var bt=Et.memoizedState;return bt!==null&&ft!==null&&yu(ft,bt[1])?bt[0]:(Et.memoizedState=[ut,ft],ut)}function Rp(ut,ft){var Et=_s();ft=ft===void 0?null:ft;var bt=Et.memoizedState;return bt!==null&&ft!==null&&yu(ft,bt[1])?bt[0]:(ut=ut(),Et.memoizedState=[ut,ft],ut)}function Wm(ut,ft){var Et=gr;gr=Et!==0&&4>Et?Et:4,ut(!0);var bt=ls.transition;ls.transition={};try{ut(!1),ft()}finally{gr=Et,ls.transition=bt}}function Ip(){return _s().memoizedState}function Xm(ut,ft,Et){var bt=Ns(ut);Et={lane:bt,action:Et,hasEagerState:!1,eagerState:null,next:null},Lp(ut)?kp(ft,Et):(Dp(ut,ft,Et),Et=qr(),ut=cs(ut,bt,Et),ut!==null&&Fp(ut,ft,bt))}function qm(ut,ft,Et){var bt=Ns(ut),Pt={lane:bt,action:Et,hasEagerState:!1,eagerState:null,next:null};if(Lp(ut))kp(ft,Pt);else{Dp(ut,ft,Pt);var Dt=ut.alternate;if(ut.lanes===0&&(Dt===null||Dt.lanes===0)&&(Dt=ft.lastRenderedReducer,Dt!==null))try{var Ht=ft.lastRenderedState,Jt=Dt(Ht,Et);if(Pt.hasEagerState=!0,Pt.eagerState=Jt,gs(Jt,Ht))return}catch{}finally{}Et=qr(),ut=cs(ut,bt,Et),ut!==null&&Fp(ut,ft,bt)}}function Lp(ut){var ft=ut.alternate;return ut===Pr||ft!==null&&ft===Pr}function kp(ut,ft){yo=Yo=!0;var Et=ut.pending;Et===null?ft.next=ft:(ft.next=Et.next,Et.next=ft),ut.pending=ft}function Dp(ut,ft,Et){Lr!==null&&ut.mode&1&&!(hr&2)?(ut=ft.interleaved,ut===null?(Et.next=Et,ys===null?ys=[ft]:ys.push(ft)):(Et.next=ut.next,ut.next=Et),ft.interleaved=Et):(ut=ft.pending,ut===null?Et.next=Et:(Et.next=ut.next,ut.next=Et),ft.pending=Et)}function Fp(ut,ft,Et){if(Et&4194240){var bt=ft.lanes;bt&=ut.pendingLanes,Et|=bt,ft.lanes=Et,Ql(ut,Et)}}var yl={readContext:rs,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},Ym={readContext:rs,useCallback:function(ut,ft){return Cs().memoizedState=[ut,ft===void 0?null:ft],ut},useContext:rs,useEffect:Eu,useImperativeHandle:function(ut,ft,Et){return Et=Et!=null?Et.concat([ut]):null,Qo(4194308,4,Ap.bind(null,ft,ut),Et)},useLayoutEffect:function(ut,ft){return Qo(4194308,4,ut,ft)},useInsertionEffect:function(ut,ft){return Qo(4,2,ut,ft)},useMemo:function(ut,ft){var Et=Cs();return ft=ft===void 0?null:ft,ut=ut(),Et.memoizedState=[ut,ft],ut},useReducer:function(ut,ft,Et){var bt=Cs();return ft=Et!==void 0?Et(ft):ft,bt.memoizedState=bt.baseState=ft,ut={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ut,lastRenderedState:ft},bt.queue=ut,ut=ut.dispatch=Xm.bind(null,Pr,ut),[bt.memoizedState,ut]},useRef:function(ut){var ft=Cs();return ut={current:ut},ft.memoizedState=ut},useState:Su,useDebugValue:bu,useDeferredValue:function(ut){var ft=Su(ut),Et=ft[0],bt=ft[1];return Eu(function(){var Pt=ls.transition;ls.transition={};try{bt(ut)}finally{ls.transition=Pt}},[ut]),Et},useTransition:function(){var ut=Su(!1),ft=ut[0];return ut=Wm.bind(null,ut[1]),Cs().memoizedState=ut,[ft,ut]},useMutableSource:function(){},useSyncExternalStore:function(ut,ft,Et){var bt=Pr,Pt=Cs();if(Tr){if(Et===void 0)throw Error(st(407));Et=Et()}else{if(Et=ft(),Lr===null)throw Error(st(349));io&30||_p(bt,ft,Et)}Pt.memoizedState=Et;var Dt={value:Et,getSnapshot:ft};return Pt.queue=Dt,Eu(Ep.bind(null,bt,Dt,ut),[ut]),bt.flags|=2048,_o(9,Sp.bind(null,bt,Dt,Et,ft),void 0,null),Et},useId:function(){var ut=Cs(),ft=Lr.identifierPrefix;if(Tr){var Et=As,bt=Ts;Et=(bt&~(1<<32-Jr(bt)-1)).toString(32)+Et,ft=":"+ft+"R"+Et,Et=xo++,0<Et&&(ft+="H"+Et.toString(32)),ft+=":"}else Et=Hm++,ft=":"+ft+"r"+Et.toString(32)+":";return ut.memoizedState=ft},unstable_isNewReconciler:!1},Km={readContext:rs,useCallback:Pp,useContext:rs,useEffect:So,useImperativeHandle:Cp,useInsertionEffect:Mp,useLayoutEffect:Tp,useMemo:Rp,useReducer:Ko,useRef:wp,useState:function(){return Ko(js)},useDebugValue:bu,useDeferredValue:function(ut){var ft=Ko(js),Et=ft[0],bt=ft[1];return So(function(){var Pt=ls.transition;ls.transition={};try{bt(ut)}finally{ls.transition=Pt}},[ut]),Et},useTransition:function(){var ut=Ko(js)[0],ft=_s().memoizedState;return[ut,ft]},useMutableSource:yp,useSyncExternalStore:xp,useId:Ip,unstable_isNewReconciler:!1},Zm={readContext:rs,useCallback:Pp,useContext:rs,useEffect:So,useImperativeHandle:Cp,useInsertionEffect:Mp,useLayoutEffect:Tp,useMemo:Rp,useReducer:Zo,useRef:wp,useState:function(){return Zo(js)},useDebugValue:bu,useDeferredValue:function(ut){var ft=Zo(js),Et=ft[0],bt=ft[1];return So(function(){var Pt=ls.transition;ls.transition={};try{bt(ut)}finally{ls.transition=Pt}},[ut]),Et},useTransition:function(){var ut=Zo(js)[0],ft=_s().memoizedState;return[ut,ft]},useMutableSource:yp,useSyncExternalStore:xp,useId:Ip,unstable_isNewReconciler:!1};function wu(ut,ft){try{var Et="",bt=ft;do Et+=Gm(bt),bt=bt.return;while(bt);var Pt=Et}catch(Dt){Pt=`
Error generating stack: `+Dt.message+`
`+Dt.stack}return{value:ut,source:ft,stack:Pt}}function Mu(ut,ft){try{console.error(ft.value)}catch(Et){setTimeout(function(){throw Et})}}var Qm=typeof WeakMap=="function"?WeakMap:Map;function Np(ut,ft,Et){Et=Ms(-1,Et),Et.tag=3,Et.payload={element:null};var bt=ft.value;return Et.callback=function(){Nl||(Nl=!0,$u=bt),Mu(ut,ft)},Et}function Bp(ut,ft,Et){Et=Ms(-1,Et),Et.tag=3;var bt=ut.type.getDerivedStateFromError;if(typeof bt=="function"){var Pt=ft.value;Et.payload=function(){return bt(Pt)},Et.callback=function(){Mu(ut,ft)}}var Dt=ut.stateNode;return Dt!==null&&typeof Dt.componentDidCatch=="function"&&(Et.callback=function(){Mu(ut,ft),typeof bt!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var Ht=ft.stack;this.componentDidCatch(ft.value,{componentStack:Ht!==null?Ht:""})}),Et}function Op(ut,ft,Et){var bt=ut.pingCache;if(bt===null){bt=ut.pingCache=new Qm;var Pt=new Set;bt.set(ft,Pt)}else Pt=bt.get(ft),Pt===void 0&&(Pt=new Set,bt.set(ft,Pt));Pt.has(Et)||(Pt.add(Et),ut=hv.bind(null,ut,ft,Et),ft.then(ut,ut))}function Vp(ut){do{var ft;if((ft=ut.tag===13)&&(ft=ut.memoizedState,ft=ft!==null?ft.dehydrated!==null:!0),ft)return ut;ut=ut.return}while(ut!==null);return null}function Up(ut,ft,Et,bt,Pt){return ut.mode&1?(ut.flags|=65536,ut.lanes=Pt,ut):(ut===ft?ut.flags|=65536:(ut.flags|=128,Et.flags|=131072,Et.flags&=-52805,Et.tag===1&&(Et.alternate===null?Et.tag=17:(ft=Ms(-1,1),ft.tag=2,ks(Et,ft))),Et.lanes|=1),ut)}function Ss(ut){ut.flags|=4}function zp(ut,ft){if(ut!==null&&ut.child===ft.child)return!0;if(ft.flags&16)return!1;for(ut=ft.child;ut!==null;){if(ut.flags&12854||ut.subtreeFlags&12854)return!1;ut=ut.sibling}return!0}var Eo,bo,xl,_l;if(Gn)Eo=function(ut,ft){for(var Et=ft.child;Et!==null;){if(Et.tag===5||Et.tag===6)Qt(ut,Et.stateNode);else if(Et.tag!==4&&Et.child!==null){Et.child.return=Et,Et=Et.child;continue}if(Et===ft)break;for(;Et.sibling===null;){if(Et.return===null||Et.return===ft)return;Et=Et.return}Et.sibling.return=Et.return,Et=Et.sibling}},bo=function(){},xl=function(ut,ft,Et,bt,Pt){if(ut=ut.memoizedProps,ut!==bt){var Dt=ft.stateNode,Ht=xs(os.current);Et=Kt(Dt,Et,ut,bt,Pt,Ht),(ft.updateQueue=Et)&&Ss(ft)}},_l=function(ut,ft,Et,bt){Et!==bt&&Ss(ft)};else if($t){Eo=function(ut,ft,Et,bt){for(var Pt=ft.child;Pt!==null;){if(Pt.tag===5){var Dt=Pt.stateNode;Et&&bt&&(Dt=Nr(Dt,Pt.type,Pt.memoizedProps,Pt)),Qt(ut,Dt)}else if(Pt.tag===6)Dt=Pt.stateNode,Et&&bt&&(Dt=Dr(Dt,Pt.memoizedProps,Pt)),Qt(ut,Dt);else if(Pt.tag!==4){if(Pt.tag===22&&Pt.memoizedState!==null)Dt=Pt.child,Dt!==null&&(Dt.return=Pt),Eo(ut,Pt,!0,!0);else if(Pt.child!==null){Pt.child.return=Pt,Pt=Pt.child;continue}}if(Pt===ft)break;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===ft)return;Pt=Pt.return}Pt.sibling.return=Pt.return,Pt=Pt.sibling}};var jp=function(ut,ft,Et,bt){for(var Pt=ft.child;Pt!==null;){if(Pt.tag===5){var Dt=Pt.stateNode;Et&&bt&&(Dt=Nr(Dt,Pt.type,Pt.memoizedProps,Pt)),pr(ut,Dt)}else if(Pt.tag===6)Dt=Pt.stateNode,Et&&bt&&(Dt=Dr(Dt,Pt.memoizedProps,Pt)),pr(ut,Dt);else if(Pt.tag!==4){if(Pt.tag===22&&Pt.memoizedState!==null)Dt=Pt.child,Dt!==null&&(Dt.return=Pt),jp(ut,Pt,!0,!0);else if(Pt.child!==null){Pt.child.return=Pt,Pt=Pt.child;continue}}if(Pt===ft)break;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===ft)return;Pt=Pt.return}Pt.sibling.return=Pt.return,Pt=Pt.sibling}};bo=function(ut,ft){var Et=ft.stateNode;if(!zp(ut,ft)){ut=Et.containerInfo;var bt=cr(ut);jp(bt,ft,!1,!1),Et.pendingChildren=bt,Ss(ft),xr(ut,bt)}},xl=function(ut,ft,Et,bt,Pt){var Dt=ut.stateNode,Ht=ut.memoizedProps;if((ut=zp(ut,ft))&&Ht===bt)ft.stateNode=Dt;else{var Jt=ft.stateNode,pn=xs(os.current),Cn=null;Ht!==bt&&(Cn=Kt(Jt,Et,Ht,bt,Pt,pn)),ut&&Cn===null?ft.stateNode=Dt:(Dt=tr(Dt,Cn,Et,Ht,bt,ft,ut,Jt),an(Dt,Et,bt,Pt,pn)&&Ss(ft),ft.stateNode=Dt,ut?Ss(ft):Eo(Dt,ft,!1,!1))}},_l=function(ut,ft,Et,bt){Et!==bt?(ut=xs(no.current),Et=xs(os.current),ft.stateNode=vn(bt,ut,Et,ft),Ss(ft)):ft.stateNode=ut.stateNode}}else bo=function(){},xl=function(){},_l=function(){};function wo(ut,ft){if(!Tr)switch(ut.tailMode){case"hidden":ft=ut.tail;for(var Et=null;ft!==null;)ft.alternate!==null&&(Et=ft),ft=ft.sibling;Et===null?ut.tail=null:Et.sibling=null;break;case"collapsed":Et=ut.tail;for(var bt=null;Et!==null;)Et.alternate!==null&&(bt=Et),Et=Et.sibling;bt===null?ft||ut.tail===null?ut.tail=null:ut.tail.sibling=null:bt.sibling=null}}function Hr(ut){var ft=ut.alternate!==null&&ut.alternate.child===ut.child,Et=0,bt=0;if(ft)for(var Pt=ut.child;Pt!==null;)Et|=Pt.lanes|Pt.childLanes,bt|=Pt.subtreeFlags&14680064,bt|=Pt.flags&14680064,Pt.return=ut,Pt=Pt.sibling;else for(Pt=ut.child;Pt!==null;)Et|=Pt.lanes|Pt.childLanes,bt|=Pt.subtreeFlags,bt|=Pt.flags,Pt.return=ut,Pt=Pt.sibling;return ut.subtreeFlags|=bt,ut.childLanes=Et,ft}function Jm(ut,ft,Et){var bt=ft.pendingProps;switch(uu(ft),ft.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(ft),null;case 1:return Br(ft.type)&&Mr(),Hr(ft),null;case 3:return bt=ft.stateNode,ro(),Kn(wr),Kn(sr),vu(),bt.pendingContext&&(bt.context=bt.pendingContext,bt.pendingContext=null),(ut===null||ut.child===null)&&(po(ft)?Ss(ft):ut===null||ut.memoizedState.isDehydrated&&!(ft.flags&256)||(ft.flags|=1024,ps!==null&&(Wu(ps),ps=null))),bo(ut,ft),Hr(ft),null;case 5:mu(ft),Et=xs(no.current);var Pt=ft.type;if(ut!==null&&ft.stateNode!=null)xl(ut,ft,Pt,bt,Et),ut.ref!==ft.ref&&(ft.flags|=512,ft.flags|=2097152);else{if(!bt){if(ft.stateNode===null)throw Error(st(166));return Hr(ft),null}if(ut=xs(os.current),po(ft)){if(!fn)throw Error(st(175));ut=Wl(ft.stateNode,ft.type,ft.memoizedProps,Et,ut,ft,!fo),ft.updateQueue=ut,ut!==null&&Ss(ft)}else{var Dt=Bt(Pt,bt,Et,ut,ft);Eo(Dt,ft,!1,!1),ft.stateNode=Dt,an(Dt,Pt,bt,Et,ut)&&Ss(ft)}ft.ref!==null&&(ft.flags|=512,ft.flags|=2097152)}return Hr(ft),null;case 6:if(ut&&ft.stateNode!=null)_l(ut,ft,ut.memoizedProps,bt);else{if(typeof bt!="string"&&ft.stateNode===null)throw Error(st(166));if(ut=xs(no.current),Et=xs(os.current),po(ft)){if(!fn)throw Error(st(176));if(ut=ft.stateNode,bt=ft.memoizedProps,(Et=Xl(ut,bt,ft,!fo))&&(Pt=_i,Pt!==null))switch(Dt=(Pt.mode&1)!==0,Pt.tag){case 3:Bn(Pt.stateNode.containerInfo,ut,bt,Dt);break;case 5:Wn(Pt.type,Pt.memoizedProps,Pt.stateNode,ut,bt,Dt)}Et&&Ss(ft)}else ft.stateNode=vn(bt,ut,Et,ft)}return Hr(ft),null;case 13:if(Kn(Ar),bt=ft.memoizedState,Tr&&es!==null&&ft.mode&1&&!(ft.flags&128)){for(ut=es;ut;)ut=Is(ut);return eo(),ft.flags|=98560,ft}if(bt!==null&&bt.dehydrated!==null){if(bt=po(ft),ut===null){if(!bt)throw Error(st(318));if(!fn)throw Error(st(344));if(ut=ft.memoizedState,ut=ut!==null?ut.dehydrated:null,!ut)throw Error(st(317));Yl(ut,ft)}else eo(),!(ft.flags&128)&&(ft.memoizedState=null),ft.flags|=4;return Hr(ft),null}return ps!==null&&(Wu(ps),ps=null),ft.flags&128?(ft.lanes=Et,ft):(bt=bt!==null,Et=!1,ut===null?po(ft):Et=ut.memoizedState!==null,bt&&!Et&&(ft.child.flags|=8192,ft.mode&1&&(ut===null||Ar.current&1?Fr===0&&(Fr=3):qu())),ft.updateQueue!==null&&(ft.flags|=4),Hr(ft),null);case 4:return ro(),bo(ut,ft),ut===null&&Pn(ft.stateNode.containerInfo),Hr(ft),null;case 10:return iu(ft.type._context),Hr(ft),null;case 17:return Br(ft.type)&&Mr(),Hr(ft),null;case 19:if(Kn(Ar),Pt=ft.memoizedState,Pt===null)return Hr(ft),null;if(bt=(ft.flags&128)!==0,Dt=Pt.rendering,Dt===null)if(bt)wo(Pt,!1);else{if(Fr!==0||ut!==null&&ut.flags&128)for(ut=ft.child;ut!==null;){if(Dt=Xo(ut),Dt!==null){for(ft.flags|=128,wo(Pt,!1),ut=Dt.updateQueue,ut!==null&&(ft.updateQueue=ut,ft.flags|=4),ft.subtreeFlags=0,ut=Et,bt=ft.child;bt!==null;)Et=bt,Pt=ut,Et.flags&=14680066,Dt=Et.alternate,Dt===null?(Et.childLanes=0,Et.lanes=Pt,Et.child=null,Et.subtreeFlags=0,Et.memoizedProps=null,Et.memoizedState=null,Et.updateQueue=null,Et.dependencies=null,Et.stateNode=null):(Et.childLanes=Dt.childLanes,Et.lanes=Dt.lanes,Et.child=Dt.child,Et.subtreeFlags=0,Et.deletions=null,Et.memoizedProps=Dt.memoizedProps,Et.memoizedState=Dt.memoizedState,Et.updateQueue=Dt.updateQueue,Et.type=Dt.type,Pt=Dt.dependencies,Et.dependencies=Pt===null?null:{lanes:Pt.lanes,firstContext:Pt.firstContext}),bt=bt.sibling;return In(Ar,Ar.current&1|2),ft.child}ut=ut.sibling}Pt.tail!==null&&Or()>ju&&(ft.flags|=128,bt=!0,wo(Pt,!1),ft.lanes=4194304)}else{if(!bt)if(ut=Xo(Dt),ut!==null){if(ft.flags|=128,bt=!0,ut=ut.updateQueue,ut!==null&&(ft.updateQueue=ut,ft.flags|=4),wo(Pt,!0),Pt.tail===null&&Pt.tailMode==="hidden"&&!Dt.alternate&&!Tr)return Hr(ft),null}else 2*Or()-Pt.renderingStartTime>ju&&Et!==1073741824&&(ft.flags|=128,bt=!0,wo(Pt,!1),ft.lanes=4194304);Pt.isBackwards?(Dt.sibling=ft.child,ft.child=Dt):(ut=Pt.last,ut!==null?ut.sibling=Dt:ft.child=Dt,Pt.last=Dt)}return Pt.tail!==null?(ft=Pt.tail,Pt.rendering=ft,Pt.tail=ft.sibling,Pt.renderingStartTime=Or(),ft.sibling=null,ut=Ar.current,In(Ar,bt?ut&1|2:ut&1),ft):(Hr(ft),null);case 22:case 23:return Xu(),bt=ft.memoizedState!==null,ut!==null&&ut.memoizedState!==null!==bt&&(ft.flags|=8192),bt&&ft.mode&1?ns&1073741824&&(Hr(ft),Gn&&ft.subtreeFlags&6&&(ft.flags|=8192)):Hr(ft),null;case 24:return null;case 25:return null}throw Error(st(156,ft.tag))}var _g=at.ReactCurrentOwner,ts=!1;function Xr(ut,ft,Et,bt){ft.child=ut===null?gp(ft,null,Et,bt):to(ft,ut.child,Et,bt)}function $p(ut,ft,Et,bt,Pt){Et=Et.render;var Dt=ft.ref;return xa(ft,Pt),bt=xu(ut,ft,Et,bt,Dt,Pt),Et=_u(),ut!==null&&!ts?(ft.updateQueue=ut.updateQueue,ft.flags&=-2053,ut.lanes&=~Pt,Ps(ut,ft,Pt)):(Tr&&Et&&cu(ft),ft.flags|=1,Xr(ut,ft,bt,Pt),ft.child)}function Gp(ut,ft,Et,bt,Pt){if(ut===null){var Dt=Et.type;return typeof Dt=="function"&&!Yu(Dt)&&Dt.defaultProps===void 0&&Et.compare===null&&Et.defaultProps===void 0?(ft.tag=15,ft.type=Dt,Hp(ut,ft,Dt,bt,Pt)):(ut=Gl(Et.type,null,bt,ft,ft.mode,Pt),ut.ref=ft.ref,ut.return=ft,ft.child=ut)}if(Dt=ut.child,!(ut.lanes&Pt)){var Ht=Dt.memoizedProps;if(Et=Et.compare,Et=Et!==null?Et:Oo,Et(Ht,bt)&&ut.ref===ft.ref)return Ps(ut,ft,Pt)}return ft.flags|=1,ut=Os(Dt,bt),ut.ref=ft.ref,ut.return=ft,ft.child=ut}function Hp(ut,ft,Et,bt,Pt){if(ut!==null&&Oo(ut.memoizedProps,bt)&&ut.ref===ft.ref)if(ts=!1,(ut.lanes&Pt)!==0)ut.flags&131072&&(ts=!0);else return ft.lanes=ut.lanes,Ps(ut,ft,Pt);return Tu(ut,ft,Et,bt,Pt)}function Wp(ut,ft,Et){var bt=ft.pendingProps,Pt=bt.children,Dt=ut!==null?ut.memoizedState:null;if(bt.mode==="hidden")if(!(ft.mode&1))ft.memoizedState={baseLanes:0,cachePool:null},In(so,ns),ns|=Et;else if(Et&1073741824)ft.memoizedState={baseLanes:0,cachePool:null},bt=Dt!==null?Dt.baseLanes:Et,In(so,ns),ns|=bt;else return ut=Dt!==null?Dt.baseLanes|Et:Et,ft.lanes=ft.childLanes=1073741824,ft.memoizedState={baseLanes:ut,cachePool:null},ft.updateQueue=null,In(so,ns),ns|=ut,null;else Dt!==null?(bt=Dt.baseLanes|Et,ft.memoizedState=null):bt=Et,In(so,ns),ns|=bt;return Xr(ut,ft,Pt,Et),ft.child}function Xp(ut,ft){var Et=ft.ref;(ut===null&&Et!==null||ut!==null&&ut.ref!==Et)&&(ft.flags|=512,ft.flags|=2097152)}function Tu(ut,ft,Et,bt,Pt){var Dt=Br(Et)?Yr:sr.current;return Dt=Ir(ft,Dt),xa(ft,Pt),Et=xu(ut,ft,Et,bt,Dt,Pt),bt=_u(),ut!==null&&!ts?(ft.updateQueue=ut.updateQueue,ft.flags&=-2053,ut.lanes&=~Pt,Ps(ut,ft,Pt)):(Tr&&bt&&cu(ft),ft.flags|=1,Xr(ut,ft,Et,Pt),ft.child)}function qp(ut,ft,Et,bt,Pt){if(Br(Et)){var Dt=!0;zr(ft)}else Dt=!1;if(xa(ft,Pt),ft.stateNode===null)ut!==null&&(ut.alternate=null,ft.alternate=null,ft.flags|=2),lp(ft,Et,bt),lu(ft,Et,bt,Pt),bt=!0;else if(ut===null){var Ht=ft.stateNode,Jt=ft.memoizedProps;Ht.props=Jt;var pn=Ht.context,Cn=Et.contextType;typeof Cn=="object"&&Cn!==null?Cn=rs(Cn):(Cn=Br(Et)?Yr:sr.current,Cn=Ir(ft,Cn));var $n=Et.getDerivedStateFromProps,ar=typeof $n=="function"||typeof Ht.getSnapshotBeforeUpdate=="function";ar||typeof Ht.UNSAFE_componentWillReceiveProps!="function"&&typeof Ht.componentWillReceiveProps!="function"||(Jt!==bt||pn!==Cn)&&cp(ft,Ht,bt,Cn),Ls=!1;var Jn=ft.memoizedState;Ht.state=Jn,jo(ft,bt,Ht,Pt),pn=ft.memoizedState,Jt!==bt||Jn!==pn||wr.current||Ls?(typeof $n=="function"&&(ou(ft,Et,$n,bt),pn=ft.memoizedState),(Jt=Ls||ap(ft,Et,Jt,bt,Jn,pn,Cn))?(ar||typeof Ht.UNSAFE_componentWillMount!="function"&&typeof Ht.componentWillMount!="function"||(typeof Ht.componentWillMount=="function"&&Ht.componentWillMount(),typeof Ht.UNSAFE_componentWillMount=="function"&&Ht.UNSAFE_componentWillMount()),typeof Ht.componentDidMount=="function"&&(ft.flags|=4194308)):(typeof Ht.componentDidMount=="function"&&(ft.flags|=4194308),ft.memoizedProps=bt,ft.memoizedState=pn),Ht.props=bt,Ht.state=pn,Ht.context=Cn,bt=Jt):(typeof Ht.componentDidMount=="function"&&(ft.flags|=4194308),bt=!1)}else{Ht=ft.stateNode,tp(ut,ft),Jt=ft.memoizedProps,Cn=ft.type===ft.elementType?Jt:ds(ft.type,Jt),Ht.props=Cn,ar=ft.pendingProps,Jn=Ht.context,pn=Et.contextType,typeof pn=="object"&&pn!==null?pn=rs(pn):(pn=Br(Et)?Yr:sr.current,pn=Ir(ft,pn));var Sr=Et.getDerivedStateFromProps;($n=typeof Sr=="function"||typeof Ht.getSnapshotBeforeUpdate=="function")||typeof Ht.UNSAFE_componentWillReceiveProps!="function"&&typeof Ht.componentWillReceiveProps!="function"||(Jt!==ar||Jn!==pn)&&cp(ft,Ht,bt,pn),Ls=!1,Jn=ft.memoizedState,Ht.state=Jn,jo(ft,bt,Ht,Pt);var Yn=ft.memoizedState;Jt!==ar||Jn!==Yn||wr.current||Ls?(typeof Sr=="function"&&(ou(ft,Et,Sr,bt),Yn=ft.memoizedState),(Cn=Ls||ap(ft,Et,Cn,bt,Jn,Yn,pn)||!1)?($n||typeof Ht.UNSAFE_componentWillUpdate!="function"&&typeof Ht.componentWillUpdate!="function"||(typeof Ht.componentWillUpdate=="function"&&Ht.componentWillUpdate(bt,Yn,pn),typeof Ht.UNSAFE_componentWillUpdate=="function"&&Ht.UNSAFE_componentWillUpdate(bt,Yn,pn)),typeof Ht.componentDidUpdate=="function"&&(ft.flags|=4),typeof Ht.getSnapshotBeforeUpdate=="function"&&(ft.flags|=1024)):(typeof Ht.componentDidUpdate!="function"||Jt===ut.memoizedProps&&Jn===ut.memoizedState||(ft.flags|=4),typeof Ht.getSnapshotBeforeUpdate!="function"||Jt===ut.memoizedProps&&Jn===ut.memoizedState||(ft.flags|=1024),ft.memoizedProps=bt,ft.memoizedState=Yn),Ht.props=bt,Ht.state=Yn,Ht.context=pn,bt=Cn):(typeof Ht.componentDidUpdate!="function"||Jt===ut.memoizedProps&&Jn===ut.memoizedState||(ft.flags|=4),typeof Ht.getSnapshotBeforeUpdate!="function"||Jt===ut.memoizedProps&&Jn===ut.memoizedState||(ft.flags|=1024),bt=!1)}return Au(ut,ft,Et,bt,Dt,Pt)}function Au(ut,ft,Et,bt,Pt,Dt){Xp(ut,ft);var Ht=(ft.flags&128)!==0;if(!bt&&!Ht)return Pt&&na(ft,Et,!1),Ps(ut,ft,Dt);bt=ft.stateNode,_g.current=ft;var Jt=Ht&&typeof Et.getDerivedStateFromError!="function"?null:bt.render();return ft.flags|=1,ut!==null&&Ht?(ft.child=to(ft,ut.child,null,Dt),ft.child=to(ft,null,Jt,Dt)):Xr(ut,ft,Jt,Dt),ft.memoizedState=bt.state,Pt&&na(ft,Et,!0),ft.child}function Yp(ut){var ft=ut.stateNode;ft.pendingContext?fs(ut,ft.pendingContext,ft.pendingContext!==ft.context):ft.context&&fs(ut,ft.context,!1),pu(ut,ft.containerInfo)}function Kp(ut,ft,Et,bt,Pt){return eo(),du(Pt),ft.flags|=256,Xr(ut,ft,Et,bt),ft.child}var Sl={dehydrated:null,treeContext:null,retryLane:0};function El(ut){return{baseLanes:ut,cachePool:null}}function Zp(ut,ft,Et){var bt=ft.pendingProps,Pt=Ar.current,Dt=!1,Ht=(ft.flags&128)!==0,Jt;if((Jt=Ht)||(Jt=ut!==null&&ut.memoizedState===null?!1:(Pt&2)!==0),Jt?(Dt=!0,ft.flags&=-129):(ut===null||ut.memoizedState!==null)&&(Pt|=1),In(Ar,Pt&1),ut===null)return fu(ft),ut=ft.memoizedState,ut!==null&&(ut=ut.dehydrated,ut!==null)?(ft.mode&1?Ks(ut)?ft.lanes=8:ft.lanes=1073741824:ft.lanes=1,null):(Pt=bt.children,ut=bt.fallback,Dt?(bt=ft.mode,Dt=ft.child,Pt={mode:"hidden",children:Pt},!(bt&1)&&Dt!==null?(Dt.childLanes=0,Dt.pendingProps=Pt):Dt=Hl(Pt,bt,0,null),ut=qs(ut,bt,Et,null),Dt.return=ft,ut.return=ft,Dt.sibling=ut,ft.child=Dt,ft.child.memoizedState=El(Et),ft.memoizedState=Sl,ut):Cu(ft,Pt));if(Pt=ut.memoizedState,Pt!==null){if(Jt=Pt.dehydrated,Jt!==null){if(Ht)return ft.flags&256?(ft.flags&=-257,wl(ut,ft,Et,Error(st(422)))):ft.memoizedState!==null?(ft.child=ut.child,ft.flags|=128,null):(Dt=bt.fallback,Pt=ft.mode,bt=Hl({mode:"visible",children:bt.children},Pt,0,null),Dt=qs(Dt,Pt,Et,null),Dt.flags|=2,bt.return=ft,Dt.return=ft,bt.sibling=Dt,ft.child=bt,ft.mode&1&&to(ft,ut.child,null,Et),ft.child.memoizedState=El(Et),ft.memoizedState=Sl,Dt);if(!(ft.mode&1))ft=wl(ut,ft,Et,null);else if(Ks(Jt))ft=wl(ut,ft,Et,Error(st(419)));else if(bt=(Et&ut.childLanes)!==0,ts||bt){if(bt=Lr,bt!==null){switch(Et&-Et){case 4:Dt=2;break;case 16:Dt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Dt=32;break;case 536870912:Dt=268435456;break;default:Dt=0}bt=Dt&(bt.suspendedLanes|Et)?0:Dt,bt!==0&&bt!==Pt.retryLane&&(Pt.retryLane=bt,cs(ut,bt,-1))}qu(),ft=wl(ut,ft,Et,Error(st(421)))}else co(Jt)?(ft.flags|=128,ft.child=ut.child,ft=fv.bind(null,ut),Zs(Jt,ft),ft=null):(Et=Pt.treeContext,fn&&(es=Io(Jt),_i=ft,Tr=!0,ps=null,fo=!1,Et!==null&&(ss[as++]=Ts,ss[as++]=As,ss[as++]=Us,Ts=Et.id,As=Et.overflow,Us=ft)),ft=Cu(ft,ft.pendingProps.children),ft.flags|=4096);return ft}return Dt?(bt=Jp(ut,ft,bt.children,bt.fallback,Et),Dt=ft.child,Pt=ut.child.memoizedState,Dt.memoizedState=Pt===null?El(Et):{baseLanes:Pt.baseLanes|Et,cachePool:null},Dt.childLanes=ut.childLanes&~Et,ft.memoizedState=Sl,bt):(Et=Qp(ut,ft,bt.children,Et),ft.memoizedState=null,Et)}return Dt?(bt=Jp(ut,ft,bt.children,bt.fallback,Et),Dt=ft.child,Pt=ut.child.memoizedState,Dt.memoizedState=Pt===null?El(Et):{baseLanes:Pt.baseLanes|Et,cachePool:null},Dt.childLanes=ut.childLanes&~Et,ft.memoizedState=Sl,bt):(Et=Qp(ut,ft,bt.children,Et),ft.memoizedState=null,Et)}function Cu(ut,ft){return ft=Hl({mode:"visible",children:ft},ut.mode,0,null),ft.return=ut,ut.child=ft}function Qp(ut,ft,Et,bt){var Pt=ut.child;return ut=Pt.sibling,Et=Os(Pt,{mode:"visible",children:Et}),!(ft.mode&1)&&(Et.lanes=bt),Et.return=ft,Et.sibling=null,ut!==null&&(bt=ft.deletions,bt===null?(ft.deletions=[ut],ft.flags|=16):bt.push(ut)),ft.child=Et}function Jp(ut,ft,Et,bt,Pt){var Dt=ft.mode;ut=ut.child;var Ht=ut.sibling,Jt={mode:"hidden",children:Et};return!(Dt&1)&&ft.child!==ut?(Et=ft.child,Et.childLanes=0,Et.pendingProps=Jt,ft.deletions=null):(Et=Os(ut,Jt),Et.subtreeFlags=ut.subtreeFlags&14680064),Ht!==null?bt=Os(Ht,bt):(bt=qs(bt,Dt,Pt,null),bt.flags|=2),bt.return=ft,Et.return=ft,Et.sibling=bt,ft.child=Et,bt}function wl(ut,ft,Et,bt){return bt!==null&&du(bt),to(ft,ut.child,null,Et),ut=Cu(ft,ft.pendingProps.children),ut.flags|=2,ft.memoizedState=null,ut}function em(ut,ft,Et){ut.lanes|=ft;var bt=ut.alternate;bt!==null&&(bt.lanes|=ft),su(ut.return,ft,Et)}function Pu(ut,ft,Et,bt,Pt){var Dt=ut.memoizedState;Dt===null?ut.memoizedState={isBackwards:ft,rendering:null,renderingStartTime:0,last:bt,tail:Et,tailMode:Pt}:(Dt.isBackwards=ft,Dt.rendering=null,Dt.renderingStartTime=0,Dt.last=bt,Dt.tail=Et,Dt.tailMode=Pt)}function tm(ut,ft,Et){var bt=ft.pendingProps,Pt=bt.revealOrder,Dt=bt.tail;if(Xr(ut,ft,bt.children,Et),bt=Ar.current,bt&2)bt=bt&1|2,ft.flags|=128;else{if(ut!==null&&ut.flags&128)e:for(ut=ft.child;ut!==null;){if(ut.tag===13)ut.memoizedState!==null&&em(ut,Et,ft);else if(ut.tag===19)em(ut,Et,ft);else if(ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===ft)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===ft)break e;ut=ut.return}ut.sibling.return=ut.return,ut=ut.sibling}bt&=1}if(In(Ar,bt),!(ft.mode&1))ft.memoizedState=null;else switch(Pt){case"forwards":for(Et=ft.child,Pt=null;Et!==null;)ut=Et.alternate,ut!==null&&Xo(ut)===null&&(Pt=Et),Et=Et.sibling;Et=Pt,Et===null?(Pt=ft.child,ft.child=null):(Pt=Et.sibling,Et.sibling=null),Pu(ft,!1,Pt,Et,Dt);break;case"backwards":for(Et=null,Pt=ft.child,ft.child=null;Pt!==null;){if(ut=Pt.alternate,ut!==null&&Xo(ut)===null){ft.child=Pt;break}ut=Pt.sibling,Pt.sibling=Et,Et=Pt,Pt=ut}Pu(ft,!0,Et,null,Dt);break;case"together":Pu(ft,!1,null,null,void 0);break;default:ft.memoizedState=null}return ft.child}function Ps(ut,ft,Et){if(ut!==null&&(ft.dependencies=ut.dependencies),ao|=ft.lanes,!(Et&ft.childLanes))return null;if(ut!==null&&ft.child!==ut.child)throw Error(st(153));if(ft.child!==null){for(ut=ft.child,Et=Os(ut,ut.pendingProps),ft.child=Et,Et.return=ft;ut.sibling!==null;)ut=ut.sibling,Et=Et.sibling=Os(ut,ut.pendingProps),Et.return=ft;Et.sibling=null}return ft.child}function ev(ut,ft,Et){switch(ft.tag){case 3:Yp(ft),eo();break;case 5:vp(ft);break;case 1:Br(ft.type)&&zr(ft);break;case 4:pu(ft,ft.stateNode.containerInfo);break;case 10:ep(ft,ft.type._context,ft.memoizedProps.value);break;case 13:var bt=ft.memoizedState;if(bt!==null)return bt.dehydrated!==null?(In(Ar,Ar.current&1),ft.flags|=128,null):Et&ft.child.childLanes?Zp(ut,ft,Et):(In(Ar,Ar.current&1),ut=Ps(ut,ft,Et),ut!==null?ut.sibling:null);In(Ar,Ar.current&1);break;case 19:if(bt=(Et&ft.childLanes)!==0,ut.flags&128){if(bt)return tm(ut,ft,Et);ft.flags|=128}var Pt=ft.memoizedState;if(Pt!==null&&(Pt.rendering=null,Pt.tail=null,Pt.lastEffect=null),In(Ar,Ar.current),bt)break;return null;case 22:case 23:return ft.lanes=0,Wp(ut,ft,Et)}return Ps(ut,ft,Et)}function tv(ut,ft){switch(uu(ft),ft.tag){case 1:return Br(ft.type)&&Mr(),ut=ft.flags,ut&65536?(ft.flags=ut&-65537|128,ft):null;case 3:return ro(),Kn(wr),Kn(sr),vu(),ut=ft.flags,ut&65536&&!(ut&128)?(ft.flags=ut&-65537|128,ft):null;case 5:return mu(ft),null;case 13:if(Kn(Ar),ut=ft.memoizedState,ut!==null&&ut.dehydrated!==null){if(ft.alternate===null)throw Error(st(340));eo()}return ut=ft.flags,ut&65536?(ft.flags=ut&-65537|128,ft):null;case 19:return Kn(Ar),null;case 4:return ro(),null;case 10:return iu(ft.type._context),null;case 22:case 23:return Xu(),null;case 24:return null;default:return null}}var Ml=!1,$s=!1,nv=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function Tl(ut,ft){var Et=ut.ref;if(Et!==null)if(typeof Et=="function")try{Et(null)}catch(bt){Qr(ut,ft,bt)}else Et.current=null}function Ru(ut,ft,Et){try{Et()}catch(bt){Qr(ut,ft,bt)}}var rm=!1;function rv(ut,ft){for(kt(ut.containerInfo),Dn=ft;Dn!==null;)if(ut=Dn,ft=ut.child,(ut.subtreeFlags&1028)!==0&&ft!==null)ft.return=ut,Dn=ft;else for(;Dn!==null;){ut=Dn;try{var Et=ut.alternate;if(ut.flags&1024)switch(ut.tag){case 0:case 11:case 15:break;case 1:if(Et!==null){var bt=Et.memoizedProps,Pt=Et.memoizedState,Dt=ut.stateNode,Ht=Dt.getSnapshotBeforeUpdate(ut.elementType===ut.type?bt:ds(ut.type,bt),Pt);Dt.__reactInternalSnapshotBeforeUpdate=Ht}break;case 3:Gn&&Mn(ut.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(st(163))}}catch(Jt){Qr(ut,ut.return,Jt)}if(ft=ut.sibling,ft!==null){ft.return=ut.return,Dn=ft;break}Dn=ut.return}return Et=rm,rm=!1,Et}function Gs(ut,ft,Et){var bt=ft.updateQueue;if(bt=bt!==null?bt.lastEffect:null,bt!==null){var Pt=bt=bt.next;do{if((Pt.tag&ut)===ut){var Dt=Pt.destroy;Pt.destroy=void 0,Dt!==void 0&&Ru(ft,Et,Dt)}Pt=Pt.next}while(Pt!==bt)}}function Mo(ut,ft){if(ft=ft.updateQueue,ft=ft!==null?ft.lastEffect:null,ft!==null){var Et=ft=ft.next;do{if((Et.tag&ut)===ut){var bt=Et.create;Et.destroy=bt()}Et=Et.next}while(Et!==ft)}}function Iu(ut){var ft=ut.ref;if(ft!==null){var Et=ut.stateNode;switch(ut.tag){case 5:ut=Ft(Et);break;default:ut=Et}typeof ft=="function"?ft(ut):ft.current=ut}}function im(ut,ft,Et){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(No,ft)}catch{}switch(ft.tag){case 0:case 11:case 14:case 15:if(ut=ft.updateQueue,ut!==null&&(ut=ut.lastEffect,ut!==null)){var bt=ut=ut.next;do{var Pt=bt,Dt=Pt.destroy;Pt=Pt.tag,Dt!==void 0&&(Pt&2||Pt&4)&&Ru(ft,Et,Dt),bt=bt.next}while(bt!==ut)}break;case 1:if(Tl(ft,Et),ut=ft.stateNode,typeof ut.componentWillUnmount=="function")try{ut.props=ft.memoizedProps,ut.state=ft.memoizedState,ut.componentWillUnmount()}catch(Ht){Qr(ft,Et,Ht)}break;case 5:Tl(ft,Et);break;case 4:Gn?um(ut,ft,Et):$t&&$t&&(ft=ft.stateNode.containerInfo,Et=cr(ft),ur(ft,Et))}}function sm(ut,ft,Et){for(var bt=ft;;)if(im(ut,bt,Et),bt.child===null||Gn&&bt.tag===4){if(bt===ft)break;for(;bt.sibling===null;){if(bt.return===null||bt.return===ft)return;bt=bt.return}bt.sibling.return=bt.return,bt=bt.sibling}else bt.child.return=bt,bt=bt.child}function am(ut){var ft=ut.alternate;ft!==null&&(ut.alternate=null,am(ft)),ut.child=null,ut.deletions=null,ut.sibling=null,ut.tag===5&&(ft=ut.stateNode,ft!==null&&zn(ft)),ut.stateNode=null,ut.return=null,ut.dependencies=null,ut.memoizedProps=null,ut.memoizedState=null,ut.pendingProps=null,ut.stateNode=null,ut.updateQueue=null}function om(ut){return ut.tag===5||ut.tag===3||ut.tag===4}function lm(ut){e:for(;;){for(;ut.sibling===null;){if(ut.return===null||om(ut.return))return null;ut=ut.return}for(ut.sibling.return=ut.return,ut=ut.sibling;ut.tag!==5&&ut.tag!==6&&ut.tag!==18;){if(ut.flags&2||ut.child===null||ut.tag===4)continue e;ut.child.return=ut,ut=ut.child}if(!(ut.flags&2))return ut.stateNode}}function cm(ut){if(Gn){e:{for(var ft=ut.return;ft!==null;){if(om(ft))break e;ft=ft.return}throw Error(st(160))}var Et=ft;switch(Et.tag){case 5:ft=Et.stateNode,Et.flags&32&&(bn(ft),Et.flags&=-33),Et=lm(ut),ku(ut,Et,ft);break;case 3:case 4:ft=Et.stateNode.containerInfo,Et=lm(ut),Lu(ut,Et,ft);break;default:throw Error(st(161))}}}function Lu(ut,ft,Et){var bt=ut.tag;if(bt===5||bt===6)ut=ut.stateNode,ft?Un(Et,ut,ft):er(Et,ut);else if(bt!==4&&(ut=ut.child,ut!==null))for(Lu(ut,ft,Et),ut=ut.sibling;ut!==null;)Lu(ut,ft,Et),ut=ut.sibling}function ku(ut,ft,Et){var bt=ut.tag;if(bt===5||bt===6)ut=ut.stateNode,ft?rr(Et,ut,ft):kn(Et,ut);else if(bt!==4&&(ut=ut.child,ut!==null))for(ku(ut,ft,Et),ut=ut.sibling;ut!==null;)ku(ut,ft,Et),ut=ut.sibling}function um(ut,ft,Et){for(var bt=ft,Pt=!1,Dt,Ht;;){if(!Pt){Pt=bt.return;e:for(;;){if(Pt===null)throw Error(st(160));switch(Dt=Pt.stateNode,Pt.tag){case 5:Ht=!1;break e;case 3:Dt=Dt.containerInfo,Ht=!0;break e;case 4:Dt=Dt.containerInfo,Ht=!0;break e}Pt=Pt.return}Pt=!0}if(bt.tag===5||bt.tag===6)sm(ut,bt,Et),Ht?Zt(Dt,bt.stateNode):ir(Dt,bt.stateNode);else if(bt.tag===18)Ht?nn(Dt,bt.stateNode):un(Dt,bt.stateNode);else if(bt.tag===4){if(bt.child!==null){Dt=bt.stateNode.containerInfo,Ht=!0,bt.child.return=bt,bt=bt.child;continue}}else if(im(ut,bt,Et),bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===ft)break;for(;bt.sibling===null;){if(bt.return===null||bt.return===ft)return;bt=bt.return,bt.tag===4&&(Pt=!1)}bt.sibling.return=bt.return,bt=bt.sibling}}function Du(ut,ft){if(Gn){switch(ft.tag){case 0:case 11:case 14:case 15:Gs(3,ft,ft.return),Mo(3,ft),Gs(5,ft,ft.return);return;case 1:return;case 5:var Et=ft.stateNode;if(Et!=null){var bt=ft.memoizedProps;ut=ut!==null?ut.memoizedProps:bt;var Pt=ft.type,Dt=ft.updateQueue;ft.updateQueue=null,Dt!==null&&dr(Et,Dt,Pt,ut,bt,ft)}return;case 6:if(ft.stateNode===null)throw Error(st(162));Et=ft.memoizedProps,wn(ft.stateNode,ut!==null?ut.memoizedProps:Et,Et);return;case 3:fn&&ut!==null&&ut.memoizedState.isDehydrated&&en(ft.stateNode.containerInfo);return;case 12:return;case 13:Al(ft);return;case 19:Al(ft);return;case 17:return}throw Error(st(163))}switch(ft.tag){case 0:case 11:case 14:case 15:Gs(3,ft,ft.return),Mo(3,ft),Gs(5,ft,ft.return);return;case 12:return;case 13:Al(ft);return;case 19:Al(ft);return;case 3:fn&&ut!==null&&ut.memoizedState.isDehydrated&&en(ft.stateNode.containerInfo);break;case 22:case 23:return}e:if($t){switch(ft.tag){case 1:case 5:case 6:break e;case 3:case 4:ft=ft.stateNode,ur(ft.containerInfo,ft.pendingChildren);break e}throw Error(st(163))}}function Al(ut){var ft=ut.updateQueue;if(ft!==null){ut.updateQueue=null;var Et=ut.stateNode;Et===null&&(Et=ut.stateNode=new nv),ft.forEach(function(bt){var Pt=dv.bind(null,ut,bt);Et.has(bt)||(Et.add(bt),bt.then(Pt,Pt))})}}function iv(ut,ft){for(Dn=ft;Dn!==null;){ft=Dn;var Et=ft.deletions;if(Et!==null)for(var bt=0;bt<Et.length;bt++){var Pt=Et[bt];try{var Dt=ut;Gn?um(Dt,Pt,ft):sm(Dt,Pt,ft);var Ht=Pt.alternate;Ht!==null&&(Ht.return=null),Pt.return=null}catch(Xn){Qr(Pt,ft,Xn)}}if(Et=ft.child,ft.subtreeFlags&12854&&Et!==null)Et.return=ft,Dn=Et;else for(;Dn!==null;){ft=Dn;try{var Jt=ft.flags;if(Jt&32&&Gn&&bn(ft.stateNode),Jt&512){var pn=ft.alternate;if(pn!==null){var Cn=pn.ref;Cn!==null&&(typeof Cn=="function"?Cn(null):Cn.current=null)}}if(Jt&8192)switch(ft.tag){case 13:if(ft.memoizedState!==null){var $n=ft.alternate;($n===null||$n.memoizedState===null)&&(zu=Or())}break;case 22:var ar=ft.memoizedState!==null,Jn=ft.alternate,Sr=Jn!==null&&Jn.memoizedState!==null;if(Et=ft,Gn){e:if(bt=Et,Pt=ar,Dt=null,Gn)for(var Yn=bt;;){if(Yn.tag===5){if(Dt===null){Dt=Yn;var Wr=Yn.stateNode;Pt?qt(Wr):dn(Yn.stateNode,Yn.memoizedProps)}}else if(Yn.tag===6){if(Dt===null){var hs=Yn.stateNode;Pt?yn(hs):xn(hs,Yn.memoizedProps)}}else if((Yn.tag!==22&&Yn.tag!==23||Yn.memoizedState===null||Yn===bt)&&Yn.child!==null){Yn.child.return=Yn,Yn=Yn.child;continue}if(Yn===bt)break;for(;Yn.sibling===null;){if(Yn.return===null||Yn.return===bt)break e;Dt===Yn&&(Dt=null),Yn=Yn.return}Dt===Yn&&(Dt=null),Yn.sibling.return=Yn.return,Yn=Yn.sibling}}if(ar&&!Sr&&Et.mode&1){Dn=Et;for(var on=Et.child;on!==null;){for(Et=Dn=on;Dn!==null;){bt=Dn;var tn=bt.child;switch(bt.tag){case 0:case 11:case 14:case 15:Gs(4,bt,bt.return);break;case 1:Tl(bt,bt.return);var hn=bt.stateNode;if(typeof hn.componentWillUnmount=="function"){var Nn=bt.return;try{hn.props=bt.memoizedProps,hn.state=bt.memoizedState,hn.componentWillUnmount()}catch(Xn){Qr(bt,Nn,Xn)}}break;case 5:Tl(bt,bt.return);break;case 22:if(bt.memoizedState!==null){dm(Et);continue}}tn!==null?(tn.return=bt,Dn=tn):dm(Et)}on=on.sibling}}}switch(Jt&4102){case 2:cm(ft),ft.flags&=-3;break;case 6:cm(ft),ft.flags&=-3,Du(ft.alternate,ft);break;case 4096:ft.flags&=-4097;break;case 4100:ft.flags&=-4097,Du(ft.alternate,ft);break;case 4:Du(ft.alternate,ft)}}catch(Xn){Qr(ft,ft.return,Xn)}if(Et=ft.sibling,Et!==null){Et.return=ft.return,Dn=Et;break}Dn=ft.return}}}function sv(ut,ft,Et){Dn=ut,hm(ut)}function hm(ut,ft,Et){for(var bt=(ut.mode&1)!==0;Dn!==null;){var Pt=Dn,Dt=Pt.child;if(Pt.tag===22&&bt){var Ht=Pt.memoizedState!==null||Ml;if(!Ht){var Jt=Pt.alternate,pn=Jt!==null&&Jt.memoizedState!==null||$s;Jt=Ml;var Cn=$s;if(Ml=Ht,($s=pn)&&!Cn)for(Dn=Pt;Dn!==null;)Ht=Dn,pn=Ht.child,Ht.tag===22&&Ht.memoizedState!==null?pm(Pt):pn!==null?(pn.return=Ht,Dn=pn):pm(Pt);for(;Dt!==null;)Dn=Dt,hm(Dt),Dt=Dt.sibling;Dn=Pt,Ml=Jt,$s=Cn}fm(ut)}else Pt.subtreeFlags&8772&&Dt!==null?(Dt.return=Pt,Dn=Dt):fm(ut)}}function fm(ut){for(;Dn!==null;){var ft=Dn;if(ft.flags&8772){var Et=ft.alternate;try{if(ft.flags&8772)switch(ft.tag){case 0:case 11:case 15:$s||Mo(5,ft);break;case 1:var bt=ft.stateNode;if(ft.flags&4&&!$s)if(Et===null)bt.componentDidMount();else{var Pt=ft.elementType===ft.type?Et.memoizedProps:ds(ft.type,Et.memoizedProps);bt.componentDidUpdate(Pt,Et.memoizedState,bt.__reactInternalSnapshotBeforeUpdate)}var Dt=ft.updateQueue;Dt!==null&&rp(ft,Dt,bt);break;case 3:var Ht=ft.updateQueue;if(Ht!==null){if(Et=null,ft.child!==null)switch(ft.child.tag){case 5:Et=Ft(ft.child.stateNode);break;case 1:Et=ft.child.stateNode}rp(ft,Ht,Et)}break;case 5:var Jt=ft.stateNode;Et===null&&ft.flags&4&&Fn(Jt,ft.type,ft.memoizedProps,ft);break;case 6:break;case 4:break;case 12:break;case 13:if(fn&&ft.memoizedState===null){var pn=ft.alternate;if(pn!==null){var Cn=pn.memoizedState;if(Cn!==null){var $n=Cn.dehydrated;$n!==null&&cn($n)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(st(163))}$s||ft.flags&512&&Iu(ft)}catch(ar){Qr(ft,ft.return,ar)}}if(ft===ut){Dn=null;break}if(Et=ft.sibling,Et!==null){Et.return=ft.return,Dn=Et;break}Dn=ft.return}}function dm(ut){for(;Dn!==null;){var ft=Dn;if(ft===ut){Dn=null;break}var Et=ft.sibling;if(Et!==null){Et.return=ft.return,Dn=Et;break}Dn=ft.return}}function pm(ut){for(;Dn!==null;){var ft=Dn;try{switch(ft.tag){case 0:case 11:case 15:var Et=ft.return;try{Mo(4,ft)}catch(pn){Qr(ft,Et,pn)}break;case 1:var bt=ft.stateNode;if(typeof bt.componentDidMount=="function"){var Pt=ft.return;try{bt.componentDidMount()}catch(pn){Qr(ft,Pt,pn)}}var Dt=ft.return;try{Iu(ft)}catch(pn){Qr(ft,Dt,pn)}break;case 5:var Ht=ft.return;try{Iu(ft)}catch(pn){Qr(ft,Ht,pn)}}}catch(pn){Qr(ft,ft.return,pn)}if(ft===ut){Dn=null;break}var Jt=ft.sibling;if(Jt!==null){Jt.return=ft.return,Dn=Jt;break}Dn=ft.return}}var Cl=0,Pl=1,Rl=2,Il=3,Ll=4;if(typeof Symbol=="function"&&Symbol.for){var To=Symbol.for;Cl=To("selector.component"),Pl=To("selector.has_pseudo_class"),Rl=To("selector.role"),Il=To("selector.test_id"),Ll=To("selector.text")}function Fu(ut){var ft=rn(ut);if(ft!=null){if(typeof ft.memoizedProps["data-testname"]!="string")throw Error(st(364));return ft}if(ut=Vt(ut),ut===null)throw Error(st(362));return ut.stateNode.current}function Nu(ut,ft){switch(ft.$$typeof){case Cl:if(ut.type===ft.value)return!0;break;case Pl:e:{ft=ft.value,ut=[ut,0];for(var Et=0;Et<ut.length;){var bt=ut[Et++],Pt=ut[Et++],Dt=ft[Pt];if(bt.tag!==5||!gn(bt)){for(;Dt!=null&&Nu(bt,Dt);)Pt++,Dt=ft[Pt];if(Pt===ft.length){ft=!0;break e}else for(bt=bt.child;bt!==null;)ut.push(bt,Pt),bt=bt.sibling}}ft=!1}return ft;case Rl:if(ut.tag===5&&_n(ut.stateNode,ft.value))return!0;break;case Ll:if((ut.tag===5||ut.tag===6)&&(ut=Sn(ut),ut!==null&&0<=ut.indexOf(ft.value)))return!0;break;case Il:if(ut.tag===5&&(ut=ut.memoizedProps["data-testname"],typeof ut=="string"&&ut.toLowerCase()===ft.value.toLowerCase()))return!0;break;default:throw Error(st(365))}return!1}function Bu(ut){switch(ut.$$typeof){case Cl:return"<"+(Ct(ut.value)||"Unknown")+">";case Pl:return":has("+(Bu(ut)||"")+")";case Rl:return'[role="'+ut.value+'"]';case Ll:return'"'+ut.value+'"';case Il:return'[data-testname="'+ut.value+'"]';default:throw Error(st(365))}}function mm(ut,ft){var Et=[];ut=[ut,0];for(var bt=0;bt<ut.length;){var Pt=ut[bt++],Dt=ut[bt++],Ht=ft[Dt];if(Pt.tag!==5||!gn(Pt)){for(;Ht!=null&&Nu(Pt,Ht);)Dt++,Ht=ft[Dt];if(Dt===ft.length)Et.push(Pt);else for(Pt=Pt.child;Pt!==null;)ut.push(Pt,Dt),Pt=Pt.sibling}}return Et}function Ou(ut,ft){if(!Gt)throw Error(st(363));ut=Fu(ut),ut=mm(ut,ft),ft=[],ut=Array.from(ut);for(var Et=0;Et<ut.length;){var bt=ut[Et++];if(bt.tag===5)gn(bt)||ft.push(bt.stateNode);else for(bt=bt.child;bt!==null;)ut.push(bt),bt=bt.sibling}return ft}var av=Math.ceil,Dl=at.ReactCurrentDispatcher,Vu=at.ReactCurrentOwner,Rr=at.ReactCurrentBatchConfig,hr=0,Lr=null,kr=null,jr=0,ns=0,so=Cr(0),Fr=0,Ao=null,ao=0,Fl=0,Uu=0,Co=null,Kr=null,zu=0,ju=1/0;function oo(){ju=Or()+500}var Nl=!1,$u=null,Ds=null,Bl=!1,Fs=null,Ol=0,Po=0,Gu=null,Vl=-1,Ul=0;function qr(){return hr&6?Or():Vl!==-1?Vl:Vl=Or()}function Ns(ut){return ut.mode&1?hr&2&&jr!==0?jr&-jr:$m.transition!==null?(Ul===0&&(ut=ko,ko<<=1,!(ko&4194240)&&(ko=64),Ul=ut),Ul):(ut=gr,ut!==0?ut:mn()):1}function cs(ut,ft,Et){if(50<Po)throw Po=0,Gu=null,Error(st(185));var bt=zl(ut,ft);return bt===null?null:(ho(bt,ft,Et),(!(hr&2)||bt!==Lr)&&(bt===Lr&&(!(hr&2)&&(Fl|=ft),Fr===4&&Bs(bt,jr)),Zr(bt,Et),ft===1&&hr===0&&!(ut.mode&1)&&(oo(),Bo&&vs())),bt)}function zl(ut,ft){ut.lanes|=ft;var Et=ut.alternate;for(Et!==null&&(Et.lanes|=ft),Et=ut,ut=ut.return;ut!==null;)ut.childLanes|=ft,Et=ut.alternate,Et!==null&&(Et.childLanes|=ft),Et=ut,ut=ut.return;return Et.tag===3?Et.stateNode:null}function Zr(ut,ft){var Et=ut.callbackNode;Dm(ut,ft);var bt=Fo(ut,ut===Lr?jr:0);if(bt===0)Et!==null&&_f(Et),ut.callbackNode=null,ut.callbackPriority=0;else if(ft=bt&-bt,ut.callbackPriority!==ft){if(Et!=null&&_f(Et),ft===1)ut.tag===0?jm(vm.bind(null,ut)):_d(vm.bind(null,ut)),Tn?Ln(function(){hr===0&&vs()}):Jl(_c,vs),Et=null;else{switch(_h(bt)){case 1:Et=_c;break;case 4:Et=Om;break;case 16:Et=eu;break;case 536870912:Et=Vm;break;default:Et=eu}Et=Tm(Et,gm.bind(null,ut))}ut.callbackPriority=ft,ut.callbackNode=Et}}function gm(ut,ft){if(Vl=-1,Ul=0,hr&6)throw Error(st(327));var Et=ut.callbackNode;if(Xs()&&ut.callbackNode!==Et)return null;var bt=Fo(ut,ut===Lr?jr:0);if(bt===0)return null;if(bt&30||bt&ut.expiredLanes||ft)ft=$l(ut,bt);else{ft=bt;var Pt=hr;hr|=2;var Dt=_m();(Lr!==ut||jr!==ft)&&(oo(),Hs(ut,ft));do try{cv();break}catch(Jt){xm(ut,Jt)}while(!0);ru(),Dl.current=Dt,hr=Pt,kr!==null?ft=0:(Lr=null,jr=0,ft=Fr)}if(ft!==0){if(ft===2&&(Pt=Kl(ut),Pt!==0&&(bt=Pt,ft=Hu(ut,Pt))),ft===1)throw Et=Ao,Hs(ut,0),Bs(ut,bt),Zr(ut,Or()),Et;if(ft===6)Bs(ut,bt);else{if(Pt=ut.current.alternate,!(bt&30)&&!ov(Pt)&&(ft=$l(ut,bt),ft===2&&(Dt=Kl(ut),Dt!==0&&(bt=Dt,ft=Hu(ut,Dt))),ft===1))throw Et=Ao,Hs(ut,0),Bs(ut,bt),Zr(ut,Or()),Et;switch(ut.finishedWork=Pt,ut.finishedLanes=bt,ft){case 0:case 1:throw Error(st(345));case 2:Ws(ut,Kr);break;case 3:if(Bs(ut,bt),(bt&130023424)===bt&&(ft=zu+500-Or(),10<ft)){if(Fo(ut,0)!==0)break;if(Pt=ut.suspendedLanes,(Pt&bt)!==bt){qr(),ut.pingedLanes|=ut.suspendedLanes&Pt;break}ut.timeoutHandle=En(Ws.bind(null,ut,Kr),ft);break}Ws(ut,Kr);break;case 4:if(Bs(ut,bt),(bt&4194240)===bt)break;for(ft=ut.eventTimes,Pt=-1;0<bt;){var Ht=31-Jr(bt);Dt=1<<Ht,Ht=ft[Ht],Ht>Pt&&(Pt=Ht),bt&=~Dt}if(bt=Pt,bt=Or()-bt,bt=(120>bt?120:480>bt?480:1080>bt?1080:1920>bt?1920:3e3>bt?3e3:4320>bt?4320:1960*av(bt/1960))-bt,10<bt){ut.timeoutHandle=En(Ws.bind(null,ut,Kr),bt);break}Ws(ut,Kr);break;case 5:Ws(ut,Kr);break;default:throw Error(st(329))}}}return Zr(ut,Or()),ut.callbackNode===Et?gm.bind(null,ut):null}function Hu(ut,ft){var Et=Co;return ut.current.memoizedState.isDehydrated&&(Hs(ut,ft).flags|=256),ut=$l(ut,ft),ut!==2&&(ft=Kr,Kr=Et,ft!==null&&Wu(ft)),ut}function Wu(ut){Kr===null?Kr=ut:Kr.push.apply(Kr,ut)}function ov(ut){for(var ft=ut;;){if(ft.flags&16384){var Et=ft.updateQueue;if(Et!==null&&(Et=Et.stores,Et!==null))for(var bt=0;bt<Et.length;bt++){var Pt=Et[bt],Dt=Pt.getSnapshot;Pt=Pt.value;try{if(!gs(Dt(),Pt))return!1}catch{return!1}}}if(Et=ft.child,ft.subtreeFlags&16384&&Et!==null)Et.return=ft,ft=Et;else{if(ft===ut)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===ut)return!0;ft=ft.return}ft.sibling.return=ft.return,ft=ft.sibling}}return!0}function Bs(ut,ft){for(ft&=~Uu,ft&=~Fl,ut.suspendedLanes|=ft,ut.pingedLanes&=~ft,ut=ut.expirationTimes;0<ft;){var Et=31-Jr(ft),bt=1<<Et;ut[Et]=-1,ft&=~bt}}function vm(ut){if(hr&6)throw Error(st(327));Xs();var ft=Fo(ut,0);if(!(ft&1))return Zr(ut,Or()),null;var Et=$l(ut,ft);if(ut.tag!==0&&Et===2){var bt=Kl(ut);bt!==0&&(ft=bt,Et=Hu(ut,bt))}if(Et===1)throw Et=Ao,Hs(ut,0),Bs(ut,ft),Zr(ut,Or()),Et;if(Et===6)throw Error(st(345));return ut.finishedWork=ut.current.alternate,ut.finishedLanes=ft,Ws(ut,Kr),Zr(ut,Or()),null}function ym(ut){Fs!==null&&Fs.tag===0&&!(hr&6)&&Xs();var ft=hr;hr|=1;var Et=Rr.transition,bt=gr;try{if(Rr.transition=null,gr=1,ut)return ut()}finally{gr=bt,Rr.transition=Et,hr=ft,!(hr&6)&&vs()}}function Xu(){ns=so.current,Kn(so)}function Hs(ut,ft){ut.finishedWork=null,ut.finishedLanes=0;var Et=ut.timeoutHandle;if(Et!==qn&&(ut.timeoutHandle=qn,jn(Et)),kr!==null)for(Et=kr.return;Et!==null;){var bt=Et;switch(uu(bt),bt.tag){case 1:bt=bt.type.childContextTypes,bt!=null&&Mr();break;case 3:ro(),Kn(wr),Kn(sr),vu();break;case 5:mu(bt);break;case 4:ro();break;case 13:Kn(Ar);break;case 19:Kn(Ar);break;case 10:iu(bt.type._context);break;case 22:case 23:Xu()}Et=Et.return}if(Lr=ut,kr=ut=Os(ut.current,null),jr=ns=ft,Fr=0,Ao=null,Uu=Fl=ao=0,Kr=Co=null,ys!==null){for(ft=0;ft<ys.length;ft++)if(Et=ys[ft],bt=Et.interleaved,bt!==null){Et.interleaved=null;var Pt=bt.next,Dt=Et.pending;if(Dt!==null){var Ht=Dt.next;Dt.next=Pt,bt.next=Ht}Et.pending=bt}ys=null}return ut}function xm(ut,ft){do{var Et=kr;try{if(ru(),qo.current=yl,Yo){for(var bt=Pr.memoizedState;bt!==null;){var Pt=bt.queue;Pt!==null&&(Pt.pending=null),bt=bt.next}Yo=!1}if(io=0,Vr=$r=Pr=null,yo=!1,xo=0,Vu.current=null,Et===null||Et.return===null){Fr=1,Ao=ft,kr=null;break}e:{var Dt=ut,Ht=Et.return,Jt=Et,pn=ft;if(ft=jr,Jt.flags|=32768,pn!==null&&typeof pn=="object"&&typeof pn.then=="function"){var Cn=pn,$n=Jt,ar=$n.tag;if(!($n.mode&1)&&(ar===0||ar===11||ar===15)){var Jn=$n.alternate;Jn?($n.updateQueue=Jn.updateQueue,$n.memoizedState=Jn.memoizedState,$n.lanes=Jn.lanes):($n.updateQueue=null,$n.memoizedState=null)}var Sr=Vp(Ht);if(Sr!==null){Sr.flags&=-257,Up(Sr,Ht,Jt,Dt,ft),Sr.mode&1&&Op(Dt,Cn,ft),ft=Sr,pn=Cn;var Yn=ft.updateQueue;if(Yn===null){var Wr=new Set;Wr.add(pn),ft.updateQueue=Wr}else Yn.add(pn);break e}else{if(!(ft&1)){Op(Dt,Cn,ft),qu();break e}pn=Error(st(426))}}else if(Tr&&Jt.mode&1){var hs=Vp(Ht);if(hs!==null){!(hs.flags&65536)&&(hs.flags|=256),Up(hs,Ht,Jt,Dt,ft),du(pn);break e}}Dt=pn,Fr!==4&&(Fr=2),Co===null?Co=[Dt]:Co.push(Dt),pn=wu(pn,Jt),Jt=Ht;do{switch(Jt.tag){case 3:Jt.flags|=65536,ft&=-ft,Jt.lanes|=ft;var on=Np(Jt,pn,ft);np(Jt,on);break e;case 1:Dt=pn;var tn=Jt.type,hn=Jt.stateNode;if(!(Jt.flags&128)&&(typeof tn.getDerivedStateFromError=="function"||hn!==null&&typeof hn.componentDidCatch=="function"&&(Ds===null||!Ds.has(hn)))){Jt.flags|=65536,ft&=-ft,Jt.lanes|=ft;var Nn=Bp(Jt,Dt,ft);np(Jt,Nn);break e}}Jt=Jt.return}while(Jt!==null)}Em(Et)}catch(Xn){ft=Xn,kr===Et&&Et!==null&&(kr=Et=Et.return);continue}break}while(!0)}function _m(){var ut=Dl.current;return Dl.current=yl,ut===null?yl:ut}function qu(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),Lr===null||!(ao&268435455)&&!(Fl&268435455)||Bs(Lr,jr)}function $l(ut,ft){var Et=hr;hr|=2;var bt=_m();Lr===ut&&jr===ft||Hs(ut,ft);do try{lv();break}catch(Pt){xm(ut,Pt)}while(!0);if(ru(),hr=Et,Dl.current=bt,kr!==null)throw Error(st(261));return Lr=null,jr=0,Fr}function lv(){for(;kr!==null;)Sm(kr)}function cv(){for(;kr!==null&&!Nm();)Sm(kr)}function Sm(ut){var ft=Mm(ut.alternate,ut,ns);ut.memoizedProps=ut.pendingProps,ft===null?Em(ut):kr=ft,Vu.current=null}function Em(ut){var ft=ut;do{var Et=ft.alternate;if(ut=ft.return,ft.flags&32768){if(Et=tv(Et,ft),Et!==null){Et.flags&=32767,kr=Et;return}if(ut!==null)ut.flags|=32768,ut.subtreeFlags=0,ut.deletions=null;else{Fr=6,kr=null;return}}else if(Et=Jm(Et,ft,ns),Et!==null){kr=Et;return}if(ft=ft.sibling,ft!==null){kr=ft;return}kr=ft=ut}while(ft!==null);Fr===0&&(Fr=5)}function Ws(ut,ft){var Et=gr,bt=Rr.transition;try{Rr.transition=null,gr=1,uv(ut,ft,Et)}finally{Rr.transition=bt,gr=Et}return null}function uv(ut,ft,Et){do Xs();while(Fs!==null);if(hr&6)throw Error(st(327));var bt=ut.finishedWork,Pt=ut.finishedLanes;if(bt===null)return null;if(ut.finishedWork=null,ut.finishedLanes=0,bt===ut.current)throw Error(st(177));ut.callbackNode=null,ut.callbackPriority=0;var Dt=bt.lanes|bt.childLanes;if(Fm(ut,Dt),ut===Lr&&(kr=Lr=null,jr=0),!(bt.subtreeFlags&2064)&&!(bt.flags&2064)||Bl||(Bl=!0,Tm(eu,function(){return Xs(),null})),Dt=(bt.flags&15990)!==0,bt.subtreeFlags&15990||Dt){Dt=Rr.transition,Rr.transition=null;var Ht=gr;gr=1;var Jt=hr;hr|=4,Vu.current=null,rv(ut,bt),iv(ut,bt),Ot(ut.containerInfo),ut.current=bt,sv(bt),Bm(),hr=Jt,gr=Ht,Rr.transition=Dt}else ut.current=bt;if(Bl&&(Bl=!1,Fs=ut,Ol=Pt),Dt=ut.pendingLanes,Dt===0&&(Ds=null),Um(bt.stateNode),Zr(ut,Or()),ft!==null)for(Et=ut.onRecoverableError,bt=0;bt<ft.length;bt++)Et(ft[bt]);if(Nl)throw Nl=!1,ut=$u,$u=null,ut;return Ol&1&&ut.tag!==0&&Xs(),Dt=ut.pendingLanes,Dt&1?ut===Gu?Po++:(Po=0,Gu=ut):Po=0,vs(),null}function Xs(){if(Fs!==null){var ut=_h(Ol),ft=Rr.transition,Et=gr;try{if(Rr.transition=null,gr=16>ut?16:ut,Fs===null)var bt=!1;else{if(ut=Fs,Fs=null,Ol=0,hr&6)throw Error(st(331));var Pt=hr;for(hr|=4,Dn=ut.current;Dn!==null;){var Dt=Dn,Ht=Dt.child;if(Dn.flags&16){var Jt=Dt.deletions;if(Jt!==null){for(var pn=0;pn<Jt.length;pn++){var Cn=Jt[pn];for(Dn=Cn;Dn!==null;){var $n=Dn;switch($n.tag){case 0:case 11:case 15:Gs(8,$n,Dt)}var ar=$n.child;if(ar!==null)ar.return=$n,Dn=ar;else for(;Dn!==null;){$n=Dn;var Jn=$n.sibling,Sr=$n.return;if(am($n),$n===Cn){Dn=null;break}if(Jn!==null){Jn.return=Sr,Dn=Jn;break}Dn=Sr}}}var Yn=Dt.alternate;if(Yn!==null){var Wr=Yn.child;if(Wr!==null){Yn.child=null;do{var hs=Wr.sibling;Wr.sibling=null,Wr=hs}while(Wr!==null)}}Dn=Dt}}if(Dt.subtreeFlags&2064&&Ht!==null)Ht.return=Dt,Dn=Ht;else e:for(;Dn!==null;){if(Dt=Dn,Dt.flags&2048)switch(Dt.tag){case 0:case 11:case 15:Gs(9,Dt,Dt.return)}var on=Dt.sibling;if(on!==null){on.return=Dt.return,Dn=on;break e}Dn=Dt.return}}var tn=ut.current;for(Dn=tn;Dn!==null;){Ht=Dn;var hn=Ht.child;if(Ht.subtreeFlags&2064&&hn!==null)hn.return=Ht,Dn=hn;else e:for(Ht=tn;Dn!==null;){if(Jt=Dn,Jt.flags&2048)try{switch(Jt.tag){case 0:case 11:case 15:Mo(9,Jt)}}catch(Xn){Qr(Jt,Jt.return,Xn)}if(Jt===Ht){Dn=null;break e}var Nn=Jt.sibling;if(Nn!==null){Nn.return=Jt.return,Dn=Nn;break e}Dn=Jt.return}}if(hr=Pt,vs(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(No,ut)}catch{}bt=!0}return bt}finally{gr=Et,Rr.transition=ft}}return!1}function bm(ut,ft,Et){ft=wu(Et,ft),ft=Np(ut,ft,1),ks(ut,ft),ft=qr(),ut=zl(ut,1),ut!==null&&(ho(ut,1,ft),Zr(ut,ft))}function Qr(ut,ft,Et){if(ut.tag===3)bm(ut,ut,Et);else for(;ft!==null;){if(ft.tag===3){bm(ft,ut,Et);break}else if(ft.tag===1){var bt=ft.stateNode;if(typeof ft.type.getDerivedStateFromError=="function"||typeof bt.componentDidCatch=="function"&&(Ds===null||!Ds.has(bt))){ut=wu(Et,ut),ut=Bp(ft,ut,1),ks(ft,ut),ut=qr(),ft=zl(ft,1),ft!==null&&(ho(ft,1,ut),Zr(ft,ut));break}}ft=ft.return}}function hv(ut,ft,Et){var bt=ut.pingCache;bt!==null&&bt.delete(ft),ft=qr(),ut.pingedLanes|=ut.suspendedLanes&Et,Lr===ut&&(jr&Et)===Et&&(Fr===4||Fr===3&&(jr&130023424)===jr&&500>Or()-zu?Hs(ut,0):Uu|=Et),Zr(ut,ft)}function wm(ut,ft){ft===0&&(ut.mode&1?(ft=Do,Do<<=1,!(Do&130023424)&&(Do=4194304)):ft=1);var Et=qr();ut=zl(ut,ft),ut!==null&&(ho(ut,ft,Et),Zr(ut,Et))}function fv(ut){var ft=ut.memoizedState,Et=0;ft!==null&&(Et=ft.retryLane),wm(ut,Et)}function dv(ut,ft){var Et=0;switch(ut.tag){case 13:var bt=ut.stateNode,Pt=ut.memoizedState;Pt!==null&&(Et=Pt.retryLane);break;case 19:bt=ut.stateNode;break;default:throw Error(st(314))}bt!==null&&bt.delete(ft),wm(ut,Et)}var Mm;Mm=function(ut,ft,Et){if(ut!==null)if(ut.memoizedProps!==ft.pendingProps||wr.current)ts=!0;else{if(!(ut.lanes&Et)&&!(ft.flags&128))return ts=!1,ev(ut,ft,Et);ts=!!(ut.flags&131072)}else ts=!1,Tr&&ft.flags&1048576&&up(ft,Ho,ft.index);switch(ft.lanes=0,ft.tag){case 2:var bt=ft.type;ut!==null&&(ut.alternate=null,ft.alternate=null,ft.flags|=2),ut=ft.pendingProps;var Pt=Ir(ft,sr.current);xa(ft,Et),Pt=xu(null,ft,bt,ut,Pt,Et);var Dt=_u();return ft.flags|=1,typeof Pt=="object"&&Pt!==null&&typeof Pt.render=="function"&&Pt.$$typeof===void 0?(ft.tag=1,ft.memoizedState=null,ft.updateQueue=null,Br(bt)?(Dt=!0,zr(ft)):Dt=!1,ft.memoizedState=Pt.state!==null&&Pt.state!==void 0?Pt.state:null,au(ft),Pt.updater=$o,ft.stateNode=Pt,Pt._reactInternals=ft,lu(ft,bt,ut,Et),ft=Au(null,ft,bt,!0,Dt,Et)):(ft.tag=0,Tr&&Dt&&cu(ft),Xr(null,ft,Pt,Et),ft=ft.child),ft;case 16:bt=ft.elementType;e:{switch(ut!==null&&(ut.alternate=null,ft.alternate=null,ft.flags|=2),ut=ft.pendingProps,Pt=bt._init,bt=Pt(bt._payload),ft.type=bt,Pt=ft.tag=mv(bt),ut=ds(bt,ut),Pt){case 0:ft=Tu(null,ft,bt,ut,Et);break e;case 1:ft=qp(null,ft,bt,ut,Et);break e;case 11:ft=$p(null,ft,bt,ut,Et);break e;case 14:ft=Gp(null,ft,bt,ds(bt.type,ut),Et);break e}throw Error(st(306,bt,""))}return ft;case 0:return bt=ft.type,Pt=ft.pendingProps,Pt=ft.elementType===bt?Pt:ds(bt,Pt),Tu(ut,ft,bt,Pt,Et);case 1:return bt=ft.type,Pt=ft.pendingProps,Pt=ft.elementType===bt?Pt:ds(bt,Pt),qp(ut,ft,bt,Pt,Et);case 3:e:{if(Yp(ft),ut===null)throw Error(st(387));bt=ft.pendingProps,Dt=ft.memoizedState,Pt=Dt.element,tp(ut,ft),jo(ft,bt,null,Et);var Ht=ft.memoizedState;if(bt=Ht.element,fn&&Dt.isDehydrated)if(Dt={element:bt,isDehydrated:!1,cache:Ht.cache,transitions:Ht.transitions},ft.updateQueue.baseState=Dt,ft.memoizedState=Dt,ft.flags&256){Pt=Error(st(423)),ft=Kp(ut,ft,bt,Et,Pt);break e}else if(bt!==Pt){Pt=Error(st(424)),ft=Kp(ut,ft,bt,Et,Pt);break e}else for(fn&&(es=Ro(ft.stateNode.containerInfo),_i=ft,Tr=!0,ps=null,fo=!1),Et=gp(ft,null,bt,Et),ft.child=Et;Et;)Et.flags=Et.flags&-3|4096,Et=Et.sibling;else{if(eo(),bt===Pt){ft=Ps(ut,ft,Et);break e}Xr(ut,ft,bt,Et)}ft=ft.child}return ft;case 5:return vp(ft),ut===null&&fu(ft),bt=ft.type,Pt=ft.pendingProps,Dt=ut!==null?ut.memoizedProps:null,Ht=Pt.children,ln(bt,Pt)?Ht=null:Dt!==null&&ln(bt,Dt)&&(ft.flags|=32),Xp(ut,ft),Xr(ut,ft,Ht,Et),ft.child;case 6:return ut===null&&fu(ft),null;case 13:return Zp(ut,ft,Et);case 4:return pu(ft,ft.stateNode.containerInfo),bt=ft.pendingProps,ut===null?ft.child=to(ft,null,bt,Et):Xr(ut,ft,bt,Et),ft.child;case 11:return bt=ft.type,Pt=ft.pendingProps,Pt=ft.elementType===bt?Pt:ds(bt,Pt),$p(ut,ft,bt,Pt,Et);case 7:return Xr(ut,ft,ft.pendingProps,Et),ft.child;case 8:return Xr(ut,ft,ft.pendingProps.children,Et),ft.child;case 12:return Xr(ut,ft,ft.pendingProps.children,Et),ft.child;case 10:e:{if(bt=ft.type._context,Pt=ft.pendingProps,Dt=ft.memoizedProps,Ht=Pt.value,ep(ft,bt,Ht),Dt!==null)if(gs(Dt.value,Ht)){if(Dt.children===Pt.children&&!wr.current){ft=Ps(ut,ft,Et);break e}}else for(Dt=ft.child,Dt!==null&&(Dt.return=ft);Dt!==null;){var Jt=Dt.dependencies;if(Jt!==null){Ht=Dt.child;for(var pn=Jt.firstContext;pn!==null;){if(pn.context===bt){if(Dt.tag===1){pn=Ms(-1,Et&-Et),pn.tag=2;var Cn=Dt.updateQueue;if(Cn!==null){Cn=Cn.shared;var $n=Cn.pending;$n===null?pn.next=pn:(pn.next=$n.next,$n.next=pn),Cn.pending=pn}}Dt.lanes|=Et,pn=Dt.alternate,pn!==null&&(pn.lanes|=Et),su(Dt.return,Et,ft),Jt.lanes|=Et;break}pn=pn.next}}else if(Dt.tag===10)Ht=Dt.type===ft.type?null:Dt.child;else if(Dt.tag===18){if(Ht=Dt.return,Ht===null)throw Error(st(341));Ht.lanes|=Et,Jt=Ht.alternate,Jt!==null&&(Jt.lanes|=Et),su(Ht,Et,ft),Ht=Dt.sibling}else Ht=Dt.child;if(Ht!==null)Ht.return=Dt;else for(Ht=Dt;Ht!==null;){if(Ht===ft){Ht=null;break}if(Dt=Ht.sibling,Dt!==null){Dt.return=Ht.return,Ht=Dt;break}Ht=Ht.return}Dt=Ht}Xr(ut,ft,Pt.children,Et),ft=ft.child}return ft;case 9:return Pt=ft.type,bt=ft.pendingProps.children,xa(ft,Et),Pt=rs(Pt),bt=bt(Pt),ft.flags|=1,Xr(ut,ft,bt,Et),ft.child;case 14:return bt=ft.type,Pt=ds(bt,ft.pendingProps),Pt=ds(bt.type,Pt),Gp(ut,ft,bt,Pt,Et);case 15:return Hp(ut,ft,ft.type,ft.pendingProps,Et);case 17:return bt=ft.type,Pt=ft.pendingProps,Pt=ft.elementType===bt?Pt:ds(bt,Pt),ut!==null&&(ut.alternate=null,ft.alternate=null,ft.flags|=2),ft.tag=1,Br(bt)?(ut=!0,zr(ft)):ut=!1,xa(ft,Et),lp(ft,bt,Pt),lu(ft,bt,Pt,Et),Au(null,ft,bt,!0,ut,Et);case 19:return tm(ut,ft,Et);case 22:return Wp(ut,ft,Et)}throw Error(st(156,ft.tag))};function Tm(ut,ft){return Jl(ut,ft)}function pv(ut,ft,Et,bt){this.tag=ut,this.key=Et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ft,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=bt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(ut,ft,Et,bt){return new pv(ut,ft,Et,bt)}function Yu(ut){return ut=ut.prototype,!(!ut||!ut.isReactComponent)}function mv(ut){if(typeof ut=="function")return Yu(ut)?1:0;if(ut!=null){if(ut=ut.$$typeof,ut===yt)return 11;if(ut===xt)return 14}return 2}function Os(ut,ft){var Et=ut.alternate;return Et===null?(Et=us(ut.tag,ft,ut.key,ut.mode),Et.elementType=ut.elementType,Et.type=ut.type,Et.stateNode=ut.stateNode,Et.alternate=ut,ut.alternate=Et):(Et.pendingProps=ft,Et.type=ut.type,Et.flags=0,Et.subtreeFlags=0,Et.deletions=null),Et.flags=ut.flags&14680064,Et.childLanes=ut.childLanes,Et.lanes=ut.lanes,Et.child=ut.child,Et.memoizedProps=ut.memoizedProps,Et.memoizedState=ut.memoizedState,Et.updateQueue=ut.updateQueue,ft=ut.dependencies,Et.dependencies=ft===null?null:{lanes:ft.lanes,firstContext:ft.firstContext},Et.sibling=ut.sibling,Et.index=ut.index,Et.ref=ut.ref,Et}function Gl(ut,ft,Et,bt,Pt,Dt){var Ht=2;if(bt=ut,typeof ut=="function")Yu(ut)&&(Ht=1);else if(typeof ut=="string")Ht=5;else e:switch(ut){case ct:return qs(Et.children,Pt,Dt,ft);case dt:Ht=8,Pt|=8;break;case ht:return ut=us(12,Et,ft,Pt|2),ut.elementType=ht,ut.lanes=Dt,ut;case _t:return ut=us(13,Et,ft,Pt),ut.elementType=_t,ut.lanes=Dt,ut;case pt:return ut=us(19,Et,ft,Pt),ut.elementType=pt,ut.lanes=Dt,ut;case St:return Hl(Et,Pt,Dt,ft);default:if(typeof ut=="object"&&ut!==null)switch(ut.$$typeof){case mt:Ht=10;break e;case gt:Ht=9;break e;case yt:Ht=11;break e;case xt:Ht=14;break e;case vt:Ht=16,bt=null;break e}throw Error(st(130,ut==null?ut:typeof ut,""))}return ft=us(Ht,Et,ft,Pt),ft.elementType=ut,ft.type=bt,ft.lanes=Dt,ft}function qs(ut,ft,Et,bt){return ut=us(7,ut,bt,ft),ut.lanes=Et,ut}function Hl(ut,ft,Et,bt){return ut=us(22,ut,bt,ft),ut.elementType=St,ut.lanes=Et,ut.stateNode={},ut}function Ku(ut,ft,Et){return ut=us(6,ut,null,ft),ut.lanes=Et,ut}function Zu(ut,ft,Et){return ft=us(4,ut.children!==null?ut.children:[],ut.key,ft),ft.lanes=Et,ft.stateNode={containerInfo:ut.containerInfo,pendingChildren:null,implementation:ut.implementation},ft}function gv(ut,ft,Et,bt,Pt){this.tag=ft,this.containerInfo=ut,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=qn,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=bt,this.onRecoverableError=Pt,fn&&(this.mutableSourceEagerHydrationData=null)}function Am(ut,ft,Et,bt,Pt,Dt,Ht,Jt,pn){return ut=new gv(ut,ft,Et,Jt,pn),ft===1?(ft=1,Dt===!0&&(ft|=8)):ft=0,Dt=us(3,null,null,ft),ut.current=Dt,Dt.stateNode=ut,Dt.memoizedState={element:bt,isDehydrated:Et,cache:null,transitions:null},au(Dt),ut}function Cm(ut){if(!ut)return br;ut=ut._reactInternals;e:{if(Lt(ut)!==ut||ut.tag!==1)throw Error(st(170));var ft=ut;do{switch(ft.tag){case 3:ft=ft.stateNode.context;break e;case 1:if(Br(ft.type)){ft=ft.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ft=ft.return}while(ft!==null);throw Error(st(171))}if(ut.tag===1){var Et=ut.type;if(Br(Et))return Js(ut,Et,ft)}return ft}function Pm(ut){var ft=ut._reactInternals;if(ft===void 0)throw typeof ut.render=="function"?Error(st(188)):(ut=Object.keys(ut).join(","),Error(st(268,ut)));return ut=zt(ft),ut===null?null:ut.stateNode}function Rm(ut,ft){if(ut=ut.memoizedState,ut!==null&&ut.dehydrated!==null){var Et=ut.retryLane;ut.retryLane=Et!==0&&Et<ft?Et:ft}}function Qu(ut,ft){Rm(ut,ft),(ut=ut.alternate)&&Rm(ut,ft)}function vv(ut){return ut=zt(ut),ut===null?null:ut.stateNode}function yv(){return null}return tt.attemptContinuousHydration=function(ut){if(ut.tag===13){var ft=qr();cs(ut,134217728,ft),Qu(ut,134217728)}},tt.attemptHydrationAtCurrentPriority=function(ut){if(ut.tag===13){var ft=qr(),Et=Ns(ut);cs(ut,Et,ft),Qu(ut,Et)}},tt.attemptSynchronousHydration=function(ut){switch(ut.tag){case 3:var ft=ut.stateNode;if(ft.current.memoizedState.isDehydrated){var Et=uo(ft.pendingLanes);Et!==0&&(Ql(ft,Et|1),Zr(ft,Or()),!(hr&6)&&(oo(),vs()))}break;case 13:var bt=qr();ym(function(){return cs(ut,1,bt)}),Qu(ut,1)}},tt.batchedUpdates=function(ut,ft){var Et=hr;hr|=1;try{return ut(ft)}finally{hr=Et,hr===0&&(oo(),Bo&&vs())}},tt.createComponentSelector=function(ut){return{$$typeof:Cl,value:ut}},tt.createContainer=function(ut,ft,Et,bt,Pt,Dt,Ht){return Am(ut,ft,!1,null,Et,bt,Pt,Dt,Ht)},tt.createHasPseudoClassSelector=function(ut){return{$$typeof:Pl,value:ut}},tt.createHydrationContainer=function(ut,ft,Et,bt,Pt,Dt,Ht,Jt,pn){return ut=Am(Et,bt,!0,ut,Pt,Dt,Ht,Jt,pn),ut.context=Cm(null),Et=ut.current,bt=qr(),Pt=Ns(Et),Dt=Ms(bt,Pt),Dt.callback=ft??null,ks(Et,Dt),ut.current.lanes=Pt,ho(ut,Pt,bt),Zr(ut,bt),ut},tt.createPortal=function(ut,ft,Et){var bt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lt,key:bt==null?null:""+bt,children:ut,containerInfo:ft,implementation:Et}},tt.createRoleSelector=function(ut){return{$$typeof:Rl,value:ut}},tt.createTestNameSelector=function(ut){return{$$typeof:Il,value:ut}},tt.createTextSelector=function(ut){return{$$typeof:Ll,value:ut}},tt.deferredUpdates=function(ut){var ft=gr,Et=Rr.transition;try{return Rr.transition=null,gr=16,ut()}finally{gr=ft,Rr.transition=Et}},tt.discreteUpdates=function(ut,ft,Et,bt,Pt){var Dt=gr,Ht=Rr.transition;try{return Rr.transition=null,gr=1,ut(ft,Et,bt,Pt)}finally{gr=Dt,Rr.transition=Ht,hr===0&&oo()}},tt.findAllNodes=Ou,tt.findBoundingRects=function(ut,ft){if(!Gt)throw Error(st(363));ft=Ou(ut,ft),ut=[];for(var Et=0;Et<ft.length;Et++)ut.push(sn(ft[Et]));for(ft=ut.length-1;0<ft;ft--){Et=ut[ft];for(var bt=Et.x,Pt=bt+Et.width,Dt=Et.y,Ht=Dt+Et.height,Jt=ft-1;0<=Jt;Jt--)if(ft!==Jt){var pn=ut[Jt],Cn=pn.x,$n=Cn+pn.width,ar=pn.y,Jn=ar+pn.height;if(bt>=Cn&&Dt>=ar&&Pt<=$n&&Ht<=Jn){ut.splice(ft,1);break}else if(bt!==Cn||Et.width!==pn.width||Jn<Dt||ar>Ht){if(!(Dt!==ar||Et.height!==pn.height||$n<bt||Cn>Pt)){Cn>bt&&(pn.width+=Cn-bt,pn.x=bt),$n<Pt&&(pn.width=Pt-Cn),ut.splice(ft,1);break}}else{ar>Dt&&(pn.height+=ar-Dt,pn.y=Dt),Jn<Ht&&(pn.height=Ht-ar),ut.splice(ft,1);break}}}return ut},tt.findHostInstance=Pm,tt.findHostInstanceWithNoPortals=function(ut){return ut=Nt(ut),ut=ut!==null?Yt(ut):null,ut===null?null:ut.stateNode},tt.findHostInstanceWithWarning=function(ut){return Pm(ut)},tt.flushControlled=function(ut){var ft=hr;hr|=1;var Et=Rr.transition,bt=gr;try{Rr.transition=null,gr=1,ut()}finally{gr=bt,Rr.transition=Et,hr=ft,hr===0&&(oo(),vs())}},tt.flushPassiveEffects=Xs,tt.flushSync=ym,tt.focusWithin=function(ut,ft){if(!Gt)throw Error(st(363));for(ut=Fu(ut),ft=mm(ut,ft),ft=Array.from(ft),ut=0;ut<ft.length;){var Et=ft[ut++];if(!gn(Et)){if(Et.tag===5&&On(Et.stateNode))return!0;for(Et=Et.child;Et!==null;)ft.push(Et),Et=Et.sibling}}return!1},tt.getCurrentUpdatePriority=function(){return gr},tt.getFindAllNodesFailureDescription=function(ut,ft){if(!Gt)throw Error(st(363));var Et=0,bt=[];ut=[Fu(ut),0];for(var Pt=0;Pt<ut.length;){var Dt=ut[Pt++],Ht=ut[Pt++],Jt=ft[Ht];if((Dt.tag!==5||!gn(Dt))&&(Nu(Dt,Jt)&&(bt.push(Bu(Jt)),Ht++,Ht>Et&&(Et=Ht)),Ht<ft.length))for(Dt=Dt.child;Dt!==null;)ut.push(Dt,Ht),Dt=Dt.sibling}if(Et<ft.length){for(ut=[];Et<ft.length;Et++)ut.push(Bu(ft[Et]));return`findAllNodes was able to match part of the selector:
  `+(bt.join(" > ")+`

No matching component was found for:
  `)+ut.join(" > ")}return null},tt.getPublicRootInstance=function(ut){if(ut=ut.current,!ut.child)return null;switch(ut.child.tag){case 5:return Ft(ut.child.stateNode);default:return ut.child.stateNode}},tt.injectIntoDevTools=function(ut){if(ut={bundleType:ut.bundleType,version:ut.version,rendererPackageName:ut.rendererPackageName,rendererConfig:ut.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:at.ReactCurrentDispatcher,findHostInstanceByFiber:vv,findFiberByHostInstance:ut.findFiberByHostInstance||yv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")ut=!1;else{var ft=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(ft.isDisabled||!ft.supportsFiber)ut=!0;else{try{No=ft.inject(ut),ms=ft}catch{}ut=!!ft.checkDCE}}return ut},tt.isAlreadyRendering=function(){return!1},tt.observeVisibleRects=function(ut,ft,Et,bt){if(!Gt)throw Error(st(363));ut=Ou(ut,ft);var Pt=An(ut,Et,bt).disconnect;return{disconnect:function(){Pt()}}},tt.registerMutableSourceForHydration=function(ut,ft){var Et=ft._getVersion;Et=Et(ft._source),ut.mutableSourceEagerHydrationData==null?ut.mutableSourceEagerHydrationData=[ft,Et]:ut.mutableSourceEagerHydrationData.push(ft,Et)},tt.runWithPriority=function(ut,ft){var Et=gr;try{return gr=ut,ft()}finally{gr=Et}},tt.shouldError=function(){return null},tt.shouldSuspend=function(){return!1},tt.updateContainer=function(ut,ft,Et,bt){var Pt=ft.current,Dt=qr(),Ht=Ns(Pt);return Et=Cm(Et),ft.context===null?ft.context=Et:ft.pendingContext=Et,ft=Ms(Dt,Ht),ft.payload={element:ut},bt=bt===void 0?null:bt,bt!==null&&(ft.callback=bt),ks(Pt,ft),ut=cs(Pt,Ht,Dt),ut!==null&&zo(ut,Pt,Ht),Ht},tt};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs(reactReconcilerExports),catalogue={},extend=et=>void Object.assign(catalogue,et);function createRenderer(et,c){function tt(ct,{args:dt=[],attach:ht,...mt},gt){let yt=`${ct[0].toUpperCase()}${ct.slice(1)}`,_t;if(ct==="primitive"){if(mt.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const pt=mt.object;_t=prepare(pt,{type:ct,root:gt,attach:ht,primitive:!0})}else{const pt=catalogue[yt];if(!pt)throw new Error(`R3F: ${yt} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(dt))throw new Error("R3F: The args prop must be an array!");_t=prepare(new pt(...dt),{type:ct,root:gt,attach:ht,memoizedProps:{args:dt}})}return _t.__r3f.attach===void 0&&(_t.isBufferGeometry?_t.__r3f.attach="geometry":_t.isMaterial&&(_t.__r3f.attach="material")),yt!=="inject"&&applyProps$1(_t,mt),_t}function nt(ct,dt){let ht=!1;if(dt){var mt,gt;(mt=dt.__r3f)!=null&&mt.attach?attach(ct,dt,dt.__r3f.attach):dt.isObject3D&&ct.isObject3D&&(ct.add(dt),ht=!0),ht||(gt=ct.__r3f)==null||gt.objects.push(dt),dt.__r3f||prepare(dt,{}),dt.__r3f.parent=ct,updateInstance(dt),invalidateInstance(dt)}}function rt(ct,dt,ht){let mt=!1;if(dt){var gt,yt;if((gt=dt.__r3f)!=null&&gt.attach)attach(ct,dt,dt.__r3f.attach);else if(dt.isObject3D&&ct.isObject3D){dt.parent=ct,dt.dispatchEvent({type:"added"}),ct.dispatchEvent({type:"childadded",child:dt});const _t=ct.children.filter(xt=>xt!==dt),pt=_t.indexOf(ht);ct.children=[..._t.slice(0,pt),dt,..._t.slice(pt)],mt=!0}mt||(yt=ct.__r3f)==null||yt.objects.push(dt),dt.__r3f||prepare(dt,{}),dt.__r3f.parent=ct,updateInstance(dt),invalidateInstance(dt)}}function it(ct,dt,ht=!1){ct&&[...ct].forEach(mt=>st(dt,mt,ht))}function st(ct,dt,ht){if(dt){var mt,gt,yt;if(dt.__r3f&&(dt.__r3f.parent=null),(mt=ct.__r3f)!=null&&mt.objects&&(ct.__r3f.objects=ct.__r3f.objects.filter(St=>St!==dt)),(gt=dt.__r3f)!=null&&gt.attach)detach(ct,dt,dt.__r3f.attach);else if(dt.isObject3D&&ct.isObject3D){var _t;ct.remove(dt),(_t=dt.__r3f)!=null&&_t.root&&removeInteractivity(findInitialRoot(dt),dt)}const xt=(yt=dt.__r3f)==null?void 0:yt.primitive,vt=!xt&&(ht===void 0?dt.dispose!==null:ht);if(!xt){var pt;it((pt=dt.__r3f)==null?void 0:pt.objects,dt,vt),it(dt.children,dt,vt)}if(delete dt.__r3f,vt&&dt.dispose&&dt.type!=="Scene"){const St=()=>{try{dt.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,St):St()}invalidateInstance(ct)}}function at(ct,dt,ht,mt){var gt;const yt=(gt=ct.__r3f)==null?void 0:gt.parent;if(!yt)return;const _t=tt(dt,ht,ct.__r3f.root);if(ct.children){for(const pt of ct.children)pt.__r3f&&nt(_t,pt);ct.children=ct.children.filter(pt=>!pt.__r3f)}ct.__r3f.objects.forEach(pt=>nt(_t,pt)),ct.__r3f.objects=[],ct.__r3f.autoRemovedBeforeAppend||st(yt,ct),_t.parent&&(_t.__r3f.autoRemovedBeforeAppend=!0),nt(yt,_t),_t.raycast&&_t.__r3f.eventCount&&findInitialRoot(_t).getState().internal.interaction.push(_t),[mt,mt.alternate].forEach(pt=>{pt!==null&&(pt.stateNode=_t,pt.ref&&(typeof pt.ref=="function"?pt.ref(_t):pt.ref.current=_t))})}const ot=()=>{};return{reconciler:Reconciler({createInstance:tt,removeChild:st,appendChild:nt,appendInitialChild:nt,insertBefore:rt,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(ct,dt)=>{if(!dt)return;const ht=ct.getState().scene;ht.__r3f&&(ht.__r3f.root=ct,nt(ht,dt))},removeChildFromContainer:(ct,dt)=>{dt&&st(ct.getState().scene,dt)},insertInContainerBefore:(ct,dt,ht)=>{if(!dt||!ht)return;const mt=ct.getState().scene;mt.__r3f&&rt(mt,dt,ht)},getRootHostContext:()=>null,getChildHostContext:ct=>ct,finalizeInitialChildren(ct){var dt;return!!((dt=ct==null?void 0:ct.__r3f)!=null?dt:{}).handlers},prepareUpdate(ct,dt,ht,mt){var gt;if(((gt=ct==null?void 0:ct.__r3f)!=null?gt:{}).primitive&&mt.object&&mt.object!==ct)return[!0];{const{args:_t=[],children:pt,...xt}=mt,{args:vt=[],children:St,...wt}=ht;if(!Array.isArray(_t))throw new Error("R3F: the args prop must be an array!");if(_t.some((Ct,Rt)=>Ct!==vt[Rt]))return[!0];const Mt=diffProps(ct,xt,wt,!0);return Mt.changes.length?[!1,Mt]:null}},commitUpdate(ct,[dt,ht],mt,gt,yt,_t){dt?at(ct,mt,yt,_t):applyProps$1(ct,ht)},commitMount(ct,dt,ht,mt){var gt;const yt=(gt=ct.__r3f)!=null?gt:{};ct.raycast&&yt.handlers&&yt.eventCount&&findInitialRoot(ct).getState().internal.interaction.push(ct)},getPublicInstance:ct=>ct,prepareForCommit:()=>null,preparePortalMount:ct=>prepare(ct.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(ct){var dt;const{attach:ht,parent:mt}=(dt=ct.__r3f)!=null?dt:{};ht&&mt&&detach(mt,ct,ht),ct.isObject3D&&(ct.visible=!1),invalidateInstance(ct)},unhideInstance(ct,dt){var ht;const{attach:mt,parent:gt}=(ht=ct.__r3f)!=null?ht:{};mt&&gt&&attach(gt,ct,mt),(ct.isObject3D&&dt.visible==null||dt.visible)&&(ct.visible=!0),invalidateInstance(ct)},createTextInstance:ot,hideTextInstance:ot,unhideTextInstance:ot,getCurrentEventPriority:()=>c?c():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=et=>"colorSpace"in et||"outputColorSpace"in et,getColorManagement=()=>{var et;return(et=catalogue.ColorManagement)!=null?et:null},isOrthographicCamera=et=>et&&et.isOrthographicCamera,isRef=et=>et&&et.hasOwnProperty("current"),useIsomorphicLayoutEffect=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(et){const c=reactExports.useRef(et);return useIsomorphicLayoutEffect(()=>void(c.current=et),[et]),c}function Block({set:et}){return useIsomorphicLayoutEffect(()=>(et(new Promise(()=>null)),()=>et(!1)),[et]),null}class ErrorBoundary extends reactExports.Component{constructor(...c){super(...c),this.state={error:!1}}componentDidCatch(c){this.props.set(c)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=et=>et&&!!et.memoized&&!!et.changes;function calculateDpr(et){var c;const tt=typeof window<"u"?(c=window.devicePixelRatio)!=null?c:2:1;return Array.isArray(et)?Math.min(Math.max(et[0],tt),et[1]):et}const getRootState=et=>{var c;return(c=et.__r3f)==null?void 0:c.root.getState()};function findInitialRoot(et){let c=et.__r3f.root;for(;c.getState().previousRoot;)c=c.getState().previousRoot;return c}const is={obj:et=>et===Object(et)&&!is.arr(et)&&typeof et!="function",fun:et=>typeof et=="function",str:et=>typeof et=="string",num:et=>typeof et=="number",boo:et=>typeof et=="boolean",und:et=>et===void 0,arr:et=>Array.isArray(et),equ(et,c,{arrays:tt="shallow",objects:nt="reference",strict:rt=!0}={}){if(typeof et!=typeof c||!!et!=!!c)return!1;if(is.str(et)||is.num(et)||is.boo(et))return et===c;const it=is.obj(et);if(it&&nt==="reference")return et===c;const st=is.arr(et);if(st&&tt==="reference")return et===c;if((st||it)&&et===c)return!0;let at;for(at in et)if(!(at in c))return!1;if(it&&tt==="shallow"&&nt==="shallow"){for(at in rt?c:et)if(!is.equ(et[at],c[at],{strict:rt,objects:"reference"}))return!1}else for(at in rt?c:et)if(et[at]!==c[at])return!1;if(is.und(at)){if(st&&et.length===0&&c.length===0||it&&Object.keys(et).length===0&&Object.keys(c).length===0)return!0;if(et!==c)return!1}return!0}};function dispose(et){et.dispose&&et.type!=="Scene"&&et.dispose();for(const c in et)c.dispose==null||c.dispose(),delete et[c]}function prepare(et,c){const tt=et;return tt.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...c},et}function resolve(et,c){let tt=et;if(c.includes("-")){const nt=c.split("-"),rt=nt.pop();return tt=nt.reduce((it,st)=>it[st],et),{target:tt,key:rt}}else return{target:tt,key:c}}const INDEX_REGEX=/-\d+$/;function attach(et,c,tt){if(is.str(tt)){if(INDEX_REGEX.test(tt)){const it=tt.replace(INDEX_REGEX,""),{target:st,key:at}=resolve(et,it);Array.isArray(st[at])||(st[at]=[])}const{target:nt,key:rt}=resolve(et,tt);c.__r3f.previousAttach=nt[rt],nt[rt]=c}else c.__r3f.previousAttach=tt(et,c)}function detach(et,c,tt){var nt,rt;if(is.str(tt)){const{target:it,key:st}=resolve(et,tt),at=c.__r3f.previousAttach;at===void 0?delete it[st]:it[st]=at}else(nt=c.__r3f)==null||nt.previousAttach==null||nt.previousAttach(et,c);(rt=c.__r3f)==null||delete rt.previousAttach}function diffProps(et,{children:c,key:tt,ref:nt,...rt},{children:it,key:st,ref:at,...ot}={},lt=!1){const ct=et.__r3f,dt=Object.entries(rt),ht=[];if(lt){const gt=Object.keys(ot);for(let yt=0;yt<gt.length;yt++)rt.hasOwnProperty(gt[yt])||dt.unshift([gt[yt],DEFAULT+"remove"])}dt.forEach(([gt,yt])=>{var _t;if((_t=et.__r3f)!=null&&_t.primitive&&gt==="object"||is.equ(yt,ot[gt]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(gt))return ht.push([gt,yt,!0,[]]);let pt=[];gt.includes("-")&&(pt=gt.split("-")),ht.push([gt,yt,!1,pt]);for(const xt in rt){const vt=rt[xt];xt.startsWith(`${gt}-`)&&ht.push([xt,vt,!1,xt.split("-")])}});const mt={...rt};return ct!=null&&ct.memoizedProps&&ct!=null&&ct.memoizedProps.args&&(mt.args=ct.memoizedProps.args),ct!=null&&ct.memoizedProps&&ct!=null&&ct.memoizedProps.attach&&(mt.attach=ct.memoizedProps.attach),{memoized:mt,changes:ht}}function applyProps$1(et,c){var tt;const nt=et.__r3f,rt=nt==null?void 0:nt.root,it=rt==null||rt.getState==null?void 0:rt.getState(),{memoized:st,changes:at}=isDiffSet(c)?c:diffProps(et,c),ot=nt==null?void 0:nt.eventCount;et.__r3f&&(et.__r3f.memoizedProps=st);for(let ht=0;ht<at.length;ht++){let[mt,gt,yt,_t]=at[ht];if(hasColorSpace(et)){const St="srgb",wt="srgb-linear";mt==="encoding"?(mt="colorSpace",gt=gt===3001?St:wt):mt==="outputEncoding"&&(mt="outputColorSpace",gt=gt===3001?St:wt)}let pt=et,xt=pt[mt];if(_t.length&&(xt=_t.reduce((vt,St)=>vt[St],et),!(xt&&xt.set))){const[vt,...St]=_t.reverse();pt=St.reverse().reduce((wt,Mt)=>wt[Mt],et),mt=vt}if(gt===DEFAULT+"remove")if(pt.constructor){let vt=DEFAULTS.get(pt.constructor);vt||(vt=new pt.constructor,DEFAULTS.set(pt.constructor,vt)),gt=vt[mt]}else gt=0;if(yt&&nt)gt?nt.handlers[mt]=gt:delete nt.handlers[mt],nt.eventCount=Object.keys(nt.handlers).length;else if(xt&&xt.set&&(xt.copy||xt instanceof Layers)){if(Array.isArray(gt))xt.fromArray?xt.fromArray(gt):xt.set(...gt);else if(xt.copy&&gt&&gt.constructor&&xt.constructor===gt.constructor)xt.copy(gt);else if(gt!==void 0){var lt;const vt=(lt=xt)==null?void 0:lt.isColor;!vt&&xt.setScalar?xt.setScalar(gt):xt instanceof Layers&&gt instanceof Layers?xt.mask=gt.mask:xt.set(gt),!getColorManagement()&&it&&!it.linear&&vt&&xt.convertSRGBToLinear()}}else{var ct;if(pt[mt]=gt,(ct=pt[mt])!=null&&ct.isTexture&&pt[mt].format===RGBAFormat&&pt[mt].type===UnsignedByteType&&it){const vt=pt[mt];hasColorSpace(vt)&&hasColorSpace(it.gl)?vt.colorSpace=it.gl.outputColorSpace:vt.encoding=it.gl.outputEncoding}}invalidateInstance(et)}if(nt&&nt.parent&&et.raycast&&ot!==nt.eventCount){const ht=findInitialRoot(et).getState().internal,mt=ht.interaction.indexOf(et);mt>-1&&ht.interaction.splice(mt,1),nt.eventCount&&ht.interaction.push(et)}return!(at.length===1&&at[0][0]==="onUpdate")&&at.length&&(tt=et.__r3f)!=null&&tt.parent&&updateInstance(et),et}function invalidateInstance(et){var c,tt;const nt=(c=et.__r3f)==null||(tt=c.root)==null||tt.getState==null?void 0:tt.getState();nt&&nt.internal.frames===0&&nt.invalidate()}function updateInstance(et){et.onUpdate==null||et.onUpdate(et)}function updateCamera(et,c){et.manual||(isOrthographicCamera(et)?(et.left=c.width/-2,et.right=c.width/2,et.top=c.height/2,et.bottom=c.height/-2):et.aspect=c.width/c.height,et.updateProjectionMatrix(),et.updateMatrixWorld())}function makeId(et){return(et.eventObject||et.object).uuid+"/"+et.index+et.instanceId}function getEventPriority(){var et;const c=typeof self<"u"&&self||typeof window<"u"&&window;if(!c)return constantsExports.DefaultEventPriority;switch((et=c.event)==null?void 0:et.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(et,c,tt,nt){const rt=tt.get(c);rt&&(tt.delete(c),tt.size===0&&(et.delete(nt),rt.target.releasePointerCapture(nt)))}function removeInteractivity(et,c){const{internal:tt}=et.getState();tt.interaction=tt.interaction.filter(nt=>nt!==c),tt.initialHits=tt.initialHits.filter(nt=>nt!==c),tt.hovered.forEach((nt,rt)=>{(nt.eventObject===c||nt.object===c)&&tt.hovered.delete(rt)}),tt.capturedMap.forEach((nt,rt)=>{releaseInternalPointerCapture(tt.capturedMap,c,nt,rt)})}function createEvents(et){function c(ot){const{internal:lt}=et.getState(),ct=ot.offsetX-lt.initialClick[0],dt=ot.offsetY-lt.initialClick[1];return Math.round(Math.sqrt(ct*ct+dt*dt))}function tt(ot){return ot.filter(lt=>["Move","Over","Enter","Out","Leave"].some(ct=>{var dt;return(dt=lt.__r3f)==null?void 0:dt.handlers["onPointer"+ct]}))}function nt(ot,lt){const ct=et.getState(),dt=new Set,ht=[],mt=lt?lt(ct.internal.interaction):ct.internal.interaction;for(let pt=0;pt<mt.length;pt++){const xt=getRootState(mt[pt]);xt&&(xt.raycaster.camera=void 0)}ct.previousRoot||ct.events.compute==null||ct.events.compute(ot,ct);function gt(pt){const xt=getRootState(pt);if(!xt||!xt.events.enabled||xt.raycaster.camera===null)return[];if(xt.raycaster.camera===void 0){var vt;xt.events.compute==null||xt.events.compute(ot,xt,(vt=xt.previousRoot)==null?void 0:vt.getState()),xt.raycaster.camera===void 0&&(xt.raycaster.camera=null)}return xt.raycaster.camera?xt.raycaster.intersectObject(pt,!0):[]}let yt=mt.flatMap(gt).sort((pt,xt)=>{const vt=getRootState(pt.object),St=getRootState(xt.object);return!vt||!St?pt.distance-xt.distance:St.events.priority-vt.events.priority||pt.distance-xt.distance}).filter(pt=>{const xt=makeId(pt);return dt.has(xt)?!1:(dt.add(xt),!0)});ct.events.filter&&(yt=ct.events.filter(yt,ct));for(const pt of yt){let xt=pt.object;for(;xt;){var _t;(_t=xt.__r3f)!=null&&_t.eventCount&&ht.push({...pt,eventObject:xt}),xt=xt.parent}}if("pointerId"in ot&&ct.internal.capturedMap.has(ot.pointerId))for(let pt of ct.internal.capturedMap.get(ot.pointerId).values())dt.has(makeId(pt.intersection))||ht.push(pt.intersection);return ht}function rt(ot,lt,ct,dt){const ht=et.getState();if(ot.length){const mt={stopped:!1};for(const gt of ot){const yt=getRootState(gt.object)||ht,{raycaster:_t,pointer:pt,camera:xt,internal:vt}=yt,St=new Vector3(pt.x,pt.y,0).unproject(xt),wt=It=>{var Nt,zt;return(Nt=(zt=vt.capturedMap.get(It))==null?void 0:zt.has(gt.eventObject))!=null?Nt:!1},Mt=It=>{const Nt={intersection:gt,target:lt.target};vt.capturedMap.has(It)?vt.capturedMap.get(It).set(gt.eventObject,Nt):vt.capturedMap.set(It,new Map([[gt.eventObject,Nt]])),lt.target.setPointerCapture(It)},Ct=It=>{const Nt=vt.capturedMap.get(It);Nt&&releaseInternalPointerCapture(vt.capturedMap,gt.eventObject,Nt,It)};let Rt={};for(let It in lt){let Nt=lt[It];typeof Nt!="function"&&(Rt[It]=Nt)}let Lt={...gt,...Rt,pointer:pt,intersections:ot,stopped:mt.stopped,delta:ct,unprojectedPoint:St,ray:_t.ray,camera:xt,stopPropagation(){const It="pointerId"in lt&&vt.capturedMap.get(lt.pointerId);if((!It||It.has(gt.eventObject))&&(Lt.stopped=mt.stopped=!0,vt.hovered.size&&Array.from(vt.hovered.values()).find(Nt=>Nt.eventObject===gt.eventObject))){const Nt=ot.slice(0,ot.indexOf(gt));it([...Nt,gt])}},target:{hasPointerCapture:wt,setPointerCapture:Mt,releasePointerCapture:Ct},currentTarget:{hasPointerCapture:wt,setPointerCapture:Mt,releasePointerCapture:Ct},nativeEvent:lt};if(dt(Lt),mt.stopped===!0)break}}return ot}function it(ot){const{internal:lt}=et.getState();for(const ct of lt.hovered.values())if(!ot.length||!ot.find(dt=>dt.object===ct.object&&dt.index===ct.index&&dt.instanceId===ct.instanceId)){const ht=ct.eventObject.__r3f,mt=ht==null?void 0:ht.handlers;if(lt.hovered.delete(makeId(ct)),ht!=null&&ht.eventCount){const gt={...ct,intersections:ot};mt.onPointerOut==null||mt.onPointerOut(gt),mt.onPointerLeave==null||mt.onPointerLeave(gt)}}}function st(ot,lt){for(let ct=0;ct<lt.length;ct++){const dt=lt[ct].__r3f;dt==null||dt.handlers.onPointerMissed==null||dt.handlers.onPointerMissed(ot)}}function at(ot){switch(ot){case"onPointerLeave":case"onPointerCancel":return()=>it([]);case"onLostPointerCapture":return lt=>{const{internal:ct}=et.getState();"pointerId"in lt&&ct.capturedMap.has(lt.pointerId)&&requestAnimationFrame(()=>{ct.capturedMap.has(lt.pointerId)&&(ct.capturedMap.delete(lt.pointerId),it([]))})}}return function(ct){const{onPointerMissed:dt,internal:ht}=et.getState();ht.lastEvent.current=ct;const mt=ot==="onPointerMove",gt=ot==="onClick"||ot==="onContextMenu"||ot==="onDoubleClick",_t=nt(ct,mt?tt:void 0),pt=gt?c(ct):0;ot==="onPointerDown"&&(ht.initialClick=[ct.offsetX,ct.offsetY],ht.initialHits=_t.map(vt=>vt.eventObject)),gt&&!_t.length&&pt<=2&&(st(ct,ht.interaction),dt&&dt(ct)),mt&&it(_t);function xt(vt){const St=vt.eventObject,wt=St.__r3f,Mt=wt==null?void 0:wt.handlers;if(wt!=null&&wt.eventCount)if(mt){if(Mt.onPointerOver||Mt.onPointerEnter||Mt.onPointerOut||Mt.onPointerLeave){const Ct=makeId(vt),Rt=ht.hovered.get(Ct);Rt?Rt.stopped&&vt.stopPropagation():(ht.hovered.set(Ct,vt),Mt.onPointerOver==null||Mt.onPointerOver(vt),Mt.onPointerEnter==null||Mt.onPointerEnter(vt))}Mt.onPointerMove==null||Mt.onPointerMove(vt)}else{const Ct=Mt[ot];Ct?(!gt||ht.initialHits.includes(St))&&(st(ct,ht.interaction.filter(Rt=>!ht.initialHits.includes(Rt))),Ct(vt)):gt&&ht.initialHits.includes(St)&&st(ct,ht.interaction.filter(Rt=>!ht.initialHits.includes(Rt)))}}rt(_t,ct,pt,xt)}}return{handlePointer:at}}const isRenderer=et=>!!(et!=null&&et.render),context=reactExports.createContext(null),createStore=(et,c)=>{const tt=create$1((at,ot)=>{const lt=new Vector3,ct=new Vector3,dt=new Vector3;function ht(pt=ot().camera,xt=ct,vt=ot().size){const{width:St,height:wt,top:Mt,left:Ct}=vt,Rt=St/wt;xt.isVector3?dt.copy(xt):dt.set(...xt);const Lt=pt.getWorldPosition(lt).distanceTo(dt);if(isOrthographicCamera(pt))return{width:St/pt.zoom,height:wt/pt.zoom,top:Mt,left:Ct,factor:1,distance:Lt,aspect:Rt};{const It=pt.fov*Math.PI/180,Nt=2*Math.tan(It/2)*Lt,zt=Nt*(St/wt);return{width:zt,height:Nt,top:Mt,left:Ct,factor:St/zt,distance:Lt,aspect:Rt}}}let mt;const gt=pt=>at(xt=>({performance:{...xt.performance,current:pt}})),yt=new Vector2;return{set:at,get:ot,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(pt=1)=>et(ot(),pt),advance:(pt,xt)=>c(pt,xt,ot()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:yt,mouse:yt,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const pt=ot();mt&&clearTimeout(mt),pt.performance.current!==pt.performance.min&&gt(pt.performance.min),mt=setTimeout(()=>gt(ot().performance.max),pt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:ht},setEvents:pt=>at(xt=>({...xt,events:{...xt.events,...pt}})),setSize:(pt,xt,vt,St,wt)=>{const Mt=ot().camera,Ct={width:pt,height:xt,top:St||0,left:wt||0,updateStyle:vt};at(Rt=>({size:Ct,viewport:{...Rt.viewport,...ht(Mt,ct,Ct)}}))},setDpr:pt=>at(xt=>{const vt=calculateDpr(pt);return{viewport:{...xt.viewport,dpr:vt,initialDpr:xt.viewport.initialDpr||vt}}}),setFrameloop:(pt="always")=>{const xt=ot().clock;xt.stop(),xt.elapsedTime=0,pt!=="never"&&(xt.start(),xt.elapsedTime=0),at(()=>({frameloop:pt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(pt,xt,vt)=>{const St=ot().internal;return St.priority=St.priority+(xt>0?1:0),St.subscribers.push({ref:pt,priority:xt,store:vt}),St.subscribers=St.subscribers.sort((wt,Mt)=>wt.priority-Mt.priority),()=>{const wt=ot().internal;wt!=null&&wt.subscribers&&(wt.priority=wt.priority-(xt>0?1:0),wt.subscribers=wt.subscribers.filter(Mt=>Mt.ref!==pt))}}}}}),nt=tt.getState();let rt=nt.size,it=nt.viewport.dpr,st=nt.camera;return tt.subscribe(()=>{const{camera:at,size:ot,viewport:lt,gl:ct,set:dt}=tt.getState();if(ot.width!==rt.width||ot.height!==rt.height||lt.dpr!==it){var ht;rt=ot,it=lt.dpr,updateCamera(at,ot),ct.setPixelRatio(lt.dpr);const mt=(ht=ot.updateStyle)!=null?ht:typeof HTMLCanvasElement<"u"&&ct.domElement instanceof HTMLCanvasElement;ct.setSize(ot.width,ot.height,mt)}at!==st&&(st=at,dt(mt=>({viewport:{...mt.viewport,...mt.viewport.getCurrentViewport(at)}})))}),tt.subscribe(at=>et(at)),tt};let i$1,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(et,c){if(et.size)for(const{callback:tt}of et.values())tt(c)}function flushGlobalEffects(et,c){switch(et){case"before":return run(globalEffects,c);case"after":return run(globalAfterEffects,c);case"tail":return run(globalTailEffects,c)}}let subscribers,subscription;function render$1(et,c,tt){let nt=c.clock.getDelta();for(c.frameloop==="never"&&typeof et=="number"&&(nt=et-c.clock.elapsedTime,c.clock.oldTime=c.clock.elapsedTime,c.clock.elapsedTime=et),subscribers=c.internal.subscribers,i$1=0;i$1<subscribers.length;i$1++)subscription=subscribers[i$1],subscription.ref.current(subscription.store.getState(),nt,tt);return!c.internal.priority&&c.gl.render&&c.gl.render(c.scene,c.camera),c.internal.frames=Math.max(0,c.internal.frames-1),c.frameloop==="always"?1:c.internal.frames}function createLoop(et){let c=!1,tt=!1,nt,rt,it;function st(lt){rt=requestAnimationFrame(st),c=!0,nt=0,flushGlobalEffects("before",lt),tt=!0;for(const dt of et.values()){var ct;it=dt.store.getState(),it.internal.active&&(it.frameloop==="always"||it.internal.frames>0)&&!((ct=it.gl.xr)!=null&&ct.isPresenting)&&(nt+=render$1(lt,it))}if(tt=!1,flushGlobalEffects("after",lt),nt===0)return flushGlobalEffects("tail",lt),c=!1,cancelAnimationFrame(rt)}function at(lt,ct=1){var dt;if(!lt)return et.forEach(ht=>at(ht.store.getState(),ct));(dt=lt.gl.xr)!=null&&dt.isPresenting||!lt.internal.active||lt.frameloop==="never"||(ct>1?lt.internal.frames=Math.min(60,lt.internal.frames+ct):tt?lt.internal.frames=2:lt.internal.frames=1,c||(c=!0,requestAnimationFrame(st)))}function ot(lt,ct=!0,dt,ht){if(ct&&flushGlobalEffects("before",lt),dt)render$1(lt,dt,ht);else for(const mt of et.values())render$1(lt,mt.store.getState());ct&&flushGlobalEffects("after",lt)}return{loop:st,invalidate:at,advance:ot}}function useStore(){const et=reactExports.useContext(context);if(!et)throw new Error("R3F: Hooks can only be used within the Canvas component!");return et}function useThree(et=tt=>tt,c){return useStore()(et,c)}function useFrame(et,c=0){const tt=useStore(),nt=tt.getState().internal.subscribe,rt=useMutableCallback(et);return useIsomorphicLayoutEffect(()=>nt(rt,c,tt),[c,nt,tt]),null}const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(et,c)=>{const tt=typeof et=="function"?et(c):et;return isRenderer(tt)?tt:new WebGLRenderer({powerPreference:"high-performance",canvas:c,antialias:!0,alpha:!0,...et})};function computeInitialSize(et,c){const tt=typeof HTMLCanvasElement<"u"&&et instanceof HTMLCanvasElement;if(c){const{width:nt,height:rt,top:it,left:st,updateStyle:at=tt}=c;return{width:nt,height:rt,top:it,left:st,updateStyle:at}}else if(typeof HTMLCanvasElement<"u"&&et instanceof HTMLCanvasElement&&et.parentElement){const{width:nt,height:rt,top:it,left:st}=et.parentElement.getBoundingClientRect();return{width:nt,height:rt,top:it,left:st,updateStyle:tt}}else if(typeof OffscreenCanvas<"u"&&et instanceof OffscreenCanvas)return{width:et.width,height:et.height,top:0,left:0,updateStyle:tt};return{width:0,height:0,top:0,left:0}}function createRoot(et){const c=roots.get(et),tt=c==null?void 0:c.fiber,nt=c==null?void 0:c.store;c&&console.warn("R3F.createRoot should only be called once!");const rt=typeof reportError=="function"?reportError:console.error,it=nt||createStore(invalidate,advance),st=tt||reconciler.createContainer(it,constantsExports.ConcurrentRoot,null,!1,null,"",rt,null);c||roots.set(et,{fiber:st,store:it});let at,ot=!1,lt;return{configure(ct={}){let{gl:dt,size:ht,scene:mt,events:gt,onCreated:yt,shadows:_t=!1,linear:pt=!1,flat:xt=!1,legacy:vt=!1,orthographic:St=!1,frameloop:wt="always",dpr:Mt=[1,2],performance:Ct,raycaster:Rt,camera:Lt,onPointerMissed:It}=ct,Nt=it.getState(),zt=Nt.gl;Nt.gl||Nt.set({gl:zt=createRendererInstance(dt,et)});let Wt=Nt.raycaster;Wt||Nt.set({raycaster:Wt=new Raycaster});const{params:Yt,...Xt}=Rt||{};if(is.equ(Xt,Wt,shallowLoose)||applyProps(Wt,{...Xt}),is.equ(Yt,Wt.params,shallowLoose)||applyProps(Wt,{params:{...Wt.params,...Yt}}),!Nt.camera||Nt.camera===lt&&!is.equ(lt,Lt,shallowLoose)){lt=Lt;const Ot=Lt instanceof Camera,Bt=Ot?Lt:St?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);Ot||(Bt.position.z=5,Lt&&(applyProps(Bt,Lt),("aspect"in Lt||"left"in Lt||"right"in Lt||"bottom"in Lt||"top"in Lt)&&(Bt.manual=!0,Bt.updateProjectionMatrix())),!Nt.camera&&!(Lt!=null&&Lt.rotation)&&Bt.lookAt(0,0,0)),Nt.set({camera:Bt}),Wt.camera=Bt}if(!Nt.scene){let Ot;mt!=null&&mt.isScene?Ot=mt:(Ot=new Scene,mt&&applyProps(Ot,mt)),Nt.set({scene:prepare(Ot)})}if(!Nt.xr){var Ft;const Ot=(an,Kt)=>{const ln=it.getState();ln.frameloop!=="never"&&advance(an,!0,ln,Kt)},Bt=()=>{const an=it.getState();an.gl.xr.enabled=an.gl.xr.isPresenting,an.gl.xr.setAnimationLoop(an.gl.xr.isPresenting?Ot:null),an.gl.xr.isPresenting||invalidate(an)},Qt={connect(){const an=it.getState().gl;an.xr.addEventListener("sessionstart",Bt),an.xr.addEventListener("sessionend",Bt)},disconnect(){const an=it.getState().gl;an.xr.removeEventListener("sessionstart",Bt),an.xr.removeEventListener("sessionend",Bt)}};typeof((Ft=zt.xr)==null?void 0:Ft.addEventListener)=="function"&&Qt.connect(),Nt.set({xr:Qt})}if(zt.shadowMap){const Ot=zt.shadowMap.enabled,Bt=zt.shadowMap.type;if(zt.shadowMap.enabled=!!_t,is.boo(_t))zt.shadowMap.type=PCFSoftShadowMap;else if(is.str(_t)){var Ut;const Qt={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};zt.shadowMap.type=(Ut=Qt[_t])!=null?Ut:PCFSoftShadowMap}else is.obj(_t)&&Object.assign(zt.shadowMap,_t);(Ot!==zt.shadowMap.enabled||Bt!==zt.shadowMap.type)&&(zt.shadowMap.needsUpdate=!0)}const At=getColorManagement();At&&("enabled"in At?At.enabled=!vt:"legacyMode"in At&&(At.legacyMode=vt)),ot||applyProps(zt,{outputEncoding:pt?3e3:3001,toneMapping:xt?NoToneMapping:ACESFilmicToneMapping}),Nt.legacy!==vt&&Nt.set(()=>({legacy:vt})),Nt.linear!==pt&&Nt.set(()=>({linear:pt})),Nt.flat!==xt&&Nt.set(()=>({flat:xt})),dt&&!is.fun(dt)&&!isRenderer(dt)&&!is.equ(dt,zt,shallowLoose)&&applyProps(zt,dt),gt&&!Nt.events.handlers&&Nt.set({events:gt(it)});const kt=computeInitialSize(et,ht);return is.equ(kt,Nt.size,shallowLoose)||Nt.setSize(kt.width,kt.height,kt.updateStyle,kt.top,kt.left),Mt&&Nt.viewport.dpr!==calculateDpr(Mt)&&Nt.setDpr(Mt),Nt.frameloop!==wt&&Nt.setFrameloop(wt),Nt.onPointerMissed||Nt.set({onPointerMissed:It}),Ct&&!is.equ(Ct,Nt.performance,shallowLoose)&&Nt.set(Ot=>({performance:{...Ot.performance,...Ct}})),at=yt,ot=!0,this},render(ct){return ot||this.configure(),reconciler.updateContainer(jsxRuntimeExports.jsx(Provider,{store:it,children:ct,onCreated:at,rootElement:et}),st,null,()=>{}),it},unmount(){unmountComponentAtNode(et)}}}function Provider({store:et,children:c,onCreated:tt,rootElement:nt}){return useIsomorphicLayoutEffect(()=>{const rt=et.getState();rt.set(it=>({internal:{...it.internal,active:!0}})),tt&&tt(rt),et.getState().events.connected||rt.events.connect==null||rt.events.connect(nt)},[]),jsxRuntimeExports.jsx(context.Provider,{value:et,children:c})}function unmountComponentAtNode(et,c){const tt=roots.get(et),nt=tt==null?void 0:tt.fiber;if(nt){const rt=tt==null?void 0:tt.store.getState();rt&&(rt.internal.active=!1),reconciler.updateContainer(null,nt,null,()=>{rt&&setTimeout(()=>{try{var it,st,at,ot;rt.events.disconnect==null||rt.events.disconnect(),(it=rt.gl)==null||(st=it.renderLists)==null||st.dispose==null||st.dispose(),(at=rt.gl)==null||at.forceContextLoss==null||at.forceContextLoss(),(ot=rt.gl)!=null&&ot.xr&&rt.xr.disconnect(),dispose(rt),roots.delete(et)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(et){const{handlePointer:c}=createEvents(et);return{priority:1,enabled:!0,compute(tt,nt,rt){nt.pointer.set(tt.offsetX/nt.size.width*2-1,-(tt.offsetY/nt.size.height)*2+1),nt.raycaster.setFromCamera(nt.pointer,nt.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((tt,nt)=>({...tt,[nt]:c(nt)}),{}),update:()=>{var tt;const{events:nt,internal:rt}=et.getState();(tt=rt.lastEvent)!=null&&tt.current&&nt.handlers&&nt.handlers.onPointerMove(rt.lastEvent.current)},connect:tt=>{var nt;const{set:rt,events:it}=et.getState();it.disconnect==null||it.disconnect(),rt(st=>({events:{...st.events,connected:tt}})),Object.entries((nt=it.handlers)!=null?nt:[]).forEach(([st,at])=>{const[ot,lt]=DOM_EVENTS[st];tt.addEventListener(ot,at,{passive:lt})})},disconnect:()=>{const{set:tt,events:nt}=et.getState();if(nt.connected){var rt;Object.entries((rt=nt.handlers)!=null?rt:[]).forEach(([it,st])=>{if(nt&&nt.connected instanceof HTMLElement){const[at]=DOM_EVENTS[it];nt.connected.removeEventListener(at,st)}}),tt(it=>({events:{...it.events,connected:void 0}}))}}}}function g$1(et,c){let tt;return(...nt)=>{window.clearTimeout(tt),tt=window.setTimeout(()=>et(...nt),c)}}function j({debounce:et,scroll:c,polyfill:tt,offsetSize:nt}={debounce:0,scroll:!1,offsetSize:!1}){const rt=tt||(typeof window>"u"?class{}:window.ResizeObserver);if(!rt)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[it,st]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),at=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:it,orientationHandler:null}),ot=et?typeof et=="number"?et:et.scroll:null,lt=et?typeof et=="number"?et:et.resize:null,ct=reactExports.useRef(!1);reactExports.useEffect(()=>(ct.current=!0,()=>void(ct.current=!1)));const[dt,ht,mt]=reactExports.useMemo(()=>{const pt=()=>{if(!at.current.element)return;const{left:xt,top:vt,width:St,height:wt,bottom:Mt,right:Ct,x:Rt,y:Lt}=at.current.element.getBoundingClientRect(),It={left:xt,top:vt,width:St,height:wt,bottom:Mt,right:Ct,x:Rt,y:Lt};at.current.element instanceof HTMLElement&&nt&&(It.height=at.current.element.offsetHeight,It.width=at.current.element.offsetWidth),Object.freeze(It),ct.current&&!D(at.current.lastBounds,It)&&st(at.current.lastBounds=It)};return[pt,lt?g$1(pt,lt):pt,ot?g$1(pt,ot):pt]},[st,nt,ot,lt]);function gt(){at.current.scrollContainers&&(at.current.scrollContainers.forEach(pt=>pt.removeEventListener("scroll",mt,!0)),at.current.scrollContainers=null),at.current.resizeObserver&&(at.current.resizeObserver.disconnect(),at.current.resizeObserver=null),at.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",at.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",at.current.orientationHandler))}function yt(){at.current.element&&(at.current.resizeObserver=new rt(mt),at.current.resizeObserver.observe(at.current.element),c&&at.current.scrollContainers&&at.current.scrollContainers.forEach(pt=>pt.addEventListener("scroll",mt,{capture:!0,passive:!0})),at.current.orientationHandler=()=>{mt()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",at.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",at.current.orientationHandler))}const _t=pt=>{!pt||pt===at.current.element||(gt(),at.current.element=pt,at.current.scrollContainers=E$1(pt),yt())};return X(mt,!!c),W(ht),reactExports.useEffect(()=>{gt(),yt()},[c,mt,ht]),reactExports.useEffect(()=>gt,[]),[_t,it,dt]}function W(et){reactExports.useEffect(()=>{const c=et;return window.addEventListener("resize",c),()=>void window.removeEventListener("resize",c)},[et])}function X(et,c){reactExports.useEffect(()=>{if(c){const tt=et;return window.addEventListener("scroll",tt,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",tt,!0)}},[et,c])}function E$1(et){const c=[];if(!et||et===document.body)return c;const{overflow:tt,overflowX:nt,overflowY:rt}=window.getComputedStyle(et);return[tt,nt,rt].some(it=>it==="auto"||it==="scroll")&&c.push(et),[...c,...E$1(et.parentElement)]}const k=["x","y","top","bottom","left","right","width","height"],D=(et,c)=>k.every(tt=>et[tt]===c[tt]);var __defProp$2=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(et,c,tt)=>c in et?__defProp$2(et,c,{enumerable:!0,configurable:!0,writable:!0,value:tt}):et[c]=tt,__spreadValues=(et,c)=>{for(var tt in c||(c={}))__hasOwnProp.call(c,tt)&&__defNormalProp$2(et,tt,c[tt]);if(__getOwnPropSymbols)for(var tt of __getOwnPropSymbols(c))__propIsEnum.call(c,tt)&&__defNormalProp$2(et,tt,c[tt]);return et},__spreadProps=(et,c)=>__defProps(et,__getOwnPropDescs(c)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(et,c,tt){if(!et)return;if(tt(et)===!0)return et;let nt=et.child;for(;nt;){const rt=traverseFiber(nt,c,tt);if(rt)return rt;nt=nt.sibling}}function wrapContext(et){try{return Object.defineProperties(et,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return et}}const error=console.error;console.error=function(){const et=[...arguments].join("");if(et!=null&&et.startsWith("Warning:")&&et.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const et=reactExports.useContext(FiberContext);if(et===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const c=reactExports.useId();return reactExports.useMemo(()=>{for(const nt of[et,et==null?void 0:et.alternate]){if(!nt)continue;const rt=traverseFiber(nt,!1,it=>{let st=it.memoizedState;for(;st;){if(st.memoizedState===c)return!0;st=st.next}});if(rt)return rt}},[et,c])}function useContextMap(){const et=useFiber(),[c]=reactExports.useState(()=>new Map);c.clear();let tt=et;for(;tt;){if(tt.type&&typeof tt.type=="object"){const rt=tt.type._context===void 0&&tt.type.Provider===tt.type?tt.type:tt.type._context;rt&&rt!==FiberContext&&!c.has(rt)&&c.set(rt,reactExports.useContext(wrapContext(rt)))}tt=tt.return}return c}function useContextBridge(){const et=useContextMap();return reactExports.useMemo(()=>Array.from(et.keys()).reduce((c,tt)=>nt=>reactExports.createElement(c,null,reactExports.createElement(tt.Provider,__spreadProps(__spreadValues({},nt),{value:et.get(tt)}))),c=>reactExports.createElement(FiberProvider,__spreadValues({},c))),[et])}const CanvasImpl=reactExports.forwardRef(function({children:c,fallback:tt,resize:nt,style:rt,gl:it,events:st=createPointerEvents,eventSource:at,eventPrefix:ot,shadows:lt,linear:ct,flat:dt,legacy:ht,orthographic:mt,frameloop:gt,dpr:yt,performance:_t,raycaster:pt,camera:xt,scene:vt,onPointerMissed:St,onCreated:wt,...Mt},Ct){reactExports.useMemo(()=>extend(THREE),[]);const Rt=useContextBridge(),[Lt,It]=j({scroll:!0,debounce:{scroll:50,resize:0},...nt}),Nt=reactExports.useRef(null),zt=reactExports.useRef(null);reactExports.useImperativeHandle(Ct,()=>Nt.current);const Wt=useMutableCallback(St),[Yt,Xt]=reactExports.useState(!1),[Ft,Ut]=reactExports.useState(!1);if(Yt)throw Yt;if(Ft)throw Ft;const At=reactExports.useRef(null);useIsomorphicLayoutEffect(()=>{const Ot=Nt.current;It.width>0&&It.height>0&&Ot&&(At.current||(At.current=createRoot(Ot)),At.current.configure({gl:it,events:st,shadows:lt,linear:ct,flat:dt,legacy:ht,orthographic:mt,frameloop:gt,dpr:yt,performance:_t,raycaster:pt,camera:xt,scene:vt,size:It,onPointerMissed:(...Bt)=>Wt.current==null?void 0:Wt.current(...Bt),onCreated:Bt=>{Bt.events.connect==null||Bt.events.connect(at?isRef(at)?at.current:at:zt.current),ot&&Bt.setEvents({compute:(Qt,an)=>{const Kt=Qt[ot+"X"],ln=Qt[ot+"Y"];an.pointer.set(Kt/an.size.width*2-1,-(ln/an.size.height)*2+1),an.raycaster.setFromCamera(an.pointer,an.camera)}}),wt==null||wt(Bt)}}),At.current.render(jsxRuntimeExports.jsx(Rt,{children:jsxRuntimeExports.jsx(ErrorBoundary,{set:Ut,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Block,{set:Xt}),children:c??null})})})))}),reactExports.useEffect(()=>{const Ot=Nt.current;if(Ot)return()=>unmountComponentAtNode(Ot)},[]);const kt=at?"none":"auto";return jsxRuntimeExports.jsx("div",{ref:zt,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:kt,...rt},...Mt,children:jsxRuntimeExports.jsx("div",{ref:Lt,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx("canvas",{ref:Nt,style:{display:"block"},children:tt})})})}),Canvas=reactExports.forwardRef(function(c,tt){return jsxRuntimeExports.jsx(FiberProvider,{children:jsxRuntimeExports.jsx(CanvasImpl,{...c,ref:tt})})});function _extends(){return _extends=Object.assign?Object.assign.bind():function(et){for(var c=1;c<arguments.length;c++){var tt=arguments[c];for(var nt in tt)({}).hasOwnProperty.call(tt,nt)&&(et[nt]=tt[nt])}return et},_extends.apply(null,arguments)}var __defProp$1=Object.defineProperty,__defNormalProp$1=(et,c,tt)=>c in et?__defProp$1(et,c,{enumerable:!0,configurable:!0,writable:!0,value:tt}):et[c]=tt,__publicField$1=(et,c,tt)=>(__defNormalProp$1(et,c+"",tt),tt);class EventDispatcher{constructor(){__publicField$1(this,"_listeners")}addEventListener(c,tt){this._listeners===void 0&&(this._listeners={});const nt=this._listeners;nt[c]===void 0&&(nt[c]=[]),nt[c].indexOf(tt)===-1&&nt[c].push(tt)}hasEventListener(c,tt){if(this._listeners===void 0)return!1;const nt=this._listeners;return nt[c]!==void 0&&nt[c].indexOf(tt)!==-1}removeEventListener(c,tt){if(this._listeners===void 0)return;const rt=this._listeners[c];if(rt!==void 0){const it=rt.indexOf(tt);it!==-1&&rt.splice(it,1)}}dispatchEvent(c){if(this._listeners===void 0)return;const nt=this._listeners[c.type];if(nt!==void 0){c.target=this;const rt=nt.slice(0);for(let it=0,st=rt.length;it<st;it++)rt[it].call(this,c);c.target=null}}}var __defProp=Object.defineProperty,__defNormalProp=(et,c,tt)=>c in et?__defProp(et,c,{enumerable:!0,configurable:!0,writable:!0,value:tt}):et[c]=tt,__publicField=(et,c,tt)=>(__defNormalProp(et,typeof c!="symbol"?c+"":c,tt),tt);const _ray=new Ray,_plane=new Plane,TILT_LIMIT=Math.cos(70*(Math.PI/180)),moduloWrapAround=(et,c)=>(et%c+c)%c;let OrbitControls$1=class extends EventDispatcher{constructor(c,tt){super(),__publicField(this,"object"),__publicField(this,"domElement"),__publicField(this,"enabled",!0),__publicField(this,"target",new Vector3),__publicField(this,"minDistance",0),__publicField(this,"maxDistance",1/0),__publicField(this,"minZoom",0),__publicField(this,"maxZoom",1/0),__publicField(this,"minPolarAngle",0),__publicField(this,"maxPolarAngle",Math.PI),__publicField(this,"minAzimuthAngle",-1/0),__publicField(this,"maxAzimuthAngle",1/0),__publicField(this,"enableDamping",!1),__publicField(this,"dampingFactor",.05),__publicField(this,"enableZoom",!0),__publicField(this,"zoomSpeed",1),__publicField(this,"enableRotate",!0),__publicField(this,"rotateSpeed",1),__publicField(this,"enablePan",!0),__publicField(this,"panSpeed",1),__publicField(this,"screenSpacePanning",!0),__publicField(this,"keyPanSpeed",7),__publicField(this,"zoomToCursor",!1),__publicField(this,"autoRotate",!1),__publicField(this,"autoRotateSpeed",2),__publicField(this,"reverseOrbit",!1),__publicField(this,"reverseHorizontalOrbit",!1),__publicField(this,"reverseVerticalOrbit",!1),__publicField(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField(this,"target0"),__publicField(this,"position0"),__publicField(this,"zoom0"),__publicField(this,"_domElementKeyEvents",null),__publicField(this,"getPolarAngle"),__publicField(this,"getAzimuthalAngle"),__publicField(this,"setPolarAngle"),__publicField(this,"setAzimuthalAngle"),__publicField(this,"getDistance"),__publicField(this,"getZoomScale"),__publicField(this,"listenToKeyEvents"),__publicField(this,"stopListenToKeyEvents"),__publicField(this,"saveState"),__publicField(this,"reset"),__publicField(this,"update"),__publicField(this,"connect"),__publicField(this,"dispose"),__publicField(this,"dollyIn"),__publicField(this,"dollyOut"),__publicField(this,"getScale"),__publicField(this,"setScale"),this.object=c,this.domElement=tt,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>ct.phi,this.getAzimuthalAngle=()=>ct.theta,this.setPolarAngle=Zt=>{let bn=moduloWrapAround(Zt,2*Math.PI),qt=ct.phi;qt<0&&(qt+=2*Math.PI),bn<0&&(bn+=2*Math.PI);let yn=Math.abs(bn-qt);2*Math.PI-yn<yn&&(bn<qt?bn+=2*Math.PI:qt+=2*Math.PI),dt.phi=bn-qt,nt.update()},this.setAzimuthalAngle=Zt=>{let bn=moduloWrapAround(Zt,2*Math.PI),qt=ct.theta;qt<0&&(qt+=2*Math.PI),bn<0&&(bn+=2*Math.PI);let yn=Math.abs(bn-qt);2*Math.PI-yn<yn&&(bn<qt?bn+=2*Math.PI:qt+=2*Math.PI),dt.theta=bn-qt,nt.update()},this.getDistance=()=>nt.object.position.distanceTo(nt.target),this.listenToKeyEvents=Zt=>{Zt.addEventListener("keydown",kn),this._domElementKeyEvents=Zt},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",kn),this._domElementKeyEvents=null},this.saveState=()=>{nt.target0.copy(nt.target),nt.position0.copy(nt.object.position),nt.zoom0=nt.object.zoom},this.reset=()=>{nt.target.copy(nt.target0),nt.object.position.copy(nt.position0),nt.object.zoom=nt.zoom0,nt.object.updateProjectionMatrix(),nt.dispatchEvent(rt),nt.update(),ot=at.NONE},this.update=(()=>{const Zt=new Vector3,bn=new Vector3(0,1,0),qt=new Quaternion().setFromUnitVectors(c.up,bn),yn=qt.clone().invert(),dn=new Vector3,xn=new Quaternion,Mn=2*Math.PI;return function(){const cr=nt.object.position;qt.setFromUnitVectors(c.up,bn),yn.copy(qt).invert(),Zt.copy(cr).sub(nt.target),Zt.applyQuaternion(qt),ct.setFromVector3(Zt),nt.autoRotate&&ot===at.NONE&&Yt(zt()),nt.enableDamping?(ct.theta+=dt.theta*nt.dampingFactor,ct.phi+=dt.phi*nt.dampingFactor):(ct.theta+=dt.theta,ct.phi+=dt.phi);let pr=nt.minAzimuthAngle,xr=nt.maxAzimuthAngle;isFinite(pr)&&isFinite(xr)&&(pr<-Math.PI?pr+=Mn:pr>Math.PI&&(pr-=Mn),xr<-Math.PI?xr+=Mn:xr>Math.PI&&(xr-=Mn),pr<=xr?ct.theta=Math.max(pr,Math.min(xr,ct.theta)):ct.theta=ct.theta>(pr+xr)/2?Math.max(pr,ct.theta):Math.min(xr,ct.theta)),ct.phi=Math.max(nt.minPolarAngle,Math.min(nt.maxPolarAngle,ct.phi)),ct.makeSafe(),nt.enableDamping===!0?nt.target.addScaledVector(mt,nt.dampingFactor):nt.target.add(mt),nt.zoomToCursor&&Lt||nt.object.isOrthographicCamera?ct.radius=an(ct.radius):ct.radius=an(ct.radius*ht),Zt.setFromSpherical(ct),Zt.applyQuaternion(yn),cr.copy(nt.target).add(Zt),nt.object.matrixAutoUpdate||nt.object.updateMatrix(),nt.object.lookAt(nt.target),nt.enableDamping===!0?(dt.theta*=1-nt.dampingFactor,dt.phi*=1-nt.dampingFactor,mt.multiplyScalar(1-nt.dampingFactor)):(dt.set(0,0,0),mt.set(0,0,0));let ur=!1;if(nt.zoomToCursor&&Lt){let Nr=null;if(nt.object instanceof PerspectiveCamera&&nt.object.isPerspectiveCamera){const Dr=Zt.length();Nr=an(Dr*ht);const Es=Dr-Nr;nt.object.position.addScaledVector(Ct,Es),nt.object.updateMatrixWorld()}else if(nt.object.isOrthographicCamera){const Dr=new Vector3(Rt.x,Rt.y,0);Dr.unproject(nt.object),nt.object.zoom=Math.max(nt.minZoom,Math.min(nt.maxZoom,nt.object.zoom/ht)),nt.object.updateProjectionMatrix(),ur=!0;const Es=new Vector3(Rt.x,Rt.y,0);Es.unproject(nt.object),nt.object.position.sub(Es).add(Dr),nt.object.updateMatrixWorld(),Nr=Zt.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),nt.zoomToCursor=!1;Nr!==null&&(nt.screenSpacePanning?nt.target.set(0,0,-1).transformDirection(nt.object.matrix).multiplyScalar(Nr).add(nt.object.position):(_ray.origin.copy(nt.object.position),_ray.direction.set(0,0,-1).transformDirection(nt.object.matrix),Math.abs(nt.object.up.dot(_ray.direction))<TILT_LIMIT?c.lookAt(nt.target):(_plane.setFromNormalAndCoplanarPoint(nt.object.up,nt.target),_ray.intersectPlane(_plane,nt.target))))}else nt.object instanceof OrthographicCamera&&nt.object.isOrthographicCamera&&(ur=ht!==1,ur&&(nt.object.zoom=Math.max(nt.minZoom,Math.min(nt.maxZoom,nt.object.zoom/ht)),nt.object.updateProjectionMatrix()));return ht=1,Lt=!1,ur||dn.distanceToSquared(nt.object.position)>lt||8*(1-xn.dot(nt.object.quaternion))>lt?(nt.dispatchEvent(rt),dn.copy(nt.object.position),xn.copy(nt.object.quaternion),ur=!1,!0):!1}})(),this.connect=Zt=>{nt.domElement=Zt,nt.domElement.style.touchAction="none",nt.domElement.addEventListener("contextmenu",Fn),nt.domElement.addEventListener("pointerdown",sn),nt.domElement.addEventListener("pointercancel",gn),nt.domElement.addEventListener("wheel",An)},this.dispose=()=>{var Zt,bn,qt,yn,dn,xn;nt.domElement&&(nt.domElement.style.touchAction="auto"),(Zt=nt.domElement)==null||Zt.removeEventListener("contextmenu",Fn),(bn=nt.domElement)==null||bn.removeEventListener("pointerdown",sn),(qt=nt.domElement)==null||qt.removeEventListener("pointercancel",gn),(yn=nt.domElement)==null||yn.removeEventListener("wheel",An),(dn=nt.domElement)==null||dn.ownerDocument.removeEventListener("pointermove",Sn),(xn=nt.domElement)==null||xn.ownerDocument.removeEventListener("pointerup",gn),nt._domElementKeyEvents!==null&&nt._domElementKeyEvents.removeEventListener("keydown",kn)};const nt=this,rt={type:"change"},it={type:"start"},st={type:"end"},at={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let ot=at.NONE;const lt=1e-6,ct=new Spherical,dt=new Spherical;let ht=1;const mt=new Vector3,gt=new Vector2,yt=new Vector2,_t=new Vector2,pt=new Vector2,xt=new Vector2,vt=new Vector2,St=new Vector2,wt=new Vector2,Mt=new Vector2,Ct=new Vector3,Rt=new Vector2;let Lt=!1;const It=[],Nt={};function zt(){return 2*Math.PI/60/60*nt.autoRotateSpeed}function Wt(){return Math.pow(.95,nt.zoomSpeed)}function Yt(Zt){nt.reverseOrbit||nt.reverseHorizontalOrbit?dt.theta+=Zt:dt.theta-=Zt}function Xt(Zt){nt.reverseOrbit||nt.reverseVerticalOrbit?dt.phi+=Zt:dt.phi-=Zt}const Ft=(()=>{const Zt=new Vector3;return function(qt,yn){Zt.setFromMatrixColumn(yn,0),Zt.multiplyScalar(-qt),mt.add(Zt)}})(),Ut=(()=>{const Zt=new Vector3;return function(qt,yn){nt.screenSpacePanning===!0?Zt.setFromMatrixColumn(yn,1):(Zt.setFromMatrixColumn(yn,0),Zt.crossVectors(nt.object.up,Zt)),Zt.multiplyScalar(qt),mt.add(Zt)}})(),At=(()=>{const Zt=new Vector3;return function(qt,yn){const dn=nt.domElement;if(dn&&nt.object instanceof PerspectiveCamera&&nt.object.isPerspectiveCamera){const xn=nt.object.position;Zt.copy(xn).sub(nt.target);let Mn=Zt.length();Mn*=Math.tan(nt.object.fov/2*Math.PI/180),Ft(2*qt*Mn/dn.clientHeight,nt.object.matrix),Ut(2*yn*Mn/dn.clientHeight,nt.object.matrix)}else dn&&nt.object instanceof OrthographicCamera&&nt.object.isOrthographicCamera?(Ft(qt*(nt.object.right-nt.object.left)/nt.object.zoom/dn.clientWidth,nt.object.matrix),Ut(yn*(nt.object.top-nt.object.bottom)/nt.object.zoom/dn.clientHeight,nt.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),nt.enablePan=!1)}})();function kt(Zt){nt.object instanceof PerspectiveCamera&&nt.object.isPerspectiveCamera||nt.object instanceof OrthographicCamera&&nt.object.isOrthographicCamera?ht=Zt:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),nt.enableZoom=!1)}function Ot(Zt){kt(ht/Zt)}function Bt(Zt){kt(ht*Zt)}function Qt(Zt){if(!nt.zoomToCursor||!nt.domElement)return;Lt=!0;const bn=nt.domElement.getBoundingClientRect(),qt=Zt.clientX-bn.left,yn=Zt.clientY-bn.top,dn=bn.width,xn=bn.height;Rt.x=qt/dn*2-1,Rt.y=-(yn/xn)*2+1,Ct.set(Rt.x,Rt.y,1).unproject(nt.object).sub(nt.object.position).normalize()}function an(Zt){return Math.max(nt.minDistance,Math.min(nt.maxDistance,Zt))}function Kt(Zt){gt.set(Zt.clientX,Zt.clientY)}function ln(Zt){Qt(Zt),St.set(Zt.clientX,Zt.clientY)}function vn(Zt){pt.set(Zt.clientX,Zt.clientY)}function En(Zt){yt.set(Zt.clientX,Zt.clientY),_t.subVectors(yt,gt).multiplyScalar(nt.rotateSpeed);const bn=nt.domElement;bn&&(Yt(2*Math.PI*_t.x/bn.clientHeight),Xt(2*Math.PI*_t.y/bn.clientHeight)),gt.copy(yt),nt.update()}function jn(Zt){wt.set(Zt.clientX,Zt.clientY),Mt.subVectors(wt,St),Mt.y>0?Ot(Wt()):Mt.y<0&&Bt(Wt()),St.copy(wt),nt.update()}function qn(Zt){xt.set(Zt.clientX,Zt.clientY),vt.subVectors(xt,pt).multiplyScalar(nt.panSpeed),At(vt.x,vt.y),pt.copy(xt),nt.update()}function Vn(Zt){Qt(Zt),Zt.deltaY<0?Bt(Wt()):Zt.deltaY>0&&Ot(Wt()),nt.update()}function Gn(Zt){let bn=!1;switch(Zt.code){case nt.keys.UP:At(0,nt.keyPanSpeed),bn=!0;break;case nt.keys.BOTTOM:At(0,-nt.keyPanSpeed),bn=!0;break;case nt.keys.LEFT:At(nt.keyPanSpeed,0),bn=!0;break;case nt.keys.RIGHT:At(-nt.keyPanSpeed,0),bn=!0;break}bn&&(Zt.preventDefault(),nt.update())}function $t(){if(It.length==1)gt.set(It[0].pageX,It[0].pageY);else{const Zt=.5*(It[0].pageX+It[1].pageX),bn=.5*(It[0].pageY+It[1].pageY);gt.set(Zt,bn)}}function fn(){if(It.length==1)pt.set(It[0].pageX,It[0].pageY);else{const Zt=.5*(It[0].pageX+It[1].pageX),bn=.5*(It[0].pageY+It[1].pageY);pt.set(Zt,bn)}}function rn(){const Zt=It[0].pageX-It[1].pageX,bn=It[0].pageY-It[1].pageY,qt=Math.sqrt(Zt*Zt+bn*bn);St.set(0,qt)}function Pn(){nt.enableZoom&&rn(),nt.enablePan&&fn()}function mn(){nt.enableZoom&&rn(),nt.enableRotate&&$t()}function zn(Zt){if(It.length==1)yt.set(Zt.pageX,Zt.pageY);else{const qt=ir(Zt),yn=.5*(Zt.pageX+qt.x),dn=.5*(Zt.pageY+qt.y);yt.set(yn,dn)}_t.subVectors(yt,gt).multiplyScalar(nt.rotateSpeed);const bn=nt.domElement;bn&&(Yt(2*Math.PI*_t.x/bn.clientHeight),Xt(2*Math.PI*_t.y/bn.clientHeight)),gt.copy(yt)}function Tn(Zt){if(It.length==1)xt.set(Zt.pageX,Zt.pageY);else{const bn=ir(Zt),qt=.5*(Zt.pageX+bn.x),yn=.5*(Zt.pageY+bn.y);xt.set(qt,yn)}vt.subVectors(xt,pt).multiplyScalar(nt.panSpeed),At(vt.x,vt.y),pt.copy(xt)}function Ln(Zt){const bn=ir(Zt),qt=Zt.pageX-bn.x,yn=Zt.pageY-bn.y,dn=Math.sqrt(qt*qt+yn*yn);wt.set(0,dn),Mt.set(0,Math.pow(wt.y/St.y,nt.zoomSpeed)),Ot(Mt.y),St.copy(wt)}function Gt(Zt){nt.enableZoom&&Ln(Zt),nt.enablePan&&Tn(Zt)}function Vt(Zt){nt.enableZoom&&Ln(Zt),nt.enableRotate&&zn(Zt)}function sn(Zt){var bn,qt;nt.enabled!==!1&&(It.length===0&&((bn=nt.domElement)==null||bn.ownerDocument.addEventListener("pointermove",Sn),(qt=nt.domElement)==null||qt.ownerDocument.addEventListener("pointerup",gn)),dr(Zt),Zt.pointerType==="touch"?er(Zt):_n(Zt))}function Sn(Zt){nt.enabled!==!1&&(Zt.pointerType==="touch"?wn(Zt):On(Zt))}function gn(Zt){var bn,qt,yn;rr(Zt),It.length===0&&((bn=nt.domElement)==null||bn.releasePointerCapture(Zt.pointerId),(qt=nt.domElement)==null||qt.ownerDocument.removeEventListener("pointermove",Sn),(yn=nt.domElement)==null||yn.ownerDocument.removeEventListener("pointerup",gn)),nt.dispatchEvent(st),ot=at.NONE}function _n(Zt){let bn;switch(Zt.button){case 0:bn=nt.mouseButtons.LEFT;break;case 1:bn=nt.mouseButtons.MIDDLE;break;case 2:bn=nt.mouseButtons.RIGHT;break;default:bn=-1}switch(bn){case MOUSE.DOLLY:if(nt.enableZoom===!1)return;ln(Zt),ot=at.DOLLY;break;case MOUSE.ROTATE:if(Zt.ctrlKey||Zt.metaKey||Zt.shiftKey){if(nt.enablePan===!1)return;vn(Zt),ot=at.PAN}else{if(nt.enableRotate===!1)return;Kt(Zt),ot=at.ROTATE}break;case MOUSE.PAN:if(Zt.ctrlKey||Zt.metaKey||Zt.shiftKey){if(nt.enableRotate===!1)return;Kt(Zt),ot=at.ROTATE}else{if(nt.enablePan===!1)return;vn(Zt),ot=at.PAN}break;default:ot=at.NONE}ot!==at.NONE&&nt.dispatchEvent(it)}function On(Zt){if(nt.enabled!==!1)switch(ot){case at.ROTATE:if(nt.enableRotate===!1)return;En(Zt);break;case at.DOLLY:if(nt.enableZoom===!1)return;jn(Zt);break;case at.PAN:if(nt.enablePan===!1)return;qn(Zt);break}}function An(Zt){nt.enabled===!1||nt.enableZoom===!1||ot!==at.NONE&&ot!==at.ROTATE||(Zt.preventDefault(),nt.dispatchEvent(it),Vn(Zt),nt.dispatchEvent(st))}function kn(Zt){nt.enabled===!1||nt.enablePan===!1||Gn(Zt)}function er(Zt){switch(Un(Zt),It.length){case 1:switch(nt.touches.ONE){case TOUCH.ROTATE:if(nt.enableRotate===!1)return;$t(),ot=at.TOUCH_ROTATE;break;case TOUCH.PAN:if(nt.enablePan===!1)return;fn(),ot=at.TOUCH_PAN;break;default:ot=at.NONE}break;case 2:switch(nt.touches.TWO){case TOUCH.DOLLY_PAN:if(nt.enableZoom===!1&&nt.enablePan===!1)return;Pn(),ot=at.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(nt.enableZoom===!1&&nt.enableRotate===!1)return;mn(),ot=at.TOUCH_DOLLY_ROTATE;break;default:ot=at.NONE}break;default:ot=at.NONE}ot!==at.NONE&&nt.dispatchEvent(it)}function wn(Zt){switch(Un(Zt),ot){case at.TOUCH_ROTATE:if(nt.enableRotate===!1)return;zn(Zt),nt.update();break;case at.TOUCH_PAN:if(nt.enablePan===!1)return;Tn(Zt),nt.update();break;case at.TOUCH_DOLLY_PAN:if(nt.enableZoom===!1&&nt.enablePan===!1)return;Gt(Zt),nt.update();break;case at.TOUCH_DOLLY_ROTATE:if(nt.enableZoom===!1&&nt.enableRotate===!1)return;Vt(Zt),nt.update();break;default:ot=at.NONE}}function Fn(Zt){nt.enabled!==!1&&Zt.preventDefault()}function dr(Zt){It.push(Zt)}function rr(Zt){delete Nt[Zt.pointerId];for(let bn=0;bn<It.length;bn++)if(It[bn].pointerId==Zt.pointerId){It.splice(bn,1);return}}function Un(Zt){let bn=Nt[Zt.pointerId];bn===void 0&&(bn=new Vector2,Nt[Zt.pointerId]=bn),bn.set(Zt.pageX,Zt.pageY)}function ir(Zt){const bn=Zt.pointerId===It[0].pointerId?It[1]:It[0];return Nt[bn.pointerId]}this.dollyIn=(Zt=Wt())=>{Bt(Zt),nt.update()},this.dollyOut=(Zt=Wt())=>{Ot(Zt),nt.update()},this.getScale=()=>ht,this.setScale=Zt=>{kt(Zt),nt.update()},this.getZoomScale=()=>Wt(),tt!==void 0&&this.connect(tt),this.update()}};const OrbitControls=reactExports.forwardRef(({makeDefault:et,camera:c,regress:tt,domElement:nt,enableDamping:rt=!0,keyEvents:it=!1,onChange:st,onStart:at,onEnd:ot,...lt},ct)=>{const dt=useThree(Mt=>Mt.invalidate),ht=useThree(Mt=>Mt.camera),mt=useThree(Mt=>Mt.gl),gt=useThree(Mt=>Mt.events),yt=useThree(Mt=>Mt.setEvents),_t=useThree(Mt=>Mt.set),pt=useThree(Mt=>Mt.get),xt=useThree(Mt=>Mt.performance),vt=c||ht,St=nt||gt.connected||mt.domElement,wt=reactExports.useMemo(()=>new OrbitControls$1(vt),[vt]);return useFrame(()=>{wt.enabled&&wt.update()},-1),reactExports.useEffect(()=>(it&&wt.connect(it===!0?St:it),wt.connect(St),()=>void wt.dispose()),[it,St,tt,wt,dt]),reactExports.useEffect(()=>{const Mt=Lt=>{dt(),tt&&xt.regress(),st&&st(Lt)},Ct=Lt=>{at&&at(Lt)},Rt=Lt=>{ot&&ot(Lt)};return wt.addEventListener("change",Mt),wt.addEventListener("start",Ct),wt.addEventListener("end",Rt),()=>{wt.removeEventListener("start",Ct),wt.removeEventListener("end",Rt),wt.removeEventListener("change",Mt)}},[st,at,ot,wt,dt,yt]),reactExports.useEffect(()=>{if(et){const Mt=pt().controls;return _t({controls:wt}),()=>_t({controls:Mt})}},[et,wt]),reactExports.createElement("primitive",_extends({ref:ct,object:wt,enableDamping:rt},lt))});var distort=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class DistortMaterialImpl extends MeshPhysicalMaterial{constructor(c={}){super(c),this.setValues(c),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(c){c.uniforms.time=this._time,c.uniforms.radius=this._radius,c.uniforms.distort=this._distort,c.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${distort}
      ${c.vertexShader}
    `,c.vertexShader=c.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(c){this._time.value=c}get distort(){return this._distort.value}set distort(c){this._distort.value=c}get radius(){return this._radius.value}set radius(c){this._radius.value=c}}const MeshDistortMaterial=reactExports.forwardRef(({speed:et=1,...c},tt)=>{const[nt]=reactExports.useState(()=>new DistortMaterialImpl);return useFrame(rt=>nt&&(nt.time=rt.clock.elapsedTime*et)),reactExports.createElement("primitive",_extends({object:nt,ref:tt,attach:"material"},c))});function create(et,c){const tt=et+"Geometry";return reactExports.forwardRef(({args:nt,children:rt,...it},st)=>{const at=reactExports.useRef(null);return reactExports.useImperativeHandle(st,()=>at.current),reactExports.useLayoutEffect(()=>void(c==null?void 0:c(at.current))),reactExports.createElement("mesh",_extends({ref:at},it),reactExports.createElement(tt,{attach:"geometry",args:nt}),rt)})}const Sphere=create("sphere"),SectionWrapper=({children:et,className:c="",id:tt})=>jsxRuntimeExports.jsx(motion.section,{id:tt,className:`container mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 md:py-20 lg:py-24 ${c}`,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.1},transition:{duration:.6},children:et}),LeadGenerationModal=({isOpen:et,onClose:c})=>{const[tt,nt]=reactExports.useState({name:"",email:"",industryType:"",userType:"User",psychologyQuestion:""}),rt=st=>{st.preventDefault(),console.log("Lead Generation Form Submitted:",tt),nt({name:"",email:"",industryType:"",userType:"User",psychologyQuestion:""}),c()},it=st=>{const{name:at,value:ot}=st.target;nt(lt=>({...lt,[at]:ot}))};return jsxRuntimeExports.jsx(AnimatePresence,{children:et&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:c,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50"}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.5},className:"fixed inset-0 flex items-center justify-center z-50 p-4 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"relative bg-bg-dark/95 backdrop-blur-xl border border-border-white-20 rounded-2xl shadow-2xl w-full max-w-2xl my-8",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-accent-purple/10 pointer-events-none"}),jsxRuntimeExports.jsx("button",{onClick:c,className:"absolute right-4 top-4 p-2 rounded-lg hover:bg-bg-white-10 transition-colors duration-200 z-10","aria-label":"Close modal",children:jsxRuntimeExports.jsx(X$1,{className:"h-5 w-5 text-text-white-60"})}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 p-8 sm:p-10",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-2xl sm:text-3xl text-text-white mb-2",children:"Join the AI Revolution"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-60 mb-8",children:"Tell us about your needs and we'll help you deploy the perfect AI agents."}),jsxRuntimeExports.jsxs("form",{onSubmit:rt,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-white-80 mb-2",children:"Your Name"}),jsxRuntimeExports.jsx("input",{type:"text",id:"name",name:"name",value:tt.name,onChange:it,required:!0,className:`w-full px-4 py-3 bg-bg-white-5 border border-border-white-10 rounded-lg 
                        text-text-white placeholder-text-white-40 
                        focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20
                        transition-all duration-200`,placeholder:"John Doe"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-white-80 mb-2",children:"Email Address"}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",value:tt.email,onChange:it,required:!0,className:`w-full px-4 py-3 bg-bg-white-5 border border-border-white-10 rounded-lg 
                        text-text-white placeholder-text-white-40 
                        focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20
                        transition-all duration-200`,placeholder:"john@example.com"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"industryType",className:"block text-sm font-medium text-text-white-80 mb-2",children:"Industry Type"}),jsxRuntimeExports.jsxs("select",{id:"industryType",name:"industryType",value:tt.industryType,onChange:it,required:!0,className:`w-full px-4 py-3 bg-bg-white-5 border border-border-white-10 rounded-lg 
                        text-text-white placeholder-text-white-40 
                        focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20
                        transition-all duration-200`,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select your industry"}),jsxRuntimeExports.jsx("option",{value:"technology",children:"Technology"}),jsxRuntimeExports.jsx("option",{value:"finance",children:"Finance"}),jsxRuntimeExports.jsx("option",{value:"healthcare",children:"Healthcare"}),jsxRuntimeExports.jsx("option",{value:"retail",children:"Retail"}),jsxRuntimeExports.jsx("option",{value:"manufacturing",children:"Manufacturing"}),jsxRuntimeExports.jsx("option",{value:"education",children:"Education"}),jsxRuntimeExports.jsx("option",{value:"services",children:"Services"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"userType",className:"block text-sm font-medium text-text-white-80 mb-2",children:"User Type"}),jsxRuntimeExports.jsxs("select",{id:"userType",name:"userType",value:tt.userType,onChange:it,required:!0,className:`w-full px-4 py-3 bg-bg-white-5 border border-border-white-10 rounded-lg 
                        text-text-white placeholder-text-white-40 
                        focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20
                        transition-all duration-200`,children:[jsxRuntimeExports.jsx("option",{value:"Developer/Vendor",children:"Developer/Vendor"}),jsxRuntimeExports.jsx("option",{value:"User",children:"User"}),jsxRuntimeExports.jsx("option",{value:"Business Owner",children:"Business Owner"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"psychologyQuestion",className:"block text-sm font-medium text-text-white-80 mb-2",children:"Your AI Challenge"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-text-white-60 mb-2",children:["If you were to implement an AI agent to help with a task, what is the biggest bottleneck or challenge you would want it to solve for your ",tt.userType==="Developer/Vendor"?"development":tt.userType==="Business Owner"?"business operations":"personal use","?"]}),jsxRuntimeExports.jsx("textarea",{id:"psychologyQuestion",name:"psychologyQuestion",value:tt.psychologyQuestion,onChange:it,required:!0,rows:4,className:`w-full px-4 py-3 bg-bg-white-5 border border-border-white-10 rounded-lg 
                        text-text-white placeholder-text-white-40 resize-none
                        focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20
                        transition-all duration-200`,placeholder:"Describe your biggest challenge that AI could help solve..."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 pt-4",children:[jsxRuntimeExports.jsx(CTAButton,{type:"submit",variant:"primary",className:"flex-1",children:"Get Started"}),jsxRuntimeExports.jsx(CTAButton,{type:"button",variant:"secondary",onClick:c,className:"flex-1",children:"Cancel"})]})]})]})]})})]})})},copy={hero:{headline:"Identify Your Next Growth Opportunity with Autonomous AI Agents",subheadline:"Our platform provides enterprise-grade infrastructure to deploy intelligent agents that streamline workflows, accelerate growth, and amplify human potential across every department.",cta:"Deploy Your First Agent"},capabilities:[{title:"Autonomous Agent Fleet",description:"Deploy and manage thousands of intelligent agents that work for you 24/7."},{title:"Secure Credential Vault",description:"Safely store and manage API keys and secrets with enterprise-grade security."},{title:"Real-Time Observability",description:"Monitor agent performance and gain deep insights with our comprehensive dashboard."},{title:"Human-in-the-Loop",description:"Seamlessly integrate human oversight for approvals on critical decisions."},{title:"Extensible Tooling API",description:"Connect any internal or external tool to expand your agents' capabilities."},{title:"Multi-Modal Intelligence",description:"Leverage agents that can understand and process text, images, and voice."}],community:{headline:"Build the future, together.",subhead:"Join our ecosystem of builders, innovators, and partners pushing the boundaries of AI.",ctas:["Join Telegram Group","Read the Docs","Explore Bounties"]},footerCTA:{primary:"Click to Speak"}},AnimatedBlob=()=>jsxRuntimeExports.jsx(Canvas,{"aria-label":"An abstract, rotating 3D blue blob",children:jsxRuntimeExports.jsxs(reactExports.Suspense,{fallback:null,children:[jsxRuntimeExports.jsx(OrbitControls,{enableZoom:!1,autoRotate:!0,autoRotateSpeed:2}),jsxRuntimeExports.jsx("ambientLight",{intensity:1}),jsxRuntimeExports.jsx("directionalLight",{position:[3,2,1]}),jsxRuntimeExports.jsx(Sphere,{args:[1,100,200],scale:2.5,children:jsxRuntimeExports.jsx(MeshDistortMaterial,{color:"#1a66ff",attach:"material",distort:.5,speed:2,metalness:.8,roughness:.2})})]})}),HeroSection=()=>{const[et,c]=React.useState(!1);return jsxRuntimeExports.jsxs(SectionWrapper,{id:"hero",className:"relative overflow-hidden min-h-[100dvh] flex flex-col items-center justify-center pt-16 sm:pt-20",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-0 opacity-20 sm:opacity-30 md:opacity-50",children:jsxRuntimeExports.jsx(AnimatedBlob,{})}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 w-full max-w-5xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsx(motion.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-4 sm:mb-6 font-satoshi font-bold text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl leading-tight tracking-tight bg-gradient-to-r from-primary via-accent-blue to-accent-purple bg-clip-text text-transparent",children:copy.hero.headline}),jsxRuntimeExports.jsx(motion.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"mt-4 sm:mt-6 max-w-2xl mx-auto text-text-white-80 font-inter text-base sm:text-lg md:text-xl lg:text-2xl leading-relaxed px-2 sm:px-0",children:copy.hero.subheadline}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"mt-6 sm:mt-8 flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center px-4 sm:px-0",children:[jsxRuntimeExports.jsx(CTAButton,{variant:"primary",className:"w-full sm:w-auto !px-6 sm:!px-8 !py-3 sm:!py-4 text-sm sm:text-base",onClick:()=>c(!0),"aria-label":"Deploy your first AI agent",children:copy.hero.cta}),jsxRuntimeExports.jsx(CTAButton,{variant:"secondary",className:"w-full sm:w-auto !px-6 sm:!px-8 !py-3 sm:!py-4 text-sm sm:text-base",onClick:()=>c(!0),"aria-label":"Request a demo of LOG_ON AI platform",children:"Request a Demo"})]})]}),jsxRuntimeExports.jsx(LeadGenerationModal,{isOpen:et,onClose:()=>c(!1)})]})},StandardCard=({children:et,className:c="",onClick:tt,hoverable:nt=!0,withGradient:rt=!0})=>{const it=nt?motion.div:"div",st=nt?{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},transition:{duration:.3,ease:"easeOut"}}:{};return jsxRuntimeExports.jsxs(it,{...st,onClick:tt,className:`relative overflow-hidden rounded-2xl bg-bg-white-10 backdrop-blur-xl border border-border-white-20 shadow-lg
        ${nt?"cursor-pointer hover:bg-bg-white-12 hover:border-primary hover:shadow-glass transition-all duration-300":""} 
        ${c}`,children:[rt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-accent-purple/10 opacity-60"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-bg-dark/90 via-transparent to-transparent"})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10",children:et})]})},StandardCardIcon=({icon:et,className:c=""})=>jsxRuntimeExports.jsx("div",{className:`bg-primary/10 backdrop-blur-sm p-4 rounded-xl mb-4 group-hover:bg-primary/20 transition-colors duration-300 ${c}`,children:jsxRuntimeExports.jsx(et,{className:"h-8 w-8 text-primary"})}),StandardCardTitle=({children:et,className:c=""})=>jsxRuntimeExports.jsx("h3",{className:`font-satoshi font-semibold text-xl text-text-white mb-3 ${c}`,children:et}),StandardCardDescription=({children:et,className:c=""})=>jsxRuntimeExports.jsx("p",{className:`text-text-white-60 font-inter text-sm leading-relaxed ${c}`,children:et}),FeatureCard=({icon:et,title:c,description:tt})=>jsxRuntimeExports.jsxs(StandardCard,{className:"p-6 group h-full",hoverable:!1,children:[jsxRuntimeExports.jsx(StandardCardIcon,{icon:et}),jsxRuntimeExports.jsx(StandardCardTitle,{children:c}),jsxRuntimeExports.jsx(StandardCardDescription,{children:tt})]}),icons=[BrainCircuit,Lock,Monitor,Users,Zap,ShieldCheck],CapabilitiesSection=()=>jsxRuntimeExports.jsxs(SectionWrapper,{id:"capabilities",className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff05_1px,transparent_1px),linear-gradient(to_bottom,#ffffff05_1px,transparent_1px)] bg-[size:64px_64px] pointer-events-none"}),jsxRuntimeExports.jsxs("div",{className:"text-center relative z-10",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-2xl sm:text-3xl md:text-4xl lg:text-5xl leading-tight px-4 sm:px-0",children:"Build Smarter, Sell Faster, Support Instantly"}),jsxRuntimeExports.jsx("p",{className:"mt-3 sm:mt-4 max-w-3xl mx-auto font-inter text-base sm:text-lg text-text-white-80 px-4 sm:px-6 lg:px-0",children:"Transform your enterprise with LOG_ON's autonomous agents - intelligent AI partners that understand your business, automate complex workflows, and scale with your growth. From customer support to data analysis, deploy specialized agents that work 24/7 to amplify your team's capabilities."})]}),jsxRuntimeExports.jsx("div",{className:"hidden sm:grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 mt-8 sm:mt-12 relative z-10",children:copy.capabilities.map((et,c)=>jsxRuntimeExports.jsx(FeatureCard,{...et,icon:icons[c]},c))}),jsxRuntimeExports.jsx("div",{className:"sm:hidden mt-8 relative z-10",children:jsxRuntimeExports.jsx("div",{className:"capabilities-carousel",children:jsxRuntimeExports.jsx("div",{className:"capabilities-carousel-wrapper",children:copy.capabilities.map((et,c)=>jsxRuntimeExports.jsx("div",{className:"capabilities-carousel-item",children:jsxRuntimeExports.jsx(FeatureCard,{...et,icon:icons[c]})},c))})})})]}),MarketplaceCard=({sectionLabel:et,title:c,subheading:tt,workflows:nt,backgroundImage:rt})=>jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"marketplace-card",style:{backgroundImage:rt?`url(${rt})`:void 0},children:[jsxRuntimeExports.jsx("div",{className:"marketplace-card-gradient"}),jsxRuntimeExports.jsx("div",{className:"marketplace-card-overlay"}),jsxRuntimeExports.jsxs("div",{className:"marketplace-card-content",children:[jsxRuntimeExports.jsx("span",{className:"marketplace-card-label",children:et}),jsxRuntimeExports.jsx("h3",{className:"marketplace-card-title",children:c}),jsxRuntimeExports.jsx("p",{className:"marketplace-card-subheading",children:tt}),jsxRuntimeExports.jsx("ul",{className:"marketplace-card-workflows",children:nt.map((it,st)=>jsxRuntimeExports.jsx("li",{className:"marketplace-card-workflow-item",children:it},st))})]})]}),randomProducts=[{sectionLabel:"Automation Ops",title:"Sales Pipeline Bot",subheading:"WORKFLOWS",workflows:["Lead Scoring","CRM Sync","Follow-up Automation","Email Sequences"]},{sectionLabel:"Assistant Tools",title:"Meeting Summarizer AI",subheading:"WORKFLOWS",workflows:["Transcript Analysis","Action Item Extraction","Calendar Integration","Team Notifications"]},{sectionLabel:"Analytics & Insights",title:"Performance Dashboard",subheading:"WORKFLOWS",workflows:["Real-time Metrics","Predictive Analytics","Custom Reports","Data Export"]},{sectionLabel:"Customer Experience",title:"Support Agent Pro",subheading:"WORKFLOWS",workflows:["Ticket Routing","Sentiment Analysis","24/7 Response","Multi-language Support"]},{sectionLabel:"Security & Compliance",title:"Data Privacy Guardian",subheading:"WORKFLOWS",workflows:["GDPR Compliance","Access Control","Audit Trails","Encryption Management"]},{sectionLabel:"Marketing Automation",title:"Campaign Orchestrator",subheading:"WORKFLOWS",workflows:["A/B Testing","Audience Segmentation","Content Personalization","ROI Tracking"]},{sectionLabel:"HR & Recruiting",title:"Talent Scout AI",subheading:"WORKFLOWS",workflows:["Resume Screening","Interview Scheduling","Skill Matching","Onboarding Automation"]},{sectionLabel:"Finance & Accounting",title:"Invoice Processing Bot",subheading:"WORKFLOWS",workflows:["OCR Extraction","Payment Reconciliation","Expense Categorization","Tax Compliance"]},{sectionLabel:"IT Operations",title:"System Monitor Pro",subheading:"WORKFLOWS",workflows:["Uptime Monitoring","Alert Management","Log Analysis","Performance Optimization"]},{sectionLabel:"Content Management",title:"Content Publisher AI",subheading:"WORKFLOWS",workflows:["SEO Optimization","Multi-channel Publishing","Version Control","Editorial Calendar"]}],MarketplaceSection=()=>jsxRuntimeExports.jsxs(SectionWrapper,{id:"marketplace",className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-2xl sm:text-3xl md:text-4xl lg:text-5xl leading-tight mb-3 sm:mb-4 px-4 sm:px-0",children:"Pay What Your Economy Can Afford"}),jsxRuntimeExports.jsx("p",{className:"max-w-3xl mx-auto font-inter text-base sm:text-lg text-text-white-80 px-4 sm:px-6 lg:px-0 mb-6",children:"Access enterprise-grade AI agents with regional pricing. Explore our marketplace of pre-built solutions tailored to your needs."}),jsxRuntimeExports.jsx(Link,{to:"/marketplace",children:jsxRuntimeExports.jsxs(CTAButton,{variant:"primary",size:"lg",className:"mt-4",children:["Explore Marketplace",jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 ml-2"})]})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-satoshi font-semibold text-text-white mb-6",children:"Featured Products"}),jsxRuntimeExports.jsx("div",{className:"marketplace-carousel",children:randomProducts.map((et,c)=>jsxRuntimeExports.jsx(MarketplaceCard,{sectionLabel:et.sectionLabel,title:et.title,subheading:et.subheading,workflows:et.workflows},c))})]})]}),AssessmentModal=({isOpen:et,onClose:c,assessmentType:tt})=>{const[nt,rt]=reactExports.useState(0),[it,st]=reactExports.useState({}),[at,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(null),dt=getAssessmentConfig(tt),ht=dt.steps.length,mt=(vt,St)=>{st(wt=>({...wt,[vt]:St}))},gt=()=>{nt<ht-1?rt(vt=>vt+1):_t()},yt=()=>{nt>0&&rt(vt=>vt-1)},_t=()=>{const vt=calculateResults(tt,it);ct(vt),ot(!0),console.log("Assessment Submitted:",{type:tt,data:it,results:vt,timestamp:new Date().toISOString()})},pt=()=>{rt(0),st({}),ot(!1),ct(null),c()},xt=dt.steps[nt];return jsxRuntimeExports.jsx(AnimatePresence,{children:et&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:c,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50"}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.5},className:"fixed inset-0 flex items-center justify-center z-50 p-4 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"relative bg-bg-dark/95 backdrop-blur-xl border border-border-white-20 rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] my-8 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-accent-purple/10 pointer-events-none"}),jsxRuntimeExports.jsx("button",{onClick:pt,className:"absolute right-4 top-4 p-2 rounded-lg hover:bg-bg-white-10 transition-colors duration-200 z-10","aria-label":"Close assessment",children:jsxRuntimeExports.jsx(X$1,{className:"h-5 w-5 text-text-white-60"})}),jsxRuntimeExports.jsx("div",{className:"relative z-10 p-8 sm:p-10 max-h-[calc(90vh-2rem)] overflow-y-auto",children:at?jsxRuntimeExports.jsx(AssessmentResults,{assessmentType:tt,results:lt,onClose:pt}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-2xl sm:text-3xl text-text-white mb-2",children:dt.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("p",{className:"text-text-white-60",children:dt.description}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-text-white-60",children:["Step ",nt+1," of ",ht]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 h-2 bg-bg-white-10 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{className:"h-full bg-primary",initial:{width:0},animate:{width:`${(nt+1)/ht*100}%`},transition:{duration:.3}})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-semibold text-xl text-text-white",children:xt.title}),xt.questions.map(vt=>jsxRuntimeExports.jsx(QuestionField,{question:vt,value:it[vt.id],onChange:St=>mt(vt.id,St)},vt.id))]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-8",children:[jsxRuntimeExports.jsxs(CTAButton,{variant:"secondary",onClick:yt,disabled:nt===0,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"}),"Back"]}),jsxRuntimeExports.jsxs(CTAButton,{variant:"primary",onClick:gt,className:"flex items-center gap-2",children:[nt===ht-1?"Submit Assessment":"Next",nt<ht-1&&jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})]})]})]})})]})})]})})},QuestionField=({question:et,value:c,onChange:tt})=>jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-text-white-80",children:[et.text,et.required&&jsxRuntimeExports.jsx("span",{className:"text-accent-red ml-1",children:"*"})]}),et.type==="radio"&&et.options&&jsxRuntimeExports.jsx("div",{className:"space-y-2",children:et.options.map(nt=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:et.id,value:nt.value,checked:c===nt.value,onChange:rt=>tt(rt.target.value),className:"w-4 h-4 text-primary focus:ring-primary"}),jsxRuntimeExports.jsx("span",{className:"text-text-white-80",children:nt.label})]},nt.value))}),et.type==="select"&&et.options&&jsxRuntimeExports.jsxs("select",{value:c||"",onChange:nt=>tt(nt.target.value),className:`w-full px-4 py-3 bg-bg-white-5 border border-border-white-10 rounded-lg 
            text-text-white placeholder-text-white-40 
            focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20
            transition-all duration-200`,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select an option"}),et.options.map(nt=>jsxRuntimeExports.jsx("option",{value:nt.value,children:nt.label},nt.value))]}),(et.type==="number"||et.type==="currency")&&jsxRuntimeExports.jsxs("div",{className:"relative",children:[et.type==="currency"&&jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-white-60",children:"$"}),jsxRuntimeExports.jsx("input",{type:"number",value:c||"",onChange:nt=>tt(nt.target.value),placeholder:et.placeholder,className:`w-full px-4 py-3 bg-bg-white-5 border border-border-white-10 rounded-lg 
              text-text-white placeholder-text-white-40 
              focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20
              transition-all duration-200 ${et.type==="currency"?"pl-8":""}`})]}),et.type==="text"&&jsxRuntimeExports.jsx("input",{type:"text",value:c||"",onChange:nt=>tt(nt.target.value),placeholder:et.placeholder,className:`w-full px-4 py-3 bg-bg-white-5 border border-border-white-10 rounded-lg 
            text-text-white placeholder-text-white-40 
            focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20
            transition-all duration-200`}),et.type==="textarea"&&jsxRuntimeExports.jsx("textarea",{value:c||"",onChange:nt=>tt(nt.target.value),placeholder:et.placeholder,rows:4,className:`w-full px-4 py-3 bg-bg-white-5 border border-border-white-10 rounded-lg 
            text-text-white placeholder-text-white-40 resize-none
            focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20
            transition-all duration-200`}),et.type==="checkbox"&&et.options&&jsxRuntimeExports.jsx("div",{className:"space-y-2",children:et.options.map(nt=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:nt.value,checked:c==null?void 0:c.includes(nt.value),onChange:rt=>{const it=c||[];rt.target.checked?tt([...it,nt.value]):tt(it.filter(st=>st!==nt.value))},className:"w-4 h-4 text-primary focus:ring-primary"}),jsxRuntimeExports.jsx("span",{className:"text-text-white-80",children:nt.label})]},nt.value))}),et.type==="scale"&&jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4",children:[1,2,3,4,5].map(nt=>jsxRuntimeExports.jsx("button",{onClick:()=>tt(nt),className:`w-12 h-12 rounded-lg font-medium transition-all duration-200 ${c===nt?"bg-primary text-white":"bg-bg-white-10 text-text-white-60 hover:bg-bg-white-20"}`,children:nt},nt))})]}),AssessmentResults=({assessmentType:et,results:c,onClose:tt})=>jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-24 h-24 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-6",children:jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-bold text-2xl text-text-white mb-4",children:"Assessment Complete!"}),et==="ai-readiness"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg text-text-white-80",children:["Your AI Readiness Level: ",jsxRuntimeExports.jsx("span",{className:"font-bold text-primary",children:c.maturityLevel})]}),jsxRuntimeExports.jsx("div",{className:"bg-bg-white-10 rounded-lg p-6 text-left space-y-3",children:Object.entries(c.scores).map(([nt,rt])=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-text-white-80 capitalize",children:[nt,":"]}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-text-white",children:[rt,"/10"]})]},nt))})]}),et==="workflow-automation"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg text-text-white-80",children:["Automation Potential Score: ",jsxRuntimeExports.jsxs("span",{className:"font-bold text-primary",children:[c.automationScore,"%"]})]}),jsxRuntimeExports.jsxs("p",{className:"text-text-white-60",children:["Process Maturity: ",c.processMaturity,"%"]})]}),et==="roi-calculator"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg text-text-white-80",children:["Projected ROI: ",jsxRuntimeExports.jsxs("span",{className:"font-bold text-primary",children:[c.roi,"%"]})]}),jsxRuntimeExports.jsxs("p",{className:"text-text-white-60",children:["Payback Period: ",c.paybackPeriod," months"]})]}),et==="security-compliance"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg text-text-white-80",children:["Compliance Level: ",jsxRuntimeExports.jsx("span",{className:"font-bold text-primary",children:c.complianceLevel})]}),c.gaps.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-bg-white-10 rounded-lg p-4 text-left",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-text-white-80 mb-2",children:"Identified Gaps:"}),jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:c.gaps.map((nt,rt)=>jsxRuntimeExports.jsxs("li",{className:"text-sm text-text-white-60 flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-accent-red",children:""}),nt]},rt))})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mt-8",children:[jsxRuntimeExports.jsx(CTAButton,{variant:"secondary",onClick:tt,className:"flex-1",children:"Close"}),jsxRuntimeExports.jsx(CTAButton,{variant:"primary",onClick:()=>{console.log("View recommended agents for:",et),tt()},className:"flex-1",children:"View Recommended Agents"})]})]});function getAssessmentConfig(et){switch(et){case"ai-readiness":return aiReadinessConfig;case"workflow-automation":return workflowAutomationConfig;case"roi-calculator":return roiCalculatorConfig;case"security-compliance":return securityComplianceConfig;default:return aiReadinessConfig}}function calculateResults(et,c){switch(et){case"ai-readiness":return calculateAIReadinessResults(c);case"workflow-automation":return calculateWorkflowResults(c);case"roi-calculator":return calculateROIResults(c);case"security-compliance":return calculateSecurityResults(c);default:return{}}}const aiReadinessConfig={title:"AI Readiness Assessment",description:"Evaluate your organization's preparedness for AI adoption",steps:[{title:"Purpose - Strategic Alignment",questions:[{id:"purpose_clarity",text:"How clearly defined are the problems you aim to solve with AI?",type:"radio",options:[{value:"very_clear",label:"Very Clear"},{value:"moderately_clear",label:"Moderately Clear"},{value:"unclear",label:"Unclear"}],required:!0},{id:"strategic_alignment",text:"Is there strong strategic alignment for AI initiatives within your organization?",type:"radio",options:[{value:"yes",label:"Yes"},{value:"partially",label:"Partially"},{value:"no",label:"No"}],required:!0}]},{title:"People - Skills & Teams",questions:[{id:"ai_skills",text:"What is the current level of AI-related skills within your workforce?",type:"select",options:[{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"},{value:"none",label:"None"}],required:!0},{id:"dedicated_teams",text:"Do you have dedicated teams for AI development or implementation?",type:"radio",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],required:!0}]},{title:"Process - Optimization & Data Flow",questions:[{id:"process_documentation",text:"Are your existing business processes well-documented and optimized for automation?",type:"scale",required:!0},{id:"data_flow",text:"How well does data flow between departments relevant to potential AI applications?",type:"radio",options:[{value:"good",label:"Good"},{value:"fair",label:"Fair"},{value:"poor",label:"Poor"}],required:!0}]},{title:"Platform - Infrastructure & Integration",questions:[{id:"infrastructure",text:"Do you have the necessary technological infrastructure (e.g., cloud compute, data storage) to support AI?",type:"radio",options:[{value:"yes",label:"Yes"},{value:"partially",label:"Partially"},{value:"no",label:"No"}],required:!0},{id:"data_integration",text:"How well integrated are your current data sources for AI model training?",type:"radio",options:[{value:"highly",label:"Highly Integrated"},{value:"moderately",label:"Moderately Integrated"},{value:"not",label:"Not Integrated"}],required:!0}]},{title:"Performance - Metrics & ROI",questions:[{id:"success_metrics",text:"Do you have clear metrics defined to measure the success of AI initiatives?",type:"radio",options:[{value:"yes",label:"Yes"},{value:"developing",label:"Developing"},{value:"no",label:"No"}],required:!0},{id:"roi_confidence",text:"How confident are you in tracking the ROI of future AI deployments?",type:"radio",options:[{value:"very",label:"Very Confident"},{value:"moderately",label:"Moderately Confident"},{value:"not",label:"Not Confident"}],required:!0}]}]},workflowAutomationConfig={title:"Workflow Automation Audit",description:"Identify processes for automation to save time and reduce costs",steps:[{title:"Workflow Identification",questions:[{id:"department",text:"Which department's workflow are you primarily auditing?",type:"select",options:[{value:"sales",label:"Sales"},{value:"marketing",label:"Marketing"},{value:"hr",label:"HR"},{value:"finance",label:"Finance"},{value:"operations",label:"Operations"},{value:"other",label:"Other"}],required:!0},{id:"task_description",text:"Briefly describe a specific repetitive task you'd like to automate:",type:"textarea",placeholder:"E.g., Manual data entry from emails to CRM...",required:!0}]},{title:"Current State Analysis",questions:[{id:"time_spent",text:"Approximately how much time (hours/week) is spent on this task?",type:"number",placeholder:"Enter hours per week",required:!0},{id:"people_involved",text:"How many people are involved in this task?",type:"number",placeholder:"Enter number of people",required:!0},{id:"bottlenecks",text:"What are the primary bottlenecks or pain points in this workflow?",type:"checkbox",options:[{value:"manual_data_entry",label:"Manual Data Entry"},{value:"approvals",label:"Approval Delays"},{value:"communication",label:"Communication Delays"},{value:"errors",label:"Error Prone"},{value:"other",label:"Other"}],required:!0}]},{title:"Potential Impact",questions:[{id:"monthly_cost",text:"What is the estimated cost (per month) associated with this task?",type:"currency",placeholder:"Enter monthly cost",required:!0},{id:"criticality",text:"How critical is this workflow to your core business operations?",type:"radio",options:[{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}],required:!0}]}]},roiCalculatorConfig={title:"ROI Calculator",description:"Calculate potential savings and efficiency gains from AI implementation",steps:[{title:"Investment Costs",questions:[{id:"initial_cost",text:"Estimated initial cost of AI agent deployment (setup, integration):",type:"currency",placeholder:"Enter initial cost",required:!0},{id:"monthly_cost",text:"Estimated ongoing monthly costs (maintenance, subscriptions):",type:"currency",placeholder:"Enter monthly cost",required:!0},{id:"training_cost",text:"Estimated training costs for staff:",type:"currency",placeholder:"Enter training cost",required:!0}]},{title:"Expected Gains",questions:[{id:"monthly_savings",text:"Estimated monthly cost savings from automation/efficiency:",type:"currency",placeholder:"Enter monthly savings",required:!0},{id:"revenue_increase",text:"Estimated monthly increase in revenue from new capabilities:",type:"currency",placeholder:"Enter revenue increase",required:!0},{id:"region",text:"Select your region for economic adjustment factors:",type:"select",options:[{value:"north_america",label:"North America"},{value:"europe",label:"Europe"},{value:"asia",label:"Asia"},{value:"other",label:"Other"}],required:!0}]}]},securityComplianceConfig={title:"Security & Compliance Check",description:"Ensure AI implementation meets industry standards and regulations",steps:[{title:"Industry & Region",questions:[{id:"industry",text:"Which industry best describes your organization?",type:"select",options:[{value:"healthcare",label:"Healthcare"},{value:"finance",label:"Finance"},{value:"retail",label:"Retail"},{value:"tech",label:"Technology"},{value:"other",label:"Other"}],required:!0},{id:"region",text:"Which region are you primarily operating in?",type:"select",options:[{value:"north_america",label:"North America"},{value:"eu",label:"European Union"},{value:"asia_pacific",label:"Asia-Pacific"},{value:"other",label:"Other"}],required:!0}]},{title:"NIST CSF - Govern & Identify",questions:[{id:"cybersecurity_policy",text:"Do you have a documented cybersecurity policy integrated with organizational risk management?",type:"radio",options:[{value:"yes",label:"Yes"},{value:"developing",label:"Developing"},{value:"no",label:"No"}],required:!0},{id:"asset_categorization",text:"Are all your digital assets (data, systems, applications) identified and categorized?",type:"radio",options:[{value:"yes",label:"Yes"},{value:"partially",label:"Partially"},{value:"no",label:"No"}],required:!0}]},{title:"NIST CSF - Protect & Detect",questions:[{id:"access_controls",text:"Are access controls regularly reviewed and updated?",type:"radio",options:[{value:"yes",label:"Yes"},{value:"some",label:"Some"},{value:"no",label:"No"}],required:!0},{id:"monitoring_systems",text:"Do you have continuous monitoring systems to detect cybersecurity events?",type:"radio",options:[{value:"yes",label:"Yes"},{value:"planned",label:"Planned"},{value:"no",label:"No"}],required:!0}]},{title:"NIST CSF - Respond & Recover",questions:[{id:"incident_response",text:"Is there a documented incident response plan in place?",type:"radio",options:[{value:"yes",label:"Yes"},{value:"developing",label:"Developing"},{value:"no",label:"No"}],required:!0},{id:"disaster_recovery",text:"Do you regularly test your disaster recovery and business continuity plans?",type:"radio",options:[{value:"yes",label:"Yes"},{value:"rarely",label:"Rarely"},{value:"no",label:"No"}],required:!0}]},{title:"Regional Compliance",questions:[{id:"gdpr_compliance",text:"Do you have a GDPR compliance officer or framework in place?",type:"radio",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],required:!0},{id:"industry_compliance",text:"Are you compliant with industry-specific regulations (e.g., HIPAA, PCI-DSS)?",type:"radio",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],required:!0}]}]};function calculateAIReadinessResults(et){const c={very_clear:10,moderately_clear:6,unclear:2,yes:10,partially:6,no:2,high:10,medium:7,low:4,none:1,good:10,fair:6,poor:2,highly:10,moderately:6,not:2,developing:6,very:10},tt={purpose:(c[et.purpose_clarity]+c[et.strategic_alignment])/2,people:(c[et.ai_skills]+(et.dedicated_teams==="yes"?10:3))/2,process:((et.process_documentation||3)*2+c[et.data_flow])/2,platform:(c[et.infrastructure]+c[et.data_integration])/2,performance:(c[et.success_metrics]+c[et.roi_confidence])/2},nt=Object.values(tt).reduce((it,st)=>it+st,0)/5;let rt="Unprepared";return nt>=8?rt="Fully Prepared":nt>=6?rt="Prepared":nt>=4&&(rt="Developing"),{scores:tt,totalScore:nt,maturityLevel:rt}}function calculateWorkflowResults(et){var at;const c=parseFloat(et.time_spent)||0,tt=parseFloat(et.people_involved)||0,nt=parseFloat(et.monthly_cost)||0,rt=((at=et.bottlenecks)==null?void 0:at.length)||0,it=Math.min(100,c*2+tt*10+nt/100+rt*15),st=et.criticality==="high"?85:et.criticality==="medium"?65:45;return{automationScore:Math.round(it),processMaturity:st}}function calculateROIResults(et){const c=parseFloat(et.initial_cost)||0,tt=parseFloat(et.monthly_cost)||0,nt=parseFloat(et.training_cost)||0,rt=parseFloat(et.monthly_savings)||0,it=parseFloat(et.revenue_increase)||0,st=12,at=c+tt*st+nt,ot=(rt+it)*st,lt=at>0?(ot-at)/at*100:0,ct=rt+it-tt,dt=ct>0?Math.ceil(at/ct):0;return{roi:Math.round(lt),paybackPeriod:dt,totalInvestment:Math.round(at),totalGains:Math.round(ot)}}function calculateSecurityResults(et){const c={yes:10,developing:6,no:2,partially:6,some:6,planned:4,rarely:3},tt={govern:(c[et.cybersecurity_policy]+c[et.asset_categorization])/2,protect:(c[et.access_controls]+c[et.monitoring_systems])/2,respond:(c[et.incident_response]+c[et.disaster_recovery])/2},nt=(et.gdpr_compliance==="yes"?10:5)+(et.industry_compliance==="yes"?10:5),rt=(Object.values(tt).reduce((at,ot)=>at+ot,0)+nt)/4;let it="Non-Compliant";rt>=8?it="Compliant":rt>=6?it="Maturing":rt>=4&&(it="Basic");const st=[];return et.cybersecurity_policy!=="yes"&&st.push("Cybersecurity Policy"),et.monitoring_systems!=="yes"&&st.push("Continuous Monitoring"),et.incident_response!=="yes"&&st.push("Incident Response Plan"),et.gdpr_compliance!=="yes"&&et.region==="eu"&&st.push("GDPR Compliance"),{complianceLevel:it,gaps:st,nistScores:tt,totalScore:rt}}const assessmentToolsData=[{sectionLabel:"Assessment",title:"AI Readiness Evaluator",subheading:"DIAGNOSTICS",workflows:["Department Analysis","Technology Stack Review","Implementation Roadmap"],type:"ai-readiness"},{sectionLabel:"Assessment",title:"Workflow Automation Audit",subheading:"OPTIMIZATION",workflows:["Bottleneck Identification","Workflow Streamlining","ROI Projection"],type:"workflow-automation"},{sectionLabel:"Assessment",title:"ROI Calculator",subheading:"INSIGHTS",workflows:["Investment Analysis","Savings Calculation","Payback Projection"],type:"roi-calculator"},{sectionLabel:"Assessment",title:"Security & Compliance Checker",subheading:"GOVERNANCE",workflows:["Regulatory Compliance","Data Privacy Audit","Security Assessment"],type:"security-compliance"}],BusinessAssessmentSection=()=>{const[et,c]=reactExports.useState(!1),[tt,nt]=reactExports.useState("ai-readiness"),rt=it=>{nt(it),c(!0)};return jsxRuntimeExports.jsxs(SectionWrapper,{id:"business-assessment",className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-2xl sm:text-3xl md:text-4xl lg:text-5xl leading-tight mb-3 sm:mb-4 px-4 sm:px-0",children:"Master Your Market: Orchestrated Intelligence for Unprecedented Profitability"}),jsxRuntimeExports.jsx("p",{className:"max-w-3xl mx-auto font-inter text-base sm:text-lg text-text-white-80 px-4 sm:px-6 lg:px-0",children:"AI that Sees, Thinks, and Acts. Evaluate your organization's readiness and unlock new opportunities with our comprehensive assessment tools."})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:assessmentToolsData.map((it,st)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:st*.1},children:jsxRuntimeExports.jsxs(StandardCard,{className:"p-6 h-full flex flex-col cursor-pointer hover:border-primary/30 transition-colors duration-200",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-text-white-60 uppercase tracking-wide mb-2",children:it.sectionLabel}),jsxRuntimeExports.jsx(StandardCardTitle,{children:it.title}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-primary mb-4",children:it.subheading}),jsxRuntimeExports.jsxs("div",{className:"flex-grow",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-text-white-80 uppercase tracking-wide mb-2",children:"Workflows:"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:it.workflows.map((at,ot)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2 text-sm text-text-white-60",children:[jsxRuntimeExports.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary/60"}),at]},ot))})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 flex justify-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>rt(it.type),className:"px-6 py-2 bg-primary text-white font-medium rounded-lg hover:bg-primary-light transition-colors duration-200",children:"Start Assessment "})})]})},st))}),jsxRuntimeExports.jsx(AssessmentModal,{isOpen:et,onClose:()=>c(!1),assessmentType:tt})]})},$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(et){const c=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{c.current=et},[et]),reactExports.useCallback((...tt)=>{const nt=c.current;return nt==null?void 0:nt(...tt)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=et=>{var c;return(c=et==null?void 0:et.ownerDocument)!==null&&c!==void 0?c:document},$431fbd86ca7dc216$export$f21a1ffae260145a=et=>et&&"window"in et&&et.window===et?et:$431fbd86ca7dc216$export$b204af158042fbac(et).defaultView||window;function $431fbd86ca7dc216$var$isNode(et){return et!==null&&typeof et=="object"&&"nodeType"in et&&typeof et.nodeType=="number"}function $431fbd86ca7dc216$export$af51f0f06c0f328a(et){return $431fbd86ca7dc216$var$isNode(et)&&et.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in et}let $f4e2df6bd15f8569$var$_shadowDOM=!1;function $f4e2df6bd15f8569$export$98658e8c59125e6a(){return $f4e2df6bd15f8569$var$_shadowDOM}function $d4ee10de306f2510$export$4282f70798064fe0(et,c){if(!$f4e2df6bd15f8569$export$98658e8c59125e6a())return c&&et?et.contains(c):!1;if(!et||!c)return!1;let tt=c;for(;tt!==null;){if(tt===et)return!0;tt.tagName==="SLOT"&&tt.assignedSlot?tt=tt.assignedSlot.parentNode:$431fbd86ca7dc216$export$af51f0f06c0f328a(tt)?tt=tt.host:tt=tt.parentNode}return!1}const $d4ee10de306f2510$export$cd4e5573fbe2b576=(et=document)=>{var c;if(!$f4e2df6bd15f8569$export$98658e8c59125e6a())return et.activeElement;let tt=et.activeElement;for(;tt&&"shadowRoot"in tt&&(!((c=tt.shadowRoot)===null||c===void 0)&&c.activeElement);)tt=tt.shadowRoot.activeElement;return tt};function $d4ee10de306f2510$export$e58f029f0fbfdb29(et){return $f4e2df6bd15f8569$export$98658e8c59125e6a()&&et.target.shadowRoot&&et.composedPath?et.composedPath()[0]:et.target}function r$1(et){var c,tt,nt="";if(typeof et=="string"||typeof et=="number")nt+=et;else if(typeof et=="object")if(Array.isArray(et)){var rt=et.length;for(c=0;c<rt;c++)et[c]&&(tt=r$1(et[c]))&&(nt&&(nt+=" "),nt+=tt)}else for(tt in et)et[tt]&&(nt&&(nt+=" "),nt+=tt);return nt}function clsx(){for(var et,c,tt=0,nt="",rt=arguments.length;tt<rt;tt++)(et=arguments[tt])&&(c=r$1(et))&&(nt&&(nt+=" "),nt+=c);return nt}function $c87311424ea30a05$var$testUserAgent(et){var c;return typeof window>"u"||window.navigator==null?!1:((c=window.navigator.userAgentData)===null||c===void 0?void 0:c.brands.some(tt=>et.test(tt.brand)))||et.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(et){var c;return typeof window<"u"&&window.navigator!=null?et.test(((c=window.navigator.userAgentData)===null||c===void 0?void 0:c.platform)||window.navigator.platform):!1}function $c87311424ea30a05$var$cached(et){let c=null;return()=>(c==null&&(c=et()),c)}const $c87311424ea30a05$export$9ac100e40613ea10=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}),$c87311424ea30a05$export$a11b0059900ceec8=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testUserAgent(/Android/i)});function $03deb23ff14920c4$export$4eaf04e54aa8eed6(){let et=reactExports.useRef(new Map),c=reactExports.useCallback((rt,it,st,at)=>{let ot=at!=null&&at.once?(...lt)=>{et.current.delete(st),st(...lt)}:st;et.current.set(st,{type:it,eventTarget:rt,fn:ot,options:at}),rt.addEventListener(it,ot,at)},[]),tt=reactExports.useCallback((rt,it,st,at)=>{var ot;let lt=((ot=et.current.get(st))===null||ot===void 0?void 0:ot.fn)||st;rt.removeEventListener(it,lt,at),et.current.delete(st)},[]),nt=reactExports.useCallback(()=>{et.current.forEach((rt,it)=>{tt(rt.eventTarget,rt.type,it,rt.options)})},[tt]);return reactExports.useEffect(()=>nt,[nt]),{addGlobalListener:c,removeGlobalListener:tt,removeAllGlobalListeners:nt}}function $6a7db85432448f7f$export$60278871457622de(et){return et.mozInputSource===0&&et.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&et.pointerType?et.type==="click"&&et.buttons===1:et.detail===0&&!et.pointerType}function $8a9cb279dc87e130$export$525bc4921d56d4a(et){let c=et;return c.nativeEvent=et,c.isDefaultPrevented=()=>c.defaultPrevented,c.isPropagationStopped=()=>c.cancelBubble,c.persist=()=>{},c}function $8a9cb279dc87e130$export$c2b7abe5d61ec696(et,c){Object.defineProperty(et,"target",{value:c}),Object.defineProperty(et,"currentTarget",{value:c})}function $8a9cb279dc87e130$export$715c682d09d639cc(et){let c=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const nt=c.current;return()=>{nt.observer&&(nt.observer.disconnect(),nt.observer=null)}},[]);let tt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(nt=>{et==null||et(nt)});return reactExports.useCallback(nt=>{if(nt.target instanceof HTMLButtonElement||nt.target instanceof HTMLInputElement||nt.target instanceof HTMLTextAreaElement||nt.target instanceof HTMLSelectElement){c.current.isFocused=!0;let rt=nt.target,it=st=>{if(c.current.isFocused=!1,rt.disabled){let at=$8a9cb279dc87e130$export$525bc4921d56d4a(st);tt(at)}c.current.observer&&(c.current.observer.disconnect(),c.current.observer=null)};rt.addEventListener("focusout",it,{once:!0}),c.current.observer=new MutationObserver(()=>{if(c.current.isFocused&&rt.disabled){var st;(st=c.current.observer)===null||st===void 0||st.disconnect();let at=rt===document.activeElement?null:document.activeElement;rt.dispatchEvent(new FocusEvent("blur",{relatedTarget:at})),rt.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:at}))}}),c.current.observer.observe(rt,{attributes:!0,attributeFilter:["disabled"]})}},[tt])}let $8a9cb279dc87e130$export$fda7da73ab5d4c48=!1,$507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(et,c){for(let tt of $507fabe10e71c6fb$var$changeHandlers)tt(et,c)}function $507fabe10e71c6fb$var$isValidKey(et){return!(et.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&et.altKey||et.ctrlKey||et.key==="Control"||et.key==="Shift"||et.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(et){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(et)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",et))}function $507fabe10e71c6fb$var$handlePointerEvent(et){$507fabe10e71c6fb$var$currentModality="pointer",(et.type==="mousedown"||et.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",et))}function $507fabe10e71c6fb$var$handleClickEvent(et){$6a7db85432448f7f$export$60278871457622de(et)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(et){et.target===window||et.target===document||$8a9cb279dc87e130$export$fda7da73ab5d4c48||!et.isTrusted||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",et)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(et){if(typeof window>"u"||typeof document>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(et)))return;const c=$431fbd86ca7dc216$export$f21a1ffae260145a(et),tt=$431fbd86ca7dc216$export$b204af158042fbac(et);let nt=c.HTMLElement.prototype.focus;c.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,nt.apply(this,arguments)},tt.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),tt.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),tt.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),c.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),c.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"&&(tt.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),tt.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),tt.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),c.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(et)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set(c,{focus:nt})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(et,c)=>{const tt=$431fbd86ca7dc216$export$f21a1ffae260145a(et),nt=$431fbd86ca7dc216$export$b204af158042fbac(et);c&&nt.removeEventListener("DOMContentLoaded",c),$507fabe10e71c6fb$export$d90243b58daecda7.has(tt)&&(tt.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(tt).focus,nt.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),nt.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),nt.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),tt.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),tt.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"&&(nt.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),nt.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),nt.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(tt))};function $507fabe10e71c6fb$export$2f1888112f558a7d(et){const c=$431fbd86ca7dc216$export$b204af158042fbac(et);let tt;return c.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(et):(tt=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(et)},c.addEventListener("DOMContentLoaded",tt)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(et,tt)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(et,c,tt){let nt=$431fbd86ca7dc216$export$b204af158042fbac(tt==null?void 0:tt.target);const rt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(tt==null?void 0:tt.target).HTMLInputElement:HTMLInputElement,it=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(tt==null?void 0:tt.target).HTMLTextAreaElement:HTMLTextAreaElement,st=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(tt==null?void 0:tt.target).HTMLElement:HTMLElement,at=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(tt==null?void 0:tt.target).KeyboardEvent:KeyboardEvent;return et=et||nt.activeElement instanceof rt&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(nt.activeElement.type)||nt.activeElement instanceof it||nt.activeElement instanceof st&&nt.activeElement.isContentEditable,!(et&&c==="keyboard"&&tt instanceof at&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[tt.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(et,c,tt){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let nt=(rt,it)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(tt!=null&&tt.isTextInput),rt,it)&&et($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(nt),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(nt)}},c)}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(et){let{isDisabled:c,onFocus:tt,onBlur:nt,onFocusChange:rt}=et;const it=reactExports.useCallback(ot=>{if(ot.target===ot.currentTarget)return nt&&nt(ot),rt&&rt(!1),!0},[nt,rt]),st=$8a9cb279dc87e130$export$715c682d09d639cc(it),at=reactExports.useCallback(ot=>{const lt=$431fbd86ca7dc216$export$b204af158042fbac(ot.target),ct=lt?$d4ee10de306f2510$export$cd4e5573fbe2b576(lt):$d4ee10de306f2510$export$cd4e5573fbe2b576();ot.target===ot.currentTarget&&ct===$d4ee10de306f2510$export$e58f029f0fbfdb29(ot.nativeEvent)&&(tt&&tt(ot),rt&&rt(!0),st(ot))},[rt,tt,st]);return{focusProps:{onFocus:!c&&(tt||rt||nt)?at:void 0,onBlur:!c&&(nt||rt)?it:void 0}}}function $9ab94262bd0047c7$export$420e68273165f4ec(et){let{isDisabled:c,onBlurWithin:tt,onFocusWithin:nt,onFocusWithinChange:rt}=et,it=reactExports.useRef({isFocusWithin:!1}),{addGlobalListener:st,removeAllGlobalListeners:at}=$03deb23ff14920c4$export$4eaf04e54aa8eed6(),ot=reactExports.useCallback(dt=>{dt.currentTarget.contains(dt.target)&&it.current.isFocusWithin&&!dt.currentTarget.contains(dt.relatedTarget)&&(it.current.isFocusWithin=!1,at(),tt&&tt(dt),rt&&rt(!1))},[tt,rt,it,at]),lt=$8a9cb279dc87e130$export$715c682d09d639cc(ot),ct=reactExports.useCallback(dt=>{if(!dt.currentTarget.contains(dt.target))return;const ht=$431fbd86ca7dc216$export$b204af158042fbac(dt.target),mt=$d4ee10de306f2510$export$cd4e5573fbe2b576(ht);if(!it.current.isFocusWithin&&mt===$d4ee10de306f2510$export$e58f029f0fbfdb29(dt.nativeEvent)){nt&&nt(dt),rt&&rt(!0),it.current.isFocusWithin=!0,lt(dt);let gt=dt.currentTarget;st(ht,"focus",yt=>{if(it.current.isFocusWithin&&!$d4ee10de306f2510$export$4282f70798064fe0(gt,yt.target)){let _t=new ht.defaultView.FocusEvent("blur",{relatedTarget:yt.target});$8a9cb279dc87e130$export$c2b7abe5d61ec696(_t,gt);let pt=$8a9cb279dc87e130$export$525bc4921d56d4a(_t);ot(pt)}},{capture:!0})}},[nt,rt,lt,st,ot]);return c?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:ct,onBlur:ot}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(et){et.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent)}}function $6179b936705e76d3$export$ae780daf29e6d456(et){let{onHoverStart:c,onHoverChange:tt,onHoverEnd:nt,isDisabled:rt}=et,[it,st]=reactExports.useState(!1),at=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{addGlobalListener:ot,removeAllGlobalListeners:lt}=$03deb23ff14920c4$export$4eaf04e54aa8eed6(),{hoverProps:ct,triggerHoverEnd:dt}=reactExports.useMemo(()=>{let ht=(yt,_t)=>{if(at.pointerType=_t,rt||_t==="touch"||at.isHovered||!yt.currentTarget.contains(yt.target))return;at.isHovered=!0;let pt=yt.currentTarget;at.target=pt,ot($431fbd86ca7dc216$export$b204af158042fbac(yt.target),"pointerover",xt=>{at.isHovered&&at.target&&!$d4ee10de306f2510$export$4282f70798064fe0(at.target,xt.target)&&mt(xt,xt.pointerType)},{capture:!0}),c&&c({type:"hoverstart",target:pt,pointerType:_t}),tt&&tt(!0),st(!0)},mt=(yt,_t)=>{let pt=at.target;at.pointerType="",at.target=null,!(_t==="touch"||!at.isHovered||!pt)&&(at.isHovered=!1,lt(),nt&&nt({type:"hoverend",target:pt,pointerType:_t}),tt&&tt(!1),st(!1))},gt={};return typeof PointerEvent<"u"&&(gt.onPointerEnter=yt=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&yt.pointerType==="mouse"||ht(yt,yt.pointerType)},gt.onPointerLeave=yt=>{!rt&&yt.currentTarget.contains(yt.target)&&mt(yt,yt.pointerType)}),{hoverProps:gt,triggerHoverEnd:mt}},[c,tt,nt,rt,at,ot,lt]);return reactExports.useEffect(()=>{rt&&dt({currentTarget:at.target},at.pointerType)},[rt]),{hoverProps:ct,isHovered:it}}function $f7dceffc5ad7768b$export$4e328f61c538687f(et={}){let{autoFocus:c=!1,isTextInput:tt,within:nt}=et,rt=reactExports.useRef({isFocused:!1,isFocusVisible:c||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[it,st]=reactExports.useState(!1),[at,ot]=reactExports.useState(()=>rt.current.isFocused&&rt.current.isFocusVisible),lt=reactExports.useCallback(()=>ot(rt.current.isFocused&&rt.current.isFocusVisible),[]),ct=reactExports.useCallback(mt=>{rt.current.isFocused=mt,st(mt),lt()},[lt]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(mt=>{rt.current.isFocusVisible=mt,lt()},[],{isTextInput:tt});let{focusProps:dt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:nt,onFocusChange:ct}),{focusWithinProps:ht}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!nt,onFocusWithinChange:ct});return{isFocused:it,isFocusVisible:at,focusProps:nt?ht:dt}}var i=Object.defineProperty,d=(et,c,tt)=>c in et?i(et,c,{enumerable:!0,configurable:!0,writable:!0,value:tt}):et[c]=tt,r=(et,c,tt)=>(d(et,typeof c!="symbol"?c+"":c,tt),tt);let o$4=class{constructor(){r(this,"current",this.detect()),r(this,"handoffState","pending"),r(this,"currentId",0)}set(c){this.current!==c&&(this.handoffState="pending",this.currentId=0,this.current=c)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$3=new o$4;function o$3(et){var c,tt;return s$3.isServer?null:et?"ownerDocument"in et?et.ownerDocument:"current"in et?(tt=(c=et.current)==null?void 0:c.ownerDocument)!=null?tt:document:null:document}function t$1(et){typeof queueMicrotask=="function"?queueMicrotask(et):Promise.resolve().then(et).catch(c=>setTimeout(()=>{throw c}))}function o$2(){let et=[],c={addEventListener(tt,nt,rt,it){return tt.addEventListener(nt,rt,it),c.add(()=>tt.removeEventListener(nt,rt,it))},requestAnimationFrame(...tt){let nt=requestAnimationFrame(...tt);return c.add(()=>cancelAnimationFrame(nt))},nextFrame(...tt){return c.requestAnimationFrame(()=>c.requestAnimationFrame(...tt))},setTimeout(...tt){let nt=setTimeout(...tt);return c.add(()=>clearTimeout(nt))},microTask(...tt){let nt={current:!0};return t$1(()=>{nt.current&&tt[0]()}),c.add(()=>{nt.current=!1})},style(tt,nt,rt){let it=tt.style.getPropertyValue(nt);return Object.assign(tt.style,{[nt]:rt}),this.add(()=>{Object.assign(tt.style,{[nt]:it})})},group(tt){let nt=o$2();return tt(nt),this.add(()=>nt.dispose())},add(tt){return et.includes(tt)||et.push(tt),()=>{let nt=et.indexOf(tt);if(nt>=0)for(let rt of et.splice(nt,1))rt()}},dispose(){for(let tt of et.splice(0))tt()}};return c}function p(){let[et]=reactExports.useState(o$2);return reactExports.useEffect(()=>()=>et.dispose(),[et]),et}let n=(et,c)=>{s$3.isServer?reactExports.useEffect(et,c):reactExports.useLayoutEffect(et,c)};function s$2(et){let c=reactExports.useRef(et);return n(()=>{c.current=et},[et]),c}let o$1=function(et){let c=s$2(et);return React.useCallback((...tt)=>c.current(...tt),[c])};function E(et){let c=et.width/2,tt=et.height/2;return{top:et.clientY-tt,right:et.clientX+c,bottom:et.clientY+tt,left:et.clientX-c}}function P$2(et,c){return!(!et||!c||et.right<c.left||et.left>c.right||et.bottom<c.top||et.top>c.bottom)}function w$2({disabled:et=!1}={}){let c=reactExports.useRef(null),[tt,nt]=reactExports.useState(!1),rt=p(),it=o$1(()=>{c.current=null,nt(!1),rt.dispose()}),st=o$1(at=>{if(rt.dispose(),c.current===null){c.current=at.currentTarget,nt(!0);{let ot=o$3(at.currentTarget);rt.addEventListener(ot,"pointerup",it,!1),rt.addEventListener(ot,"pointermove",lt=>{if(c.current){let ct=E(lt);nt(P$2(ct,c.current.getBoundingClientRect()))}},!1),rt.addEventListener(ot,"pointercancel",it,!1)}}});return{pressed:tt,pressProps:et?{}:{onPointerDown:st,onPointerUp:it,onClick:it}}}function t(...et){return Array.from(new Set(et.flatMap(c=>typeof c=="string"?c.split(" "):[]))).filter(Boolean).join(" ")}function u$1(et,c,...tt){if(et in c){let rt=c[et];return typeof rt=="function"?rt(...tt):rt}let nt=new Error(`Tried to handle "${et}" but there is no handler defined. Only defined handlers are: ${Object.keys(c).map(rt=>`"${rt}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(nt,u$1),nt}var O$1=(et=>(et[et.None=0]="None",et[et.RenderStrategy=1]="RenderStrategy",et[et.Static=2]="Static",et))(O$1||{}),A=(et=>(et[et.Unmount=0]="Unmount",et[et.Hidden=1]="Hidden",et))(A||{});function L(){let et=U();return reactExports.useCallback(c=>C$2({mergeRefs:et,...c}),[et])}function C$2({ourProps:et,theirProps:c,slot:tt,defaultTag:nt,features:rt,visible:it=!0,name:st,mergeRefs:at}){at=at??$;let ot=P$1(c,et);if(it)return F$1(ot,tt,nt,st,at);let lt=rt??0;if(lt&2){let{static:ct=!1,...dt}=ot;if(ct)return F$1(dt,tt,nt,st,at)}if(lt&1){let{unmount:ct=!0,...dt}=ot;return u$1(ct?0:1,{0(){return null},1(){return F$1({...dt,hidden:!0,style:{display:"none"}},tt,nt,st,at)}})}return F$1(ot,tt,nt,st,at)}function F$1(et,c={},tt,nt,rt){let{as:it=tt,children:st,refName:at="ref",...ot}=h$2(et,["unmount","static"]),lt=et.ref!==void 0?{[at]:et.ref}:{},ct=typeof st=="function"?st(c):st;"className"in ot&&ot.className&&typeof ot.className=="function"&&(ot.className=ot.className(c)),ot["aria-labelledby"]&&ot["aria-labelledby"]===ot.id&&(ot["aria-labelledby"]=void 0);let dt={};if(c){let ht=!1,mt=[];for(let[gt,yt]of Object.entries(c))typeof yt=="boolean"&&(ht=!0),yt===!0&&mt.push(gt.replace(/([A-Z])/g,_t=>`-${_t.toLowerCase()}`));if(ht){dt["data-headlessui-state"]=mt.join(" ");for(let gt of mt)dt[`data-${gt}`]=""}}if(it===reactExports.Fragment&&(Object.keys(m(ot)).length>0||Object.keys(m(dt)).length>0))if(!reactExports.isValidElement(ct)||Array.isArray(ct)&&ct.length>1){if(Object.keys(m(ot)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${nt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m(ot)).concat(Object.keys(m(dt))).map(ht=>`  - ${ht}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(ht=>`  - ${ht}`).join(`
`)].join(`
`))}else{let ht=ct.props,mt=ht==null?void 0:ht.className,gt=typeof mt=="function"?(...pt)=>t(mt(...pt),ot.className):t(mt,ot.className),yt=gt?{className:gt}:{},_t=P$1(ct.props,m(h$2(ot,["ref"])));for(let pt in dt)pt in _t&&delete dt[pt];return reactExports.cloneElement(ct,Object.assign({},_t,dt,lt,{ref:rt(H$1(ct),lt.ref)},yt))}return reactExports.createElement(it,Object.assign({},h$2(ot,["ref"]),it!==reactExports.Fragment&&lt,it!==reactExports.Fragment&&dt),ct)}function U(){let et=reactExports.useRef([]),c=reactExports.useCallback(tt=>{for(let nt of et.current)nt!=null&&(typeof nt=="function"?nt(tt):nt.current=tt)},[]);return(...tt)=>{if(!tt.every(nt=>nt==null))return et.current=tt,c}}function $(...et){return et.every(c=>c==null)?void 0:c=>{for(let tt of et)tt!=null&&(typeof tt=="function"?tt(c):tt.current=c)}}function P$1(...et){if(et.length===0)return{};if(et.length===1)return et[0];let c={},tt={};for(let nt of et)for(let rt in nt)rt.startsWith("on")&&typeof nt[rt]=="function"?(tt[rt]!=null||(tt[rt]=[]),tt[rt].push(nt[rt])):c[rt]=nt[rt];if(c.disabled||c["aria-disabled"])for(let nt in tt)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(nt)&&(tt[nt]=[rt=>{var it;return(it=rt==null?void 0:rt.preventDefault)==null?void 0:it.call(rt)}]);for(let nt in tt)Object.assign(c,{[nt](rt,...it){let st=tt[nt];for(let at of st){if((rt instanceof Event||(rt==null?void 0:rt.nativeEvent)instanceof Event)&&rt.defaultPrevented)return;at(rt,...it)}}});return c}function _$1(...et){if(et.length===0)return{};if(et.length===1)return et[0];let c={},tt={};for(let nt of et)for(let rt in nt)rt.startsWith("on")&&typeof nt[rt]=="function"?(tt[rt]!=null||(tt[rt]=[]),tt[rt].push(nt[rt])):c[rt]=nt[rt];for(let nt in tt)Object.assign(c,{[nt](...rt){let it=tt[nt];for(let st of it)st==null||st(...rt)}});return c}function K(et){var c;return Object.assign(reactExports.forwardRef(et),{displayName:(c=et.displayName)!=null?c:et.name})}function m(et){let c=Object.assign({},et);for(let tt in c)c[tt]===void 0&&delete c[tt];return c}function h$2(et,c=[]){let tt=Object.assign({},et);for(let nt of c)nt in tt&&delete tt[nt];return tt}function H$1(et){return React.version.split(".")[0]>="19"?et.props.ref:et.ref}let a$1="span";var s$1=(et=>(et[et.None=1]="None",et[et.Focusable=2]="Focusable",et[et.Hidden=4]="Hidden",et))(s$1||{});function l(et,c){var tt;let{features:nt=1,...rt}=et,it={ref:c,"aria-hidden":(nt&2)===2?!0:(tt=rt["aria-hidden"])!=null?tt:void 0,hidden:(nt&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(nt&4)===4&&(nt&2)!==2&&{display:"none"}}};return L()({ourProps:it,theirProps:rt,slot:{},defaultTag:a$1,name:"Hidden"})}let f$3=K(l),u=Symbol();function y$1(...et){let c=reactExports.useRef(et);reactExports.useEffect(()=>{c.current=et},[et]);let tt=o$1(nt=>{for(let rt of c.current)rt!=null&&(typeof rt=="function"?rt(nt):rt.current=nt)});return et.every(nt=>nt==null||(nt==null?void 0:nt[u]))?void 0:tt}var o=(et=>(et.Space=" ",et.Enter="Enter",et.Escape="Escape",et.Backspace="Backspace",et.Delete="Delete",et.ArrowLeft="ArrowLeft",et.ArrowUp="ArrowUp",et.ArrowRight="ArrowRight",et.ArrowDown="ArrowDown",et.Home="Home",et.End="End",et.PageUp="PageUp",et.PageDown="PageDown",et.Tab="Tab",et))(o||{});let f$2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(et=>`${et}:not([tabindex='-1'])`).join(","),F=["[data-autofocus]"].map(et=>`${et}:not([tabindex='-1'])`).join(",");var T=(et=>(et[et.First=1]="First",et[et.Previous=2]="Previous",et[et.Next=4]="Next",et[et.Last=8]="Last",et[et.WrapAround=16]="WrapAround",et[et.NoScroll=32]="NoScroll",et[et.AutoFocus=64]="AutoFocus",et))(T||{}),y=(et=>(et[et.Error=0]="Error",et[et.Overflow=1]="Overflow",et[et.Success=2]="Success",et[et.Underflow=3]="Underflow",et))(y||{}),S=(et=>(et[et.Previous=-1]="Previous",et[et.Next=1]="Next",et))(S||{});function b$1(et=document.body){return et==null?[]:Array.from(et.querySelectorAll(f$2)).sort((c,tt)=>Math.sign((c.tabIndex||Number.MAX_SAFE_INTEGER)-(tt.tabIndex||Number.MAX_SAFE_INTEGER)))}function O(et=document.body){return et==null?[]:Array.from(et.querySelectorAll(F)).sort((c,tt)=>Math.sign((c.tabIndex||Number.MAX_SAFE_INTEGER)-(tt.tabIndex||Number.MAX_SAFE_INTEGER)))}var h$1=(et=>(et[et.Strict=0]="Strict",et[et.Loose=1]="Loose",et))(h$1||{}),H=(et=>(et[et.Keyboard=0]="Keyboard",et[et.Mouse=1]="Mouse",et))(H||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",et=>{et.metaKey||et.altKey||et.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",et=>{et.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:et.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let w$1=["textarea","input"].join(",");function _(et){var c,tt;return(tt=(c=et==null?void 0:et.matches)==null?void 0:c.call(et,w$1))!=null?tt:!1}function P(et,c=tt=>tt){return et.slice().sort((tt,nt)=>{let rt=c(tt),it=c(nt);if(rt===null||it===null)return 0;let st=rt.compareDocumentPosition(it);return st&Node.DOCUMENT_POSITION_FOLLOWING?-1:st&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function g(et,c,{sorted:tt=!0,relativeTo:nt=null,skipElements:rt=[]}={}){let it=Array.isArray(et)?et.length>0?et[0].ownerDocument:document:et.ownerDocument,st=Array.isArray(et)?tt?P(et):et:c&64?O(et):b$1(et);rt.length>0&&st.length>1&&(st=st.filter(mt=>!rt.some(gt=>gt!=null&&"current"in gt?(gt==null?void 0:gt.current)===mt:gt===mt))),nt=nt??it.activeElement;let at=(()=>{if(c&5)return 1;if(c&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),ot=(()=>{if(c&1)return 0;if(c&2)return Math.max(0,st.indexOf(nt))-1;if(c&4)return Math.max(0,st.indexOf(nt))+1;if(c&8)return st.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),lt=c&32?{preventScroll:!0}:{},ct=0,dt=st.length,ht;do{if(ct>=dt||ct+dt<=0)return 0;let mt=ot+ct;if(c&16)mt=(mt+dt)%dt;else{if(mt<0)return 3;if(mt>=dt)return 1}ht=st[mt],ht==null||ht.focus(lt),ct+=at}while(ht!==it.activeElement);return c&6&&_(ht)&&ht.select(),2}function e(et,c){return reactExports.useMemo(()=>{var tt;if(et.type)return et.type;let nt=(tt=et.as)!=null?tt:"button";if(typeof nt=="string"&&nt.toLowerCase()==="button"||(c==null?void 0:c.tagName)==="BUTTON"&&!c.hasAttribute("type"))return"button"},[et.type,et.as,c])}function f$1(){let et=reactExports.useRef(!1);return n(()=>(et.current=!0,()=>{et.current=!1}),[]),et}function b({onFocus:et}){let[c,tt]=reactExports.useState(!0),nt=f$1();return c?React.createElement(f$3,{as:"button",type:"button",features:s$1.Focusable,onFocus:rt=>{rt.preventDefault();let it,st=50;function at(){if(st--<=0){it&&cancelAnimationFrame(it);return}if(et()){if(cancelAnimationFrame(it),!nt.current)return;tt(!1);return}it=requestAnimationFrame(at)}it=requestAnimationFrame(at)}}):null}const s=reactExports.createContext(null);function a(){return{groups:new Map,get(et,c){var tt;let nt=this.groups.get(et);nt||(nt=new Map,this.groups.set(et,nt));let rt=(tt=nt.get(c))!=null?tt:0;nt.set(c,rt+1);let it=Array.from(nt.keys()).indexOf(c);function st(){let at=nt.get(c);at>1?nt.set(c,at-1):nt.delete(c)}return[it,st]}}}function f({children:et}){let c=reactExports.useRef(a());return reactExports.createElement(s.Provider,{value:c},et)}function C$1(et){let c=reactExports.useContext(s);if(!c)throw new Error("You must wrap your component in a <StableCollection>");let tt=reactExports.useId(),[nt,rt]=c.current.get(et,tt);return reactExports.useEffect(()=>rt,[]),nt}var Le=(et=>(et[et.Forwards=0]="Forwards",et[et.Backwards=1]="Backwards",et))(Le||{}),_e=(et=>(et[et.Less=-1]="Less",et[et.Equal=0]="Equal",et[et.Greater=1]="Greater",et))(_e||{}),De=(et=>(et[et.SetSelectedIndex=0]="SetSelectedIndex",et[et.RegisterTab=1]="RegisterTab",et[et.UnregisterTab=2]="UnregisterTab",et[et.RegisterPanel=3]="RegisterPanel",et[et.UnregisterPanel=4]="UnregisterPanel",et))(De||{});let Se={0(et,c){var tt;let nt=P(et.tabs,ct=>ct.current),rt=P(et.panels,ct=>ct.current),it=nt.filter(ct=>{var dt;return!((dt=ct.current)!=null&&dt.hasAttribute("disabled"))}),st={...et,tabs:nt,panels:rt};if(c.index<0||c.index>nt.length-1){let ct=u$1(Math.sign(c.index-et.selectedIndex),{[-1]:()=>1,0:()=>u$1(Math.sign(c.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(it.length===0)return st;let dt=u$1(ct,{0:()=>nt.indexOf(it[0]),1:()=>nt.indexOf(it[it.length-1])});return{...st,selectedIndex:dt===-1?et.selectedIndex:dt}}let at=nt.slice(0,c.index),ot=[...nt.slice(c.index),...at].find(ct=>it.includes(ct));if(!ot)return st;let lt=(tt=nt.indexOf(ot))!=null?tt:et.selectedIndex;return lt===-1&&(lt=et.selectedIndex),{...st,selectedIndex:lt}},1(et,c){if(et.tabs.includes(c.tab))return et;let tt=et.tabs[et.selectedIndex],nt=P([...et.tabs,c.tab],it=>it.current),rt=et.selectedIndex;return et.info.current.isControlled||(rt=nt.indexOf(tt),rt===-1&&(rt=et.selectedIndex)),{...et,tabs:nt,selectedIndex:rt}},2(et,c){return{...et,tabs:et.tabs.filter(tt=>tt!==c.tab)}},3(et,c){return et.panels.includes(c.panel)?et:{...et,panels:P([...et.panels,c.panel],tt=>tt.current)}},4(et,c){return{...et,panels:et.panels.filter(tt=>tt!==c.panel)}}},V=reactExports.createContext(null);V.displayName="TabsDataContext";function C(et){let c=reactExports.useContext(V);if(c===null){let tt=new Error(`<${et} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(tt,C),tt}return c}let Q=reactExports.createContext(null);Q.displayName="TabsActionsContext";function Y(et){let c=reactExports.useContext(Q);if(c===null){let tt=new Error(`<${et} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(tt,Y),tt}return c}function Fe(et,c){return u$1(c.type,Se,et,c)}let Ie="div";function he(et,c){let{defaultIndex:tt=0,vertical:nt=!1,manual:rt=!1,onChange:it,selectedIndex:st=null,...at}=et;const ot=nt?"vertical":"horizontal",lt=rt?"manual":"auto";let ct=st!==null,dt=s$2({isControlled:ct}),ht=y$1(c),[mt,gt]=reactExports.useReducer(Fe,{info:dt,selectedIndex:st??tt,tabs:[],panels:[]}),yt=reactExports.useMemo(()=>({selectedIndex:mt.selectedIndex}),[mt.selectedIndex]),_t=s$2(it||(()=>{})),pt=s$2(mt.tabs),xt=reactExports.useMemo(()=>({orientation:ot,activation:lt,...mt}),[ot,lt,mt]),vt=o$1(It=>(gt({type:1,tab:It}),()=>gt({type:2,tab:It}))),St=o$1(It=>(gt({type:3,panel:It}),()=>gt({type:4,panel:It}))),wt=o$1(It=>{Mt.current!==It&&_t.current(It),ct||gt({type:0,index:It})}),Mt=s$2(ct?et.selectedIndex:mt.selectedIndex),Ct=reactExports.useMemo(()=>({registerTab:vt,registerPanel:St,change:wt}),[]);n(()=>{gt({type:0,index:st??tt})},[st]),n(()=>{if(Mt.current===void 0||mt.tabs.length<=0)return;let It=P(mt.tabs,Nt=>Nt.current);It.some((Nt,zt)=>mt.tabs[zt]!==Nt)&&wt(It.indexOf(mt.tabs[Mt.current]))});let Rt={ref:ht},Lt=L();return React.createElement(f,null,React.createElement(Q.Provider,{value:Ct},React.createElement(V.Provider,{value:xt},xt.tabs.length<=0&&React.createElement(b,{onFocus:()=>{var It,Nt;for(let zt of pt.current)if(((It=zt.current)==null?void 0:It.tabIndex)===0)return(Nt=zt.current)==null||Nt.focus(),!0;return!1}}),Lt({ourProps:Rt,theirProps:at,slot:yt,defaultTag:Ie,name:"Tabs"}))))}let ve="div";function Ce(et,c){let{orientation:tt,selectedIndex:nt}=C("Tab.List"),rt=y$1(c),it=reactExports.useMemo(()=>({selectedIndex:nt}),[nt]),st=et,at={ref:rt,role:"tablist","aria-orientation":tt};return L()({ourProps:at,theirProps:st,slot:it,defaultTag:ve,name:"Tabs.List"})}let Me="button";function Ge(et,c){var tt,nt;let rt=reactExports.useId(),{id:it=`headlessui-tabs-tab-${rt}`,disabled:st=!1,autoFocus:at=!1,...ot}=et,{orientation:lt,activation:ct,selectedIndex:dt,tabs:ht,panels:mt}=C("Tab"),gt=Y("Tab"),yt=C("Tab"),[_t,pt]=reactExports.useState(null),xt=reactExports.useRef(null),vt=y$1(xt,c,pt);n(()=>gt.registerTab(xt),[gt,xt]);let St=C$1("tabs"),wt=ht.indexOf(xt);wt===-1&&(wt=St);let Mt=wt===dt,Ct=o$1(Ot=>{var Bt;let Qt=Ot();if(Qt===y.Success&&ct==="auto"){let an=(Bt=o$3(xt))==null?void 0:Bt.activeElement,Kt=yt.tabs.findIndex(ln=>ln.current===an);Kt!==-1&&gt.change(Kt)}return Qt}),Rt=o$1(Ot=>{let Bt=ht.map(Qt=>Qt.current).filter(Boolean);if(Ot.key===o.Space||Ot.key===o.Enter){Ot.preventDefault(),Ot.stopPropagation(),gt.change(wt);return}switch(Ot.key){case o.Home:case o.PageUp:return Ot.preventDefault(),Ot.stopPropagation(),Ct(()=>g(Bt,T.First));case o.End:case o.PageDown:return Ot.preventDefault(),Ot.stopPropagation(),Ct(()=>g(Bt,T.Last))}if(Ct(()=>u$1(lt,{vertical(){return Ot.key===o.ArrowUp?g(Bt,T.Previous|T.WrapAround):Ot.key===o.ArrowDown?g(Bt,T.Next|T.WrapAround):y.Error},horizontal(){return Ot.key===o.ArrowLeft?g(Bt,T.Previous|T.WrapAround):Ot.key===o.ArrowRight?g(Bt,T.Next|T.WrapAround):y.Error}}))===y.Success)return Ot.preventDefault()}),Lt=reactExports.useRef(!1),It=o$1(()=>{var Ot;Lt.current||(Lt.current=!0,(Ot=xt.current)==null||Ot.focus({preventScroll:!0}),gt.change(wt),t$1(()=>{Lt.current=!1}))}),Nt=o$1(Ot=>{Ot.preventDefault()}),{isFocusVisible:zt,focusProps:Wt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:at}),{isHovered:Yt,hoverProps:Xt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:st}),{pressed:Ft,pressProps:Ut}=w$2({disabled:st}),At=reactExports.useMemo(()=>({selected:Mt,hover:Yt,active:Ft,focus:zt,autofocus:at,disabled:st}),[Mt,Yt,zt,Ft,at,st]),kt=_$1({ref:vt,onKeyDown:Rt,onMouseDown:Nt,onClick:It,id:it,role:"tab",type:e(et,_t),"aria-controls":(nt=(tt=mt[wt])==null?void 0:tt.current)==null?void 0:nt.id,"aria-selected":Mt,tabIndex:Mt?0:-1,disabled:st||void 0,autoFocus:at},Wt,Xt,Ut);return L()({ourProps:kt,theirProps:ot,slot:At,defaultTag:Me,name:"Tabs.Tab"})}let Ue="div";function He(et,c){let{selectedIndex:tt}=C("Tab.Panels"),nt=y$1(c),rt=reactExports.useMemo(()=>({selectedIndex:tt}),[tt]),it=et,st={ref:nt};return L()({ourProps:st,theirProps:it,slot:rt,defaultTag:Ue,name:"Tabs.Panels"})}let we="div",Oe=O$1.RenderStrategy|O$1.Static;function Ne(et,c){var tt,nt,rt,it;let st=reactExports.useId(),{id:at=`headlessui-tabs-panel-${st}`,tabIndex:ot=0,...lt}=et,{selectedIndex:ct,tabs:dt,panels:ht}=C("Tab.Panel"),mt=Y("Tab.Panel"),gt=reactExports.useRef(null),yt=y$1(gt,c);n(()=>mt.registerPanel(gt),[mt,gt]);let _t=C$1("panels"),pt=ht.indexOf(gt);pt===-1&&(pt=_t);let xt=pt===ct,{isFocusVisible:vt,focusProps:St}=$f7dceffc5ad7768b$export$4e328f61c538687f(),wt=reactExports.useMemo(()=>({selected:xt,focus:vt}),[xt,vt]),Mt=_$1({ref:yt,id:at,role:"tabpanel","aria-labelledby":(nt=(tt=dt[pt])==null?void 0:tt.current)==null?void 0:nt.id,tabIndex:xt?ot:-1},St),Ct=L();return!xt&&((rt=lt.unmount)==null||rt)&&!((it=lt.static)!=null&&it)?React.createElement(f$3,{"aria-hidden":"true",...Mt}):Ct({ourProps:Mt,theirProps:lt,slot:wt,defaultTag:we,features:Oe,visible:xt,name:"Tabs.Panel"})}let ke=K(Ge),Be=K(he),We=K(Ce),je=K(He),Ke=K(Ne),Tt=Object.assign(ke,{Group:Be,List:We,Panels:je,Panel:Ke});const popularUseCases=[{icon:MessageSquare,title:"Customer Service Automation",description:"Handle support tickets, live chat, and email inquiries with AI agents that understand context and provide accurate solutions.",examples:["Resolve 80% of tickets automatically","24/7 multilingual support","Sentiment-based routing"]},{icon:CodeXml,title:"Code Generation & Review",description:"Accelerate development with AI that writes, reviews, and optimizes code across multiple languages and frameworks.",examples:["Generate boilerplate code instantly","Automated code reviews","Bug detection and fixes"]},{icon:ChartNoAxesColumnIncreasing,title:"Data Analysis & Reporting",description:"Transform raw data into actionable insights with automated analysis, visualization, and report generation.",examples:["Real-time dashboard creation","Predictive analytics","Natural language queries"]},{icon:Sparkles,title:"Content Creation at Scale",description:"Generate high-quality content for blogs, social media, and marketing campaigns while maintaining brand voice.",examples:["SEO-optimized articles","Social media campaigns","Product descriptions"]},{icon:Calendar,title:"Meeting & Calendar Management",description:"Automate scheduling, meeting prep, and follow-ups with AI that understands priorities and preferences.",examples:["Smart meeting scheduling","Automated meeting notes","Action item tracking"]},{icon:Shield,title:"Security & Compliance",description:"Monitor systems, detect anomalies, and ensure compliance with AI agents trained on security best practices.",examples:["Real-time threat detection","Compliance monitoring","Automated incident response"]}],industries=[{name:"Customer Support",icon:Headphones,problem:"Long response times, overwhelmed support teams, and inconsistent customer experiences across channels",solutions:["24/7 instant response to customer inquiries","Intelligent ticket routing and prioritization","Multi-language support with real-time translation","Sentiment analysis for proactive issue resolution"]},{name:"Sales & CRM",icon:TrendingUp,problem:"Missed opportunities, manual data entry, and lack of real-time insights into customer behavior",solutions:["Automated lead scoring and qualification","Intelligent meeting scheduling and follow-ups","Real-time sales pipeline analytics","Personalized outreach at scale"]},{name:"HR & Recruiting",icon:Users,problem:"Time-consuming screening processes, bias in hiring, and poor candidate experience",solutions:["Resume screening and candidate matching","Automated interview scheduling","Skills assessment and cultural fit analysis","Onboarding workflow automation"]},{name:"Content & Marketing",icon:FileText,problem:"Content creation bottlenecks, inconsistent brand voice, and poor SEO performance",solutions:["AI-powered content generation and optimization","Social media scheduling and engagement","SEO analysis and recommendations","Performance tracking and reporting"]},{name:"E-commerce",icon:ShoppingCart,problem:"Cart abandonment, poor product discovery, and lack of personalization",solutions:["Personalized product recommendations","Dynamic pricing optimization","Inventory management and forecasting","Customer journey mapping"]},{name:"Data Analytics",icon:ChartColumn,problem:"Data silos, manual reporting, and delayed insights affecting decision-making",solutions:["Automated data collection and cleaning","Real-time dashboard generation","Predictive analytics and forecasting","Natural language data querying"]}],MergedUseCasesSection=()=>jsxRuntimeExports.jsxs(SectionWrapper,{id:"use-cases",className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-2xl sm:text-3xl md:text-4xl lg:text-5xl leading-tight mb-3 sm:mb-4 px-4 sm:px-0",children:"Transform Your Business with AI"}),jsxRuntimeExports.jsx("p",{className:"max-w-3xl mx-auto font-inter text-base sm:text-lg text-text-white-80 px-4 sm:px-6 lg:px-0",children:"See how businesses are using LOG_ON agents to automate workflows, solve real challenges, and accelerate growth across every department"})]}),jsxRuntimeExports.jsxs(Tt.Group,{children:[jsxRuntimeExports.jsx(Tt.List,{className:"flex justify-center mb-8 sm:mb-12 overflow-x-auto scrollbar-hide",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2 px-4 sm:px-0",children:[jsxRuntimeExports.jsx(Tt,{className:({selected:et})=>`px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium whitespace-nowrap transition-all duration-200 text-sm sm:text-base
                ${et?"bg-primary text-white shadow-lg":"bg-bg-white-5 text-text-white-80 hover:bg-bg-white-10 hover:text-white"}`,children:"Popular Use Cases"}),jsxRuntimeExports.jsx(Tt,{className:({selected:et})=>`px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium whitespace-nowrap transition-all duration-200 text-sm sm:text-base
                ${et?"bg-primary text-white shadow-lg":"bg-bg-white-5 text-text-white-80 hover:bg-bg-white-10 hover:text-white"}`,children:"By Department"})]})}),jsxRuntimeExports.jsxs(Tt.Panels,{children:[jsxRuntimeExports.jsx(Tt.Panel,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:popularUseCases.map((et,c)=>{const tt=et.icon;return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:c*.1},children:jsxRuntimeExports.jsxs(StandardCard,{className:"p-6 group h-full",children:[jsxRuntimeExports.jsx(StandardCardIcon,{icon:tt}),jsxRuntimeExports.jsx(StandardCardTitle,{children:et.title}),jsxRuntimeExports.jsx(StandardCardDescription,{className:"mb-4",children:et.description}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 mt-auto",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-text-white-80 uppercase tracking-wide",children:"Examples:"}),jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:et.examples.map((nt,rt)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2 text-sm text-text-white-60",children:[jsxRuntimeExports.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary/60"}),nt]},rt))})]})]})},c)})})}),jsxRuntimeExports.jsx(Tt.Panel,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:industries.map((et,c)=>{const tt=et.icon;return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:c*.1},children:jsxRuntimeExports.jsxs(StandardCard,{className:"p-6 group h-full",children:[jsxRuntimeExports.jsx(StandardCardIcon,{icon:tt}),jsxRuntimeExports.jsx(StandardCardTitle,{children:et.name}),jsxRuntimeExports.jsx(StandardCardDescription,{className:"mb-4",children:et.problem}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 mt-auto",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-text-white-80 uppercase tracking-wide",children:"Solutions:"}),jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:et.solutions.slice(0,3).map((nt,rt)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2 text-sm text-text-white-60",children:[jsxRuntimeExports.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary/60 mt-1.5 flex-shrink-0"}),nt]},rt))})]})]})},c)})})})]})]})]});var lottie$1={exports:{}};(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&function(et,c){module.exports=c()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(c){_useWebWorker=!!c},getWebWorker=function(){return _useWebWorker},setLocationHref=function(c){locationHref=c},getLocationHref=function(){return locationHref};function createTag(et){return document.createElement(et)}function extendPrototype(et,c){var tt,nt=et.length,rt;for(tt=0;tt<nt;tt+=1){rt=et[tt].prototype;for(var it in rt)Object.prototype.hasOwnProperty.call(rt,it)&&(c.prototype[it]=rt[it])}}function getDescriptor(et,c){return Object.getOwnPropertyDescriptor(et,c)}function createProxyFunction(et){function c(){}return c.prototype=et,c}var audioControllerFactory=function(){function et(c){this.audios=[],this.audioFactory=c,this._volume=1,this._isMuted=!1}return et.prototype={addAudio:function(tt){this.audios.push(tt)},pause:function(){var tt,nt=this.audios.length;for(tt=0;tt<nt;tt+=1)this.audios[tt].pause()},resume:function(){var tt,nt=this.audios.length;for(tt=0;tt<nt;tt+=1)this.audios[tt].resume()},setRate:function(tt){var nt,rt=this.audios.length;for(nt=0;nt<rt;nt+=1)this.audios[nt].setRate(tt)},createAudio:function(tt){return this.audioFactory?this.audioFactory(tt):window.Howl?new window.Howl({src:[tt]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(tt){this.audioFactory=tt},setVolume:function(tt){this._volume=tt,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var tt,nt=this.audios.length;for(tt=0;tt<nt;tt+=1)this.audios[tt].volume(this._volume*(this._isMuted?0:1))}},function(){return new et}}(),createTypedArray=function(){function et(tt,nt){var rt=0,it=[],st;switch(tt){case"int16":case"uint8c":st=1;break;default:st=1.1;break}for(rt=0;rt<nt;rt+=1)it.push(st);return it}function c(tt,nt){return tt==="float32"?new Float32Array(nt):tt==="int16"?new Int16Array(nt):tt==="uint8c"?new Uint8ClampedArray(nt):et(tt,nt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?c:et}();function createSizedArray(et){return Array.apply(null,{length:et})}function _typeof$6(et){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_typeof$6(et)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var et=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],c,tt=et.length;for(c=0;c<tt;c+=1)BMMath[et[c]]=Math[et[c]]})(),BMMath.random=Math.random,BMMath.abs=function(et){var c=_typeof$6(et);if(c==="object"&&et.length){var tt=createSizedArray(et.length),nt,rt=et.length;for(nt=0;nt<rt;nt+=1)tt[nt]=Math.abs(et[nt]);return tt}return Math.abs(et)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(et){et.style.position="absolute",et.style.top=0,et.style.left=0,et.style.display="block",et.style.transformOrigin="0 0",et.style.webkitTransformOrigin="0 0",et.style.backfaceVisibility="visible",et.style.webkitBackfaceVisibility="visible",et.style.transformStyle="preserve-3d",et.style.webkitTransformStyle="preserve-3d",et.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(et,c,tt,nt){this.type=et,this.currentTime=c,this.totalTime=tt,this.direction=nt<0?-1:1}function BMCompleteEvent(et,c){this.type=et,this.direction=c<0?-1:1}function BMCompleteLoopEvent(et,c,tt,nt){this.type=et,this.currentLoop=tt,this.totalLoops=c,this.direction=nt<0?-1:1}function BMSegmentStartEvent(et,c,tt){this.type=et,this.firstFrame=c,this.totalFrames=tt}function BMDestroyEvent(et,c){this.type=et,this.target=c}function BMRenderFrameErrorEvent(et,c){this.type="renderFrameError",this.nativeError=et,this.currentTime=c}function BMConfigErrorEvent(et){this.type="configError",this.nativeError=et}var createElementID=function(){var et=0;return function(){return et+=1,idPrefix$1+"__lottie_element_"+et}}();function HSVtoRGB(et,c,tt){var nt,rt,it,st,at,ot,lt,ct;switch(st=Math.floor(et*6),at=et*6-st,ot=tt*(1-c),lt=tt*(1-at*c),ct=tt*(1-(1-at)*c),st%6){case 0:nt=tt,rt=ct,it=ot;break;case 1:nt=lt,rt=tt,it=ot;break;case 2:nt=ot,rt=tt,it=ct;break;case 3:nt=ot,rt=lt,it=tt;break;case 4:nt=ct,rt=ot,it=tt;break;case 5:nt=tt,rt=ot,it=lt;break}return[nt,rt,it]}function RGBtoHSV(et,c,tt){var nt=Math.max(et,c,tt),rt=Math.min(et,c,tt),it=nt-rt,st,at=nt===0?0:it/nt,ot=nt/255;switch(nt){case rt:st=0;break;case et:st=c-tt+it*(c<tt?6:0),st/=6*it;break;case c:st=tt-et+it*2,st/=6*it;break;case tt:st=et-c+it*4,st/=6*it;break}return[st,at,ot]}function addSaturationToRGB(et,c){var tt=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return tt[1]+=c,tt[1]>1?tt[1]=1:tt[1]<=0&&(tt[1]=0),HSVtoRGB(tt[0],tt[1],tt[2])}function addBrightnessToRGB(et,c){var tt=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return tt[2]+=c,tt[2]>1?tt[2]=1:tt[2]<0&&(tt[2]=0),HSVtoRGB(tt[0],tt[1],tt[2])}function addHueToRGB(et,c){var tt=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return tt[0]+=c/360,tt[0]>1?tt[0]-=1:tt[0]<0&&(tt[0]+=1),HSVtoRGB(tt[0],tt[1],tt[2])}var rgbToHex=function(){var et=[],c,tt;for(c=0;c<256;c+=1)tt=c.toString(16),et[c]=tt.length===1?"0"+tt:tt;return function(nt,rt,it){return nt<0&&(nt=0),rt<0&&(rt=0),it<0&&(it=0),"#"+et[nt]+et[rt]+et[it]}}(),setSubframeEnabled=function(c){subframeEnabled=!!c},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(c){expressionsPlugin=c},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(c){expressionsInterfaces=c},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(c){defaultCurveSegments=c},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(c){idPrefix$1=c};function createNS(et){return document.createElementNS(svgNS,et)}function _typeof$5(et){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_typeof$5(et)}var dataManager=function(){var et=1,c=[],tt,nt,rt={onmessage:function(){},postMessage:function(mt){tt({data:mt})}},it={postMessage:function(mt){rt.onmessage({data:mt})}};function st(ht){if(window.Worker&&window.Blob&&getWebWorker()){var mt=new Blob(["var _workerSelf = self; self.onmessage = ",ht.toString()],{type:"text/javascript"}),gt=URL.createObjectURL(mt);return new Worker(gt)}return tt=ht,rt}function at(){nt||(nt=st(function(mt){function gt(){function _t(Xt,Ft){var Ut,At,kt=Xt.length,Ot,Bt,Qt,an;for(At=0;At<kt;At+=1)if(Ut=Xt[At],"ks"in Ut&&!Ut.completed){if(Ut.completed=!0,Ut.hasMask){var Kt=Ut.masksProperties;for(Bt=Kt.length,Ot=0;Ot<Bt;Ot+=1)if(Kt[Ot].pt.k.i)wt(Kt[Ot].pt.k);else for(an=Kt[Ot].pt.k.length,Qt=0;Qt<an;Qt+=1)Kt[Ot].pt.k[Qt].s&&wt(Kt[Ot].pt.k[Qt].s[0]),Kt[Ot].pt.k[Qt].e&&wt(Kt[Ot].pt.k[Qt].e[0])}Ut.ty===0?(Ut.layers=vt(Ut.refId,Ft),_t(Ut.layers,Ft)):Ut.ty===4?St(Ut.shapes):Ut.ty===5&&Wt(Ut)}}function pt(Xt,Ft){if(Xt){var Ut=0,At=Xt.length;for(Ut=0;Ut<At;Ut+=1)Xt[Ut].t===1&&(Xt[Ut].data.layers=vt(Xt[Ut].data.refId,Ft),_t(Xt[Ut].data.layers,Ft))}}function xt(Xt,Ft){for(var Ut=0,At=Ft.length;Ut<At;){if(Ft[Ut].id===Xt)return Ft[Ut];Ut+=1}return null}function vt(Xt,Ft){var Ut=xt(Xt,Ft);return Ut?Ut.layers.__used?JSON.parse(JSON.stringify(Ut.layers)):(Ut.layers.__used=!0,Ut.layers):null}function St(Xt){var Ft,Ut=Xt.length,At,kt;for(Ft=Ut-1;Ft>=0;Ft-=1)if(Xt[Ft].ty==="sh")if(Xt[Ft].ks.k.i)wt(Xt[Ft].ks.k);else for(kt=Xt[Ft].ks.k.length,At=0;At<kt;At+=1)Xt[Ft].ks.k[At].s&&wt(Xt[Ft].ks.k[At].s[0]),Xt[Ft].ks.k[At].e&&wt(Xt[Ft].ks.k[At].e[0]);else Xt[Ft].ty==="gr"&&St(Xt[Ft].it)}function wt(Xt){var Ft,Ut=Xt.i.length;for(Ft=0;Ft<Ut;Ft+=1)Xt.i[Ft][0]+=Xt.v[Ft][0],Xt.i[Ft][1]+=Xt.v[Ft][1],Xt.o[Ft][0]+=Xt.v[Ft][0],Xt.o[Ft][1]+=Xt.v[Ft][1]}function Mt(Xt,Ft){var Ut=Ft?Ft.split("."):[100,100,100];return Xt[0]>Ut[0]?!0:Ut[0]>Xt[0]?!1:Xt[1]>Ut[1]?!0:Ut[1]>Xt[1]?!1:Xt[2]>Ut[2]?!0:Ut[2]>Xt[2]?!1:null}var Ct=function(){var Xt=[4,4,14];function Ft(At){var kt=At.t.d;At.t.d={k:[{s:kt,t:0}]}}function Ut(At){var kt,Ot=At.length;for(kt=0;kt<Ot;kt+=1)At[kt].ty===5&&Ft(At[kt])}return function(At){if(Mt(Xt,At.v)&&(Ut(At.layers),At.assets)){var kt,Ot=At.assets.length;for(kt=0;kt<Ot;kt+=1)At.assets[kt].layers&&Ut(At.assets[kt].layers)}}}(),Rt=function(){var Xt=[4,7,99];return function(Ft){if(Ft.chars&&!Mt(Xt,Ft.v)){var Ut,At=Ft.chars.length;for(Ut=0;Ut<At;Ut+=1){var kt=Ft.chars[Ut];kt.data&&kt.data.shapes&&(St(kt.data.shapes),kt.data.ip=0,kt.data.op=99999,kt.data.st=0,kt.data.sr=1,kt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Ft.chars[Ut].t||(kt.data.shapes.push({ty:"no"}),kt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Lt=function(){var Xt=[5,7,15];function Ft(At){var kt=At.t.p;typeof kt.a=="number"&&(kt.a={a:0,k:kt.a}),typeof kt.p=="number"&&(kt.p={a:0,k:kt.p}),typeof kt.r=="number"&&(kt.r={a:0,k:kt.r})}function Ut(At){var kt,Ot=At.length;for(kt=0;kt<Ot;kt+=1)At[kt].ty===5&&Ft(At[kt])}return function(At){if(Mt(Xt,At.v)&&(Ut(At.layers),At.assets)){var kt,Ot=At.assets.length;for(kt=0;kt<Ot;kt+=1)At.assets[kt].layers&&Ut(At.assets[kt].layers)}}}(),It=function(){var Xt=[4,1,9];function Ft(At){var kt,Ot=At.length,Bt,Qt;for(kt=0;kt<Ot;kt+=1)if(At[kt].ty==="gr")Ft(At[kt].it);else if(At[kt].ty==="fl"||At[kt].ty==="st")if(At[kt].c.k&&At[kt].c.k[0].i)for(Qt=At[kt].c.k.length,Bt=0;Bt<Qt;Bt+=1)At[kt].c.k[Bt].s&&(At[kt].c.k[Bt].s[0]/=255,At[kt].c.k[Bt].s[1]/=255,At[kt].c.k[Bt].s[2]/=255,At[kt].c.k[Bt].s[3]/=255),At[kt].c.k[Bt].e&&(At[kt].c.k[Bt].e[0]/=255,At[kt].c.k[Bt].e[1]/=255,At[kt].c.k[Bt].e[2]/=255,At[kt].c.k[Bt].e[3]/=255);else At[kt].c.k[0]/=255,At[kt].c.k[1]/=255,At[kt].c.k[2]/=255,At[kt].c.k[3]/=255}function Ut(At){var kt,Ot=At.length;for(kt=0;kt<Ot;kt+=1)At[kt].ty===4&&Ft(At[kt].shapes)}return function(At){if(Mt(Xt,At.v)&&(Ut(At.layers),At.assets)){var kt,Ot=At.assets.length;for(kt=0;kt<Ot;kt+=1)At.assets[kt].layers&&Ut(At.assets[kt].layers)}}}(),Nt=function(){var Xt=[4,4,18];function Ft(At){var kt,Ot=At.length,Bt,Qt;for(kt=Ot-1;kt>=0;kt-=1)if(At[kt].ty==="sh")if(At[kt].ks.k.i)At[kt].ks.k.c=At[kt].closed;else for(Qt=At[kt].ks.k.length,Bt=0;Bt<Qt;Bt+=1)At[kt].ks.k[Bt].s&&(At[kt].ks.k[Bt].s[0].c=At[kt].closed),At[kt].ks.k[Bt].e&&(At[kt].ks.k[Bt].e[0].c=At[kt].closed);else At[kt].ty==="gr"&&Ft(At[kt].it)}function Ut(At){var kt,Ot,Bt=At.length,Qt,an,Kt,ln;for(Ot=0;Ot<Bt;Ot+=1){if(kt=At[Ot],kt.hasMask){var vn=kt.masksProperties;for(an=vn.length,Qt=0;Qt<an;Qt+=1)if(vn[Qt].pt.k.i)vn[Qt].pt.k.c=vn[Qt].cl;else for(ln=vn[Qt].pt.k.length,Kt=0;Kt<ln;Kt+=1)vn[Qt].pt.k[Kt].s&&(vn[Qt].pt.k[Kt].s[0].c=vn[Qt].cl),vn[Qt].pt.k[Kt].e&&(vn[Qt].pt.k[Kt].e[0].c=vn[Qt].cl)}kt.ty===4&&Ft(kt.shapes)}}return function(At){if(Mt(Xt,At.v)&&(Ut(At.layers),At.assets)){var kt,Ot=At.assets.length;for(kt=0;kt<Ot;kt+=1)At.assets[kt].layers&&Ut(At.assets[kt].layers)}}}();function zt(Xt){Xt.__complete||(It(Xt),Ct(Xt),Rt(Xt),Lt(Xt),Nt(Xt),_t(Xt.layers,Xt.assets),pt(Xt.chars,Xt.assets),Xt.__complete=!0)}function Wt(Xt){Xt.t.a.length===0&&"m"in Xt.t.p}var Yt={};return Yt.completeData=zt,Yt.checkColors=It,Yt.checkChars=Rt,Yt.checkPathProperties=Lt,Yt.checkShapes=Nt,Yt.completeLayers=_t,Yt}if(it.dataManager||(it.dataManager=gt()),it.assetLoader||(it.assetLoader=function(){function _t(xt){var vt=xt.getResponseHeader("content-type");return vt&&xt.responseType==="json"&&vt.indexOf("json")!==-1||xt.response&&_typeof$5(xt.response)==="object"?xt.response:xt.response&&typeof xt.response=="string"?JSON.parse(xt.response):xt.responseText?JSON.parse(xt.responseText):null}function pt(xt,vt,St,wt){var Mt,Ct=new XMLHttpRequest;try{Ct.responseType="json"}catch{}Ct.onreadystatechange=function(){if(Ct.readyState===4)if(Ct.status===200)Mt=_t(Ct),St(Mt);else try{Mt=_t(Ct),St(Mt)}catch(Rt){wt&&wt(Rt)}};try{Ct.open(["G","E","T"].join(""),xt,!0)}catch{Ct.open(["G","E","T"].join(""),vt+"/"+xt,!0)}Ct.send()}return{load:pt}}()),mt.data.type==="loadAnimation")it.assetLoader.load(mt.data.path,mt.data.fullPath,function(_t){it.dataManager.completeData(_t),it.postMessage({id:mt.data.id,payload:_t,status:"success"})},function(){it.postMessage({id:mt.data.id,status:"error"})});else if(mt.data.type==="complete"){var yt=mt.data.animation;it.dataManager.completeData(yt),it.postMessage({id:mt.data.id,payload:yt,status:"success"})}else mt.data.type==="loadData"&&it.assetLoader.load(mt.data.path,mt.data.fullPath,function(_t){it.postMessage({id:mt.data.id,payload:_t,status:"success"})},function(){it.postMessage({id:mt.data.id,status:"error"})})}),nt.onmessage=function(ht){var mt=ht.data,gt=mt.id,yt=c[gt];c[gt]=null,mt.status==="success"?yt.onComplete(mt.payload):yt.onError&&yt.onError()})}function ot(ht,mt){et+=1;var gt="processId_"+et;return c[gt]={onComplete:ht,onError:mt},gt}function lt(ht,mt,gt){at();var yt=ot(mt,gt);nt.postMessage({type:"loadAnimation",path:ht,fullPath:window.location.origin+window.location.pathname,id:yt})}function ct(ht,mt,gt){at();var yt=ot(mt,gt);nt.postMessage({type:"loadData",path:ht,fullPath:window.location.origin+window.location.pathname,id:yt})}function dt(ht,mt,gt){at();var yt=ot(mt,gt);nt.postMessage({type:"complete",animation:ht,id:yt})}return{loadAnimation:lt,loadData:ct,completeAnimation:dt}}(),ImagePreloader=function(){var et=function(){var pt=createTag("canvas");pt.width=1,pt.height=1;var xt=pt.getContext("2d");return xt.fillStyle="rgba(0,0,0,0)",xt.fillRect(0,0,1,1),pt}();function c(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function tt(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function nt(pt,xt,vt){var St="";if(pt.e)St=pt.p;else if(xt){var wt=pt.p;wt.indexOf("images/")!==-1&&(wt=wt.split("/")[1]),St=xt+wt}else St=vt,St+=pt.u?pt.u:"",St+=pt.p;return St}function rt(pt){var xt=0,vt=setInterval((function(){var St=pt.getBBox();(St.width||xt>500)&&(this._imageLoaded(),clearInterval(vt)),xt+=1}).bind(this),50)}function it(pt){var xt=nt(pt,this.assetsPath,this.path),vt=createNS("image");isSafari?this.testImageLoaded(vt):vt.addEventListener("load",this._imageLoaded,!1),vt.addEventListener("error",(function(){St.img=et,this._imageLoaded()}).bind(this),!1),vt.setAttributeNS("http://www.w3.org/1999/xlink","href",xt),this._elementHelper.append?this._elementHelper.append(vt):this._elementHelper.appendChild(vt);var St={img:vt,assetData:pt};return St}function st(pt){var xt=nt(pt,this.assetsPath,this.path),vt=createTag("img");vt.crossOrigin="anonymous",vt.addEventListener("load",this._imageLoaded,!1),vt.addEventListener("error",(function(){St.img=et,this._imageLoaded()}).bind(this),!1),vt.src=xt;var St={img:vt,assetData:pt};return St}function at(pt){var xt={assetData:pt},vt=nt(pt,this.assetsPath,this.path);return dataManager.loadData(vt,(function(St){xt.img=St,this._footageLoaded()}).bind(this),(function(){xt.img={},this._footageLoaded()}).bind(this)),xt}function ot(pt,xt){this.imagesLoadedCb=xt;var vt,St=pt.length;for(vt=0;vt<St;vt+=1)pt[vt].layers||(!pt[vt].t||pt[vt].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(pt[vt]))):pt[vt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(pt[vt]))))}function lt(pt){this.path=pt||""}function ct(pt){this.assetsPath=pt||""}function dt(pt){for(var xt=0,vt=this.images.length;xt<vt;){if(this.images[xt].assetData===pt)return this.images[xt].img;xt+=1}return null}function ht(){this.imagesLoadedCb=null,this.images.length=0}function mt(){return this.totalImages===this.loadedAssets}function gt(){return this.totalFootages===this.loadedFootagesCount}function yt(pt,xt){pt==="svg"?(this._elementHelper=xt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function _t(){this._imageLoaded=c.bind(this),this._footageLoaded=tt.bind(this),this.testImageLoaded=rt.bind(this),this.createFootageData=at.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return _t.prototype={loadAssets:ot,setAssetsPath:ct,setPath:lt,loadedImages:mt,loadedFootages:gt,destroy:ht,getAsset:dt,createImgData:st,createImageData:it,imageLoaded:c,footageLoaded:tt,setCacheType:yt},_t}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(c,tt){if(this._cbs[c])for(var nt=this._cbs[c],rt=0;rt<nt.length;rt+=1)nt[rt](tt)},addEventListener:function(c,tt){return this._cbs[c]||(this._cbs[c]=[]),this._cbs[c].push(tt),(function(){this.removeEventListener(c,tt)}).bind(this)},removeEventListener:function(c,tt){if(!tt)this._cbs[c]=null;else if(this._cbs[c]){for(var nt=0,rt=this._cbs[c].length;nt<rt;)this._cbs[c][nt]===tt&&(this._cbs[c].splice(nt,1),nt-=1,rt-=1),nt+=1;this._cbs[c].length||(this._cbs[c]=null)}}};var markerParser=function(){function et(c){for(var tt=c.split(`\r
`),nt={},rt,it=0,st=0;st<tt.length;st+=1)rt=tt[st].split(":"),rt.length===2&&(nt[rt[0]]=rt[1].trim(),it+=1);if(it===0)throw new Error;return nt}return function(c){for(var tt=[],nt=0;nt<c.length;nt+=1){var rt=c[nt],it={time:rt.tm,duration:rt.dr};try{it.payload=JSON.parse(c[nt].cm)}catch{try{it.payload=et(c[nt].cm)}catch{it.payload={name:c[nt].cm}}}tt.push(it)}return tt}}(),ProjectInterface=function(){function et(c){this.compositions.push(c)}return function(){function c(tt){for(var nt=0,rt=this.compositions.length;nt<rt;){if(this.compositions[nt].data&&this.compositions[nt].data.nm===tt)return this.compositions[nt].prepareFrame&&this.compositions[nt].data.xt&&this.compositions[nt].prepareFrame(this.currentFrame),this.compositions[nt].compInterface;nt+=1}return null}return c.compositions=[],c.currentFrame=0,c.registerComposition=et,c}}(),renderers={},registerRenderer=function(c,tt){renderers[c]=tt};function getRenderer(et){return renderers[et]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var et in renderers)if(renderers[et])return et;return""}function _typeof$4(et){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_typeof$4(et)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(et){(et.wrapper||et.container)&&(this.wrapper=et.wrapper||et.container);var c="svg";et.animType?c=et.animType:et.renderer&&(c=et.renderer);var tt=getRenderer(c);this.renderer=new tt(this,et.rendererSettings),this.imagePreloader.setCacheType(c,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=c,et.loop===""||et.loop===null||et.loop===void 0||et.loop===!0?this.loop=!0:et.loop===!1?this.loop=!1:this.loop=parseInt(et.loop,10),this.autoplay="autoplay"in et?et.autoplay:!0,this.name=et.name?et.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(et,"autoloadSegments")?et.autoloadSegments:!0,this.assetsPath=et.assetsPath,this.initialSegment=et.initialSegment,et.audioFactory&&this.audioController.setAudioFactory(et.audioFactory),et.animationData?this.setupAnimation(et.animationData):et.path&&(et.path.lastIndexOf("\\")!==-1?this.path=et.path.substr(0,et.path.lastIndexOf("\\")+1):this.path=et.path.substr(0,et.path.lastIndexOf("/")+1),this.fileName=et.path.substr(et.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(et.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(et){dataManager.completeAnimation(et,this.configAnimation)},AnimationItem.prototype.setData=function(et,c){c&&_typeof$4(c)!=="object"&&(c=JSON.parse(c));var tt={wrapper:et,animationData:c},nt=et.attributes;tt.path=nt.getNamedItem("data-animation-path")?nt.getNamedItem("data-animation-path").value:nt.getNamedItem("data-bm-path")?nt.getNamedItem("data-bm-path").value:nt.getNamedItem("bm-path")?nt.getNamedItem("bm-path").value:"",tt.animType=nt.getNamedItem("data-anim-type")?nt.getNamedItem("data-anim-type").value:nt.getNamedItem("data-bm-type")?nt.getNamedItem("data-bm-type").value:nt.getNamedItem("bm-type")?nt.getNamedItem("bm-type").value:nt.getNamedItem("data-bm-renderer")?nt.getNamedItem("data-bm-renderer").value:nt.getNamedItem("bm-renderer")?nt.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var rt=nt.getNamedItem("data-anim-loop")?nt.getNamedItem("data-anim-loop").value:nt.getNamedItem("data-bm-loop")?nt.getNamedItem("data-bm-loop").value:nt.getNamedItem("bm-loop")?nt.getNamedItem("bm-loop").value:"";rt==="false"?tt.loop=!1:rt==="true"?tt.loop=!0:rt!==""&&(tt.loop=parseInt(rt,10));var it=nt.getNamedItem("data-anim-autoplay")?nt.getNamedItem("data-anim-autoplay").value:nt.getNamedItem("data-bm-autoplay")?nt.getNamedItem("data-bm-autoplay").value:nt.getNamedItem("bm-autoplay")?nt.getNamedItem("bm-autoplay").value:!0;tt.autoplay=it!=="false",tt.name=nt.getNamedItem("data-name")?nt.getNamedItem("data-name").value:nt.getNamedItem("data-bm-name")?nt.getNamedItem("data-bm-name").value:nt.getNamedItem("bm-name")?nt.getNamedItem("bm-name").value:"";var st=nt.getNamedItem("data-anim-prerender")?nt.getNamedItem("data-anim-prerender").value:nt.getNamedItem("data-bm-prerender")?nt.getNamedItem("data-bm-prerender").value:nt.getNamedItem("bm-prerender")?nt.getNamedItem("bm-prerender").value:"";st==="false"&&(tt.prerender=!1),tt.path?this.setParams(tt):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(et){et.op>this.animationData.op&&(this.animationData.op=et.op,this.totalFrames=Math.floor(et.op-this.animationData.ip));var c=this.animationData.layers,tt,nt=c.length,rt=et.layers,it,st=rt.length;for(it=0;it<st;it+=1)for(tt=0;tt<nt;){if(c[tt].id===rt[it].id){c[tt]=rt[it];break}tt+=1}if((et.chars||et.fonts)&&(this.renderer.globalData.fontManager.addChars(et.chars),this.renderer.globalData.fontManager.addFonts(et.fonts,this.renderer.globalData.defs)),et.assets)for(nt=et.assets.length,tt=0;tt<nt;tt+=1)this.animationData.assets.push(et.assets[tt]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(et){this.animationData=et;var c=getExpressionsPlugin();c&&c.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var et=this.animationData.segments;if(!et||et.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var c=et.shift();this.timeCompleted=c.time*this.frameRate;var tt=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(tt,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var et=this.animationData.segments;et||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(et){if(this.renderer)try{this.animationData=et,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(et),et.assets||(et.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(et.assets),this.markers=markerParser(et.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(c){this.triggerConfigError(c)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var et=getExpressionsPlugin();et&&et.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(et,c){var tt=typeof et=="number"?et:void 0,nt=typeof c=="number"?c:void 0;this.renderer.updateContainerSize(tt,nt)},AnimationItem.prototype.setSubframe=function(et){this.isSubframeEnabled=!!et},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(et){this.triggerRenderFrameError(et)}},AnimationItem.prototype.play=function(et){et&&this.name!==et||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(et){et&&this.name!==et||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(et){et&&this.name!==et||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(et){et&&this.name!==et||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(et){for(var c,tt=0;tt<this.markers.length;tt+=1)if(c=this.markers[tt],c.payload&&c.payload.name===et)return c;return null},AnimationItem.prototype.goToAndStop=function(et,c,tt){if(!(tt&&this.name!==tt)){var nt=Number(et);if(isNaN(nt)){var rt=this.getMarkerData(et);rt&&this.goToAndStop(rt.time,!0)}else c?this.setCurrentRawFrameValue(et):this.setCurrentRawFrameValue(et*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(et,c,tt){if(!(tt&&this.name!==tt)){var nt=Number(et);if(isNaN(nt)){var rt=this.getMarkerData(et);rt&&(rt.duration?this.playSegments([rt.time,rt.time+rt.duration],!0):this.goToAndStop(rt.time,!0))}else this.goToAndStop(nt,c,tt);this.play()}},AnimationItem.prototype.advanceTime=function(et){if(!(this.isPaused===!0||this.isLoaded===!1)){var c=this.currentRawFrame+et*this.frameModifier,tt=!1;c>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(c>this.totalFrames?c%this.totalFrames:0)||(tt=!0,c=this.totalFrames-1):c>=this.totalFrames?(this.playCount+=1,this.checkSegments(c%this.totalFrames)||(this.setCurrentRawFrameValue(c%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(c):c<0?this.checkSegments(c%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+c%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(tt=!0,c=0)):this.setCurrentRawFrameValue(c),tt&&(this.setCurrentRawFrameValue(c),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(et,c){this.playCount=0,et[1]<et[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=et[0]-et[1],this.timeCompleted=this.totalFrames,this.firstFrame=et[1],this.setCurrentRawFrameValue(this.totalFrames-.001-c)):et[1]>et[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=et[1]-et[0],this.timeCompleted=this.totalFrames,this.firstFrame=et[0],this.setCurrentRawFrameValue(.001+c)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(et,c){var tt=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<et?tt=et:this.currentRawFrame+this.firstFrame>c&&(tt=c-et)),this.firstFrame=et,this.totalFrames=c-et,this.timeCompleted=this.totalFrames,tt!==-1&&this.goToAndStop(tt,!0)},AnimationItem.prototype.playSegments=function(et,c){if(c&&(this.segments.length=0),_typeof$4(et[0])==="object"){var tt,nt=et.length;for(tt=0;tt<nt;tt+=1)this.segments.push(et[tt])}else this.segments.push(et);this.segments.length&&c&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(et){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),et&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(et){return this.segments.length?(this.adjustSegment(this.segments.shift(),et),!0):!1},AnimationItem.prototype.destroy=function(et){et&&this.name!==et||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(et){this.currentRawFrame=et,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(et){this.playSpeed=et,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(et){this.playDirection=et<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(et){this.loop=et},AnimationItem.prototype.setVolume=function(et,c){c&&this.name!==c||this.audioController.setVolume(et)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(et){et&&this.name!==et||this.audioController.mute()},AnimationItem.prototype.unmute=function(et){et&&this.name!==et||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(et){var c="";if(et.e)c=et.p;else if(this.assetsPath){var tt=et.p;tt.indexOf("images/")!==-1&&(tt=tt.split("/")[1]),c=this.assetsPath+tt}else c=this.path,c+=et.u?et.u:"",c+=et.p;return c},AnimationItem.prototype.getAssetData=function(et){for(var c=0,tt=this.assets.length;c<tt;){if(et===this.assets[c].id)return this.assets[c];c+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(et){return et?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(et,c,tt){try{var nt=this.renderer.getElementByPath(et);nt.updateDocumentData(c,tt)}catch{}},AnimationItem.prototype.trigger=function(et){if(this._cbs&&this._cbs[et])switch(et){case"enterFrame":this.triggerEvent(et,new BMEnterFrameEvent(et,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(et,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(et,new BMCompleteLoopEvent(et,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(et,new BMCompleteEvent(et,this.frameMult));break;case"segmentStart":this.triggerEvent(et,new BMSegmentStartEvent(et,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(et,new BMDestroyEvent(et,this));break;default:this.triggerEvent(et)}et==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(et,this.currentFrame,this.totalFrames,this.frameMult)),et==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(et,this.loop,this.playCount,this.frameMult)),et==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(et,this.frameMult)),et==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(et,this.firstFrame,this.totalFrames)),et==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(et,this))},AnimationItem.prototype.triggerRenderFrameError=function(et){var c=new BMRenderFrameErrorEvent(et,this.currentFrame);this.triggerEvent("error",c),this.onError&&this.onError.call(this,c)},AnimationItem.prototype.triggerConfigError=function(et){var c=new BMConfigErrorEvent(et,this.currentFrame);this.triggerEvent("error",c),this.onError&&this.onError.call(this,c)};var animationManager=function(){var et={},c=[],tt=0,nt=0,rt=0,it=!0,st=!1;function at(Ft){for(var Ut=0,At=Ft.target;Ut<nt;)c[Ut].animation===At&&(c.splice(Ut,1),Ut-=1,nt-=1,At.isPaused||dt()),Ut+=1}function ot(Ft,Ut){if(!Ft)return null;for(var At=0;At<nt;){if(c[At].elem===Ft&&c[At].elem!==null)return c[At].animation;At+=1}var kt=new AnimationItem;return ht(kt,Ft),kt.setData(Ft,Ut),kt}function lt(){var Ft,Ut=c.length,At=[];for(Ft=0;Ft<Ut;Ft+=1)At.push(c[Ft].animation);return At}function ct(){rt+=1,It()}function dt(){rt-=1}function ht(Ft,Ut){Ft.addEventListener("destroy",at),Ft.addEventListener("_active",ct),Ft.addEventListener("_idle",dt),c.push({elem:Ut,animation:Ft}),nt+=1}function mt(Ft){var Ut=new AnimationItem;return ht(Ut,null),Ut.setParams(Ft),Ut}function gt(Ft,Ut){var At;for(At=0;At<nt;At+=1)c[At].animation.setSpeed(Ft,Ut)}function yt(Ft,Ut){var At;for(At=0;At<nt;At+=1)c[At].animation.setDirection(Ft,Ut)}function _t(Ft){var Ut;for(Ut=0;Ut<nt;Ut+=1)c[Ut].animation.play(Ft)}function pt(Ft){var Ut=Ft-tt,At;for(At=0;At<nt;At+=1)c[At].animation.advanceTime(Ut);tt=Ft,rt&&!st?window.requestAnimationFrame(pt):it=!0}function xt(Ft){tt=Ft,window.requestAnimationFrame(pt)}function vt(Ft){var Ut;for(Ut=0;Ut<nt;Ut+=1)c[Ut].animation.pause(Ft)}function St(Ft,Ut,At){var kt;for(kt=0;kt<nt;kt+=1)c[kt].animation.goToAndStop(Ft,Ut,At)}function wt(Ft){var Ut;for(Ut=0;Ut<nt;Ut+=1)c[Ut].animation.stop(Ft)}function Mt(Ft){var Ut;for(Ut=0;Ut<nt;Ut+=1)c[Ut].animation.togglePause(Ft)}function Ct(Ft){var Ut;for(Ut=nt-1;Ut>=0;Ut-=1)c[Ut].animation.destroy(Ft)}function Rt(Ft,Ut,At){var kt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Ot,Bt=kt.length;for(Ot=0;Ot<Bt;Ot+=1)At&&kt[Ot].setAttribute("data-bm-type",At),ot(kt[Ot],Ft);if(Ut&&Bt===0){At||(At="svg");var Qt=document.getElementsByTagName("body")[0];Qt.innerText="";var an=createTag("div");an.style.width="100%",an.style.height="100%",an.setAttribute("data-bm-type",At),Qt.appendChild(an),ot(an,Ft)}}function Lt(){var Ft;for(Ft=0;Ft<nt;Ft+=1)c[Ft].animation.resize()}function It(){!st&&rt&&it&&(window.requestAnimationFrame(xt),it=!1)}function Nt(){st=!0}function zt(){st=!1,It()}function Wt(Ft,Ut){var At;for(At=0;At<nt;At+=1)c[At].animation.setVolume(Ft,Ut)}function Yt(Ft){var Ut;for(Ut=0;Ut<nt;Ut+=1)c[Ut].animation.mute(Ft)}function Xt(Ft){var Ut;for(Ut=0;Ut<nt;Ut+=1)c[Ut].animation.unmute(Ft)}return et.registerAnimation=ot,et.loadAnimation=mt,et.setSpeed=gt,et.setDirection=yt,et.play=_t,et.pause=vt,et.stop=wt,et.togglePause=Mt,et.searchAnimations=Rt,et.resize=Lt,et.goToAndStop=St,et.destroy=Ct,et.freeze=Nt,et.unfreeze=zt,et.setVolume=Wt,et.mute=Yt,et.unmute=Xt,et.getRegisteredAnimations=lt,et}(),BezierFactory=function(){var et={};et.getBezierEasing=tt;var c={};function tt(xt,vt,St,wt,Mt){var Ct=Mt||("bez_"+xt+"_"+vt+"_"+St+"_"+wt).replace(/\./g,"p");if(c[Ct])return c[Ct];var Rt=new pt([xt,vt,St,wt]);return c[Ct]=Rt,Rt}var nt=4,rt=.001,it=1e-7,st=10,at=11,ot=1/(at-1),lt=typeof Float32Array=="function";function ct(xt,vt){return 1-3*vt+3*xt}function dt(xt,vt){return 3*vt-6*xt}function ht(xt){return 3*xt}function mt(xt,vt,St){return((ct(vt,St)*xt+dt(vt,St))*xt+ht(vt))*xt}function gt(xt,vt,St){return 3*ct(vt,St)*xt*xt+2*dt(vt,St)*xt+ht(vt)}function yt(xt,vt,St,wt,Mt){var Ct,Rt,Lt=0;do Rt=vt+(St-vt)/2,Ct=mt(Rt,wt,Mt)-xt,Ct>0?St=Rt:vt=Rt;while(Math.abs(Ct)>it&&++Lt<st);return Rt}function _t(xt,vt,St,wt){for(var Mt=0;Mt<nt;++Mt){var Ct=gt(vt,St,wt);if(Ct===0)return vt;var Rt=mt(vt,St,wt)-xt;vt-=Rt/Ct}return vt}function pt(xt){this._p=xt,this._mSampleValues=lt?new Float32Array(at):new Array(at),this._precomputed=!1,this.get=this.get.bind(this)}return pt.prototype={get:function(vt){var St=this._p[0],wt=this._p[1],Mt=this._p[2],Ct=this._p[3];return this._precomputed||this._precompute(),St===wt&&Mt===Ct?vt:vt===0?0:vt===1?1:mt(this._getTForX(vt),wt,Ct)},_precompute:function(){var vt=this._p[0],St=this._p[1],wt=this._p[2],Mt=this._p[3];this._precomputed=!0,(vt!==St||wt!==Mt)&&this._calcSampleValues()},_calcSampleValues:function(){for(var vt=this._p[0],St=this._p[2],wt=0;wt<at;++wt)this._mSampleValues[wt]=mt(wt*ot,vt,St)},_getTForX:function(vt){for(var St=this._p[0],wt=this._p[2],Mt=this._mSampleValues,Ct=0,Rt=1,Lt=at-1;Rt!==Lt&&Mt[Rt]<=vt;++Rt)Ct+=ot;--Rt;var It=(vt-Mt[Rt])/(Mt[Rt+1]-Mt[Rt]),Nt=Ct+It*ot,zt=gt(Nt,St,wt);return zt>=rt?_t(vt,Nt,St,wt):zt===0?Nt:yt(vt,Ct,Ct+ot,St,wt)}},et}(),pooling=function(){function et(c){return c.concat(createSizedArray(c.length))}return{double:et}}(),poolFactory=function(){return function(et,c,tt){var nt=0,rt=et,it=createSizedArray(rt),st={newElement:at,release:ot};function at(){var lt;return nt?(nt-=1,lt=it[nt]):lt=c(),lt}function ot(lt){nt===rt&&(it=pooling.double(it),rt*=2),tt&&tt(lt),it[nt]=lt,nt+=1}return st}}(),bezierLengthPool=function(){function et(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,et)}(),segmentsLengthPool=function(){function et(){return{lengths:[],totalLength:0}}function c(tt){var nt,rt=tt.lengths.length;for(nt=0;nt<rt;nt+=1)bezierLengthPool.release(tt.lengths[nt]);tt.lengths.length=0}return poolFactory(8,et,c)}();function bezFunction(){var et=Math;function c(ht,mt,gt,yt,_t,pt){var xt=ht*yt+mt*_t+gt*pt-_t*yt-pt*ht-gt*mt;return xt>-.001&&xt<.001}function tt(ht,mt,gt,yt,_t,pt,xt,vt,St){if(gt===0&&pt===0&&St===0)return c(ht,mt,yt,_t,xt,vt);var wt=et.sqrt(et.pow(yt-ht,2)+et.pow(_t-mt,2)+et.pow(pt-gt,2)),Mt=et.sqrt(et.pow(xt-ht,2)+et.pow(vt-mt,2)+et.pow(St-gt,2)),Ct=et.sqrt(et.pow(xt-yt,2)+et.pow(vt-_t,2)+et.pow(St-pt,2)),Rt;return wt>Mt?wt>Ct?Rt=wt-Mt-Ct:Rt=Ct-Mt-wt:Ct>Mt?Rt=Ct-Mt-wt:Rt=Mt-wt-Ct,Rt>-1e-4&&Rt<1e-4}var nt=function(){return function(ht,mt,gt,yt){var _t=getDefaultCurveSegments(),pt,xt,vt,St,wt,Mt=0,Ct,Rt=[],Lt=[],It=bezierLengthPool.newElement();for(vt=gt.length,pt=0;pt<_t;pt+=1){for(wt=pt/(_t-1),Ct=0,xt=0;xt<vt;xt+=1)St=bmPow(1-wt,3)*ht[xt]+3*bmPow(1-wt,2)*wt*gt[xt]+3*(1-wt)*bmPow(wt,2)*yt[xt]+bmPow(wt,3)*mt[xt],Rt[xt]=St,Lt[xt]!==null&&(Ct+=bmPow(Rt[xt]-Lt[xt],2)),Lt[xt]=Rt[xt];Ct&&(Ct=bmSqrt(Ct),Mt+=Ct),It.percents[pt]=wt,It.lengths[pt]=Mt}return It.addedLength=Mt,It}}();function rt(ht){var mt=segmentsLengthPool.newElement(),gt=ht.c,yt=ht.v,_t=ht.o,pt=ht.i,xt,vt=ht._length,St=mt.lengths,wt=0;for(xt=0;xt<vt-1;xt+=1)St[xt]=nt(yt[xt],yt[xt+1],_t[xt],pt[xt+1]),wt+=St[xt].addedLength;return gt&&vt&&(St[xt]=nt(yt[xt],yt[0],_t[xt],pt[0]),wt+=St[xt].addedLength),mt.totalLength=wt,mt}function it(ht){this.segmentLength=0,this.points=new Array(ht)}function st(ht,mt){this.partialLength=ht,this.point=mt}var at=function(){var ht={};return function(mt,gt,yt,_t){var pt=(mt[0]+"_"+mt[1]+"_"+gt[0]+"_"+gt[1]+"_"+yt[0]+"_"+yt[1]+"_"+_t[0]+"_"+_t[1]).replace(/\./g,"p");if(!ht[pt]){var xt=getDefaultCurveSegments(),vt,St,wt,Mt,Ct,Rt=0,Lt,It,Nt=null;mt.length===2&&(mt[0]!==gt[0]||mt[1]!==gt[1])&&c(mt[0],mt[1],gt[0],gt[1],mt[0]+yt[0],mt[1]+yt[1])&&c(mt[0],mt[1],gt[0],gt[1],gt[0]+_t[0],gt[1]+_t[1])&&(xt=2);var zt=new it(xt);for(wt=yt.length,vt=0;vt<xt;vt+=1){for(It=createSizedArray(wt),Ct=vt/(xt-1),Lt=0,St=0;St<wt;St+=1)Mt=bmPow(1-Ct,3)*mt[St]+3*bmPow(1-Ct,2)*Ct*(mt[St]+yt[St])+3*(1-Ct)*bmPow(Ct,2)*(gt[St]+_t[St])+bmPow(Ct,3)*gt[St],It[St]=Mt,Nt!==null&&(Lt+=bmPow(It[St]-Nt[St],2));Lt=bmSqrt(Lt),Rt+=Lt,zt.points[vt]=new st(Lt,It),Nt=It}zt.segmentLength=Rt,ht[pt]=zt}return ht[pt]}}();function ot(ht,mt){var gt=mt.percents,yt=mt.lengths,_t=gt.length,pt=bmFloor((_t-1)*ht),xt=ht*mt.addedLength,vt=0;if(pt===_t-1||pt===0||xt===yt[pt])return gt[pt];for(var St=yt[pt]>xt?-1:1,wt=!0;wt;)if(yt[pt]<=xt&&yt[pt+1]>xt?(vt=(xt-yt[pt])/(yt[pt+1]-yt[pt]),wt=!1):pt+=St,pt<0||pt>=_t-1){if(pt===_t-1)return gt[pt];wt=!1}return gt[pt]+(gt[pt+1]-gt[pt])*vt}function lt(ht,mt,gt,yt,_t,pt){var xt=ot(_t,pt),vt=1-xt,St=et.round((vt*vt*vt*ht[0]+(xt*vt*vt+vt*xt*vt+vt*vt*xt)*gt[0]+(xt*xt*vt+vt*xt*xt+xt*vt*xt)*yt[0]+xt*xt*xt*mt[0])*1e3)/1e3,wt=et.round((vt*vt*vt*ht[1]+(xt*vt*vt+vt*xt*vt+vt*vt*xt)*gt[1]+(xt*xt*vt+vt*xt*xt+xt*vt*xt)*yt[1]+xt*xt*xt*mt[1])*1e3)/1e3;return[St,wt]}var ct=createTypedArray("float32",8);function dt(ht,mt,gt,yt,_t,pt,xt){_t<0?_t=0:_t>1&&(_t=1);var vt=ot(_t,xt);pt=pt>1?1:pt;var St=ot(pt,xt),wt,Mt=ht.length,Ct=1-vt,Rt=1-St,Lt=Ct*Ct*Ct,It=vt*Ct*Ct*3,Nt=vt*vt*Ct*3,zt=vt*vt*vt,Wt=Ct*Ct*Rt,Yt=vt*Ct*Rt+Ct*vt*Rt+Ct*Ct*St,Xt=vt*vt*Rt+Ct*vt*St+vt*Ct*St,Ft=vt*vt*St,Ut=Ct*Rt*Rt,At=vt*Rt*Rt+Ct*St*Rt+Ct*Rt*St,kt=vt*St*Rt+Ct*St*St+vt*Rt*St,Ot=vt*St*St,Bt=Rt*Rt*Rt,Qt=St*Rt*Rt+Rt*St*Rt+Rt*Rt*St,an=St*St*Rt+Rt*St*St+St*Rt*St,Kt=St*St*St;for(wt=0;wt<Mt;wt+=1)ct[wt*4]=et.round((Lt*ht[wt]+It*gt[wt]+Nt*yt[wt]+zt*mt[wt])*1e3)/1e3,ct[wt*4+1]=et.round((Wt*ht[wt]+Yt*gt[wt]+Xt*yt[wt]+Ft*mt[wt])*1e3)/1e3,ct[wt*4+2]=et.round((Ut*ht[wt]+At*gt[wt]+kt*yt[wt]+Ot*mt[wt])*1e3)/1e3,ct[wt*4+3]=et.round((Bt*ht[wt]+Qt*gt[wt]+an*yt[wt]+Kt*mt[wt])*1e3)/1e3;return ct}return{getSegmentsLength:rt,getNewSegment:dt,getPointInSegment:lt,buildBezierData:at,pointOnLine2D:c,pointOnLine3D:tt}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(et,c){var tt=this.offsetTime,nt;this.propType==="multidimensional"&&(nt=createTypedArray("float32",this.pv.length));for(var rt=c.lastIndex,it=rt,st=this.keyframes.length-1,at=!0,ot,lt,ct;at;){if(ot=this.keyframes[it],lt=this.keyframes[it+1],it===st-1&&et>=lt.t-tt){ot.h&&(ot=lt),rt=0;break}if(lt.t-tt>et){rt=it;break}it<st-1?it+=1:(rt=0,at=!1)}ct=this.keyframesMetadata[it]||{};var dt,ht,mt,gt,yt,_t,pt=lt.t-tt,xt=ot.t-tt,vt;if(ot.to){ct.bezierData||(ct.bezierData=bez.buildBezierData(ot.s,lt.s||ot.e,ot.to,ot.ti));var St=ct.bezierData;if(et>=pt||et<xt){var wt=et>=pt?St.points.length-1:0;for(ht=St.points[wt].point.length,dt=0;dt<ht;dt+=1)nt[dt]=St.points[wt].point[dt]}else{ct.__fnct?_t=ct.__fnct:(_t=BezierFactory.getBezierEasing(ot.o.x,ot.o.y,ot.i.x,ot.i.y,ot.n).get,ct.__fnct=_t),mt=_t((et-xt)/(pt-xt));var Mt=St.segmentLength*mt,Ct,Rt=c.lastFrame<et&&c._lastKeyframeIndex===it?c._lastAddedLength:0;for(yt=c.lastFrame<et&&c._lastKeyframeIndex===it?c._lastPoint:0,at=!0,gt=St.points.length;at;){if(Rt+=St.points[yt].partialLength,Mt===0||mt===0||yt===St.points.length-1){for(ht=St.points[yt].point.length,dt=0;dt<ht;dt+=1)nt[dt]=St.points[yt].point[dt];break}else if(Mt>=Rt&&Mt<Rt+St.points[yt+1].partialLength){for(Ct=(Mt-Rt)/St.points[yt+1].partialLength,ht=St.points[yt].point.length,dt=0;dt<ht;dt+=1)nt[dt]=St.points[yt].point[dt]+(St.points[yt+1].point[dt]-St.points[yt].point[dt])*Ct;break}yt<gt-1?yt+=1:at=!1}c._lastPoint=yt,c._lastAddedLength=Rt-St.points[yt].partialLength,c._lastKeyframeIndex=it}}else{var Lt,It,Nt,zt,Wt;if(st=ot.s.length,vt=lt.s||ot.e,this.sh&&ot.h!==1)if(et>=pt)nt[0]=vt[0],nt[1]=vt[1],nt[2]=vt[2];else if(et<=xt)nt[0]=ot.s[0],nt[1]=ot.s[1],nt[2]=ot.s[2];else{var Yt=createQuaternion(ot.s),Xt=createQuaternion(vt),Ft=(et-xt)/(pt-xt);quaternionToEuler(nt,slerp(Yt,Xt,Ft))}else for(it=0;it<st;it+=1)ot.h!==1&&(et>=pt?mt=1:et<xt?mt=0:(ot.o.x.constructor===Array?(ct.__fnct||(ct.__fnct=[]),ct.__fnct[it]?_t=ct.__fnct[it]:(Lt=ot.o.x[it]===void 0?ot.o.x[0]:ot.o.x[it],It=ot.o.y[it]===void 0?ot.o.y[0]:ot.o.y[it],Nt=ot.i.x[it]===void 0?ot.i.x[0]:ot.i.x[it],zt=ot.i.y[it]===void 0?ot.i.y[0]:ot.i.y[it],_t=BezierFactory.getBezierEasing(Lt,It,Nt,zt).get,ct.__fnct[it]=_t)):ct.__fnct?_t=ct.__fnct:(Lt=ot.o.x,It=ot.o.y,Nt=ot.i.x,zt=ot.i.y,_t=BezierFactory.getBezierEasing(Lt,It,Nt,zt).get,ot.keyframeMetadata=_t),mt=_t((et-xt)/(pt-xt)))),vt=lt.s||ot.e,Wt=ot.h===1?ot.s[it]:ot.s[it]+(vt[it]-ot.s[it])*mt,this.propType==="multidimensional"?nt[it]=Wt:nt=Wt}return c.lastIndex=rt,nt}function slerp(et,c,tt){var nt=[],rt=et[0],it=et[1],st=et[2],at=et[3],ot=c[0],lt=c[1],ct=c[2],dt=c[3],ht,mt,gt,yt,_t;return mt=rt*ot+it*lt+st*ct+at*dt,mt<0&&(mt=-mt,ot=-ot,lt=-lt,ct=-ct,dt=-dt),1-mt>1e-6?(ht=Math.acos(mt),gt=Math.sin(ht),yt=Math.sin((1-tt)*ht)/gt,_t=Math.sin(tt*ht)/gt):(yt=1-tt,_t=tt),nt[0]=yt*rt+_t*ot,nt[1]=yt*it+_t*lt,nt[2]=yt*st+_t*ct,nt[3]=yt*at+_t*dt,nt}function quaternionToEuler(et,c){var tt=c[0],nt=c[1],rt=c[2],it=c[3],st=Math.atan2(2*nt*it-2*tt*rt,1-2*nt*nt-2*rt*rt),at=Math.asin(2*tt*nt+2*rt*it),ot=Math.atan2(2*tt*it-2*nt*rt,1-2*tt*tt-2*rt*rt);et[0]=st/degToRads,et[1]=at/degToRads,et[2]=ot/degToRads}function createQuaternion(et){var c=et[0]*degToRads,tt=et[1]*degToRads,nt=et[2]*degToRads,rt=Math.cos(c/2),it=Math.cos(tt/2),st=Math.cos(nt/2),at=Math.sin(c/2),ot=Math.sin(tt/2),lt=Math.sin(nt/2),ct=rt*it*st-at*ot*lt,dt=at*ot*st+rt*it*lt,ht=at*it*st+rt*ot*lt,mt=rt*ot*st-at*it*lt;return[dt,ht,mt,ct]}function getValueAtCurrentTime(){var et=this.comp.renderedFrame-this.offsetTime,c=this.keyframes[0].t-this.offsetTime,tt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(et===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=tt&&et>=tt||this._caching.lastFrame<c&&et<c))){this._caching.lastFrame>=et&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var nt=this.interpolateValue(et,this._caching);this.pv=nt}return this._caching.lastFrame=et,this.pv}function setVValue(et){var c;if(this.propType==="unidimensional")c=et*this.mult,mathAbs(this.v-c)>1e-5&&(this.v=c,this._mdf=!0);else for(var tt=0,nt=this.v.length;tt<nt;)c=et[tt]*this.mult,mathAbs(this.v[tt]-c)>1e-5&&(this.v[tt]=c,this._mdf=!0),tt+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var et,c=this.effectsSequence.length,tt=this.kf?this.pv:this.data.k;for(et=0;et<c;et+=1)tt=this.effectsSequence[et](tt);this.setVValue(tt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(et){this.effectsSequence.push(et),this.container.addDynamicProperty(this)}function ValueProperty(et,c,tt,nt){this.propType="unidimensional",this.mult=tt||1,this.data=c,this.v=tt?c.k*tt:c.k,this.pv=c.k,this._mdf=!1,this.elem=et,this.container=nt,this.comp=et.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(et,c,tt,nt){this.propType="multidimensional",this.mult=tt||1,this.data=c,this._mdf=!1,this.elem=et,this.container=nt,this.comp=et.comp,this.k=!1,this.kf=!1,this.frameId=-1;var rt,it=c.k.length;for(this.v=createTypedArray("float32",it),this.pv=createTypedArray("float32",it),this.vel=createTypedArray("float32",it),rt=0;rt<it;rt+=1)this.v[rt]=c.k[rt]*this.mult,this.pv[rt]=c.k[rt];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(et,c,tt,nt){this.propType="unidimensional",this.keyframes=c.k,this.keyframesMetadata=[],this.offsetTime=et.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=c,this.mult=tt||1,this.elem=et,this.container=nt,this.comp=et.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(et,c,tt,nt){this.propType="multidimensional";var rt,it=c.k.length,st,at,ot,lt;for(rt=0;rt<it-1;rt+=1)c.k[rt].to&&c.k[rt].s&&c.k[rt+1]&&c.k[rt+1].s&&(st=c.k[rt].s,at=c.k[rt+1].s,ot=c.k[rt].to,lt=c.k[rt].ti,(st.length===2&&!(st[0]===at[0]&&st[1]===at[1])&&bez.pointOnLine2D(st[0],st[1],at[0],at[1],st[0]+ot[0],st[1]+ot[1])&&bez.pointOnLine2D(st[0],st[1],at[0],at[1],at[0]+lt[0],at[1]+lt[1])||st.length===3&&!(st[0]===at[0]&&st[1]===at[1]&&st[2]===at[2])&&bez.pointOnLine3D(st[0],st[1],st[2],at[0],at[1],at[2],st[0]+ot[0],st[1]+ot[1],st[2]+ot[2])&&bez.pointOnLine3D(st[0],st[1],st[2],at[0],at[1],at[2],at[0]+lt[0],at[1]+lt[1],at[2]+lt[2]))&&(c.k[rt].to=null,c.k[rt].ti=null),st[0]===at[0]&&st[1]===at[1]&&ot[0]===0&&ot[1]===0&&lt[0]===0&&lt[1]===0&&(st.length===2||st[2]===at[2]&&ot[2]===0&&lt[2]===0)&&(c.k[rt].to=null,c.k[rt].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=c,this.keyframes=c.k,this.keyframesMetadata=[],this.offsetTime=et.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=tt||1,this.elem=et,this.container=nt,this.comp=et.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var ct=c.k[0].s.length;for(this.v=createTypedArray("float32",ct),this.pv=createTypedArray("float32",ct),rt=0;rt<ct;rt+=1)this.v[rt]=initFrame,this.pv[rt]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",ct)},this.addEffect=addEffect}var PropertyFactory=function(){function et(tt,nt,rt,it,st){nt.sid&&(nt=tt.globalData.slotManager.getProp(nt));var at;if(!nt.k.length)at=new ValueProperty(tt,nt,it,st);else if(typeof nt.k[0]=="number")at=new MultiDimensionalProperty(tt,nt,it,st);else switch(rt){case 0:at=new KeyframedValueProperty(tt,nt,it,st);break;case 1:at=new KeyframedMultidimensionalProperty(tt,nt,it,st);break}return at.effectsSequence.length&&st.addDynamicProperty(at),at}var c={getProp:et};return c}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(c){this.dynamicProperties.indexOf(c)===-1&&(this.dynamicProperties.push(c),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var c,tt=this.dynamicProperties.length;for(c=0;c<tt;c+=1)this.dynamicProperties[c].getValue(),this.dynamicProperties[c]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(c){this.container=c,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function et(){return createTypedArray("float32",2)}return poolFactory(8,et)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(et,c){this.c=et,this.setLength(c);for(var tt=0;tt<c;)this.v[tt]=pointPool.newElement(),this.o[tt]=pointPool.newElement(),this.i[tt]=pointPool.newElement(),tt+=1},ShapePath.prototype.setLength=function(et){for(;this._maxLength<et;)this.doubleArrayLength();this._length=et},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(et,c,tt,nt,rt){var it;switch(this._length=Math.max(this._length,nt+1),this._length>=this._maxLength&&this.doubleArrayLength(),tt){case"v":it=this.v;break;case"i":it=this.i;break;case"o":it=this.o;break;default:it=[];break}(!it[nt]||it[nt]&&!rt)&&(it[nt]=pointPool.newElement()),it[nt][0]=et,it[nt][1]=c},ShapePath.prototype.setTripleAt=function(et,c,tt,nt,rt,it,st,at){this.setXYAt(et,c,"v",st,at),this.setXYAt(tt,nt,"o",st,at),this.setXYAt(rt,it,"i",st,at)},ShapePath.prototype.reverse=function(){var et=new ShapePath;et.setPathData(this.c,this._length);var c=this.v,tt=this.o,nt=this.i,rt=0;this.c&&(et.setTripleAt(c[0][0],c[0][1],nt[0][0],nt[0][1],tt[0][0],tt[0][1],0,!1),rt=1);var it=this._length-1,st=this._length,at;for(at=rt;at<st;at+=1)et.setTripleAt(c[it][0],c[it][1],nt[it][0],nt[it][1],tt[it][0],tt[it][1],at,!1),it-=1;return et},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function et(){return new ShapePath}function c(rt){var it=rt._length,st;for(st=0;st<it;st+=1)pointPool.release(rt.v[st]),pointPool.release(rt.i[st]),pointPool.release(rt.o[st]),rt.v[st]=null,rt.i[st]=null,rt.o[st]=null;rt._length=0,rt.c=!1}function tt(rt){var it=nt.newElement(),st,at=rt._length===void 0?rt.v.length:rt._length;for(it.setLength(at),it.c=rt.c,st=0;st<at;st+=1)it.setTripleAt(rt.v[st][0],rt.v[st][1],rt.o[st][0],rt.o[st][1],rt.i[st][0],rt.i[st][1],st);return it}var nt=poolFactory(4,et,c);return nt.clone=tt,nt}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(et){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=et,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var et;for(et=0;et<this._length;et+=1)shapePool.release(this.shapes[et]);this._length=0};var shapeCollectionPool=function(){var et={newShapeCollection:rt,release:it},c=0,tt=4,nt=createSizedArray(tt);function rt(){var st;return c?(c-=1,st=nt[c]):st=new ShapeCollection,st}function it(st){var at,ot=st._length;for(at=0;at<ot;at+=1)shapePool.release(st.shapes[at]);st._length=0,c===tt&&(nt=pooling.double(nt),tt*=2),nt[c]=st,c+=1}return et}(),ShapePropertyFactory=function(){var et=-999999;function c(pt,xt,vt){var St=vt.lastIndex,wt,Mt,Ct,Rt,Lt,It,Nt,zt,Wt,Yt=this.keyframes;if(pt<Yt[0].t-this.offsetTime)wt=Yt[0].s[0],Ct=!0,St=0;else if(pt>=Yt[Yt.length-1].t-this.offsetTime)wt=Yt[Yt.length-1].s?Yt[Yt.length-1].s[0]:Yt[Yt.length-2].e[0],Ct=!0;else{for(var Xt=St,Ft=Yt.length-1,Ut=!0,At,kt,Ot;Ut&&(At=Yt[Xt],kt=Yt[Xt+1],!(kt.t-this.offsetTime>pt));)Xt<Ft-1?Xt+=1:Ut=!1;if(Ot=this.keyframesMetadata[Xt]||{},Ct=At.h===1,St=Xt,!Ct){if(pt>=kt.t-this.offsetTime)zt=1;else if(pt<At.t-this.offsetTime)zt=0;else{var Bt;Ot.__fnct?Bt=Ot.__fnct:(Bt=BezierFactory.getBezierEasing(At.o.x,At.o.y,At.i.x,At.i.y).get,Ot.__fnct=Bt),zt=Bt((pt-(At.t-this.offsetTime))/(kt.t-this.offsetTime-(At.t-this.offsetTime)))}Mt=kt.s?kt.s[0]:At.e[0]}wt=At.s[0]}for(It=xt._length,Nt=wt.i[0].length,vt.lastIndex=St,Rt=0;Rt<It;Rt+=1)for(Lt=0;Lt<Nt;Lt+=1)Wt=Ct?wt.i[Rt][Lt]:wt.i[Rt][Lt]+(Mt.i[Rt][Lt]-wt.i[Rt][Lt])*zt,xt.i[Rt][Lt]=Wt,Wt=Ct?wt.o[Rt][Lt]:wt.o[Rt][Lt]+(Mt.o[Rt][Lt]-wt.o[Rt][Lt])*zt,xt.o[Rt][Lt]=Wt,Wt=Ct?wt.v[Rt][Lt]:wt.v[Rt][Lt]+(Mt.v[Rt][Lt]-wt.v[Rt][Lt])*zt,xt.v[Rt][Lt]=Wt}function tt(){var pt=this.comp.renderedFrame-this.offsetTime,xt=this.keyframes[0].t-this.offsetTime,vt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,St=this._caching.lastFrame;return St!==et&&(St<xt&&pt<xt||St>vt&&pt>vt)||(this._caching.lastIndex=St<pt?this._caching.lastIndex:0,this.interpolateShape(pt,this.pv,this._caching)),this._caching.lastFrame=pt,this.pv}function nt(){this.paths=this.localShapeCollection}function rt(pt,xt){if(pt._length!==xt._length||pt.c!==xt.c)return!1;var vt,St=pt._length;for(vt=0;vt<St;vt+=1)if(pt.v[vt][0]!==xt.v[vt][0]||pt.v[vt][1]!==xt.v[vt][1]||pt.o[vt][0]!==xt.o[vt][0]||pt.o[vt][1]!==xt.o[vt][1]||pt.i[vt][0]!==xt.i[vt][0]||pt.i[vt][1]!==xt.i[vt][1])return!1;return!0}function it(pt){rt(this.v,pt)||(this.v=shapePool.clone(pt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function st(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var pt;this.kf?pt=this.pv:this.data.ks?pt=this.data.ks.k:pt=this.data.pt.k;var xt,vt=this.effectsSequence.length;for(xt=0;xt<vt;xt+=1)pt=this.effectsSequence[xt](pt);this.setVValue(pt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function at(pt,xt,vt){this.propType="shape",this.comp=pt.comp,this.container=pt,this.elem=pt,this.data=xt,this.k=!1,this.kf=!1,this._mdf=!1;var St=vt===3?xt.pt.k:xt.ks.k;this.v=shapePool.clone(St),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=nt,this.effectsSequence=[]}function ot(pt){this.effectsSequence.push(pt),this.container.addDynamicProperty(this)}at.prototype.interpolateShape=c,at.prototype.getValue=st,at.prototype.setVValue=it,at.prototype.addEffect=ot;function lt(pt,xt,vt){this.propType="shape",this.comp=pt.comp,this.elem=pt,this.container=pt,this.offsetTime=pt.data.st,this.keyframes=vt===3?xt.pt.k:xt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var St=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,St),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=et,this.reset=nt,this._caching={lastFrame:et,lastIndex:0},this.effectsSequence=[tt.bind(this)]}lt.prototype.getValue=st,lt.prototype.interpolateShape=c,lt.prototype.setVValue=it,lt.prototype.addEffect=ot;var ct=function(){var pt=roundCorner;function xt(vt,St){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=St.d,this.elem=vt,this.comp=vt.comp,this.frameId=-1,this.initDynamicPropertyContainer(vt),this.p=PropertyFactory.getProp(vt,St.p,1,0,this),this.s=PropertyFactory.getProp(vt,St.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return xt.prototype={reset:nt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var St=this.p.v[0],wt=this.p.v[1],Mt=this.s.v[0]/2,Ct=this.s.v[1]/2,Rt=this.d!==3,Lt=this.v;Lt.v[0][0]=St,Lt.v[0][1]=wt-Ct,Lt.v[1][0]=Rt?St+Mt:St-Mt,Lt.v[1][1]=wt,Lt.v[2][0]=St,Lt.v[2][1]=wt+Ct,Lt.v[3][0]=Rt?St-Mt:St+Mt,Lt.v[3][1]=wt,Lt.i[0][0]=Rt?St-Mt*pt:St+Mt*pt,Lt.i[0][1]=wt-Ct,Lt.i[1][0]=Rt?St+Mt:St-Mt,Lt.i[1][1]=wt-Ct*pt,Lt.i[2][0]=Rt?St+Mt*pt:St-Mt*pt,Lt.i[2][1]=wt+Ct,Lt.i[3][0]=Rt?St-Mt:St+Mt,Lt.i[3][1]=wt+Ct*pt,Lt.o[0][0]=Rt?St+Mt*pt:St-Mt*pt,Lt.o[0][1]=wt-Ct,Lt.o[1][0]=Rt?St+Mt:St-Mt,Lt.o[1][1]=wt+Ct*pt,Lt.o[2][0]=Rt?St-Mt*pt:St+Mt*pt,Lt.o[2][1]=wt+Ct,Lt.o[3][0]=Rt?St-Mt:St+Mt,Lt.o[3][1]=wt-Ct*pt}},extendPrototype([DynamicPropertyContainer],xt),xt}(),dt=function(){function pt(xt,vt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=xt,this.comp=xt.comp,this.data=vt,this.frameId=-1,this.d=vt.d,this.initDynamicPropertyContainer(xt),vt.sy===1?(this.ir=PropertyFactory.getProp(xt,vt.ir,0,0,this),this.is=PropertyFactory.getProp(xt,vt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(xt,vt.pt,0,0,this),this.p=PropertyFactory.getProp(xt,vt.p,1,0,this),this.r=PropertyFactory.getProp(xt,vt.r,0,degToRads,this),this.or=PropertyFactory.getProp(xt,vt.or,0,0,this),this.os=PropertyFactory.getProp(xt,vt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return pt.prototype={reset:nt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var vt=Math.floor(this.pt.v)*2,St=Math.PI*2/vt,wt=!0,Mt=this.or.v,Ct=this.ir.v,Rt=this.os.v,Lt=this.is.v,It=2*Math.PI*Mt/(vt*2),Nt=2*Math.PI*Ct/(vt*2),zt,Wt,Yt,Xt,Ft=-Math.PI/2;Ft+=this.r.v;var Ut=this.data.d===3?-1:1;for(this.v._length=0,zt=0;zt<vt;zt+=1){Wt=wt?Mt:Ct,Yt=wt?Rt:Lt,Xt=wt?It:Nt;var At=Wt*Math.cos(Ft),kt=Wt*Math.sin(Ft),Ot=At===0&&kt===0?0:kt/Math.sqrt(At*At+kt*kt),Bt=At===0&&kt===0?0:-At/Math.sqrt(At*At+kt*kt);At+=+this.p.v[0],kt+=+this.p.v[1],this.v.setTripleAt(At,kt,At-Ot*Xt*Yt*Ut,kt-Bt*Xt*Yt*Ut,At+Ot*Xt*Yt*Ut,kt+Bt*Xt*Yt*Ut,zt,!0),wt=!wt,Ft+=St*Ut}},convertPolygonToPath:function(){var vt=Math.floor(this.pt.v),St=Math.PI*2/vt,wt=this.or.v,Mt=this.os.v,Ct=2*Math.PI*wt/(vt*4),Rt,Lt=-Math.PI*.5,It=this.data.d===3?-1:1;for(Lt+=this.r.v,this.v._length=0,Rt=0;Rt<vt;Rt+=1){var Nt=wt*Math.cos(Lt),zt=wt*Math.sin(Lt),Wt=Nt===0&&zt===0?0:zt/Math.sqrt(Nt*Nt+zt*zt),Yt=Nt===0&&zt===0?0:-Nt/Math.sqrt(Nt*Nt+zt*zt);Nt+=+this.p.v[0],zt+=+this.p.v[1],this.v.setTripleAt(Nt,zt,Nt-Wt*Ct*Mt*It,zt-Yt*Ct*Mt*It,Nt+Wt*Ct*Mt*It,zt+Yt*Ct*Mt*It,Rt,!0),Lt+=St*It}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],pt),pt}(),ht=function(){function pt(xt,vt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=xt,this.comp=xt.comp,this.frameId=-1,this.d=vt.d,this.initDynamicPropertyContainer(xt),this.p=PropertyFactory.getProp(xt,vt.p,1,0,this),this.s=PropertyFactory.getProp(xt,vt.s,1,0,this),this.r=PropertyFactory.getProp(xt,vt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return pt.prototype={convertRectToPath:function(){var vt=this.p.v[0],St=this.p.v[1],wt=this.s.v[0]/2,Mt=this.s.v[1]/2,Ct=bmMin(wt,Mt,this.r.v),Rt=Ct*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(vt+wt,St-Mt+Ct,vt+wt,St-Mt+Ct,vt+wt,St-Mt+Rt,0,!0),this.v.setTripleAt(vt+wt,St+Mt-Ct,vt+wt,St+Mt-Rt,vt+wt,St+Mt-Ct,1,!0),Ct!==0?(this.v.setTripleAt(vt+wt-Ct,St+Mt,vt+wt-Ct,St+Mt,vt+wt-Rt,St+Mt,2,!0),this.v.setTripleAt(vt-wt+Ct,St+Mt,vt-wt+Rt,St+Mt,vt-wt+Ct,St+Mt,3,!0),this.v.setTripleAt(vt-wt,St+Mt-Ct,vt-wt,St+Mt-Ct,vt-wt,St+Mt-Rt,4,!0),this.v.setTripleAt(vt-wt,St-Mt+Ct,vt-wt,St-Mt+Rt,vt-wt,St-Mt+Ct,5,!0),this.v.setTripleAt(vt-wt+Ct,St-Mt,vt-wt+Ct,St-Mt,vt-wt+Rt,St-Mt,6,!0),this.v.setTripleAt(vt+wt-Ct,St-Mt,vt+wt-Rt,St-Mt,vt+wt-Ct,St-Mt,7,!0)):(this.v.setTripleAt(vt-wt,St+Mt,vt-wt+Rt,St+Mt,vt-wt,St+Mt,2),this.v.setTripleAt(vt-wt,St-Mt,vt-wt,St-Mt+Rt,vt-wt,St-Mt,3))):(this.v.setTripleAt(vt+wt,St-Mt+Ct,vt+wt,St-Mt+Rt,vt+wt,St-Mt+Ct,0,!0),Ct!==0?(this.v.setTripleAt(vt+wt-Ct,St-Mt,vt+wt-Ct,St-Mt,vt+wt-Rt,St-Mt,1,!0),this.v.setTripleAt(vt-wt+Ct,St-Mt,vt-wt+Rt,St-Mt,vt-wt+Ct,St-Mt,2,!0),this.v.setTripleAt(vt-wt,St-Mt+Ct,vt-wt,St-Mt+Ct,vt-wt,St-Mt+Rt,3,!0),this.v.setTripleAt(vt-wt,St+Mt-Ct,vt-wt,St+Mt-Rt,vt-wt,St+Mt-Ct,4,!0),this.v.setTripleAt(vt-wt+Ct,St+Mt,vt-wt+Ct,St+Mt,vt-wt+Rt,St+Mt,5,!0),this.v.setTripleAt(vt+wt-Ct,St+Mt,vt+wt-Rt,St+Mt,vt+wt-Ct,St+Mt,6,!0),this.v.setTripleAt(vt+wt,St+Mt-Ct,vt+wt,St+Mt-Ct,vt+wt,St+Mt-Rt,7,!0)):(this.v.setTripleAt(vt-wt,St-Mt,vt-wt+Rt,St-Mt,vt-wt,St-Mt,1,!0),this.v.setTripleAt(vt-wt,St+Mt,vt-wt,St+Mt-Rt,vt-wt,St+Mt,2,!0),this.v.setTripleAt(vt+wt,St+Mt,vt+wt-Rt,St+Mt,vt+wt,St+Mt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:nt},extendPrototype([DynamicPropertyContainer],pt),pt}();function mt(pt,xt,vt){var St;if(vt===3||vt===4){var wt=vt===3?xt.pt:xt.ks,Mt=wt.k;Mt.length?St=new lt(pt,xt,vt):St=new at(pt,xt,vt)}else vt===5?St=new ht(pt,xt):vt===6?St=new ct(pt,xt):vt===7&&(St=new dt(pt,xt));return St.k&&pt.addDynamicProperty(St),St}function gt(){return at}function yt(){return lt}var _t={};return _t.getShapeProp=mt,_t.getConstructorFunction=gt,_t.getKeyframedConstructorFunction=yt,_t}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var et=Math.cos,c=Math.sin,tt=Math.tan,nt=Math.round;function rt(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function it(At){if(At===0)return this;var kt=et(At),Ot=c(At);return this._t(kt,-Ot,0,0,Ot,kt,0,0,0,0,1,0,0,0,0,1)}function st(At){if(At===0)return this;var kt=et(At),Ot=c(At);return this._t(1,0,0,0,0,kt,-Ot,0,0,Ot,kt,0,0,0,0,1)}function at(At){if(At===0)return this;var kt=et(At),Ot=c(At);return this._t(kt,0,Ot,0,0,1,0,0,-Ot,0,kt,0,0,0,0,1)}function ot(At){if(At===0)return this;var kt=et(At),Ot=c(At);return this._t(kt,-Ot,0,0,Ot,kt,0,0,0,0,1,0,0,0,0,1)}function lt(At,kt){return this._t(1,kt,At,1,0,0)}function ct(At,kt){return this.shear(tt(At),tt(kt))}function dt(At,kt){var Ot=et(kt),Bt=c(kt);return this._t(Ot,Bt,0,0,-Bt,Ot,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,tt(At),1,0,0,0,0,1,0,0,0,0,1)._t(Ot,-Bt,0,0,Bt,Ot,0,0,0,0,1,0,0,0,0,1)}function ht(At,kt,Ot){return!Ot&&Ot!==0&&(Ot=1),At===1&&kt===1&&Ot===1?this:this._t(At,0,0,0,0,kt,0,0,0,0,Ot,0,0,0,0,1)}function mt(At,kt,Ot,Bt,Qt,an,Kt,ln,vn,En,jn,qn,Vn,Gn,$t,fn){return this.props[0]=At,this.props[1]=kt,this.props[2]=Ot,this.props[3]=Bt,this.props[4]=Qt,this.props[5]=an,this.props[6]=Kt,this.props[7]=ln,this.props[8]=vn,this.props[9]=En,this.props[10]=jn,this.props[11]=qn,this.props[12]=Vn,this.props[13]=Gn,this.props[14]=$t,this.props[15]=fn,this}function gt(At,kt,Ot){return Ot=Ot||0,At!==0||kt!==0||Ot!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,At,kt,Ot,1):this}function yt(At,kt,Ot,Bt,Qt,an,Kt,ln,vn,En,jn,qn,Vn,Gn,$t,fn){var rn=this.props;if(At===1&&kt===0&&Ot===0&&Bt===0&&Qt===0&&an===1&&Kt===0&&ln===0&&vn===0&&En===0&&jn===1&&qn===0)return rn[12]=rn[12]*At+rn[15]*Vn,rn[13]=rn[13]*an+rn[15]*Gn,rn[14]=rn[14]*jn+rn[15]*$t,rn[15]*=fn,this._identityCalculated=!1,this;var Pn=rn[0],mn=rn[1],zn=rn[2],Tn=rn[3],Ln=rn[4],Gt=rn[5],Vt=rn[6],sn=rn[7],Sn=rn[8],gn=rn[9],_n=rn[10],On=rn[11],An=rn[12],kn=rn[13],er=rn[14],wn=rn[15];return rn[0]=Pn*At+mn*Qt+zn*vn+Tn*Vn,rn[1]=Pn*kt+mn*an+zn*En+Tn*Gn,rn[2]=Pn*Ot+mn*Kt+zn*jn+Tn*$t,rn[3]=Pn*Bt+mn*ln+zn*qn+Tn*fn,rn[4]=Ln*At+Gt*Qt+Vt*vn+sn*Vn,rn[5]=Ln*kt+Gt*an+Vt*En+sn*Gn,rn[6]=Ln*Ot+Gt*Kt+Vt*jn+sn*$t,rn[7]=Ln*Bt+Gt*ln+Vt*qn+sn*fn,rn[8]=Sn*At+gn*Qt+_n*vn+On*Vn,rn[9]=Sn*kt+gn*an+_n*En+On*Gn,rn[10]=Sn*Ot+gn*Kt+_n*jn+On*$t,rn[11]=Sn*Bt+gn*ln+_n*qn+On*fn,rn[12]=An*At+kn*Qt+er*vn+wn*Vn,rn[13]=An*kt+kn*an+er*En+wn*Gn,rn[14]=An*Ot+kn*Kt+er*jn+wn*$t,rn[15]=An*Bt+kn*ln+er*qn+wn*fn,this._identityCalculated=!1,this}function _t(At){var kt=At.props;return this.transform(kt[0],kt[1],kt[2],kt[3],kt[4],kt[5],kt[6],kt[7],kt[8],kt[9],kt[10],kt[11],kt[12],kt[13],kt[14],kt[15])}function pt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function xt(At){for(var kt=0;kt<16;){if(At.props[kt]!==this.props[kt])return!1;kt+=1}return!0}function vt(At){var kt;for(kt=0;kt<16;kt+=1)At.props[kt]=this.props[kt];return At}function St(At){var kt;for(kt=0;kt<16;kt+=1)this.props[kt]=At[kt]}function wt(At,kt,Ot){return{x:At*this.props[0]+kt*this.props[4]+Ot*this.props[8]+this.props[12],y:At*this.props[1]+kt*this.props[5]+Ot*this.props[9]+this.props[13],z:At*this.props[2]+kt*this.props[6]+Ot*this.props[10]+this.props[14]}}function Mt(At,kt,Ot){return At*this.props[0]+kt*this.props[4]+Ot*this.props[8]+this.props[12]}function Ct(At,kt,Ot){return At*this.props[1]+kt*this.props[5]+Ot*this.props[9]+this.props[13]}function Rt(At,kt,Ot){return At*this.props[2]+kt*this.props[6]+Ot*this.props[10]+this.props[14]}function Lt(){var At=this.props[0]*this.props[5]-this.props[1]*this.props[4],kt=this.props[5]/At,Ot=-this.props[1]/At,Bt=-this.props[4]/At,Qt=this.props[0]/At,an=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/At,Kt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/At,ln=new Matrix;return ln.props[0]=kt,ln.props[1]=Ot,ln.props[4]=Bt,ln.props[5]=Qt,ln.props[12]=an,ln.props[13]=Kt,ln}function It(At){var kt=this.getInverseMatrix();return kt.applyToPointArray(At[0],At[1],At[2]||0)}function Nt(At){var kt,Ot=At.length,Bt=[];for(kt=0;kt<Ot;kt+=1)Bt[kt]=It(At[kt]);return Bt}function zt(At,kt,Ot){var Bt=createTypedArray("float32",6);if(this.isIdentity())Bt[0]=At[0],Bt[1]=At[1],Bt[2]=kt[0],Bt[3]=kt[1],Bt[4]=Ot[0],Bt[5]=Ot[1];else{var Qt=this.props[0],an=this.props[1],Kt=this.props[4],ln=this.props[5],vn=this.props[12],En=this.props[13];Bt[0]=At[0]*Qt+At[1]*Kt+vn,Bt[1]=At[0]*an+At[1]*ln+En,Bt[2]=kt[0]*Qt+kt[1]*Kt+vn,Bt[3]=kt[0]*an+kt[1]*ln+En,Bt[4]=Ot[0]*Qt+Ot[1]*Kt+vn,Bt[5]=Ot[0]*an+Ot[1]*ln+En}return Bt}function Wt(At,kt,Ot){var Bt;return this.isIdentity()?Bt=[At,kt,Ot]:Bt=[At*this.props[0]+kt*this.props[4]+Ot*this.props[8]+this.props[12],At*this.props[1]+kt*this.props[5]+Ot*this.props[9]+this.props[13],At*this.props[2]+kt*this.props[6]+Ot*this.props[10]+this.props[14]],Bt}function Yt(At,kt){if(this.isIdentity())return At+","+kt;var Ot=this.props;return Math.round((At*Ot[0]+kt*Ot[4]+Ot[12])*100)/100+","+Math.round((At*Ot[1]+kt*Ot[5]+Ot[13])*100)/100}function Xt(){for(var At=0,kt=this.props,Ot="matrix3d(",Bt=1e4;At<16;)Ot+=nt(kt[At]*Bt)/Bt,Ot+=At===15?")":",",At+=1;return Ot}function Ft(At){var kt=1e4;return At<1e-6&&At>0||At>-1e-6&&At<0?nt(At*kt)/kt:At}function Ut(){var At=this.props,kt=Ft(At[0]),Ot=Ft(At[1]),Bt=Ft(At[4]),Qt=Ft(At[5]),an=Ft(At[12]),Kt=Ft(At[13]);return"matrix("+kt+","+Ot+","+Bt+","+Qt+","+an+","+Kt+")"}return function(){this.reset=rt,this.rotate=it,this.rotateX=st,this.rotateY=at,this.rotateZ=ot,this.skew=ct,this.skewFromAxis=dt,this.shear=lt,this.scale=ht,this.setTransform=mt,this.translate=gt,this.transform=yt,this.multiply=_t,this.applyToPoint=wt,this.applyToX=Mt,this.applyToY=Ct,this.applyToZ=Rt,this.applyToPointArray=Wt,this.applyToTriplePoints=zt,this.applyToPointStringified=Yt,this.toCSS=Xt,this.to2dCSS=Ut,this.clone=vt,this.cloneFromProps=St,this.equals=xt,this.inversePoints=Nt,this.inversePoint=It,this.getInverseMatrix=Lt,this._t=this.transform,this.isIdentity=pt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(et){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_typeof$3(et)}var lottie={};function setLocation(et){setLocationHref(et)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(et){setSubframeEnabled(et)}function setPrefix(et){setIdPrefix(et)}function loadAnimation(et){return animationManager.loadAnimation(et)}function setQuality(et){if(typeof et=="string")switch(et){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(et)&&et>1&&setDefaultCurveSegments(et)}function inBrowser(){return typeof navigator<"u"}function installPlugin(et,c){et==="expressions"&&setExpressionsPlugin(c)}function getFactory(et){switch(et){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(et){for(var c=queryString.split("&"),tt=0;tt<c.length;tt+=1){var nt=c[tt].split("=");if(decodeURIComponent(nt[0])==et)return decodeURIComponent(nt[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(et){}var ShapeModifiers=function(){var et={},c={};et.registerModifier=tt,et.getModifier=nt;function tt(rt,it){c[rt]||(c[rt]=it)}function nt(rt,it,st){return new c[rt](it,st)}return et}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(et){if(!this.closed){et.sh.container.addDynamicProperty(et.sh);var c={shape:et.sh,data:et,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(c),this.addShapeToModifier(c),this._isAnimated&&et.setAsAnimated()}},ShapeModifier.prototype.init=function(et,c){this.shapes=[],this.elem=et,this.initDynamicPropertyContainer(et),this.initModifierProperties(et,c),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(et,c){this.s=PropertyFactory.getProp(et,c.s,0,.01,this),this.e=PropertyFactory.getProp(et,c.e,0,.01,this),this.o=PropertyFactory.getProp(et,c.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=c.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(et){et.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(et,c,tt,nt,rt){var it=[];c<=1?it.push({s:et,e:c}):et>=1?it.push({s:et-1,e:c-1}):(it.push({s:et,e:1}),it.push({s:0,e:c-1}));var st=[],at,ot=it.length,lt;for(at=0;at<ot;at+=1)if(lt=it[at],!(lt.e*rt<nt||lt.s*rt>nt+tt)){var ct,dt;lt.s*rt<=nt?ct=0:ct=(lt.s*rt-nt)/tt,lt.e*rt>=nt+tt?dt=1:dt=(lt.e*rt-nt)/tt,st.push([ct,dt])}return st.length||st.push([0,0]),st},TrimModifier.prototype.releasePathsData=function(et){var c,tt=et.length;for(c=0;c<tt;c+=1)segmentsLengthPool.release(et[c]);return et.length=0,et},TrimModifier.prototype.processShapes=function(et){var c,tt;if(this._mdf||et){var nt=this.o.v%360/360;if(nt<0&&(nt+=1),this.s.v>1?c=1+nt:this.s.v<0?c=0+nt:c=this.s.v+nt,this.e.v>1?tt=1+nt:this.e.v<0?tt=0+nt:tt=this.e.v+nt,c>tt){var rt=c;c=tt,tt=rt}c=Math.round(c*1e4)*1e-4,tt=Math.round(tt*1e4)*1e-4,this.sValue=c,this.eValue=tt}else c=this.sValue,tt=this.eValue;var it,st,at=this.shapes.length,ot,lt,ct,dt,ht,mt=0;if(tt===c)for(st=0;st<at;st+=1)this.shapes[st].localShapeCollection.releaseShapes(),this.shapes[st].shape._mdf=!0,this.shapes[st].shape.paths=this.shapes[st].localShapeCollection,this._mdf&&(this.shapes[st].pathsData.length=0);else if(tt===1&&c===0||tt===0&&c===1){if(this._mdf)for(st=0;st<at;st+=1)this.shapes[st].pathsData.length=0,this.shapes[st].shape._mdf=!0}else{var gt=[],yt,_t;for(st=0;st<at;st+=1)if(yt=this.shapes[st],!yt.shape._mdf&&!this._mdf&&!et&&this.m!==2)yt.shape.paths=yt.localShapeCollection;else{if(it=yt.shape.paths,lt=it._length,ht=0,!yt.shape._mdf&&yt.pathsData.length)ht=yt.totalShapeLength;else{for(ct=this.releasePathsData(yt.pathsData),ot=0;ot<lt;ot+=1)dt=bez.getSegmentsLength(it.shapes[ot]),ct.push(dt),ht+=dt.totalLength;yt.totalShapeLength=ht,yt.pathsData=ct}mt+=ht,yt.shape._mdf=!0}var pt=c,xt=tt,vt=0,St;for(st=at-1;st>=0;st-=1)if(yt=this.shapes[st],yt.shape._mdf){for(_t=yt.localShapeCollection,_t.releaseShapes(),this.m===2&&at>1?(St=this.calculateShapeEdges(c,tt,yt.totalShapeLength,vt,mt),vt+=yt.totalShapeLength):St=[[pt,xt]],lt=St.length,ot=0;ot<lt;ot+=1){pt=St[ot][0],xt=St[ot][1],gt.length=0,xt<=1?gt.push({s:yt.totalShapeLength*pt,e:yt.totalShapeLength*xt}):pt>=1?gt.push({s:yt.totalShapeLength*(pt-1),e:yt.totalShapeLength*(xt-1)}):(gt.push({s:yt.totalShapeLength*pt,e:yt.totalShapeLength}),gt.push({s:0,e:yt.totalShapeLength*(xt-1)}));var wt=this.addShapes(yt,gt[0]);if(gt[0].s!==gt[0].e){if(gt.length>1){var Mt=yt.shape.paths.shapes[yt.shape.paths._length-1];if(Mt.c){var Ct=wt.pop();this.addPaths(wt,_t),wt=this.addShapes(yt,gt[1],Ct)}else this.addPaths(wt,_t),wt=this.addShapes(yt,gt[1])}this.addPaths(wt,_t)}}yt.shape.paths=_t}}},TrimModifier.prototype.addPaths=function(et,c){var tt,nt=et.length;for(tt=0;tt<nt;tt+=1)c.addShape(et[tt])},TrimModifier.prototype.addSegment=function(et,c,tt,nt,rt,it,st){rt.setXYAt(c[0],c[1],"o",it),rt.setXYAt(tt[0],tt[1],"i",it+1),st&&rt.setXYAt(et[0],et[1],"v",it),rt.setXYAt(nt[0],nt[1],"v",it+1)},TrimModifier.prototype.addSegmentFromArray=function(et,c,tt,nt){c.setXYAt(et[1],et[5],"o",tt),c.setXYAt(et[2],et[6],"i",tt+1),nt&&c.setXYAt(et[0],et[4],"v",tt),c.setXYAt(et[3],et[7],"v",tt+1)},TrimModifier.prototype.addShapes=function(et,c,tt){var nt=et.pathsData,rt=et.shape.paths.shapes,it,st=et.shape.paths._length,at,ot,lt=0,ct,dt,ht,mt,gt=[],yt,_t=!0;for(tt?(dt=tt._length,yt=tt._length):(tt=shapePool.newElement(),dt=0,yt=0),gt.push(tt),it=0;it<st;it+=1){for(ht=nt[it].lengths,tt.c=rt[it].c,ot=rt[it].c?ht.length:ht.length+1,at=1;at<ot;at+=1)if(ct=ht[at-1],lt+ct.addedLength<c.s)lt+=ct.addedLength,tt.c=!1;else if(lt>c.e){tt.c=!1;break}else c.s<=lt&&c.e>=lt+ct.addedLength?(this.addSegment(rt[it].v[at-1],rt[it].o[at-1],rt[it].i[at],rt[it].v[at],tt,dt,_t),_t=!1):(mt=bez.getNewSegment(rt[it].v[at-1],rt[it].v[at],rt[it].o[at-1],rt[it].i[at],(c.s-lt)/ct.addedLength,(c.e-lt)/ct.addedLength,ht[at-1]),this.addSegmentFromArray(mt,tt,dt,_t),_t=!1,tt.c=!1),lt+=ct.addedLength,dt+=1;if(rt[it].c&&ht.length){if(ct=ht[at-1],lt<=c.e){var pt=ht[at-1].addedLength;c.s<=lt&&c.e>=lt+pt?(this.addSegment(rt[it].v[at-1],rt[it].o[at-1],rt[it].i[0],rt[it].v[0],tt,dt,_t),_t=!1):(mt=bez.getNewSegment(rt[it].v[at-1],rt[it].v[0],rt[it].o[at-1],rt[it].i[0],(c.s-lt)/pt,(c.e-lt)/pt,ht[at-1]),this.addSegmentFromArray(mt,tt,dt,_t),_t=!1,tt.c=!1)}else tt.c=!1;lt+=ct.addedLength,dt+=1}if(tt._length&&(tt.setXYAt(tt.v[yt][0],tt.v[yt][1],"i",yt),tt.setXYAt(tt.v[tt._length-1][0],tt.v[tt._length-1][1],"o",tt._length-1)),lt>c.e)break;it<st-1&&(tt=shapePool.newElement(),_t=!0,gt.push(tt),dt=0)}return gt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(et,c){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(et,c.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(et,c){var tt=c/100,nt=[0,0],rt=et._length,it=0;for(it=0;it<rt;it+=1)nt[0]+=et.v[it][0],nt[1]+=et.v[it][1];nt[0]/=rt,nt[1]/=rt;var st=shapePool.newElement();st.c=et.c;var at,ot,lt,ct,dt,ht;for(it=0;it<rt;it+=1)at=et.v[it][0]+(nt[0]-et.v[it][0])*tt,ot=et.v[it][1]+(nt[1]-et.v[it][1])*tt,lt=et.o[it][0]+(nt[0]-et.o[it][0])*-tt,ct=et.o[it][1]+(nt[1]-et.o[it][1])*-tt,dt=et.i[it][0]+(nt[0]-et.i[it][0])*-tt,ht=et.i[it][1]+(nt[1]-et.i[it][1])*-tt,st.setTripleAt(at,ot,lt,ct,dt,ht,it);return st},PuckerAndBloatModifier.prototype.processShapes=function(et){var c,tt,nt=this.shapes.length,rt,it,st=this.amount.v;if(st!==0){var at,ot;for(tt=0;tt<nt;tt+=1){if(at=this.shapes[tt],ot=at.localShapeCollection,!(!at.shape._mdf&&!this._mdf&&!et))for(ot.releaseShapes(),at.shape._mdf=!0,c=at.shape.paths.shapes,it=at.shape.paths._length,rt=0;rt<it;rt+=1)ot.addShape(this.processPath(c[rt],st));at.shape.paths=at.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var et=[0,0];function c(ot){var lt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||lt,this.a&&ot.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&ot.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&ot.skewFromAxis(-this.sk.v,this.sa.v),this.r?ot.rotate(-this.r.v):ot.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?ot.translate(this.px.v,this.py.v,-this.pz.v):ot.translate(this.px.v,this.py.v,0):ot.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function tt(ot){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||ot){var lt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ct,dt;if(lt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ct=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/lt,0),dt=this.p.getValueAtTime(this.p.keyframes[0].t/lt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ct=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/lt,0),dt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/lt,0)):(ct=this.p.pv,dt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/lt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ct=[],dt=[];var ht=this.px,mt=this.py;ht._caching.lastFrame+ht.offsetTime<=ht.keyframes[0].t?(ct[0]=ht.getValueAtTime((ht.keyframes[0].t+.01)/lt,0),ct[1]=mt.getValueAtTime((mt.keyframes[0].t+.01)/lt,0),dt[0]=ht.getValueAtTime(ht.keyframes[0].t/lt,0),dt[1]=mt.getValueAtTime(mt.keyframes[0].t/lt,0)):ht._caching.lastFrame+ht.offsetTime>=ht.keyframes[ht.keyframes.length-1].t?(ct[0]=ht.getValueAtTime(ht.keyframes[ht.keyframes.length-1].t/lt,0),ct[1]=mt.getValueAtTime(mt.keyframes[mt.keyframes.length-1].t/lt,0),dt[0]=ht.getValueAtTime((ht.keyframes[ht.keyframes.length-1].t-.01)/lt,0),dt[1]=mt.getValueAtTime((mt.keyframes[mt.keyframes.length-1].t-.01)/lt,0)):(ct=[ht.pv,mt.pv],dt[0]=ht.getValueAtTime((ht._caching.lastFrame+ht.offsetTime-.01)/lt,ht.offsetTime),dt[1]=mt.getValueAtTime((mt._caching.lastFrame+mt.offsetTime-.01)/lt,mt.offsetTime))}else dt=et,ct=dt;this.v.rotate(-Math.atan2(ct[1]-dt[1],ct[0]-dt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function nt(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function rt(){}function it(ot){this._addDynamicProperty(ot),this.elem.addDynamicProperty(ot),this._isDirty=!0}function st(ot,lt,ct){if(this.elem=ot,this.frameId=-1,this.propType="transform",this.data=lt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ct||ot),lt.p&&lt.p.s?(this.px=PropertyFactory.getProp(ot,lt.p.x,0,0,this),this.py=PropertyFactory.getProp(ot,lt.p.y,0,0,this),lt.p.z&&(this.pz=PropertyFactory.getProp(ot,lt.p.z,0,0,this))):this.p=PropertyFactory.getProp(ot,lt.p||{k:[0,0,0]},1,0,this),lt.rx){if(this.rx=PropertyFactory.getProp(ot,lt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(ot,lt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(ot,lt.rz,0,degToRads,this),lt.or.k[0].ti){var dt,ht=lt.or.k.length;for(dt=0;dt<ht;dt+=1)lt.or.k[dt].to=null,lt.or.k[dt].ti=null}this.or=PropertyFactory.getProp(ot,lt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(ot,lt.r||{k:0},0,degToRads,this);lt.sk&&(this.sk=PropertyFactory.getProp(ot,lt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(ot,lt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(ot,lt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(ot,lt.s||{k:[100,100,100]},1,.01,this),lt.o?this.o=PropertyFactory.getProp(ot,lt.o,0,.01,ot):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}st.prototype={applyToMatrix:c,getValue:tt,precalculateMatrix:nt,autoOrient:rt},extendPrototype([DynamicPropertyContainer],st),st.prototype.addDynamicProperty=it,st.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function at(ot,lt,ct){return new st(ot,lt,ct)}return{getTransformProperty:at}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(et,c){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(et,c.c,0,null,this),this.o=PropertyFactory.getProp(et,c.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(et,c.tr,this),this.so=PropertyFactory.getProp(et,c.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(et,c.tr.eo,0,.01,this),this.data=c,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(et,c,tt,nt,rt,it){var st=it?-1:1,at=nt.s.v[0]+(1-nt.s.v[0])*(1-rt),ot=nt.s.v[1]+(1-nt.s.v[1])*(1-rt);et.translate(nt.p.v[0]*st*rt,nt.p.v[1]*st*rt,nt.p.v[2]),c.translate(-nt.a.v[0],-nt.a.v[1],nt.a.v[2]),c.rotate(-nt.r.v*st*rt),c.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2]),tt.translate(-nt.a.v[0],-nt.a.v[1],nt.a.v[2]),tt.scale(it?1/at:at,it?1/ot:ot),tt.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2])},RepeaterModifier.prototype.init=function(et,c,tt,nt){for(this.elem=et,this.arr=c,this.pos=tt,this.elemsData=nt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(et),this.initModifierProperties(et,c[tt]);tt>0;)tt-=1,this._elements.unshift(c[tt]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(et){var c,tt=et.length;for(c=0;c<tt;c+=1)et[c]._processed=!1,et[c].ty==="gr"&&this.resetElements(et[c].it)},RepeaterModifier.prototype.cloneElements=function(et){var c=JSON.parse(JSON.stringify(et));return this.resetElements(c),c},RepeaterModifier.prototype.changeGroupRender=function(et,c){var tt,nt=et.length;for(tt=0;tt<nt;tt+=1)et[tt]._render=c,et[tt].ty==="gr"&&this.changeGroupRender(et[tt].it,c)},RepeaterModifier.prototype.processShapes=function(et){var c,tt,nt,rt,it,st=!1;if(this._mdf||et){var at=Math.ceil(this.c.v);if(this._groups.length<at){for(;this._groups.length<at;){var ot={it:this.cloneElements(this._elements),ty:"gr"};ot.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,ot),this._groups.splice(0,0,ot),this._currentCopies+=1}this.elem.reloadShapes(),st=!0}it=0;var lt;for(nt=0;nt<=this._groups.length-1;nt+=1){if(lt=it<at,this._groups[nt]._render=lt,this.changeGroupRender(this._groups[nt].it,lt),!lt){var ct=this.elemsData[nt].it,dt=ct[ct.length-1];dt.transform.op.v!==0?(dt.transform.op._mdf=!0,dt.transform.op.v=0):dt.transform.op._mdf=!1}it+=1}this._currentCopies=at;var ht=this.o.v,mt=ht%1,gt=ht>0?Math.floor(ht):Math.ceil(ht),yt=this.pMatrix.props,_t=this.rMatrix.props,pt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var xt=0;if(ht>0){for(;xt<gt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),xt+=1;mt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,mt,!1),xt+=mt)}else if(ht<0){for(;xt>gt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),xt-=1;mt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-mt,!0),xt-=mt)}nt=this.data.m===1?0:this._currentCopies-1,rt=this.data.m===1?1:-1,it=this._currentCopies;for(var vt,St;it;){if(c=this.elemsData[nt].it,tt=c[c.length-1].transform.mProps.v.props,St=tt.length,c[c.length-1].transform.mProps._mdf=!0,c[c.length-1].transform.op._mdf=!0,c[c.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(nt/(this._currentCopies-1)),xt!==0){for((nt!==0&&rt===1||nt!==this._currentCopies-1&&rt===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5],_t[6],_t[7],_t[8],_t[9],_t[10],_t[11],_t[12],_t[13],_t[14],_t[15]),this.matrix.transform(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6],pt[7],pt[8],pt[9],pt[10],pt[11],pt[12],pt[13],pt[14],pt[15]),this.matrix.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5],yt[6],yt[7],yt[8],yt[9],yt[10],yt[11],yt[12],yt[13],yt[14],yt[15]),vt=0;vt<St;vt+=1)tt[vt]=this.matrix.props[vt];this.matrix.reset()}else for(this.matrix.reset(),vt=0;vt<St;vt+=1)tt[vt]=this.matrix.props[vt];xt+=1,it-=1,nt+=rt}}else for(it=this._currentCopies,nt=0,rt=1;it;)c=this.elemsData[nt].it,tt=c[c.length-1].transform.mProps.v.props,c[c.length-1].transform.mProps._mdf=!1,c[c.length-1].transform.op._mdf=!1,it-=1,nt+=rt;return st},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(et,c){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(et,c.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(et,c){var tt=shapePool.newElement();tt.c=et.c;var nt,rt=et._length,it,st,at,ot,lt,ct,dt=0,ht,mt,gt,yt,_t,pt;for(nt=0;nt<rt;nt+=1)it=et.v[nt],at=et.o[nt],st=et.i[nt],it[0]===at[0]&&it[1]===at[1]&&it[0]===st[0]&&it[1]===st[1]?(nt===0||nt===rt-1)&&!et.c?(tt.setTripleAt(it[0],it[1],at[0],at[1],st[0],st[1],dt),dt+=1):(nt===0?ot=et.v[rt-1]:ot=et.v[nt-1],lt=Math.sqrt(Math.pow(it[0]-ot[0],2)+Math.pow(it[1]-ot[1],2)),ct=lt?Math.min(lt/2,c)/lt:0,_t=it[0]+(ot[0]-it[0])*ct,ht=_t,pt=it[1]-(it[1]-ot[1])*ct,mt=pt,gt=ht-(ht-it[0])*roundCorner,yt=mt-(mt-it[1])*roundCorner,tt.setTripleAt(ht,mt,gt,yt,_t,pt,dt),dt+=1,nt===rt-1?ot=et.v[0]:ot=et.v[nt+1],lt=Math.sqrt(Math.pow(it[0]-ot[0],2)+Math.pow(it[1]-ot[1],2)),ct=lt?Math.min(lt/2,c)/lt:0,gt=it[0]+(ot[0]-it[0])*ct,ht=gt,yt=it[1]+(ot[1]-it[1])*ct,mt=yt,_t=ht-(ht-it[0])*roundCorner,pt=mt-(mt-it[1])*roundCorner,tt.setTripleAt(ht,mt,gt,yt,_t,pt,dt),dt+=1):(tt.setTripleAt(et.v[nt][0],et.v[nt][1],et.o[nt][0],et.o[nt][1],et.i[nt][0],et.i[nt][1],dt),dt+=1);return tt},RoundCornersModifier.prototype.processShapes=function(et){var c,tt,nt=this.shapes.length,rt,it,st=this.rd.v;if(st!==0){var at,ot;for(tt=0;tt<nt;tt+=1){if(at=this.shapes[tt],ot=at.localShapeCollection,!(!at.shape._mdf&&!this._mdf&&!et))for(ot.releaseShapes(),at.shape._mdf=!0,c=at.shape.paths.shapes,it=at.shape.paths._length,rt=0;rt<it;rt+=1)ot.addShape(this.processPath(c[rt],st));at.shape.paths=at.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(et,c){return Math.abs(et-c)*1e5<=Math.min(Math.abs(et),Math.abs(c))}function floatZero(et){return Math.abs(et)<=1e-5}function lerp(et,c,tt){return et*(1-tt)+c*tt}function lerpPoint(et,c,tt){return[lerp(et[0],c[0],tt),lerp(et[1],c[1],tt)]}function quadRoots(et,c,tt){if(et===0)return[];var nt=c*c-4*et*tt;if(nt<0)return[];var rt=-c/(2*et);if(nt===0)return[rt];var it=Math.sqrt(nt)/(2*et);return[rt-it,rt+it]}function polynomialCoefficients(et,c,tt,nt){return[-et+3*c-3*tt+nt,3*et-6*c+3*tt,-3*et+3*c,et]}function singlePoint(et){return new PolynomialBezier(et,et,et,et,!1)}function PolynomialBezier(et,c,tt,nt,rt){rt&&pointEqual(et,c)&&(c=lerpPoint(et,nt,1/3)),rt&&pointEqual(tt,nt)&&(tt=lerpPoint(et,nt,2/3));var it=polynomialCoefficients(et[0],c[0],tt[0],nt[0]),st=polynomialCoefficients(et[1],c[1],tt[1],nt[1]);this.a=[it[0],st[0]],this.b=[it[1],st[1]],this.c=[it[2],st[2]],this.d=[it[3],st[3]],this.points=[et,c,tt,nt]}PolynomialBezier.prototype.point=function(et){return[((this.a[0]*et+this.b[0])*et+this.c[0])*et+this.d[0],((this.a[1]*et+this.b[1])*et+this.c[1])*et+this.d[1]]},PolynomialBezier.prototype.derivative=function(et){return[(3*et*this.a[0]+2*this.b[0])*et+this.c[0],(3*et*this.a[1]+2*this.b[1])*et+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(et){var c=this.derivative(et);return Math.atan2(c[1],c[0])},PolynomialBezier.prototype.normalAngle=function(et){var c=this.derivative(et);return Math.atan2(c[0],c[1])},PolynomialBezier.prototype.inflectionPoints=function(){var et=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(et))return[];var c=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/et,tt=c*c-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/et;if(tt<0)return[];var nt=Math.sqrt(tt);return floatZero(nt)?nt>0&&nt<1?[c]:[]:[c-nt,c+nt].filter(function(rt){return rt>0&&rt<1})},PolynomialBezier.prototype.split=function(et){if(et<=0)return[singlePoint(this.points[0]),this];if(et>=1)return[this,singlePoint(this.points[this.points.length-1])];var c=lerpPoint(this.points[0],this.points[1],et),tt=lerpPoint(this.points[1],this.points[2],et),nt=lerpPoint(this.points[2],this.points[3],et),rt=lerpPoint(c,tt,et),it=lerpPoint(tt,nt,et),st=lerpPoint(rt,it,et);return[new PolynomialBezier(this.points[0],c,rt,st,!0),new PolynomialBezier(st,it,nt,this.points[3],!0)]};function extrema(et,c){var tt=et.points[0][c],nt=et.points[et.points.length-1][c];if(tt>nt){var rt=nt;nt=tt,tt=rt}for(var it=quadRoots(3*et.a[c],2*et.b[c],et.c[c]),st=0;st<it.length;st+=1)if(it[st]>0&&it[st]<1){var at=et.point(it[st])[c];at<tt?tt=at:at>nt&&(nt=at)}return{min:tt,max:nt}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var et=this.bounds();return{left:et.x.min,right:et.x.max,top:et.y.min,bottom:et.y.max,width:et.x.max-et.x.min,height:et.y.max-et.y.min,cx:(et.x.max+et.x.min)/2,cy:(et.y.max+et.y.min)/2}};function intersectData(et,c,tt){var nt=et.boundingBox();return{cx:nt.cx,cy:nt.cy,width:nt.width,height:nt.height,bez:et,t:(c+tt)/2,t1:c,t2:tt}}function splitData(et){var c=et.bez.split(.5);return[intersectData(c[0],et.t1,et.t),intersectData(c[1],et.t,et.t2)]}function boxIntersect(et,c){return Math.abs(et.cx-c.cx)*2<et.width+c.width&&Math.abs(et.cy-c.cy)*2<et.height+c.height}function intersectsImpl(et,c,tt,nt,rt,it){if(boxIntersect(et,c)){if(tt>=it||et.width<=nt&&et.height<=nt&&c.width<=nt&&c.height<=nt){rt.push([et.t,c.t]);return}var st=splitData(et),at=splitData(c);intersectsImpl(st[0],at[0],tt+1,nt,rt,it),intersectsImpl(st[0],at[1],tt+1,nt,rt,it),intersectsImpl(st[1],at[0],tt+1,nt,rt,it),intersectsImpl(st[1],at[1],tt+1,nt,rt,it)}}PolynomialBezier.prototype.intersections=function(et,c,tt){c===void 0&&(c=2),tt===void 0&&(tt=7);var nt=[];return intersectsImpl(intersectData(this,0,1),intersectData(et,0,1),0,c,nt,tt),nt},PolynomialBezier.shapeSegment=function(et,c){var tt=(c+1)%et.length();return new PolynomialBezier(et.v[c],et.o[c],et.i[tt],et.v[tt],!0)},PolynomialBezier.shapeSegmentInverted=function(et,c){var tt=(c+1)%et.length();return new PolynomialBezier(et.v[tt],et.i[tt],et.o[c],et.v[c],!0)};function crossProduct(et,c){return[et[1]*c[2]-et[2]*c[1],et[2]*c[0]-et[0]*c[2],et[0]*c[1]-et[1]*c[0]]}function lineIntersection(et,c,tt,nt){var rt=[et[0],et[1],1],it=[c[0],c[1],1],st=[tt[0],tt[1],1],at=[nt[0],nt[1],1],ot=crossProduct(crossProduct(rt,it),crossProduct(st,at));return floatZero(ot[2])?null:[ot[0]/ot[2],ot[1]/ot[2]]}function polarOffset(et,c,tt){return[et[0]+Math.cos(c)*tt,et[1]-Math.sin(c)*tt]}function pointDistance(et,c){return Math.hypot(et[0]-c[0],et[1]-c[1])}function pointEqual(et,c){return floatEqual(et[0],c[0])&&floatEqual(et[1],c[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(et,c){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(et,c.s,0,null,this),this.frequency=PropertyFactory.getProp(et,c.r,0,null,this),this.pointsType=PropertyFactory.getProp(et,c.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(et,c,tt,nt,rt,it,st){var at=tt-Math.PI/2,ot=tt+Math.PI/2,lt=c[0]+Math.cos(tt)*nt*rt,ct=c[1]-Math.sin(tt)*nt*rt;et.setTripleAt(lt,ct,lt+Math.cos(at)*it,ct-Math.sin(at)*it,lt+Math.cos(ot)*st,ct-Math.sin(ot)*st,et.length())}function getPerpendicularVector(et,c){var tt=[c[0]-et[0],c[1]-et[1]],nt=-Math.PI*.5,rt=[Math.cos(nt)*tt[0]-Math.sin(nt)*tt[1],Math.sin(nt)*tt[0]+Math.cos(nt)*tt[1]];return rt}function getProjectingAngle(et,c){var tt=c===0?et.length()-1:c-1,nt=(c+1)%et.length(),rt=et.v[tt],it=et.v[nt],st=getPerpendicularVector(rt,it);return Math.atan2(0,1)-Math.atan2(st[1],st[0])}function zigZagCorner(et,c,tt,nt,rt,it,st){var at=getProjectingAngle(c,tt),ot=c.v[tt%c._length],lt=c.v[tt===0?c._length-1:tt-1],ct=c.v[(tt+1)%c._length],dt=it===2?Math.sqrt(Math.pow(ot[0]-lt[0],2)+Math.pow(ot[1]-lt[1],2)):0,ht=it===2?Math.sqrt(Math.pow(ot[0]-ct[0],2)+Math.pow(ot[1]-ct[1],2)):0;setPoint(et,c.v[tt%c._length],at,st,nt,ht/((rt+1)*2),dt/((rt+1)*2))}function zigZagSegment(et,c,tt,nt,rt,it){for(var st=0;st<nt;st+=1){var at=(st+1)/(nt+1),ot=rt===2?Math.sqrt(Math.pow(c.points[3][0]-c.points[0][0],2)+Math.pow(c.points[3][1]-c.points[0][1],2)):0,lt=c.normalAngle(at),ct=c.point(at);setPoint(et,ct,lt,it,tt,ot/((nt+1)*2),ot/((nt+1)*2)),it=-it}return it}ZigZagModifier.prototype.processPath=function(et,c,tt,nt){var rt=et._length,it=shapePool.newElement();if(it.c=et.c,et.c||(rt-=1),rt===0)return it;var st=-1,at=PolynomialBezier.shapeSegment(et,0);zigZagCorner(it,et,0,c,tt,nt,st);for(var ot=0;ot<rt;ot+=1)st=zigZagSegment(it,at,c,tt,nt,-st),ot===rt-1&&!et.c?at=null:at=PolynomialBezier.shapeSegment(et,(ot+1)%rt),zigZagCorner(it,et,ot+1,c,tt,nt,st);return it},ZigZagModifier.prototype.processShapes=function(et){var c,tt,nt=this.shapes.length,rt,it,st=this.amplitude.v,at=Math.max(0,Math.round(this.frequency.v)),ot=this.pointsType.v;if(st!==0){var lt,ct;for(tt=0;tt<nt;tt+=1){if(lt=this.shapes[tt],ct=lt.localShapeCollection,!(!lt.shape._mdf&&!this._mdf&&!et))for(ct.releaseShapes(),lt.shape._mdf=!0,c=lt.shape.paths.shapes,it=lt.shape.paths._length,rt=0;rt<it;rt+=1)ct.addShape(this.processPath(c[rt],st,at,ot));lt.shape.paths=lt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(et,c,tt){var nt=Math.atan2(c[0]-et[0],c[1]-et[1]);return[polarOffset(et,nt,tt),polarOffset(c,nt,tt)]}function offsetSegment(et,c){var tt,nt,rt,it,st,at,ot;ot=linearOffset(et.points[0],et.points[1],c),tt=ot[0],nt=ot[1],ot=linearOffset(et.points[1],et.points[2],c),rt=ot[0],it=ot[1],ot=linearOffset(et.points[2],et.points[3],c),st=ot[0],at=ot[1];var lt=lineIntersection(tt,nt,rt,it);lt===null&&(lt=nt);var ct=lineIntersection(st,at,rt,it);return ct===null&&(ct=st),new PolynomialBezier(tt,lt,ct,at)}function joinLines(et,c,tt,nt,rt){var it=c.points[3],st=tt.points[0];if(nt===3||pointEqual(it,st))return it;if(nt===2){var at=-c.tangentAngle(1),ot=-tt.tangentAngle(0)+Math.PI,lt=lineIntersection(it,polarOffset(it,at+Math.PI/2,100),st,polarOffset(st,at+Math.PI/2,100)),ct=lt?pointDistance(lt,it):pointDistance(it,st)/2,dt=polarOffset(it,at,2*ct*roundCorner);return et.setXYAt(dt[0],dt[1],"o",et.length()-1),dt=polarOffset(st,ot,2*ct*roundCorner),et.setTripleAt(st[0],st[1],st[0],st[1],dt[0],dt[1],et.length()),st}var ht=pointEqual(it,c.points[2])?c.points[0]:c.points[2],mt=pointEqual(st,tt.points[1])?tt.points[3]:tt.points[1],gt=lineIntersection(ht,it,st,mt);return gt&&pointDistance(gt,it)<rt?(et.setTripleAt(gt[0],gt[1],gt[0],gt[1],gt[0],gt[1],et.length()),gt):it}function getIntersection(et,c){var tt=et.intersections(c);return tt.length&&floatEqual(tt[0][0],1)&&tt.shift(),tt.length?tt[0]:null}function pruneSegmentIntersection(et,c){var tt=et.slice(),nt=c.slice(),rt=getIntersection(et[et.length-1],c[0]);return rt&&(tt[et.length-1]=et[et.length-1].split(rt[0])[0],nt[0]=c[0].split(rt[1])[1]),et.length>1&&c.length>1&&(rt=getIntersection(et[0],c[c.length-1]),rt)?[[et[0].split(rt[0])[0]],[c[c.length-1].split(rt[1])[1]]]:[tt,nt]}function pruneIntersections(et){for(var c,tt=1;tt<et.length;tt+=1)c=pruneSegmentIntersection(et[tt-1],et[tt]),et[tt-1]=c[0],et[tt]=c[1];return et.length>1&&(c=pruneSegmentIntersection(et[et.length-1],et[0]),et[et.length-1]=c[0],et[0]=c[1]),et}function offsetSegmentSplit(et,c){var tt=et.inflectionPoints(),nt,rt,it,st;if(tt.length===0)return[offsetSegment(et,c)];if(tt.length===1||floatEqual(tt[1],1))return it=et.split(tt[0]),nt=it[0],rt=it[1],[offsetSegment(nt,c),offsetSegment(rt,c)];it=et.split(tt[0]),nt=it[0];var at=(tt[1]-tt[0])/(1-tt[0]);return it=it[1].split(at),st=it[0],rt=it[1],[offsetSegment(nt,c),offsetSegment(st,c),offsetSegment(rt,c)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(et,c){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(et,c.a,0,null,this),this.miterLimit=PropertyFactory.getProp(et,c.ml,0,null,this),this.lineJoin=c.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(et,c,tt,nt){var rt=shapePool.newElement();rt.c=et.c;var it=et.length();et.c||(it-=1);var st,at,ot,lt=[];for(st=0;st<it;st+=1)ot=PolynomialBezier.shapeSegment(et,st),lt.push(offsetSegmentSplit(ot,c));if(!et.c)for(st=it-1;st>=0;st-=1)ot=PolynomialBezier.shapeSegmentInverted(et,st),lt.push(offsetSegmentSplit(ot,c));lt=pruneIntersections(lt);var ct=null,dt=null;for(st=0;st<lt.length;st+=1){var ht=lt[st];for(dt&&(ct=joinLines(rt,dt,ht[0],tt,nt)),dt=ht[ht.length-1],at=0;at<ht.length;at+=1)ot=ht[at],ct&&pointEqual(ot.points[0],ct)?rt.setXYAt(ot.points[1][0],ot.points[1][1],"o",rt.length()-1):rt.setTripleAt(ot.points[0][0],ot.points[0][1],ot.points[1][0],ot.points[1][1],ot.points[0][0],ot.points[0][1],rt.length()),rt.setTripleAt(ot.points[3][0],ot.points[3][1],ot.points[3][0],ot.points[3][1],ot.points[2][0],ot.points[2][1],rt.length()),ct=ot.points[3]}return lt.length&&joinLines(rt,dt,lt[0][0],tt,nt),rt},OffsetPathModifier.prototype.processShapes=function(et){var c,tt,nt=this.shapes.length,rt,it,st=this.amount.v,at=this.miterLimit.v,ot=this.lineJoin;if(st!==0){var lt,ct;for(tt=0;tt<nt;tt+=1){if(lt=this.shapes[tt],ct=lt.localShapeCollection,!(!lt.shape._mdf&&!this._mdf&&!et))for(ct.releaseShapes(),lt.shape._mdf=!0,c=lt.shape.paths.shapes,it=lt.shape.paths._length,rt=0;rt<it;rt+=1)ct.addShape(this.processPath(c[rt],st,ot,at));lt.shape.paths=lt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(et){for(var c=et.fStyle?et.fStyle.split(" "):[],tt="normal",nt="normal",rt=c.length,it,st=0;st<rt;st+=1)switch(it=c[st].toLowerCase(),it){case"italic":nt="italic";break;case"bold":tt="700";break;case"black":tt="900";break;case"medium":tt="500";break;case"regular":case"normal":tt="400";break;case"light":case"thin":tt="200";break}return{style:nt,weight:et.fWeight||tt}}var FontManager=function(){var et=5e3,c={w:0,size:0,shapes:[],data:{shapes:[]}},tt=[];tt=tt.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var nt=127988,rt=917631,it=917601,st=917626,at=65039,ot=8205,lt=127462,ct=127487,dt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function ht(Ft){var Ut=Ft.split(","),At,kt=Ut.length,Ot=[];for(At=0;At<kt;At+=1)Ut[At]!=="sans-serif"&&Ut[At]!=="monospace"&&Ot.push(Ut[At]);return Ot.join(",")}function mt(Ft,Ut){var At=createTag("span");At.setAttribute("aria-hidden",!0),At.style.fontFamily=Ut;var kt=createTag("span");kt.innerText="giItT1WQy@!-/#",At.style.position="absolute",At.style.left="-10000px",At.style.top="-10000px",At.style.fontSize="300px",At.style.fontVariant="normal",At.style.fontStyle="normal",At.style.fontWeight="normal",At.style.letterSpacing="0",At.appendChild(kt),document.body.appendChild(At);var Ot=kt.offsetWidth;return kt.style.fontFamily=ht(Ft)+", "+Ut,{node:kt,w:Ot,parent:At}}function gt(){var Ft,Ut=this.fonts.length,At,kt,Ot=Ut;for(Ft=0;Ft<Ut;Ft+=1)this.fonts[Ft].loaded?Ot-=1:this.fonts[Ft].fOrigin==="n"||this.fonts[Ft].origin===0?this.fonts[Ft].loaded=!0:(At=this.fonts[Ft].monoCase.node,kt=this.fonts[Ft].monoCase.w,At.offsetWidth!==kt?(Ot-=1,this.fonts[Ft].loaded=!0):(At=this.fonts[Ft].sansCase.node,kt=this.fonts[Ft].sansCase.w,At.offsetWidth!==kt&&(Ot-=1,this.fonts[Ft].loaded=!0)),this.fonts[Ft].loaded&&(this.fonts[Ft].sansCase.parent.parentNode.removeChild(this.fonts[Ft].sansCase.parent),this.fonts[Ft].monoCase.parent.parentNode.removeChild(this.fonts[Ft].monoCase.parent)));Ot!==0&&Date.now()-this.initTime<et?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function yt(Ft,Ut){var At=document.body&&Ut?"svg":"canvas",kt,Ot=getFontProperties(Ft);if(At==="svg"){var Bt=createNS("text");Bt.style.fontSize="100px",Bt.setAttribute("font-family",Ft.fFamily),Bt.setAttribute("font-style",Ot.style),Bt.setAttribute("font-weight",Ot.weight),Bt.textContent="1",Ft.fClass?(Bt.style.fontFamily="inherit",Bt.setAttribute("class",Ft.fClass)):Bt.style.fontFamily=Ft.fFamily,Ut.appendChild(Bt),kt=Bt}else{var Qt=new OffscreenCanvas(500,500).getContext("2d");Qt.font=Ot.style+" "+Ot.weight+" 100px "+Ft.fFamily,kt=Qt}function an(Kt){return At==="svg"?(kt.textContent=Kt,kt.getComputedTextLength()):kt.measureText(Kt).width}return{measureText:an}}function _t(Ft,Ut){if(!Ft){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Ft.list;return}if(!document.body){this.isLoaded=!0,Ft.list.forEach(function(jn){jn.helper=yt(jn),jn.cache={}}),this.fonts=Ft.list;return}var At=Ft.list,kt,Ot=At.length,Bt=Ot;for(kt=0;kt<Ot;kt+=1){var Qt=!0,an,Kt;if(At[kt].loaded=!1,At[kt].monoCase=mt(At[kt].fFamily,"monospace"),At[kt].sansCase=mt(At[kt].fFamily,"sans-serif"),!At[kt].fPath)At[kt].loaded=!0,Bt-=1;else if(At[kt].fOrigin==="p"||At[kt].origin===3){if(an=document.querySelectorAll('style[f-forigin="p"][f-family="'+At[kt].fFamily+'"], style[f-origin="3"][f-family="'+At[kt].fFamily+'"]'),an.length>0&&(Qt=!1),Qt){var ln=createTag("style");ln.setAttribute("f-forigin",At[kt].fOrigin),ln.setAttribute("f-origin",At[kt].origin),ln.setAttribute("f-family",At[kt].fFamily),ln.type="text/css",ln.innerText="@font-face {font-family: "+At[kt].fFamily+"; font-style: normal; src: url('"+At[kt].fPath+"');}",Ut.appendChild(ln)}}else if(At[kt].fOrigin==="g"||At[kt].origin===1){for(an=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Kt=0;Kt<an.length;Kt+=1)an[Kt].href.indexOf(At[kt].fPath)!==-1&&(Qt=!1);if(Qt){var vn=createTag("link");vn.setAttribute("f-forigin",At[kt].fOrigin),vn.setAttribute("f-origin",At[kt].origin),vn.type="text/css",vn.rel="stylesheet",vn.href=At[kt].fPath,document.body.appendChild(vn)}}else if(At[kt].fOrigin==="t"||At[kt].origin===2){for(an=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Kt=0;Kt<an.length;Kt+=1)At[kt].fPath===an[Kt].src&&(Qt=!1);if(Qt){var En=createTag("link");En.setAttribute("f-forigin",At[kt].fOrigin),En.setAttribute("f-origin",At[kt].origin),En.setAttribute("rel","stylesheet"),En.setAttribute("href",At[kt].fPath),Ut.appendChild(En)}}At[kt].helper=yt(At[kt],Ut),At[kt].cache={},this.fonts.push(At[kt])}Bt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function pt(Ft){if(Ft){this.chars||(this.chars=[]);var Ut,At=Ft.length,kt,Ot=this.chars.length,Bt;for(Ut=0;Ut<At;Ut+=1){for(kt=0,Bt=!1;kt<Ot;)this.chars[kt].style===Ft[Ut].style&&this.chars[kt].fFamily===Ft[Ut].fFamily&&this.chars[kt].ch===Ft[Ut].ch&&(Bt=!0),kt+=1;Bt||(this.chars.push(Ft[Ut]),Ot+=1)}}}function xt(Ft,Ut,At){for(var kt=0,Ot=this.chars.length;kt<Ot;){if(this.chars[kt].ch===Ft&&this.chars[kt].style===Ut&&this.chars[kt].fFamily===At)return this.chars[kt];kt+=1}return(typeof Ft=="string"&&Ft.charCodeAt(0)!==13||!Ft)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Ft,Ut,At)),c}function vt(Ft,Ut,At){var kt=this.getFontByName(Ut),Ot=Ft;if(!kt.cache[Ot]){var Bt=kt.helper;if(Ft===" "){var Qt=Bt.measureText("|"+Ft+"|"),an=Bt.measureText("||");kt.cache[Ot]=(Qt-an)/100}else kt.cache[Ot]=Bt.measureText(Ft)/100}return kt.cache[Ot]*At}function St(Ft){for(var Ut=0,At=this.fonts.length;Ut<At;){if(this.fonts[Ut].fName===Ft)return this.fonts[Ut];Ut+=1}return this.fonts[0]}function wt(Ft){var Ut=0,At=Ft.charCodeAt(0);if(At>=55296&&At<=56319){var kt=Ft.charCodeAt(1);kt>=56320&&kt<=57343&&(Ut=(At-55296)*1024+kt-56320+65536)}return Ut}function Mt(Ft,Ut){var At=Ft.toString(16)+Ut.toString(16);return dt.indexOf(At)!==-1}function Ct(Ft){return Ft===ot}function Rt(Ft){return Ft===at}function Lt(Ft){var Ut=wt(Ft);return Ut>=lt&&Ut<=ct}function It(Ft){return Lt(Ft.substr(0,2))&&Lt(Ft.substr(2,2))}function Nt(Ft){return tt.indexOf(Ft)!==-1}function zt(Ft,Ut){var At=wt(Ft.substr(Ut,2));if(At!==nt)return!1;var kt=0;for(Ut+=2;kt<5;){if(At=wt(Ft.substr(Ut,2)),At<it||At>st)return!1;kt+=1,Ut+=2}return wt(Ft.substr(Ut,2))===rt}function Wt(){this.isLoaded=!0}var Yt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Yt.isModifier=Mt,Yt.isZeroWidthJoiner=Ct,Yt.isFlagEmoji=It,Yt.isRegionalCode=Lt,Yt.isCombinedCharacter=Nt,Yt.isRegionalFlag=zt,Yt.isVariationSelector=Rt,Yt.BLACK_FLAG_CODE_POINT=nt;var Xt={addChars:pt,addFonts:_t,getCharData:xt,getFontByName:St,measureText:vt,checkLoadedFonts:gt,setIsLoaded:Wt};return Yt.prototype=Xt,Yt}();function SlotManager(et){this.animationData=et}SlotManager.prototype.getProp=function(et){return this.animationData.slots&&this.animationData.slots[et.sid]?Object.assign(et,this.animationData.slots[et.sid].p):et};function slotFactory(et){return new SlotManager(et)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(c){this.renderableComponents.indexOf(c)===-1&&this.renderableComponents.push(c)},removeRenderableComponent:function(c){this.renderableComponents.indexOf(c)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(c),1)},prepareRenderableFrame:function(c){this.checkLayerLimits(c)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(c){this.data.ip-this.data.st<=c&&this.data.op-this.data.st>c?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var c,tt=this.renderableComponents.length;for(c=0;c<tt;c+=1)this.renderableComponents[c].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var et={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(c){return et[c]||""}}();function SliderEffect(et,c,tt){this.p=PropertyFactory.getProp(c,et.v,0,0,tt)}function AngleEffect(et,c,tt){this.p=PropertyFactory.getProp(c,et.v,0,0,tt)}function ColorEffect(et,c,tt){this.p=PropertyFactory.getProp(c,et.v,1,0,tt)}function PointEffect(et,c,tt){this.p=PropertyFactory.getProp(c,et.v,1,0,tt)}function LayerIndexEffect(et,c,tt){this.p=PropertyFactory.getProp(c,et.v,0,0,tt)}function MaskIndexEffect(et,c,tt){this.p=PropertyFactory.getProp(c,et.v,0,0,tt)}function CheckboxEffect(et,c,tt){this.p=PropertyFactory.getProp(c,et.v,0,0,tt)}function NoValueEffect(){this.p={}}function EffectsManager(et,c){var tt=et.ef||[];this.effectElements=[];var nt,rt=tt.length,it;for(nt=0;nt<rt;nt+=1)it=new GroupEffect(tt[nt],c),this.effectElements.push(it)}function GroupEffect(et,c){this.init(et,c)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(et,c){this.data=et,this.effectElements=[],this.initDynamicPropertyContainer(c);var tt,nt=this.data.ef.length,rt,it=this.data.ef;for(tt=0;tt<nt;tt+=1){switch(rt=null,it[tt].ty){case 0:rt=new SliderEffect(it[tt],c,this);break;case 1:rt=new AngleEffect(it[tt],c,this);break;case 2:rt=new ColorEffect(it[tt],c,this);break;case 3:rt=new PointEffect(it[tt],c,this);break;case 4:case 7:rt=new CheckboxEffect(it[tt],c,this);break;case 10:rt=new LayerIndexEffect(it[tt],c,this);break;case 11:rt=new MaskIndexEffect(it[tt],c,this);break;case 5:rt=new EffectsManager(it[tt],c);break;default:rt=new NoValueEffect(it[tt]);break}rt&&this.effectElements.push(rt)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var c=0,tt=this.data.masksProperties.length;c<tt;){if(this.data.masksProperties[c].mode!=="n"&&this.data.masksProperties[c].cl!==!1)return!0;c+=1}return!1},initExpressions:function(){var c=getExpressionInterfaces();if(c){var tt=c("layer"),nt=c("effects"),rt=c("shape"),it=c("text"),st=c("comp");this.layerInterface=tt(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var at=nt.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(at),this.data.ty===0||this.data.xt?this.compInterface=st(this):this.data.ty===4?(this.layerInterface.shapeInterface=rt(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=it(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var c=getBlendMode(this.data.bm),tt=this.baseElement||this.layerElement;tt.style["mix-blend-mode"]=c},initBaseData:function(c,tt,nt){this.globalData=tt,this.comp=nt,this.data=c,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(c,tt){var nt,rt=this.dynamicProperties.length;for(nt=0;nt<rt;nt+=1)(tt||this._isParent&&this.dynamicProperties[nt].propType==="transform")&&(this.dynamicProperties[nt].getValue(),this.dynamicProperties[nt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(c){this.dynamicProperties.indexOf(c)===-1&&this.dynamicProperties.push(c)}};function FootageElement(et,c,tt){this.initFrame(),this.initRenderable(),this.assetData=c.getAssetData(et.refId),this.footageData=c.imageLoader.getAsset(this.assetData),this.initBaseData(et,c,tt)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var et=getExpressionInterfaces();if(et){var c=et("footage");this.layerInterface=c(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(et,c,tt){this.initFrame(),this.initRenderable(),this.assetData=c.getAssetData(et.refId),this.initBaseData(et,c,tt),this._isPlaying=!1,this._canPlay=!1;var nt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(nt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,c.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,et.au&&et.au.lv?et.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(et){if(this.prepareRenderableFrame(et,!0),this.prepareProperties(et,!0),this.tm._placeholder)this._currentTime=et/this.data.sr;else{var c=this.tm.v;this._currentTime=c}this._volume=this.lv.v[0];var tt=this._volume*this._volumeMultiplier;this._previousVolume!==tt&&(this._previousVolume=tt,this.audio.volume(tt))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(et){this.audio.rate(et)},AudioElement.prototype.volume=function(et){this._volumeMultiplier=et,this._previousVolume=et*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(et){var c,tt=this.layers.length,nt;for(this.completeLayers=!0,c=tt-1;c>=0;c-=1)this.elements[c]||(nt=this.layers[c],nt.ip-nt.st<=et-this.layers[c].st&&nt.op-nt.st>et-this.layers[c].st&&this.buildItem(c)),this.completeLayers=this.elements[c]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(et){switch(et.ty){case 2:return this.createImage(et);case 0:return this.createComp(et);case 1:return this.createSolid(et);case 3:return this.createNull(et);case 4:return this.createShape(et);case 5:return this.createText(et);case 6:return this.createAudio(et);case 13:return this.createCamera(et);case 15:return this.createFootage(et);default:return this.createNull(et)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(et){return new AudioElement(et,this.globalData,this)},BaseRenderer.prototype.createFootage=function(et){return new FootageElement(et,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var et,c=this.layers.length;for(et=0;et<c;et+=1)this.buildItem(et);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(et){this.completeLayers=!1;var c,tt=et.length,nt,rt=this.layers.length;for(c=0;c<tt;c+=1)for(nt=0;nt<rt;){if(this.layers[nt].id===et[c].id){this.layers[nt]=et[c];break}nt+=1}},BaseRenderer.prototype.setProjectInterface=function(et){this.globalData.projectInterface=et},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(et,c,tt){for(var nt=this.elements,rt=this.layers,it=0,st=rt.length;it<st;)rt[it].ind==c&&(!nt[it]||nt[it]===!0?(this.buildItem(it),this.addPendingElement(et)):(tt.push(nt[it]),nt[it].setAsParent(),rt[it].parent!==void 0?this.buildElementParenting(et,rt[it].parent,tt):et.setHierarchy(tt))),it+=1},BaseRenderer.prototype.addPendingElement=function(et){this.pendingElements.push(et)},BaseRenderer.prototype.searchExtraCompositions=function(et){var c,tt=et.length;for(c=0;c<tt;c+=1)if(et[c].xt){var nt=this.createComp(et[c]);nt.initExpressions(),this.globalData.projectInterface.registerComposition(nt)}},BaseRenderer.prototype.getElementById=function(et){var c,tt=this.elements.length;for(c=0;c<tt;c+=1)if(this.elements[c].data.ind===et)return this.elements[c];return null},BaseRenderer.prototype.getElementByPath=function(et){var c=et.shift(),tt;if(typeof c=="number")tt=this.elements[c];else{var nt,rt=this.elements.length;for(nt=0;nt<rt;nt+=1)if(this.elements[nt].data.nm===c){tt=this.elements[nt];break}}return et.length===0?tt:tt.getElementByPath(et)},BaseRenderer.prototype.setupGlobalData=function(et,c){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(et),this.globalData.fontManager.addChars(et.chars),this.globalData.fontManager.addFonts(et.fonts,c),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=et.fr,this.globalData.nm=et.nm,this.globalData.compSize={w:et.w,h:et.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var c=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:c,localMat:c,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var c,tt=this.finalTransform.mat,nt=0,rt=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;nt<rt;){if(this.hierarchy[nt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}nt+=1}if(this.finalTransform._matMdf)for(c=this.finalTransform.mProp.v.props,tt.cloneFromProps(c),nt=0;nt<rt;nt+=1)tt.multiply(this.hierarchy[nt].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var c=0,tt=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;c<tt;)this.localTransforms[c]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[c]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),c+=1;if(this.finalTransform._localMatMdf){var nt=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(nt),c=1;c<tt;c+=1){var rt=this.localTransforms[c].matrix;nt.multiply(rt)}nt.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var it=this.finalTransform.localOpacity;for(c=0;c<tt;c+=1)it*=this.localTransforms[c].opacity*.01;this.finalTransform.localOpacity=it}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var c=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(c.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var tt=0,nt=c.length;for(tt=0;tt<nt;tt+=1)this.localTransforms.push(c[tt])}}},globalToLocal:function(c){var tt=[];tt.push(this.finalTransform);for(var nt=!0,rt=this.comp;nt;)rt.finalTransform?(rt.data.hasMask&&tt.splice(0,0,rt.finalTransform),rt=rt.comp):nt=!1;var it,st=tt.length,at;for(it=0;it<st;it+=1)at=tt[it].mat.applyToPointArray(0,0,0),c=[c[0]-at[0],c[1]-at[1],0];return c},mHelper:new Matrix};function MaskElement(et,c,tt){this.data=et,this.element=c,this.globalData=tt,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var nt=this.globalData.defs,rt,it=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(it),this.solidPath="";var st,at=this.masksProperties,ot=0,lt=[],ct,dt,ht=createElementID(),mt,gt,yt,_t,pt="clipPath",xt="clip-path";for(rt=0;rt<it;rt+=1)if((at[rt].mode!=="a"&&at[rt].mode!=="n"||at[rt].inv||at[rt].o.k!==100||at[rt].o.x)&&(pt="mask",xt="mask"),(at[rt].mode==="s"||at[rt].mode==="i")&&ot===0?(mt=createNS("rect"),mt.setAttribute("fill","#ffffff"),mt.setAttribute("width",this.element.comp.data.w||0),mt.setAttribute("height",this.element.comp.data.h||0),lt.push(mt)):mt=null,st=createNS("path"),at[rt].mode==="n")this.viewData[rt]={op:PropertyFactory.getProp(this.element,at[rt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,at[rt],3),elem:st,lastPath:""},nt.appendChild(st);else{ot+=1,st.setAttribute("fill",at[rt].mode==="s"?"#000000":"#ffffff"),st.setAttribute("clip-rule","nonzero");var vt;if(at[rt].x.k!==0?(pt="mask",xt="mask",_t=PropertyFactory.getProp(this.element,at[rt].x,0,null,this.element),vt=createElementID(),gt=createNS("filter"),gt.setAttribute("id",vt),yt=createNS("feMorphology"),yt.setAttribute("operator","erode"),yt.setAttribute("in","SourceGraphic"),yt.setAttribute("radius","0"),gt.appendChild(yt),nt.appendChild(gt),st.setAttribute("stroke",at[rt].mode==="s"?"#000000":"#ffffff")):(yt=null,_t=null),this.storedData[rt]={elem:st,x:_t,expan:yt,lastPath:"",lastOperator:"",filterId:vt,lastRadius:0},at[rt].mode==="i"){dt=lt.length;var St=createNS("g");for(ct=0;ct<dt;ct+=1)St.appendChild(lt[ct]);var wt=createNS("mask");wt.setAttribute("mask-type","alpha"),wt.setAttribute("id",ht+"_"+ot),wt.appendChild(st),nt.appendChild(wt),St.setAttribute("mask","url("+getLocationHref()+"#"+ht+"_"+ot+")"),lt.length=0,lt.push(St)}else lt.push(st);at[rt].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[rt]={elem:st,lastPath:"",op:PropertyFactory.getProp(this.element,at[rt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,at[rt],3),invRect:mt},this.viewData[rt].prop.k||this.drawPath(at[rt],this.viewData[rt].prop.v,this.viewData[rt])}for(this.maskElement=createNS(pt),it=lt.length,rt=0;rt<it;rt+=1)this.maskElement.appendChild(lt[rt]);ot>0&&(this.maskElement.setAttribute("id",ht),this.element.maskedElement.setAttribute(xt,"url("+getLocationHref()+"#"+ht+")"),nt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(et){return this.viewData[et].prop},MaskElement.prototype.renderFrame=function(et){var c=this.element.finalTransform.mat,tt,nt=this.masksProperties.length;for(tt=0;tt<nt;tt+=1)if((this.viewData[tt].prop._mdf||et)&&this.drawPath(this.masksProperties[tt],this.viewData[tt].prop.v,this.viewData[tt]),(this.viewData[tt].op._mdf||et)&&this.viewData[tt].elem.setAttribute("fill-opacity",this.viewData[tt].op.v),this.masksProperties[tt].mode!=="n"&&(this.viewData[tt].invRect&&(this.element.finalTransform.mProp._mdf||et)&&this.viewData[tt].invRect.setAttribute("transform",c.getInverseMatrix().to2dCSS()),this.storedData[tt].x&&(this.storedData[tt].x._mdf||et))){var rt=this.storedData[tt].expan;this.storedData[tt].x.v<0?(this.storedData[tt].lastOperator!=="erode"&&(this.storedData[tt].lastOperator="erode",this.storedData[tt].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[tt].filterId+")")),rt.setAttribute("radius",-this.storedData[tt].x.v)):(this.storedData[tt].lastOperator!=="dilate"&&(this.storedData[tt].lastOperator="dilate",this.storedData[tt].elem.setAttribute("filter",null)),this.storedData[tt].elem.setAttribute("stroke-width",this.storedData[tt].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var et="M0,0 ";return et+=" h"+this.globalData.compSize.w,et+=" v"+this.globalData.compSize.h,et+=" h-"+this.globalData.compSize.w,et+=" v-"+this.globalData.compSize.h+" ",et},MaskElement.prototype.drawPath=function(et,c,tt){var nt=" M"+c.v[0][0]+","+c.v[0][1],rt,it;for(it=c._length,rt=1;rt<it;rt+=1)nt+=" C"+c.o[rt-1][0]+","+c.o[rt-1][1]+" "+c.i[rt][0]+","+c.i[rt][1]+" "+c.v[rt][0]+","+c.v[rt][1];if(c.c&&it>1&&(nt+=" C"+c.o[rt-1][0]+","+c.o[rt-1][1]+" "+c.i[0][0]+","+c.i[0][1]+" "+c.v[0][0]+","+c.v[0][1]),tt.lastPath!==nt){var st="";tt.elem&&(c.c&&(st=et.inv?this.solidPath+nt:nt),tt.elem.setAttribute("d",st)),tt.lastPath=nt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var et={};et.createFilter=c,et.createAlphaToLuminanceFilter=tt;function c(nt,rt){var it=createNS("filter");return it.setAttribute("id",nt),rt!==!0&&(it.setAttribute("filterUnits","objectBoundingBox"),it.setAttribute("x","0%"),it.setAttribute("y","0%"),it.setAttribute("width","100%"),it.setAttribute("height","100%")),it}function tt(){var nt=createNS("feColorMatrix");return nt.setAttribute("type","matrix"),nt.setAttribute("color-interpolation-filters","sRGB"),nt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),nt}return et}(),featureSupport=function(){var et={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(et.maskType=!1),/firefox/i.test(navigator.userAgent)&&(et.svgLumaHidden=!1),et}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(et){var c,tt="SourceGraphic",nt=et.data.ef?et.data.ef.length:0,rt=createElementID(),it=filtersFactory.createFilter(rt,!0),st=0;this.filters=[];var at;for(c=0;c<nt;c+=1){at=null;var ot=et.data.ef[c].ty;if(registeredEffects$1[ot]){var lt=registeredEffects$1[ot].effect;at=new lt(it,et.effectsManager.effectElements[c],et,idPrefix+st,tt),tt=idPrefix+st,registeredEffects$1[ot].countsAsEffect&&(st+=1)}at&&this.filters.push(at)}st&&(et.globalData.defs.appendChild(it),et.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+rt+")")),this.filters.length&&et.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(et){var c,tt=this.filters.length;for(c=0;c<tt;c+=1)this.filters[c].renderFrame(et)},SVGEffects.prototype.getEffects=function(et){var c,tt=this.filters.length,nt=[];for(c=0;c<tt;c+=1)this.filters[c].type===et&&nt.push(this.filters[c]);return nt};function registerEffect$1(et,c,tt){registeredEffects$1[et]={effect:c,countsAsEffect:tt}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var c=null;if(this.data.td){this.matteMasks={};var tt=createNS("g");tt.setAttribute("id",this.layerId),tt.appendChild(this.layerElement),c=tt,this.globalData.defs.appendChild(tt)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),c=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var nt=createNS("clipPath"),rt=createNS("path");rt.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var it=createElementID();if(nt.setAttribute("id",it),nt.appendChild(rt),this.globalData.defs.appendChild(nt),this.checkMasks()){var st=createNS("g");st.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")"),st.appendChild(this.layerElement),this.transformedElement=st,c?c.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(c){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[c]){var tt=this.layerId+"_"+c,nt,rt,it,st;if(c===1||c===3){var at=createNS("mask");at.setAttribute("id",tt),at.setAttribute("mask-type",c===3?"luminance":"alpha"),it=createNS("use"),it.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),at.appendChild(it),this.globalData.defs.appendChild(at),!featureSupport.maskType&&c===1&&(at.setAttribute("mask-type","luminance"),nt=createElementID(),rt=filtersFactory.createFilter(nt),this.globalData.defs.appendChild(rt),rt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),st=createNS("g"),st.appendChild(it),at.appendChild(st),st.setAttribute("filter","url("+getLocationHref()+"#"+nt+")"))}else if(c===2){var ot=createNS("mask");ot.setAttribute("id",tt),ot.setAttribute("mask-type","alpha");var lt=createNS("g");ot.appendChild(lt),nt=createElementID(),rt=filtersFactory.createFilter(nt);var ct=createNS("feComponentTransfer");ct.setAttribute("in","SourceGraphic"),rt.appendChild(ct);var dt=createNS("feFuncA");dt.setAttribute("type","table"),dt.setAttribute("tableValues","1.0 0.0"),ct.appendChild(dt),this.globalData.defs.appendChild(rt);var ht=createNS("rect");ht.setAttribute("width",this.comp.data.w),ht.setAttribute("height",this.comp.data.h),ht.setAttribute("x","0"),ht.setAttribute("y","0"),ht.setAttribute("fill","#ffffff"),ht.setAttribute("opacity","0"),lt.setAttribute("filter","url("+getLocationHref()+"#"+nt+")"),lt.appendChild(ht),it=createNS("use"),it.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),lt.appendChild(it),featureSupport.maskType||(ot.setAttribute("mask-type","luminance"),rt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),st=createNS("g"),lt.appendChild(ht),st.appendChild(this.layerElement),lt.appendChild(st)),this.globalData.defs.appendChild(ot)}this.matteMasks[c]=tt}return this.matteMasks[c]},setMatte:function(c){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+c+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(c){this.hierarchy=c},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var et={initElement:function(tt,nt,rt){this.initFrame(),this.initBaseData(tt,nt,rt),this.initTransform(tt,nt,rt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var tt=this.baseElement||this.layerElement;tt.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var tt=this.baseElement||this.layerElement;tt.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(tt){this._mdf=!1,this.prepareRenderableFrame(tt),this.prepareProperties(tt,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(et)],RenderableDOMElement)})();function IImageElement(et,c,tt){this.assetData=c.getAssetData(et.refId),this.assetData&&this.assetData.sid&&(this.assetData=c.slotManager.getProp(this.assetData)),this.initElement(et,c,tt),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var et=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",et),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(et,c){this.elem=et,this.pos=c}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(c){var tt,nt=this.shapeModifiers.length;for(tt=0;tt<nt;tt+=1)this.shapeModifiers[tt].addShape(c)},isShapeInAnimatedModifiers:function(c){for(var tt=0,nt=this.shapeModifiers.length;tt<nt;)if(this.shapeModifiers[tt].isAnimatedWithShape(c))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var c,tt=this.shapes.length;for(c=0;c<tt;c+=1)this.shapes[c].sh.reset();tt=this.shapeModifiers.length;var nt;for(c=tt-1;c>=0&&(nt=this.shapeModifiers[c].processShapes(this._isFirstFrame),!nt);c-=1);}},searchProcessedElement:function(c){for(var tt=this.processedElements,nt=0,rt=tt.length;nt<rt;){if(tt[nt].elem===c)return tt[nt].pos;nt+=1}return 0},addProcessedElement:function(c,tt){for(var nt=this.processedElements,rt=nt.length;rt;)if(rt-=1,nt[rt].elem===c){nt[rt].pos=tt;return}nt.push(new ProcessedElement(c,tt))},prepareFrame:function(c){this.prepareRenderableFrame(c),this.prepareProperties(c,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(et,c,tt){this.caches=[],this.styles=[],this.transformers=et,this.lStr="",this.sh=tt,this.lvl=c,this._isAnimated=!!tt.k;for(var nt=0,rt=et.length;nt<rt;){if(et[nt].mProps.dynamicProperties.length){this._isAnimated=!0;break}nt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(et,c){this.data=et,this.type=et.ty,this.d="",this.lvl=c,this._mdf=!1,this.closed=et.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(et,c,tt,nt){this.elem=et,this.frameId=-1,this.dataProps=createSizedArray(c.length),this.renderer=tt,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",c.length?c.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(nt);var rt,it=c.length||0,st;for(rt=0;rt<it;rt+=1)st=PropertyFactory.getProp(et,c[rt].v,0,0,this),this.k=st.k||this.k,this.dataProps[rt]={n:c[rt].n,p:st};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(et){if(!(this.elem.globalData.frameId===this.frameId&&!et)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||et,this._mdf)){var c=0,tt=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),c=0;c<tt;c+=1)this.dataProps[c].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[c].p.v:this.dashArray[c]=this.dataProps[c].p.v:this.dashoffset[0]=this.dataProps[c].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(et,c,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(et,c.o,0,.01,this),this.w=PropertyFactory.getProp(et,c.w,0,null,this),this.d=new DashProperty(et,c.d||{},"svg",this),this.c=PropertyFactory.getProp(et,c.c,1,255,this),this.style=tt,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(et,c,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(et,c.o,0,.01,this),this.c=PropertyFactory.getProp(et,c.c,1,255,this),this.style=tt}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(et,c,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.style=tt}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(et,c,tt){this.data=c,this.c=createTypedArray("uint8c",c.p*4);var nt=c.k.k[0].s?c.k.k[0].s.length-c.p*4:c.k.k.length-c.p*4;this.o=createTypedArray("float32",nt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=nt,this.initDynamicPropertyContainer(tt),this.prop=PropertyFactory.getProp(et,c.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(et,c){for(var tt=0,nt=this.o.length/2,rt;tt<nt;){if(rt=Math.abs(et[tt*4]-et[c*4+tt*2]),rt>.01)return!1;tt+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var et=0,c=this.data.k.k.length;et<c;){if(!this.comparePoints(this.data.k.k[et].s,this.data.p))return!1;et+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(et){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||et){var c,tt=this.data.p*4,nt,rt;for(c=0;c<tt;c+=1)nt=c%4===0?100:255,rt=Math.round(this.prop.v[c]*nt),this.c[c]!==rt&&(this.c[c]=rt,this._cmdf=!et);if(this.o.length)for(tt=this.prop.v.length,c=this.data.p*4;c<tt;c+=1)nt=c%2===0?100:1,rt=c%2===0?Math.round(this.prop.v[c]*100):this.prop.v[c],this.o[c-this.data.p*4]!==rt&&(this.o[c-this.data.p*4]=rt,this._omdf=!et);this._mdf=!et}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(et,c,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.initGradientData(et,c,tt)}SVGGradientFillStyleData.prototype.initGradientData=function(et,c,tt){this.o=PropertyFactory.getProp(et,c.o,0,.01,this),this.s=PropertyFactory.getProp(et,c.s,1,null,this),this.e=PropertyFactory.getProp(et,c.e,1,null,this),this.h=PropertyFactory.getProp(et,c.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(et,c.a||{k:0},0,degToRads,this),this.g=new GradientProperty(et,c.g,this),this.style=tt,this.stops=[],this.setGradientData(tt.pElem,c),this.setGradientOpacity(c,tt),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(et,c){var tt=createElementID(),nt=createNS(c.t===1?"linearGradient":"radialGradient");nt.setAttribute("id",tt),nt.setAttribute("spreadMethod","pad"),nt.setAttribute("gradientUnits","userSpaceOnUse");var rt=[],it,st,at;for(at=c.g.p*4,st=0;st<at;st+=4)it=createNS("stop"),nt.appendChild(it),rt.push(it);et.setAttribute(c.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+tt+")"),this.gf=nt,this.cst=rt},SVGGradientFillStyleData.prototype.setGradientOpacity=function(et,c){if(this.g._hasOpacity&&!this.g._collapsable){var tt,nt,rt,it=createNS("mask"),st=createNS("path");it.appendChild(st);var at=createElementID(),ot=createElementID();it.setAttribute("id",ot);var lt=createNS(et.t===1?"linearGradient":"radialGradient");lt.setAttribute("id",at),lt.setAttribute("spreadMethod","pad"),lt.setAttribute("gradientUnits","userSpaceOnUse"),rt=et.g.k.k[0].s?et.g.k.k[0].s.length:et.g.k.k.length;var ct=this.stops;for(nt=et.g.p*4;nt<rt;nt+=2)tt=createNS("stop"),tt.setAttribute("stop-color","rgb(255,255,255)"),lt.appendChild(tt),ct.push(tt);st.setAttribute(et.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+at+")"),et.ty==="gs"&&(st.setAttribute("stroke-linecap",lineCapEnum[et.lc||2]),st.setAttribute("stroke-linejoin",lineJoinEnum[et.lj||2]),et.lj===1&&st.setAttribute("stroke-miterlimit",et.ml)),this.of=lt,this.ms=it,this.ost=ct,this.maskId=ot,c.msElem=st}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(et,c,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(et,c.w,0,null,this),this.d=new DashProperty(et,c.d||{},"svg",this),this.initGradientData(et,c,tt),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(et,c,tt){this.transform={mProps:et,op:c,container:tt},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(c,tt,nt,rt){if(tt===0)return"";var it=c.o,st=c.i,at=c.v,ot,lt=" M"+rt.applyToPointStringified(at[0][0],at[0][1]);for(ot=1;ot<tt;ot+=1)lt+=" C"+rt.applyToPointStringified(it[ot-1][0],it[ot-1][1])+" "+rt.applyToPointStringified(st[ot][0],st[ot][1])+" "+rt.applyToPointStringified(at[ot][0],at[ot][1]);return nt&&tt&&(lt+=" C"+rt.applyToPointStringified(it[ot-1][0],it[ot-1][1])+" "+rt.applyToPointStringified(st[0][0],st[0][1])+" "+rt.applyToPointStringified(at[0][0],at[0][1]),lt+="z"),lt},SVGElementsRenderer=function(){var et=new Matrix,c=new Matrix,tt={createRenderFunction:nt};function nt(dt){switch(dt.ty){case"fl":return at;case"gf":return lt;case"gs":return ot;case"st":return ct;case"sh":case"el":case"rc":case"sr":return st;case"tr":return rt;case"no":return it;default:return null}}function rt(dt,ht,mt){(mt||ht.transform.op._mdf)&&ht.transform.container.setAttribute("opacity",ht.transform.op.v),(mt||ht.transform.mProps._mdf)&&ht.transform.container.setAttribute("transform",ht.transform.mProps.v.to2dCSS())}function it(){}function st(dt,ht,mt){var gt,yt,_t,pt,xt,vt,St=ht.styles.length,wt=ht.lvl,Mt,Ct,Rt,Lt;for(vt=0;vt<St;vt+=1){if(pt=ht.sh._mdf||mt,ht.styles[vt].lvl<wt){for(Ct=c.reset(),Rt=wt-ht.styles[vt].lvl,Lt=ht.transformers.length-1;!pt&&Rt>0;)pt=ht.transformers[Lt].mProps._mdf||pt,Rt-=1,Lt-=1;if(pt)for(Rt=wt-ht.styles[vt].lvl,Lt=ht.transformers.length-1;Rt>0;)Ct.multiply(ht.transformers[Lt].mProps.v),Rt-=1,Lt-=1}else Ct=et;if(Mt=ht.sh.paths,yt=Mt._length,pt){for(_t="",gt=0;gt<yt;gt+=1)xt=Mt.shapes[gt],xt&&xt._length&&(_t+=buildShapeString(xt,xt._length,xt.c,Ct));ht.caches[vt]=_t}else _t=ht.caches[vt];ht.styles[vt].d+=dt.hd===!0?"":_t,ht.styles[vt]._mdf=pt||ht.styles[vt]._mdf}}function at(dt,ht,mt){var gt=ht.style;(ht.c._mdf||mt)&&gt.pElem.setAttribute("fill","rgb("+bmFloor(ht.c.v[0])+","+bmFloor(ht.c.v[1])+","+bmFloor(ht.c.v[2])+")"),(ht.o._mdf||mt)&&gt.pElem.setAttribute("fill-opacity",ht.o.v)}function ot(dt,ht,mt){lt(dt,ht,mt),ct(dt,ht,mt)}function lt(dt,ht,mt){var gt=ht.gf,yt=ht.g._hasOpacity,_t=ht.s.v,pt=ht.e.v;if(ht.o._mdf||mt){var xt=dt.ty==="gf"?"fill-opacity":"stroke-opacity";ht.style.pElem.setAttribute(xt,ht.o.v)}if(ht.s._mdf||mt){var vt=dt.t===1?"x1":"cx",St=vt==="x1"?"y1":"cy";gt.setAttribute(vt,_t[0]),gt.setAttribute(St,_t[1]),yt&&!ht.g._collapsable&&(ht.of.setAttribute(vt,_t[0]),ht.of.setAttribute(St,_t[1]))}var wt,Mt,Ct,Rt;if(ht.g._cmdf||mt){wt=ht.cst;var Lt=ht.g.c;for(Ct=wt.length,Mt=0;Mt<Ct;Mt+=1)Rt=wt[Mt],Rt.setAttribute("offset",Lt[Mt*4]+"%"),Rt.setAttribute("stop-color","rgb("+Lt[Mt*4+1]+","+Lt[Mt*4+2]+","+Lt[Mt*4+3]+")")}if(yt&&(ht.g._omdf||mt)){var It=ht.g.o;for(ht.g._collapsable?wt=ht.cst:wt=ht.ost,Ct=wt.length,Mt=0;Mt<Ct;Mt+=1)Rt=wt[Mt],ht.g._collapsable||Rt.setAttribute("offset",It[Mt*2]+"%"),Rt.setAttribute("stop-opacity",It[Mt*2+1])}if(dt.t===1)(ht.e._mdf||mt)&&(gt.setAttribute("x2",pt[0]),gt.setAttribute("y2",pt[1]),yt&&!ht.g._collapsable&&(ht.of.setAttribute("x2",pt[0]),ht.of.setAttribute("y2",pt[1])));else{var Nt;if((ht.s._mdf||ht.e._mdf||mt)&&(Nt=Math.sqrt(Math.pow(_t[0]-pt[0],2)+Math.pow(_t[1]-pt[1],2)),gt.setAttribute("r",Nt),yt&&!ht.g._collapsable&&ht.of.setAttribute("r",Nt)),ht.s._mdf||ht.e._mdf||ht.h._mdf||ht.a._mdf||mt){Nt||(Nt=Math.sqrt(Math.pow(_t[0]-pt[0],2)+Math.pow(_t[1]-pt[1],2)));var zt=Math.atan2(pt[1]-_t[1],pt[0]-_t[0]),Wt=ht.h.v;Wt>=1?Wt=.99:Wt<=-1&&(Wt=-.99);var Yt=Nt*Wt,Xt=Math.cos(zt+ht.a.v)*Yt+_t[0],Ft=Math.sin(zt+ht.a.v)*Yt+_t[1];gt.setAttribute("fx",Xt),gt.setAttribute("fy",Ft),yt&&!ht.g._collapsable&&(ht.of.setAttribute("fx",Xt),ht.of.setAttribute("fy",Ft))}}}function ct(dt,ht,mt){var gt=ht.style,yt=ht.d;yt&&(yt._mdf||mt)&&yt.dashStr&&(gt.pElem.setAttribute("stroke-dasharray",yt.dashStr),gt.pElem.setAttribute("stroke-dashoffset",yt.dashoffset[0])),ht.c&&(ht.c._mdf||mt)&&gt.pElem.setAttribute("stroke","rgb("+bmFloor(ht.c.v[0])+","+bmFloor(ht.c.v[1])+","+bmFloor(ht.c.v[2])+")"),(ht.o._mdf||mt)&&gt.pElem.setAttribute("stroke-opacity",ht.o.v),(ht.w._mdf||mt)&&(gt.pElem.setAttribute("stroke-width",ht.w.v),gt.msElem&&gt.msElem.setAttribute("stroke-width",ht.w.v))}return tt}();function SVGShapeElement(et,c,tt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(et,c,tt),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var et,c=this.shapes.length,tt,nt,rt=this.stylesList.length,it,st=[],at=!1;for(nt=0;nt<rt;nt+=1){for(it=this.stylesList[nt],at=!1,st.length=0,et=0;et<c;et+=1)tt=this.shapes[et],tt.styles.indexOf(it)!==-1&&(st.push(tt),at=tt._isAnimated||at);st.length>1&&at&&this.setShapesAsAnimated(st)}},SVGShapeElement.prototype.setShapesAsAnimated=function(et){var c,tt=et.length;for(c=0;c<tt;c+=1)et[c].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(et,c){var tt,nt=new SVGStyleData(et,c),rt=nt.pElem;if(et.ty==="st")tt=new SVGStrokeStyleData(this,et,nt);else if(et.ty==="fl")tt=new SVGFillStyleData(this,et,nt);else if(et.ty==="gf"||et.ty==="gs"){var it=et.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;tt=new it(this,et,nt),this.globalData.defs.appendChild(tt.gf),tt.maskId&&(this.globalData.defs.appendChild(tt.ms),this.globalData.defs.appendChild(tt.of),rt.setAttribute("mask","url("+getLocationHref()+"#"+tt.maskId+")"))}else et.ty==="no"&&(tt=new SVGNoStyleData(this,et,nt));return(et.ty==="st"||et.ty==="gs")&&(rt.setAttribute("stroke-linecap",lineCapEnum[et.lc||2]),rt.setAttribute("stroke-linejoin",lineJoinEnum[et.lj||2]),rt.setAttribute("fill-opacity","0"),et.lj===1&&rt.setAttribute("stroke-miterlimit",et.ml)),et.r===2&&rt.setAttribute("fill-rule","evenodd"),et.ln&&rt.setAttribute("id",et.ln),et.cl&&rt.setAttribute("class",et.cl),et.bm&&(rt.style["mix-blend-mode"]=getBlendMode(et.bm)),this.stylesList.push(nt),this.addToAnimatedContents(et,tt),tt},SVGShapeElement.prototype.createGroupElement=function(et){var c=new ShapeGroupData;return et.ln&&c.gr.setAttribute("id",et.ln),et.cl&&c.gr.setAttribute("class",et.cl),et.bm&&(c.gr.style["mix-blend-mode"]=getBlendMode(et.bm)),c},SVGShapeElement.prototype.createTransformElement=function(et,c){var tt=TransformPropertyFactory.getTransformProperty(this,et,this),nt=new SVGTransformData(tt,tt.o,c);return this.addToAnimatedContents(et,nt),nt},SVGShapeElement.prototype.createShapeElement=function(et,c,tt){var nt=4;et.ty==="rc"?nt=5:et.ty==="el"?nt=6:et.ty==="sr"&&(nt=7);var rt=ShapePropertyFactory.getShapeProp(this,et,nt,this),it=new SVGShapeData(c,tt,rt);return this.shapes.push(it),this.addShapeToModifiers(it),this.addToAnimatedContents(et,it),it},SVGShapeElement.prototype.addToAnimatedContents=function(et,c){for(var tt=0,nt=this.animatedContents.length;tt<nt;){if(this.animatedContents[tt].element===c)return;tt+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(et),element:c,data:et})},SVGShapeElement.prototype.setElementStyles=function(et){var c=et.styles,tt,nt=this.stylesList.length;for(tt=0;tt<nt;tt+=1)c.indexOf(this.stylesList[tt])===-1&&!this.stylesList[tt].closed&&c.push(this.stylesList[tt])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var et,c=this.itemsData.length;for(et=0;et<c;et+=1)this.prevViewData[et]=this.itemsData[et];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),c=this.dynamicProperties.length,et=0;et<c;et+=1)this.dynamicProperties[et].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(et,c,tt,nt,rt,it,st){var at=[].concat(it),ot,lt=et.length-1,ct,dt,ht=[],mt=[],gt,yt,_t;for(ot=lt;ot>=0;ot-=1){if(_t=this.searchProcessedElement(et[ot]),_t?c[ot]=tt[_t-1]:et[ot]._render=st,et[ot].ty==="fl"||et[ot].ty==="st"||et[ot].ty==="gf"||et[ot].ty==="gs"||et[ot].ty==="no")_t?c[ot].style.closed=et[ot].hd:c[ot]=this.createStyleElement(et[ot],rt),et[ot]._render&&c[ot].style.pElem.parentNode!==nt&&nt.appendChild(c[ot].style.pElem),ht.push(c[ot].style);else if(et[ot].ty==="gr"){if(!_t)c[ot]=this.createGroupElement(et[ot]);else for(dt=c[ot].it.length,ct=0;ct<dt;ct+=1)c[ot].prevViewData[ct]=c[ot].it[ct];this.searchShapes(et[ot].it,c[ot].it,c[ot].prevViewData,c[ot].gr,rt+1,at,st),et[ot]._render&&c[ot].gr.parentNode!==nt&&nt.appendChild(c[ot].gr)}else et[ot].ty==="tr"?(_t||(c[ot]=this.createTransformElement(et[ot],nt)),gt=c[ot].transform,at.push(gt)):et[ot].ty==="sh"||et[ot].ty==="rc"||et[ot].ty==="el"||et[ot].ty==="sr"?(_t||(c[ot]=this.createShapeElement(et[ot],at,rt)),this.setElementStyles(c[ot])):et[ot].ty==="tm"||et[ot].ty==="rd"||et[ot].ty==="ms"||et[ot].ty==="pb"||et[ot].ty==="zz"||et[ot].ty==="op"?(_t?(yt=c[ot],yt.closed=!1):(yt=ShapeModifiers.getModifier(et[ot].ty),yt.init(this,et[ot]),c[ot]=yt,this.shapeModifiers.push(yt)),mt.push(yt)):et[ot].ty==="rp"&&(_t?(yt=c[ot],yt.closed=!0):(yt=ShapeModifiers.getModifier(et[ot].ty),c[ot]=yt,yt.init(this,et,ot,c),this.shapeModifiers.push(yt),st=!1),mt.push(yt));this.addProcessedElement(et[ot],ot+1)}for(lt=ht.length,ot=0;ot<lt;ot+=1)ht[ot].closed=!0;for(lt=mt.length,ot=0;ot<lt;ot+=1)mt[ot].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var et,c=this.stylesList.length;for(et=0;et<c;et+=1)this.stylesList[et].reset();for(this.renderShape(),et=0;et<c;et+=1)(this.stylesList[et]._mdf||this._isFirstFrame)&&(this.stylesList[et].msElem&&(this.stylesList[et].msElem.setAttribute("d",this.stylesList[et].d),this.stylesList[et].d="M0 0"+this.stylesList[et].d),this.stylesList[et].pElem.setAttribute("d",this.stylesList[et].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var et,c=this.animatedContents.length,tt;for(et=0;et<c;et+=1)tt=this.animatedContents[et],(this._isFirstFrame||tt.element._isAnimated)&&tt.data!==!0&&tt.fn(tt.data,tt.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(et,c,tt,nt,rt,it){this.o=et,this.sw=c,this.sc=tt,this.fc=nt,this.m=rt,this.p=it,this._mdf={o:!0,sw:!!c,sc:!!tt,fc:!!nt,m:!0,p:!0}}LetterProps.prototype.update=function(et,c,tt,nt,rt,it){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var st=!1;return this.o!==et&&(this.o=et,this._mdf.o=!0,st=!0),this.sw!==c&&(this.sw=c,this._mdf.sw=!0,st=!0),this.sc!==tt&&(this.sc=tt,this._mdf.sc=!0,st=!0),this.fc!==nt&&(this.fc=nt,this._mdf.fc=!0,st=!0),this.m!==rt&&(this.m=rt,this._mdf.m=!0,st=!0),it.length&&(this.p[0]!==it[0]||this.p[1]!==it[1]||this.p[4]!==it[4]||this.p[5]!==it[5]||this.p[12]!==it[12]||this.p[13]!==it[13])&&(this.p=it,this._mdf.p=!0,st=!0),st};function TextProperty(et,c){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,c.d&&c.d.sid&&(c.d=et.globalData.slotManager.getProp(c.d)),this.data=c,this.elem=et,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(et,c){for(var tt in c)Object.prototype.hasOwnProperty.call(c,tt)&&(et[tt]=c[tt]);return et},TextProperty.prototype.setCurrentData=function(et){et.__complete||this.completeTextData(et),this.currentData=et,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(et){this.effectsSequence.push(et),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(et){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!et)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var c=this.currentData,tt=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var nt,rt=this.effectsSequence.length,it=et||this.data.d.k[this.keysIndex].s;for(nt=0;nt<rt;nt+=1)tt!==this.keysIndex?it=this.effectsSequence[nt](it,it.t):it=this.effectsSequence[nt](this.currentData,it.t);c!==it&&this.setCurrentData(it),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var et=this.data.d.k,c=this.elem.comp.renderedFrame,tt=0,nt=et.length;tt<=nt-1&&!(tt===nt-1||et[tt+1].t>c);)tt+=1;return this.keysIndex!==tt&&(this.keysIndex=tt),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(et){for(var c=[],tt=0,nt=et.length,rt,it,st=!1,at=!1,ot="";tt<nt;)st=at,at=!1,rt=et.charCodeAt(tt),ot=et.charAt(tt),FontManager.isCombinedCharacter(rt)?st=!0:rt>=55296&&rt<=56319?FontManager.isRegionalFlag(et,tt)?ot=et.substr(tt,14):(it=et.charCodeAt(tt+1),it>=56320&&it<=57343&&(FontManager.isModifier(rt,it)?(ot=et.substr(tt,2),st=!0):FontManager.isFlagEmoji(et.substr(tt,4))?ot=et.substr(tt,4):ot=et.substr(tt,2))):rt>56319?(it=et.charCodeAt(tt+1),FontManager.isVariationSelector(rt)&&(st=!0)):FontManager.isZeroWidthJoiner(rt)&&(st=!0,at=!0),st?(c[c.length-1]+=ot,st=!1):c.push(ot),tt+=ot.length;return c},TextProperty.prototype.completeTextData=function(et){et.__complete=!0;var c=this.elem.globalData.fontManager,tt=this.data,nt=[],rt,it,st,at=0,ot,lt=tt.m.g,ct=0,dt=0,ht=0,mt=[],gt=0,yt=0,_t,pt,xt=c.getFontByName(et.f),vt,St=0,wt=getFontProperties(xt);et.fWeight=wt.weight,et.fStyle=wt.style,et.finalSize=et.s,et.finalText=this.buildFinalText(et.t),it=et.finalText.length,et.finalLineHeight=et.lh;var Mt=et.tr/1e3*et.finalSize,Ct;if(et.sz)for(var Rt=!0,Lt=et.sz[0],It=et.sz[1],Nt,zt;Rt;){zt=this.buildFinalText(et.t),Nt=0,gt=0,it=zt.length,Mt=et.tr/1e3*et.finalSize;var Wt=-1;for(rt=0;rt<it;rt+=1)Ct=zt[rt].charCodeAt(0),st=!1,zt[rt]===" "?Wt=rt:(Ct===13||Ct===3)&&(gt=0,st=!0,Nt+=et.finalLineHeight||et.finalSize*1.2),c.chars?(vt=c.getCharData(zt[rt],xt.fStyle,xt.fFamily),St=st?0:vt.w*et.finalSize/100):St=c.measureText(zt[rt],et.f,et.finalSize),gt+St>Lt&&zt[rt]!==" "?(Wt===-1?it+=1:rt=Wt,Nt+=et.finalLineHeight||et.finalSize*1.2,zt.splice(rt,Wt===rt?1:0,"\r"),Wt=-1,gt=0):(gt+=St,gt+=Mt);Nt+=xt.ascent*et.finalSize/100,this.canResize&&et.finalSize>this.minimumFontSize&&It<Nt?(et.finalSize-=1,et.finalLineHeight=et.finalSize*et.lh/et.s):(et.finalText=zt,it=et.finalText.length,Rt=!1)}gt=-Mt,St=0;var Yt=0,Xt;for(rt=0;rt<it;rt+=1)if(st=!1,Xt=et.finalText[rt],Ct=Xt.charCodeAt(0),Ct===13||Ct===3?(Yt=0,mt.push(gt),yt=gt>yt?gt:yt,gt=-2*Mt,ot="",st=!0,ht+=1):ot=Xt,c.chars?(vt=c.getCharData(Xt,xt.fStyle,c.getFontByName(et.f).fFamily),St=st?0:vt.w*et.finalSize/100):St=c.measureText(ot,et.f,et.finalSize),Xt===" "?Yt+=St+Mt:(gt+=St+Mt+Yt,Yt=0),nt.push({l:St,an:St,add:ct,n:st,anIndexes:[],val:ot,line:ht,animatorJustifyOffset:0}),lt==2){if(ct+=St,ot===""||ot===" "||rt===it-1){for((ot===""||ot===" ")&&(ct-=St);dt<=rt;)nt[dt].an=ct,nt[dt].ind=at,nt[dt].extra=St,dt+=1;at+=1,ct=0}}else if(lt==3){if(ct+=St,ot===""||rt===it-1){for(ot===""&&(ct-=St);dt<=rt;)nt[dt].an=ct,nt[dt].ind=at,nt[dt].extra=St,dt+=1;ct=0,at+=1}}else nt[at].ind=at,nt[at].extra=0,at+=1;if(et.l=nt,yt=gt>yt?gt:yt,mt.push(gt),et.sz)et.boxWidth=et.sz[0],et.justifyOffset=0;else switch(et.boxWidth=yt,et.j){case 1:et.justifyOffset=-et.boxWidth;break;case 2:et.justifyOffset=-et.boxWidth/2;break;default:et.justifyOffset=0}et.lineWidths=mt;var Ft=tt.a,Ut,At;pt=Ft.length;var kt,Ot,Bt=[];for(_t=0;_t<pt;_t+=1){for(Ut=Ft[_t],Ut.a.sc&&(et.strokeColorAnim=!0),Ut.a.sw&&(et.strokeWidthAnim=!0),(Ut.a.fc||Ut.a.fh||Ut.a.fs||Ut.a.fb)&&(et.fillColorAnim=!0),Ot=0,kt=Ut.s.b,rt=0;rt<it;rt+=1)At=nt[rt],At.anIndexes[_t]=Ot,(kt==1&&At.val!==""||kt==2&&At.val!==""&&At.val!==" "||kt==3&&(At.n||At.val==" "||rt==it-1)||kt==4&&(At.n||rt==it-1))&&(Ut.s.rn===1&&Bt.push(Ot),Ot+=1);tt.a[_t].s.totalChars=Ot;var Qt=-1,an;if(Ut.s.rn===1)for(rt=0;rt<it;rt+=1)At=nt[rt],Qt!=At.anIndexes[_t]&&(Qt=At.anIndexes[_t],an=Bt.splice(Math.floor(Math.random()*Bt.length),1)[0]),At.anIndexes[_t]=an}et.yOffset=et.finalLineHeight||et.finalSize*1.2,et.ls=et.ls||0,et.ascent=xt.ascent*et.finalSize/100},TextProperty.prototype.updateDocumentData=function(et,c){c=c===void 0?this.keysIndex:c;var tt=this.copyData({},this.data.d.k[c].s);tt=this.copyData(tt,et),this.data.d.k[c].s=tt,this.recalculate(c),this.setCurrentData(tt),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(et){var c=this.data.d.k[et].s;c.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(c)},TextProperty.prototype.canResizeFont=function(et){this.canResize=et,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(et){this.minimumFontSize=Math.floor(et)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var et=Math.max,c=Math.min,tt=Math.floor;function nt(it,st){this._currentTextLength=-1,this.k=!1,this.data=st,this.elem=it,this.comp=it.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(it),this.s=PropertyFactory.getProp(it,st.s||{k:0},0,0,this),"e"in st?this.e=PropertyFactory.getProp(it,st.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(it,st.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(it,st.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(it,st.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(it,st.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(it,st.a,0,.01,this),this.dynamicProperties.length||this.getValue()}nt.prototype={getMult:function(st){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var at=0,ot=0,lt=1,ct=1;this.ne.v>0?at=this.ne.v/100:ot=-this.ne.v/100,this.xe.v>0?lt=1-this.xe.v/100:ct=1+this.xe.v/100;var dt=BezierFactory.getBezierEasing(at,ot,lt,ct).get,ht=0,mt=this.finalS,gt=this.finalE,yt=this.data.sh;if(yt===2)gt===mt?ht=st>=gt?1:0:ht=et(0,c(.5/(gt-mt)+(st-mt)/(gt-mt),1)),ht=dt(ht);else if(yt===3)gt===mt?ht=st>=gt?0:1:ht=1-et(0,c(.5/(gt-mt)+(st-mt)/(gt-mt),1)),ht=dt(ht);else if(yt===4)gt===mt?ht=0:(ht=et(0,c(.5/(gt-mt)+(st-mt)/(gt-mt),1)),ht<.5?ht*=2:ht=1-2*(ht-.5)),ht=dt(ht);else if(yt===5){if(gt===mt)ht=0;else{var _t=gt-mt;st=c(et(0,st+.5-mt),gt-mt);var pt=-_t/2+st,xt=_t/2;ht=Math.sqrt(1-pt*pt/(xt*xt))}ht=dt(ht)}else yt===6?(gt===mt?ht=0:(st=c(et(0,st+.5-mt),gt-mt),ht=(1+Math.cos(Math.PI+Math.PI*2*st/(gt-mt)))/2),ht=dt(ht)):(st>=tt(mt)&&(st-mt<0?ht=et(0,c(c(gt,1)-(mt-st),1)):ht=et(0,c(gt-st,1))),ht=dt(ht));if(this.sm.v!==100){var vt=this.sm.v*.01;vt===0&&(vt=1e-8);var St=.5-vt*.5;ht<St?ht=0:(ht=(ht-St)/vt,ht>1&&(ht=1))}return ht*this.a.v},getValue:function(st){this.iterateDynamicProperties(),this._mdf=st||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,st&&this.data.r===2&&(this.e.v=this._currentTextLength);var at=this.data.r===2?1:100/this.data.totalChars,ot=this.o.v/at,lt=this.s.v/at+ot,ct=this.e.v/at+ot;if(lt>ct){var dt=lt;lt=ct,ct=dt}this.finalS=lt,this.finalE=ct}},extendPrototype([DynamicPropertyContainer],nt);function rt(it,st,at){return new nt(it,st)}return{getTextSelectorProp:rt}}();function TextAnimatorDataProperty(et,c,tt){var nt={propType:!1},rt=PropertyFactory.getProp,it=c.a;this.a={r:it.r?rt(et,it.r,0,degToRads,tt):nt,rx:it.rx?rt(et,it.rx,0,degToRads,tt):nt,ry:it.ry?rt(et,it.ry,0,degToRads,tt):nt,sk:it.sk?rt(et,it.sk,0,degToRads,tt):nt,sa:it.sa?rt(et,it.sa,0,degToRads,tt):nt,s:it.s?rt(et,it.s,1,.01,tt):nt,a:it.a?rt(et,it.a,1,0,tt):nt,o:it.o?rt(et,it.o,0,.01,tt):nt,p:it.p?rt(et,it.p,1,0,tt):nt,sw:it.sw?rt(et,it.sw,0,0,tt):nt,sc:it.sc?rt(et,it.sc,1,0,tt):nt,fc:it.fc?rt(et,it.fc,1,0,tt):nt,fh:it.fh?rt(et,it.fh,0,0,tt):nt,fs:it.fs?rt(et,it.fs,0,.01,tt):nt,fb:it.fb?rt(et,it.fb,0,.01,tt):nt,t:it.t?rt(et,it.t,0,0,tt):nt},this.s=TextSelectorProp.getTextSelectorProp(et,c.s,tt),this.s.t=c.s.t}function TextAnimatorProperty(et,c,tt){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=et,this._renderType=c,this._elem=tt,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(tt)}TextAnimatorProperty.prototype.searchProperties=function(){var et,c=this._textData.a.length,tt,nt=PropertyFactory.getProp;for(et=0;et<c;et+=1)tt=this._textData.a[et],this._animatorsData[et]=new TextAnimatorDataProperty(this._elem,tt,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:nt(this._elem,this._textData.p.a,0,0,this),f:nt(this._elem,this._textData.p.f,0,0,this),l:nt(this._elem,this._textData.p.l,0,0,this),r:nt(this._elem,this._textData.p.r,0,0,this),p:nt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=nt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(et,c){if(this.lettersChangedFlag=c,!(!this._mdf&&!this._isFirstFrame&&!c&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var tt=this._moreOptions.alignment.v,nt=this._animatorsData,rt=this._textData,it=this.mHelper,st=this._renderType,at=this.renderedLetters.length,ot,lt,ct,dt,ht=et.l,mt,gt,yt,_t,pt,xt,vt,St,wt,Mt,Ct,Rt,Lt,It,Nt;if(this._hasMaskedPath){if(Nt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var zt=Nt.v;this._pathData.r.v&&(zt=zt.reverse()),mt={tLength:0,segments:[]},dt=zt._length-1;var Wt;for(Rt=0,ct=0;ct<dt;ct+=1)Wt=bez.buildBezierData(zt.v[ct],zt.v[ct+1],[zt.o[ct][0]-zt.v[ct][0],zt.o[ct][1]-zt.v[ct][1]],[zt.i[ct+1][0]-zt.v[ct+1][0],zt.i[ct+1][1]-zt.v[ct+1][1]]),mt.tLength+=Wt.segmentLength,mt.segments.push(Wt),Rt+=Wt.segmentLength;ct=dt,Nt.v.c&&(Wt=bez.buildBezierData(zt.v[ct],zt.v[0],[zt.o[ct][0]-zt.v[ct][0],zt.o[ct][1]-zt.v[ct][1]],[zt.i[0][0]-zt.v[0][0],zt.i[0][1]-zt.v[0][1]]),mt.tLength+=Wt.segmentLength,mt.segments.push(Wt),Rt+=Wt.segmentLength),this._pathData.pi=mt}if(mt=this._pathData.pi,gt=this._pathData.f.v,vt=0,xt=1,_t=0,pt=!0,Mt=mt.segments,gt<0&&Nt.v.c)for(mt.tLength<Math.abs(gt)&&(gt=-Math.abs(gt)%mt.tLength),vt=Mt.length-1,wt=Mt[vt].points,xt=wt.length-1;gt<0;)gt+=wt[xt].partialLength,xt-=1,xt<0&&(vt-=1,wt=Mt[vt].points,xt=wt.length-1);wt=Mt[vt].points,St=wt[xt-1],yt=wt[xt],Ct=yt.partialLength}dt=ht.length,ot=0,lt=0;var Yt=et.finalSize*1.2*.714,Xt=!0,Ft,Ut,At,kt,Ot;kt=nt.length;var Bt,Qt=-1,an,Kt,ln,vn=gt,En=vt,jn=xt,qn=-1,Vn,Gn,$t,fn,rn,Pn,mn,zn,Tn="",Ln=this.defaultPropsArray,Gt;if(et.j===2||et.j===1){var Vt=0,sn=0,Sn=et.j===2?-.5:-1,gn=0,_n=!0;for(ct=0;ct<dt;ct+=1)if(ht[ct].n){for(Vt&&(Vt+=sn);gn<ct;)ht[gn].animatorJustifyOffset=Vt,gn+=1;Vt=0,_n=!0}else{for(At=0;At<kt;At+=1)Ft=nt[At].a,Ft.t.propType&&(_n&&et.j===2&&(sn+=Ft.t.v*Sn),Ut=nt[At].s,Bt=Ut.getMult(ht[ct].anIndexes[At],rt.a[At].s.totalChars),Bt.length?Vt+=Ft.t.v*Bt[0]*Sn:Vt+=Ft.t.v*Bt*Sn);_n=!1}for(Vt&&(Vt+=sn);gn<ct;)ht[gn].animatorJustifyOffset=Vt,gn+=1}for(ct=0;ct<dt;ct+=1){if(it.reset(),Vn=1,ht[ct].n)ot=0,lt+=et.yOffset,lt+=Xt?1:0,gt=vn,Xt=!1,this._hasMaskedPath&&(vt=En,xt=jn,wt=Mt[vt].points,St=wt[xt-1],yt=wt[xt],Ct=yt.partialLength,_t=0),Tn="",zn="",Pn="",Gt="",Ln=this.defaultPropsArray;else{if(this._hasMaskedPath){if(qn!==ht[ct].line){switch(et.j){case 1:gt+=Rt-et.lineWidths[ht[ct].line];break;case 2:gt+=(Rt-et.lineWidths[ht[ct].line])/2;break}qn=ht[ct].line}Qt!==ht[ct].ind&&(ht[Qt]&&(gt+=ht[Qt].extra),gt+=ht[ct].an/2,Qt=ht[ct].ind),gt+=tt[0]*ht[ct].an*.005;var On=0;for(At=0;At<kt;At+=1)Ft=nt[At].a,Ft.p.propType&&(Ut=nt[At].s,Bt=Ut.getMult(ht[ct].anIndexes[At],rt.a[At].s.totalChars),Bt.length?On+=Ft.p.v[0]*Bt[0]:On+=Ft.p.v[0]*Bt),Ft.a.propType&&(Ut=nt[At].s,Bt=Ut.getMult(ht[ct].anIndexes[At],rt.a[At].s.totalChars),Bt.length?On+=Ft.a.v[0]*Bt[0]:On+=Ft.a.v[0]*Bt);for(pt=!0,this._pathData.a.v&&(gt=ht[0].an*.5+(Rt-this._pathData.f.v-ht[0].an*.5-ht[ht.length-1].an*.5)*Qt/(dt-1),gt+=this._pathData.f.v);pt;)_t+Ct>=gt+On||!wt?(Lt=(gt+On-_t)/yt.partialLength,Kt=St.point[0]+(yt.point[0]-St.point[0])*Lt,ln=St.point[1]+(yt.point[1]-St.point[1])*Lt,it.translate(-tt[0]*ht[ct].an*.005,-(tt[1]*Yt)*.01),pt=!1):wt&&(_t+=yt.partialLength,xt+=1,xt>=wt.length&&(xt=0,vt+=1,Mt[vt]?wt=Mt[vt].points:Nt.v.c?(xt=0,vt=0,wt=Mt[vt].points):(_t-=yt.partialLength,wt=null)),wt&&(St=yt,yt=wt[xt],Ct=yt.partialLength));an=ht[ct].an/2-ht[ct].add,it.translate(-an,0,0)}else an=ht[ct].an/2-ht[ct].add,it.translate(-an,0,0),it.translate(-tt[0]*ht[ct].an*.005,-tt[1]*Yt*.01,0);for(At=0;At<kt;At+=1)Ft=nt[At].a,Ft.t.propType&&(Ut=nt[At].s,Bt=Ut.getMult(ht[ct].anIndexes[At],rt.a[At].s.totalChars),(ot!==0||et.j!==0)&&(this._hasMaskedPath?Bt.length?gt+=Ft.t.v*Bt[0]:gt+=Ft.t.v*Bt:Bt.length?ot+=Ft.t.v*Bt[0]:ot+=Ft.t.v*Bt));for(et.strokeWidthAnim&&($t=et.sw||0),et.strokeColorAnim&&(et.sc?Gn=[et.sc[0],et.sc[1],et.sc[2]]:Gn=[0,0,0]),et.fillColorAnim&&et.fc&&(fn=[et.fc[0],et.fc[1],et.fc[2]]),At=0;At<kt;At+=1)Ft=nt[At].a,Ft.a.propType&&(Ut=nt[At].s,Bt=Ut.getMult(ht[ct].anIndexes[At],rt.a[At].s.totalChars),Bt.length?it.translate(-Ft.a.v[0]*Bt[0],-Ft.a.v[1]*Bt[1],Ft.a.v[2]*Bt[2]):it.translate(-Ft.a.v[0]*Bt,-Ft.a.v[1]*Bt,Ft.a.v[2]*Bt));for(At=0;At<kt;At+=1)Ft=nt[At].a,Ft.s.propType&&(Ut=nt[At].s,Bt=Ut.getMult(ht[ct].anIndexes[At],rt.a[At].s.totalChars),Bt.length?it.scale(1+(Ft.s.v[0]-1)*Bt[0],1+(Ft.s.v[1]-1)*Bt[1],1):it.scale(1+(Ft.s.v[0]-1)*Bt,1+(Ft.s.v[1]-1)*Bt,1));for(At=0;At<kt;At+=1){if(Ft=nt[At].a,Ut=nt[At].s,Bt=Ut.getMult(ht[ct].anIndexes[At],rt.a[At].s.totalChars),Ft.sk.propType&&(Bt.length?it.skewFromAxis(-Ft.sk.v*Bt[0],Ft.sa.v*Bt[1]):it.skewFromAxis(-Ft.sk.v*Bt,Ft.sa.v*Bt)),Ft.r.propType&&(Bt.length?it.rotateZ(-Ft.r.v*Bt[2]):it.rotateZ(-Ft.r.v*Bt)),Ft.ry.propType&&(Bt.length?it.rotateY(Ft.ry.v*Bt[1]):it.rotateY(Ft.ry.v*Bt)),Ft.rx.propType&&(Bt.length?it.rotateX(Ft.rx.v*Bt[0]):it.rotateX(Ft.rx.v*Bt)),Ft.o.propType&&(Bt.length?Vn+=(Ft.o.v*Bt[0]-Vn)*Bt[0]:Vn+=(Ft.o.v*Bt-Vn)*Bt),et.strokeWidthAnim&&Ft.sw.propType&&(Bt.length?$t+=Ft.sw.v*Bt[0]:$t+=Ft.sw.v*Bt),et.strokeColorAnim&&Ft.sc.propType)for(rn=0;rn<3;rn+=1)Bt.length?Gn[rn]+=(Ft.sc.v[rn]-Gn[rn])*Bt[0]:Gn[rn]+=(Ft.sc.v[rn]-Gn[rn])*Bt;if(et.fillColorAnim&&et.fc){if(Ft.fc.propType)for(rn=0;rn<3;rn+=1)Bt.length?fn[rn]+=(Ft.fc.v[rn]-fn[rn])*Bt[0]:fn[rn]+=(Ft.fc.v[rn]-fn[rn])*Bt;Ft.fh.propType&&(Bt.length?fn=addHueToRGB(fn,Ft.fh.v*Bt[0]):fn=addHueToRGB(fn,Ft.fh.v*Bt)),Ft.fs.propType&&(Bt.length?fn=addSaturationToRGB(fn,Ft.fs.v*Bt[0]):fn=addSaturationToRGB(fn,Ft.fs.v*Bt)),Ft.fb.propType&&(Bt.length?fn=addBrightnessToRGB(fn,Ft.fb.v*Bt[0]):fn=addBrightnessToRGB(fn,Ft.fb.v*Bt))}}for(At=0;At<kt;At+=1)Ft=nt[At].a,Ft.p.propType&&(Ut=nt[At].s,Bt=Ut.getMult(ht[ct].anIndexes[At],rt.a[At].s.totalChars),this._hasMaskedPath?Bt.length?it.translate(0,Ft.p.v[1]*Bt[0],-Ft.p.v[2]*Bt[1]):it.translate(0,Ft.p.v[1]*Bt,-Ft.p.v[2]*Bt):Bt.length?it.translate(Ft.p.v[0]*Bt[0],Ft.p.v[1]*Bt[1],-Ft.p.v[2]*Bt[2]):it.translate(Ft.p.v[0]*Bt,Ft.p.v[1]*Bt,-Ft.p.v[2]*Bt));if(et.strokeWidthAnim&&(Pn=$t<0?0:$t),et.strokeColorAnim&&(mn="rgb("+Math.round(Gn[0]*255)+","+Math.round(Gn[1]*255)+","+Math.round(Gn[2]*255)+")"),et.fillColorAnim&&et.fc&&(zn="rgb("+Math.round(fn[0]*255)+","+Math.round(fn[1]*255)+","+Math.round(fn[2]*255)+")"),this._hasMaskedPath){if(it.translate(0,-et.ls),it.translate(0,tt[1]*Yt*.01+lt,0),this._pathData.p.v){It=(yt.point[1]-St.point[1])/(yt.point[0]-St.point[0]);var An=Math.atan(It)*180/Math.PI;yt.point[0]<St.point[0]&&(An+=180),it.rotate(-An*Math.PI/180)}it.translate(Kt,ln,0),gt-=tt[0]*ht[ct].an*.005,ht[ct+1]&&Qt!==ht[ct+1].ind&&(gt+=ht[ct].an/2,gt+=et.tr*.001*et.finalSize)}else{switch(it.translate(ot,lt,0),et.ps&&it.translate(et.ps[0],et.ps[1]+et.ascent,0),et.j){case 1:it.translate(ht[ct].animatorJustifyOffset+et.justifyOffset+(et.boxWidth-et.lineWidths[ht[ct].line]),0,0);break;case 2:it.translate(ht[ct].animatorJustifyOffset+et.justifyOffset+(et.boxWidth-et.lineWidths[ht[ct].line])/2,0,0);break}it.translate(0,-et.ls),it.translate(an,0,0),it.translate(tt[0]*ht[ct].an*.005,tt[1]*Yt*.01,0),ot+=ht[ct].l+et.tr*.001*et.finalSize}st==="html"?Tn=it.toCSS():st==="svg"?Tn=it.to2dCSS():Ln=[it.props[0],it.props[1],it.props[2],it.props[3],it.props[4],it.props[5],it.props[6],it.props[7],it.props[8],it.props[9],it.props[10],it.props[11],it.props[12],it.props[13],it.props[14],it.props[15]],Gt=Vn}at<=ct?(Ot=new LetterProps(Gt,Pn,mn,zn,Tn,Ln),this.renderedLetters.push(Ot),at+=1,this.lettersChangedFlag=!0):(Ot=this.renderedLetters[ct],this.lettersChangedFlag=Ot.update(Gt,Pn,mn,zn,Tn,Ln)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(et,c,tt){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(et,c,tt),this.textProperty=new TextProperty(this,et.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(et.t,this.renderType,this),this.initTransform(et,c,tt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(et){this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange)},ITextElement.prototype.createPathShape=function(et,c){var tt,nt=c.length,rt,it="";for(tt=0;tt<nt;tt+=1)c[tt].ty==="sh"&&(rt=c[tt].ks.k,it+=buildShapeString(rt,rt.i.length,!0,et));return it},ITextElement.prototype.updateDocumentData=function(et,c){this.textProperty.updateDocumentData(et,c)},ITextElement.prototype.canResizeFont=function(et){this.textProperty.canResizeFont(et)},ITextElement.prototype.setMinimumFontSize=function(et){this.textProperty.setMinimumFontSize(et)},ITextElement.prototype.applyTextPropertiesToMatrix=function(et,c,tt,nt,rt){switch(et.ps&&c.translate(et.ps[0],et.ps[1]+et.ascent,0),c.translate(0,-et.ls,0),et.j){case 1:c.translate(et.justifyOffset+(et.boxWidth-et.lineWidths[tt]),0,0);break;case 2:c.translate(et.justifyOffset+(et.boxWidth-et.lineWidths[tt])/2,0,0);break}c.translate(nt,rt,0)},ITextElement.prototype.buildColor=function(et){return"rgb("+Math.round(et[0]*255)+","+Math.round(et[1]*255)+","+Math.round(et[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(et,c,tt){this.textSpans=[],this.renderType="svg",this.initElement(et,c,tt)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(et){for(var c=0,tt=et.length,nt=[],rt="";c<tt;)et[c]==="\r"||et[c]===""?(nt.push(rt),rt=""):rt+=et[c],c+=1;return nt.push(rt),nt},SVGTextLottieElement.prototype.buildShapeData=function(et,c){if(et.shapes&&et.shapes.length){var tt=et.shapes[0];if(tt.it){var nt=tt.it[tt.it.length-1];nt.s&&(nt.s.k[0]=c,nt.s.k[1]=c)}}return et},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var et,c,tt=this.textProperty.currentData;this.renderedLetters=createSizedArray(tt?tt.l.length:0),tt.fc?this.layerElement.setAttribute("fill",this.buildColor(tt.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),tt.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(tt.sc)),this.layerElement.setAttribute("stroke-width",tt.sw)),this.layerElement.setAttribute("font-size",tt.finalSize);var nt=this.globalData.fontManager.getFontByName(tt.f);if(nt.fClass)this.layerElement.setAttribute("class",nt.fClass);else{this.layerElement.setAttribute("font-family",nt.fFamily);var rt=tt.fWeight,it=tt.fStyle;this.layerElement.setAttribute("font-style",it),this.layerElement.setAttribute("font-weight",rt)}this.layerElement.setAttribute("aria-label",tt.t);var st=tt.l||[],at=!!this.globalData.fontManager.chars;c=st.length;var ot,lt=this.mHelper,ct="",dt=this.data.singleShape,ht=0,mt=0,gt=!0,yt=tt.tr*.001*tt.finalSize;if(dt&&!at&&!tt.sz){var _t=this.textContainer,pt="start";switch(tt.j){case 1:pt="end";break;case 2:pt="middle";break;default:pt="start";break}_t.setAttribute("text-anchor",pt),_t.setAttribute("letter-spacing",yt);var xt=this.buildTextContents(tt.finalText);for(c=xt.length,mt=tt.ps?tt.ps[1]+tt.ascent:0,et=0;et<c;et+=1)ot=this.textSpans[et].span||createNS("tspan"),ot.textContent=xt[et],ot.setAttribute("x",0),ot.setAttribute("y",mt),ot.style.display="inherit",_t.appendChild(ot),this.textSpans[et]||(this.textSpans[et]={span:null,glyph:null}),this.textSpans[et].span=ot,mt+=tt.finalLineHeight;this.layerElement.appendChild(_t)}else{var vt=this.textSpans.length,St;for(et=0;et<c;et+=1){if(this.textSpans[et]||(this.textSpans[et]={span:null,childSpan:null,glyph:null}),!at||!dt||et===0){if(ot=vt>et?this.textSpans[et].span:createNS(at?"g":"text"),vt<=et){if(ot.setAttribute("stroke-linecap","butt"),ot.setAttribute("stroke-linejoin","round"),ot.setAttribute("stroke-miterlimit","4"),this.textSpans[et].span=ot,at){var wt=createNS("g");ot.appendChild(wt),this.textSpans[et].childSpan=wt}this.textSpans[et].span=ot,this.layerElement.appendChild(ot)}ot.style.display="inherit"}if(lt.reset(),dt&&(st[et].n&&(ht=-yt,mt+=tt.yOffset,mt+=gt?1:0,gt=!1),this.applyTextPropertiesToMatrix(tt,lt,st[et].line,ht,mt),ht+=st[et].l||0,ht+=yt),at){St=this.globalData.fontManager.getCharData(tt.finalText[et],nt.fStyle,this.globalData.fontManager.getFontByName(tt.f).fFamily);var Mt;if(St.t===1)Mt=new SVGCompElement(St.data,this.globalData,this);else{var Ct=emptyShapeData;St.data&&St.data.shapes&&(Ct=this.buildShapeData(St.data,tt.finalSize)),Mt=new SVGShapeElement(Ct,this.globalData,this)}if(this.textSpans[et].glyph){var Rt=this.textSpans[et].glyph;this.textSpans[et].childSpan.removeChild(Rt.layerElement),Rt.destroy()}this.textSpans[et].glyph=Mt,Mt._debug=!0,Mt.prepareFrame(0),Mt.renderFrame(),this.textSpans[et].childSpan.appendChild(Mt.layerElement),St.t===1&&this.textSpans[et].childSpan.setAttribute("transform","scale("+tt.finalSize/100+","+tt.finalSize/100+")")}else dt&&ot.setAttribute("transform","translate("+lt.props[12]+","+lt.props[13]+")"),ot.textContent=st[et].val,ot.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}dt&&ot&&ot.setAttribute("d",ct)}for(;et<this.textSpans.length;)this.textSpans[et].span.style.display="none",et+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var et=this.layerElement.getBBox();this.bbox={top:et.y,left:et.x,width:et.width,height:et.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var et,c=this.textSpans.length,tt;for(this.renderedFrame=this.comp.renderedFrame,et=0;et<c;et+=1)tt=this.textSpans[et].glyph,tt&&(tt.prepareFrame(this.comp.renderedFrame-this.data.st),tt._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var et,c,tt=this.textAnimator.renderedLetters,nt=this.textProperty.currentData.l;c=nt.length;var rt,it,st;for(et=0;et<c;et+=1)nt[et].n||(rt=tt[et],it=this.textSpans[et].span,st=this.textSpans[et].glyph,st&&st.renderFrame(),rt._mdf.m&&it.setAttribute("transform",rt.m),rt._mdf.o&&it.setAttribute("opacity",rt.o),rt._mdf.sw&&it.setAttribute("stroke-width",rt.sw),rt._mdf.sc&&it.setAttribute("stroke",rt.sc),rt._mdf.fc&&it.setAttribute("fill",rt.fc))}};function ISolidElement(et,c,tt){this.initElement(et,c,tt)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var et=createNS("rect");et.setAttribute("width",this.data.sw),et.setAttribute("height",this.data.sh),et.setAttribute("fill",this.data.sc),this.layerElement.appendChild(et)};function NullElement(et,c,tt){this.initFrame(),this.initBaseData(et,c,tt),this.initFrame(),this.initTransform(et,c,tt),this.initHierarchy()}NullElement.prototype.prepareFrame=function(et){this.prepareProperties(et,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(et){return new NullElement(et,this.globalData,this)},SVGRendererBase.prototype.createShape=function(et){return new SVGShapeElement(et,this.globalData,this)},SVGRendererBase.prototype.createText=function(et){return new SVGTextLottieElement(et,this.globalData,this)},SVGRendererBase.prototype.createImage=function(et){return new IImageElement(et,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(et){return new ISolidElement(et,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(et){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+et.w+" "+et.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",et.w),this.svgElement.setAttribute("height",et.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var c=this.globalData.defs;this.setupGlobalData(et,c),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=et;var tt=createNS("clipPath"),nt=createNS("rect");nt.setAttribute("width",et.w),nt.setAttribute("height",et.h),nt.setAttribute("x",0),nt.setAttribute("y",0);var rt=createElementID();tt.setAttribute("id",rt),tt.appendChild(nt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+rt+")"),c.appendChild(tt),this.layers=et.layers,this.elements=createSizedArray(et.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var et,c=this.layers?this.layers.length:0;for(et=0;et<c;et+=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(et){var c=0,tt=this.layers.length;for(c=0;c<tt;c+=1)if(this.layers[c].ind===et)return c;return-1},SVGRendererBase.prototype.buildItem=function(et){var c=this.elements;if(!(c[et]||this.layers[et].ty===99)){c[et]=!0;var tt=this.createItem(this.layers[et]);if(c[et]=tt,getExpressionsPlugin()&&(this.layers[et].ty===0&&this.globalData.projectInterface.registerComposition(tt),tt.initExpressions()),this.appendElementInPos(tt,et),this.layers[et].tt){var nt="tp"in this.layers[et]?this.findIndexByInd(this.layers[et].tp):et-1;if(nt===-1)return;if(!this.elements[nt]||this.elements[nt]===!0)this.buildItem(nt),this.addPendingElement(tt);else{var rt=c[nt],it=rt.getMatte(this.layers[et].tt);tt.setMatte(it)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();if(et.checkParenting(),et.data.tt)for(var c=0,tt=this.elements.length;c<tt;){if(this.elements[c]===et){var nt="tp"in et.data?this.findIndexByInd(et.data.tp):c-1,rt=this.elements[nt],it=rt.getMatte(this.layers[c].tt);et.setMatte(it);break}c+=1}}},SVGRendererBase.prototype.renderFrame=function(et){if(!(this.renderedFrame===et||this.destroyed)){et===null?et=this.renderedFrame:this.renderedFrame=et,this.globalData.frameNum=et,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=et,this.globalData._mdf=!1;var c,tt=this.layers.length;for(this.completeLayers||this.checkLayers(et),c=tt-1;c>=0;c-=1)(this.completeLayers||this.elements[c])&&this.elements[c].prepareFrame(et-this.layers[c].st);if(this.globalData._mdf)for(c=0;c<tt;c+=1)(this.completeLayers||this.elements[c])&&this.elements[c].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(et,c){var tt=et.getBaseElement();if(tt){for(var nt=0,rt;nt<c;)this.elements[nt]&&this.elements[nt]!==!0&&this.elements[nt].getBaseElement()&&(rt=this.elements[nt].getBaseElement()),nt+=1;rt?this.layerElement.insertBefore(tt,rt):this.layerElement.appendChild(tt)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(et,c,tt){this.initFrame(),this.initBaseData(et,c,tt),this.initTransform(et,c,tt),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!c.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(et){if(this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=et/this.data.sr;else{var c=this.tm.v;c===this.data.op&&(c=this.data.op-1),this.renderedFrame=c}var tt,nt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),tt=nt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&(this.elements[tt].prepareFrame(this.renderedFrame-this.layers[tt].st),this.elements[tt]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var et,c=this.layers.length;for(et=0;et<c;et+=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()},ICompElement.prototype.setElements=function(et){this.elements=et},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var et,c=this.layers.length;for(et=0;et<c;et+=1)this.elements[et]&&this.elements[et].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(et,c,tt){this.layers=et.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(et,c,tt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,c.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(et){return new SVGCompElement(et,this.globalData,this)};function SVGRenderer(et,c){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var tt="";if(c&&c.title){var nt=createNS("title"),rt=createElementID();nt.setAttribute("id",rt),nt.textContent=c.title,this.svgElement.appendChild(nt),tt+=rt}if(c&&c.description){var it=createNS("desc"),st=createElementID();it.setAttribute("id",st),it.textContent=c.description,this.svgElement.appendChild(it),tt+=" "+st}tt&&this.svgElement.setAttribute("aria-labelledby",tt);var at=createNS("defs");this.svgElement.appendChild(at);var ot=createNS("g");this.svgElement.appendChild(ot),this.layerElement=ot,this.renderConfig={preserveAspectRatio:c&&c.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:c&&c.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:c&&c.contentVisibility||"visible",progressiveLoad:c&&c.progressiveLoad||!1,hideOnTransparent:!(c&&c.hideOnTransparent===!1),viewBoxOnly:c&&c.viewBoxOnly||!1,viewBoxSize:c&&c.viewBoxSize||!1,className:c&&c.className||"",id:c&&c.id||"",focusable:c&&c.focusable,filterSize:{width:c&&c.filterSize&&c.filterSize.width||"100%",height:c&&c.filterSize&&c.filterSize.height||"100%",x:c&&c.filterSize&&c.filterSize.x||"0%",y:c&&c.filterSize&&c.filterSize.y||"0%"},width:c&&c.width,height:c&&c.height,runExpressions:!c||c.runExpressions===void 0||c.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:at,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(et){return new SVGCompElement(et,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(c){var tt,nt=c.length,rt="_";for(tt=0;tt<nt;tt+=1)rt+=c[tt].transform.key+"_";var it=this.sequences[rt];return it||(it={transforms:[].concat(c),finalTransform:new Matrix,_mdf:!1},this.sequences[rt]=it,this.sequenceList.push(it)),it},processSequence:function(c,tt){for(var nt=0,rt=c.transforms.length,it=tt;nt<rt&&!tt;){if(c.transforms[nt].transform.mProps._mdf){it=!0;break}nt+=1}if(it)for(c.finalTransform.reset(),nt=rt-1;nt>=0;nt-=1)c.finalTransform.multiply(c.transforms[nt].transform.mProps.v);c._mdf=it},processSequences:function(c){var tt,nt=this.sequenceList.length;for(tt=0;tt<nt;tt+=1)this.processSequence(this.sequenceList[tt],c)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var c="__lottie_element_luma_buffer",tt=null,nt=null,rt=null;function it(){var ot=createNS("svg"),lt=createNS("filter"),ct=createNS("feColorMatrix");return lt.setAttribute("id",c),ct.setAttribute("type","matrix"),ct.setAttribute("color-interpolation-filters","sRGB"),ct.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),lt.appendChild(ct),ot.appendChild(lt),ot.setAttribute("id",c+"_svg"),featureSupport.svgLumaHidden&&(ot.style.display="none"),ot}function st(){tt||(rt=it(),document.body.appendChild(rt),tt=createTag("canvas"),nt=tt.getContext("2d"),nt.filter="url(#"+c+")",nt.fillStyle="rgba(0,0,0,0)",nt.fillRect(0,0,1,1))}function at(ot){return tt||st(),tt.width=ot.width,tt.height=ot.height,nt.filter="url(#"+c+")",tt}return{load:st,get:at}};function createCanvas(et,c){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(et,c);var tt=createTag("canvas");return tt.width=et,tt.height=c,tt}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(et){var c,tt=et.data.ef?et.data.ef.length:0;this.filters=[];var nt;for(c=0;c<tt;c+=1){nt=null;var rt=et.data.ef[c].ty;if(registeredEffects[rt]){var it=registeredEffects[rt].effect;nt=new it(et.effectsManager.effectElements[c],et)}nt&&this.filters.push(nt)}this.filters.length&&et.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(et){var c,tt=this.filters.length;for(c=0;c<tt;c+=1)this.filters[c].renderFrame(et)},CVEffects.prototype.getEffects=function(et){var c,tt=this.filters.length,nt=[];for(c=0;c<tt;c+=1)this.filters[c].type===et&&nt.push(this.filters[c]);return nt};function registerEffect(et,c){registeredEffects[et]={effect:c}}function CVMaskElement(et,c){this.data=et,this.element=c,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var tt,nt=this.masksProperties.length,rt=!1;for(tt=0;tt<nt;tt+=1)this.masksProperties[tt].mode!=="n"&&(rt=!0),this.viewData[tt]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[tt],3);this.hasMasks=rt,rt&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var et=this.element.finalTransform.mat,c=this.element.canvasContext,tt,nt=this.masksProperties.length,rt,it,st;for(c.beginPath(),tt=0;tt<nt;tt+=1)if(this.masksProperties[tt].mode!=="n"){this.masksProperties[tt].inv&&(c.moveTo(0,0),c.lineTo(this.element.globalData.compSize.w,0),c.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),c.lineTo(0,this.element.globalData.compSize.h),c.lineTo(0,0)),st=this.viewData[tt].v,rt=et.applyToPointArray(st.v[0][0],st.v[0][1],0),c.moveTo(rt[0],rt[1]);var at,ot=st._length;for(at=1;at<ot;at+=1)it=et.applyToTriplePoints(st.o[at-1],st.i[at],st.v[at]),c.bezierCurveTo(it[0],it[1],it[2],it[3],it[4],it[5]);it=et.applyToTriplePoints(st.o[at-1],st.i[0],st.v[0]),c.bezierCurveTo(it[0],it[1],it[2],it[3],it[4],it[5])}this.element.globalData.renderer.save(!0),c.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var c=this.globalData.canvasContext,tt=assetLoader.createCanvas(c.canvas.width,c.canvas.height);this.buffers.push(tt);var nt=assetLoader.createCanvas(c.canvas.width,c.canvas.height);this.buffers.push(nt),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var c=this.globalData;if(c.blendMode!==this.data.bm){c.blendMode=this.data.bm;var tt=getBlendMode(this.data.bm);c.canvasContext.globalCompositeOperation=tt}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(c){c.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var c=this.buffers[0],tt=c.getContext("2d");this.clearCanvas(tt),tt.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var c=this.buffers[1],tt=c.getContext("2d");this.clearCanvas(tt),tt.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var nt=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(nt.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var rt=assetLoader.getLumaCanvas(this.canvasContext.canvas),it=rt.getContext("2d");it.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(rt,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(c,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(c){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!c)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var tt=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(tt),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(tt),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(et,c,tt,nt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var rt=4;c.ty==="rc"?rt=5:c.ty==="el"?rt=6:c.ty==="sr"&&(rt=7),this.sh=ShapePropertyFactory.getShapeProp(et,c,rt,et);var it,st=tt.length,at;for(it=0;it<st;it+=1)tt[it].closed||(at={transforms:nt.addTransformSequence(tt[it].transforms),trNodes:[]},this.styledShapes.push(at),tt[it].elements.push(at))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(et,c,tt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(et,c,tt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(et,c){var tt={data:et,type:et.ty,preTransforms:this.transformsManager.addTransformSequence(c),transforms:[],elements:[],closed:et.hd===!0},nt={};if(et.ty==="fl"||et.ty==="st"?(nt.c=PropertyFactory.getProp(this,et.c,1,255,this),nt.c.k||(tt.co="rgb("+bmFloor(nt.c.v[0])+","+bmFloor(nt.c.v[1])+","+bmFloor(nt.c.v[2])+")")):(et.ty==="gf"||et.ty==="gs")&&(nt.s=PropertyFactory.getProp(this,et.s,1,null,this),nt.e=PropertyFactory.getProp(this,et.e,1,null,this),nt.h=PropertyFactory.getProp(this,et.h||{k:0},0,.01,this),nt.a=PropertyFactory.getProp(this,et.a||{k:0},0,degToRads,this),nt.g=new GradientProperty(this,et.g,this)),nt.o=PropertyFactory.getProp(this,et.o,0,.01,this),et.ty==="st"||et.ty==="gs"){if(tt.lc=lineCapEnum[et.lc||2],tt.lj=lineJoinEnum[et.lj||2],et.lj==1&&(tt.ml=et.ml),nt.w=PropertyFactory.getProp(this,et.w,0,null,this),nt.w.k||(tt.wi=nt.w.v),et.d){var rt=new DashProperty(this,et.d,"canvas",this);nt.d=rt,nt.d.k||(tt.da=nt.d.dashArray,tt.do=nt.d.dashoffset[0])}}else tt.r=et.r===2?"evenodd":"nonzero";return this.stylesList.push(tt),nt.style=tt,nt},CVShapeElement.prototype.createGroupElement=function(){var et={it:[],prevViewData:[]};return et},CVShapeElement.prototype.createTransformElement=function(et){var c={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,et.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,et,this)}};return c},CVShapeElement.prototype.createShapeElement=function(et){var c=new CVShapeData(this,et,this.stylesList,this.transformsManager);return this.shapes.push(c),this.addShapeToModifiers(c),c},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var et,c=this.itemsData.length;for(et=0;et<c;et+=1)this.prevViewData[et]=this.itemsData[et];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),c=this.dynamicProperties.length,et=0;et<c;et+=1)this.dynamicProperties[et].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(et){var c,tt=this.stylesList.length;for(c=0;c<tt;c+=1)this.stylesList[c].closed||this.stylesList[c].transforms.push(et)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var et,c=this.stylesList.length;for(et=0;et<c;et+=1)this.stylesList[et].closed||this.stylesList[et].transforms.pop()},CVShapeElement.prototype.closeStyles=function(et){var c,tt=et.length;for(c=0;c<tt;c+=1)et[c].closed=!0},CVShapeElement.prototype.searchShapes=function(et,c,tt,nt,rt){var it,st=et.length-1,at,ot,lt=[],ct=[],dt,ht,mt,gt=[].concat(rt);for(it=st;it>=0;it-=1){if(dt=this.searchProcessedElement(et[it]),dt?c[it]=tt[dt-1]:et[it]._shouldRender=nt,et[it].ty==="fl"||et[it].ty==="st"||et[it].ty==="gf"||et[it].ty==="gs")dt?c[it].style.closed=!1:c[it]=this.createStyleElement(et[it],gt),lt.push(c[it].style);else if(et[it].ty==="gr"){if(!dt)c[it]=this.createGroupElement(et[it]);else for(ot=c[it].it.length,at=0;at<ot;at+=1)c[it].prevViewData[at]=c[it].it[at];this.searchShapes(et[it].it,c[it].it,c[it].prevViewData,nt,gt)}else et[it].ty==="tr"?(dt||(mt=this.createTransformElement(et[it]),c[it]=mt),gt.push(c[it]),this.addTransformToStyleList(c[it])):et[it].ty==="sh"||et[it].ty==="rc"||et[it].ty==="el"||et[it].ty==="sr"?dt||(c[it]=this.createShapeElement(et[it])):et[it].ty==="tm"||et[it].ty==="rd"||et[it].ty==="pb"||et[it].ty==="zz"||et[it].ty==="op"?(dt?(ht=c[it],ht.closed=!1):(ht=ShapeModifiers.getModifier(et[it].ty),ht.init(this,et[it]),c[it]=ht,this.shapeModifiers.push(ht)),ct.push(ht)):et[it].ty==="rp"&&(dt?(ht=c[it],ht.closed=!0):(ht=ShapeModifiers.getModifier(et[it].ty),c[it]=ht,ht.init(this,et,it,c),this.shapeModifiers.push(ht),nt=!1),ct.push(ht));this.addProcessedElement(et[it],it+1)}for(this.removeTransformFromStyleList(),this.closeStyles(lt),st=ct.length,it=0;it<st;it+=1)ct[it].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(et,c){(et._opMdf||c.op._mdf||this._isFirstFrame)&&(c.opacity=et.opacity,c.opacity*=c.op.v,c._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var et,c=this.stylesList.length,tt,nt,rt,it,st,at,ot=this.globalData.renderer,lt=this.globalData.canvasContext,ct,dt;for(et=0;et<c;et+=1)if(dt=this.stylesList[et],ct=dt.type,!((ct==="st"||ct==="gs")&&dt.wi===0||!dt.data._shouldRender||dt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(ot.save(),st=dt.elements,ct==="st"||ct==="gs"?(ot.ctxStrokeStyle(ct==="st"?dt.co:dt.grd),ot.ctxLineWidth(dt.wi),ot.ctxLineCap(dt.lc),ot.ctxLineJoin(dt.lj),ot.ctxMiterLimit(dt.ml||0)):ot.ctxFillStyle(ct==="fl"?dt.co:dt.grd),ot.ctxOpacity(dt.coOp),ct!=="st"&&ct!=="gs"&&lt.beginPath(),ot.ctxTransform(dt.preTransforms.finalTransform.props),nt=st.length,tt=0;tt<nt;tt+=1){for((ct==="st"||ct==="gs")&&(lt.beginPath(),dt.da&&(lt.setLineDash(dt.da),lt.lineDashOffset=dt.do)),at=st[tt].trNodes,it=at.length,rt=0;rt<it;rt+=1)at[rt].t==="m"?lt.moveTo(at[rt].p[0],at[rt].p[1]):at[rt].t==="c"?lt.bezierCurveTo(at[rt].pts[0],at[rt].pts[1],at[rt].pts[2],at[rt].pts[3],at[rt].pts[4],at[rt].pts[5]):lt.closePath();(ct==="st"||ct==="gs")&&(ot.ctxStroke(),dt.da&&lt.setLineDash(this.dashResetter))}ct!=="st"&&ct!=="gs"&&this.globalData.renderer.ctxFill(dt.r),ot.restore()}},CVShapeElement.prototype.renderShape=function(et,c,tt,nt){var rt,it=c.length-1,st;for(st=et,rt=it;rt>=0;rt-=1)c[rt].ty==="tr"?(st=tt[rt].transform,this.renderShapeTransform(et,st)):c[rt].ty==="sh"||c[rt].ty==="el"||c[rt].ty==="rc"||c[rt].ty==="sr"?this.renderPath(c[rt],tt[rt]):c[rt].ty==="fl"?this.renderFill(c[rt],tt[rt],st):c[rt].ty==="st"?this.renderStroke(c[rt],tt[rt],st):c[rt].ty==="gf"||c[rt].ty==="gs"?this.renderGradientFill(c[rt],tt[rt],st):c[rt].ty==="gr"?this.renderShape(st,c[rt].it,tt[rt].it):c[rt].ty;nt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(et,c){if(this._isFirstFrame||c._mdf||et.transforms._mdf){var tt=et.trNodes,nt=c.paths,rt,it,st,at=nt._length;tt.length=0;var ot=et.transforms.finalTransform;for(st=0;st<at;st+=1){var lt=nt.shapes[st];if(lt&&lt.v){for(it=lt._length,rt=1;rt<it;rt+=1)rt===1&&tt.push({t:"m",p:ot.applyToPointArray(lt.v[0][0],lt.v[0][1],0)}),tt.push({t:"c",pts:ot.applyToTriplePoints(lt.o[rt-1],lt.i[rt],lt.v[rt])});it===1&&tt.push({t:"m",p:ot.applyToPointArray(lt.v[0][0],lt.v[0][1],0)}),lt.c&&it&&(tt.push({t:"c",pts:ot.applyToTriplePoints(lt.o[rt-1],lt.i[0],lt.v[0])}),tt.push({t:"z"}))}}et.trNodes=tt}},CVShapeElement.prototype.renderPath=function(et,c){if(et.hd!==!0&&et._shouldRender){var tt,nt=c.styledShapes.length;for(tt=0;tt<nt;tt+=1)this.renderStyledShape(c.styledShapes[tt],c.sh)}},CVShapeElement.prototype.renderFill=function(et,c,tt){var nt=c.style;(c.c._mdf||this._isFirstFrame)&&(nt.co="rgb("+bmFloor(c.c.v[0])+","+bmFloor(c.c.v[1])+","+bmFloor(c.c.v[2])+")"),(c.o._mdf||tt._opMdf||this._isFirstFrame)&&(nt.coOp=c.o.v*tt.opacity)},CVShapeElement.prototype.renderGradientFill=function(et,c,tt){var nt=c.style,rt;if(!nt.grd||c.g._mdf||c.s._mdf||c.e._mdf||et.t!==1&&(c.h._mdf||c.a._mdf)){var it=this.globalData.canvasContext,st=c.s.v,at=c.e.v;if(et.t===1)rt=it.createLinearGradient(st[0],st[1],at[0],at[1]);else{var ot=Math.sqrt(Math.pow(st[0]-at[0],2)+Math.pow(st[1]-at[1],2)),lt=Math.atan2(at[1]-st[1],at[0]-st[0]),ct=c.h.v;ct>=1?ct=.99:ct<=-1&&(ct=-.99);var dt=ot*ct,ht=Math.cos(lt+c.a.v)*dt+st[0],mt=Math.sin(lt+c.a.v)*dt+st[1];rt=it.createRadialGradient(ht,mt,0,st[0],st[1],ot)}var gt,yt=et.g.p,_t=c.g.c,pt=1;for(gt=0;gt<yt;gt+=1)c.g._hasOpacity&&c.g._collapsable&&(pt=c.g.o[gt*2+1]),rt.addColorStop(_t[gt*4]/100,"rgba("+_t[gt*4+1]+","+_t[gt*4+2]+","+_t[gt*4+3]+","+pt+")");nt.grd=rt}nt.coOp=c.o.v*tt.opacity},CVShapeElement.prototype.renderStroke=function(et,c,tt){var nt=c.style,rt=c.d;rt&&(rt._mdf||this._isFirstFrame)&&(nt.da=rt.dashArray,nt.do=rt.dashoffset[0]),(c.c._mdf||this._isFirstFrame)&&(nt.co="rgb("+bmFloor(c.c.v[0])+","+bmFloor(c.c.v[1])+","+bmFloor(c.c.v[2])+")"),(c.o._mdf||tt._opMdf||this._isFirstFrame)&&(nt.coOp=c.o.v*tt.opacity),(c.w._mdf||this._isFirstFrame)&&(nt.wi=c.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(et,c,tt){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(et,c,tt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et.l?et.l.length:0);var c=!1;et.fc?(c=!0,this.values.fill=this.buildColor(et.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=c;var tt=!1;et.sc&&(tt=!0,this.values.stroke=this.buildColor(et.sc),this.values.sWidth=et.sw);var nt=this.globalData.fontManager.getFontByName(et.f),rt,it,st=et.l,at=this.mHelper;this.stroke=tt,this.values.fValue=et.finalSize+"px "+this.globalData.fontManager.getFontByName(et.f).fFamily,it=et.finalText.length;var ot,lt,ct,dt,ht,mt,gt,yt,_t,pt,xt=this.data.singleShape,vt=et.tr*.001*et.finalSize,St=0,wt=0,Mt=!0,Ct=0;for(rt=0;rt<it;rt+=1){ot=this.globalData.fontManager.getCharData(et.finalText[rt],nt.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily),lt=ot&&ot.data||{},at.reset(),xt&&st[rt].n&&(St=-vt,wt+=et.yOffset,wt+=Mt?1:0,Mt=!1),ht=lt.shapes?lt.shapes[0].it:[],gt=ht.length,at.scale(et.finalSize/100,et.finalSize/100),xt&&this.applyTextPropertiesToMatrix(et,at,st[rt].line,St,wt),_t=createSizedArray(gt-1);var Rt=0;for(mt=0;mt<gt;mt+=1)if(ht[mt].ty==="sh"){for(dt=ht[mt].ks.k.i.length,yt=ht[mt].ks.k,pt=[],ct=1;ct<dt;ct+=1)ct===1&&pt.push(at.applyToX(yt.v[0][0],yt.v[0][1],0),at.applyToY(yt.v[0][0],yt.v[0][1],0)),pt.push(at.applyToX(yt.o[ct-1][0],yt.o[ct-1][1],0),at.applyToY(yt.o[ct-1][0],yt.o[ct-1][1],0),at.applyToX(yt.i[ct][0],yt.i[ct][1],0),at.applyToY(yt.i[ct][0],yt.i[ct][1],0),at.applyToX(yt.v[ct][0],yt.v[ct][1],0),at.applyToY(yt.v[ct][0],yt.v[ct][1],0));pt.push(at.applyToX(yt.o[ct-1][0],yt.o[ct-1][1],0),at.applyToY(yt.o[ct-1][0],yt.o[ct-1][1],0),at.applyToX(yt.i[0][0],yt.i[0][1],0),at.applyToY(yt.i[0][0],yt.i[0][1],0),at.applyToX(yt.v[0][0],yt.v[0][1],0),at.applyToY(yt.v[0][0],yt.v[0][1],0)),_t[Rt]=pt,Rt+=1}xt&&(St+=st[rt].l,St+=vt),this.textSpans[Ct]?this.textSpans[Ct].elem=_t:this.textSpans[Ct]={elem:_t},Ct+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var et=this.canvasContext;et.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var c,tt,nt,rt,it,st,at=this.textAnimator.renderedLetters,ot=this.textProperty.currentData.l;tt=ot.length;var lt,ct=null,dt=null,ht=null,mt,gt,yt=this.globalData.renderer;for(c=0;c<tt;c+=1)if(!ot[c].n){if(lt=at[c],lt&&(yt.save(),yt.ctxTransform(lt.p),yt.ctxOpacity(lt.o)),this.fill){for(lt&&lt.fc?ct!==lt.fc&&(yt.ctxFillStyle(lt.fc),ct=lt.fc):ct!==this.values.fill&&(ct=this.values.fill,yt.ctxFillStyle(this.values.fill)),mt=this.textSpans[c].elem,rt=mt.length,this.globalData.canvasContext.beginPath(),nt=0;nt<rt;nt+=1)for(gt=mt[nt],st=gt.length,this.globalData.canvasContext.moveTo(gt[0],gt[1]),it=2;it<st;it+=6)this.globalData.canvasContext.bezierCurveTo(gt[it],gt[it+1],gt[it+2],gt[it+3],gt[it+4],gt[it+5]);this.globalData.canvasContext.closePath(),yt.ctxFill()}if(this.stroke){for(lt&&lt.sw?ht!==lt.sw&&(ht=lt.sw,yt.ctxLineWidth(lt.sw)):ht!==this.values.sWidth&&(ht=this.values.sWidth,yt.ctxLineWidth(this.values.sWidth)),lt&&lt.sc?dt!==lt.sc&&(dt=lt.sc,yt.ctxStrokeStyle(lt.sc)):dt!==this.values.stroke&&(dt=this.values.stroke,yt.ctxStrokeStyle(this.values.stroke)),mt=this.textSpans[c].elem,rt=mt.length,this.globalData.canvasContext.beginPath(),nt=0;nt<rt;nt+=1)for(gt=mt[nt],st=gt.length,this.globalData.canvasContext.moveTo(gt[0],gt[1]),it=2;it<st;it+=6)this.globalData.canvasContext.bezierCurveTo(gt[it],gt[it+1],gt[it+2],gt[it+3],gt[it+4],gt[it+5]);this.globalData.canvasContext.closePath(),yt.ctxStroke()}lt&&this.globalData.renderer.restore()}};function CVImageElement(et,c,tt){this.assetData=c.getAssetData(et.refId),this.img=c.imageLoader.getAsset(this.assetData),this.initElement(et,c,tt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var et=createTag("canvas");et.width=this.assetData.w,et.height=this.assetData.h;var c=et.getContext("2d"),tt=this.img.width,nt=this.img.height,rt=tt/nt,it=this.assetData.w/this.assetData.h,st,at,ot=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;rt>it&&ot==="xMidYMid slice"||rt<it&&ot!=="xMidYMid slice"?(at=nt,st=at*it):(st=tt,at=st/it),c.drawImage(this.img,(tt-st)/2,(nt-at)/2,st,at,0,0,this.assetData.w,this.assetData.h),this.img=et}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(et,c,tt){this.initElement(et,c,tt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(et){return new CVShapeElement(et,this.globalData,this)},CanvasRendererBase.prototype.createText=function(et){return new CVTextElement(et,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(et){return new CVImageElement(et,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(et){return new CVSolidElement(et,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(et){et[0]===1&&et[1]===0&&et[4]===0&&et[5]===1&&et[12]===0&&et[13]===0||this.canvasContext.transform(et[0],et[1],et[4],et[5],et[12],et[13])},CanvasRendererBase.prototype.ctxOpacity=function(et){this.canvasContext.globalAlpha*=et<0?0:et},CanvasRendererBase.prototype.ctxFillStyle=function(et){this.canvasContext.fillStyle=et},CanvasRendererBase.prototype.ctxStrokeStyle=function(et){this.canvasContext.strokeStyle=et},CanvasRendererBase.prototype.ctxLineWidth=function(et){this.canvasContext.lineWidth=et},CanvasRendererBase.prototype.ctxLineCap=function(et){this.canvasContext.lineCap=et},CanvasRendererBase.prototype.ctxLineJoin=function(et){this.canvasContext.lineJoin=et},CanvasRendererBase.prototype.ctxMiterLimit=function(et){this.canvasContext.miterLimit=et},CanvasRendererBase.prototype.ctxFill=function(et){this.canvasContext.fill(et)},CanvasRendererBase.prototype.ctxFillRect=function(et,c,tt,nt){this.canvasContext.fillRect(et,c,tt,nt)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(et){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}et&&(this.globalData.blendMode="source-over"),this.contextData.restore(et)},CanvasRendererBase.prototype.configAnimation=function(et){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var c=this.animationItem.container.style;c.width="100%",c.height="100%";var tt="0px 0px 0px";c.transformOrigin=tt,c.mozTransformOrigin=tt,c.webkitTransformOrigin=tt,c["-webkit-transform"]=tt,c.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=et,this.layers=et.layers,this.transformCanvas={w:et.w,h:et.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(et,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(et.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(et,c){this.reset();var tt,nt;et?(tt=et,nt=c,this.canvasContext.canvas.width=tt,this.canvasContext.canvas.height=nt):(this.animationItem.wrapper&&this.animationItem.container?(tt=this.animationItem.wrapper.offsetWidth,nt=this.animationItem.wrapper.offsetHeight):(tt=this.canvasContext.canvas.width,nt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=tt*this.renderConfig.dpr,this.canvasContext.canvas.height=nt*this.renderConfig.dpr);var rt,it;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var st=this.renderConfig.preserveAspectRatio.split(" "),at=st[1]||"meet",ot=st[0]||"xMidYMid",lt=ot.substr(0,4),ct=ot.substr(4);rt=tt/nt,it=this.transformCanvas.w/this.transformCanvas.h,it>rt&&at==="meet"||it<rt&&at==="slice"?(this.transformCanvas.sx=tt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=tt/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=nt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=nt/(this.transformCanvas.h/this.renderConfig.dpr)),lt==="xMid"&&(it<rt&&at==="meet"||it>rt&&at==="slice")?this.transformCanvas.tx=(tt-this.transformCanvas.w*(nt/this.transformCanvas.h))/2*this.renderConfig.dpr:lt==="xMax"&&(it<rt&&at==="meet"||it>rt&&at==="slice")?this.transformCanvas.tx=(tt-this.transformCanvas.w*(nt/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,ct==="YMid"&&(it>rt&&at==="meet"||it<rt&&at==="slice")?this.transformCanvas.ty=(nt-this.transformCanvas.h*(tt/this.transformCanvas.w))/2*this.renderConfig.dpr:ct==="YMax"&&(it>rt&&at==="meet"||it<rt&&at==="slice")?this.transformCanvas.ty=(nt-this.transformCanvas.h*(tt/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=tt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=nt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var et,c=this.layers?this.layers.length:0;for(et=c-1;et>=0;et-=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(et,c){if(!(this.renderedFrame===et&&this.renderConfig.clearCanvas===!0&&!c||this.destroyed||et===-1)){this.renderedFrame=et,this.globalData.frameNum=et-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||c,this.globalData.projectInterface.currentFrame=et;var tt,nt=this.layers.length;for(this.completeLayers||this.checkLayers(et),tt=nt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].prepareFrame(et-this.layers[tt].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),tt=nt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(et){var c=this.elements;if(!(c[et]||this.layers[et].ty===99)){var tt=this.createItem(this.layers[et],this,this.globalData);c[et]=tt,tt.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();et.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var et,c=15;for(et=0;et<c;et+=1){var tt=new CanvasContext;this.stack[et]=tt}this._length=c,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var et=this._length*2,c=0;for(c=this._length;c<et;c+=1)this.stack[c]=new CanvasContext;this._length=et},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(et){this.cArrPos-=1;var c=this.stack[this.cArrPos],tt=c.transform,nt,rt=this.cTr.props;for(nt=0;nt<16;nt+=1)rt[nt]=tt[nt];if(et){this.nativeContext.restore();var it=this.stack[this.cArrPos+1];this.appliedFillStyle=it.fillStyle,this.appliedStrokeStyle=it.strokeStyle,this.appliedLineWidth=it.lineWidth,this.appliedLineCap=it.lineCap,this.appliedLineJoin=it.lineJoin,this.appliedMiterLimit=it.miterLimit}this.nativeContext.setTransform(tt[0],tt[1],tt[4],tt[5],tt[12],tt[13]),(et||c.opacity!==-1&&this.currentOpacity!==c.opacity)&&(this.nativeContext.globalAlpha=c.opacity,this.currentOpacity=c.opacity),this.currentFillStyle=c.fillStyle,this.currentStrokeStyle=c.strokeStyle,this.currentLineWidth=c.lineWidth,this.currentLineCap=c.lineCap,this.currentLineJoin=c.lineJoin,this.currentMiterLimit=c.miterLimit},CVContextData.prototype.save=function(et){et&&this.nativeContext.save();var c=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var tt=this.stack[this.cArrPos],nt;for(nt=0;nt<16;nt+=1)tt.transform[nt]=c[nt];this.cArrPos+=1;var rt=this.stack[this.cArrPos];rt.opacity=tt.opacity,rt.fillStyle=tt.fillStyle,rt.strokeStyle=tt.strokeStyle,rt.lineWidth=tt.lineWidth,rt.lineCap=tt.lineCap,rt.lineJoin=tt.lineJoin,rt.miterLimit=tt.miterLimit},CVContextData.prototype.setOpacity=function(et){this.stack[this.cArrPos].opacity=et},CVContextData.prototype.setContext=function(et){this.nativeContext=et},CVContextData.prototype.fillStyle=function(et){this.stack[this.cArrPos].fillStyle!==et&&(this.currentFillStyle=et,this.stack[this.cArrPos].fillStyle=et)},CVContextData.prototype.strokeStyle=function(et){this.stack[this.cArrPos].strokeStyle!==et&&(this.currentStrokeStyle=et,this.stack[this.cArrPos].strokeStyle=et)},CVContextData.prototype.lineWidth=function(et){this.stack[this.cArrPos].lineWidth!==et&&(this.currentLineWidth=et,this.stack[this.cArrPos].lineWidth=et)},CVContextData.prototype.lineCap=function(et){this.stack[this.cArrPos].lineCap!==et&&(this.currentLineCap=et,this.stack[this.cArrPos].lineCap=et)},CVContextData.prototype.lineJoin=function(et){this.stack[this.cArrPos].lineJoin!==et&&(this.currentLineJoin=et,this.stack[this.cArrPos].lineJoin=et)},CVContextData.prototype.miterLimit=function(et){this.stack[this.cArrPos].miterLimit!==et&&(this.currentMiterLimit=et,this.stack[this.cArrPos].miterLimit=et)},CVContextData.prototype.transform=function(et){this.transformMat.cloneFromProps(et);var c=this.cTr;this.transformMat.multiply(c),c.cloneFromProps(this.transformMat.props);var tt=c.props;this.nativeContext.setTransform(tt[0],tt[1],tt[4],tt[5],tt[12],tt[13])},CVContextData.prototype.opacity=function(et){var c=this.stack[this.cArrPos].opacity;c*=et<0?0:et,this.stack[this.cArrPos].opacity!==c&&(this.currentOpacity!==et&&(this.nativeContext.globalAlpha=et,this.currentOpacity=et),this.stack[this.cArrPos].opacity=c)},CVContextData.prototype.fill=function(et){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(et)},CVContextData.prototype.fillRect=function(et,c,tt,nt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(et,c,tt,nt)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(et,c,tt){this.completeLayers=!1,this.layers=et.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(et,c,tt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,c.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var et=this.canvasContext;et.beginPath(),et.moveTo(0,0),et.lineTo(this.data.w,0),et.lineTo(this.data.w,this.data.h),et.lineTo(0,this.data.h),et.lineTo(0,0),et.clip();var c,tt=this.layers.length;for(c=tt-1;c>=0;c-=1)(this.completeLayers||this.elements[c])&&this.elements[c].renderFrame()},CVCompElement.prototype.destroy=function(){var et,c=this.layers.length;for(et=c-1;et>=0;et-=1)this.elements[et]&&this.elements[et].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(et){return new CVCompElement(et,this.globalData,this)};function CanvasRenderer(et,c){this.animationItem=et,this.renderConfig={clearCanvas:c&&c.clearCanvas!==void 0?c.clearCanvas:!0,context:c&&c.context||null,progressiveLoad:c&&c.progressiveLoad||!1,preserveAspectRatio:c&&c.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:c&&c.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:c&&c.contentVisibility||"visible",className:c&&c.className||"",id:c&&c.id||"",runExpressions:!c||c.runExpressions===void 0||c.runExpressions},this.renderConfig.dpr=c&&c.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=c&&c.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(et){return new CVCompElement(et,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var c=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var tt=this.finalTransform.mat.toCSS();c.transform=tt,c.webkitTransform=tt}this.finalTransform._opMdf&&(c.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(et,c,tt){this.initElement(et,c,tt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var et;this.data.hasMask?(et=createNS("rect"),et.setAttribute("width",this.data.sw),et.setAttribute("height",this.data.sh),et.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(et=createTag("div"),et.style.width=this.data.sw+"px",et.style.height=this.data.sh+"px",et.style.backgroundColor=this.data.sc),this.layerElement.appendChild(et)};function HShapeElement(et,c,tt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(et,c,tt),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var et;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),et=this.svgElement;else{et=createNS("svg");var c=this.comp.data?this.comp.data:this.globalData.compSize;et.setAttribute("width",c.w),et.setAttribute("height",c.h),et.appendChild(this.shapesContainer),this.layerElement.appendChild(et)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=et},HShapeElement.prototype.getTransformedPoint=function(et,c){var tt,nt=et.length;for(tt=0;tt<nt;tt+=1)c=et[tt].mProps.v.applyToPointArray(c[0],c[1],0);return c},HShapeElement.prototype.calculateShapeBoundingBox=function(et,c){var tt=et.sh.v,nt=et.transformers,rt,it=tt._length,st,at,ot,lt;if(!(it<=1)){for(rt=0;rt<it-1;rt+=1)st=this.getTransformedPoint(nt,tt.v[rt]),at=this.getTransformedPoint(nt,tt.o[rt]),ot=this.getTransformedPoint(nt,tt.i[rt+1]),lt=this.getTransformedPoint(nt,tt.v[rt+1]),this.checkBounds(st,at,ot,lt,c);tt.c&&(st=this.getTransformedPoint(nt,tt.v[rt]),at=this.getTransformedPoint(nt,tt.o[rt]),ot=this.getTransformedPoint(nt,tt.i[0]),lt=this.getTransformedPoint(nt,tt.v[0]),this.checkBounds(st,at,ot,lt,c))}},HShapeElement.prototype.checkBounds=function(et,c,tt,nt,rt){this.getBoundsOfCurve(et,c,tt,nt);var it=this.shapeBoundingBox;rt.x=bmMin(it.left,rt.x),rt.xMax=bmMax(it.right,rt.xMax),rt.y=bmMin(it.top,rt.y),rt.yMax=bmMax(it.bottom,rt.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(et,c,tt,nt){for(var rt=[[et[0],nt[0]],[et[1],nt[1]]],it,st,at,ot,lt,ct,dt,ht=0;ht<2;++ht)st=6*et[ht]-12*c[ht]+6*tt[ht],it=-3*et[ht]+9*c[ht]-9*tt[ht]+3*nt[ht],at=3*c[ht]-3*et[ht],st|=0,it|=0,at|=0,it===0&&st===0||(it===0?(ot=-at/st,ot>0&&ot<1&&rt[ht].push(this.calculateF(ot,et,c,tt,nt,ht))):(lt=st*st-4*at*it,lt>=0&&(ct=(-st+bmSqrt(lt))/(2*it),ct>0&&ct<1&&rt[ht].push(this.calculateF(ct,et,c,tt,nt,ht)),dt=(-st-bmSqrt(lt))/(2*it),dt>0&&dt<1&&rt[ht].push(this.calculateF(dt,et,c,tt,nt,ht)))));this.shapeBoundingBox.left=bmMin.apply(null,rt[0]),this.shapeBoundingBox.top=bmMin.apply(null,rt[1]),this.shapeBoundingBox.right=bmMax.apply(null,rt[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,rt[1])},HShapeElement.prototype.calculateF=function(et,c,tt,nt,rt,it){return bmPow(1-et,3)*c[it]+3*bmPow(1-et,2)*et*tt[it]+3*(1-et)*bmPow(et,2)*nt[it]+bmPow(et,3)*rt[it]},HShapeElement.prototype.calculateBoundingBox=function(et,c){var tt,nt=et.length;for(tt=0;tt<nt;tt+=1)et[tt]&&et[tt].sh?this.calculateShapeBoundingBox(et[tt],c):et[tt]&&et[tt].it?this.calculateBoundingBox(et[tt].it,c):et[tt]&&et[tt].style&&et[tt].w&&this.expandStrokeBoundingBox(et[tt].w,c)},HShapeElement.prototype.expandStrokeBoundingBox=function(et,c){var tt=0;if(et.keyframes){for(var nt=0;nt<et.keyframes.length;nt+=1){var rt=et.keyframes[nt].s;rt>tt&&(tt=rt)}tt*=et.mult}else tt=et.v*et.mult;c.x-=tt,c.xMax+=tt,c.y-=tt,c.yMax+=tt},HShapeElement.prototype.currentBoxContains=function(et){return this.currentBBox.x<=et.x&&this.currentBBox.y<=et.y&&this.currentBBox.width+this.currentBBox.x>=et.x+et.width&&this.currentBBox.height+this.currentBBox.y>=et.y+et.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var et=this.tempBoundingBox,c=999999;if(et.x=c,et.xMax=-c,et.y=c,et.yMax=-c,this.calculateBoundingBox(this.itemsData,et),et.width=et.xMax<et.x?0:et.xMax-et.x,et.height=et.yMax<et.y?0:et.yMax-et.y,this.currentBoxContains(et))return;var tt=!1;if(this.currentBBox.w!==et.width&&(this.currentBBox.w=et.width,this.shapeCont.setAttribute("width",et.width),tt=!0),this.currentBBox.h!==et.height&&(this.currentBBox.h=et.height,this.shapeCont.setAttribute("height",et.height),tt=!0),tt||this.currentBBox.x!==et.x||this.currentBBox.y!==et.y){this.currentBBox.w=et.width,this.currentBBox.h=et.height,this.currentBBox.x=et.x,this.currentBBox.y=et.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var nt=this.shapeCont.style,rt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";nt.transform=rt,nt.webkitTransform=rt}}};function HTextElement(et,c,tt){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(et,c,tt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var et=createNS("g");this.maskedElement.appendChild(et),this.innerElem=et}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et.l?et.l.length:0);var c=this.innerElem.style,tt=et.fc?this.buildColor(et.fc):"rgba(0,0,0,0)";c.fill=tt,c.color=tt,et.sc&&(c.stroke=this.buildColor(et.sc),c.strokeWidth=et.sw+"px");var nt=this.globalData.fontManager.getFontByName(et.f);if(!this.globalData.fontManager.chars)if(c.fontSize=et.finalSize+"px",c.lineHeight=et.finalSize+"px",nt.fClass)this.innerElem.className=nt.fClass;else{c.fontFamily=nt.fFamily;var rt=et.fWeight,it=et.fStyle;c.fontStyle=it,c.fontWeight=rt}var st,at,ot=et.l;at=ot.length;var lt,ct,dt,ht=this.mHelper,mt,gt="",yt=0;for(st=0;st<at;st+=1){if(this.globalData.fontManager.chars?(this.textPaths[yt]?lt=this.textPaths[yt]:(lt=createNS("path"),lt.setAttribute("stroke-linecap",lineCapEnum[1]),lt.setAttribute("stroke-linejoin",lineJoinEnum[2]),lt.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[yt]?(ct=this.textSpans[yt],dt=ct.children[0]):(ct=createTag("div"),ct.style.lineHeight=0,dt=createNS("svg"),dt.appendChild(lt),styleDiv(ct)))):this.isMasked?lt=this.textPaths[yt]?this.textPaths[yt]:createNS("text"):this.textSpans[yt]?(ct=this.textSpans[yt],lt=this.textPaths[yt]):(ct=createTag("span"),styleDiv(ct),lt=createTag("span"),styleDiv(lt),ct.appendChild(lt)),this.globalData.fontManager.chars){var _t=this.globalData.fontManager.getCharData(et.finalText[st],nt.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily),pt;if(_t?pt=_t.data:pt=null,ht.reset(),pt&&pt.shapes&&pt.shapes.length&&(mt=pt.shapes[0].it,ht.scale(et.finalSize/100,et.finalSize/100),gt=this.createPathShape(ht,mt),lt.setAttribute("d",gt)),this.isMasked)this.innerElem.appendChild(lt);else{if(this.innerElem.appendChild(ct),pt&&pt.shapes){document.body.appendChild(dt);var xt=dt.getBBox();dt.setAttribute("width",xt.width+2),dt.setAttribute("height",xt.height+2),dt.setAttribute("viewBox",xt.x-1+" "+(xt.y-1)+" "+(xt.width+2)+" "+(xt.height+2));var vt=dt.style,St="translate("+(xt.x-1)+"px,"+(xt.y-1)+"px)";vt.transform=St,vt.webkitTransform=St,ot[st].yOffset=xt.y-1}else dt.setAttribute("width",1),dt.setAttribute("height",1);ct.appendChild(dt)}}else if(lt.textContent=ot[st].val,lt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(lt);else{this.innerElem.appendChild(ct);var wt=lt.style,Mt="translate3d(0,"+-et.finalSize/1.2+"px,0)";wt.transform=Mt,wt.webkitTransform=Mt}this.isMasked?this.textSpans[yt]=lt:this.textSpans[yt]=ct,this.textSpans[yt].style.display="block",this.textPaths[yt]=lt,yt+=1}for(;yt<this.textSpans.length;)this.textSpans[yt].style.display="none",yt+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var et;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),et=this.svgElement.style;var c="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";et.transform=c,et.webkitTransform=c}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var tt,nt,rt=0,it=this.textAnimator.renderedLetters,st=this.textProperty.currentData.l;nt=st.length;var at,ot,lt;for(tt=0;tt<nt;tt+=1)st[tt].n?rt+=1:(ot=this.textSpans[tt],lt=this.textPaths[tt],at=it[rt],rt+=1,at._mdf.m&&(this.isMasked?ot.setAttribute("transform",at.m):(ot.style.webkitTransform=at.m,ot.style.transform=at.m)),ot.style.opacity=at.o,at.sw&&at._mdf.sw&&lt.setAttribute("stroke-width",at.sw),at.sc&&at._mdf.sc&&lt.setAttribute("stroke",at.sc),at.fc&&at._mdf.fc&&(lt.setAttribute("fill",at.fc),lt.style.color=at.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ct=this.innerElem.getBBox();this.currentBBox.w!==ct.width&&(this.currentBBox.w=ct.width,this.svgElement.setAttribute("width",ct.width)),this.currentBBox.h!==ct.height&&(this.currentBBox.h=ct.height,this.svgElement.setAttribute("height",ct.height));var dt=1;if(this.currentBBox.w!==ct.width+dt*2||this.currentBBox.h!==ct.height+dt*2||this.currentBBox.x!==ct.x-dt||this.currentBBox.y!==ct.y-dt){this.currentBBox.w=ct.width+dt*2,this.currentBBox.h=ct.height+dt*2,this.currentBBox.x=ct.x-dt,this.currentBBox.y=ct.y-dt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),et=this.svgElement.style;var ht="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";et.transform=ht,et.webkitTransform=ht}}}};function HCameraElement(et,c,tt){this.initFrame(),this.initBaseData(et,c,tt),this.initHierarchy();var nt=PropertyFactory.getProp;if(this.pe=nt(this,et.pe,0,0,this),et.ks.p.s?(this.px=nt(this,et.ks.p.x,1,0,this),this.py=nt(this,et.ks.p.y,1,0,this),this.pz=nt(this,et.ks.p.z,1,0,this)):this.p=nt(this,et.ks.p,1,0,this),et.ks.a&&(this.a=nt(this,et.ks.a,1,0,this)),et.ks.or.k.length&&et.ks.or.k[0].to){var rt,it=et.ks.or.k.length;for(rt=0;rt<it;rt+=1)et.ks.or.k[rt].to=null,et.ks.or.k[rt].ti=null}this.or=nt(this,et.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=nt(this,et.ks.rx,0,degToRads,this),this.ry=nt(this,et.ks.ry,0,degToRads,this),this.rz=nt(this,et.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var et,c=this.comp.threeDElements.length,tt,nt,rt;for(et=0;et<c;et+=1)if(tt=this.comp.threeDElements[et],tt.type==="3d"){nt=tt.perspectiveElem.style,rt=tt.container.style;var it=this.pe.v+"px",st="0px 0px 0px",at="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";nt.perspective=it,nt.webkitPerspective=it,rt.transformOrigin=st,rt.mozTransformOrigin=st,rt.webkitTransformOrigin=st,nt.transform=at,nt.webkitTransform=at}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var et=this._isFirstFrame,c,tt;if(this.hierarchy)for(tt=this.hierarchy.length,c=0;c<tt;c+=1)et=this.hierarchy[c].finalTransform.mProp._mdf||et;if(et||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(tt=this.hierarchy.length-1,c=tt;c>=0;c-=1){var nt=this.hierarchy[c].finalTransform.mProp;this.mat.translate(-nt.p.v[0],-nt.p.v[1],nt.p.v[2]),this.mat.rotateX(-nt.or.v[0]).rotateY(-nt.or.v[1]).rotateZ(nt.or.v[2]),this.mat.rotateX(-nt.rx.v).rotateY(-nt.ry.v).rotateZ(nt.rz.v),this.mat.scale(1/nt.s.v[0],1/nt.s.v[1],1/nt.s.v[2]),this.mat.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var rt;this.p?rt=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:rt=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var it=Math.sqrt(Math.pow(rt[0],2)+Math.pow(rt[1],2)+Math.pow(rt[2],2)),st=[rt[0]/it,rt[1]/it,rt[2]/it],at=Math.sqrt(st[2]*st[2]+st[0]*st[0]),ot=Math.atan2(st[1],at),lt=Math.atan2(st[0],-st[2]);this.mat.rotateY(lt).rotateX(-ot)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ct=!this._prevMat.equals(this.mat);if((ct||this.pe._mdf)&&this.comp.threeDElements){tt=this.comp.threeDElements.length;var dt,ht,mt;for(c=0;c<tt;c+=1)if(dt=this.comp.threeDElements[c],dt.type==="3d"){if(ct){var gt=this.mat.toCSS();mt=dt.container.style,mt.transform=gt,mt.webkitTransform=gt}this.pe._mdf&&(ht=dt.perspectiveElem.style,ht.perspective=this.pe.v+"px",ht.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(et){this.prepareProperties(et,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(et,c,tt){this.assetData=c.getAssetData(et.refId),this.initElement(et,c,tt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var et=this.globalData.getAssetsPath(this.assetData),c=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",et),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(c),c.crossOrigin="anonymous",c.src=et,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(et,c){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:c&&c.className||"",imagePreserveAspectRatio:c&&c.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(c&&c.hideOnTransparent===!1),filterSize:{width:c&&c.filterSize&&c.filterSize.width||"400%",height:c&&c.filterSize&&c.filterSize.height||"400%",x:c&&c.filterSize&&c.filterSize.x||"-100%",y:c&&c.filterSize&&c.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();et.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(et,c){var tt=et.getBaseElement();if(tt){var nt=this.layers[c];if(!nt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(tt,c);else{for(var rt=0,it,st,at;rt<c;)this.elements[rt]&&this.elements[rt]!==!0&&this.elements[rt].getBaseElement&&(st=this.elements[rt],at=this.layers[rt].ddd?this.getThreeDContainerByPos(rt):st.getBaseElement(),it=at||it),rt+=1;it?(!nt.ddd||!this.supports3d)&&this.layerElement.insertBefore(tt,it):(!nt.ddd||!this.supports3d)&&this.layerElement.appendChild(tt)}else this.addTo3dContainer(tt,c)}},HybridRendererBase.prototype.createShape=function(et){return this.supports3d?new HShapeElement(et,this.globalData,this):new SVGShapeElement(et,this.globalData,this)},HybridRendererBase.prototype.createText=function(et){return this.supports3d?new HTextElement(et,this.globalData,this):new SVGTextLottieElement(et,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(et){return this.camera=new HCameraElement(et,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(et){return this.supports3d?new HImageElement(et,this.globalData,this):new IImageElement(et,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(et){return this.supports3d?new HSolidElement(et,this.globalData,this):new ISolidElement(et,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(et){for(var c=0,tt=this.threeDElements.length;c<tt;){if(this.threeDElements[c].startPos<=et&&this.threeDElements[c].endPos>=et)return this.threeDElements[c].perspectiveElem;c+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(et,c){var tt=createTag("div"),nt,rt;styleDiv(tt);var it=createTag("div");if(styleDiv(it),c==="3d"){nt=tt.style,nt.width=this.globalData.compSize.w+"px",nt.height=this.globalData.compSize.h+"px";var st="50% 50%";nt.webkitTransformOrigin=st,nt.mozTransformOrigin=st,nt.transformOrigin=st,rt=it.style;var at="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";rt.transform=at,rt.webkitTransform=at}tt.appendChild(it);var ot={container:it,perspectiveElem:tt,startPos:et,endPos:et,type:c};return this.threeDElements.push(ot),ot},HybridRendererBase.prototype.build3dContainers=function(){var et,c=this.layers.length,tt,nt="";for(et=0;et<c;et+=1)this.layers[et].ddd&&this.layers[et].ty!==3?(nt!=="3d"&&(nt="3d",tt=this.createThreeDContainer(et,"3d")),tt.endPos=Math.max(tt.endPos,et)):(nt!=="2d"&&(nt="2d",tt=this.createThreeDContainer(et,"2d")),tt.endPos=Math.max(tt.endPos,et));for(c=this.threeDElements.length,et=c-1;et>=0;et-=1)this.resizerElem.appendChild(this.threeDElements[et].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(et,c){for(var tt=0,nt=this.threeDElements.length;tt<nt;){if(c<=this.threeDElements[tt].endPos){for(var rt=this.threeDElements[tt].startPos,it;rt<c;)this.elements[rt]&&this.elements[rt].getBaseElement&&(it=this.elements[rt].getBaseElement()),rt+=1;it?this.threeDElements[tt].container.insertBefore(et,it):this.threeDElements[tt].container.appendChild(et);break}tt+=1}},HybridRendererBase.prototype.configAnimation=function(et){var c=createTag("div"),tt=this.animationItem.wrapper,nt=c.style;nt.width=et.w+"px",nt.height=et.h+"px",this.resizerElem=c,styleDiv(c),nt.transformStyle="flat",nt.mozTransformStyle="flat",nt.webkitTransformStyle="flat",this.renderConfig.className&&c.setAttribute("class",this.renderConfig.className),tt.appendChild(c),nt.overflow="hidden";var rt=createNS("svg");rt.setAttribute("width","1"),rt.setAttribute("height","1"),styleDiv(rt),this.resizerElem.appendChild(rt);var it=createNS("defs");rt.appendChild(it),this.data=et,this.setupGlobalData(et,rt),this.globalData.defs=it,this.layers=et.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var et,c=this.layers?this.layers.length:0;for(et=0;et<c;et+=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var et=this.animationItem.wrapper.offsetWidth,c=this.animationItem.wrapper.offsetHeight,tt=et/c,nt=this.globalData.compSize.w/this.globalData.compSize.h,rt,it,st,at;nt>tt?(rt=et/this.globalData.compSize.w,it=et/this.globalData.compSize.w,st=0,at=(c-this.globalData.compSize.h*(et/this.globalData.compSize.w))/2):(rt=c/this.globalData.compSize.h,it=c/this.globalData.compSize.h,st=(et-this.globalData.compSize.w*(c/this.globalData.compSize.h))/2,at=0);var ot=this.resizerElem.style;ot.webkitTransform="matrix3d("+rt+",0,0,0,0,"+it+",0,0,0,0,1,0,"+st+","+at+",0,1)",ot.transform=ot.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var et=this.globalData.compSize.w,c=this.globalData.compSize.h,tt,nt=this.threeDElements.length;for(tt=0;tt<nt;tt+=1){var rt=this.threeDElements[tt].perspectiveElem.style;rt.webkitPerspective=Math.sqrt(Math.pow(et,2)+Math.pow(c,2))+"px",rt.perspective=rt.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(et){var c,tt=et.length,nt=createTag("div");for(c=0;c<tt;c+=1)if(et[c].xt){var rt=this.createComp(et[c],nt,this.globalData.comp,null);rt.initExpressions(),this.globalData.projectInterface.registerComposition(rt)}};function HCompElement(et,c,tt){this.layers=et.layers,this.supports3d=!et.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(et,c,tt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,c.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(et,c){for(var tt=0,nt;tt<c;)this.elements[tt]&&this.elements[tt].getBaseElement&&(nt=this.elements[tt].getBaseElement()),tt+=1;nt?this.layerElement.insertBefore(et,nt):this.layerElement.appendChild(et)},HCompElement.prototype.createComp=function(et){return this.supports3d?new HCompElement(et,this.globalData,this):new SVGCompElement(et,this.globalData,this)};function HybridRenderer(et,c){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:c&&c.className||"",imagePreserveAspectRatio:c&&c.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(c&&c.hideOnTransparent===!1),filterSize:{width:c&&c.filterSize&&c.filterSize.width||"400%",height:c&&c.filterSize&&c.filterSize.height||"400%",x:c&&c.filterSize&&c.filterSize.x||"-100%",y:c&&c.filterSize&&c.filterSize.y||"-100%"},runExpressions:!c||c.runExpressions===void 0||c.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(et){return this.supports3d?new HCompElement(et,this.globalData,this):new SVGCompElement(et,this.globalData,this)};var CompExpressionInterface=function(){return function(et){function c(tt){for(var nt=0,rt=et.layers.length;nt<rt;){if(et.layers[nt].nm===tt||et.layers[nt].ind===tt)return et.elements[nt].layerInterface;nt+=1}return null}return Object.defineProperty(c,"_name",{value:et.data.nm}),c.layer=c,c.pixelAspect=1,c.height=et.data.h||et.globalData.compSize.h,c.width=et.data.w||et.globalData.compSize.w,c.pixelAspect=1,c.frameDuration=1/et.globalData.frameRate,c.displayStartTime=0,c.numLayers=et.layers.length,c}}();function _typeof$2(et){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_typeof$2(et)}function seedRandom(et,c){var tt=this,nt=256,rt=6,it=52,st="random",at=c.pow(nt,rt),ot=c.pow(2,it),lt=ot*2,ct=nt-1,dt;function ht(vt,St,wt){var Mt=[];St=St===!0?{entropy:!0}:St||{};var Ct=_t(yt(St.entropy?[vt,xt(et)]:vt===null?pt():vt,3),Mt),Rt=new mt(Mt),Lt=function(){for(var Nt=Rt.g(rt),zt=at,Wt=0;Nt<ot;)Nt=(Nt+Wt)*nt,zt*=nt,Wt=Rt.g(1);for(;Nt>=lt;)Nt/=2,zt/=2,Wt>>>=1;return(Nt+Wt)/zt};return Lt.int32=function(){return Rt.g(4)|0},Lt.quick=function(){return Rt.g(4)/4294967296},Lt.double=Lt,_t(xt(Rt.S),et),(St.pass||wt||function(It,Nt,zt,Wt){return Wt&&(Wt.S&&gt(Wt,Rt),It.state=function(){return gt(Rt,{})}),zt?(c[st]=It,Nt):It})(Lt,Ct,"global"in St?St.global:this==c,St.state)}c["seed"+st]=ht;function mt(vt){var St,wt=vt.length,Mt=this,Ct=0,Rt=Mt.i=Mt.j=0,Lt=Mt.S=[];for(wt||(vt=[wt++]);Ct<nt;)Lt[Ct]=Ct++;for(Ct=0;Ct<nt;Ct++)Lt[Ct]=Lt[Rt=ct&Rt+vt[Ct%wt]+(St=Lt[Ct])],Lt[Rt]=St;Mt.g=function(It){for(var Nt,zt=0,Wt=Mt.i,Yt=Mt.j,Xt=Mt.S;It--;)Nt=Xt[Wt=ct&Wt+1],zt=zt*nt+Xt[ct&(Xt[Wt]=Xt[Yt=ct&Yt+Nt])+(Xt[Yt]=Nt)];return Mt.i=Wt,Mt.j=Yt,zt}}function gt(vt,St){return St.i=vt.i,St.j=vt.j,St.S=vt.S.slice(),St}function yt(vt,St){var wt=[],Mt=_typeof$2(vt),Ct;if(St&&Mt=="object")for(Ct in vt)try{wt.push(yt(vt[Ct],St-1))}catch{}return wt.length?wt:Mt=="string"?vt:vt+"\0"}function _t(vt,St){for(var wt=vt+"",Mt,Ct=0;Ct<wt.length;)St[ct&Ct]=ct&(Mt^=St[ct&Ct]*19)+wt.charCodeAt(Ct++);return xt(St)}function pt(){try{var vt=new Uint8Array(nt);return(tt.crypto||tt.msCrypto).getRandomValues(vt),xt(vt)}catch{var St=tt.navigator,wt=St&&St.plugins;return[+new Date,tt,wt,tt.screen,xt(et)]}}function xt(vt){return String.fromCharCode.apply(0,vt)}_t(c.random(),et)}function initialize$2(et){seedRandom([],et)}var propTypes={SHAPE:"shape"};function _typeof$1(et){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_typeof$1(et)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(et){return et.constructor===Array||et.constructor===Float32Array}function isNumerable(et,c){return et==="number"||c instanceof Number||et==="boolean"||et==="string"}function $bm_neg(et){var c=_typeof$1(et);if(c==="number"||et instanceof Number||c==="boolean")return-et;if($bm_isInstanceOfArray(et)){var tt,nt=et.length,rt=[];for(tt=0;tt<nt;tt+=1)rt[tt]=-et[tt];return rt}return et.propType?et.v:-et}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(et,c){var tt=_typeof$1(et),nt=_typeof$1(c);if(isNumerable(tt,et)&&isNumerable(nt,c)||tt==="string"||nt==="string")return et+c;if($bm_isInstanceOfArray(et)&&isNumerable(nt,c))return et=et.slice(0),et[0]+=c,et;if(isNumerable(tt,et)&&$bm_isInstanceOfArray(c))return c=c.slice(0),c[0]=et+c[0],c;if($bm_isInstanceOfArray(et)&&$bm_isInstanceOfArray(c)){for(var rt=0,it=et.length,st=c.length,at=[];rt<it||rt<st;)(typeof et[rt]=="number"||et[rt]instanceof Number)&&(typeof c[rt]=="number"||c[rt]instanceof Number)?at[rt]=et[rt]+c[rt]:at[rt]=c[rt]===void 0?et[rt]:et[rt]||c[rt],rt+=1;return at}return 0}var add=sum;function sub(et,c){var tt=_typeof$1(et),nt=_typeof$1(c);if(isNumerable(tt,et)&&isNumerable(nt,c))return tt==="string"&&(et=parseInt(et,10)),nt==="string"&&(c=parseInt(c,10)),et-c;if($bm_isInstanceOfArray(et)&&isNumerable(nt,c))return et=et.slice(0),et[0]-=c,et;if(isNumerable(tt,et)&&$bm_isInstanceOfArray(c))return c=c.slice(0),c[0]=et-c[0],c;if($bm_isInstanceOfArray(et)&&$bm_isInstanceOfArray(c)){for(var rt=0,it=et.length,st=c.length,at=[];rt<it||rt<st;)(typeof et[rt]=="number"||et[rt]instanceof Number)&&(typeof c[rt]=="number"||c[rt]instanceof Number)?at[rt]=et[rt]-c[rt]:at[rt]=c[rt]===void 0?et[rt]:et[rt]||c[rt],rt+=1;return at}return 0}function mul(et,c){var tt=_typeof$1(et),nt=_typeof$1(c),rt;if(isNumerable(tt,et)&&isNumerable(nt,c))return et*c;var it,st;if($bm_isInstanceOfArray(et)&&isNumerable(nt,c)){for(st=et.length,rt=createTypedArray("float32",st),it=0;it<st;it+=1)rt[it]=et[it]*c;return rt}if(isNumerable(tt,et)&&$bm_isInstanceOfArray(c)){for(st=c.length,rt=createTypedArray("float32",st),it=0;it<st;it+=1)rt[it]=et*c[it];return rt}return 0}function div(et,c){var tt=_typeof$1(et),nt=_typeof$1(c),rt;if(isNumerable(tt,et)&&isNumerable(nt,c))return et/c;var it,st;if($bm_isInstanceOfArray(et)&&isNumerable(nt,c)){for(st=et.length,rt=createTypedArray("float32",st),it=0;it<st;it+=1)rt[it]=et[it]/c;return rt}if(isNumerable(tt,et)&&$bm_isInstanceOfArray(c)){for(st=c.length,rt=createTypedArray("float32",st),it=0;it<st;it+=1)rt[it]=et/c[it];return rt}return 0}function mod(et,c){return typeof et=="string"&&(et=parseInt(et,10)),typeof c=="string"&&(c=parseInt(c,10)),et%c}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(et,c,tt){if(c>tt){var nt=tt;tt=c,c=nt}return Math.min(Math.max(et,c),tt)}function radiansToDegrees(et){return et/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(et){return et*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(et,c){if(typeof et=="number"||et instanceof Number)return c=c||0,Math.abs(et-c);c||(c=helperLengthArray);var tt,nt=Math.min(et.length,c.length),rt=0;for(tt=0;tt<nt;tt+=1)rt+=Math.pow(c[tt]-et[tt],2);return Math.sqrt(rt)}function normalize(et){return div(et,length(et))}function rgbToHsl(et){var c=et[0],tt=et[1],nt=et[2],rt=Math.max(c,tt,nt),it=Math.min(c,tt,nt),st,at,ot=(rt+it)/2;if(rt===it)st=0,at=0;else{var lt=rt-it;switch(at=ot>.5?lt/(2-rt-it):lt/(rt+it),rt){case c:st=(tt-nt)/lt+(tt<nt?6:0);break;case tt:st=(nt-c)/lt+2;break;case nt:st=(c-tt)/lt+4;break}st/=6}return[st,at,ot,et[3]]}function hue2rgb(et,c,tt){return tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?et+(c-et)*6*tt:tt<1/2?c:tt<2/3?et+(c-et)*(2/3-tt)*6:et}function hslToRgb(et){var c=et[0],tt=et[1],nt=et[2],rt,it,st;if(tt===0)rt=nt,st=nt,it=nt;else{var at=nt<.5?nt*(1+tt):nt+tt-nt*tt,ot=2*nt-at;rt=hue2rgb(ot,at,c+1/3),it=hue2rgb(ot,at,c),st=hue2rgb(ot,at,c-1/3)}return[rt,it,st,et[3]]}function linear(et,c,tt,nt,rt){if((nt===void 0||rt===void 0)&&(nt=c,rt=tt,c=0,tt=1),tt<c){var it=tt;tt=c,c=it}if(et<=c)return nt;if(et>=tt)return rt;var st=tt===c?0:(et-c)/(tt-c);if(!nt.length)return nt+(rt-nt)*st;var at,ot=nt.length,lt=createTypedArray("float32",ot);for(at=0;at<ot;at+=1)lt[at]=nt[at]+(rt[at]-nt[at])*st;return lt}function random(et,c){if(c===void 0&&(et===void 0?(et=0,c=1):(c=et,et=void 0)),c.length){var tt,nt=c.length;et||(et=createTypedArray("float32",nt));var rt=createTypedArray("float32",nt),it=BMMath.random();for(tt=0;tt<nt;tt+=1)rt[tt]=et[tt]+it*(c[tt]-et[tt]);return rt}et===void 0&&(et=0);var st=BMMath.random();return et+st*(c-et)}function createPath(et,c,tt,nt){var rt,it=et.length,st=shapePool.newElement();st.setPathData(!!nt,it);var at=[0,0],ot,lt;for(rt=0;rt<it;rt+=1)ot=c&&c[rt]?c[rt]:at,lt=tt&&tt[rt]?tt[rt]:at,st.setTripleAt(et[rt][0],et[rt][1],lt[0]+et[rt][0],lt[1]+et[rt][1],ot[0]+et[rt][0],ot[1]+et[rt][1],rt,!0);return st}function initiateExpression(elem,data,property){function noOp(et){return et}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function et(c,tt){var nt,rt,it=this.pv.length?this.pv.length:1,st=createTypedArray("float32",it);c=5;var at=Math.floor(time*c);for(nt=0,rt=0;nt<at;){for(rt=0;rt<it;rt+=1)st[rt]+=-tt+tt*2*BMMath.random();nt+=1}var ot=time*c,lt=ot-Math.floor(ot),ct=createTypedArray("float32",it);if(it>1){for(rt=0;rt<it;rt+=1)ct[rt]=this.pv[rt]+st[rt]+(-tt+tt*2*BMMath.random())*lt;return ct}return this.pv+st[0]+(-tt+tt*2*BMMath.random())*lt}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(et,c){return loopIn(et,c,!0)}function loopOutDuration(et,c){return loopOut(et,c,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(et,c){var tt=[c[0]-et[0],c[1]-et[1],c[2]-et[2]],nt=Math.atan2(tt[0],Math.sqrt(tt[1]*tt[1]+tt[2]*tt[2]))/degToRads,rt=-Math.atan2(tt[1],tt[2])/degToRads;return[rt,nt,0]}function easeOut(et,c,tt,nt,rt){return applyEase(easeOutBez,et,c,tt,nt,rt)}function easeIn(et,c,tt,nt,rt){return applyEase(easeInBez,et,c,tt,nt,rt)}function ease(et,c,tt,nt,rt){return applyEase(easeInOutBez,et,c,tt,nt,rt)}function applyEase(et,c,tt,nt,rt,it){rt===void 0?(rt=tt,it=nt):c=(c-tt)/(nt-tt),c>1?c=1:c<0&&(c=0);var st=et(c);if($bm_isInstanceOfArray(rt)){var at,ot=rt.length,lt=createTypedArray("float32",ot);for(at=0;at<ot;at+=1)lt[at]=(it[at]-rt[at])*st+rt[at];return lt}return(it-rt)*st+rt}function nearestKey(et){var c,tt=data.k.length,nt,rt;if(!data.k.length||typeof data.k[0]=="number")nt=0,rt=0;else if(nt=-1,et*=elem.comp.globalData.frameRate,et<data.k[0].t)nt=1,rt=data.k[0].t;else{for(c=0;c<tt-1;c+=1)if(et===data.k[c].t){nt=c+1,rt=data.k[c].t;break}else if(et>data.k[c].t&&et<data.k[c+1].t){et-data.k[c].t>data.k[c+1].t-et?(nt=c+2,rt=data.k[c+1].t):(nt=c+1,rt=data.k[c].t);break}nt===-1&&(nt=c+1,rt=data.k[c].t)}var it={};return it.index=nt,it.time=rt/elem.comp.globalData.frameRate,it}function key(et){var c,tt,nt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+et);et-=1,c={time:data.k[et].t/elem.comp.globalData.frameRate,value:[]};var rt=Object.prototype.hasOwnProperty.call(data.k[et],"s")?data.k[et].s:data.k[et-1].e;for(nt=rt.length,tt=0;tt<nt;tt+=1)c[tt]=rt[tt],c.value[tt]=rt[tt];return c}function framesToTime(et,c){return c||(c=elem.comp.globalData.frameRate),et/c}function timeToFrames(et,c){return!et&&et!==0&&(et=time),c||(c=elem.comp.globalData.frameRate),et*c}function seedRandom(et){BMMath.seedrandom(randSeed+et)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(et,c){return typeof value=="string"?c===void 0?value.substring(et):value.substring(et,c):""}function substr(et,c){return typeof value=="string"?c===void 0?value.substr(et):value.substr(et,c):""}function posterizeTime(et){time=et===0?0:Math.floor(time*et)/et,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(et){return value=et,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var et={};et.initExpressions=c,et.resetFrame=ExpressionManager.resetFrame;function c(tt){var nt=0,rt=[];function it(){nt+=1}function st(){nt-=1,nt===0&&ot()}function at(lt){rt.indexOf(lt)===-1&&rt.push(lt)}function ot(){var lt,ct=rt.length;for(lt=0;lt<ct;lt+=1)rt[lt].release();rt.length=0}tt.renderer.compInterface=CompExpressionInterface(tt.renderer),tt.renderer.globalData.projectInterface.registerComposition(tt.renderer),tt.renderer.globalData.pushExpression=it,tt.renderer.globalData.popExpression=st,tt.renderer.globalData.registerExpressionProperty=at}return et}(),MaskManagerInterface=function(){function et(tt,nt){this._mask=tt,this._data=nt}Object.defineProperty(et.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(et.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var c=function(nt){var rt=createSizedArray(nt.viewData.length),it,st=nt.viewData.length;for(it=0;it<st;it+=1)rt[it]=new et(nt.viewData[it],nt.masksProperties[it]);var at=function(lt){for(it=0;it<st;){if(nt.masksProperties[it].nm===lt)return rt[it];it+=1}return null};return at};return c}(),ExpressionPropertyInterface=function(){var et={pv:0,v:0,mult:1},c={pv:[0,0,0],v:[0,0,0],mult:1};function tt(st,at,ot){Object.defineProperty(st,"velocity",{get:function(){return at.getVelocityAtTime(at.comp.currentFrame)}}),st.numKeys=at.keyframes?at.keyframes.length:0,st.key=function(lt){if(!st.numKeys)return 0;var ct="";"s"in at.keyframes[lt-1]?ct=at.keyframes[lt-1].s:"e"in at.keyframes[lt-2]?ct=at.keyframes[lt-2].e:ct=at.keyframes[lt-2].s;var dt=ot==="unidimensional"?new Number(ct):Object.assign({},ct);return dt.time=at.keyframes[lt-1].t/at.elem.comp.globalData.frameRate,dt.value=ot==="unidimensional"?ct[0]:ct,dt},st.valueAtTime=at.getValueAtTime,st.speedAtTime=at.getSpeedAtTime,st.velocityAtTime=at.getVelocityAtTime,st.propertyGroup=at.propertyGroup}function nt(st){(!st||!("pv"in st))&&(st=et);var at=1/st.mult,ot=st.pv*at,lt=new Number(ot);return lt.value=ot,tt(lt,st,"unidimensional"),function(){return st.k&&st.getValue(),ot=st.v*at,lt.value!==ot&&(lt=new Number(ot),lt.value=ot,lt[0]=ot,tt(lt,st,"unidimensional")),lt}}function rt(st){(!st||!("pv"in st))&&(st=c);var at=1/st.mult,ot=st.data&&st.data.l||st.pv.length,lt=createTypedArray("float32",ot),ct=createTypedArray("float32",ot);return lt.value=ct,tt(lt,st,"multidimensional"),function(){st.k&&st.getValue();for(var dt=0;dt<ot;dt+=1)ct[dt]=st.v[dt]*at,lt[dt]=ct[dt];return lt}}function it(){return et}return function(st){return st?st.propType==="unidimensional"?nt(st):rt(st):it}}(),TransformExpressionInterface=function(){return function(et){function c(st){switch(st){case"scale":case"Scale":case"ADBE Scale":case 6:return c.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return c.rotation;case"ADBE Rotate X":return c.xRotation;case"ADBE Rotate Y":return c.yRotation;case"position":case"Position":case"ADBE Position":case 2:return c.position;case"ADBE Position_0":return c.xPosition;case"ADBE Position_1":return c.yPosition;case"ADBE Position_2":return c.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return c.anchorPoint;case"opacity":case"Opacity":case 11:return c.opacity;default:return null}}Object.defineProperty(c,"rotation",{get:ExpressionPropertyInterface(et.r||et.rz)}),Object.defineProperty(c,"zRotation",{get:ExpressionPropertyInterface(et.rz||et.r)}),Object.defineProperty(c,"xRotation",{get:ExpressionPropertyInterface(et.rx)}),Object.defineProperty(c,"yRotation",{get:ExpressionPropertyInterface(et.ry)}),Object.defineProperty(c,"scale",{get:ExpressionPropertyInterface(et.s)});var tt,nt,rt,it;return et.p?it=ExpressionPropertyInterface(et.p):(tt=ExpressionPropertyInterface(et.px),nt=ExpressionPropertyInterface(et.py),et.pz&&(rt=ExpressionPropertyInterface(et.pz))),Object.defineProperty(c,"position",{get:function(){return et.p?it():[tt(),nt(),rt?rt():0]}}),Object.defineProperty(c,"xPosition",{get:ExpressionPropertyInterface(et.px)}),Object.defineProperty(c,"yPosition",{get:ExpressionPropertyInterface(et.py)}),Object.defineProperty(c,"zPosition",{get:ExpressionPropertyInterface(et.pz)}),Object.defineProperty(c,"anchorPoint",{get:ExpressionPropertyInterface(et.a)}),Object.defineProperty(c,"opacity",{get:ExpressionPropertyInterface(et.o)}),Object.defineProperty(c,"skew",{get:ExpressionPropertyInterface(et.sk)}),Object.defineProperty(c,"skewAxis",{get:ExpressionPropertyInterface(et.sa)}),Object.defineProperty(c,"orientation",{get:ExpressionPropertyInterface(et.or)}),c}}(),LayerExpressionInterface=function(){function et(lt){var ct=new Matrix;if(lt!==void 0){var dt=this._elem.finalTransform.mProp.getValueAtTime(lt);dt.clone(ct)}else{var ht=this._elem.finalTransform.mProp;ht.applyToMatrix(ct)}return ct}function c(lt,ct){var dt=this.getMatrix(ct);return dt.props[12]=0,dt.props[13]=0,dt.props[14]=0,this.applyPoint(dt,lt)}function tt(lt,ct){var dt=this.getMatrix(ct);return this.applyPoint(dt,lt)}function nt(lt,ct){var dt=this.getMatrix(ct);return dt.props[12]=0,dt.props[13]=0,dt.props[14]=0,this.invertPoint(dt,lt)}function rt(lt,ct){var dt=this.getMatrix(ct);return this.invertPoint(dt,lt)}function it(lt,ct){if(this._elem.hierarchy&&this._elem.hierarchy.length){var dt,ht=this._elem.hierarchy.length;for(dt=0;dt<ht;dt+=1)this._elem.hierarchy[dt].finalTransform.mProp.applyToMatrix(lt)}return lt.applyToPointArray(ct[0],ct[1],ct[2]||0)}function st(lt,ct){if(this._elem.hierarchy&&this._elem.hierarchy.length){var dt,ht=this._elem.hierarchy.length;for(dt=0;dt<ht;dt+=1)this._elem.hierarchy[dt].finalTransform.mProp.applyToMatrix(lt)}return lt.inversePoint(ct)}function at(lt){var ct=new Matrix;if(ct.reset(),this._elem.finalTransform.mProp.applyToMatrix(ct),this._elem.hierarchy&&this._elem.hierarchy.length){var dt,ht=this._elem.hierarchy.length;for(dt=0;dt<ht;dt+=1)this._elem.hierarchy[dt].finalTransform.mProp.applyToMatrix(ct);return ct.inversePoint(lt)}return ct.inversePoint(lt)}function ot(){return[1,1,1,1]}return function(lt){var ct;function dt(yt){mt.mask=new MaskManagerInterface(yt,lt)}function ht(yt){mt.effect=yt}function mt(yt){switch(yt){case"ADBE Root Vectors Group":case"Contents":case 2:return mt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ct;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return mt.effect;case"ADBE Text Properties":return mt.textInterface;default:return null}}mt.getMatrix=et,mt.invertPoint=st,mt.applyPoint=it,mt.toWorld=tt,mt.toWorldVec=c,mt.fromWorld=rt,mt.fromWorldVec=nt,mt.toComp=tt,mt.fromComp=at,mt.sampleImage=ot,mt.sourceRectAtTime=lt.sourceRectAtTime.bind(lt),mt._elem=lt,ct=TransformExpressionInterface(lt.finalTransform.mProp);var gt=getDescriptor(ct,"anchorPoint");return Object.defineProperties(mt,{hasParent:{get:function(){return lt.hierarchy.length}},parent:{get:function(){return lt.hierarchy[0].layerInterface}},rotation:getDescriptor(ct,"rotation"),scale:getDescriptor(ct,"scale"),position:getDescriptor(ct,"position"),opacity:getDescriptor(ct,"opacity"),anchorPoint:gt,anchor_point:gt,transform:{get:function(){return ct}},active:{get:function(){return lt.isInRange}}}),mt.startTime=lt.data.st,mt.index=lt.data.ind,mt.source=lt.data.refId,mt.height=lt.data.ty===0?lt.data.h:100,mt.width=lt.data.ty===0?lt.data.w:100,mt.inPoint=lt.data.ip/lt.comp.globalData.frameRate,mt.outPoint=lt.data.op/lt.comp.globalData.frameRate,mt._name=lt.data.nm,mt.registerMaskInterface=dt,mt.registerEffectsInterface=ht,mt}}(),propertyGroupFactory=function(){return function(et,c){return function(tt){return tt=tt===void 0?1:tt,tt<=0?et:c(tt-1)}}}(),PropertyInterface=function(){return function(et,c){var tt={_name:et};function nt(rt){return rt=rt===void 0?1:rt,rt<=0?tt:c(rt-1)}return nt}}(),EffectsExpressionInterface=function(){var et={createEffectsInterface:c};function c(rt,it){if(rt.effectsManager){var st=[],at=rt.data.ef,ot,lt=rt.effectsManager.effectElements.length;for(ot=0;ot<lt;ot+=1)st.push(tt(at[ot],rt.effectsManager.effectElements[ot],it,rt));var ct=rt.data.ef||[],dt=function(mt){for(ot=0,lt=ct.length;ot<lt;){if(mt===ct[ot].nm||mt===ct[ot].mn||mt===ct[ot].ix)return st[ot];ot+=1}return null};return Object.defineProperty(dt,"numProperties",{get:function(){return ct.length}}),dt}return null}function tt(rt,it,st,at){function ot(mt){for(var gt=rt.ef,yt=0,_t=gt.length;yt<_t;){if(mt===gt[yt].nm||mt===gt[yt].mn||mt===gt[yt].ix)return gt[yt].ty===5?ct[yt]:ct[yt]();yt+=1}throw new Error}var lt=propertyGroupFactory(ot,st),ct=[],dt,ht=rt.ef.length;for(dt=0;dt<ht;dt+=1)rt.ef[dt].ty===5?ct.push(tt(rt.ef[dt],it.effectElements[dt],it.effectElements[dt].propertyGroup,at)):ct.push(nt(it.effectElements[dt],rt.ef[dt].ty,at,lt));return rt.mn==="ADBE Color Control"&&Object.defineProperty(ot,"color",{get:function(){return ct[0]()}}),Object.defineProperties(ot,{numProperties:{get:function(){return rt.np}},_name:{value:rt.nm},propertyGroup:{value:lt}}),ot.enabled=rt.en!==0,ot.active=ot.enabled,ot}function nt(rt,it,st,at){var ot=ExpressionPropertyInterface(rt.p);function lt(){return it===10?st.comp.compInterface(rt.p.v):ot()}return rt.p.setGroupProperty&&rt.p.setGroupProperty(PropertyInterface("",at)),lt}return et}(),ShapePathInterface=function(){return function(c,tt,nt){var rt=tt.sh;function it(at){return at==="Shape"||at==="shape"||at==="Path"||at==="path"||at==="ADBE Vector Shape"||at===2?it.path:null}var st=propertyGroupFactory(it,nt);return rt.setGroupProperty(PropertyInterface("Path",st)),Object.defineProperties(it,{path:{get:function(){return rt.k&&rt.getValue(),rt}},shape:{get:function(){return rt.k&&rt.getValue(),rt}},_name:{value:c.nm},ix:{value:c.ix},propertyIndex:{value:c.ix},mn:{value:c.mn},propertyGroup:{value:nt}}),it}}(),ShapeExpressionInterface=function(){function et(gt,yt,_t){var pt=[],xt,vt=gt?gt.length:0;for(xt=0;xt<vt;xt+=1)gt[xt].ty==="gr"?pt.push(tt(gt[xt],yt[xt],_t)):gt[xt].ty==="fl"?pt.push(nt(gt[xt],yt[xt],_t)):gt[xt].ty==="st"?pt.push(st(gt[xt],yt[xt],_t)):gt[xt].ty==="tm"?pt.push(at(gt[xt],yt[xt],_t)):gt[xt].ty==="tr"||(gt[xt].ty==="el"?pt.push(lt(gt[xt],yt[xt],_t)):gt[xt].ty==="sr"?pt.push(ct(gt[xt],yt[xt],_t)):gt[xt].ty==="sh"?pt.push(ShapePathInterface(gt[xt],yt[xt],_t)):gt[xt].ty==="rc"?pt.push(dt(gt[xt],yt[xt],_t)):gt[xt].ty==="rd"?pt.push(ht(gt[xt],yt[xt],_t)):gt[xt].ty==="rp"?pt.push(mt(gt[xt],yt[xt],_t)):gt[xt].ty==="gf"?pt.push(rt(gt[xt],yt[xt],_t)):pt.push(it(gt[xt],yt[xt])));return pt}function c(gt,yt,_t){var pt,xt=function(wt){for(var Mt=0,Ct=pt.length;Mt<Ct;){if(pt[Mt]._name===wt||pt[Mt].mn===wt||pt[Mt].propertyIndex===wt||pt[Mt].ix===wt||pt[Mt].ind===wt)return pt[Mt];Mt+=1}return typeof wt=="number"?pt[wt-1]:null};xt.propertyGroup=propertyGroupFactory(xt,_t),pt=et(gt.it,yt.it,xt.propertyGroup),xt.numProperties=pt.length;var vt=ot(gt.it[gt.it.length-1],yt.it[yt.it.length-1],xt.propertyGroup);return xt.transform=vt,xt.propertyIndex=gt.cix,xt._name=gt.nm,xt}function tt(gt,yt,_t){var pt=function(wt){switch(wt){case"ADBE Vectors Group":case"Contents":case 2:return pt.content;default:return pt.transform}};pt.propertyGroup=propertyGroupFactory(pt,_t);var xt=c(gt,yt,pt.propertyGroup),vt=ot(gt.it[gt.it.length-1],yt.it[yt.it.length-1],pt.propertyGroup);return pt.content=xt,pt.transform=vt,Object.defineProperty(pt,"_name",{get:function(){return gt.nm}}),pt.numProperties=gt.np,pt.propertyIndex=gt.ix,pt.nm=gt.nm,pt.mn=gt.mn,pt}function nt(gt,yt,_t){function pt(xt){return xt==="Color"||xt==="color"?pt.color:xt==="Opacity"||xt==="opacity"?pt.opacity:null}return Object.defineProperties(pt,{color:{get:ExpressionPropertyInterface(yt.c)},opacity:{get:ExpressionPropertyInterface(yt.o)},_name:{value:gt.nm},mn:{value:gt.mn}}),yt.c.setGroupProperty(PropertyInterface("Color",_t)),yt.o.setGroupProperty(PropertyInterface("Opacity",_t)),pt}function rt(gt,yt,_t){function pt(xt){return xt==="Start Point"||xt==="start point"?pt.startPoint:xt==="End Point"||xt==="end point"?pt.endPoint:xt==="Opacity"||xt==="opacity"?pt.opacity:null}return Object.defineProperties(pt,{startPoint:{get:ExpressionPropertyInterface(yt.s)},endPoint:{get:ExpressionPropertyInterface(yt.e)},opacity:{get:ExpressionPropertyInterface(yt.o)},type:{get:function(){return"a"}},_name:{value:gt.nm},mn:{value:gt.mn}}),yt.s.setGroupProperty(PropertyInterface("Start Point",_t)),yt.e.setGroupProperty(PropertyInterface("End Point",_t)),yt.o.setGroupProperty(PropertyInterface("Opacity",_t)),pt}function it(){function gt(){return null}return gt}function st(gt,yt,_t){var pt=propertyGroupFactory(Ct,_t),xt=propertyGroupFactory(Mt,pt);function vt(Rt){Object.defineProperty(Mt,gt.d[Rt].nm,{get:ExpressionPropertyInterface(yt.d.dataProps[Rt].p)})}var St,wt=gt.d?gt.d.length:0,Mt={};for(St=0;St<wt;St+=1)vt(St),yt.d.dataProps[St].p.setGroupProperty(xt);function Ct(Rt){return Rt==="Color"||Rt==="color"?Ct.color:Rt==="Opacity"||Rt==="opacity"?Ct.opacity:Rt==="Stroke Width"||Rt==="stroke width"?Ct.strokeWidth:null}return Object.defineProperties(Ct,{color:{get:ExpressionPropertyInterface(yt.c)},opacity:{get:ExpressionPropertyInterface(yt.o)},strokeWidth:{get:ExpressionPropertyInterface(yt.w)},dash:{get:function(){return Mt}},_name:{value:gt.nm},mn:{value:gt.mn}}),yt.c.setGroupProperty(PropertyInterface("Color",pt)),yt.o.setGroupProperty(PropertyInterface("Opacity",pt)),yt.w.setGroupProperty(PropertyInterface("Stroke Width",pt)),Ct}function at(gt,yt,_t){function pt(vt){return vt===gt.e.ix||vt==="End"||vt==="end"?pt.end:vt===gt.s.ix?pt.start:vt===gt.o.ix?pt.offset:null}var xt=propertyGroupFactory(pt,_t);return pt.propertyIndex=gt.ix,yt.s.setGroupProperty(PropertyInterface("Start",xt)),yt.e.setGroupProperty(PropertyInterface("End",xt)),yt.o.setGroupProperty(PropertyInterface("Offset",xt)),pt.propertyIndex=gt.ix,pt.propertyGroup=_t,Object.defineProperties(pt,{start:{get:ExpressionPropertyInterface(yt.s)},end:{get:ExpressionPropertyInterface(yt.e)},offset:{get:ExpressionPropertyInterface(yt.o)},_name:{value:gt.nm}}),pt.mn=gt.mn,pt}function ot(gt,yt,_t){function pt(vt){return gt.a.ix===vt||vt==="Anchor Point"?pt.anchorPoint:gt.o.ix===vt||vt==="Opacity"?pt.opacity:gt.p.ix===vt||vt==="Position"?pt.position:gt.r.ix===vt||vt==="Rotation"||vt==="ADBE Vector Rotation"?pt.rotation:gt.s.ix===vt||vt==="Scale"?pt.scale:gt.sk&&gt.sk.ix===vt||vt==="Skew"?pt.skew:gt.sa&&gt.sa.ix===vt||vt==="Skew Axis"?pt.skewAxis:null}var xt=propertyGroupFactory(pt,_t);return yt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",xt)),yt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",xt)),yt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",xt)),yt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",xt)),yt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",xt)),yt.transform.mProps.sk&&(yt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",xt)),yt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",xt))),yt.transform.op.setGroupProperty(PropertyInterface("Opacity",xt)),Object.defineProperties(pt,{opacity:{get:ExpressionPropertyInterface(yt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(yt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(yt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(yt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(yt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(yt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(yt.transform.mProps.sa)},_name:{value:gt.nm}}),pt.ty="tr",pt.mn=gt.mn,pt.propertyGroup=_t,pt}function lt(gt,yt,_t){function pt(St){return gt.p.ix===St?pt.position:gt.s.ix===St?pt.size:null}var xt=propertyGroupFactory(pt,_t);pt.propertyIndex=gt.ix;var vt=yt.sh.ty==="tm"?yt.sh.prop:yt.sh;return vt.s.setGroupProperty(PropertyInterface("Size",xt)),vt.p.setGroupProperty(PropertyInterface("Position",xt)),Object.defineProperties(pt,{size:{get:ExpressionPropertyInterface(vt.s)},position:{get:ExpressionPropertyInterface(vt.p)},_name:{value:gt.nm}}),pt.mn=gt.mn,pt}function ct(gt,yt,_t){function pt(St){return gt.p.ix===St?pt.position:gt.r.ix===St?pt.rotation:gt.pt.ix===St?pt.points:gt.or.ix===St||St==="ADBE Vector Star Outer Radius"?pt.outerRadius:gt.os.ix===St?pt.outerRoundness:gt.ir&&(gt.ir.ix===St||St==="ADBE Vector Star Inner Radius")?pt.innerRadius:gt.is&&gt.is.ix===St?pt.innerRoundness:null}var xt=propertyGroupFactory(pt,_t),vt=yt.sh.ty==="tm"?yt.sh.prop:yt.sh;return pt.propertyIndex=gt.ix,vt.or.setGroupProperty(PropertyInterface("Outer Radius",xt)),vt.os.setGroupProperty(PropertyInterface("Outer Roundness",xt)),vt.pt.setGroupProperty(PropertyInterface("Points",xt)),vt.p.setGroupProperty(PropertyInterface("Position",xt)),vt.r.setGroupProperty(PropertyInterface("Rotation",xt)),gt.ir&&(vt.ir.setGroupProperty(PropertyInterface("Inner Radius",xt)),vt.is.setGroupProperty(PropertyInterface("Inner Roundness",xt))),Object.defineProperties(pt,{position:{get:ExpressionPropertyInterface(vt.p)},rotation:{get:ExpressionPropertyInterface(vt.r)},points:{get:ExpressionPropertyInterface(vt.pt)},outerRadius:{get:ExpressionPropertyInterface(vt.or)},outerRoundness:{get:ExpressionPropertyInterface(vt.os)},innerRadius:{get:ExpressionPropertyInterface(vt.ir)},innerRoundness:{get:ExpressionPropertyInterface(vt.is)},_name:{value:gt.nm}}),pt.mn=gt.mn,pt}function dt(gt,yt,_t){function pt(St){return gt.p.ix===St?pt.position:gt.r.ix===St?pt.roundness:gt.s.ix===St||St==="Size"||St==="ADBE Vector Rect Size"?pt.size:null}var xt=propertyGroupFactory(pt,_t),vt=yt.sh.ty==="tm"?yt.sh.prop:yt.sh;return pt.propertyIndex=gt.ix,vt.p.setGroupProperty(PropertyInterface("Position",xt)),vt.s.setGroupProperty(PropertyInterface("Size",xt)),vt.r.setGroupProperty(PropertyInterface("Rotation",xt)),Object.defineProperties(pt,{position:{get:ExpressionPropertyInterface(vt.p)},roundness:{get:ExpressionPropertyInterface(vt.r)},size:{get:ExpressionPropertyInterface(vt.s)},_name:{value:gt.nm}}),pt.mn=gt.mn,pt}function ht(gt,yt,_t){function pt(St){return gt.r.ix===St||St==="Round Corners 1"?pt.radius:null}var xt=propertyGroupFactory(pt,_t),vt=yt;return pt.propertyIndex=gt.ix,vt.rd.setGroupProperty(PropertyInterface("Radius",xt)),Object.defineProperties(pt,{radius:{get:ExpressionPropertyInterface(vt.rd)},_name:{value:gt.nm}}),pt.mn=gt.mn,pt}function mt(gt,yt,_t){function pt(St){return gt.c.ix===St||St==="Copies"?pt.copies:gt.o.ix===St||St==="Offset"?pt.offset:null}var xt=propertyGroupFactory(pt,_t),vt=yt;return pt.propertyIndex=gt.ix,vt.c.setGroupProperty(PropertyInterface("Copies",xt)),vt.o.setGroupProperty(PropertyInterface("Offset",xt)),Object.defineProperties(pt,{copies:{get:ExpressionPropertyInterface(vt.c)},offset:{get:ExpressionPropertyInterface(vt.o)},_name:{value:gt.nm}}),pt.mn=gt.mn,pt}return function(gt,yt,_t){var pt;function xt(St){if(typeof St=="number")return St=St===void 0?1:St,St===0?_t:pt[St-1];for(var wt=0,Mt=pt.length;wt<Mt;){if(pt[wt]._name===St)return pt[wt];wt+=1}return null}function vt(){return _t}return xt.propertyGroup=propertyGroupFactory(xt,vt),pt=et(gt,yt,xt.propertyGroup),xt.numProperties=pt.length,xt._name="Contents",xt}}(),TextExpressionInterface=function(){return function(et){var c;function tt(nt){switch(nt){case"ADBE Text Document":return tt.sourceText;default:return null}}return Object.defineProperty(tt,"sourceText",{get:function(){et.textProperty.getValue();var rt=et.textProperty.currentData.t;return(!c||rt!==c.value)&&(c=new String(rt),c.value=rt||new String(rt),Object.defineProperty(c,"style",{get:function(){return{fillColor:et.textProperty.currentData.fc}}})),c}}),tt}}();function _typeof(et){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_typeof(et)}var FootageInterface=function(){var et=function(nt){var rt="",it=nt.getFootageData();function st(){return rt="",it=nt.getFootageData(),at}function at(ot){if(it[ot])return rt=ot,it=it[ot],_typeof(it)==="object"?at:it;var lt=ot.indexOf(rt);if(lt!==-1){var ct=parseInt(ot.substr(lt+rt.length),10);return it=it[ct],_typeof(it)==="object"?at:it}return""}return st},c=function(nt){function rt(it){return it==="Outline"?rt.outlineInterface():null}return rt._name="Outline",rt.outlineInterface=et(nt),rt};return function(tt){function nt(rt){return rt==="Data"?nt.dataInterface:null}return nt._name="Data",nt.dataInterface=c(tt),nt}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(et){return interfaces[et]||null}var expressionHelpers=function(){function et(st,at,ot){at.x&&(ot.k=!0,ot.x=!0,ot.initiateExpression=ExpressionManager.initiateExpression,ot.effectsSequence.push(ot.initiateExpression(st,at,ot).bind(ot)))}function c(st){return st*=this.elem.globalData.frameRate,st-=this.offsetTime,st!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<st?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(st,this._cachingAtTime),this._cachingAtTime.lastFrame=st),this._cachingAtTime.value}function tt(st){var at=-.01,ot=this.getValueAtTime(st),lt=this.getValueAtTime(st+at),ct=0;if(ot.length){var dt;for(dt=0;dt<ot.length;dt+=1)ct+=Math.pow(lt[dt]-ot[dt],2);ct=Math.sqrt(ct)*100}else ct=0;return ct}function nt(st){if(this.vel!==void 0)return this.vel;var at=-.001,ot=this.getValueAtTime(st),lt=this.getValueAtTime(st+at),ct;if(ot.length){ct=createTypedArray("float32",ot.length);var dt;for(dt=0;dt<ot.length;dt+=1)ct[dt]=(lt[dt]-ot[dt])/at}else ct=(lt-ot)/at;return ct}function rt(){return this.pv}function it(st){this.propertyGroup=st}return{searchExpressions:et,getSpeedAtTime:tt,getVelocityAtTime:nt,getValueAtTime:c,getStaticValueAtTime:rt,setGroupProperty:it}}();function addPropertyDecorator(){function et(ht,mt,gt){if(!this.k||!this.keyframes)return this.pv;ht=ht?ht.toLowerCase():"";var yt=this.comp.renderedFrame,_t=this.keyframes,pt=_t[_t.length-1].t;if(yt<=pt)return this.pv;var xt,vt;gt?(mt?xt=Math.abs(pt-this.elem.comp.globalData.frameRate*mt):xt=Math.max(0,pt-this.elem.data.ip),vt=pt-xt):((!mt||mt>_t.length-1)&&(mt=_t.length-1),vt=_t[_t.length-1-mt].t,xt=pt-vt);var St,wt,Mt;if(ht==="pingpong"){var Ct=Math.floor((yt-vt)/xt);if(Ct%2!==0)return this.getValueAtTime((xt-(yt-vt)%xt+vt)/this.comp.globalData.frameRate,0)}else if(ht==="offset"){var Rt=this.getValueAtTime(vt/this.comp.globalData.frameRate,0),Lt=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),It=this.getValueAtTime(((yt-vt)%xt+vt)/this.comp.globalData.frameRate,0),Nt=Math.floor((yt-vt)/xt);if(this.pv.length){for(Mt=new Array(Rt.length),wt=Mt.length,St=0;St<wt;St+=1)Mt[St]=(Lt[St]-Rt[St])*Nt+It[St];return Mt}return(Lt-Rt)*Nt+It}else if(ht==="continue"){var zt=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),Wt=this.getValueAtTime((pt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Mt=new Array(zt.length),wt=Mt.length,St=0;St<wt;St+=1)Mt[St]=zt[St]+(zt[St]-Wt[St])*((yt-pt)/this.comp.globalData.frameRate)/5e-4;return Mt}return zt+(zt-Wt)*((yt-pt)/.001)}return this.getValueAtTime(((yt-vt)%xt+vt)/this.comp.globalData.frameRate,0)}function c(ht,mt,gt){if(!this.k)return this.pv;ht=ht?ht.toLowerCase():"";var yt=this.comp.renderedFrame,_t=this.keyframes,pt=_t[0].t;if(yt>=pt)return this.pv;var xt,vt;gt?(mt?xt=Math.abs(this.elem.comp.globalData.frameRate*mt):xt=Math.max(0,this.elem.data.op-pt),vt=pt+xt):((!mt||mt>_t.length-1)&&(mt=_t.length-1),vt=_t[mt].t,xt=vt-pt);var St,wt,Mt;if(ht==="pingpong"){var Ct=Math.floor((pt-yt)/xt);if(Ct%2===0)return this.getValueAtTime(((pt-yt)%xt+pt)/this.comp.globalData.frameRate,0)}else if(ht==="offset"){var Rt=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),Lt=this.getValueAtTime(vt/this.comp.globalData.frameRate,0),It=this.getValueAtTime((xt-(pt-yt)%xt+pt)/this.comp.globalData.frameRate,0),Nt=Math.floor((pt-yt)/xt)+1;if(this.pv.length){for(Mt=new Array(Rt.length),wt=Mt.length,St=0;St<wt;St+=1)Mt[St]=It[St]-(Lt[St]-Rt[St])*Nt;return Mt}return It-(Lt-Rt)*Nt}else if(ht==="continue"){var zt=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),Wt=this.getValueAtTime((pt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Mt=new Array(zt.length),wt=Mt.length,St=0;St<wt;St+=1)Mt[St]=zt[St]+(zt[St]-Wt[St])*(pt-yt)/.001;return Mt}return zt+(zt-Wt)*(pt-yt)/.001}return this.getValueAtTime((xt-((pt-yt)%xt+pt))/this.comp.globalData.frameRate,0)}function tt(ht,mt){if(!this.k)return this.pv;if(ht=(ht||.4)*.5,mt=Math.floor(mt||5),mt<=1)return this.pv;var gt=this.comp.renderedFrame/this.comp.globalData.frameRate,yt=gt-ht,_t=gt+ht,pt=mt>1?(_t-yt)/(mt-1):1,xt=0,vt=0,St;this.pv.length?St=createTypedArray("float32",this.pv.length):St=0;for(var wt;xt<mt;){if(wt=this.getValueAtTime(yt+xt*pt),this.pv.length)for(vt=0;vt<this.pv.length;vt+=1)St[vt]+=wt[vt];else St+=wt;xt+=1}if(this.pv.length)for(vt=0;vt<this.pv.length;vt+=1)St[vt]/=mt;else St/=mt;return St}function nt(ht){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var mt=this._transformCachingAtTime.v;if(mt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var gt=this.a.getValueAtTime(ht);mt.translate(-gt[0]*this.a.mult,-gt[1]*this.a.mult,gt[2]*this.a.mult)}if(this.appliedTransformations<2){var yt=this.s.getValueAtTime(ht);mt.scale(yt[0]*this.s.mult,yt[1]*this.s.mult,yt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var _t=this.sk.getValueAtTime(ht),pt=this.sa.getValueAtTime(ht);mt.skewFromAxis(-_t*this.sk.mult,pt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var xt=this.r.getValueAtTime(ht);mt.rotate(-xt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var vt=this.rz.getValueAtTime(ht),St=this.ry.getValueAtTime(ht),wt=this.rx.getValueAtTime(ht),Mt=this.or.getValueAtTime(ht);mt.rotateZ(-vt*this.rz.mult).rotateY(St*this.ry.mult).rotateX(wt*this.rx.mult).rotateZ(-Mt[2]*this.or.mult).rotateY(Mt[1]*this.or.mult).rotateX(Mt[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Ct=this.px.getValueAtTime(ht),Rt=this.py.getValueAtTime(ht);if(this.data.p.z){var Lt=this.pz.getValueAtTime(ht);mt.translate(Ct*this.px.mult,Rt*this.py.mult,-Lt*this.pz.mult)}else mt.translate(Ct*this.px.mult,Rt*this.py.mult,0)}else{var It=this.p.getValueAtTime(ht);mt.translate(It[0]*this.p.mult,It[1]*this.p.mult,-It[2]*this.p.mult)}return mt}function rt(){return this.v.clone(new Matrix)}var it=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ht,mt,gt){var yt=it(ht,mt,gt);return yt.dynamicProperties.length?yt.getValueAtTime=nt.bind(yt):yt.getValueAtTime=rt.bind(yt),yt.setGroupProperty=expressionHelpers.setGroupProperty,yt};var st=PropertyFactory.getProp;PropertyFactory.getProp=function(ht,mt,gt,yt,_t){var pt=st(ht,mt,gt,yt,_t);pt.kf?pt.getValueAtTime=expressionHelpers.getValueAtTime.bind(pt):pt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(pt),pt.setGroupProperty=expressionHelpers.setGroupProperty,pt.loopOut=et,pt.loopIn=c,pt.smooth=tt,pt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(pt),pt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(pt),pt.numKeys=mt.a===1?mt.k.length:0,pt.propertyIndex=mt.ix;var xt=0;return gt!==0&&(xt=createTypedArray("float32",mt.a===1?mt.k[0].s.length:mt.k.length)),pt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:xt},expressionHelpers.searchExpressions(ht,mt,pt),pt.k&&_t.addDynamicProperty(pt),pt};function at(ht){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ht*=this.elem.globalData.frameRate,ht-=this.offsetTime,ht!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ht?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ht,this.interpolateShape(ht,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var ot=ShapePropertyFactory.getConstructorFunction(),lt=ShapePropertyFactory.getKeyframedConstructorFunction();function ct(){}ct.prototype={vertices:function(mt,gt){this.k&&this.getValue();var yt=this.v;gt!==void 0&&(yt=this.getValueAtTime(gt,0));var _t,pt=yt._length,xt=yt[mt],vt=yt.v,St=createSizedArray(pt);for(_t=0;_t<pt;_t+=1)mt==="i"||mt==="o"?St[_t]=[xt[_t][0]-vt[_t][0],xt[_t][1]-vt[_t][1]]:St[_t]=[xt[_t][0],xt[_t][1]];return St},points:function(mt){return this.vertices("v",mt)},inTangents:function(mt){return this.vertices("i",mt)},outTangents:function(mt){return this.vertices("o",mt)},isClosed:function(){return this.v.c},pointOnPath:function(mt,gt){var yt=this.v;gt!==void 0&&(yt=this.getValueAtTime(gt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(yt));for(var _t=this._segmentsLength,pt=_t.lengths,xt=_t.totalLength*mt,vt=0,St=pt.length,wt=0,Mt;vt<St;){if(wt+pt[vt].addedLength>xt){var Ct=vt,Rt=yt.c&&vt===St-1?0:vt+1,Lt=(xt-wt)/pt[vt].addedLength;Mt=bez.getPointInSegment(yt.v[Ct],yt.v[Rt],yt.o[Ct],yt.i[Rt],Lt,pt[vt]);break}else wt+=pt[vt].addedLength;vt+=1}return Mt||(Mt=yt.c?[yt.v[0][0],yt.v[0][1]]:[yt.v[yt._length-1][0],yt.v[yt._length-1][1]]),Mt},vectorOnPath:function(mt,gt,yt){mt==1?mt=this.v.c:mt==0&&(mt=.999);var _t=this.pointOnPath(mt,gt),pt=this.pointOnPath(mt+.001,gt),xt=pt[0]-_t[0],vt=pt[1]-_t[1],St=Math.sqrt(Math.pow(xt,2)+Math.pow(vt,2));if(St===0)return[0,0];var wt=yt==="tangent"?[xt/St,vt/St]:[-vt/St,xt/St];return wt},tangentOnPath:function(mt,gt){return this.vectorOnPath(mt,gt,"tangent")},normalOnPath:function(mt,gt){return this.vectorOnPath(mt,gt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ct],ot),extendPrototype([ct],lt),lt.prototype.getValueAtTime=at,lt.prototype.initiateExpression=ExpressionManager.initiateExpression;var dt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ht,mt,gt,yt,_t){var pt=dt(ht,mt,gt,yt,_t);return pt.propertyIndex=mt.ix,pt.lock=!1,gt===3?expressionHelpers.searchExpressions(ht,mt.pt,pt):gt===4&&expressionHelpers.searchExpressions(ht,mt.ks,pt),pt.k&&ht.addDynamicProperty(pt),pt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function et(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(c,tt){var nt=this.calculateExpression(tt);if(c.t!==nt){var rt={};return this.copyData(rt,c),rt.t=nt.toString(),rt.__complete=!1,rt}return c},TextProperty.prototype.searchProperty=function(){var c=this.searchKeyframes(),tt=this.searchExpressions();return this.kf=c||tt,this.kf},TextProperty.prototype.searchExpressions=et}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function et(c,tt){var nt=createNS("feMerge");nt.setAttribute("result",c);var rt,it;for(it=0;it<tt.length;it+=1)rt=createNS("feMergeNode"),rt.setAttribute("in",tt[it]),nt.appendChild(rt),nt.appendChild(rt);return nt}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(et,c,tt,nt,rt){this.filterManager=c;var it=createNS("feColorMatrix");it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","linearRGB"),it.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=it,it.setAttribute("result",nt+"_tint_1"),et.appendChild(it),it=createNS("feColorMatrix"),it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),it.setAttribute("result",nt+"_tint_2"),et.appendChild(it),this.matrixFilter=it;var st=this.createMergeNode(nt,[rt,nt+"_tint_1",nt+"_tint_2"]);et.appendChild(st)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var c=this.filterManager.effectElements[0].p.v,tt=this.filterManager.effectElements[1].p.v,nt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+nt+" 0"),this.matrixFilter.setAttribute("values",tt[0]-c[0]+" 0 0 0 "+c[0]+" "+(tt[1]-c[1])+" 0 0 0 "+c[1]+" "+(tt[2]-c[2])+" 0 0 0 "+c[2]+" 0 0 0 1 0")}};function SVGFillFilter(et,c,tt,nt){this.filterManager=c;var rt=createNS("feColorMatrix");rt.setAttribute("type","matrix"),rt.setAttribute("color-interpolation-filters","sRGB"),rt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),rt.setAttribute("result",nt),et.appendChild(rt),this.matrixFilter=rt}SVGFillFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var c=this.filterManager.effectElements[2].p.v,tt=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+c[0]+" 0 0 0 0 "+c[1]+" 0 0 0 0 "+c[2]+" 0 0 0 "+tt+" 0")}};function SVGStrokeEffect(et,c,tt){this.initialized=!1,this.filterManager=c,this.elem=tt,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var et=this.elem.layerElement.children||this.elem.layerElement.childNodes,c,tt,nt,rt;for(this.filterManager.effectElements[1].p.v===1?(rt=this.elem.maskManager.masksProperties.length,nt=0):(nt=this.filterManager.effectElements[0].p.v-1,rt=nt+1),tt=createNS("g"),tt.setAttribute("fill","none"),tt.setAttribute("stroke-linecap","round"),tt.setAttribute("stroke-dashoffset",1),nt;nt<rt;nt+=1)c=createNS("path"),tt.appendChild(c),this.paths.push({p:c,m:nt});if(this.filterManager.effectElements[10].p.v===3){var it=createNS("mask"),st=createElementID();it.setAttribute("id",st),it.setAttribute("mask-type","alpha"),it.appendChild(tt),this.elem.globalData.defs.appendChild(it);var at=createNS("g");for(at.setAttribute("mask","url("+getLocationHref()+"#"+st+")");et[0];)at.appendChild(et[0]);this.elem.layerElement.appendChild(at),this.masker=it,tt.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(et=this.elem.layerElement.children||this.elem.layerElement.childNodes;et.length;)this.elem.layerElement.removeChild(et[0]);this.elem.layerElement.appendChild(tt),this.elem.layerElement.removeAttribute("mask"),tt.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=tt},SVGStrokeEffect.prototype.renderFrame=function(et){this.initialized||this.initialize();var c,tt=this.paths.length,nt,rt;for(c=0;c<tt;c+=1)if(this.paths[c].m!==-1&&(nt=this.elem.maskManager.viewData[this.paths[c].m],rt=this.paths[c].p,(et||this.filterManager._mdf||nt.prop._mdf)&&rt.setAttribute("d",nt.lastPath),et||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||nt.prop._mdf)){var it;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var st=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,at=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ot=rt.getTotalLength();it="0 0 0 "+ot*st+" ";var lt=ot*(at-st),ct=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,dt=Math.floor(lt/ct),ht;for(ht=0;ht<dt;ht+=1)it+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";it+="0 "+ot*10+" 0 0"}else it="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;rt.setAttribute("stroke-dasharray",it)}if((et||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(et||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(et||this.filterManager.effectElements[3].p._mdf)){var mt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(mt[0]*255)+","+bmFloor(mt[1]*255)+","+bmFloor(mt[2]*255)+")")}};function SVGTritoneFilter(et,c,tt,nt){this.filterManager=c;var rt=createNS("feColorMatrix");rt.setAttribute("type","matrix"),rt.setAttribute("color-interpolation-filters","linearRGB"),rt.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),et.appendChild(rt);var it=createNS("feComponentTransfer");it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("result",nt),this.matrixFilter=it;var st=createNS("feFuncR");st.setAttribute("type","table"),it.appendChild(st),this.feFuncR=st;var at=createNS("feFuncG");at.setAttribute("type","table"),it.appendChild(at),this.feFuncG=at;var ot=createNS("feFuncB");ot.setAttribute("type","table"),it.appendChild(ot),this.feFuncB=ot,et.appendChild(it)}SVGTritoneFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var c=this.filterManager.effectElements[0].p.v,tt=this.filterManager.effectElements[1].p.v,nt=this.filterManager.effectElements[2].p.v,rt=nt[0]+" "+tt[0]+" "+c[0],it=nt[1]+" "+tt[1]+" "+c[1],st=nt[2]+" "+tt[2]+" "+c[2];this.feFuncR.setAttribute("tableValues",rt),this.feFuncG.setAttribute("tableValues",it),this.feFuncB.setAttribute("tableValues",st)}};function SVGProLevelsFilter(et,c,tt,nt){this.filterManager=c;var rt=this.filterManager.effectElements,it=createNS("feComponentTransfer");(rt[10].p.k||rt[10].p.v!==0||rt[11].p.k||rt[11].p.v!==1||rt[12].p.k||rt[12].p.v!==1||rt[13].p.k||rt[13].p.v!==0||rt[14].p.k||rt[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",it)),(rt[17].p.k||rt[17].p.v!==0||rt[18].p.k||rt[18].p.v!==1||rt[19].p.k||rt[19].p.v!==1||rt[20].p.k||rt[20].p.v!==0||rt[21].p.k||rt[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",it)),(rt[24].p.k||rt[24].p.v!==0||rt[25].p.k||rt[25].p.v!==1||rt[26].p.k||rt[26].p.v!==1||rt[27].p.k||rt[27].p.v!==0||rt[28].p.k||rt[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",it)),(rt[31].p.k||rt[31].p.v!==0||rt[32].p.k||rt[32].p.v!==1||rt[33].p.k||rt[33].p.v!==1||rt[34].p.k||rt[34].p.v!==0||rt[35].p.k||rt[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",it)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(it.setAttribute("color-interpolation-filters","sRGB"),et.appendChild(it)),(rt[3].p.k||rt[3].p.v!==0||rt[4].p.k||rt[4].p.v!==1||rt[5].p.k||rt[5].p.v!==1||rt[6].p.k||rt[6].p.v!==0||rt[7].p.k||rt[7].p.v!==1)&&(it=createNS("feComponentTransfer"),it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("result",nt),et.appendChild(it),this.feFuncRComposed=this.createFeFunc("feFuncR",it),this.feFuncGComposed=this.createFeFunc("feFuncG",it),this.feFuncBComposed=this.createFeFunc("feFuncB",it))}SVGProLevelsFilter.prototype.createFeFunc=function(et,c){var tt=createNS(et);return tt.setAttribute("type","table"),c.appendChild(tt),tt},SVGProLevelsFilter.prototype.getTableValue=function(et,c,tt,nt,rt){for(var it=0,st=256,at,ot=Math.min(et,c),lt=Math.max(et,c),ct=Array.call(null,{length:st}),dt,ht=0,mt=rt-nt,gt=c-et;it<=256;)at=it/256,at<=ot?dt=gt<0?rt:nt:at>=lt?dt=gt<0?nt:rt:dt=nt+mt*Math.pow((at-et)/gt,1/tt),ct[ht]=dt,ht+=1,it+=256/(st-1);return ct.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var c,tt=this.filterManager.effectElements;this.feFuncRComposed&&(et||tt[3].p._mdf||tt[4].p._mdf||tt[5].p._mdf||tt[6].p._mdf||tt[7].p._mdf)&&(c=this.getTableValue(tt[3].p.v,tt[4].p.v,tt[5].p.v,tt[6].p.v,tt[7].p.v),this.feFuncRComposed.setAttribute("tableValues",c),this.feFuncGComposed.setAttribute("tableValues",c),this.feFuncBComposed.setAttribute("tableValues",c)),this.feFuncR&&(et||tt[10].p._mdf||tt[11].p._mdf||tt[12].p._mdf||tt[13].p._mdf||tt[14].p._mdf)&&(c=this.getTableValue(tt[10].p.v,tt[11].p.v,tt[12].p.v,tt[13].p.v,tt[14].p.v),this.feFuncR.setAttribute("tableValues",c)),this.feFuncG&&(et||tt[17].p._mdf||tt[18].p._mdf||tt[19].p._mdf||tt[20].p._mdf||tt[21].p._mdf)&&(c=this.getTableValue(tt[17].p.v,tt[18].p.v,tt[19].p.v,tt[20].p.v,tt[21].p.v),this.feFuncG.setAttribute("tableValues",c)),this.feFuncB&&(et||tt[24].p._mdf||tt[25].p._mdf||tt[26].p._mdf||tt[27].p._mdf||tt[28].p._mdf)&&(c=this.getTableValue(tt[24].p.v,tt[25].p.v,tt[26].p.v,tt[27].p.v,tt[28].p.v),this.feFuncB.setAttribute("tableValues",c)),this.feFuncA&&(et||tt[31].p._mdf||tt[32].p._mdf||tt[33].p._mdf||tt[34].p._mdf||tt[35].p._mdf)&&(c=this.getTableValue(tt[31].p.v,tt[32].p.v,tt[33].p.v,tt[34].p.v,tt[35].p.v),this.feFuncA.setAttribute("tableValues",c))}};function SVGDropShadowEffect(et,c,tt,nt,rt){var it=c.container.globalData.renderConfig.filterSize,st=c.data.fs||it;et.setAttribute("x",st.x||it.x),et.setAttribute("y",st.y||it.y),et.setAttribute("width",st.width||it.width),et.setAttribute("height",st.height||it.height),this.filterManager=c;var at=createNS("feGaussianBlur");at.setAttribute("in","SourceAlpha"),at.setAttribute("result",nt+"_drop_shadow_1"),at.setAttribute("stdDeviation","0"),this.feGaussianBlur=at,et.appendChild(at);var ot=createNS("feOffset");ot.setAttribute("dx","25"),ot.setAttribute("dy","0"),ot.setAttribute("in",nt+"_drop_shadow_1"),ot.setAttribute("result",nt+"_drop_shadow_2"),this.feOffset=ot,et.appendChild(ot);var lt=createNS("feFlood");lt.setAttribute("flood-color","#00ff00"),lt.setAttribute("flood-opacity","1"),lt.setAttribute("result",nt+"_drop_shadow_3"),this.feFlood=lt,et.appendChild(lt);var ct=createNS("feComposite");ct.setAttribute("in",nt+"_drop_shadow_3"),ct.setAttribute("in2",nt+"_drop_shadow_2"),ct.setAttribute("operator","in"),ct.setAttribute("result",nt+"_drop_shadow_4"),et.appendChild(ct);var dt=this.createMergeNode(nt,[nt+"_drop_shadow_4",rt]);et.appendChild(dt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){if((et||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),et||this.filterManager.effectElements[0].p._mdf){var c=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(c[0]*255),Math.round(c[1]*255),Math.round(c[2]*255)))}if((et||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),et||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var tt=this.filterManager.effectElements[3].p.v,nt=(this.filterManager.effectElements[2].p.v-90)*degToRads,rt=tt*Math.cos(nt),it=tt*Math.sin(nt);this.feOffset.setAttribute("dx",rt),this.feOffset.setAttribute("dy",it)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(et,c,tt){this.initialized=!1,this.filterManager=c,this.filterElem=et,this.elem=tt,tt.matteElement=createNS("g"),tt.matteElement.appendChild(tt.layerElement),tt.matteElement.appendChild(tt.transformedElement),tt.baseElement=tt.matteElement}SVGMatte3Effect.prototype.findSymbol=function(et){for(var c=0,tt=_svgMatteSymbols.length;c<tt;){if(_svgMatteSymbols[c]===et)return _svgMatteSymbols[c];c+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(et,c){var tt=et.layerElement.parentNode;if(tt){for(var nt=tt.children,rt=0,it=nt.length;rt<it&&nt[rt]!==et.layerElement;)rt+=1;var st;rt<=it-2&&(st=nt[rt+1]);var at=createNS("use");at.setAttribute("href","#"+c),st?tt.insertBefore(at,st):tt.appendChild(at)}},SVGMatte3Effect.prototype.setElementAsMask=function(et,c){if(!this.findSymbol(c)){var tt=createElementID(),nt=createNS("mask");nt.setAttribute("id",c.layerId),nt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(c);var rt=et.globalData.defs;rt.appendChild(nt);var it=createNS("symbol");it.setAttribute("id",tt),this.replaceInParent(c,tt),it.appendChild(c.layerElement),rt.appendChild(it);var st=createNS("use");st.setAttribute("href","#"+tt),nt.appendChild(st),c.data.hd=!1,c.show()}et.setMatte(c.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var et=this.filterManager.effectElements[0].p.v,c=this.elem.comp.elements,tt=0,nt=c.length;tt<nt;)c[tt]&&c[tt].data.ind===et&&this.setElementAsMask(this.elem,c[tt]),tt+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(et,c,tt,nt){et.setAttribute("x","-100%"),et.setAttribute("y","-100%"),et.setAttribute("width","300%"),et.setAttribute("height","300%"),this.filterManager=c;var rt=createNS("feGaussianBlur");rt.setAttribute("result",nt),et.appendChild(rt),this.feGaussianBlur=rt}SVGGaussianBlurEffect.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var c=.3,tt=this.filterManager.effectElements[0].p.v*c,nt=this.filterManager.effectElements[1].p.v,rt=nt==3?0:tt,it=nt==2?0:tt;this.feGaussianBlur.setAttribute("stdDeviation",rt+" "+it);var st=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",st)}};function TransformEffect(){}TransformEffect.prototype.init=function(et){this.effectsManager=et,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(et){if(this._opMdf=!1,this._mdf=!1,et||this.effectsManager._mdf){var c=this.effectsManager.effectElements,tt=c[0].p.v,nt=c[1].p.v,rt=c[2].p.v===1,it=c[3].p.v,st=rt?it:c[4].p.v,at=c[5].p.v,ot=c[6].p.v,lt=c[7].p.v;this.matrix.reset(),this.matrix.translate(-tt[0],-tt[1],tt[2]),this.matrix.scale(st*.01,it*.01,1),this.matrix.rotate(-lt*degToRads),this.matrix.skewFromAxis(-at*degToRads,(ot+90)*degToRads),this.matrix.translate(nt[0],nt[1],0),this._mdf=!0,this.opacity!==c[8].p.v&&(this.opacity=c[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(et,c){this.init(c)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(et){this.init(et)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(et,c){(c==null||c>et.length)&&(c=et.length);for(var tt=0,nt=Array(c);tt<c;tt++)nt[tt]=et[tt];return nt}function _arrayWithHoles(et){if(Array.isArray(et))return et}function _defineProperty(et,c,tt){return(c=_toPropertyKey(c))in et?Object.defineProperty(et,c,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[c]=tt,et}function _iterableToArrayLimit(et,c){var tt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(tt!=null){var nt,rt,it,st,at=[],ot=!0,lt=!1;try{if(it=(tt=tt.call(et)).next,c!==0)for(;!(ot=(nt=it.call(tt)).done)&&(at.push(nt.value),at.length!==c);ot=!0);}catch(ct){lt=!0,rt=ct}finally{try{if(!ot&&tt.return!=null&&(st=tt.return(),Object(st)!==st))return}finally{if(lt)throw rt}}return at}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(et,c){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);c&&(nt=nt.filter(function(rt){return Object.getOwnPropertyDescriptor(et,rt).enumerable})),tt.push.apply(tt,nt)}return tt}function _objectSpread2(et){for(var c=1;c<arguments.length;c++){var tt=arguments[c]!=null?arguments[c]:{};c%2?ownKeys(Object(tt),!0).forEach(function(nt){_defineProperty(et,nt,tt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):ownKeys(Object(tt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(tt,nt))})}return et}function _objectWithoutProperties(et,c){if(et==null)return{};var tt,nt,rt=_objectWithoutPropertiesLoose(et,c);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);for(nt=0;nt<it.length;nt++)tt=it[nt],c.includes(tt)||{}.propertyIsEnumerable.call(et,tt)&&(rt[tt]=et[tt])}return rt}function _objectWithoutPropertiesLoose(et,c){if(et==null)return{};var tt={};for(var nt in et)if({}.hasOwnProperty.call(et,nt)){if(c.includes(nt))continue;tt[nt]=et[nt]}return tt}function _slicedToArray(et,c){return _arrayWithHoles(et)||_iterableToArrayLimit(et,c)||_unsupportedIterableToArray(et,c)||_nonIterableRest()}function _toPrimitive(et,c){if(typeof et!="object"||!et)return et;var tt=et[Symbol.toPrimitive];if(tt!==void 0){var nt=tt.call(et,c);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(et)}function _toPropertyKey(et){var c=_toPrimitive(et,"string");return typeof c=="symbol"?c:c+""}function _unsupportedIterableToArray(et,c){if(et){if(typeof et=="string")return _arrayLikeToArray(et,c);var tt={}.toString.call(et).slice(8,-1);return tt==="Object"&&et.constructor&&(tt=et.constructor.name),tt==="Map"||tt==="Set"?Array.from(et):tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt)?_arrayLikeToArray(et,c):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function et(c,tt){var nt=c.animationData,rt=c.loop,it=c.autoplay,st=c.initialSegment,at=c.onComplete,ot=c.onLoopComplete,lt=c.onEnterFrame,ct=c.onSegmentStart,dt=c.onConfigReady,ht=c.onDataReady,mt=c.onDataFailed,gt=c.onLoadedImages,yt=c.onDOMLoaded,_t=c.onDestroy;c.lottieRef,c.renderer,c.name,c.assetsPath,c.rendererSettings;var pt=_objectWithoutProperties(c,_excluded$1),xt=reactExports.useState(!1),vt=_slicedToArray(xt,2),St=vt[0],wt=vt[1],Mt=reactExports.useRef(),Ct=reactExports.useRef(null),Rt=function(){var Qt;(Qt=Mt.current)===null||Qt===void 0||Qt.play()},Lt=function(){var Qt;(Qt=Mt.current)===null||Qt===void 0||Qt.stop()},It=function(){var Qt;(Qt=Mt.current)===null||Qt===void 0||Qt.pause()},Nt=function(Qt){var an;(an=Mt.current)===null||an===void 0||an.setSpeed(Qt)},zt=function(Qt,an){var Kt;(Kt=Mt.current)===null||Kt===void 0||Kt.goToAndPlay(Qt,an)},Wt=function(Qt,an){var Kt;(Kt=Mt.current)===null||Kt===void 0||Kt.goToAndStop(Qt,an)},Yt=function(Qt){var an;(an=Mt.current)===null||an===void 0||an.setDirection(Qt)},Xt=function(Qt,an){var Kt;(Kt=Mt.current)===null||Kt===void 0||Kt.playSegments(Qt,an)},Ft=function(Qt){var an;(an=Mt.current)===null||an===void 0||an.setSubframe(Qt)},Ut=function(Qt){var an;return(an=Mt.current)===null||an===void 0?void 0:an.getDuration(Qt)},At=function(){var Qt;(Qt=Mt.current)===null||Qt===void 0||Qt.destroy(),Mt.current=void 0},kt=function(){var Qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},an;if(Ct.current){(an=Mt.current)===null||an===void 0||an.destroy();var Kt=_objectSpread2(_objectSpread2(_objectSpread2({},c),Qt),{},{container:Ct.current});return Mt.current=lottie.loadAnimation(Kt),wt(!!Mt.current),function(){var ln;(ln=Mt.current)===null||ln===void 0||ln.destroy(),Mt.current=void 0}}};reactExports.useEffect(function(){var Bt=kt();return function(){return Bt==null?void 0:Bt()}},[nt,rt]),reactExports.useEffect(function(){Mt.current&&(Mt.current.autoplay=!!it)},[it]),reactExports.useEffect(function(){if(Mt.current){if(!st){Mt.current.resetSegments(!0);return}!Array.isArray(st)||!st.length||((Mt.current.currentRawFrame<st[0]||Mt.current.currentRawFrame>st[1])&&(Mt.current.currentRawFrame=st[0]),Mt.current.setSegment(st[0],st[1]))}},[st]),reactExports.useEffect(function(){var Bt=[{name:"complete",handler:at},{name:"loopComplete",handler:ot},{name:"enterFrame",handler:lt},{name:"segmentStart",handler:ct},{name:"config_ready",handler:dt},{name:"data_ready",handler:ht},{name:"data_failed",handler:mt},{name:"loaded_images",handler:gt},{name:"DOMLoaded",handler:yt},{name:"destroy",handler:_t}],Qt=Bt.filter(function(Kt){return Kt.handler!=null});if(Qt.length){var an=Qt.map(function(Kt){var ln;return(ln=Mt.current)===null||ln===void 0||ln.addEventListener(Kt.name,Kt.handler),function(){var vn;(vn=Mt.current)===null||vn===void 0||vn.removeEventListener(Kt.name,Kt.handler)}});return function(){an.forEach(function(Kt){return Kt()})}}},[at,ot,lt,ct,dt,ht,mt,gt,yt,_t]);var Ot=React.createElement("div",_objectSpread2({style:tt,ref:Ct},pt));return{View:Ot,play:Rt,stop:Lt,pause:It,setSpeed:Nt,goToAndStop:Wt,goToAndPlay:zt,setDirection:Yt,playSegments:Xt,setSubframe:Ft,getDuration:Ut,destroy:At,animationContainerRef:Ct,animationLoaded:St,animationItem:Mt.current}};function getContainerVisibility(et){var c=et.getBoundingClientRect(),tt=c.top,nt=c.height,rt=window.innerHeight-tt,it=window.innerHeight+nt;return rt/it}function getContainerCursorPosition(et,c,tt){var nt=et.getBoundingClientRect(),rt=nt.top,it=nt.left,st=nt.width,at=nt.height,ot=(c-it)/st,lt=(tt-rt)/at;return{x:ot,y:lt}}var useInitInteractivity=function et(c){var tt=c.wrapperRef,nt=c.animationItem,rt=c.mode,it=c.actions;reactExports.useEffect(function(){var st=tt.current;if(!(!st||!nt||!it.length)){nt.stop();var at=function(){var ct=null,dt=function(){var mt=getContainerVisibility(st),gt=it.find(function(_t){var pt=_t.visibility;return pt&&mt>=pt[0]&&mt<=pt[1]});if(gt){if(gt.type==="seek"&&gt.visibility&&gt.frames.length===2){var yt=gt.frames[0]+Math.ceil((mt-gt.visibility[0])/(gt.visibility[1]-gt.visibility[0])*gt.frames[1]);//! goToAndStop must be relative to the start of the current segment
nt.goToAndStop(yt-nt.firstFrame-1,!0)}gt.type==="loop"&&(ct===null||ct!==gt.frames||nt.isPaused)&&(nt.playSegments(gt.frames,!0),ct=gt.frames),gt.type==="play"&&nt.isPaused&&(nt.resetSegments(!0),nt.play()),gt.type==="stop"&&nt.goToAndStop(gt.frames[0]-nt.firstFrame-1,!0)}};return document.addEventListener("scroll",dt),function(){document.removeEventListener("scroll",dt)}},ot=function(){var ct=function(gt,yt){var _t=gt,pt=yt;if(_t!==-1&&pt!==-1){var xt=getContainerCursorPosition(st,_t,pt);_t=xt.x,pt=xt.y}var vt=it.find(function(Mt){var Ct=Mt.position;return Ct&&Array.isArray(Ct.x)&&Array.isArray(Ct.y)?_t>=Ct.x[0]&&_t<=Ct.x[1]&&pt>=Ct.y[0]&&pt<=Ct.y[1]:Ct&&!Number.isNaN(Ct.x)&&!Number.isNaN(Ct.y)?_t===Ct.x&&pt===Ct.y:!1});if(vt){if(vt.type==="seek"&&vt.position&&Array.isArray(vt.position.x)&&Array.isArray(vt.position.y)&&vt.frames.length===2){var St=(_t-vt.position.x[0])/(vt.position.x[1]-vt.position.x[0]),wt=(pt-vt.position.y[0])/(vt.position.y[1]-vt.position.y[0]);nt.playSegments(vt.frames,!0),nt.goToAndStop(Math.ceil((St+wt)/2*(vt.frames[1]-vt.frames[0])),!0)}vt.type==="loop"&&nt.playSegments(vt.frames,!0),vt.type==="play"&&(nt.isPaused&&nt.resetSegments(!1),nt.playSegments(vt.frames)),vt.type==="stop"&&nt.goToAndStop(vt.frames[0],!0)}},dt=function(gt){ct(gt.clientX,gt.clientY)},ht=function(){ct(-1,-1)};return st.addEventListener("mousemove",dt),st.addEventListener("mouseout",ht),function(){st.removeEventListener("mousemove",dt),st.removeEventListener("mouseout",ht)}};switch(rt){case"scroll":return at();case"cursor":return ot()}}},[rt,nt])},useLottieInteractivity=function et(c){var tt=c.actions,nt=c.mode,rt=c.lottieObj,it=rt.animationItem,st=rt.View,at=rt.animationContainerRef;return useInitInteractivity({actions:tt,animationItem:it,mode:nt,wrapperRef:at}),st},_excluded=["style","interactivity"],Lottie=function et(c){var tt,nt,rt,it=c.style,st=c.interactivity,at=_objectWithoutProperties(c,_excluded),ot=useLottie(at,it),lt=ot.View,ct=ot.play,dt=ot.stop,ht=ot.pause,mt=ot.setSpeed,gt=ot.goToAndStop,yt=ot.goToAndPlay,_t=ot.setDirection,pt=ot.playSegments,xt=ot.setSubframe,vt=ot.getDuration,St=ot.destroy,wt=ot.animationContainerRef,Mt=ot.animationLoaded,Ct=ot.animationItem;return reactExports.useEffect(function(){c.lottieRef&&(c.lottieRef.current={play:ct,stop:dt,pause:ht,setSpeed:mt,goToAndPlay:yt,goToAndStop:gt,setDirection:_t,playSegments:pt,setSubframe:xt,getDuration:vt,destroy:St,animationContainerRef:wt,animationLoaded:Mt,animationItem:Ct})},[(tt=c.lottieRef)===null||tt===void 0?void 0:tt.current]),useLottieInteractivity({lottieObj:{View:lt,play:ct,stop:dt,pause:ht,setSpeed:mt,goToAndStop:gt,goToAndPlay:yt,setDirection:_t,playSegments:pt,setSubframe:xt,getDuration:vt,destroy:St,animationContainerRef:wt,animationLoaded:Mt,animationItem:Ct},actions:(nt=st==null?void 0:st.actions)!==null&&nt!==void 0?nt:[],mode:(rt=st==null?void 0:st.mode)!==null&&rt!==void 0?rt:"scroll"})};const falsyToString=et=>typeof et=="boolean"?`${et}`:et===0?"0":et,cx=clsx,cva=(et,c)=>tt=>{var nt;if((c==null?void 0:c.variants)==null)return cx(et,tt==null?void 0:tt.class,tt==null?void 0:tt.className);const{variants:rt,defaultVariants:it}=c,st=Object.keys(rt).map(lt=>{const ct=tt==null?void 0:tt[lt],dt=it==null?void 0:it[lt];if(ct===null)return null;const ht=falsyToString(ct)||falsyToString(dt);return rt[lt][ht]}),at=tt&&Object.entries(tt).reduce((lt,ct)=>{let[dt,ht]=ct;return ht===void 0||(lt[dt]=ht),lt},{}),ot=c==null||(nt=c.compoundVariants)===null||nt===void 0?void 0:nt.reduce((lt,ct)=>{let{class:dt,className:ht,...mt}=ct;return Object.entries(mt).every(gt=>{let[yt,_t]=gt;return Array.isArray(_t)?_t.includes({...it,...at}[yt]):{...it,...at}[yt]===_t})?[...lt,dt,ht]:lt},[]);return cx(et,st,ot,tt==null?void 0:tt.class,tt==null?void 0:tt.className)},textStyles=cva("",{variants:{style:{h1:"font-satoshi font-bold text-5xl md:text-6xl lg:text-7xl leading-tight tracking-tight text-text-white",h2:"font-satoshi font-bold text-3xl md:text-4xl lg:text-5xl leading-tight text-text-white",h3:"font-satoshi font-medium text-2xl md:text-3xl leading-snug text-text-white",h4:"font-inter font-semibold text-xl md:text-2xl text-text-white",h5:"font-inter font-medium text-lg md:text-xl text-text-white-90",h6:"font-inter font-medium text-base md:text-lg text-text-white-90",body:"font-inter text-base leading-relaxed text-text-white-80","body-large":"font-inter text-lg leading-relaxed text-text-white-80","body-small":"font-sans text-xs text-text-white-60",caption:"font-inter text-sm text-text-white-60",serif:"font-times text-base text-text-white-80"},color:{default:"",primary:"text-primary",accent:"text-accent-purple",muted:"text-text-muted",gradient:"bg-gradient-to-r from-primary via-accent-blue to-accent-purple bg-clip-text text-transparent"}},defaultVariants:{style:"body",color:"default"}}),Text=({as:et="p",className:c,style:tt,color:nt,...rt})=>jsxRuntimeExports.jsx(et,{className:twMerge(textStyles({style:tt,color:nt}),c),...rt}),v="5.5.7",fr=24,ip=0,op=24,w=200,h=200,nm="Sparkles",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[100,100,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0,0,100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:6,s:[100,100,100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:12,s:[0,0,100]},{t:23}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10,0],[0,-10],[10,0],[0,10]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"st",c:{a:0,k:[.96,.76,.23,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:24,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:45,ix:10},p:{a:0,k:[100,100,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0,0,100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:6,s:[80,80,100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:12,s:[0,0,100]},{t:23}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10,0],[0,-10],[10,0],[0,10]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"st",c:{a:0,k:[.23,.51,.96,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:24,st:0,bm:0}],sparklesAnimation={v,fr,ip,op,w,h,nm,ddd,assets,layers},containerVariants={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},itemVariants={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},CommunitySection=()=>jsxRuntimeExports.jsx(SectionWrapper,{id:"community",children:jsxRuntimeExports.jsxs(motion.div,{className:"text-center",variants:containerVariants,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.5},children:[jsxRuntimeExports.jsx(motion.div,{variants:itemVariants,children:jsxRuntimeExports.jsx(Text,{as:"h2",style:"h2",children:copy.community.headline})}),jsxRuntimeExports.jsx(motion.div,{variants:itemVariants,children:jsxRuntimeExports.jsx(Text,{style:"body",className:"mt-4 max-w-2xl mx-auto",children:copy.community.subhead})}),jsxRuntimeExports.jsxs(motion.div,{variants:itemVariants,className:"mt-10 flex flex-col sm:flex-row items-center justify-center gap-4",children:[jsxRuntimeExports.jsx(CTAButton,{variant:"outline",children:copy.community.ctas[1]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(CTAButton,{variant:"primary",className:"!px-10 !py-4",children:copy.community.ctas[2]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-8 -right-8 w-24 h-24 pointer-events-none",children:jsxRuntimeExports.jsx(Lottie,{animationData:sparklesAnimation,loop:!0})})]}),jsxRuntimeExports.jsx(CTAButton,{variant:"secondary",children:copy.community.ctas[0]})]})]})}),TextMarquee=({text:et,bidirectional:c=!0,speed:tt=20,className:nt=""})=>{const rt="Conquer Converse, Convert, Conquer",it="The Power of Voice-First Business Intelligence  ",st=useAnimationControls(),[at,ot]=reactExports.useState("left");return reactExports.useEffect(()=>{if(!c)st.start({x:[0,"-50%"],transition:{x:{repeat:1/0,repeatType:"loop",duration:tt,ease:"linear"}}});else{const lt=()=>{const ct=window.scrollY,dt=parseInt(document.body.getAttribute("data-last-scroll")||"0");ct>dt?ot("left"):ot("right"),document.body.setAttribute("data-last-scroll",ct.toString())};return window.addEventListener("scroll",lt),()=>window.removeEventListener("scroll",lt)}},[c,st,tt]),reactExports.useEffect(()=>{c&&(at==="left"?st.start({x:[0,"-50%"],transition:{x:{repeat:1/0,repeatType:"loop",duration:tt,ease:"linear"}}}):st.start({x:["-50%",0],transition:{x:{repeat:1/0,repeatType:"loop",duration:tt,ease:"linear"}}}))},[at,c,st,tt]),jsxRuntimeExports.jsxs("div",{className:`marquee-container ${nt}`,children:[jsxRuntimeExports.jsx("div",{className:"marquee-line",children:jsxRuntimeExports.jsxs(motion.div,{className:"marquee-content",animate:st,children:[jsxRuntimeExports.jsx("span",{className:"marquee-text",children:rt}),jsxRuntimeExports.jsx("span",{className:"marquee-text",children:rt})]})}),jsxRuntimeExports.jsx("div",{className:"marquee-line",children:jsxRuntimeExports.jsxs(motion.div,{className:"marquee-content",animate:st,children:[jsxRuntimeExports.jsx("span",{className:"marquee-text",children:it}),jsxRuntimeExports.jsx("span",{className:"marquee-text",children:it})]})})]})},MobileFooterCTA=()=>jsxRuntimeExports.jsx(motion.div,{id:"mobile-footer-cta",initial:{y:"100%"},animate:{y:0},transition:{type:"spring",stiffness:100,damping:20},className:"md:hidden fixed bottom-0 left-0 right-0 bg-bg-dark/95 backdrop-blur-xl border-t border-border-white-20 p-3 sm:p-4 z-40 shadow-lg",children:jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center",children:jsxRuntimeExports.jsxs(motion.button,{"aria-label":copy.footerCTA.primary,className:"flex flex-col items-center gap-1 text-primary px-4 py-2 rounded-lg hover:bg-bg-white-5 transition-colors",animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:[jsxRuntimeExports.jsx(Phone,{className:"h-5 w-5 sm:h-6 sm:w-6"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:copy.footerCTA.primary})]})})}),footerLinks={product:[{name:"Features",href:"#capabilities"},{name:"Marketplace",href:"#marketplace"},{name:"Use Cases",href:"#use-cases"},{name:"Pricing",href:"#"},{name:"Enterprise",href:"#"}],developers:[{name:"Documentation",href:"#"},{name:"API Reference",href:"#"},{name:"SDK & Tools",href:"#"},{name:"Community",href:"#"},{name:"Open Source",href:"#"}],company:[{name:"About Us",href:"#"},{name:"Blog",href:"#"},{name:"Careers",href:"#"},{name:"Press",href:"#"},{name:"Contact",href:"#"}],legal:[{name:"Privacy Policy",href:"#"},{name:"Terms of Service",href:"#"},{name:"Security",href:"#"},{name:"Compliance",href:"#"}]},socialLinks=[{name:"GitHub",icon:Github,href:"#"},{name:"Twitter",icon:Twitter,href:"#"},{name:"LinkedIn",icon:Linkedin,href:"#"},{name:"YouTube",icon:Youtube,href:"#"}],Footer=()=>jsxRuntimeExports.jsxs("footer",{className:"relative bg-bg-dark pt-12 sm:pt-16 md:pt-20 pb-20 md:pb-8 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl -translate-x-1/2 translate-y-1/2"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-accent-purple/10 rounded-full blur-3xl translate-x-1/2 -translate-y-1/2"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff05_1px,transparent_1px),linear-gradient(to_bottom,#ffffff05_1px,transparent_1px)] bg-[size:64px_64px]"})]}),jsxRuntimeExports.jsxs("div",{className:"container relative z-10",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},className:"glass-card p-8 md:p-12 mb-16 text-center",children:[jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-bold text-2xl sm:text-3xl md:text-4xl mb-3 sm:mb-4",children:"Ready to Deploy Your First Agent?"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-80 text-base sm:text-lg mb-6 sm:mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses automating their workflows with LOG_ON's autonomous AI agents"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[jsxRuntimeExports.jsx(CTAButton,{variant:"primary",className:"!px-8 !py-4",children:"Start Free Trial"}),jsxRuntimeExports.jsx(CTAButton,{variant:"secondary",className:"!px-8 !py-4",children:"Schedule Demo"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-6 sm:gap-8 mb-8 sm:mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2 sm:col-span-3 md:col-span-2 mb-6 sm:mb-8 md:mb-0",children:[jsxRuntimeExports.jsx(Logo,{className:"mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-60 text-sm mb-6 max-w-sm",children:"Building the future of work with autonomous AI agents that amplify human potential."}),jsxRuntimeExports.jsx("div",{className:"flex gap-3",children:socialLinks.map(({name:et,icon:c,href:tt})=>jsxRuntimeExports.jsx("a",{href:tt,"aria-label":et,className:"p-2 rounded-lg bg-bg-white-5 hover:bg-bg-white-10 text-text-white-60 hover:text-text-white transition-all duration-200",children:jsxRuntimeExports.jsx(c,{className:"h-5 w-5"})},et))})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-text-white mb-3 sm:mb-4 text-sm sm:text-base",children:"Product"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:footerLinks.product.map(et=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("a",{href:et.href,className:"text-text-white-60 hover:text-text-white text-sm transition-colors duration-200 flex items-center gap-1 group",children:[et.name,et.href==="#"&&jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})},et.name))})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-text-white mb-3 sm:mb-4 text-sm sm:text-base",children:"Developers"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:footerLinks.developers.map(et=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("a",{href:et.href,className:"text-text-white-60 hover:text-text-white text-sm transition-colors duration-200 flex items-center gap-1 group",children:[et.name,jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})},et.name))})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-text-white mb-3 sm:mb-4 text-sm sm:text-base",children:"Company"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:footerLinks.company.map(et=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("a",{href:et.href,className:"text-text-white-60 hover:text-text-white text-sm transition-colors duration-200 flex items-center gap-1 group",children:[et.name,jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})},et.name))})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-text-white mb-3 sm:mb-4 text-sm sm:text-base",children:"Legal"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:footerLinks.legal.map(et=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("a",{href:et.href,className:"text-text-white-60 hover:text-text-white text-sm transition-colors duration-200 flex items-center gap-1 group",children:[et.name,jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})},et.name))})]})]}),jsxRuntimeExports.jsx("div",{className:"border-t border-border-white-10 pt-6 sm:pt-8 mb-6 sm:mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center lg:text-left w-full lg:w-auto",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-text-white mb-1 sm:mb-2",children:"Stay Updated"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-60 text-sm",children:"Get the latest updates on AI agents and automation"})]}),jsxRuntimeExports.jsxs("form",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Enter your email",className:"input flex-1 sm:flex-initial md:w-64 text-sm sm:text-base",required:!0}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary whitespace-nowrap",children:"Subscribe"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"border-t border-border-white-10 pt-6 sm:pt-8 flex flex-col sm:flex-row items-center justify-between gap-4 text-center sm:text-left",children:[jsxRuntimeExports.jsxs("p",{className:"text-text-white-60 text-xs sm:text-sm order-2 sm:order-1",children:[" ",new Date().getFullYear()," LOG_ON. All rights reserved."]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 sm:gap-6 order-1 sm:order-2",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"text-text-white-60 hover:text-text-white text-xs sm:text-sm transition-colors",children:"System Status"}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-text-white-60 hover:text-text-white text-xs sm:text-sm transition-colors",children:"Cookie Settings"})]})]})]})]}),GridBackground=({children:et})=>jsxRuntimeExports.jsxs("div",{className:"w-full min-h-screen bg-bg-dark relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#050505] via-[#101010] to-[#202020]"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-1/4 w-56 h-56 bg-primary/20 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-1/4 w-56 h-56 bg-accent-orange/20 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff0d_1px,transparent_1px),linear-gradient(to_bottom,#ffffff0d_1px,transparent_1px)] bg-[size:32px_32px]"}),jsxRuntimeExports.jsx("div",{className:"relative z-10",children:et})]});var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(et,c){if(et===c)return!0;if(et&&c&&typeof et=="object"&&typeof c=="object"){if(et.constructor!==c.constructor)return!1;var tt,nt,rt;if(Array.isArray(et)){if(tt=et.length,tt!=c.length)return!1;for(nt=tt;nt--!==0;)if(!equal(et[nt],c[nt]))return!1;return!0}var it;if(hasMap&&et instanceof Map&&c instanceof Map){if(et.size!==c.size)return!1;for(it=et.entries();!(nt=it.next()).done;)if(!c.has(nt.value[0]))return!1;for(it=et.entries();!(nt=it.next()).done;)if(!equal(nt.value[1],c.get(nt.value[0])))return!1;return!0}if(hasSet&&et instanceof Set&&c instanceof Set){if(et.size!==c.size)return!1;for(it=et.entries();!(nt=it.next()).done;)if(!c.has(nt.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(et)&&ArrayBuffer.isView(c)){if(tt=et.length,tt!=c.length)return!1;for(nt=tt;nt--!==0;)if(et[nt]!==c[nt])return!1;return!0}if(et.constructor===RegExp)return et.source===c.source&&et.flags===c.flags;if(et.valueOf!==Object.prototype.valueOf&&typeof et.valueOf=="function"&&typeof c.valueOf=="function")return et.valueOf()===c.valueOf();if(et.toString!==Object.prototype.toString&&typeof et.toString=="function"&&typeof c.toString=="function")return et.toString()===c.toString();if(rt=Object.keys(et),tt=rt.length,tt!==Object.keys(c).length)return!1;for(nt=tt;nt--!==0;)if(!Object.prototype.hasOwnProperty.call(c,rt[nt]))return!1;if(hasElementType&&et instanceof Element)return!1;for(nt=tt;nt--!==0;)if(!((rt[nt]==="_owner"||rt[nt]==="__v"||rt[nt]==="__o")&&et.$$typeof)&&!equal(et[rt[nt]],c[rt[nt]]))return!1;return!0}return et!==et&&c!==c}var reactFastCompare=function et(c,tt){try{return equal(c,tt)}catch(nt){if((nt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw nt}};const fastCompare=getDefaultExportFromCjs(reactFastCompare);var invariant=function(et,c,tt,nt,rt,it,st,at){if(!et){var ot;if(c===void 0)ot=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var lt=[tt,nt,rt,it,st,at],ct=0;ot=new Error(c.replace(/%s/g,function(){return lt[ct++]})),ot.name="Invariant Violation"}throw ot.framesToPop=1,ot}},browser=invariant;const invariant$1=getDefaultExportFromCjs(browser);var shallowequal=function et(c,tt,nt,rt){var it=nt?nt.call(rt,c,tt):void 0;if(it!==void 0)return!!it;if(c===tt)return!0;if(typeof c!="object"||!c||typeof tt!="object"||!tt)return!1;var st=Object.keys(c),at=Object.keys(tt);if(st.length!==at.length)return!1;for(var ot=Object.prototype.hasOwnProperty.bind(tt),lt=0;lt<st.length;lt++){var ct=st[lt];if(!ot(ct))return!1;var dt=c[ct],ht=tt[ct];if(it=nt?nt.call(rt,dt,ht,ct):void 0,it===!1||it===void 0&&dt!==ht)return!1}return!0};const shallowEqual=getDefaultExportFromCjs(shallowequal);var TAG_NAMES=(et=>(et.BASE="base",et.BODY="body",et.HEAD="head",et.HTML="html",et.LINK="link",et.META="meta",et.NOSCRIPT="noscript",et.SCRIPT="script",et.STYLE="style",et.TITLE="title",et.FRAGMENT="Symbol(react.fragment)",et))(TAG_NAMES||{}),SEO_PRIORITY_TAGS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},VALID_TAG_NAMES=Object.values(TAG_NAMES),REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HTML_TAG_MAP=Object.entries(REACT_TAG_MAP).reduce((et,[c,tt])=>(et[tt]=c,et),{}),HELMET_ATTRIBUTE="data-rh",HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},getInnermostProperty=(et,c)=>{for(let tt=et.length-1;tt>=0;tt-=1){const nt=et[tt];if(Object.prototype.hasOwnProperty.call(nt,c))return nt[c]}return null},getTitleFromPropsList=et=>{let c=getInnermostProperty(et,"title");const tt=getInnermostProperty(et,HELMET_PROPS.TITLE_TEMPLATE);if(Array.isArray(c)&&(c=c.join("")),tt&&c)return tt.replace(/%s/g,()=>c);const nt=getInnermostProperty(et,HELMET_PROPS.DEFAULT_TITLE);return c||nt||void 0},getOnChangeClientState=et=>getInnermostProperty(et,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||(()=>{}),getAttributesFromPropsList=(et,c)=>c.filter(tt=>typeof tt[et]<"u").map(tt=>tt[et]).reduce((tt,nt)=>({...tt,...nt}),{}),getBaseTagFromPropsList=(et,c)=>c.filter(tt=>typeof tt.base<"u").map(tt=>tt.base).reverse().reduce((tt,nt)=>{if(!tt.length){const rt=Object.keys(nt);for(let it=0;it<rt.length;it+=1){const at=rt[it].toLowerCase();if(et.indexOf(at)!==-1&&nt[at])return tt.concat(nt)}}return tt},[]),warn=et=>console&&typeof console.warn=="function"&&console.warn(et),getTagsFromPropsList=(et,c,tt)=>{const nt={};return tt.filter(rt=>Array.isArray(rt[et])?!0:(typeof rt[et]<"u"&&warn(`Helmet: ${et} should be of type "Array". Instead found type "${typeof rt[et]}"`),!1)).map(rt=>rt[et]).reverse().reduce((rt,it)=>{const st={};it.filter(ot=>{let lt;const ct=Object.keys(ot);for(let ht=0;ht<ct.length;ht+=1){const mt=ct[ht],gt=mt.toLowerCase();c.indexOf(gt)!==-1&&!(lt==="rel"&&ot[lt].toLowerCase()==="canonical")&&!(gt==="rel"&&ot[gt].toLowerCase()==="stylesheet")&&(lt=gt),c.indexOf(mt)!==-1&&(mt==="innerHTML"||mt==="cssText"||mt==="itemprop")&&(lt=mt)}if(!lt||!ot[lt])return!1;const dt=ot[lt].toLowerCase();return nt[lt]||(nt[lt]={}),st[lt]||(st[lt]={}),nt[lt][dt]?!1:(st[lt][dt]=!0,!0)}).reverse().forEach(ot=>rt.push(ot));const at=Object.keys(st);for(let ot=0;ot<at.length;ot+=1){const lt=at[ot],ct={...nt[lt],...st[lt]};nt[lt]=ct}return rt},[]).reverse()},getAnyTrueFromPropsList=(et,c)=>{if(Array.isArray(et)&&et.length){for(let tt=0;tt<et.length;tt+=1)if(et[tt][c])return!0}return!1},reducePropsToState=et=>({baseTag:getBaseTagFromPropsList(["href"],et),bodyAttributes:getAttributesFromPropsList("bodyAttributes",et),defer:getInnermostProperty(et,HELMET_PROPS.DEFER),encode:getInnermostProperty(et,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList("htmlAttributes",et),linkTags:getTagsFromPropsList("link",["rel","href"],et),metaTags:getTagsFromPropsList("meta",["name","charset","http-equiv","property","itemprop"],et),noscriptTags:getTagsFromPropsList("noscript",["innerHTML"],et),onChangeClientState:getOnChangeClientState(et),scriptTags:getTagsFromPropsList("script",["src","innerHTML"],et),styleTags:getTagsFromPropsList("style",["cssText"],et),title:getTitleFromPropsList(et),titleAttributes:getAttributesFromPropsList("titleAttributes",et),prioritizeSeoTags:getAnyTrueFromPropsList(et,HELMET_PROPS.PRIORITIZE_SEO_TAGS)}),flattenArray=et=>Array.isArray(et)?et.join(""):et,checkIfPropsMatch=(et,c)=>{const tt=Object.keys(et);for(let nt=0;nt<tt.length;nt+=1)if(c[tt[nt]]&&c[tt[nt]].includes(et[tt[nt]]))return!0;return!1},prioritizer=(et,c)=>Array.isArray(et)?et.reduce((tt,nt)=>(checkIfPropsMatch(nt,c)?tt.priority.push(nt):tt.default.push(nt),tt),{priority:[],default:[]}):{default:et,priority:[]},without=(et,c)=>({...et,[c]:void 0}),SELF_CLOSING_TAGS=["noscript","script","style"],encodeSpecialCharacters=(et,c=!0)=>c===!1?String(et):String(et).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),generateElementAttributesAsString=et=>Object.keys(et).reduce((c,tt)=>{const nt=typeof et[tt]<"u"?`${tt}="${et[tt]}"`:`${tt}`;return c?`${c} ${nt}`:nt},""),generateTitleAsString=(et,c,tt,nt)=>{const rt=generateElementAttributesAsString(tt),it=flattenArray(c);return rt?`<${et} ${HELMET_ATTRIBUTE}="true" ${rt}>${encodeSpecialCharacters(it,nt)}</${et}>`:`<${et} ${HELMET_ATTRIBUTE}="true">${encodeSpecialCharacters(it,nt)}</${et}>`},generateTagsAsString=(et,c,tt=!0)=>c.reduce((nt,rt)=>{const it=rt,st=Object.keys(it).filter(lt=>!(lt==="innerHTML"||lt==="cssText")).reduce((lt,ct)=>{const dt=typeof it[ct]>"u"?ct:`${ct}="${encodeSpecialCharacters(it[ct],tt)}"`;return lt?`${lt} ${dt}`:dt},""),at=it.innerHTML||it.cssText||"",ot=SELF_CLOSING_TAGS.indexOf(et)===-1;return`${nt}<${et} ${HELMET_ATTRIBUTE}="true" ${st}${ot?"/>":`>${at}</${et}>`}`},""),convertElementAttributesToReactProps=(et,c={})=>Object.keys(et).reduce((tt,nt)=>{const rt=REACT_TAG_MAP[nt];return tt[rt||nt]=et[nt],tt},c),generateTitleAsReactComponent=(et,c,tt)=>{const nt={key:c,[HELMET_ATTRIBUTE]:!0},rt=convertElementAttributesToReactProps(tt,nt);return[React.createElement("title",rt,c)]},generateTagsAsReactComponent=(et,c)=>c.map((tt,nt)=>{const rt={key:nt,[HELMET_ATTRIBUTE]:!0};return Object.keys(tt).forEach(it=>{const at=REACT_TAG_MAP[it]||it;if(at==="innerHTML"||at==="cssText"){const ot=tt.innerHTML||tt.cssText;rt.dangerouslySetInnerHTML={__html:ot}}else rt[at]=tt[it]}),React.createElement(et,rt)}),getMethodsForTag=(et,c,tt=!0)=>{switch(et){case"title":return{toComponent:()=>generateTitleAsReactComponent(et,c.title,c.titleAttributes),toString:()=>generateTitleAsString(et,c.title,c.titleAttributes,tt)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>convertElementAttributesToReactProps(c),toString:()=>generateElementAttributesAsString(c)};default:return{toComponent:()=>generateTagsAsReactComponent(et,c),toString:()=>generateTagsAsString(et,c,tt)}}},getPriorityMethods=({metaTags:et,linkTags:c,scriptTags:tt,encode:nt})=>{const rt=prioritizer(et,SEO_PRIORITY_TAGS.meta),it=prioritizer(c,SEO_PRIORITY_TAGS.link),st=prioritizer(tt,SEO_PRIORITY_TAGS.script);return{priorityMethods:{toComponent:()=>[...generateTagsAsReactComponent("meta",rt.priority),...generateTagsAsReactComponent("link",it.priority),...generateTagsAsReactComponent("script",st.priority)],toString:()=>`${getMethodsForTag("meta",rt.priority,nt)} ${getMethodsForTag("link",it.priority,nt)} ${getMethodsForTag("script",st.priority,nt)}`},metaTags:rt.default,linkTags:it.default,scriptTags:st.default}},mapStateOnServer=et=>{const{baseTag:c,bodyAttributes:tt,encode:nt=!0,htmlAttributes:rt,noscriptTags:it,styleTags:st,title:at="",titleAttributes:ot,prioritizeSeoTags:lt}=et;let{linkTags:ct,metaTags:dt,scriptTags:ht}=et,mt={toComponent:()=>{},toString:()=>""};return lt&&({priorityMethods:mt,linkTags:ct,metaTags:dt,scriptTags:ht}=getPriorityMethods(et)),{priority:mt,base:getMethodsForTag("base",c,nt),bodyAttributes:getMethodsForTag("bodyAttributes",tt,nt),htmlAttributes:getMethodsForTag("htmlAttributes",rt,nt),link:getMethodsForTag("link",ct,nt),meta:getMethodsForTag("meta",dt,nt),noscript:getMethodsForTag("noscript",it,nt),script:getMethodsForTag("script",ht,nt),style:getMethodsForTag("style",st,nt),title:getMethodsForTag("title",{title:at,titleAttributes:ot},nt)}},server_default=mapStateOnServer,instances=[],isDocument=!!(typeof window<"u"&&window.document&&window.document.createElement),HelmetData=class{constructor(et,c){Rs(this,"instances",[]);Rs(this,"canUseDOM",isDocument);Rs(this,"context");Rs(this,"value",{setHelmet:et=>{this.context.helmet=et},helmetInstances:{get:()=>this.canUseDOM?instances:this.instances,add:et=>{(this.canUseDOM?instances:this.instances).push(et)},remove:et=>{const c=(this.canUseDOM?instances:this.instances).indexOf(et);(this.canUseDOM?instances:this.instances).splice(c,1)}}});this.context=et,this.canUseDOM=c||!1,c||(et.helmet=server_default({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},defaultValue={},Context=React.createContext(defaultValue),Ys,HelmetProvider=(Ys=class extends reactExports.Component{constructor(tt){super(tt);Rs(this,"helmetData");this.helmetData=new HelmetData(this.props.context||{},Ys.canUseDOM)}render(){return React.createElement(Context.Provider,{value:this.helmetData.value},this.props.children)}},Rs(Ys,"canUseDOM",isDocument),Ys),updateTags=(et,c)=>{const tt=document.head||document.querySelector("head"),nt=tt.querySelectorAll(`${et}[${HELMET_ATTRIBUTE}]`),rt=[].slice.call(nt),it=[];let st;return c&&c.length&&c.forEach(at=>{const ot=document.createElement(et);for(const lt in at)if(Object.prototype.hasOwnProperty.call(at,lt))if(lt==="innerHTML")ot.innerHTML=at.innerHTML;else if(lt==="cssText")ot.styleSheet?ot.styleSheet.cssText=at.cssText:ot.appendChild(document.createTextNode(at.cssText));else{const ct=lt,dt=typeof at[ct]>"u"?"":at[ct];ot.setAttribute(lt,dt)}ot.setAttribute(HELMET_ATTRIBUTE,"true"),rt.some((lt,ct)=>(st=ct,ot.isEqualNode(lt)))?rt.splice(st,1):it.push(ot)}),rt.forEach(at=>{var ot;return(ot=at.parentNode)==null?void 0:ot.removeChild(at)}),it.forEach(at=>tt.appendChild(at)),{oldTags:rt,newTags:it}},updateAttributes=(et,c)=>{const tt=document.getElementsByTagName(et)[0];if(!tt)return;const nt=tt.getAttribute(HELMET_ATTRIBUTE),rt=nt?nt.split(","):[],it=[...rt],st=Object.keys(c);for(const at of st){const ot=c[at]||"";tt.getAttribute(at)!==ot&&tt.setAttribute(at,ot),rt.indexOf(at)===-1&&rt.push(at);const lt=it.indexOf(at);lt!==-1&&it.splice(lt,1)}for(let at=it.length-1;at>=0;at-=1)tt.removeAttribute(it[at]);rt.length===it.length?tt.removeAttribute(HELMET_ATTRIBUTE):tt.getAttribute(HELMET_ATTRIBUTE)!==st.join(",")&&tt.setAttribute(HELMET_ATTRIBUTE,st.join(","))},updateTitle=(et,c)=>{typeof et<"u"&&document.title!==et&&(document.title=flattenArray(et)),updateAttributes("title",c)},commitTagChanges=(et,c)=>{const{baseTag:tt,bodyAttributes:nt,htmlAttributes:rt,linkTags:it,metaTags:st,noscriptTags:at,onChangeClientState:ot,scriptTags:lt,styleTags:ct,title:dt,titleAttributes:ht}=et;updateAttributes("body",nt),updateAttributes("html",rt),updateTitle(dt,ht);const mt={baseTag:updateTags("base",tt),linkTags:updateTags("link",it),metaTags:updateTags("meta",st),noscriptTags:updateTags("noscript",at),scriptTags:updateTags("script",lt),styleTags:updateTags("style",ct)},gt={},yt={};Object.keys(mt).forEach(_t=>{const{newTags:pt,oldTags:xt}=mt[_t];pt.length&&(gt[_t]=pt),xt.length&&(yt[_t]=mt[_t].oldTags)}),c&&c(),ot(et,gt,yt)},_helmetCallback=null,handleStateChangeOnClient=et=>{_helmetCallback&&cancelAnimationFrame(_helmetCallback),et.defer?_helmetCallback=requestAnimationFrame(()=>{commitTagChanges(et,()=>{_helmetCallback=null})}):(commitTagChanges(et),_helmetCallback=null)},client_default=handleStateChangeOnClient,HelmetDispatcher=class extends reactExports.Component{constructor(){super(...arguments);Rs(this,"rendered",!1)}shouldComponentUpdate(c){return!shallowEqual(c,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:c}=this.props.context;c.remove(this),this.emitChange()}emitChange(){const{helmetInstances:c,setHelmet:tt}=this.props.context;let nt=null;const rt=reducePropsToState(c.get().map(it=>{const st={...it.props};return delete st.context,st}));HelmetProvider.canUseDOM?client_default(rt):server_default&&(nt=server_default(rt)),tt(nt)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:c}=this.props.context;c.add(this),this.emitChange()}render(){return this.init(),null}},Ju,Helmet=(Ju=class extends reactExports.Component{shouldComponentUpdate(et){return!fastCompare(without(this.props,"helmetData"),without(et,"helmetData"))}mapNestedChildrenToProps(et,c){if(!c)return null;switch(et.type){case"script":case"noscript":return{innerHTML:c};case"style":return{cssText:c};default:throw new Error(`<${et.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(et,c,tt,nt){return{...c,[et.type]:[...c[et.type]||[],{...tt,...this.mapNestedChildrenToProps(et,nt)}]}}mapObjectTypeChildren(et,c,tt,nt){switch(et.type){case"title":return{...c,[et.type]:nt,titleAttributes:{...tt}};case"body":return{...c,bodyAttributes:{...tt}};case"html":return{...c,htmlAttributes:{...tt}};default:return{...c,[et.type]:{...tt}}}}mapArrayTypeChildrenToProps(et,c){let tt={...c};return Object.keys(et).forEach(nt=>{tt={...tt,[nt]:et[nt]}}),tt}warnOnInvalidChildren(et,c){return invariant$1(VALID_TAG_NAMES.some(tt=>et.type===tt),typeof et.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${VALID_TAG_NAMES.join(", ")} are allowed. Helmet does not support rendering <${et.type}> elements. Refer to our API for more information.`),invariant$1(!c||typeof c=="string"||Array.isArray(c)&&!c.some(tt=>typeof tt!="string"),`Helmet expects a string as a child of <${et.type}>. Did you forget to wrap your children in braces? ( <${et.type}>{\`\`}</${et.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(et,c){let tt={};return React.Children.forEach(et,nt=>{if(!nt||!nt.props)return;const{children:rt,...it}=nt.props,st=Object.keys(it).reduce((ot,lt)=>(ot[HTML_TAG_MAP[lt]||lt]=it[lt],ot),{});let{type:at}=nt;switch(typeof at=="symbol"?at=at.toString():this.warnOnInvalidChildren(nt,rt),at){case"Symbol(react.fragment)":c=this.mapChildrenToProps(rt,c);break;case"link":case"meta":case"noscript":case"script":case"style":tt=this.flattenArrayTypeChildren(nt,tt,st,rt);break;default:c=this.mapObjectTypeChildren(nt,c,st,rt);break}}),this.mapArrayTypeChildrenToProps(tt,c)}render(){const{children:et,...c}=this.props;let tt={...c},{helmetData:nt}=c;if(et&&(tt=this.mapChildrenToProps(et,tt)),nt&&!(nt instanceof HelmetData)){const rt=nt;nt=new HelmetData(rt.context,!0),delete tt.helmetData}return nt?React.createElement(HelmetDispatcher,{...tt,context:nt.value}):React.createElement(Context.Consumer,null,rt=>React.createElement(HelmetDispatcher,{...tt,context:rt}))}},Rs(Ju,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Ju);const Meta=({title:et="LOG_ON - AI Agent Marketplace | Voice-First Business Intelligence",description:c="Deploy autonomous AI agents with LOG_ON to automate workflows, accelerate growth & transform your business. Enterprise-grade infrastructure for voice-first business intelligence.",keywords:tt="AI agents, business automation, voice AI, autonomous agents, workflow automation, enterprise AI, business intelligence, Developer Ecosystem, AI infrastructure, LOG_ON",canonical:nt="https://www.log-on.io",ogImage:rt="https://www.log-on.io/og-image.png"})=>{const it="LOG_ON";return jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("title",{children:et}),jsxRuntimeExports.jsx("meta",{name:"description",content:c}),jsxRuntimeExports.jsx("meta",{name:"keywords",content:tt}),jsxRuntimeExports.jsx("link",{rel:"canonical",href:nt}),jsxRuntimeExports.jsx("meta",{property:"og:title",content:et}),jsxRuntimeExports.jsx("meta",{property:"og:description",content:c}),jsxRuntimeExports.jsx("meta",{property:"og:url",content:nt}),jsxRuntimeExports.jsx("meta",{property:"og:image",content:rt}),jsxRuntimeExports.jsx("meta",{property:"og:type",content:"website"}),jsxRuntimeExports.jsx("meta",{property:"og:site_name",content:it}),jsxRuntimeExports.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),jsxRuntimeExports.jsx("meta",{name:"twitter:site",content:"@log_on_ai"}),jsxRuntimeExports.jsx("meta",{name:"twitter:title",content:et}),jsxRuntimeExports.jsx("meta",{name:"twitter:description",content:c}),jsxRuntimeExports.jsx("meta",{name:"twitter:image",content:rt}),jsxRuntimeExports.jsx("meta",{name:"robots",content:"index, follow"}),jsxRuntimeExports.jsx("meta",{name:"author",content:it}),jsxRuntimeExports.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Organization",name:it,url:nt,logo:rt,description:c,sameAs:["https://twitter.com/log_on_ai","https://linkedin.com/company/log-on-ai","https://github.com/log-on-ai"],founder:{"@type":"Person",name:"LOG_ON Team"},foundingDate:"2024",slogan:"Voice-First Business Intelligence",offers:{"@type":"AggregateOffer",name:"AI Agent Marketplace",description:"Deploy autonomous AI agents to automate workflows and accelerate growth"}})}),jsxRuntimeExports.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:nt}]})})]})},LandingPage=()=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Meta,{}),jsxRuntimeExports.jsxs(GridBackground,{children:[jsxRuntimeExports.jsx(AppHeader,{}),jsxRuntimeExports.jsxs("main",{children:[jsxRuntimeExports.jsx(HeroSection,{}),jsxRuntimeExports.jsx(CapabilitiesSection,{}),jsxRuntimeExports.jsx(MarketplaceSection,{}),jsxRuntimeExports.jsx(BusinessAssessmentSection,{}),jsxRuntimeExports.jsx(MergedUseCasesSection,{}),jsxRuntimeExports.jsx(CommunitySection,{}),jsxRuntimeExports.jsx(TextMarquee,{text:"Converse, Convert, Conquer: The Power of Voice-First Business Intelligence  ",bidirectional:!0,speed:30})]}),jsxRuntimeExports.jsx(Footer,{}),jsxRuntimeExports.jsx(MobileFooterCTA,{})]})]}),ProductMarketplaceCard=({product:et,onViewDetails:c,backgroundImage:tt})=>{const nt=()=>{c&&c(et.id)},it={"automation-ops":"AUTOMATION OPS","assistant-tools":"ASSISTANT TOOLS","process-mining":"PROCESS MINING","integration-services":"INTEGRATION SERVICES","agent-catalog":"AGENT CATALOG"}[et.category]||et.category.toUpperCase();return jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"marketplace-card cursor-pointer",style:{backgroundImage:tt?`url(${tt})`:void 0},onClick:nt,children:[jsxRuntimeExports.jsx("div",{className:"marketplace-card-gradient"}),jsxRuntimeExports.jsx("div",{className:"marketplace-card-overlay"}),jsxRuntimeExports.jsxs("div",{className:"marketplace-card-content",children:[jsxRuntimeExports.jsx("span",{className:"marketplace-card-label",children:it}),jsxRuntimeExports.jsx("h3",{className:"marketplace-card-title",children:et.name}),jsxRuntimeExports.jsx("p",{className:"marketplace-card-subheading",children:"FEATURES"}),jsxRuntimeExports.jsx("ul",{className:"marketplace-card-workflows",children:et.tags.slice(0,4).map((st,at)=>jsxRuntimeExports.jsx("li",{className:"marketplace-card-workflow-item",children:st},at))})]})]})},ResponsiveModal=({isOpen:et,onClose:c,title:tt,children:nt,maxWidth:rt="lg",className:it=""})=>{reactExports.useEffect(()=>(et?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[et]),reactExports.useEffect(()=>{const at=ot=>{ot.key==="Escape"&&c()};return et&&document.addEventListener("keydown",at),()=>{document.removeEventListener("keydown",at)}},[et,c]);const st={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-6xl"};return jsxRuntimeExports.jsx(AnimatePresence,{children:et&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:c}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300,duration:.3},className:`
                w-full ${st[rt]} 
                max-h-[90vh] 
                bg-bg-dark-90 
                border border-border-white-20 
                rounded-2xl 
                shadow-2xl 
                overflow-hidden
                ${it}
              `,onClick:at=>at.stopPropagation(),children:[tt&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border-white-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-satoshi font-bold text-text-white",children:tt}),jsxRuntimeExports.jsx("button",{onClick:c,className:"p-2 text-text-white-60 hover:text-text-white hover:bg-bg-white-10 rounded-lg transition-colors","aria-label":"Close modal",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),!tt&&jsxRuntimeExports.jsx("button",{onClick:c,className:"absolute top-4 right-4 p-2 text-text-white-60 hover:text-text-white hover:bg-bg-white-10 rounded-lg transition-colors z-10","aria-label":"Close modal",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-8rem)] custom-scrollbar",children:jsxRuntimeExports.jsx("div",{className:tt?"p-6":"p-6 pt-12",children:nt})})]})})]})})},customMarketplaceCategories=[{id:"automation-ops",name:"Automation Ops",title:"Automation Operations",description:"Streamline your workflows and business processes with intelligent automation agents."},{id:"assistant-tools",name:"Assistant Tools",title:"AI Assistant Tools",description:"Enhance productivity and decision-making with smart AI assistants for various tasks."},{id:"process-mining",name:"Process Mining",title:"Process Mining Solutions",description:"Uncover bottlenecks and optimize your operational efficiency by analyzing business processes."},{id:"integration-services",name:"Integration Services",title:"Integration Services",description:"Seamlessly connect your existing systems and applications with powerful integrations."},{id:"agent-catalog",name:"Agent Catalog",title:"Full Agent Catalog",description:"Explore a comprehensive list of all available AI agents, tools, and automations."}],industryCategories=[{id:"finance",name:"Finance & Banking",description:"Financial services, banking, and fintech solutions"},{id:"healthcare",name:"Healthcare",description:"Medical, pharmaceutical, and healthcare technology"},{id:"retail",name:"Retail & E-commerce",description:"Online retail, e-commerce, and consumer goods"},{id:"real-estate",name:"Real Estate",description:"Property management, real estate, and construction"},{id:"insurance",name:"Insurance",description:"Insurance carriers, claims processing, and risk management"},{id:"manufacturing",name:"Manufacturing",description:"Industrial manufacturing, supply chain, and logistics"},{id:"technology",name:"Technology",description:"Software, IT services, and technology companies"},{id:"marketing",name:"Marketing & Media",description:"Advertising, marketing, media, and communications"},{id:"hr",name:"Human Resources",description:"HR services, talent management, and workforce solutions"},{id:"general",name:"General Business",description:"Cross-industry and general business applications"}],marketplaceCategories=customMarketplaceCategories,marketplaceProducts=[{id:"apache-airflow",name:"Apache Airflow Workflow Template",description:"Orchestrate complex computational workflows and data processing pipelines with ease.",category:"automation-ops",imageUrl:"/images/apache-airflow.png",tags:["Data Pipeline Automation","Task Scheduling","Workflow Orchestration"],isTrending:!0},{id:"advanced-web-automation",name:"Advanced Web Automation Template",description:"Automate complex web-based tasks and browser interactions at scale.",category:"automation-ops",imageUrl:"/images/web-automation.png",tags:["Browser Automation","Data Collection","Task Scheduling"]},{id:"crm-automation-accelerator",name:"CRM Automation Accelerator",description:"Streamline customer relationship management with intelligent automation.",category:"automation-ops",imageUrl:"/images/crm-automation.png",tags:["Customer Management","Lead Tracking","Sales Automation"]},{id:"hr-process-automation",name:"HR Process Automation Accelerator",description:"Automate HR workflows from onboarding to performance management.",category:"automation-ops",imageUrl:"/images/hr-automation.png",tags:["Employee Onboarding","Payroll Automation","Leave Management"]},{id:"sap-integration-connector",name:"SAP Integration Connector",description:"Seamlessly integrate SAP systems with your automation infrastructure.",category:"automation-ops",imageUrl:"/images/sap-connector.png",tags:["ERP Integration","Data Synchronization","Business Process Automation"],isTrending:!0},{id:"aws-glue-etl",name:"AWS Glue ETL Template",description:"Build serverless ETL pipelines with AWS Glue for data integration.",category:"automation-ops",imageUrl:"/images/aws-glue.png",tags:["Data Integration","Serverless ETL","Cloud Data Processing"]},{id:"document-processing-automation",name:"Document Processing Automation Template",description:"Automate document processing with OCR and intelligent data extraction.",category:"automation-ops",imageUrl:"/images/document-automation.png",tags:["OCR","Document Classification","Data Extraction"]},{id:"hyperscience-document",name:"Hyperscience Document Automation Template",description:"AI-powered document processing for claims and data extraction.",category:"automation-ops",imageUrl:"/images/hyperscience.png",tags:["AI Document Processing","Claims Automation","Data Extraction"]},{id:"ai-automation-skill",name:"AI Automation Skill Template",description:"Build intelligent automation with machine learning capabilities.",category:"automation-ops",imageUrl:"/images/ai-automation.png",tags:["Machine Learning","Predictive Analytics","Task Automation"]},{id:"blue-prism-ia",name:"SS&C Blue Prism IA Template",description:"Enterprise-grade intelligent automation platform for process optimization.",category:"automation-ops",imageUrl:"/images/blue-prism.png",tags:["Intelligent Automation","Process Optimization","RPA Governance"]},{id:"business-process-bot",name:"Business Process Automation Bot",description:"Automate repetitive business processes with configurable bots.",category:"automation-ops",imageUrl:"/images/process-bot.png",tags:["Workflow Automation","Task Management","Process Optimization"]},{id:"automation-anywhere-enterprise",name:"Automation Anywhere Enterprise Bot",description:"Deploy enterprise-scale RPA with business rules and exception handling.",category:"automation-ops",imageUrl:"/images/automation-anywhere.png",tags:["Robotic Process Automation","Business Rules Engine","Exception Handling"]},{id:"cloud-workflow-automation",name:"Cloud Workflow Automation Template",description:"Build cloud-native workflows with automated notifications and data sync.",category:"automation-ops",imageUrl:"/images/cloud-workflow.png",tags:["Cloud Integration","Data Sync","Automated Notifications"]},{id:"azure-data-factory",name:"Azure Data Factory Pipeline Template",description:"Create data integration pipelines in the cloud with Azure.",category:"automation-ops",imageUrl:"/images/azure-factory.png",tags:["Cloud Data Orchestration","ETL Automation","Data Integration"]},{id:"crm-workflow-automation",name:"CRM Workflow Automation Template",description:"Automate sales workflows from lead nurturing to pipeline management.",category:"automation-ops",imageUrl:"/images/crm-workflow.png",tags:["Lead Nurturing","Customer Engagement","Sales Pipeline Management"]},{id:"ecommerce-automation",name:"E-commerce Automation Template",description:"Streamline e-commerce operations from order processing to customer notifications.",category:"automation-ops",industry:"retail",imageUrl:"/images/ecommerce-automation.png",tags:["Order Processing","Inventory Management","Customer Notifications"]},{id:"digital-worker-finance",name:"Digital Worker for Finance",description:"Deploy digital workers for financial process automation.",category:"automation-ops",industry:"finance",imageUrl:"/images/finance-worker.png",tags:["Invoice Automation","Expense Management","Financial Reporting"]},{id:"digital-worker-hr",name:"Digital Worker for HR",description:"Automate HR processes with intelligent digital workers.",category:"automation-ops",industry:"hr",imageUrl:"/images/hr-worker.png",tags:["Recruitment Automation","Employee Data Management","Compliance Tracking"]},{id:"aws-integration-automation",name:"AWS Integration Automation Template",description:"Build serverless automation workflows with AWS services.",category:"automation-ops",imageUrl:"/images/aws-integration.png",tags:["Cloud Service Integration","Data Migration","Serverless Automation"]},{id:"streamsets-data-collector",name:"StreamSets Data Collector Template",description:"Build real-time data pipelines with monitoring capabilities.",category:"automation-ops",imageUrl:"/images/streamsets.png",tags:["Real-Time Data Streaming","Pipeline Monitoring","Data Integration"]},{id:"clickup-task-automation",name:"ClickUp Task Automation Template",description:"Automate task assignment, deadline prediction, and team collaboration workflows.",category:"assistant-tools",imageUrl:"/images/clickup.png",tags:["Task Assignment","Deadline Prediction","Team Collaboration"]},{id:"marketing-automation-workflow",name:"Marketing Automation Workflow",description:"Streamline marketing campaigns with automated email sequences and social scheduling.",category:"assistant-tools",industry:"marketing",imageUrl:"/images/marketing-workflow.png",tags:["Campaign Management","Email Automation","Social Media Scheduling"],isTrending:!0},{id:"asana-workflow-automation",name:"Asana Workflow Automation Template",description:"Automate project tracking, task management, and team notifications in Asana.",category:"assistant-tools",imageUrl:"/images/asana.png",tags:["Task Management","Notification Automation","Project Tracking"]},{id:"business-optimization-automation",name:"Business Optimization Automation Template",description:"Optimize business operations with automated efficiency tracking and resource allocation.",category:"assistant-tools",imageUrl:"/images/business-optimization.png",tags:["Efficiency Improvement","Resource Allocation","Performance Tracking"]},{id:"grammarly-writing-automation",name:"Grammarly Writing Automation Template",description:"Enhance content quality with automated grammar checking and tone analysis.",category:"assistant-tools",imageUrl:"/images/grammarly.png",tags:["Grammar Checking","Tone Analysis","Content Enhancement"]},{id:"social-media-automation-applet",name:"Social Media Automation Applet",description:"Schedule posts, curate content, and track engagement across social platforms.",category:"assistant-tools",imageUrl:"/images/social-automation.png",tags:["Post Scheduling","Content Curation","Engagement Tracking"]},{id:"taskade-productivity-template",name:"Taskade Productivity Template",description:"Collaborate on tasks with real-time updates and project management features.",category:"assistant-tools",imageUrl:"/images/taskade.png",tags:["Task Collaboration","Real-Time Updates","Project Management"]},{id:"home-automation-applet",name:"Home Automation Applet",description:"Control smart devices, manage energy usage, and enhance home security.",category:"assistant-tools",imageUrl:"/images/home-automation.png",tags:["Smart Device Control","Energy Management","Security Alerts"]},{id:"work-productivity-automation",name:"Work Productivity Automation Applet",description:"Boost productivity with task prioritization, time tracking, and focus mode features.",category:"assistant-tools",imageUrl:"/images/work-productivity.png",tags:["Task Prioritization","Time Tracking","Focus Mode"]},{id:"database-automation-template",name:"Database Automation Template",description:"Automate data entry, record management, and report generation tasks.",category:"assistant-tools",imageUrl:"/images/database-automation.png",tags:["Data Entry Automation","Record Management","Report Generation"]},{id:"notion-ai-notes-template",name:"Notion AI Notes Template",description:"Organize notes and tasks with AI-powered content creation and automation.",category:"assistant-tools",imageUrl:"/images/notion-ai.png",tags:["Note Automation","Task Organization","Content Creation"]},{id:"productivity-automation-template",name:"Productivity Automation Template",description:"Streamline daily tasks with calendar integration and email management.",category:"assistant-tools",imageUrl:"/images/productivity-automation.png",tags:["Task Automation","Calendar Integration","Email Management"]},{id:"reclaim-ai-scheduling",name:"Reclaim AI Scheduling Template",description:"Optimize calendar with smart meeting scheduling and focus time management.",category:"assistant-tools",imageUrl:"/images/reclaim-ai.png",tags:["Calendar Optimization","Meeting Scheduling","Focus Time Management"]},{id:"workflow-automation-template",name:"Workflow Automation Template",description:"Automate team processes with collaboration tools and file sharing integration.",category:"assistant-tools",imageUrl:"/images/workflow-automation.png",tags:["Process Automation","Team Collaboration","File Sharing"]},{id:"clockwise-scheduling-template",name:"Clockwise Scheduling Template",description:"Protect focus time and optimize meetings with intelligent calendar management.",category:"assistant-tools",imageUrl:"/images/clockwise.png",tags:["Meeting Optimization","Focus Time Protection","Calendar Management"]},{id:"community-workflow-automation",name:"Community Workflow Automation Template",description:"Engage community members with automated forum management and event scheduling.",category:"assistant-tools",imageUrl:"/images/community-workflow.png",tags:["User Engagement","Forum Management","Event Scheduling"]},{id:"feedhive-social-media",name:"FeedHive Social Media Template",description:"Manage social media with AI-powered content suggestions and analytics.",category:"assistant-tools",imageUrl:"/images/feedhive.png",tags:["Social Media Posting","Content Suggestions","Analytics Tracking"]},{id:"business-blueprint-automation",name:"Business Blueprint Automation Template",description:"Plan and track business strategy with automated resource management.",category:"assistant-tools",imageUrl:"/images/business-blueprint.png",tags:["Strategic Planning","Resource Management","Milestone Tracking"]},{id:"airtable-data-automation",name:"Airtable Data Automation Template",description:"Organize data with automated workflows and integration actions.",category:"assistant-tools",imageUrl:"/images/airtable.png",tags:["Data Organization","Workflow Triggers","Integration Actions"]},{id:"trengo-communication-template",name:"Trengo Communication Template",description:"Manage multi-channel communications with smart routing and engagement tools.",category:"assistant-tools",imageUrl:"/images/trengo.png",tags:["Multi-Channel Inbox","Smart Routing","Customer Engagement"]},{id:"apromore-process-mining",name:"Apromore Process Mining Template",description:"Visualize processes, identify bottlenecks, and integrate custom data sources.",category:"process-mining",imageUrl:"/images/apromore.png",tags:["Process Visualization","Bottleneck Identification","Custom Data Integration"]},{id:"skan-ai-digital-twin",name:"Skan AI Digital Twin Template",description:"Create digital twins of processes with real-time insights and optimization.",category:"process-mining",imageUrl:"/images/skan-ai.png",tags:["Real-Time Insights","Human-System Integration","Process Optimization"]},{id:"source-system-process",name:"Source System Process Template",description:"Integrate and analyze processes from multiple source systems.",category:"process-mining",imageUrl:"/images/source-system.png",tags:["Data Source Integration","Process Mapping","System Audit"]},{id:"igrafx-process-optimization",name:"iGrafx Process Optimization Template",description:"Simulate processes and optimize workflows with analytics integration.",category:"process-mining",imageUrl:"/images/igrafx.png",tags:["Process Simulation","Analytics Integration","Workflow Improvement"]},{id:"actionable-process-blueprint",name:"Actionable Process Blueprint",description:"Transform process insights into actionable improvement plans.",category:"process-mining",imageUrl:"/images/process-blueprint.png",tags:["Process Improvement","Automation Opportunities","KPI Tracking"]},{id:"celonis-execution-management",name:"Celonis Execution Management Template",description:"Execute process improvements with data-driven decision making.",category:"process-mining",imageUrl:"/images/celonis.png",tags:["Process Execution","Performance Monitoring","Data-Driven Decisions"]},{id:"process-connector-analysis",name:"Process Connector Analysis Template",description:"Analyze system integrations and data flows between process connectors.",category:"process-mining",imageUrl:"/images/process-connector.png",tags:["System Integration","Data Flow Monitoring","Connector Performance"]},{id:"minit-process-discovery",name:"Minit Process Discovery Template",description:"Discover and map processes with efficiency analysis and compliance tracking.",category:"process-mining",imageUrl:"/images/minit.png",tags:["Process Mapping","Efficiency Analysis","Compliance Tracking"]},{id:"use-case-process-template",name:"Use Case Process Template",description:"Industry-specific process analysis with benchmarking and best practices.",category:"process-mining",imageUrl:"/images/use-case-process.png",tags:["Industry-Specific Analysis","Process Benchmarking","Best Practices"]},{id:"qpr-process-analyzer",name:"QPR ProcessAnalyzer Template",description:"Gain process insights with advanced visualization and performance tracking.",category:"process-mining",imageUrl:"/images/qpr.png",tags:["Process Insights","Visualization Tools","Performance Tracking"]},{id:"data-transformation-process",name:"Data Transformation Process Template",description:"Transform and cleanse data for process mining with quality monitoring.",category:"process-mining",imageUrl:"/images/data-transformation.png",tags:["Data Cleansing","ETL Processes","Data Quality Monitoring"]},{id:"signavio-process-intelligence",name:"Signavio Process Intelligence Template",description:"Detect bottlenecks and optimize processes with intelligent analytics.",category:"process-mining",imageUrl:"/images/signavio.png",tags:["Process Analytics","Bottleneck Detection","Optimization Insights"]},{id:"process-data-extraction",name:"Process Data Extraction Tool",description:"Extract and analyze event logs for process mining inputs.",category:"process-mining",imageUrl:"/images/data-extraction.png",tags:["Log Analysis","Event Data Collection","Process Mining Input"]},{id:"myinvenio-process-analysis",name:"myInvenio Process Analysis Template",description:"Simulate processes and optimize costs with workflow insights.",category:"process-mining",imageUrl:"/images/myinvenio.png",tags:["Process Simulation","Cost Optimization","Workflow Insights"]},{id:"automation-opportunity-identification",name:"Automation Opportunity Identification Template",description:"Identify and prioritize automation opportunities with ROI analysis.",category:"process-mining",imageUrl:"/images/automation-opportunity.png",tags:["ROI Analysis","Automation Feasibility","Process Prioritization"]},{id:"process-optimization-analysis",name:"Process Optimization Analysis Template",description:"Analyze processes for efficiency gains and resource optimization.",category:"process-mining",imageUrl:"/images/process-optimization.png",tags:["Efficiency Gains","Cost Reduction","Resource Allocation"]},{id:"timeline-process-analysis",name:"Timeline Process Analysis Tool",description:"Analyze process timelines with event sequencing and duration tracking.",category:"process-mining",imageUrl:"/images/timeline-analysis.png",tags:["Event Sequencing","Duration Analysis","Process Visualization"]},{id:"disco-process-mining",name:"Disco Process Mining Template",description:"Discover processes with performance analysis and visual mapping.",category:"process-mining",imageUrl:"/images/disco.png",tags:["Process Discovery","Performance Analysis","Visual Mapping"]},{id:"process-mining-insight",name:"Process Mining Insight Template",description:"Generate insights for decision support and continuous improvement.",category:"process-mining",imageUrl:"/images/process-insight.png",tags:["Process Insights","Decision Support","Continuous Improvement"]},{id:"logpickr-process-analytics",name:"Logpickr Process Analytics Template",description:"Real-time process monitoring with optimization and data integration.",category:"process-mining",imageUrl:"/images/logpickr.png",tags:["Real-Time Monitoring","Process Optimization","Data Integration"]},{id:"informatica-ipaas",name:"Informatica iPaaS Connector",description:"Cloud Integration, Data Sync, Enterprise Connectivity.",category:"integration-services",imageUrl:"/images/informatica.png",tags:["Cloud Integration","Data Sync","Enterprise Connectivity"]},{id:"crm-data-export",name:"CRM Data Export Connector",description:"Data Export, Reporting, Analytics Integration.",category:"integration-services",imageUrl:"/images/crm-export.png",tags:["Data Export","Reporting","Analytics Integration"]},{id:"ai-powered-automation-connector",name:"AI-Powered Automation Connector",description:"AI Integration, Automation, Decision Support.",category:"integration-services",imageUrl:"/images/ai-automation-connector.png",tags:["AI Integration","Automation","Decision Support"]},{id:"talend-integration",name:"Talend Integration Connector",description:"Data Integration, ETL Processes, Cloud Connectivity.",category:"integration-services",imageUrl:"/images/talend.png",tags:["Data Integration","ETL Processes","Cloud Connectivity"]},{id:"erp-system-connector",name:"ERP System Connector",description:"ERP Integration, Financial Data Sync, Inventory Management.",category:"integration-services",imageUrl:"/images/erp-connector.png",tags:["ERP Integration","Financial Data Sync","Inventory Management"]},{id:"matillion-data",name:"Matillion Data Connector",description:"Cloud Data Integration, ETL Automation, Data Warehousing.",category:"integration-services",imageUrl:"/images/matillion.png",tags:["Cloud Data Integration","ETL Automation","Data Warehousing"]},{id:"custom-integration",name:"Custom Integration Connector",description:"Custom API, Tailored Workflows, Flexible Integration.",category:"integration-services",imageUrl:"/images/custom-integration.png",tags:["Custom API","Tailored Workflows","Flexible Integration"]},{id:"saas-application",name:"SaaS Application Connector",description:"Cloud App Integration, Data Sync, User Management.",category:"integration-services",imageUrl:"/images/saas-app.png",tags:["Cloud App Integration","Data Sync","User Management"]},{id:"database-integration",name:"Database Integration Connector",description:"SQL Integration, Data Warehousing, Real-Time Sync.",category:"integration-services",imageUrl:"/images/database-integration.png",tags:["SQL Integration","Data Warehousing","Real-Time Sync"]},{id:"fivetran-data-pipeline",name:"Fivetran Data Pipeline Connector",description:"Automated Data Sync, Cloud Integration, Data Warehousing.",category:"integration-services",imageUrl:"/images/fivetran.png",tags:["Automated Data Sync","Cloud Integration","Data Warehousing"]},{id:"community-built-connector",name:"Community-Built Connector",description:"Open-Source Integration, Custom Solutions, Community Support.",category:"integration-services",imageUrl:"/images/community-connector.png",tags:["Open-Source Integration","Custom Solutions","Community Support"]},{id:"data-source-integration",name:"Data Source Integration Connector",description:"Data Ingestion, ETL Processes, Data Pipeline Management.",category:"integration-services",imageUrl:"/images/data-source-integration.png",tags:["Data Ingestion","ETL Processes","Data Pipeline Management"]},{id:"secure-messaging",name:"Secure Messaging Connector",description:"Encrypted Communication, Secure Data Transfer, Compliance.",category:"integration-services",imageUrl:"/images/secure-messaging.png",tags:["Encrypted Communication","Secure Data Transfer","Compliance"]},{id:"workflow-automation-connector",name:"Workflow Automation Connector",description:"Task Automation, Process Orchestration, Event Triggers.",category:"integration-services",imageUrl:"/images/workflow-connector.png",tags:["Task Automation","Process Orchestration","Event Triggers"]},{id:"project-management-integration",name:"Project Management Integration Connector",description:"Task Sync, Milestone Tracking, Team Collaboration.",category:"integration-services",imageUrl:"/images/project-management-integration.png",tags:["Task Sync","Milestone Tracking","Team Collaboration"]},{id:"enterprise-integration",name:"Enterprise Integration Connector",description:"Large-Scale Integration, Multi-System Orchestration, API Management.",category:"integration-services",imageUrl:"/images/enterprise-integration.png",tags:["Large-Scale Integration","Multi-System Orchestration","API Management"]},{id:"exalate-sync",name:"Exalate Sync Connector",description:"Cross-Platform Sync, ITSM Integration, Secure Data Transfer.",category:"integration-services",imageUrl:"/images/exalate.png",tags:["Cross-Platform Sync","ITSM Integration","Secure Data Transfer"]},{id:"on-premise-system",name:"On-Premise System Connector",description:"Legacy System Integration, Data Migration, Hybrid Cloud.",category:"integration-services",imageUrl:"/images/on-premise.png",tags:["Legacy System Integration","Data Migration","Hybrid Cloud"]},{id:"cloud-business-app",name:"Cloud Business App Connector",description:"Cloud Service Integration, SaaS Management, User Provisioning.",category:"integration-services",imageUrl:"/images/cloud-business-app.png",tags:["Cloud Service Integration","SaaS Management","User Provisioning"]},{id:"portable-long-tail",name:"Portable Long-Tail Connector",description:"Niche API Integration, Custom Data Sync, Flexible Connectivity.",category:"integration-services",imageUrl:"/images/portable-long-tail.png",tags:["Niche API Integration","Custom Data Sync","Flexible Connectivity"]},{id:"salesforce-agentforce",name:"Salesforce Agentforce Sales Agent",description:"Sales Automation, CRM Integration, Lead Management.",category:"agent-catalog",imageUrl:"/images/salesforce-agentforce.png",tags:["Sales Automation","CRM Integration","Lead Management"]},{id:"data-analysis-ai",name:"Data Analysis AI Agent",description:"Data Insights, Predictive Analytics, Reporting Automation.",category:"agent-catalog",imageUrl:"/images/data-analysis-agent.png",tags:["Data Insights","Predictive Analytics","Reporting Automation"]},{id:"crm-ai-agent",name:"CRM AI Agent",description:"Customer Relationship Management, Lead Scoring, Sales Forecasting.",category:"agent-catalog",imageUrl:"/images/crm-agent.png",tags:["Customer Relationship Management","Lead Scoring","Sales Forecasting"]},{id:"lindy-ai-meeting",name:"Lindy AI Meeting Scheduler",description:"Meeting Automation, Calendar Integration, Scheduling Efficiency.",category:"agent-catalog",imageUrl:"/images/lindy-ai.png",tags:["Meeting Automation","Calendar Integration","Scheduling Efficiency"]},{id:"workflow-automation-ai",name:"Workflow Automation AI Agent",description:"Process Automation, Task Scheduling, Resource Allocation.",category:"agent-catalog",imageUrl:"/images/workflow-ai-agent.png",tags:["Process Automation","Task Scheduling","Resource Allocation"]},{id:"business-automation-ai",name:"Business Automation AI Agent",description:"Operational Efficiency, Process Optimization, Decision Support.",category:"agent-catalog",imageUrl:"/images/business-ai-agent.png",tags:["Operational Efficiency","Process Optimization","Decision Support"]},{id:"marketing-ai-agent",name:"Marketing AI Agent",description:"Campaign Management, Audience Segmentation, Content Personalization.",category:"agent-catalog",imageUrl:"/images/marketing-ai-agent.png",tags:["Campaign Management","Audience Segmentation","Content Personalization"]},{id:"data-extraction-ai",name:"Data Extraction AI Agent",description:"Document Parsing, Data Capture, Information Retrieval.",category:"agent-catalog",imageUrl:"/images/data-extraction-agent.png",tags:["Document Parsing","Data Capture","Information Retrieval"]},{id:"insurance-claims-ai",name:"Insurance Claims AI Agent",description:"Claims Processing, Fraud Detection, Policy Management.",category:"agent-catalog",industry:"insurance",imageUrl:"/images/insurance-agent.png",tags:["Claims Processing","Fraud Detection","Policy Management"]},{id:"zendesk-ai-ticket",name:"Zendesk AI Ticket Agent",description:"Ticket Automation, Sentiment Analysis, Customer Support.",category:"agent-catalog",imageUrl:"/images/zendesk-ai.png",tags:["Ticket Automation","Sentiment Analysis","Customer Support"]},{id:"property-management-ai",name:"Property Management AI Agent",description:"Lease Management, Maintenance Scheduling, Tenant Communication.",category:"agent-catalog",industry:"real-estate",imageUrl:"/images/property-agent.png",tags:["Lease Management","Maintenance Scheduling","Tenant Communication"]},{id:"debt-collection-ai",name:"Debt Collection AI Agent",description:"Payment Reminders, Negotiation Support, Compliance Tracking.",category:"agent-catalog",industry:"finance",imageUrl:"/images/debt-collection-agent.png",tags:["Payment Reminders","Negotiation Support","Compliance Tracking"]},{id:"decision-support-ai",name:"Decision Support AI Agent",description:"Business Intelligence, Scenario Analysis, Risk Assessment.",category:"agent-catalog",imageUrl:"/images/decision-support-agent.png",tags:["Business Intelligence","Scenario Analysis","Risk Assessment"]},{id:"liveperson-conversational",name:"LivePerson Conversational Agent",description:"Omnichannel Messaging, Intent Recognition, Customer Engagement.",category:"agent-catalog",imageUrl:"/images/liveperson.png",tags:["Omnichannel Messaging","Intent Recognition","Customer Engagement"]},{id:"low-code-automation-ai",name:"Low-Code Automation AI Agent",description:"No-Code Development, Workflow Automation, User-Friendly Interface.",category:"agent-catalog",imageUrl:"/images/low-code-agent.png",tags:["No-Code Development","Workflow Automation","User-Friendly Interface"]},{id:"policy-management-ai",name:"Policy Management AI Agent",description:"Policy Compliance, Document Management, Approval Workflows.",category:"agent-catalog",imageUrl:"/images/policy-agent.png",tags:["Policy Compliance","Document Management","Approval Workflows"]},{id:"maintenance-management-ai",name:"Maintenance Management AI Agent",description:"Preventive Maintenance, Asset Tracking, Work Order Automation.",category:"agent-catalog",imageUrl:"/images/maintenance-agent.png",tags:["Preventive Maintenance","Asset Tracking","Work Order Automation"]},{id:"tenant-communication-ai",name:"Tenant Communication AI Agent",description:"Resident Engagement, Notification System, Feedback Collection.",category:"agent-catalog",imageUrl:"/images/tenant-comm-agent.png",tags:["Resident Engagement","Notification System","Feedback Collection"]},{id:"partner-solution-ai",name:"Partner Solution AI Agent",description:"Collaborative Workflows, Partner Integration, Joint Venture Support.",category:"agent-catalog",imageUrl:"/images/partner-agent.png",tags:["Collaborative Workflows","Partner Integration","Joint Venture Support"]},{id:"orby-ai-enterprise",name:"Orby AI Enterprise Agent",description:"Generative Process Automation, Workflow Efficiency, Scalable Deployment.",category:"agent-catalog",imageUrl:"/images/orby-ai.png",tags:["Generative Process Automation","Workflow Efficiency","Scalable Deployment"]},{id:"logon-strategic-intelligence-agent",name:"LOG_ON Strategic Intelligence Agent",description:"Conversational, autonomous agent for business strategy and opportunity identification.",category:"agent-catalog",imageUrl:"/images/logon-agent.png",tags:["Strategic AI","Business Intelligence","Opportunity Identification","Conversational Agent"]},{id:"ai-marketing-campaign-agent",name:"AI Marketing Campaign Agent",description:"Develops and optimizes marketing campaigns using advanced AI algorithms.",category:"agent-catalog",imageUrl:"/images/marketing-campaign-agent.png",tags:["Marketing Automation","Campaign Optimization","AI Marketing"]}],Marketplace=()=>{var mt,gt;const[et,c]=reactExports.useState("all"),[tt,nt]=reactExports.useState("all"),[rt,it]=reactExports.useState(""),[st,at]=reactExports.useState(!1),ot=useNavigate(),lt=marketplaceProducts.filter(yt=>yt.isTrending),ct=marketplaceProducts.filter(yt=>{const _t=et==="all"||yt.category===et,pt=tt==="all"||yt.industry===tt,xt=yt.name.toLowerCase().includes(rt.toLowerCase())||yt.description.toLowerCase().includes(rt.toLowerCase())||yt.tags.some(vt=>vt.toLowerCase().includes(rt.toLowerCase()));return _t&&pt&&xt}),dt=yt=>{ot(`/marketplace/products/${yt}`)},ht=()=>jsxRuntimeExports.jsxs(motion.div,{className:"bg-bg-dark-90 border border-border-white-20 rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[jsxRuntimeExports.jsx("button",{onClick:()=>at(!1),className:"float-right text-text-white-60 hover:text-text-white transition-colors",children:""}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-2xl text-text-white mb-4",children:"Unlock Your Creator Potential with LOG_ON"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-80 mb-6",children:"Joining the LOG_ON creator community means transforming your ideas into powerful AI agents and automations. Whether you're a seasoned developer or a no-code enthusiast, our comprehensive toolkit makes it easy to build, publish, and monetize your intelligence."}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-primary mb-2",children:"Easy-to-Use SDK/APIs"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-white-70",children:"Seamless integration for robust development."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-primary mb-2",children:"No-Code/Low-Code Tools"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-white-70",children:"Build automations without complex coding."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-primary mb-2",children:"Global/Regional Reach"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-white-70",children:"Tap into a growing user base, including our Africa-first market."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-primary mb-2",children:"Fair Monetization"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-white-70",children:"Earn revenue through our transparent marketplace model."})]})]})]}),jsxRuntimeExports.jsxs("form",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Full Name",className:"bg-bg-dark border border-border-white-20 rounded-lg px-4 py-3 text-text-white placeholder-text-white-40 focus:border-primary focus:outline-none"}),jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Email Address",className:"bg-bg-dark border border-border-white-20 rounded-lg px-4 py-3 text-text-white placeholder-text-white-40 focus:border-primary focus:outline-none"})]}),jsxRuntimeExports.jsxs("select",{className:"w-full bg-bg-dark border border-border-white-20 rounded-lg px-4 py-3 text-text-white focus:border-primary focus:outline-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Developer Type"}),jsxRuntimeExports.jsx("option",{value:"individual",children:"Individual Developer"}),jsxRuntimeExports.jsx("option",{value:"agency",children:"Small Agency"}),jsxRuntimeExports.jsx("option",{value:"enterprise",children:"Enterprise Solution Provider"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-text-white-80 mb-2",children:"Primary Interest (select all that apply):"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Building AI Agents","Creating Automations","Providing Integration Services","Consulting/Partnership"].map(yt=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm text-text-white-70",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-border-white-20"}),yt]},yt))})]}),jsxRuntimeExports.jsx("textarea",{placeholder:"Message/Brief Idea (Optional)",rows:4,className:"w-full bg-bg-dark border border-border-white-20 rounded-lg px-4 py-3 text-text-white placeholder-text-white-40 focus:border-primary focus:outline-none resize-none"}),jsxRuntimeExports.jsx(CTAButton,{variant:"primary",className:"w-full",children:"Apply to Become a Creator"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-white-60 text-center",children:"Our team will review your application and provide access to our developer toolkit and resources."})]})]});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Meta,{}),jsxRuntimeExports.jsxs(GridBackground,{children:[jsxRuntimeExports.jsx(AppHeader,{}),jsxRuntimeExports.jsxs("main",{className:"pt-20",children:[jsxRuntimeExports.jsx(SectionWrapper,{className:"text-center py-16",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[jsxRuntimeExports.jsxs("h1",{className:"font-satoshi font-bold text-4xl md:text-6xl lg:text-7xl leading-tight mb-6",children:["Unlock Your Business Potential:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"gradient-text",children:"The LOG_ON AI Marketplace"})]}),jsxRuntimeExports.jsx("p",{className:"max-w-4xl mx-auto font-inter text-lg md:text-xl text-text-white-80 mb-8 px-4",children:"Discover powerful AI Agents, Automations, Integrations, and more. Built for growth, optimized for your economy."}),jsxRuntimeExports.jsxs(CTAButton,{variant:"primary",size:"lg",onClick:()=>{var yt;return(yt=document.getElementById("marketplace-products"))==null?void 0:yt.scrollIntoView({behavior:"smooth"})},children:["Explore All Solutions",jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 ml-2"})]})]})}),jsxRuntimeExports.jsxs(SectionWrapper,{className:"py-16",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-3xl md:text-4xl text-text-white mb-4",children:"Discover Your Next Breakthrough"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-70 max-w-2xl mx-auto",children:"Guide yourself to relevant solutions that transform your business operations"})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-1 gap-6 mb-16",children:jsxRuntimeExports.jsxs(motion.div,{className:"glass-card p-6 text-center group hover:border-primary/50 transition-all duration-300",whileHover:{y:-4},children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-8 h-8 text-primary"})}),jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-semibold text-xl text-text-white mb-3",children:"See What's Trending"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-70 mb-4",children:"Explore popular agents and community-contributed automations."}),jsxRuntimeExports.jsx("button",{onClick:()=>{var yt;return(yt=document.getElementById("trending-products"))==null?void 0:yt.scrollIntoView({behavior:"smooth"})},className:"text-primary hover:text-primary-hover font-medium",children:"View Trending "})]})})]}),jsxRuntimeExports.jsxs(SectionWrapper,{className:"py-16 bg-bg-dark-95",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-3xl md:text-4xl text-text-white mb-4",children:"Innovate & Partner with LOG_ON"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-70 max-w-2xl mx-auto",children:"Join our ecosystem of creators and build the future of autonomous business"})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs(motion.div,{className:"glass-card p-6 text-center group hover:border-primary/50 transition-all duration-300",whileHover:{y:-4},children:[jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-semibold text-xl text-text-white mb-3",children:"Become a Creator"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-70 mb-4",children:"Build, publish, and monetize your AI agents & automations on LOG_ON."}),jsxRuntimeExports.jsx(CTAButton,{variant:"outline",size:"sm",onClick:()=>at(!0),children:"Get Started"})]}),jsxRuntimeExports.jsxs(motion.div,{className:"glass-card p-6 text-center group hover:border-primary/50 transition-all duration-300",whileHover:{y:-4},children:[jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-semibold text-xl text-text-white mb-3",children:"Submit Your Solutions"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-70 mb-4",children:"Got an idea? Share your no-code/low-code automations with our global audience."}),jsxRuntimeExports.jsx(CTAButton,{variant:"outline",size:"sm",children:"Submit Solution"})]}),jsxRuntimeExports.jsxs(motion.div,{className:"glass-card p-6 text-center group hover:border-primary/50 transition-all duration-300",whileHover:{y:-4},children:[jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-semibold text-xl text-text-white mb-3",children:"Monetize Your Creations"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-70 mb-4",children:"Leverage our marketplace for fair revenue sharing and reach a growing user base."}),jsxRuntimeExports.jsx(CTAButton,{variant:"outline",size:"sm",children:"Learn More"})]})]})]}),lt.length>0&&jsxRuntimeExports.jsxs(SectionWrapper,{id:"trending-products",className:"py-16",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-3xl md:text-4xl text-text-white mb-4",children:"What's Trending"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-70 max-w-2xl mx-auto",children:"Explore the most popular AI agents and automations trending in our marketplace."})]}),jsxRuntimeExports.jsx("div",{className:"hidden lg:grid lg:grid-cols-3 xl:grid-cols-4 gap-6",children:lt.map(yt=>jsxRuntimeExports.jsx(ProductMarketplaceCard,{product:yt,onViewDetails:dt},yt.id))}),jsxRuntimeExports.jsx("div",{className:"lg:hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:jsxRuntimeExports.jsx("div",{className:"flex gap-4 pb-4",style:{width:"max-content"},children:lt.map(yt=>jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-80",children:jsxRuntimeExports.jsx(ProductMarketplaceCard,{product:yt,onViewDetails:dt})},yt.id))})})})]}),jsxRuntimeExports.jsxs(SectionWrapper,{id:"marketplace-products",className:"py-16",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-3xl md:text-4xl text-text-white mb-4 text-center",children:"Browse All Agents & Automations"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-white-40 w-5 h-5"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search products, tags, or descriptions...",value:rt,onChange:yt=>it(yt.target.value),className:"w-full bg-bg-dark-90 border border-border-white-20 rounded-lg pl-10 pr-4 py-3 text-text-white placeholder-text-white-40 focus:border-primary focus:outline-none"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row gap-4 lg:w-auto",children:jsxRuntimeExports.jsxs("select",{value:tt,onChange:yt=>nt(yt.target.value),className:"bg-bg-dark-90 border border-border-white-20 rounded-lg px-4 py-3 text-text-white focus:border-primary focus:outline-none min-w-[200px]",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Industries"}),industryCategories.map(yt=>jsxRuntimeExports.jsx("option",{value:yt.id,children:yt.name},yt.id))]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:[jsxRuntimeExports.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg font-medium transition-all ${et==="all"?"bg-primary text-bg-dark":"bg-bg-dark-90 text-text-white-70 hover:text-text-white border border-border-white-20"}`,children:"All Categories"}),customMarketplaceCategories.map(yt=>jsxRuntimeExports.jsx("button",{onClick:()=>c(yt.id),className:`px-4 py-2 rounded-lg font-medium transition-all ${et===yt.id?"bg-primary text-bg-dark":"bg-bg-dark-90 text-text-white-70 hover:text-text-white border border-border-white-20"}`,children:yt.name},yt.id))]})]}),et!=="all"&&jsxRuntimeExports.jsx("div",{className:"text-center mb-8",children:customMarketplaceCategories.filter(yt=>yt.id===et).map(yt=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-semibold text-2xl text-text-white mb-2",children:yt.title}),jsxRuntimeExports.jsx("p",{className:"text-text-white-70 max-w-3xl mx-auto",children:yt.description})]},yt.id))}),jsxRuntimeExports.jsxs("div",{className:"mb-6 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 mb-2",children:[et!=="all"&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary border border-primary/20",children:["Category: ",(mt=customMarketplaceCategories.find(yt=>yt.id===et))==null?void 0:mt.name,jsxRuntimeExports.jsx("button",{onClick:()=>c("all"),className:"ml-2 hover:text-primary-light",children:""})]}),tt!=="all"&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-secondary/10 text-secondary border border-secondary/20",children:["Industry: ",(gt=industryCategories.find(yt=>yt.id===tt))==null?void 0:gt.name,jsxRuntimeExports.jsx("button",{onClick:()=>nt("all"),className:"ml-2 hover:text-secondary-light",children:""})]}),rt&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-accent-purple/10 text-accent-purple border border-accent-purple/20",children:['Search: "',rt,'"',jsxRuntimeExports.jsx("button",{onClick:()=>it(""),className:"ml-2 hover:text-accent-purple-light",children:""})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-text-white-60 text-sm",children:["Showing ",ct.length," of ",marketplaceProducts.length," products",(et!=="all"||tt!=="all"||rt)&&jsxRuntimeExports.jsx("button",{onClick:()=>{c("all"),nt("all"),it("")},className:"ml-4 text-primary hover:text-primary-light text-xs underline",children:"Clear all filters"})]})]}),jsxRuntimeExports.jsx("div",{className:"hidden lg:grid lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ct.map(yt=>jsxRuntimeExports.jsx(ProductMarketplaceCard,{product:yt,onViewDetails:dt},yt.id))}),jsxRuntimeExports.jsx("div",{className:"lg:hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:jsxRuntimeExports.jsx("div",{className:"flex gap-4 pb-4",style:{width:"max-content"},children:ct.map(yt=>jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-80",children:jsxRuntimeExports.jsx(ProductMarketplaceCard,{product:yt,onViewDetails:dt})},yt.id))})})}),ct.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-text-white-60 text-lg",children:"No products found matching your criteria. Try adjusting your search or category filter."}),jsxRuntimeExports.jsxs("p",{className:"text-text-white-40 text-sm mt-2",children:["Total products available: ",marketplaceProducts.length]})]})]})]}),jsxRuntimeExports.jsx(Footer,{})]}),st&&jsxRuntimeExports.jsx(ResponsiveModal,{isOpen:st,onClose:()=>at(!1),children:jsxRuntimeExports.jsx(ht,{})})]})},ProductDetails=()=>{const{id:et}=useParams(),c=useNavigate(),tt=marketplaceProducts.find(rt=>rt.id===et),nt=marketplaceCategories.find(rt=>rt.id===(tt==null?void 0:tt.category));return tt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Meta,{title:`${tt.name} | LOG_ON Marketplace`,description:tt.description}),jsxRuntimeExports.jsxs(GridBackground,{children:[jsxRuntimeExports.jsx(AppHeader,{}),jsxRuntimeExports.jsxs("main",{className:"pt-20",children:[jsxRuntimeExports.jsx(SectionWrapper,{className:"py-4",children:jsxRuntimeExports.jsxs("nav",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx(Link,{to:"/marketplace",className:"text-text-white-60 hover:text-primary transition-colors",children:"Marketplace"}),jsxRuntimeExports.jsx("span",{className:"text-text-white-40",children:"/"}),jsxRuntimeExports.jsx("span",{className:"text-text-white-60",children:nt==null?void 0:nt.name}),jsxRuntimeExports.jsx("span",{className:"text-text-white-40",children:"/"}),jsxRuntimeExports.jsx("span",{className:"text-text-white",children:tt.name})]})}),jsxRuntimeExports.jsx(SectionWrapper,{className:"py-8",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[jsxRuntimeExports.jsxs("button",{onClick:()=>c("/marketplace"),className:"flex items-center gap-2 text-text-white-60 hover:text-primary transition-colors mb-6",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Marketplace"]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"w-40 h-40 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-2xl flex items-center justify-center mb-6 mx-auto lg:mx-0",children:[jsxRuntimeExports.jsx("img",{src:tt.imageUrl,alt:`${tt.name} icon`,className:"w-24 h-24 object-contain",onError:rt=>{var it;rt.currentTarget.style.display="none",(it=rt.currentTarget.nextElementSibling)==null||it.classList.remove("hidden")}}),jsxRuntimeExports.jsx("div",{className:"hidden w-24 h-24 bg-primary/30 rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-12 h-12 text-primary"})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"glass-card p-4",children:[jsxRuntimeExports.jsx(Shield,{className:"w-6 h-6 text-primary mx-auto mb-2"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-text-white-60",children:"Security"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-text-white",children:"Enterprise"})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card p-4",children:[jsxRuntimeExports.jsx(Clock$1,{className:"w-6 h-6 text-secondary mx-auto mb-2"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-text-white-60",children:"Setup Time"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-text-white",children:"< 30 min"})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card p-4",children:[jsxRuntimeExports.jsx(Users,{className:"w-6 h-6 text-primary mx-auto mb-2"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-text-white-60",children:"Users"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-text-white",children:"1000+"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary text-sm font-medium rounded-full border border-primary/20",children:nt==null?void 0:nt.name}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((rt,it)=>jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 fill-primary text-primary"},it)),jsxRuntimeExports.jsx("span",{className:"text-sm text-text-white-60 ml-2",children:"(4.8)"})]})]}),jsxRuntimeExports.jsx("h1",{className:"font-satoshi font-bold text-3xl lg:text-4xl text-text-white mb-4",children:tt.name}),jsxRuntimeExports.jsx("p",{className:"text-text-white-80 text-lg leading-relaxed mb-6",children:tt.description}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:tt.tags.map((rt,it)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-text-white-10 text-text-white-70 text-sm rounded-full",children:rt},it))}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs(CTAButton,{variant:"primary",size:"lg",className:"flex-1",children:[jsxRuntimeExports.jsx(Download,{className:"w-5 h-5 mr-2"}),"Install Now"]}),jsxRuntimeExports.jsxs(CTAButton,{variant:"outline",size:"lg",className:"flex-1",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-5 h-5 mr-2"}),"View Demo"]})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 p-4 bg-primary/5 border border-primary/20 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-text-white-60",children:"Starting at"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-primary",children:"Free"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-text-white-60",children:"with regional pricing"})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-text-white-60",children:"Enterprise"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold text-text-white",children:"Contact Us"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-text-white-60",children:"custom solutions"})]})]})})]})]})]})}),jsxRuntimeExports.jsx(SectionWrapper,{className:"py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"glass-card p-6",children:[jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-semibold text-xl text-text-white mb-4",children:"Overview"}),jsxRuntimeExports.jsxs("p",{className:"text-text-white-70 leading-relaxed mb-4",children:[tt.description," This powerful solution integrates seamlessly with your existing workflow and provides enterprise-grade capabilities with regional pricing that works for your economy."]}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-text-white-70",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),"Quick deployment in under 30 minutes"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),"Enterprise-grade security and compliance"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),"24/7 community and professional support"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card p-6",children:[jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-semibold text-xl text-text-white mb-4",children:"Requirements"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-text-white-60 mb-1",children:"Platform"}),jsxRuntimeExports.jsx("div",{className:"text-text-white",children:"Web, Cloud, API"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-text-white-60 mb-1",children:"Integration"}),jsxRuntimeExports.jsx("div",{className:"text-text-white",children:"REST API, Webhooks, SDKs"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-text-white-60 mb-1",children:"Data Sources"}),jsxRuntimeExports.jsx("div",{className:"text-text-white",children:"CSV, JSON, Database, APIs"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-text-white-60 mb-1",children:"Deployment"}),jsxRuntimeExports.jsx("div",{className:"text-text-white",children:"Cloud, On-premise, Hybrid"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card p-8",children:[jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-semibold text-2xl text-text-white mb-6 text-center",children:"Common Use Cases"}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{title:"Process Automation",description:"Streamline repetitive tasks and improve operational efficiency",icon:""},{title:"Data Integration",description:"Connect disparate systems and ensure data consistency",icon:""},{title:"Business Intelligence",description:"Generate insights and make data-driven decisions",icon:""}].map((rt,it)=>jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl mb-3",children:rt.icon}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-text-white mb-2",children:rt.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-white-70",children:rt.description})]},it))})]})]})}),jsxRuntimeExports.jsxs(SectionWrapper,{className:"py-16 bg-bg-dark-95",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-3xl text-text-white mb-4",children:"Related Solutions"}),jsxRuntimeExports.jsxs("p",{className:"text-text-white-70",children:["Explore other products in the ",nt==null?void 0:nt.name," category"]})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:marketplaceProducts.filter(rt=>rt.category===tt.category&&rt.id!==tt.id).slice(0,3).map(rt=>jsxRuntimeExports.jsxs(motion.div,{className:"glass-card p-6 group hover:border-primary/50 transition-all duration-300",whileHover:{y:-4},children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-lg flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("img",{src:rt.imageUrl,alt:rt.name,className:"w-10 h-10 object-contain"})}),jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-semibold text-lg text-text-white mb-2 text-center",children:rt.name}),jsxRuntimeExports.jsx("p",{className:"text-text-white-70 text-sm text-center mb-4 line-clamp-2",children:rt.description}),jsxRuntimeExports.jsx(CTAButton,{variant:"outline",size:"sm",className:"w-full",onClick:()=>c(`/marketplace/products/${rt.id}`),children:"View Details"})]},rt.id))})]})]}),jsxRuntimeExports.jsx(Footer,{})]})]}):jsxRuntimeExports.jsxs(GridBackground,{children:[jsxRuntimeExports.jsx(AppHeader,{}),jsxRuntimeExports.jsx("main",{className:"pt-20",children:jsxRuntimeExports.jsxs(SectionWrapper,{className:"text-center py-16",children:[jsxRuntimeExports.jsx("h1",{className:"font-satoshi font-bold text-4xl text-text-white mb-4",children:"Product Not Found"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-70 mb-8",children:"The product you're looking for doesn't exist or has been removed."}),jsxRuntimeExports.jsx(CTAButton,{variant:"primary",onClick:()=>c("/marketplace"),children:"Back to Marketplace"})]})}),jsxRuntimeExports.jsx(Footer,{})]})};function App(){return jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/marketplace",element:jsxRuntimeExports.jsx(Marketplace,{})}),jsxRuntimeExports.jsx(Route,{path:"/marketplace/products/:id",element:jsxRuntimeExports.jsx(ProductDetails,{})})]})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(HelmetProvider,{children:jsxRuntimeExports.jsx(App,{})})}));
