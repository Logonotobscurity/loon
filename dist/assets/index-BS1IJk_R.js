var Gv=Object.defineProperty;var Hv=(vt,ht,xt)=>ht in vt?Gv(vt,ht,{enumerable:!0,configurable:!0,writable:!0,value:xt}):vt[ht]=xt;var yo=(vt,ht,xt)=>Hv(vt,typeof ht!="symbol"?ht+"":ht,xt);function _mergeNamespaces(vt,ht){for(var xt=0;xt<ht.length;xt++){const _t=ht[xt];if(typeof _t!="string"&&!Array.isArray(_t)){for(const St in _t)if(St!=="default"&&!(St in vt)){const wt=Object.getOwnPropertyDescriptor(_t,St);wt&&Object.defineProperty(vt,St,wt.get?wt:{enumerable:!0,get:()=>_t[St]})}}}return Object.freeze(Object.defineProperty(vt,Symbol.toStringTag,{value:"Module"}))}(function(){const ht=document.createElement("link").relList;if(ht&&ht.supports&&ht.supports("modulepreload"))return;for(const St of document.querySelectorAll('link[rel="modulepreload"]'))_t(St);new MutationObserver(St=>{for(const wt of St)if(wt.type==="childList")for(const At of wt.addedNodes)At.tagName==="LINK"&&At.rel==="modulepreload"&&_t(At)}).observe(document,{childList:!0,subtree:!0});function xt(St){const wt={};return St.integrity&&(wt.integrity=St.integrity),St.referrerPolicy&&(wt.referrerPolicy=St.referrerPolicy),St.crossOrigin==="use-credentials"?wt.credentials="include":St.crossOrigin==="anonymous"?wt.credentials="omit":wt.credentials="same-origin",wt}function _t(St){if(St.ep)return;St.ep=!0;const wt=xt(St);fetch(St.href,wt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(vt){return vt&&vt.__esModule&&Object.prototype.hasOwnProperty.call(vt,"default")?vt.default:vt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$7=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$6=Symbol.for("react.profiler"),t$6=Symbol.for("react.provider"),u$9=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$6=Symbol.for("react.suspense"),x$4=Symbol.for("react.memo"),y$7=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$3(vt){return vt===null||typeof vt!="object"?null:(vt=z$1&&vt[z$1]||vt["@@iterator"],typeof vt=="function"?vt:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$8=Object.assign,D$5={};function E$7(vt,ht,xt){this.props=vt,this.context=ht,this.refs=D$5,this.updater=xt||B$2}E$7.prototype.isReactComponent={};E$7.prototype.setState=function(vt,ht){if(typeof vt!="object"&&typeof vt!="function"&&vt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,vt,ht,"setState")};E$7.prototype.forceUpdate=function(vt){this.updater.enqueueForceUpdate(this,vt,"forceUpdate")};function F$5(){}F$5.prototype=E$7.prototype;function G$2(vt,ht,xt){this.props=vt,this.context=ht,this.refs=D$5,this.updater=xt||B$2}var H$4=G$2.prototype=new F$5;H$4.constructor=G$2;C$8(H$4,E$7.prototype);H$4.isPureReactComponent=!0;var I$4=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$2={current:null},L$5={key:!0,ref:!0,__self:!0,__source:!0};function M$4(vt,ht,xt){var _t,St={},wt=null,At=null;if(ht!=null)for(_t in ht.ref!==void 0&&(At=ht.ref),ht.key!==void 0&&(wt=""+ht.key),ht)J$2.call(ht,_t)&&!L$5.hasOwnProperty(_t)&&(St[_t]=ht[_t]);var Ct=arguments.length-2;if(Ct===1)St.children=xt;else if(1<Ct){for(var Rt=Array(Ct),It=0;It<Ct;It++)Rt[It]=arguments[It+2];St.children=Rt}if(vt&&vt.defaultProps)for(_t in Ct=vt.defaultProps,Ct)St[_t]===void 0&&(St[_t]=Ct[_t]);return{$$typeof:l$4,type:vt,key:wt,ref:At,props:St,_owner:K$2.current}}function N$2(vt,ht){return{$$typeof:l$4,type:vt.type,key:ht,ref:vt.ref,props:vt.props,_owner:vt._owner}}function O$5(vt){return typeof vt=="object"&&vt!==null&&vt.$$typeof===l$4}function escape$1(vt){var ht={"=":"=0",":":"=2"};return"$"+vt.replace(/[=:]/g,function(xt){return ht[xt]})}var P$4=/\/+/g;function Q$3(vt,ht){return typeof vt=="object"&&vt!==null&&vt.key!=null?escape$1(""+vt.key):ht.toString(36)}function R$2(vt,ht,xt,_t,St){var wt=typeof vt;(wt==="undefined"||wt==="boolean")&&(vt=null);var At=!1;if(vt===null)At=!0;else switch(wt){case"string":case"number":At=!0;break;case"object":switch(vt.$$typeof){case l$4:case n$7:At=!0}}if(At)return At=vt,St=St(At),vt=_t===""?"."+Q$3(At,0):_t,I$4(St)?(xt="",vt!=null&&(xt=vt.replace(P$4,"$&/")+"/"),R$2(St,ht,xt,"",function(It){return It})):St!=null&&(O$5(St)&&(St=N$2(St,xt+(!St.key||At&&At.key===St.key?"":(""+St.key).replace(P$4,"$&/")+"/")+vt)),ht.push(St)),1;if(At=0,_t=_t===""?".":_t+":",I$4(vt))for(var Ct=0;Ct<vt.length;Ct++){wt=vt[Ct];var Rt=_t+Q$3(wt,Ct);At+=R$2(wt,ht,xt,Rt,St)}else if(Rt=A$3(vt),typeof Rt=="function")for(vt=Rt.call(vt),Ct=0;!(wt=vt.next()).done;)wt=wt.value,Rt=_t+Q$3(wt,Ct++),At+=R$2(wt,ht,xt,Rt,St);else if(wt==="object")throw ht=String(vt),Error("Objects are not valid as a React child (found: "+(ht==="[object Object]"?"object with keys {"+Object.keys(vt).join(", ")+"}":ht)+"). If you meant to render a collection of children, use an array instead.");return At}function S$5(vt,ht,xt){if(vt==null)return vt;var _t=[],St=0;return R$2(vt,_t,"","",function(wt){return ht.call(xt,wt,St++)}),_t}function T$4(vt){if(vt._status===-1){var ht=vt._result;ht=ht(),ht.then(function(xt){(vt._status===0||vt._status===-1)&&(vt._status=1,vt._result=xt)},function(xt){(vt._status===0||vt._status===-1)&&(vt._status=2,vt._result=xt)}),vt._status===-1&&(vt._status=0,vt._result=ht)}if(vt._status===1)return vt._result.default;throw vt._result}var U$4={current:null},V$3={transition:null},W$2={ReactCurrentDispatcher:U$4,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$2};function X$5(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(vt,ht,xt){S$5(vt,function(){ht.apply(this,arguments)},xt)},count:function(vt){var ht=0;return S$5(vt,function(){ht++}),ht},toArray:function(vt){return S$5(vt,function(ht){return ht})||[]},only:function(vt){if(!O$5(vt))throw Error("React.Children.only expected to receive a single React element child.");return vt}};react_production_min.Component=E$7;react_production_min.Fragment=p$7;react_production_min.Profiler=r$6;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$6;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$5;react_production_min.cloneElement=function(vt,ht,xt){if(vt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+vt+".");var _t=C$8({},vt.props),St=vt.key,wt=vt.ref,At=vt._owner;if(ht!=null){if(ht.ref!==void 0&&(wt=ht.ref,At=K$2.current),ht.key!==void 0&&(St=""+ht.key),vt.type&&vt.type.defaultProps)var Ct=vt.type.defaultProps;for(Rt in ht)J$2.call(ht,Rt)&&!L$5.hasOwnProperty(Rt)&&(_t[Rt]=ht[Rt]===void 0&&Ct!==void 0?Ct[Rt]:ht[Rt])}var Rt=arguments.length-2;if(Rt===1)_t.children=xt;else if(1<Rt){Ct=Array(Rt);for(var It=0;It<Rt;It++)Ct[It]=arguments[It+2];_t.children=Ct}return{$$typeof:l$4,type:vt.type,key:St,ref:wt,props:_t,_owner:At}};react_production_min.createContext=function(vt){return vt={$$typeof:u$9,_currentValue:vt,_currentValue2:vt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},vt.Provider={$$typeof:t$6,_context:vt},vt.Consumer=vt};react_production_min.createElement=M$4;react_production_min.createFactory=function(vt){var ht=M$4.bind(null,vt);return ht.type=vt,ht};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(vt){return{$$typeof:v$2,render:vt}};react_production_min.isValidElement=O$5;react_production_min.lazy=function(vt){return{$$typeof:y$7,_payload:{_status:-1,_result:vt},_init:T$4}};react_production_min.memo=function(vt,ht){return{$$typeof:x$4,type:vt,compare:ht===void 0?null:ht}};react_production_min.startTransition=function(vt){var ht=V$3.transition;V$3.transition={};try{vt()}finally{V$3.transition=ht}};react_production_min.unstable_act=X$5;react_production_min.useCallback=function(vt,ht){return U$4.current.useCallback(vt,ht)};react_production_min.useContext=function(vt){return U$4.current.useContext(vt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(vt){return U$4.current.useDeferredValue(vt)};react_production_min.useEffect=function(vt,ht){return U$4.current.useEffect(vt,ht)};react_production_min.useId=function(){return U$4.current.useId()};react_production_min.useImperativeHandle=function(vt,ht,xt){return U$4.current.useImperativeHandle(vt,ht,xt)};react_production_min.useInsertionEffect=function(vt,ht){return U$4.current.useInsertionEffect(vt,ht)};react_production_min.useLayoutEffect=function(vt,ht){return U$4.current.useLayoutEffect(vt,ht)};react_production_min.useMemo=function(vt,ht){return U$4.current.useMemo(vt,ht)};react_production_min.useReducer=function(vt,ht,xt){return U$4.current.useReducer(vt,ht,xt)};react_production_min.useRef=function(vt){return U$4.current.useRef(vt)};react_production_min.useState=function(vt){return U$4.current.useState(vt)};react_production_min.useSyncExternalStore=function(vt,ht,xt){return U$4.current.useSyncExternalStore(vt,ht,xt)};react_production_min.useTransition=function(){return U$4.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports),t$5=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$a=reactExports,k$5=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$6=Object.prototype.hasOwnProperty,n$6=f$a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$2(vt,ht,xt){var _t,St={},wt=null,At=null;xt!==void 0&&(wt=""+xt),ht.key!==void 0&&(wt=""+ht.key),ht.ref!==void 0&&(At=ht.ref);for(_t in ht)m$6.call(ht,_t)&&!p$6.hasOwnProperty(_t)&&(St[_t]=ht[_t]);if(vt&&vt.defaultProps)for(_t in ht=vt.defaultProps,ht)St[_t]===void 0&&(St[_t]=ht[_t]);return{$$typeof:k$5,type:vt,key:wt,ref:At,props:St,_owner:n$6.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(vt){function ht(Yt,Jt){var on=Yt.length;Yt.push(Jt);e:for(;0<on;){var ln=on-1>>>1,_n=Yt[ln];if(0<St(_n,Jt))Yt[ln]=Jt,Yt[on]=_n,on=ln;else break e}}function xt(Yt){return Yt.length===0?null:Yt[0]}function _t(Yt){if(Yt.length===0)return null;var Jt=Yt[0],on=Yt.pop();if(on!==Jt){Yt[0]=on;e:for(var ln=0,_n=Yt.length,wn=_n>>>1;ln<wn;){var xn=2*(ln+1)-1,Pn=Yt[xn],Bn=xn+1,Hn=Yt[Bn];if(0>St(Pn,on))Bn<_n&&0>St(Hn,Pn)?(Yt[ln]=Hn,Yt[Bn]=on,ln=Bn):(Yt[ln]=Pn,Yt[xn]=on,ln=xn);else if(Bn<_n&&0>St(Hn,on))Yt[ln]=Hn,Yt[Bn]=on,ln=Bn;else break e}}return Jt}function St(Yt,Jt){var on=Yt.sortIndex-Jt.sortIndex;return on!==0?on:Yt.id-Jt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var wt=performance;vt.unstable_now=function(){return wt.now()}}else{var At=Date,Ct=At.now();vt.unstable_now=function(){return At.now()-Ct}}var Rt=[],It=[],Lt=1,kt=null,Dt=3,$t=!1,Ot=!1,zt=!1,Gt=typeof setTimeout=="function"?setTimeout:null,Bt=typeof clearTimeout=="function"?clearTimeout:null,Ut=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Vt(Yt){for(var Jt=xt(It);Jt!==null;){if(Jt.callback===null)_t(It);else if(Jt.startTime<=Yt)_t(It),Jt.sortIndex=Jt.expirationTime,ht(Rt,Jt);else break;Jt=xt(It)}}function Ht(Yt){if(zt=!1,Vt(Yt),!Ot)if(xt(Rt)!==null)Ot=!0,rn(Xt);else{var Jt=xt(It);Jt!==null&&an(Ht,Jt.startTime-Yt)}}function Xt(Yt,Jt){Ot=!1,zt&&(zt=!1,Bt(en),en=-1),$t=!0;var on=Dt;try{for(Vt(Jt),kt=xt(Rt);kt!==null&&(!(kt.expirationTime>Jt)||Yt&&!sn());){var ln=kt.callback;if(typeof ln=="function"){kt.callback=null,Dt=kt.priorityLevel;var _n=ln(kt.expirationTime<=Jt);Jt=vt.unstable_now(),typeof _n=="function"?kt.callback=_n:kt===xt(Rt)&&_t(Rt),Vt(Jt)}else _t(Rt);kt=xt(Rt)}if(kt!==null)var wn=!0;else{var xn=xt(It);xn!==null&&an(Ht,xn.startTime-Jt),wn=!1}return wn}finally{kt=null,Dt=on,$t=!1}}var qt=!1,Kt=null,en=-1,tn=5,Qt=-1;function sn(){return!(vt.unstable_now()-Qt<tn)}function un(){if(Kt!==null){var Yt=vt.unstable_now();Qt=Yt;var Jt=!0;try{Jt=Kt(!0,Yt)}finally{Jt?dn():(qt=!1,Kt=null)}}else qt=!1}var dn;if(typeof Ut=="function")dn=function(){Ut(un)};else if(typeof MessageChannel<"u"){var vn=new MessageChannel,pn=vn.port2;vn.port1.onmessage=un,dn=function(){pn.postMessage(null)}}else dn=function(){Gt(un,0)};function rn(Yt){Kt=Yt,qt||(qt=!0,dn())}function an(Yt,Jt){en=Gt(function(){Yt(vt.unstable_now())},Jt)}vt.unstable_IdlePriority=5,vt.unstable_ImmediatePriority=1,vt.unstable_LowPriority=4,vt.unstable_NormalPriority=3,vt.unstable_Profiling=null,vt.unstable_UserBlockingPriority=2,vt.unstable_cancelCallback=function(Yt){Yt.callback=null},vt.unstable_continueExecution=function(){Ot||$t||(Ot=!0,rn(Xt))},vt.unstable_forceFrameRate=function(Yt){0>Yt||125<Yt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):tn=0<Yt?Math.floor(1e3/Yt):5},vt.unstable_getCurrentPriorityLevel=function(){return Dt},vt.unstable_getFirstCallbackNode=function(){return xt(Rt)},vt.unstable_next=function(Yt){switch(Dt){case 1:case 2:case 3:var Jt=3;break;default:Jt=Dt}var on=Dt;Dt=Jt;try{return Yt()}finally{Dt=on}},vt.unstable_pauseExecution=function(){},vt.unstable_requestPaint=function(){},vt.unstable_runWithPriority=function(Yt,Jt){switch(Yt){case 1:case 2:case 3:case 4:case 5:break;default:Yt=3}var on=Dt;Dt=Yt;try{return Jt()}finally{Dt=on}},vt.unstable_scheduleCallback=function(Yt,Jt,on){var ln=vt.unstable_now();switch(typeof on=="object"&&on!==null?(on=on.delay,on=typeof on=="number"&&0<on?ln+on:ln):on=ln,Yt){case 1:var _n=-1;break;case 2:_n=250;break;case 5:_n=1073741823;break;case 4:_n=1e4;break;default:_n=5e3}return _n=on+_n,Yt={id:Lt++,callback:Jt,priorityLevel:Yt,startTime:on,expirationTime:_n,sortIndex:-1},on>ln?(Yt.sortIndex=on,ht(It,Yt),xt(Rt)===null&&Yt===xt(It)&&(zt?(Bt(en),en=-1):zt=!0,an(Ht,on-ln))):(Yt.sortIndex=_n,ht(Rt,Yt),Ot||$t||(Ot=!0,rn(Xt))),Yt},vt.unstable_shouldYield=sn,vt.unstable_wrapCallback=function(Yt){var Jt=Dt;return function(){var on=Dt;Dt=Jt;try{return Yt.apply(this,arguments)}finally{Dt=on}}}})(scheduler_production_min$1);scheduler$1.exports=scheduler_production_min$1;var schedulerExports$1=scheduler$1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p$5(vt){for(var ht="https://reactjs.org/docs/error-decoder.html?invariant="+vt,xt=1;xt<arguments.length;xt++)ht+="&args[]="+encodeURIComponent(arguments[xt]);return"Minified React error #"+vt+"; visit "+ht+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(vt,ht){ha(vt,ht),ha(vt+"Capture",ht)}function ha(vt,ht){for(ea[vt]=ht,vt=0;vt<ht.length;vt++)da.add(ht[vt])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(vt){return ja.call(ma,vt)?!0:ja.call(la,vt)?!1:ka.test(vt)?ma[vt]=!0:(la[vt]=!0,!1)}function pa(vt,ht,xt,_t){if(xt!==null&&xt.type===0)return!1;switch(typeof ht){case"function":case"symbol":return!0;case"boolean":return _t?!1:xt!==null?!xt.acceptsBooleans:(vt=vt.toLowerCase().slice(0,5),vt!=="data-"&&vt!=="aria-");default:return!1}}function qa(vt,ht,xt,_t){if(ht===null||typeof ht>"u"||pa(vt,ht,xt,_t))return!0;if(_t)return!1;if(xt!==null)switch(xt.type){case 3:return!ht;case 4:return ht===!1;case 5:return isNaN(ht);case 6:return isNaN(ht)||1>ht}return!1}function v$1(vt,ht,xt,_t,St,wt,At){this.acceptsBooleans=ht===2||ht===3||ht===4,this.attributeName=_t,this.attributeNamespace=St,this.mustUseProperty=xt,this.propertyName=vt,this.type=ht,this.sanitizeURL=wt,this.removeEmptyString=At}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(vt){z[vt]=new v$1(vt,0,!1,vt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(vt){var ht=vt[0];z[ht]=new v$1(ht,1,!1,vt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(vt){z[vt]=new v$1(vt,2,!1,vt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(vt){z[vt]=new v$1(vt,2,!1,vt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(vt){z[vt]=new v$1(vt,3,!1,vt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(vt){z[vt]=new v$1(vt,3,!0,vt,null,!1,!1)});["capture","download"].forEach(function(vt){z[vt]=new v$1(vt,4,!1,vt,null,!1,!1)});["cols","rows","size","span"].forEach(function(vt){z[vt]=new v$1(vt,6,!1,vt,null,!1,!1)});["rowSpan","start"].forEach(function(vt){z[vt]=new v$1(vt,5,!1,vt.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(vt){return vt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(vt){var ht=vt.replace(ra,sa);z[ht]=new v$1(ht,1,!1,vt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(vt){var ht=vt.replace(ra,sa);z[ht]=new v$1(ht,1,!1,vt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(vt){var ht=vt.replace(ra,sa);z[ht]=new v$1(ht,1,!1,vt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(vt){z[vt]=new v$1(vt,1,!1,vt.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(vt){z[vt]=new v$1(vt,1,!1,vt.toLowerCase(),null,!0,!0)});function ta(vt,ht,xt,_t){var St=z.hasOwnProperty(ht)?z[ht]:null;(St!==null?St.type!==0:_t||!(2<ht.length)||ht[0]!=="o"&&ht[0]!=="O"||ht[1]!=="n"&&ht[1]!=="N")&&(qa(ht,xt,St,_t)&&(xt=null),_t||St===null?oa(ht)&&(xt===null?vt.removeAttribute(ht):vt.setAttribute(ht,""+xt)):St.mustUseProperty?vt[St.propertyName]=xt===null?St.type===3?!1:"":xt:(ht=St.attributeName,_t=St.attributeNamespace,xt===null?vt.removeAttribute(ht):(St=St.type,xt=St===3||St===4&&xt===!0?"":""+xt,_t?vt.setAttributeNS(_t,ht,xt):vt.setAttribute(ht,xt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(vt){return vt===null||typeof vt!="object"?null:(vt=Ja&&vt[Ja]||vt["@@iterator"],typeof vt=="function"?vt:null)}var A$2=Object.assign,La;function Ma(vt){if(La===void 0)try{throw Error()}catch(xt){var ht=xt.stack.trim().match(/\n( *(at )?)/);La=ht&&ht[1]||""}return`
`+La+vt}var Na=!1;function Oa(vt,ht){if(!vt||Na)return"";Na=!0;var xt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ht)if(ht=function(){throw Error()},Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(It){var _t=It}Reflect.construct(vt,[],ht)}else{try{ht.call()}catch(It){_t=It}vt.call(ht.prototype)}else{try{throw Error()}catch(It){_t=It}vt()}}catch(It){if(It&&_t&&typeof It.stack=="string"){for(var St=It.stack.split(`
`),wt=_t.stack.split(`
`),At=St.length-1,Ct=wt.length-1;1<=At&&0<=Ct&&St[At]!==wt[Ct];)Ct--;for(;1<=At&&0<=Ct;At--,Ct--)if(St[At]!==wt[Ct]){if(At!==1||Ct!==1)do if(At--,Ct--,0>Ct||St[At]!==wt[Ct]){var Rt=`
`+St[At].replace(" at new "," at ");return vt.displayName&&Rt.includes("<anonymous>")&&(Rt=Rt.replace("<anonymous>",vt.displayName)),Rt}while(1<=At&&0<=Ct);break}}}finally{Na=!1,Error.prepareStackTrace=xt}return(vt=vt?vt.displayName||vt.name:"")?Ma(vt):""}function Pa(vt){switch(vt.tag){case 5:return Ma(vt.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return vt=Oa(vt.type,!1),vt;case 11:return vt=Oa(vt.type.render,!1),vt;case 1:return vt=Oa(vt.type,!0),vt;default:return""}}function Qa(vt){if(vt==null)return null;if(typeof vt=="function")return vt.displayName||vt.name||null;if(typeof vt=="string")return vt;switch(vt){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof vt=="object")switch(vt.$$typeof){case Ca:return(vt.displayName||"Context")+".Consumer";case Ba:return(vt._context.displayName||"Context")+".Provider";case Da:var ht=vt.render;return vt=vt.displayName,vt||(vt=ht.displayName||ht.name||"",vt=vt!==""?"ForwardRef("+vt+")":"ForwardRef"),vt;case Ga:return ht=vt.displayName||null,ht!==null?ht:Qa(vt.type)||"Memo";case Ha:ht=vt._payload,vt=vt._init;try{return Qa(vt(ht))}catch{}}return null}function Ra(vt){var ht=vt.type;switch(vt.tag){case 24:return"Cache";case 9:return(ht.displayName||"Context")+".Consumer";case 10:return(ht._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return vt=ht.render,vt=vt.displayName||vt.name||"",ht.displayName||(vt!==""?"ForwardRef("+vt+")":"ForwardRef");case 7:return"Fragment";case 5:return ht;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(ht);case 8:return ht===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ht=="function")return ht.displayName||ht.name||null;if(typeof ht=="string")return ht}return null}function Sa(vt){switch(typeof vt){case"boolean":case"number":case"string":case"undefined":return vt;case"object":return vt;default:return""}}function Ta(vt){var ht=vt.type;return(vt=vt.nodeName)&&vt.toLowerCase()==="input"&&(ht==="checkbox"||ht==="radio")}function Ua(vt){var ht=Ta(vt)?"checked":"value",xt=Object.getOwnPropertyDescriptor(vt.constructor.prototype,ht),_t=""+vt[ht];if(!vt.hasOwnProperty(ht)&&typeof xt<"u"&&typeof xt.get=="function"&&typeof xt.set=="function"){var St=xt.get,wt=xt.set;return Object.defineProperty(vt,ht,{configurable:!0,get:function(){return St.call(this)},set:function(At){_t=""+At,wt.call(this,At)}}),Object.defineProperty(vt,ht,{enumerable:xt.enumerable}),{getValue:function(){return _t},setValue:function(At){_t=""+At},stopTracking:function(){vt._valueTracker=null,delete vt[ht]}}}}function Va(vt){vt._valueTracker||(vt._valueTracker=Ua(vt))}function Wa(vt){if(!vt)return!1;var ht=vt._valueTracker;if(!ht)return!0;var xt=ht.getValue(),_t="";return vt&&(_t=Ta(vt)?vt.checked?"true":"false":vt.value),vt=_t,vt!==xt?(ht.setValue(vt),!0):!1}function Xa(vt){if(vt=vt||(typeof document<"u"?document:void 0),typeof vt>"u")return null;try{return vt.activeElement||vt.body}catch{return vt.body}}function Ya(vt,ht){var xt=ht.checked;return A$2({},ht,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:xt??vt._wrapperState.initialChecked})}function Za(vt,ht){var xt=ht.defaultValue==null?"":ht.defaultValue,_t=ht.checked!=null?ht.checked:ht.defaultChecked;xt=Sa(ht.value!=null?ht.value:xt),vt._wrapperState={initialChecked:_t,initialValue:xt,controlled:ht.type==="checkbox"||ht.type==="radio"?ht.checked!=null:ht.value!=null}}function ab(vt,ht){ht=ht.checked,ht!=null&&ta(vt,"checked",ht,!1)}function bb(vt,ht){ab(vt,ht);var xt=Sa(ht.value),_t=ht.type;if(xt!=null)_t==="number"?(xt===0&&vt.value===""||vt.value!=xt)&&(vt.value=""+xt):vt.value!==""+xt&&(vt.value=""+xt);else if(_t==="submit"||_t==="reset"){vt.removeAttribute("value");return}ht.hasOwnProperty("value")?cb(vt,ht.type,xt):ht.hasOwnProperty("defaultValue")&&cb(vt,ht.type,Sa(ht.defaultValue)),ht.checked==null&&ht.defaultChecked!=null&&(vt.defaultChecked=!!ht.defaultChecked)}function db(vt,ht,xt){if(ht.hasOwnProperty("value")||ht.hasOwnProperty("defaultValue")){var _t=ht.type;if(!(_t!=="submit"&&_t!=="reset"||ht.value!==void 0&&ht.value!==null))return;ht=""+vt._wrapperState.initialValue,xt||ht===vt.value||(vt.value=ht),vt.defaultValue=ht}xt=vt.name,xt!==""&&(vt.name=""),vt.defaultChecked=!!vt._wrapperState.initialChecked,xt!==""&&(vt.name=xt)}function cb(vt,ht,xt){(ht!=="number"||Xa(vt.ownerDocument)!==vt)&&(xt==null?vt.defaultValue=""+vt._wrapperState.initialValue:vt.defaultValue!==""+xt&&(vt.defaultValue=""+xt))}var eb=Array.isArray;function fb(vt,ht,xt,_t){if(vt=vt.options,ht){ht={};for(var St=0;St<xt.length;St++)ht["$"+xt[St]]=!0;for(xt=0;xt<vt.length;xt++)St=ht.hasOwnProperty("$"+vt[xt].value),vt[xt].selected!==St&&(vt[xt].selected=St),St&&_t&&(vt[xt].defaultSelected=!0)}else{for(xt=""+Sa(xt),ht=null,St=0;St<vt.length;St++){if(vt[St].value===xt){vt[St].selected=!0,_t&&(vt[St].defaultSelected=!0);return}ht!==null||vt[St].disabled||(ht=vt[St])}ht!==null&&(ht.selected=!0)}}function gb(vt,ht){if(ht.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$2({},ht,{value:void 0,defaultValue:void 0,children:""+vt._wrapperState.initialValue})}function hb(vt,ht){var xt=ht.value;if(xt==null){if(xt=ht.children,ht=ht.defaultValue,xt!=null){if(ht!=null)throw Error(p$5(92));if(eb(xt)){if(1<xt.length)throw Error(p$5(93));xt=xt[0]}ht=xt}ht==null&&(ht=""),xt=ht}vt._wrapperState={initialValue:Sa(xt)}}function ib(vt,ht){var xt=Sa(ht.value),_t=Sa(ht.defaultValue);xt!=null&&(xt=""+xt,xt!==vt.value&&(vt.value=xt),ht.defaultValue==null&&vt.defaultValue!==xt&&(vt.defaultValue=xt)),_t!=null&&(vt.defaultValue=""+_t)}function jb(vt){var ht=vt.textContent;ht===vt._wrapperState.initialValue&&ht!==""&&ht!==null&&(vt.value=ht)}function kb(vt){switch(vt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(vt,ht){return vt==null||vt==="http://www.w3.org/1999/xhtml"?kb(ht):vt==="http://www.w3.org/2000/svg"&&ht==="foreignObject"?"http://www.w3.org/1999/xhtml":vt}var mb,nb=function(vt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ht,xt,_t,St){MSApp.execUnsafeLocalFunction(function(){return vt(ht,xt,_t,St)})}:vt}(function(vt,ht){if(vt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in vt)vt.innerHTML=ht;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+ht.valueOf().toString()+"</svg>",ht=mb.firstChild;vt.firstChild;)vt.removeChild(vt.firstChild);for(;ht.firstChild;)vt.appendChild(ht.firstChild)}});function ob(vt,ht){if(ht){var xt=vt.firstChild;if(xt&&xt===vt.lastChild&&xt.nodeType===3){xt.nodeValue=ht;return}}vt.textContent=ht}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(vt){qb.forEach(function(ht){ht=ht+vt.charAt(0).toUpperCase()+vt.substring(1),pb[ht]=pb[vt]})});function rb(vt,ht,xt){return ht==null||typeof ht=="boolean"||ht===""?"":xt||typeof ht!="number"||ht===0||pb.hasOwnProperty(vt)&&pb[vt]?(""+ht).trim():ht+"px"}function sb(vt,ht){vt=vt.style;for(var xt in ht)if(ht.hasOwnProperty(xt)){var _t=xt.indexOf("--")===0,St=rb(xt,ht[xt],_t);xt==="float"&&(xt="cssFloat"),_t?vt.setProperty(xt,St):vt[xt]=St}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(vt,ht){if(ht){if(tb[vt]&&(ht.children!=null||ht.dangerouslySetInnerHTML!=null))throw Error(p$5(137,vt));if(ht.dangerouslySetInnerHTML!=null){if(ht.children!=null)throw Error(p$5(60));if(typeof ht.dangerouslySetInnerHTML!="object"||!("__html"in ht.dangerouslySetInnerHTML))throw Error(p$5(61))}if(ht.style!=null&&typeof ht.style!="object")throw Error(p$5(62))}}function vb(vt,ht){if(vt.indexOf("-")===-1)return typeof ht.is=="string";switch(vt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(vt){return vt=vt.target||vt.srcElement||window,vt.correspondingUseElement&&(vt=vt.correspondingUseElement),vt.nodeType===3?vt.parentNode:vt}var yb=null,zb=null,Ab=null;function Bb(vt){if(vt=Cb(vt)){if(typeof yb!="function")throw Error(p$5(280));var ht=vt.stateNode;ht&&(ht=Db(ht),yb(vt.stateNode,vt.type,ht))}}function Eb(vt){zb?Ab?Ab.push(vt):Ab=[vt]:zb=vt}function Fb(){if(zb){var vt=zb,ht=Ab;if(Ab=zb=null,Bb(vt),ht)for(vt=0;vt<ht.length;vt++)Bb(ht[vt])}}function Gb(vt,ht){return vt(ht)}function Hb(){}var Ib=!1;function Jb(vt,ht,xt){if(Ib)return vt(ht,xt);Ib=!0;try{return Gb(vt,ht,xt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(vt,ht){var xt=vt.stateNode;if(xt===null)return null;var _t=Db(xt);if(_t===null)return null;xt=_t[ht];e:switch(ht){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_t=!_t.disabled)||(vt=vt.type,_t=!(vt==="button"||vt==="input"||vt==="select"||vt==="textarea")),vt=!_t;break e;default:vt=!1}if(vt)return null;if(xt&&typeof xt!="function")throw Error(p$5(231,ht,typeof xt));return xt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(vt,ht,xt,_t,St,wt,At,Ct,Rt){var It=Array.prototype.slice.call(arguments,3);try{ht.apply(xt,It)}catch(Lt){this.onError(Lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(vt){Ob=!0,Pb=vt}};function Tb(vt,ht,xt,_t,St,wt,At,Ct,Rt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(vt,ht,xt,_t,St,wt,At,Ct,Rt){if(Tb.apply(this,arguments),Ob){if(Ob){var It=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=It)}}function Vb(vt){var ht=vt,xt=vt;if(vt.alternate)for(;ht.return;)ht=ht.return;else{vt=ht;do ht=vt,ht.flags&4098&&(xt=ht.return),vt=ht.return;while(vt)}return ht.tag===3?xt:null}function Wb(vt){if(vt.tag===13){var ht=vt.memoizedState;if(ht===null&&(vt=vt.alternate,vt!==null&&(ht=vt.memoizedState)),ht!==null)return ht.dehydrated}return null}function Xb(vt){if(Vb(vt)!==vt)throw Error(p$5(188))}function Yb(vt){var ht=vt.alternate;if(!ht){if(ht=Vb(vt),ht===null)throw Error(p$5(188));return ht!==vt?null:vt}for(var xt=vt,_t=ht;;){var St=xt.return;if(St===null)break;var wt=St.alternate;if(wt===null){if(_t=St.return,_t!==null){xt=_t;continue}break}if(St.child===wt.child){for(wt=St.child;wt;){if(wt===xt)return Xb(St),vt;if(wt===_t)return Xb(St),ht;wt=wt.sibling}throw Error(p$5(188))}if(xt.return!==_t.return)xt=St,_t=wt;else{for(var At=!1,Ct=St.child;Ct;){if(Ct===xt){At=!0,xt=St,_t=wt;break}if(Ct===_t){At=!0,_t=St,xt=wt;break}Ct=Ct.sibling}if(!At){for(Ct=wt.child;Ct;){if(Ct===xt){At=!0,xt=wt,_t=St;break}if(Ct===_t){At=!0,_t=wt,xt=St;break}Ct=Ct.sibling}if(!At)throw Error(p$5(189))}}if(xt.alternate!==_t)throw Error(p$5(190))}if(xt.tag!==3)throw Error(p$5(188));return xt.stateNode.current===xt?vt:ht}function Zb(vt){return vt=Yb(vt),vt!==null?$b(vt):null}function $b(vt){if(vt.tag===5||vt.tag===6)return vt;for(vt=vt.child;vt!==null;){var ht=$b(vt);if(ht!==null)return ht;vt=vt.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(vt){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,vt,void 0,(vt.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(vt){return vt>>>=0,vt===0?32:31-(pc(vt)/qc|0)|0}var rc=64,sc=4194304;function tc(vt){switch(vt&-vt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return vt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return vt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return vt}}function uc(vt,ht){var xt=vt.pendingLanes;if(xt===0)return 0;var _t=0,St=vt.suspendedLanes,wt=vt.pingedLanes,At=xt&268435455;if(At!==0){var Ct=At&~St;Ct!==0?_t=tc(Ct):(wt&=At,wt!==0&&(_t=tc(wt)))}else At=xt&~St,At!==0?_t=tc(At):wt!==0&&(_t=tc(wt));if(_t===0)return 0;if(ht!==0&&ht!==_t&&!(ht&St)&&(St=_t&-_t,wt=ht&-ht,St>=wt||St===16&&(wt&4194240)!==0))return ht;if(_t&4&&(_t|=xt&16),ht=vt.entangledLanes,ht!==0)for(vt=vt.entanglements,ht&=_t;0<ht;)xt=31-oc(ht),St=1<<xt,_t|=vt[xt],ht&=~St;return _t}function vc(vt,ht){switch(vt){case 1:case 2:case 4:return ht+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ht+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(vt,ht){for(var xt=vt.suspendedLanes,_t=vt.pingedLanes,St=vt.expirationTimes,wt=vt.pendingLanes;0<wt;){var At=31-oc(wt),Ct=1<<At,Rt=St[At];Rt===-1?(!(Ct&xt)||Ct&_t)&&(St[At]=vc(Ct,ht)):Rt<=ht&&(vt.expiredLanes|=Ct),wt&=~Ct}}function xc(vt){return vt=vt.pendingLanes&-1073741825,vt!==0?vt:vt&1073741824?1073741824:0}function yc(){var vt=rc;return rc<<=1,!(rc&4194240)&&(rc=64),vt}function zc(vt){for(var ht=[],xt=0;31>xt;xt++)ht.push(vt);return ht}function Ac(vt,ht,xt){vt.pendingLanes|=ht,ht!==536870912&&(vt.suspendedLanes=0,vt.pingedLanes=0),vt=vt.eventTimes,ht=31-oc(ht),vt[ht]=xt}function Bc(vt,ht){var xt=vt.pendingLanes&~ht;vt.pendingLanes=ht,vt.suspendedLanes=0,vt.pingedLanes=0,vt.expiredLanes&=ht,vt.mutableReadLanes&=ht,vt.entangledLanes&=ht,ht=vt.entanglements;var _t=vt.eventTimes;for(vt=vt.expirationTimes;0<xt;){var St=31-oc(xt),wt=1<<St;ht[St]=0,_t[St]=-1,vt[St]=-1,xt&=~wt}}function Cc(vt,ht){var xt=vt.entangledLanes|=ht;for(vt=vt.entanglements;xt;){var _t=31-oc(xt),St=1<<_t;St&ht|vt[_t]&ht&&(vt[_t]|=ht),xt&=~St}}var C$7=0;function Dc(vt){return vt&=-vt,1<vt?4<vt?vt&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(vt,ht){switch(vt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(ht.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(ht.pointerId)}}function Tc(vt,ht,xt,_t,St,wt){return vt===null||vt.nativeEvent!==wt?(vt={blockedOn:ht,domEventName:xt,eventSystemFlags:_t,nativeEvent:wt,targetContainers:[St]},ht!==null&&(ht=Cb(ht),ht!==null&&Fc(ht)),vt):(vt.eventSystemFlags|=_t,ht=vt.targetContainers,St!==null&&ht.indexOf(St)===-1&&ht.push(St),vt)}function Uc(vt,ht,xt,_t,St){switch(ht){case"focusin":return Lc=Tc(Lc,vt,ht,xt,_t,St),!0;case"dragenter":return Mc=Tc(Mc,vt,ht,xt,_t,St),!0;case"mouseover":return Nc=Tc(Nc,vt,ht,xt,_t,St),!0;case"pointerover":var wt=St.pointerId;return Oc.set(wt,Tc(Oc.get(wt)||null,vt,ht,xt,_t,St)),!0;case"gotpointercapture":return wt=St.pointerId,Pc.set(wt,Tc(Pc.get(wt)||null,vt,ht,xt,_t,St)),!0}return!1}function Vc(vt){var ht=Wc(vt.target);if(ht!==null){var xt=Vb(ht);if(xt!==null){if(ht=xt.tag,ht===13){if(ht=Wb(xt),ht!==null){vt.blockedOn=ht,Ic(vt.priority,function(){Gc(xt)});return}}else if(ht===3&&xt.stateNode.current.memoizedState.isDehydrated){vt.blockedOn=xt.tag===3?xt.stateNode.containerInfo:null;return}}}vt.blockedOn=null}function Xc(vt){if(vt.blockedOn!==null)return!1;for(var ht=vt.targetContainers;0<ht.length;){var xt=Yc(vt.domEventName,vt.eventSystemFlags,ht[0],vt.nativeEvent);if(xt===null){xt=vt.nativeEvent;var _t=new xt.constructor(xt.type,xt);wb=_t,xt.target.dispatchEvent(_t),wb=null}else return ht=Cb(xt),ht!==null&&Fc(ht),vt.blockedOn=xt,!1;ht.shift()}return!0}function Zc(vt,ht,xt){Xc(vt)&&xt.delete(ht)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(vt,ht){vt.blockedOn===ht&&(vt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(vt){function ht(St){return ad(St,vt)}if(0<Kc.length){ad(Kc[0],vt);for(var xt=1;xt<Kc.length;xt++){var _t=Kc[xt];_t.blockedOn===vt&&(_t.blockedOn=null)}}for(Lc!==null&&ad(Lc,vt),Mc!==null&&ad(Mc,vt),Nc!==null&&ad(Nc,vt),Oc.forEach(ht),Pc.forEach(ht),xt=0;xt<Qc.length;xt++)_t=Qc[xt],_t.blockedOn===vt&&(_t.blockedOn=null);for(;0<Qc.length&&(xt=Qc[0],xt.blockedOn===null);)Vc(xt),xt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(vt,ht,xt,_t){var St=C$7,wt=cd.transition;cd.transition=null;try{C$7=1,fd(vt,ht,xt,_t)}finally{C$7=St,cd.transition=wt}}function gd(vt,ht,xt,_t){var St=C$7,wt=cd.transition;cd.transition=null;try{C$7=4,fd(vt,ht,xt,_t)}finally{C$7=St,cd.transition=wt}}function fd(vt,ht,xt,_t){if(dd){var St=Yc(vt,ht,xt,_t);if(St===null)hd(vt,ht,_t,id$2,xt),Sc(vt,_t);else if(Uc(St,vt,ht,xt,_t))_t.stopPropagation();else if(Sc(vt,_t),ht&4&&-1<Rc.indexOf(vt)){for(;St!==null;){var wt=Cb(St);if(wt!==null&&Ec(wt),wt=Yc(vt,ht,xt,_t),wt===null&&hd(vt,ht,_t,id$2,xt),wt===St)break;St=wt}St!==null&&_t.stopPropagation()}else hd(vt,ht,_t,null,xt)}}var id$2=null;function Yc(vt,ht,xt,_t){if(id$2=null,vt=xb(_t),vt=Wc(vt),vt!==null)if(ht=Vb(vt),ht===null)vt=null;else if(xt=ht.tag,xt===13){if(vt=Wb(ht),vt!==null)return vt;vt=null}else if(xt===3){if(ht.stateNode.current.memoizedState.isDehydrated)return ht.tag===3?ht.stateNode.containerInfo:null;vt=null}else ht!==vt&&(vt=null);return id$2=vt,null}function jd(vt){switch(vt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var vt,ht=ld,xt=ht.length,_t,St="value"in kd?kd.value:kd.textContent,wt=St.length;for(vt=0;vt<xt&&ht[vt]===St[vt];vt++);var At=xt-vt;for(_t=1;_t<=At&&ht[xt-_t]===St[wt-_t];_t++);return md=St.slice(vt,1<_t?1-_t:void 0)}function od(vt){var ht=vt.keyCode;return"charCode"in vt?(vt=vt.charCode,vt===0&&ht===13&&(vt=13)):vt=ht,vt===10&&(vt=13),32<=vt||vt===13?vt:0}function pd(){return!0}function qd(){return!1}function rd(vt){function ht(xt,_t,St,wt,At){this._reactName=xt,this._targetInst=St,this.type=_t,this.nativeEvent=wt,this.target=At,this.currentTarget=null;for(var Ct in vt)vt.hasOwnProperty(Ct)&&(xt=vt[Ct],this[Ct]=xt?xt(wt):wt[Ct]);return this.isDefaultPrevented=(wt.defaultPrevented!=null?wt.defaultPrevented:wt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(ht.prototype,{preventDefault:function(){this.defaultPrevented=!0;var xt=this.nativeEvent;xt&&(xt.preventDefault?xt.preventDefault():typeof xt.returnValue!="unknown"&&(xt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var xt=this.nativeEvent;xt&&(xt.stopPropagation?xt.stopPropagation():typeof xt.cancelBubble!="unknown"&&(xt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),ht}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(vt){return vt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(vt){return vt.relatedTarget===void 0?vt.fromElement===vt.srcElement?vt.toElement:vt.fromElement:vt.relatedTarget},movementX:function(vt){return"movementX"in vt?vt.movementX:(vt!==yd&&(yd&&vt.type==="mousemove"?(wd=vt.screenX-yd.screenX,xd=vt.screenY-yd.screenY):xd=wd=0,yd=vt),wd)},movementY:function(vt){return"movementY"in vt?vt.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(vt){return"clipboardData"in vt?vt.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(vt){var ht=this.nativeEvent;return ht.getModifierState?ht.getModifierState(vt):(vt=Od[vt])?!!ht[vt]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(vt){if(vt.key){var ht=Md[vt.key]||vt.key;if(ht!=="Unidentified")return ht}return vt.type==="keypress"?(vt=od(vt),vt===13?"Enter":String.fromCharCode(vt)):vt.type==="keydown"||vt.type==="keyup"?Nd[vt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(vt){return vt.type==="keypress"?od(vt):0},keyCode:function(vt){return vt.type==="keydown"||vt.type==="keyup"?vt.keyCode:0},which:function(vt){return vt.type==="keypress"?od(vt):vt.type==="keydown"||vt.type==="keyup"?vt.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(vt){return"deltaX"in vt?vt.deltaX:"wheelDeltaX"in vt?-vt.wheelDeltaX:0},deltaY:function(vt){return"deltaY"in vt?vt.deltaY:"wheelDeltaY"in vt?-vt.wheelDeltaY:"wheelDelta"in vt?-vt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe$1=!1;function ge$1(vt,ht){switch(vt){case"keyup":return $d.indexOf(ht.keyCode)!==-1;case"keydown":return ht.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(vt){return vt=vt.detail,typeof vt=="object"&&"data"in vt?vt.data:null}var ie=!1;function je$1(vt,ht){switch(vt){case"compositionend":return he$1(ht);case"keypress":return ht.which!==32?null:(fe$1=!0,ee);case"textInput":return vt=ht.data,vt===ee&&fe$1?null:vt;default:return null}}function ke$1(vt,ht){if(ie)return vt==="compositionend"||!ae&&ge$1(vt,ht)?(vt=nd(),md=ld=kd=null,ie=!1,vt):null;switch(vt){case"paste":return null;case"keypress":if(!(ht.ctrlKey||ht.altKey||ht.metaKey)||ht.ctrlKey&&ht.altKey){if(ht.char&&1<ht.char.length)return ht.char;if(ht.which)return String.fromCharCode(ht.which)}return null;case"compositionend":return de$1&&ht.locale!=="ko"?null:ht.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(vt){var ht=vt&&vt.nodeName&&vt.nodeName.toLowerCase();return ht==="input"?!!le[vt.type]:ht==="textarea"}function ne$1(vt,ht,xt,_t){Eb(_t),ht=oe(ht,"onChange"),0<ht.length&&(xt=new td("onChange","change",null,xt,_t),vt.push({event:xt,listeners:ht}))}var pe=null,qe=null;function re(vt){se(vt,0)}function te(vt){var ht=ue$1(vt);if(Wa(ht))return vt}function ve$1(vt,ht){if(vt==="change")return ht}var we$1=!1;if(ia){var xe;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe=ye$1}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae$2(){pe&&(pe.detachEvent("onpropertychange",Be$1),qe=pe=null)}function Be$1(vt){if(vt.propertyName==="value"&&te(qe)){var ht=[];ne$1(ht,qe,vt,xb(vt)),Jb(re,ht)}}function Ce$1(vt,ht,xt){vt==="focusin"?(Ae$2(),pe=ht,qe=xt,pe.attachEvent("onpropertychange",Be$1)):vt==="focusout"&&Ae$2()}function De$2(vt){if(vt==="selectionchange"||vt==="keyup"||vt==="keydown")return te(qe)}function Ee(vt,ht){if(vt==="click")return te(ht)}function Fe$3(vt,ht){if(vt==="input"||vt==="change")return te(ht)}function Ge$1(vt,ht){return vt===ht&&(vt!==0||1/vt===1/ht)||vt!==vt&&ht!==ht}var He$2=typeof Object.is=="function"?Object.is:Ge$1;function Ie$2(vt,ht){if(He$2(vt,ht))return!0;if(typeof vt!="object"||vt===null||typeof ht!="object"||ht===null)return!1;var xt=Object.keys(vt),_t=Object.keys(ht);if(xt.length!==_t.length)return!1;for(_t=0;_t<xt.length;_t++){var St=xt[_t];if(!ja.call(ht,St)||!He$2(vt[St],ht[St]))return!1}return!0}function Je(vt){for(;vt&&vt.firstChild;)vt=vt.firstChild;return vt}function Ke$1(vt,ht){var xt=Je(vt);vt=0;for(var _t;xt;){if(xt.nodeType===3){if(_t=vt+xt.textContent.length,vt<=ht&&_t>=ht)return{node:xt,offset:ht-vt};vt=_t}e:{for(;xt;){if(xt.nextSibling){xt=xt.nextSibling;break e}xt=xt.parentNode}xt=void 0}xt=Je(xt)}}function Le$2(vt,ht){return vt&&ht?vt===ht?!0:vt&&vt.nodeType===3?!1:ht&&ht.nodeType===3?Le$2(vt,ht.parentNode):"contains"in vt?vt.contains(ht):vt.compareDocumentPosition?!!(vt.compareDocumentPosition(ht)&16):!1:!1}function Me$1(){for(var vt=window,ht=Xa();ht instanceof vt.HTMLIFrameElement;){try{var xt=typeof ht.contentWindow.location.href=="string"}catch{xt=!1}if(xt)vt=ht.contentWindow;else break;ht=Xa(vt.document)}return ht}function Ne$1(vt){var ht=vt&&vt.nodeName&&vt.nodeName.toLowerCase();return ht&&(ht==="input"&&(vt.type==="text"||vt.type==="search"||vt.type==="tel"||vt.type==="url"||vt.type==="password")||ht==="textarea"||vt.contentEditable==="true")}function Oe$1(vt){var ht=Me$1(),xt=vt.focusedElem,_t=vt.selectionRange;if(ht!==xt&&xt&&xt.ownerDocument&&Le$2(xt.ownerDocument.documentElement,xt)){if(_t!==null&&Ne$1(xt)){if(ht=_t.start,vt=_t.end,vt===void 0&&(vt=ht),"selectionStart"in xt)xt.selectionStart=ht,xt.selectionEnd=Math.min(vt,xt.value.length);else if(vt=(ht=xt.ownerDocument||document)&&ht.defaultView||window,vt.getSelection){vt=vt.getSelection();var St=xt.textContent.length,wt=Math.min(_t.start,St);_t=_t.end===void 0?wt:Math.min(_t.end,St),!vt.extend&&wt>_t&&(St=_t,_t=wt,wt=St),St=Ke$1(xt,wt);var At=Ke$1(xt,_t);St&&At&&(vt.rangeCount!==1||vt.anchorNode!==St.node||vt.anchorOffset!==St.offset||vt.focusNode!==At.node||vt.focusOffset!==At.offset)&&(ht=ht.createRange(),ht.setStart(St.node,St.offset),vt.removeAllRanges(),wt>_t?(vt.addRange(ht),vt.extend(At.node,At.offset)):(ht.setEnd(At.node,At.offset),vt.addRange(ht)))}}for(ht=[],vt=xt;vt=vt.parentNode;)vt.nodeType===1&&ht.push({element:vt,left:vt.scrollLeft,top:vt.scrollTop});for(typeof xt.focus=="function"&&xt.focus(),xt=0;xt<ht.length;xt++)vt=ht[xt],vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$2=!1;function Ue$1(vt,ht,xt){var _t=xt.window===xt?xt.document:xt.nodeType===9?xt:xt.ownerDocument;Te$2||Qe==null||Qe!==Xa(_t)||(_t=Qe,"selectionStart"in _t&&Ne$1(_t)?_t={start:_t.selectionStart,end:_t.selectionEnd}:(_t=(_t.ownerDocument&&_t.ownerDocument.defaultView||window).getSelection(),_t={anchorNode:_t.anchorNode,anchorOffset:_t.anchorOffset,focusNode:_t.focusNode,focusOffset:_t.focusOffset}),Se$1&&Ie$2(Se$1,_t)||(Se$1=_t,_t=oe(Re$1,"onSelect"),0<_t.length&&(ht=new td("onSelect","select",null,ht,xt),vt.push({event:ht,listeners:_t}),ht.target=Qe)))}function Ve(vt,ht){var xt={};return xt[vt.toLowerCase()]=ht.toLowerCase(),xt["Webkit"+vt]="webkit"+ht,xt["Moz"+vt]="moz"+ht,xt}var We$1={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(vt){if(Xe[vt])return Xe[vt];if(!We$1[vt])return vt;var ht=We$1[vt],xt;for(xt in ht)if(ht.hasOwnProperty(xt)&&xt in Ye)return Xe[vt]=ht[xt];return vt}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(vt,ht){df.set(vt,ht),fa(ht,[vt])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(vt,ht,xt){var _t=vt.type||"unknown-event";vt.currentTarget=xt,Ub(_t,ht,void 0,vt),vt.currentTarget=null}function se(vt,ht){ht=(ht&4)!==0;for(var xt=0;xt<vt.length;xt++){var _t=vt[xt],St=_t.event;_t=_t.listeners;e:{var wt=void 0;if(ht)for(var At=_t.length-1;0<=At;At--){var Ct=_t[At],Rt=Ct.instance,It=Ct.currentTarget;if(Ct=Ct.listener,Rt!==wt&&St.isPropagationStopped())break e;nf(St,Ct,It),wt=Rt}else for(At=0;At<_t.length;At++){if(Ct=_t[At],Rt=Ct.instance,It=Ct.currentTarget,Ct=Ct.listener,Rt!==wt&&St.isPropagationStopped())break e;nf(St,Ct,It),wt=Rt}}}if(Qb)throw vt=Rb,Qb=!1,Rb=null,vt}function D$4(vt,ht){var xt=ht[of];xt===void 0&&(xt=ht[of]=new Set);var _t=vt+"__bubble";xt.has(_t)||(pf(ht,vt,2,!1),xt.add(_t))}function qf(vt,ht,xt){var _t=0;ht&&(_t|=4),pf(xt,vt,_t,ht)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(vt){if(!vt[rf]){vt[rf]=!0,da.forEach(function(xt){xt!=="selectionchange"&&(mf.has(xt)||qf(xt,!1,vt),qf(xt,!0,vt))});var ht=vt.nodeType===9?vt:vt.ownerDocument;ht===null||ht[rf]||(ht[rf]=!0,qf("selectionchange",!1,ht))}}function pf(vt,ht,xt,_t){switch(jd(ht)){case 1:var St=ed;break;case 4:St=gd;break;default:St=fd}xt=St.bind(null,ht,xt,vt),St=void 0,!Lb||ht!=="touchstart"&&ht!=="touchmove"&&ht!=="wheel"||(St=!0),_t?St!==void 0?vt.addEventListener(ht,xt,{capture:!0,passive:St}):vt.addEventListener(ht,xt,!0):St!==void 0?vt.addEventListener(ht,xt,{passive:St}):vt.addEventListener(ht,xt,!1)}function hd(vt,ht,xt,_t,St){var wt=_t;if(!(ht&1)&&!(ht&2)&&_t!==null)e:for(;;){if(_t===null)return;var At=_t.tag;if(At===3||At===4){var Ct=_t.stateNode.containerInfo;if(Ct===St||Ct.nodeType===8&&Ct.parentNode===St)break;if(At===4)for(At=_t.return;At!==null;){var Rt=At.tag;if((Rt===3||Rt===4)&&(Rt=At.stateNode.containerInfo,Rt===St||Rt.nodeType===8&&Rt.parentNode===St))return;At=At.return}for(;Ct!==null;){if(At=Wc(Ct),At===null)return;if(Rt=At.tag,Rt===5||Rt===6){_t=wt=At;continue e}Ct=Ct.parentNode}}_t=_t.return}Jb(function(){var It=wt,Lt=xb(xt),kt=[];e:{var Dt=df.get(vt);if(Dt!==void 0){var $t=td,Ot=vt;switch(vt){case"keypress":if(od(xt)===0)break e;case"keydown":case"keyup":$t=Rd;break;case"focusin":Ot="focus",$t=Fd;break;case"focusout":Ot="blur",$t=Fd;break;case"beforeblur":case"afterblur":$t=Fd;break;case"click":if(xt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$t=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$t=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$t=Vd;break;case $e:case af:case bf:$t=Hd;break;case cf:$t=Xd;break;case"scroll":$t=vd;break;case"wheel":$t=Zd;break;case"copy":case"cut":case"paste":$t=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$t=Td}var zt=(ht&4)!==0,Gt=!zt&&vt==="scroll",Bt=zt?Dt!==null?Dt+"Capture":null:Dt;zt=[];for(var Ut=It,Vt;Ut!==null;){Vt=Ut;var Ht=Vt.stateNode;if(Vt.tag===5&&Ht!==null&&(Vt=Ht,Bt!==null&&(Ht=Kb(Ut,Bt),Ht!=null&&zt.push(tf(Ut,Ht,Vt)))),Gt)break;Ut=Ut.return}0<zt.length&&(Dt=new $t(Dt,Ot,null,xt,Lt),kt.push({event:Dt,listeners:zt}))}}if(!(ht&7)){e:{if(Dt=vt==="mouseover"||vt==="pointerover",$t=vt==="mouseout"||vt==="pointerout",Dt&&xt!==wb&&(Ot=xt.relatedTarget||xt.fromElement)&&(Wc(Ot)||Ot[uf]))break e;if(($t||Dt)&&(Dt=Lt.window===Lt?Lt:(Dt=Lt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,$t?(Ot=xt.relatedTarget||xt.toElement,$t=It,Ot=Ot?Wc(Ot):null,Ot!==null&&(Gt=Vb(Ot),Ot!==Gt||Ot.tag!==5&&Ot.tag!==6)&&(Ot=null)):($t=null,Ot=It),$t!==Ot)){if(zt=Bd,Ht="onMouseLeave",Bt="onMouseEnter",Ut="mouse",(vt==="pointerout"||vt==="pointerover")&&(zt=Td,Ht="onPointerLeave",Bt="onPointerEnter",Ut="pointer"),Gt=$t==null?Dt:ue$1($t),Vt=Ot==null?Dt:ue$1(Ot),Dt=new zt(Ht,Ut+"leave",$t,xt,Lt),Dt.target=Gt,Dt.relatedTarget=Vt,Ht=null,Wc(Lt)===It&&(zt=new zt(Bt,Ut+"enter",Ot,xt,Lt),zt.target=Vt,zt.relatedTarget=Gt,Ht=zt),Gt=Ht,$t&&Ot)t:{for(zt=$t,Bt=Ot,Ut=0,Vt=zt;Vt;Vt=vf(Vt))Ut++;for(Vt=0,Ht=Bt;Ht;Ht=vf(Ht))Vt++;for(;0<Ut-Vt;)zt=vf(zt),Ut--;for(;0<Vt-Ut;)Bt=vf(Bt),Vt--;for(;Ut--;){if(zt===Bt||Bt!==null&&zt===Bt.alternate)break t;zt=vf(zt),Bt=vf(Bt)}zt=null}else zt=null;$t!==null&&wf(kt,Dt,$t,zt,!1),Ot!==null&&Gt!==null&&wf(kt,Gt,Ot,zt,!0)}}e:{if(Dt=It?ue$1(It):window,$t=Dt.nodeName&&Dt.nodeName.toLowerCase(),$t==="select"||$t==="input"&&Dt.type==="file")var Xt=ve$1;else if(me$1(Dt))if(we$1)Xt=Fe$3;else{Xt=De$2;var qt=Ce$1}else($t=Dt.nodeName)&&$t.toLowerCase()==="input"&&(Dt.type==="checkbox"||Dt.type==="radio")&&(Xt=Ee);if(Xt&&(Xt=Xt(vt,It))){ne$1(kt,Xt,xt,Lt);break e}qt&&qt(vt,Dt,It),vt==="focusout"&&(qt=Dt._wrapperState)&&qt.controlled&&Dt.type==="number"&&cb(Dt,"number",Dt.value)}switch(qt=It?ue$1(It):window,vt){case"focusin":(me$1(qt)||qt.contentEditable==="true")&&(Qe=qt,Re$1=It,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$2=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$2=!1,Ue$1(kt,xt,Lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue$1(kt,xt,Lt)}var Kt;if(ae)e:{switch(vt){case"compositionstart":var en="onCompositionStart";break e;case"compositionend":en="onCompositionEnd";break e;case"compositionupdate":en="onCompositionUpdate";break e}en=void 0}else ie?ge$1(vt,xt)&&(en="onCompositionEnd"):vt==="keydown"&&xt.keyCode===229&&(en="onCompositionStart");en&&(de$1&&xt.locale!=="ko"&&(ie||en!=="onCompositionStart"?en==="onCompositionEnd"&&ie&&(Kt=nd()):(kd=Lt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),qt=oe(It,en),0<qt.length&&(en=new Ld(en,vt,null,xt,Lt),kt.push({event:en,listeners:qt}),Kt?en.data=Kt:(Kt=he$1(xt),Kt!==null&&(en.data=Kt)))),(Kt=ce$1?je$1(vt,xt):ke$1(vt,xt))&&(It=oe(It,"onBeforeInput"),0<It.length&&(Lt=new Ld("onBeforeInput","beforeinput",null,xt,Lt),kt.push({event:Lt,listeners:It}),Lt.data=Kt))}se(kt,ht)})}function tf(vt,ht,xt){return{instance:vt,listener:ht,currentTarget:xt}}function oe(vt,ht){for(var xt=ht+"Capture",_t=[];vt!==null;){var St=vt,wt=St.stateNode;St.tag===5&&wt!==null&&(St=wt,wt=Kb(vt,xt),wt!=null&&_t.unshift(tf(vt,wt,St)),wt=Kb(vt,ht),wt!=null&&_t.push(tf(vt,wt,St))),vt=vt.return}return _t}function vf(vt){if(vt===null)return null;do vt=vt.return;while(vt&&vt.tag!==5);return vt||null}function wf(vt,ht,xt,_t,St){for(var wt=ht._reactName,At=[];xt!==null&&xt!==_t;){var Ct=xt,Rt=Ct.alternate,It=Ct.stateNode;if(Rt!==null&&Rt===_t)break;Ct.tag===5&&It!==null&&(Ct=It,St?(Rt=Kb(xt,wt),Rt!=null&&At.unshift(tf(xt,Rt,Ct))):St||(Rt=Kb(xt,wt),Rt!=null&&At.push(tf(xt,Rt,Ct)))),xt=xt.return}At.length!==0&&vt.push({event:ht,listeners:At})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(vt){return(typeof vt=="string"?vt:""+vt).replace(xf,`
`).replace(yf,"")}function Af(vt,ht,xt){if(ht=zf(ht),zf(vt)!==ht&&xt)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef(vt,ht){return vt==="textarea"||vt==="noscript"||typeof ht.children=="string"||typeof ht.children=="number"||typeof ht.dangerouslySetInnerHTML=="object"&&ht.dangerouslySetInnerHTML!==null&&ht.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(vt){return Hf.resolve(null).then(vt).catch(If)}:Ff;function If(vt){setTimeout(function(){throw vt})}function Kf(vt,ht){var xt=ht,_t=0;do{var St=xt.nextSibling;if(vt.removeChild(xt),St&&St.nodeType===8)if(xt=St.data,xt==="/$"){if(_t===0){vt.removeChild(St),bd(ht);return}_t--}else xt!=="$"&&xt!=="$?"&&xt!=="$!"||_t++;xt=St}while(xt);bd(ht)}function Lf(vt){for(;vt!=null;vt=vt.nextSibling){var ht=vt.nodeType;if(ht===1||ht===3)break;if(ht===8){if(ht=vt.data,ht==="$"||ht==="$!"||ht==="$?")break;if(ht==="/$")return null}}return vt}function Mf(vt){vt=vt.previousSibling;for(var ht=0;vt;){if(vt.nodeType===8){var xt=vt.data;if(xt==="$"||xt==="$!"||xt==="$?"){if(ht===0)return vt;ht--}else xt==="/$"&&ht++}vt=vt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(vt){var ht=vt[Of];if(ht)return ht;for(var xt=vt.parentNode;xt;){if(ht=xt[uf]||xt[Of]){if(xt=ht.alternate,ht.child!==null||xt!==null&&xt.child!==null)for(vt=Mf(vt);vt!==null;){if(xt=vt[Of])return xt;vt=Mf(vt)}return ht}vt=xt,xt=vt.parentNode}return null}function Cb(vt){return vt=vt[Of]||vt[uf],!vt||vt.tag!==5&&vt.tag!==6&&vt.tag!==13&&vt.tag!==3?null:vt}function ue$1(vt){if(vt.tag===5||vt.tag===6)return vt.stateNode;throw Error(p$5(33))}function Db(vt){return vt[Pf]||null}var Sf=[],Tf=-1;function Uf(vt){return{current:vt}}function E$6(vt){0>Tf||(vt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(vt,ht){Tf++,Sf[Tf]=vt.current,vt.current=ht}var Vf={},H$3=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(vt,ht){var xt=vt.type.contextTypes;if(!xt)return Vf;var _t=vt.stateNode;if(_t&&_t.__reactInternalMemoizedUnmaskedChildContext===ht)return _t.__reactInternalMemoizedMaskedChildContext;var St={},wt;for(wt in xt)St[wt]=ht[wt];return _t&&(vt=vt.stateNode,vt.__reactInternalMemoizedUnmaskedChildContext=ht,vt.__reactInternalMemoizedMaskedChildContext=St),St}function Zf(vt){return vt=vt.childContextTypes,vt!=null}function $f(){E$6(Wf),E$6(H$3)}function ag(vt,ht,xt){if(H$3.current!==Vf)throw Error(p$5(168));G$1(H$3,ht),G$1(Wf,xt)}function bg(vt,ht,xt){var _t=vt.stateNode;if(ht=ht.childContextTypes,typeof _t.getChildContext!="function")return xt;_t=_t.getChildContext();for(var St in _t)if(!(St in ht))throw Error(p$5(108,Ra(vt)||"Unknown",St));return A$2({},xt,_t)}function cg(vt){return vt=(vt=vt.stateNode)&&vt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$3.current,G$1(H$3,vt),G$1(Wf,Wf.current),!0}function dg(vt,ht,xt){var _t=vt.stateNode;if(!_t)throw Error(p$5(169));xt?(vt=bg(vt,ht,Xf),_t.__reactInternalMemoizedMergedChildContext=vt,E$6(Wf),E$6(H$3),G$1(H$3,vt)):E$6(Wf),G$1(Wf,xt)}var eg=null,fg=!1,gg=!1;function hg(vt){eg===null?eg=[vt]:eg.push(vt)}function ig(vt){fg=!0,hg(vt)}function jg(){if(!gg&&eg!==null){gg=!0;var vt=0,ht=C$7;try{var xt=eg;for(C$7=1;vt<xt.length;vt++){var _t=xt[vt];do _t=_t(!0);while(_t!==null)}eg=null,fg=!1}catch(St){throw eg!==null&&(eg=eg.slice(vt+1)),ac(fc,jg),St}finally{C$7=ht,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(vt,ht){kg[lg++]=ng,kg[lg++]=mg,mg=vt,ng=ht}function ug(vt,ht,xt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=vt;var _t=rg;vt=sg;var St=32-oc(_t)-1;_t&=~(1<<St),xt+=1;var wt=32-oc(ht)+St;if(30<wt){var At=St-St%5;wt=(_t&(1<<At)-1).toString(32),_t>>=At,St-=At,rg=1<<32-oc(ht)+St|xt<<St|_t,sg=wt+vt}else rg=1<<wt|xt<<St|_t,sg=vt}function vg(vt){vt.return!==null&&(tg(vt,1),ug(vt,1,0))}function wg(vt){for(;vt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;vt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(vt,ht){var xt=Bg(5,null,null,0);xt.elementType="DELETED",xt.stateNode=ht,xt.return=vt,ht=vt.deletions,ht===null?(vt.deletions=[xt],vt.flags|=16):ht.push(xt)}function Cg(vt,ht){switch(vt.tag){case 5:var xt=vt.type;return ht=ht.nodeType!==1||xt.toLowerCase()!==ht.nodeName.toLowerCase()?null:ht,ht!==null?(vt.stateNode=ht,xg=vt,yg=Lf(ht.firstChild),!0):!1;case 6:return ht=vt.pendingProps===""||ht.nodeType!==3?null:ht,ht!==null?(vt.stateNode=ht,xg=vt,yg=null,!0):!1;case 13:return ht=ht.nodeType!==8?null:ht,ht!==null?(xt=qg!==null?{id:rg,overflow:sg}:null,vt.memoizedState={dehydrated:ht,treeContext:xt,retryLane:1073741824},xt=Bg(18,null,null,0),xt.stateNode=ht,xt.return=vt,vt.child=xt,xg=vt,yg=null,!0):!1;default:return!1}}function Dg(vt){return(vt.mode&1)!==0&&(vt.flags&128)===0}function Eg(vt){if(I$3){var ht=yg;if(ht){var xt=ht;if(!Cg(vt,ht)){if(Dg(vt))throw Error(p$5(418));ht=Lf(xt.nextSibling);var _t=xg;ht&&Cg(vt,ht)?Ag(_t,xt):(vt.flags=vt.flags&-4097|2,I$3=!1,xg=vt)}}else{if(Dg(vt))throw Error(p$5(418));vt.flags=vt.flags&-4097|2,I$3=!1,xg=vt}}}function Fg(vt){for(vt=vt.return;vt!==null&&vt.tag!==5&&vt.tag!==3&&vt.tag!==13;)vt=vt.return;xg=vt}function Gg(vt){if(vt!==xg)return!1;if(!I$3)return Fg(vt),I$3=!0,!1;var ht;if((ht=vt.tag!==3)&&!(ht=vt.tag!==5)&&(ht=vt.type,ht=ht!=="head"&&ht!=="body"&&!Ef(vt.type,vt.memoizedProps)),ht&&(ht=yg)){if(Dg(vt))throw Hg(),Error(p$5(418));for(;ht;)Ag(vt,ht),ht=Lf(ht.nextSibling)}if(Fg(vt),vt.tag===13){if(vt=vt.memoizedState,vt=vt!==null?vt.dehydrated:null,!vt)throw Error(p$5(317));e:{for(vt=vt.nextSibling,ht=0;vt;){if(vt.nodeType===8){var xt=vt.data;if(xt==="/$"){if(ht===0){yg=Lf(vt.nextSibling);break e}ht--}else xt!=="$"&&xt!=="$!"&&xt!=="$?"||ht++}vt=vt.nextSibling}yg=null}}else yg=xg?Lf(vt.stateNode.nextSibling):null;return!0}function Hg(){for(var vt=yg;vt;)vt=Lf(vt.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(vt){zg===null?zg=[vt]:zg.push(vt)}var Kg=ua.ReactCurrentBatchConfig;function Lg(vt,ht,xt){if(vt=xt.ref,vt!==null&&typeof vt!="function"&&typeof vt!="object"){if(xt._owner){if(xt=xt._owner,xt){if(xt.tag!==1)throw Error(p$5(309));var _t=xt.stateNode}if(!_t)throw Error(p$5(147,vt));var St=_t,wt=""+vt;return ht!==null&&ht.ref!==null&&typeof ht.ref=="function"&&ht.ref._stringRef===wt?ht.ref:(ht=function(At){var Ct=St.refs;At===null?delete Ct[wt]:Ct[wt]=At},ht._stringRef=wt,ht)}if(typeof vt!="string")throw Error(p$5(284));if(!xt._owner)throw Error(p$5(290,vt))}return vt}function Mg(vt,ht){throw vt=Object.prototype.toString.call(ht),Error(p$5(31,vt==="[object Object]"?"object with keys {"+Object.keys(ht).join(", ")+"}":vt))}function Ng(vt){var ht=vt._init;return ht(vt._payload)}function Og(vt){function ht(Bt,Ut){if(vt){var Vt=Bt.deletions;Vt===null?(Bt.deletions=[Ut],Bt.flags|=16):Vt.push(Ut)}}function xt(Bt,Ut){if(!vt)return null;for(;Ut!==null;)ht(Bt,Ut),Ut=Ut.sibling;return null}function _t(Bt,Ut){for(Bt=new Map;Ut!==null;)Ut.key!==null?Bt.set(Ut.key,Ut):Bt.set(Ut.index,Ut),Ut=Ut.sibling;return Bt}function St(Bt,Ut){return Bt=Pg(Bt,Ut),Bt.index=0,Bt.sibling=null,Bt}function wt(Bt,Ut,Vt){return Bt.index=Vt,vt?(Vt=Bt.alternate,Vt!==null?(Vt=Vt.index,Vt<Ut?(Bt.flags|=2,Ut):Vt):(Bt.flags|=2,Ut)):(Bt.flags|=1048576,Ut)}function At(Bt){return vt&&Bt.alternate===null&&(Bt.flags|=2),Bt}function Ct(Bt,Ut,Vt,Ht){return Ut===null||Ut.tag!==6?(Ut=Qg(Vt,Bt.mode,Ht),Ut.return=Bt,Ut):(Ut=St(Ut,Vt),Ut.return=Bt,Ut)}function Rt(Bt,Ut,Vt,Ht){var Xt=Vt.type;return Xt===ya?Lt(Bt,Ut,Vt.props.children,Ht,Vt.key):Ut!==null&&(Ut.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===Ha&&Ng(Xt)===Ut.type)?(Ht=St(Ut,Vt.props),Ht.ref=Lg(Bt,Ut,Vt),Ht.return=Bt,Ht):(Ht=Rg(Vt.type,Vt.key,Vt.props,null,Bt.mode,Ht),Ht.ref=Lg(Bt,Ut,Vt),Ht.return=Bt,Ht)}function It(Bt,Ut,Vt,Ht){return Ut===null||Ut.tag!==4||Ut.stateNode.containerInfo!==Vt.containerInfo||Ut.stateNode.implementation!==Vt.implementation?(Ut=Sg(Vt,Bt.mode,Ht),Ut.return=Bt,Ut):(Ut=St(Ut,Vt.children||[]),Ut.return=Bt,Ut)}function Lt(Bt,Ut,Vt,Ht,Xt){return Ut===null||Ut.tag!==7?(Ut=Tg(Vt,Bt.mode,Ht,Xt),Ut.return=Bt,Ut):(Ut=St(Ut,Vt),Ut.return=Bt,Ut)}function kt(Bt,Ut,Vt){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number")return Ut=Qg(""+Ut,Bt.mode,Vt),Ut.return=Bt,Ut;if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case va:return Vt=Rg(Ut.type,Ut.key,Ut.props,null,Bt.mode,Vt),Vt.ref=Lg(Bt,null,Ut),Vt.return=Bt,Vt;case wa:return Ut=Sg(Ut,Bt.mode,Vt),Ut.return=Bt,Ut;case Ha:var Ht=Ut._init;return kt(Bt,Ht(Ut._payload),Vt)}if(eb(Ut)||Ka(Ut))return Ut=Tg(Ut,Bt.mode,Vt,null),Ut.return=Bt,Ut;Mg(Bt,Ut)}return null}function Dt(Bt,Ut,Vt,Ht){var Xt=Ut!==null?Ut.key:null;if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number")return Xt!==null?null:Ct(Bt,Ut,""+Vt,Ht);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case va:return Vt.key===Xt?Rt(Bt,Ut,Vt,Ht):null;case wa:return Vt.key===Xt?It(Bt,Ut,Vt,Ht):null;case Ha:return Xt=Vt._init,Dt(Bt,Ut,Xt(Vt._payload),Ht)}if(eb(Vt)||Ka(Vt))return Xt!==null?null:Lt(Bt,Ut,Vt,Ht,null);Mg(Bt,Vt)}return null}function $t(Bt,Ut,Vt,Ht,Xt){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number")return Bt=Bt.get(Vt)||null,Ct(Ut,Bt,""+Ht,Xt);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case va:return Bt=Bt.get(Ht.key===null?Vt:Ht.key)||null,Rt(Ut,Bt,Ht,Xt);case wa:return Bt=Bt.get(Ht.key===null?Vt:Ht.key)||null,It(Ut,Bt,Ht,Xt);case Ha:var qt=Ht._init;return $t(Bt,Ut,Vt,qt(Ht._payload),Xt)}if(eb(Ht)||Ka(Ht))return Bt=Bt.get(Vt)||null,Lt(Ut,Bt,Ht,Xt,null);Mg(Ut,Ht)}return null}function Ot(Bt,Ut,Vt,Ht){for(var Xt=null,qt=null,Kt=Ut,en=Ut=0,tn=null;Kt!==null&&en<Vt.length;en++){Kt.index>en?(tn=Kt,Kt=null):tn=Kt.sibling;var Qt=Dt(Bt,Kt,Vt[en],Ht);if(Qt===null){Kt===null&&(Kt=tn);break}vt&&Kt&&Qt.alternate===null&&ht(Bt,Kt),Ut=wt(Qt,Ut,en),qt===null?Xt=Qt:qt.sibling=Qt,qt=Qt,Kt=tn}if(en===Vt.length)return xt(Bt,Kt),I$3&&tg(Bt,en),Xt;if(Kt===null){for(;en<Vt.length;en++)Kt=kt(Bt,Vt[en],Ht),Kt!==null&&(Ut=wt(Kt,Ut,en),qt===null?Xt=Kt:qt.sibling=Kt,qt=Kt);return I$3&&tg(Bt,en),Xt}for(Kt=_t(Bt,Kt);en<Vt.length;en++)tn=$t(Kt,Bt,en,Vt[en],Ht),tn!==null&&(vt&&tn.alternate!==null&&Kt.delete(tn.key===null?en:tn.key),Ut=wt(tn,Ut,en),qt===null?Xt=tn:qt.sibling=tn,qt=tn);return vt&&Kt.forEach(function(sn){return ht(Bt,sn)}),I$3&&tg(Bt,en),Xt}function zt(Bt,Ut,Vt,Ht){var Xt=Ka(Vt);if(typeof Xt!="function")throw Error(p$5(150));if(Vt=Xt.call(Vt),Vt==null)throw Error(p$5(151));for(var qt=Xt=null,Kt=Ut,en=Ut=0,tn=null,Qt=Vt.next();Kt!==null&&!Qt.done;en++,Qt=Vt.next()){Kt.index>en?(tn=Kt,Kt=null):tn=Kt.sibling;var sn=Dt(Bt,Kt,Qt.value,Ht);if(sn===null){Kt===null&&(Kt=tn);break}vt&&Kt&&sn.alternate===null&&ht(Bt,Kt),Ut=wt(sn,Ut,en),qt===null?Xt=sn:qt.sibling=sn,qt=sn,Kt=tn}if(Qt.done)return xt(Bt,Kt),I$3&&tg(Bt,en),Xt;if(Kt===null){for(;!Qt.done;en++,Qt=Vt.next())Qt=kt(Bt,Qt.value,Ht),Qt!==null&&(Ut=wt(Qt,Ut,en),qt===null?Xt=Qt:qt.sibling=Qt,qt=Qt);return I$3&&tg(Bt,en),Xt}for(Kt=_t(Bt,Kt);!Qt.done;en++,Qt=Vt.next())Qt=$t(Kt,Bt,en,Qt.value,Ht),Qt!==null&&(vt&&Qt.alternate!==null&&Kt.delete(Qt.key===null?en:Qt.key),Ut=wt(Qt,Ut,en),qt===null?Xt=Qt:qt.sibling=Qt,qt=Qt);return vt&&Kt.forEach(function(un){return ht(Bt,un)}),I$3&&tg(Bt,en),Xt}function Gt(Bt,Ut,Vt,Ht){if(typeof Vt=="object"&&Vt!==null&&Vt.type===ya&&Vt.key===null&&(Vt=Vt.props.children),typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case va:e:{for(var Xt=Vt.key,qt=Ut;qt!==null;){if(qt.key===Xt){if(Xt=Vt.type,Xt===ya){if(qt.tag===7){xt(Bt,qt.sibling),Ut=St(qt,Vt.props.children),Ut.return=Bt,Bt=Ut;break e}}else if(qt.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===Ha&&Ng(Xt)===qt.type){xt(Bt,qt.sibling),Ut=St(qt,Vt.props),Ut.ref=Lg(Bt,qt,Vt),Ut.return=Bt,Bt=Ut;break e}xt(Bt,qt);break}else ht(Bt,qt);qt=qt.sibling}Vt.type===ya?(Ut=Tg(Vt.props.children,Bt.mode,Ht,Vt.key),Ut.return=Bt,Bt=Ut):(Ht=Rg(Vt.type,Vt.key,Vt.props,null,Bt.mode,Ht),Ht.ref=Lg(Bt,Ut,Vt),Ht.return=Bt,Bt=Ht)}return At(Bt);case wa:e:{for(qt=Vt.key;Ut!==null;){if(Ut.key===qt)if(Ut.tag===4&&Ut.stateNode.containerInfo===Vt.containerInfo&&Ut.stateNode.implementation===Vt.implementation){xt(Bt,Ut.sibling),Ut=St(Ut,Vt.children||[]),Ut.return=Bt,Bt=Ut;break e}else{xt(Bt,Ut);break}else ht(Bt,Ut);Ut=Ut.sibling}Ut=Sg(Vt,Bt.mode,Ht),Ut.return=Bt,Bt=Ut}return At(Bt);case Ha:return qt=Vt._init,Gt(Bt,Ut,qt(Vt._payload),Ht)}if(eb(Vt))return Ot(Bt,Ut,Vt,Ht);if(Ka(Vt))return zt(Bt,Ut,Vt,Ht);Mg(Bt,Vt)}return typeof Vt=="string"&&Vt!==""||typeof Vt=="number"?(Vt=""+Vt,Ut!==null&&Ut.tag===6?(xt(Bt,Ut.sibling),Ut=St(Ut,Vt),Ut.return=Bt,Bt=Ut):(xt(Bt,Ut),Ut=Qg(Vt,Bt.mode,Ht),Ut.return=Bt,Bt=Ut),At(Bt)):xt(Bt,Ut)}return Gt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(vt){var ht=Wg.current;E$6(Wg),vt._currentValue=ht}function bh(vt,ht,xt){for(;vt!==null;){var _t=vt.alternate;if((vt.childLanes&ht)!==ht?(vt.childLanes|=ht,_t!==null&&(_t.childLanes|=ht)):_t!==null&&(_t.childLanes&ht)!==ht&&(_t.childLanes|=ht),vt===xt)break;vt=vt.return}}function ch(vt,ht){Xg=vt,Zg=Yg=null,vt=vt.dependencies,vt!==null&&vt.firstContext!==null&&(vt.lanes&ht&&(dh=!0),vt.firstContext=null)}function eh(vt){var ht=vt._currentValue;if(Zg!==vt)if(vt={context:vt,memoizedValue:ht,next:null},Yg===null){if(Xg===null)throw Error(p$5(308));Yg=vt,Xg.dependencies={lanes:0,firstContext:vt}}else Yg=Yg.next=vt;return ht}var fh=null;function gh(vt){fh===null?fh=[vt]:fh.push(vt)}function hh(vt,ht,xt,_t){var St=ht.interleaved;return St===null?(xt.next=xt,gh(ht)):(xt.next=St.next,St.next=xt),ht.interleaved=xt,ih(vt,_t)}function ih(vt,ht){vt.lanes|=ht;var xt=vt.alternate;for(xt!==null&&(xt.lanes|=ht),xt=vt,vt=vt.return;vt!==null;)vt.childLanes|=ht,xt=vt.alternate,xt!==null&&(xt.childLanes|=ht),xt=vt,vt=vt.return;return xt.tag===3?xt.stateNode:null}var jh=!1;function kh(vt){vt.updateQueue={baseState:vt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(vt,ht){vt=vt.updateQueue,ht.updateQueue===vt&&(ht.updateQueue={baseState:vt.baseState,firstBaseUpdate:vt.firstBaseUpdate,lastBaseUpdate:vt.lastBaseUpdate,shared:vt.shared,effects:vt.effects})}function mh(vt,ht){return{eventTime:vt,lane:ht,tag:0,payload:null,callback:null,next:null}}function nh(vt,ht,xt){var _t=vt.updateQueue;if(_t===null)return null;if(_t=_t.shared,K$1&2){var St=_t.pending;return St===null?ht.next=ht:(ht.next=St.next,St.next=ht),_t.pending=ht,ih(vt,xt)}return St=_t.interleaved,St===null?(ht.next=ht,gh(_t)):(ht.next=St.next,St.next=ht),_t.interleaved=ht,ih(vt,xt)}function oh(vt,ht,xt){if(ht=ht.updateQueue,ht!==null&&(ht=ht.shared,(xt&4194240)!==0)){var _t=ht.lanes;_t&=vt.pendingLanes,xt|=_t,ht.lanes=xt,Cc(vt,xt)}}function ph(vt,ht){var xt=vt.updateQueue,_t=vt.alternate;if(_t!==null&&(_t=_t.updateQueue,xt===_t)){var St=null,wt=null;if(xt=xt.firstBaseUpdate,xt!==null){do{var At={eventTime:xt.eventTime,lane:xt.lane,tag:xt.tag,payload:xt.payload,callback:xt.callback,next:null};wt===null?St=wt=At:wt=wt.next=At,xt=xt.next}while(xt!==null);wt===null?St=wt=ht:wt=wt.next=ht}else St=wt=ht;xt={baseState:_t.baseState,firstBaseUpdate:St,lastBaseUpdate:wt,shared:_t.shared,effects:_t.effects},vt.updateQueue=xt;return}vt=xt.lastBaseUpdate,vt===null?xt.firstBaseUpdate=ht:vt.next=ht,xt.lastBaseUpdate=ht}function qh(vt,ht,xt,_t){var St=vt.updateQueue;jh=!1;var wt=St.firstBaseUpdate,At=St.lastBaseUpdate,Ct=St.shared.pending;if(Ct!==null){St.shared.pending=null;var Rt=Ct,It=Rt.next;Rt.next=null,At===null?wt=It:At.next=It,At=Rt;var Lt=vt.alternate;Lt!==null&&(Lt=Lt.updateQueue,Ct=Lt.lastBaseUpdate,Ct!==At&&(Ct===null?Lt.firstBaseUpdate=It:Ct.next=It,Lt.lastBaseUpdate=Rt))}if(wt!==null){var kt=St.baseState;At=0,Lt=It=Rt=null,Ct=wt;do{var Dt=Ct.lane,$t=Ct.eventTime;if((_t&Dt)===Dt){Lt!==null&&(Lt=Lt.next={eventTime:$t,lane:0,tag:Ct.tag,payload:Ct.payload,callback:Ct.callback,next:null});e:{var Ot=vt,zt=Ct;switch(Dt=ht,$t=xt,zt.tag){case 1:if(Ot=zt.payload,typeof Ot=="function"){kt=Ot.call($t,kt,Dt);break e}kt=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=zt.payload,Dt=typeof Ot=="function"?Ot.call($t,kt,Dt):Ot,Dt==null)break e;kt=A$2({},kt,Dt);break e;case 2:jh=!0}}Ct.callback!==null&&Ct.lane!==0&&(vt.flags|=64,Dt=St.effects,Dt===null?St.effects=[Ct]:Dt.push(Ct))}else $t={eventTime:$t,lane:Dt,tag:Ct.tag,payload:Ct.payload,callback:Ct.callback,next:null},Lt===null?(It=Lt=$t,Rt=kt):Lt=Lt.next=$t,At|=Dt;if(Ct=Ct.next,Ct===null){if(Ct=St.shared.pending,Ct===null)break;Dt=Ct,Ct=Dt.next,Dt.next=null,St.lastBaseUpdate=Dt,St.shared.pending=null}}while(!0);if(Lt===null&&(Rt=kt),St.baseState=Rt,St.firstBaseUpdate=It,St.lastBaseUpdate=Lt,ht=St.shared.interleaved,ht!==null){St=ht;do At|=St.lane,St=St.next;while(St!==ht)}else wt===null&&(St.shared.lanes=0);rh|=At,vt.lanes=At,vt.memoizedState=kt}}function sh(vt,ht,xt){if(vt=ht.effects,ht.effects=null,vt!==null)for(ht=0;ht<vt.length;ht++){var _t=vt[ht],St=_t.callback;if(St!==null){if(_t.callback=null,_t=xt,typeof St!="function")throw Error(p$5(191,St));St.call(_t)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(vt){if(vt===th)throw Error(p$5(174));return vt}function yh(vt,ht){switch(G$1(wh,ht),G$1(vh$1,vt),G$1(uh,th),vt=ht.nodeType,vt){case 9:case 11:ht=(ht=ht.documentElement)?ht.namespaceURI:lb(null,"");break;default:vt=vt===8?ht.parentNode:ht,ht=vt.namespaceURI||null,vt=vt.tagName,ht=lb(ht,vt)}E$6(uh),G$1(uh,ht)}function zh(){E$6(uh),E$6(vh$1),E$6(wh)}function Ah(vt){xh(wh.current);var ht=xh(uh.current),xt=lb(ht,vt.type);ht!==xt&&(G$1(vh$1,vt),G$1(uh,xt))}function Bh(vt){vh$1.current===vt&&(E$6(uh),E$6(vh$1))}var L$4=Uf(0);function Ch(vt){for(var ht=vt;ht!==null;){if(ht.tag===13){var xt=ht.memoizedState;if(xt!==null&&(xt=xt.dehydrated,xt===null||xt.data==="$?"||xt.data==="$!"))return ht}else if(ht.tag===19&&ht.memoizedProps.revealOrder!==void 0){if(ht.flags&128)return ht}else if(ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===vt)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===vt)return null;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}return null}var Dh=[];function Eh(){for(var vt=0;vt<Dh.length;vt++)Dh[vt]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$1=null,O$4=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$5(321))}function Mh(vt,ht){if(ht===null)return!1;for(var xt=0;xt<ht.length&&xt<vt.length;xt++)if(!He$2(vt[xt],ht[xt]))return!1;return!0}function Nh(vt,ht,xt,_t,St,wt){if(Hh=wt,M$3=ht,ht.memoizedState=null,ht.updateQueue=null,ht.lanes=0,Fh.current=vt===null||vt.memoizedState===null?Oh:Ph,vt=xt(_t,St),Jh){wt=0;do{if(Jh=!1,Kh=0,25<=wt)throw Error(p$5(301));wt+=1,O$4=N$1=null,ht.updateQueue=null,Fh.current=Qh,vt=xt(_t,St)}while(Jh)}if(Fh.current=Rh,ht=N$1!==null&&N$1.next!==null,Hh=0,O$4=N$1=M$3=null,Ih=!1,ht)throw Error(p$5(300));return vt}function Sh(){var vt=Kh!==0;return Kh=0,vt}function Th(){var vt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$4===null?M$3.memoizedState=O$4=vt:O$4=O$4.next=vt,O$4}function Uh(){if(N$1===null){var vt=M$3.alternate;vt=vt!==null?vt.memoizedState:null}else vt=N$1.next;var ht=O$4===null?M$3.memoizedState:O$4.next;if(ht!==null)O$4=ht,N$1=vt;else{if(vt===null)throw Error(p$5(310));N$1=vt,vt={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$4===null?M$3.memoizedState=O$4=vt:O$4=O$4.next=vt}return O$4}function Vh(vt,ht){return typeof ht=="function"?ht(vt):ht}function Wh(vt){var ht=Uh(),xt=ht.queue;if(xt===null)throw Error(p$5(311));xt.lastRenderedReducer=vt;var _t=N$1,St=_t.baseQueue,wt=xt.pending;if(wt!==null){if(St!==null){var At=St.next;St.next=wt.next,wt.next=At}_t.baseQueue=St=wt,xt.pending=null}if(St!==null){wt=St.next,_t=_t.baseState;var Ct=At=null,Rt=null,It=wt;do{var Lt=It.lane;if((Hh&Lt)===Lt)Rt!==null&&(Rt=Rt.next={lane:0,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null}),_t=It.hasEagerState?It.eagerState:vt(_t,It.action);else{var kt={lane:Lt,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null};Rt===null?(Ct=Rt=kt,At=_t):Rt=Rt.next=kt,M$3.lanes|=Lt,rh|=Lt}It=It.next}while(It!==null&&It!==wt);Rt===null?At=_t:Rt.next=Ct,He$2(_t,ht.memoizedState)||(dh=!0),ht.memoizedState=_t,ht.baseState=At,ht.baseQueue=Rt,xt.lastRenderedState=_t}if(vt=xt.interleaved,vt!==null){St=vt;do wt=St.lane,M$3.lanes|=wt,rh|=wt,St=St.next;while(St!==vt)}else St===null&&(xt.lanes=0);return[ht.memoizedState,xt.dispatch]}function Xh(vt){var ht=Uh(),xt=ht.queue;if(xt===null)throw Error(p$5(311));xt.lastRenderedReducer=vt;var _t=xt.dispatch,St=xt.pending,wt=ht.memoizedState;if(St!==null){xt.pending=null;var At=St=St.next;do wt=vt(wt,At.action),At=At.next;while(At!==St);He$2(wt,ht.memoizedState)||(dh=!0),ht.memoizedState=wt,ht.baseQueue===null&&(ht.baseState=wt),xt.lastRenderedState=wt}return[wt,_t]}function Yh(){}function Zh(vt,ht){var xt=M$3,_t=Uh(),St=ht(),wt=!He$2(_t.memoizedState,St);if(wt&&(_t.memoizedState=St,dh=!0),_t=_t.queue,$h(ai.bind(null,xt,_t,vt),[vt]),_t.getSnapshot!==ht||wt||O$4!==null&&O$4.memoizedState.tag&1){if(xt.flags|=2048,bi(9,ci.bind(null,xt,_t,St,ht),void 0,null),Q$2===null)throw Error(p$5(349));Hh&30||di(xt,ht,St)}return St}function di(vt,ht,xt){vt.flags|=16384,vt={getSnapshot:ht,value:xt},ht=M$3.updateQueue,ht===null?(ht={lastEffect:null,stores:null},M$3.updateQueue=ht,ht.stores=[vt]):(xt=ht.stores,xt===null?ht.stores=[vt]:xt.push(vt))}function ci(vt,ht,xt,_t){ht.value=xt,ht.getSnapshot=_t,ei(ht)&&fi(vt)}function ai(vt,ht,xt){return xt(function(){ei(ht)&&fi(vt)})}function ei(vt){var ht=vt.getSnapshot;vt=vt.value;try{var xt=ht();return!He$2(vt,xt)}catch{return!0}}function fi(vt){var ht=ih(vt,1);ht!==null&&gi(ht,vt,1,-1)}function hi(vt){var ht=Th();return typeof vt=="function"&&(vt=vt()),ht.memoizedState=ht.baseState=vt,vt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:vt},ht.queue=vt,vt=vt.dispatch=ii.bind(null,M$3,vt),[ht.memoizedState,vt]}function bi(vt,ht,xt,_t){return vt={tag:vt,create:ht,destroy:xt,deps:_t,next:null},ht=M$3.updateQueue,ht===null?(ht={lastEffect:null,stores:null},M$3.updateQueue=ht,ht.lastEffect=vt.next=vt):(xt=ht.lastEffect,xt===null?ht.lastEffect=vt.next=vt:(_t=xt.next,xt.next=vt,vt.next=_t,ht.lastEffect=vt)),vt}function ji(){return Uh().memoizedState}function ki(vt,ht,xt,_t){var St=Th();M$3.flags|=vt,St.memoizedState=bi(1|ht,xt,void 0,_t===void 0?null:_t)}function li(vt,ht,xt,_t){var St=Uh();_t=_t===void 0?null:_t;var wt=void 0;if(N$1!==null){var At=N$1.memoizedState;if(wt=At.destroy,_t!==null&&Mh(_t,At.deps)){St.memoizedState=bi(ht,xt,wt,_t);return}}M$3.flags|=vt,St.memoizedState=bi(1|ht,xt,wt,_t)}function mi(vt,ht){return ki(8390656,8,vt,ht)}function $h(vt,ht){return li(2048,8,vt,ht)}function ni(vt,ht){return li(4,2,vt,ht)}function oi(vt,ht){return li(4,4,vt,ht)}function pi(vt,ht){if(typeof ht=="function")return vt=vt(),ht(vt),function(){ht(null)};if(ht!=null)return vt=vt(),ht.current=vt,function(){ht.current=null}}function qi(vt,ht,xt){return xt=xt!=null?xt.concat([vt]):null,li(4,4,pi.bind(null,ht,vt),xt)}function ri(){}function si(vt,ht){var xt=Uh();ht=ht===void 0?null:ht;var _t=xt.memoizedState;return _t!==null&&ht!==null&&Mh(ht,_t[1])?_t[0]:(xt.memoizedState=[vt,ht],vt)}function ti(vt,ht){var xt=Uh();ht=ht===void 0?null:ht;var _t=xt.memoizedState;return _t!==null&&ht!==null&&Mh(ht,_t[1])?_t[0]:(vt=vt(),xt.memoizedState=[vt,ht],vt)}function ui(vt,ht,xt){return Hh&21?(He$2(xt,ht)||(xt=yc(),M$3.lanes|=xt,rh|=xt,vt.baseState=!0),ht):(vt.baseState&&(vt.baseState=!1,dh=!0),vt.memoizedState=xt)}function vi(vt,ht){var xt=C$7;C$7=xt!==0&&4>xt?xt:4,vt(!0);var _t=Gh.transition;Gh.transition={};try{vt(!1),ht()}finally{C$7=xt,Gh.transition=_t}}function wi(){return Uh().memoizedState}function xi(vt,ht,xt){var _t=yi(vt);if(xt={lane:_t,action:xt,hasEagerState:!1,eagerState:null,next:null},zi(vt))Ai(ht,xt);else if(xt=hh(vt,ht,xt,_t),xt!==null){var St=R$1();gi(xt,vt,_t,St),Bi(xt,ht,_t)}}function ii(vt,ht,xt){var _t=yi(vt),St={lane:_t,action:xt,hasEagerState:!1,eagerState:null,next:null};if(zi(vt))Ai(ht,St);else{var wt=vt.alternate;if(vt.lanes===0&&(wt===null||wt.lanes===0)&&(wt=ht.lastRenderedReducer,wt!==null))try{var At=ht.lastRenderedState,Ct=wt(At,xt);if(St.hasEagerState=!0,St.eagerState=Ct,He$2(Ct,At)){var Rt=ht.interleaved;Rt===null?(St.next=St,gh(ht)):(St.next=Rt.next,Rt.next=St),ht.interleaved=St;return}}catch{}finally{}xt=hh(vt,ht,St,_t),xt!==null&&(St=R$1(),gi(xt,vt,_t,St),Bi(xt,ht,_t))}}function zi(vt){var ht=vt.alternate;return vt===M$3||ht!==null&&ht===M$3}function Ai(vt,ht){Jh=Ih=!0;var xt=vt.pending;xt===null?ht.next=ht:(ht.next=xt.next,xt.next=ht),vt.pending=ht}function Bi(vt,ht,xt){if(xt&4194240){var _t=ht.lanes;_t&=vt.pendingLanes,xt|=_t,ht.lanes=xt,Cc(vt,xt)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(vt,ht){return Th().memoizedState=[vt,ht===void 0?null:ht],vt},useContext:eh,useEffect:mi,useImperativeHandle:function(vt,ht,xt){return xt=xt!=null?xt.concat([vt]):null,ki(4194308,4,pi.bind(null,ht,vt),xt)},useLayoutEffect:function(vt,ht){return ki(4194308,4,vt,ht)},useInsertionEffect:function(vt,ht){return ki(4,2,vt,ht)},useMemo:function(vt,ht){var xt=Th();return ht=ht===void 0?null:ht,vt=vt(),xt.memoizedState=[vt,ht],vt},useReducer:function(vt,ht,xt){var _t=Th();return ht=xt!==void 0?xt(ht):ht,_t.memoizedState=_t.baseState=ht,vt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vt,lastRenderedState:ht},_t.queue=vt,vt=vt.dispatch=xi.bind(null,M$3,vt),[_t.memoizedState,vt]},useRef:function(vt){var ht=Th();return vt={current:vt},ht.memoizedState=vt},useState:hi,useDebugValue:ri,useDeferredValue:function(vt){return Th().memoizedState=vt},useTransition:function(){var vt=hi(!1),ht=vt[0];return vt=vi.bind(null,vt[1]),Th().memoizedState=vt,[ht,vt]},useMutableSource:function(){},useSyncExternalStore:function(vt,ht,xt){var _t=M$3,St=Th();if(I$3){if(xt===void 0)throw Error(p$5(407));xt=xt()}else{if(xt=ht(),Q$2===null)throw Error(p$5(349));Hh&30||di(_t,ht,xt)}St.memoizedState=xt;var wt={value:xt,getSnapshot:ht};return St.queue=wt,mi(ai.bind(null,_t,wt,vt),[vt]),_t.flags|=2048,bi(9,ci.bind(null,_t,wt,xt,ht),void 0,null),xt},useId:function(){var vt=Th(),ht=Q$2.identifierPrefix;if(I$3){var xt=sg,_t=rg;xt=(_t&~(1<<32-oc(_t)-1)).toString(32)+xt,ht=":"+ht+"R"+xt,xt=Kh++,0<xt&&(ht+="H"+xt.toString(32)),ht+=":"}else xt=Lh++,ht=":"+ht+"r"+xt.toString(32)+":";return vt.memoizedState=ht},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(vt){var ht=Uh();return ui(ht,N$1.memoizedState,vt)},useTransition:function(){var vt=Wh(Vh)[0],ht=Uh().memoizedState;return[vt,ht]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(vt){var ht=Uh();return N$1===null?ht.memoizedState=vt:ui(ht,N$1.memoizedState,vt)},useTransition:function(){var vt=Xh(Vh)[0],ht=Uh().memoizedState;return[vt,ht]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(vt,ht){if(vt&&vt.defaultProps){ht=A$2({},ht),vt=vt.defaultProps;for(var xt in vt)ht[xt]===void 0&&(ht[xt]=vt[xt]);return ht}return ht}function Di(vt,ht,xt,_t){ht=vt.memoizedState,xt=xt(_t,ht),xt=xt==null?ht:A$2({},ht,xt),vt.memoizedState=xt,vt.lanes===0&&(vt.updateQueue.baseState=xt)}var Ei={isMounted:function(vt){return(vt=vt._reactInternals)?Vb(vt)===vt:!1},enqueueSetState:function(vt,ht,xt){vt=vt._reactInternals;var _t=R$1(),St=yi(vt),wt=mh(_t,St);wt.payload=ht,xt!=null&&(wt.callback=xt),ht=nh(vt,wt,St),ht!==null&&(gi(ht,vt,St,_t),oh(ht,vt,St))},enqueueReplaceState:function(vt,ht,xt){vt=vt._reactInternals;var _t=R$1(),St=yi(vt),wt=mh(_t,St);wt.tag=1,wt.payload=ht,xt!=null&&(wt.callback=xt),ht=nh(vt,wt,St),ht!==null&&(gi(ht,vt,St,_t),oh(ht,vt,St))},enqueueForceUpdate:function(vt,ht){vt=vt._reactInternals;var xt=R$1(),_t=yi(vt),St=mh(xt,_t);St.tag=2,ht!=null&&(St.callback=ht),ht=nh(vt,St,_t),ht!==null&&(gi(ht,vt,_t,xt),oh(ht,vt,_t))}};function Fi(vt,ht,xt,_t,St,wt,At){return vt=vt.stateNode,typeof vt.shouldComponentUpdate=="function"?vt.shouldComponentUpdate(_t,wt,At):ht.prototype&&ht.prototype.isPureReactComponent?!Ie$2(xt,_t)||!Ie$2(St,wt):!0}function Gi(vt,ht,xt){var _t=!1,St=Vf,wt=ht.contextType;return typeof wt=="object"&&wt!==null?wt=eh(wt):(St=Zf(ht)?Xf:H$3.current,_t=ht.contextTypes,wt=(_t=_t!=null)?Yf(vt,St):Vf),ht=new ht(xt,wt),vt.memoizedState=ht.state!==null&&ht.state!==void 0?ht.state:null,ht.updater=Ei,vt.stateNode=ht,ht._reactInternals=vt,_t&&(vt=vt.stateNode,vt.__reactInternalMemoizedUnmaskedChildContext=St,vt.__reactInternalMemoizedMaskedChildContext=wt),ht}function Hi(vt,ht,xt,_t){vt=ht.state,typeof ht.componentWillReceiveProps=="function"&&ht.componentWillReceiveProps(xt,_t),typeof ht.UNSAFE_componentWillReceiveProps=="function"&&ht.UNSAFE_componentWillReceiveProps(xt,_t),ht.state!==vt&&Ei.enqueueReplaceState(ht,ht.state,null)}function Ii(vt,ht,xt,_t){var St=vt.stateNode;St.props=xt,St.state=vt.memoizedState,St.refs={},kh(vt);var wt=ht.contextType;typeof wt=="object"&&wt!==null?St.context=eh(wt):(wt=Zf(ht)?Xf:H$3.current,St.context=Yf(vt,wt)),St.state=vt.memoizedState,wt=ht.getDerivedStateFromProps,typeof wt=="function"&&(Di(vt,ht,wt,xt),St.state=vt.memoizedState),typeof ht.getDerivedStateFromProps=="function"||typeof St.getSnapshotBeforeUpdate=="function"||typeof St.UNSAFE_componentWillMount!="function"&&typeof St.componentWillMount!="function"||(ht=St.state,typeof St.componentWillMount=="function"&&St.componentWillMount(),typeof St.UNSAFE_componentWillMount=="function"&&St.UNSAFE_componentWillMount(),ht!==St.state&&Ei.enqueueReplaceState(St,St.state,null),qh(vt,xt,St,_t),St.state=vt.memoizedState),typeof St.componentDidMount=="function"&&(vt.flags|=4194308)}function Ji(vt,ht){try{var xt="",_t=ht;do xt+=Pa(_t),_t=_t.return;while(_t);var St=xt}catch(wt){St=`
Error generating stack: `+wt.message+`
`+wt.stack}return{value:vt,source:ht,stack:St,digest:null}}function Ki(vt,ht,xt){return{value:vt,source:null,stack:xt??null,digest:ht??null}}function Li(vt,ht){try{console.error(ht.value)}catch(xt){setTimeout(function(){throw xt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(vt,ht,xt){xt=mh(-1,xt),xt.tag=3,xt.payload={element:null};var _t=ht.value;return xt.callback=function(){Oi||(Oi=!0,Pi=_t),Li(vt,ht)},xt}function Qi(vt,ht,xt){xt=mh(-1,xt),xt.tag=3;var _t=vt.type.getDerivedStateFromError;if(typeof _t=="function"){var St=ht.value;xt.payload=function(){return _t(St)},xt.callback=function(){Li(vt,ht)}}var wt=vt.stateNode;return wt!==null&&typeof wt.componentDidCatch=="function"&&(xt.callback=function(){Li(vt,ht),typeof _t!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var At=ht.stack;this.componentDidCatch(ht.value,{componentStack:At!==null?At:""})}),xt}function Si(vt,ht,xt){var _t=vt.pingCache;if(_t===null){_t=vt.pingCache=new Mi;var St=new Set;_t.set(ht,St)}else St=_t.get(ht),St===void 0&&(St=new Set,_t.set(ht,St));St.has(xt)||(St.add(xt),vt=Ti.bind(null,vt,ht,xt),ht.then(vt,vt))}function Ui(vt){do{var ht;if((ht=vt.tag===13)&&(ht=vt.memoizedState,ht=ht!==null?ht.dehydrated!==null:!0),ht)return vt;vt=vt.return}while(vt!==null);return null}function Vi(vt,ht,xt,_t,St){return vt.mode&1?(vt.flags|=65536,vt.lanes=St,vt):(vt===ht?vt.flags|=65536:(vt.flags|=128,xt.flags|=131072,xt.flags&=-52805,xt.tag===1&&(xt.alternate===null?xt.tag=17:(ht=mh(-1,1),ht.tag=2,nh(xt,ht,1))),xt.lanes|=1),vt)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(vt,ht,xt,_t){ht.child=vt===null?Vg(ht,null,xt,_t):Ug(ht,vt.child,xt,_t)}function Yi(vt,ht,xt,_t,St){xt=xt.render;var wt=ht.ref;return ch(ht,St),_t=Nh(vt,ht,xt,_t,wt,St),xt=Sh(),vt!==null&&!dh?(ht.updateQueue=vt.updateQueue,ht.flags&=-2053,vt.lanes&=~St,Zi(vt,ht,St)):(I$3&&xt&&vg(ht),ht.flags|=1,Xi(vt,ht,_t,St),ht.child)}function $i(vt,ht,xt,_t,St){if(vt===null){var wt=xt.type;return typeof wt=="function"&&!aj(wt)&&wt.defaultProps===void 0&&xt.compare===null&&xt.defaultProps===void 0?(ht.tag=15,ht.type=wt,bj(vt,ht,wt,_t,St)):(vt=Rg(xt.type,null,_t,ht,ht.mode,St),vt.ref=ht.ref,vt.return=ht,ht.child=vt)}if(wt=vt.child,!(vt.lanes&St)){var At=wt.memoizedProps;if(xt=xt.compare,xt=xt!==null?xt:Ie$2,xt(At,_t)&&vt.ref===ht.ref)return Zi(vt,ht,St)}return ht.flags|=1,vt=Pg(wt,_t),vt.ref=ht.ref,vt.return=ht,ht.child=vt}function bj(vt,ht,xt,_t,St){if(vt!==null){var wt=vt.memoizedProps;if(Ie$2(wt,_t)&&vt.ref===ht.ref)if(dh=!1,ht.pendingProps=_t=wt,(vt.lanes&St)!==0)vt.flags&131072&&(dh=!0);else return ht.lanes=vt.lanes,Zi(vt,ht,St)}return cj(vt,ht,xt,_t,St)}function dj(vt,ht,xt){var _t=ht.pendingProps,St=_t.children,wt=vt!==null?vt.memoizedState:null;if(_t.mode==="hidden")if(!(ht.mode&1))ht.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=xt;else{if(!(xt&1073741824))return vt=wt!==null?wt.baseLanes|xt:xt,ht.lanes=ht.childLanes=1073741824,ht.memoizedState={baseLanes:vt,cachePool:null,transitions:null},ht.updateQueue=null,G$1(ej,fj),fj|=vt,null;ht.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t=wt!==null?wt.baseLanes:xt,G$1(ej,fj),fj|=_t}else wt!==null?(_t=wt.baseLanes|xt,ht.memoizedState=null):_t=xt,G$1(ej,fj),fj|=_t;return Xi(vt,ht,St,xt),ht.child}function gj(vt,ht){var xt=ht.ref;(vt===null&&xt!==null||vt!==null&&vt.ref!==xt)&&(ht.flags|=512,ht.flags|=2097152)}function cj(vt,ht,xt,_t,St){var wt=Zf(xt)?Xf:H$3.current;return wt=Yf(ht,wt),ch(ht,St),xt=Nh(vt,ht,xt,_t,wt,St),_t=Sh(),vt!==null&&!dh?(ht.updateQueue=vt.updateQueue,ht.flags&=-2053,vt.lanes&=~St,Zi(vt,ht,St)):(I$3&&_t&&vg(ht),ht.flags|=1,Xi(vt,ht,xt,St),ht.child)}function hj(vt,ht,xt,_t,St){if(Zf(xt)){var wt=!0;cg(ht)}else wt=!1;if(ch(ht,St),ht.stateNode===null)ij(vt,ht),Gi(ht,xt,_t),Ii(ht,xt,_t,St),_t=!0;else if(vt===null){var At=ht.stateNode,Ct=ht.memoizedProps;At.props=Ct;var Rt=At.context,It=xt.contextType;typeof It=="object"&&It!==null?It=eh(It):(It=Zf(xt)?Xf:H$3.current,It=Yf(ht,It));var Lt=xt.getDerivedStateFromProps,kt=typeof Lt=="function"||typeof At.getSnapshotBeforeUpdate=="function";kt||typeof At.UNSAFE_componentWillReceiveProps!="function"&&typeof At.componentWillReceiveProps!="function"||(Ct!==_t||Rt!==It)&&Hi(ht,At,_t,It),jh=!1;var Dt=ht.memoizedState;At.state=Dt,qh(ht,_t,At,St),Rt=ht.memoizedState,Ct!==_t||Dt!==Rt||Wf.current||jh?(typeof Lt=="function"&&(Di(ht,xt,Lt,_t),Rt=ht.memoizedState),(Ct=jh||Fi(ht,xt,Ct,_t,Dt,Rt,It))?(kt||typeof At.UNSAFE_componentWillMount!="function"&&typeof At.componentWillMount!="function"||(typeof At.componentWillMount=="function"&&At.componentWillMount(),typeof At.UNSAFE_componentWillMount=="function"&&At.UNSAFE_componentWillMount()),typeof At.componentDidMount=="function"&&(ht.flags|=4194308)):(typeof At.componentDidMount=="function"&&(ht.flags|=4194308),ht.memoizedProps=_t,ht.memoizedState=Rt),At.props=_t,At.state=Rt,At.context=It,_t=Ct):(typeof At.componentDidMount=="function"&&(ht.flags|=4194308),_t=!1)}else{At=ht.stateNode,lh(vt,ht),Ct=ht.memoizedProps,It=ht.type===ht.elementType?Ct:Ci(ht.type,Ct),At.props=It,kt=ht.pendingProps,Dt=At.context,Rt=xt.contextType,typeof Rt=="object"&&Rt!==null?Rt=eh(Rt):(Rt=Zf(xt)?Xf:H$3.current,Rt=Yf(ht,Rt));var $t=xt.getDerivedStateFromProps;(Lt=typeof $t=="function"||typeof At.getSnapshotBeforeUpdate=="function")||typeof At.UNSAFE_componentWillReceiveProps!="function"&&typeof At.componentWillReceiveProps!="function"||(Ct!==kt||Dt!==Rt)&&Hi(ht,At,_t,Rt),jh=!1,Dt=ht.memoizedState,At.state=Dt,qh(ht,_t,At,St);var Ot=ht.memoizedState;Ct!==kt||Dt!==Ot||Wf.current||jh?(typeof $t=="function"&&(Di(ht,xt,$t,_t),Ot=ht.memoizedState),(It=jh||Fi(ht,xt,It,_t,Dt,Ot,Rt)||!1)?(Lt||typeof At.UNSAFE_componentWillUpdate!="function"&&typeof At.componentWillUpdate!="function"||(typeof At.componentWillUpdate=="function"&&At.componentWillUpdate(_t,Ot,Rt),typeof At.UNSAFE_componentWillUpdate=="function"&&At.UNSAFE_componentWillUpdate(_t,Ot,Rt)),typeof At.componentDidUpdate=="function"&&(ht.flags|=4),typeof At.getSnapshotBeforeUpdate=="function"&&(ht.flags|=1024)):(typeof At.componentDidUpdate!="function"||Ct===vt.memoizedProps&&Dt===vt.memoizedState||(ht.flags|=4),typeof At.getSnapshotBeforeUpdate!="function"||Ct===vt.memoizedProps&&Dt===vt.memoizedState||(ht.flags|=1024),ht.memoizedProps=_t,ht.memoizedState=Ot),At.props=_t,At.state=Ot,At.context=Rt,_t=It):(typeof At.componentDidUpdate!="function"||Ct===vt.memoizedProps&&Dt===vt.memoizedState||(ht.flags|=4),typeof At.getSnapshotBeforeUpdate!="function"||Ct===vt.memoizedProps&&Dt===vt.memoizedState||(ht.flags|=1024),_t=!1)}return jj(vt,ht,xt,_t,wt,St)}function jj(vt,ht,xt,_t,St,wt){gj(vt,ht);var At=(ht.flags&128)!==0;if(!_t&&!At)return St&&dg(ht,xt,!1),Zi(vt,ht,wt);_t=ht.stateNode,Wi.current=ht;var Ct=At&&typeof xt.getDerivedStateFromError!="function"?null:_t.render();return ht.flags|=1,vt!==null&&At?(ht.child=Ug(ht,vt.child,null,wt),ht.child=Ug(ht,null,Ct,wt)):Xi(vt,ht,Ct,wt),ht.memoizedState=_t.state,St&&dg(ht,xt,!0),ht.child}function kj(vt){var ht=vt.stateNode;ht.pendingContext?ag(vt,ht.pendingContext,ht.pendingContext!==ht.context):ht.context&&ag(vt,ht.context,!1),yh(vt,ht.containerInfo)}function lj(vt,ht,xt,_t,St){return Ig(),Jg(St),ht.flags|=256,Xi(vt,ht,xt,_t),ht.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(vt){return{baseLanes:vt,cachePool:null,transitions:null}}function oj(vt,ht,xt){var _t=ht.pendingProps,St=L$4.current,wt=!1,At=(ht.flags&128)!==0,Ct;if((Ct=At)||(Ct=vt!==null&&vt.memoizedState===null?!1:(St&2)!==0),Ct?(wt=!0,ht.flags&=-129):(vt===null||vt.memoizedState!==null)&&(St|=1),G$1(L$4,St&1),vt===null)return Eg(ht),vt=ht.memoizedState,vt!==null&&(vt=vt.dehydrated,vt!==null)?(ht.mode&1?vt.data==="$!"?ht.lanes=8:ht.lanes=1073741824:ht.lanes=1,null):(At=_t.children,vt=_t.fallback,wt?(_t=ht.mode,wt=ht.child,At={mode:"hidden",children:At},!(_t&1)&&wt!==null?(wt.childLanes=0,wt.pendingProps=At):wt=pj(At,_t,0,null),vt=Tg(vt,_t,xt,null),wt.return=ht,vt.return=ht,wt.sibling=vt,ht.child=wt,ht.child.memoizedState=nj(xt),ht.memoizedState=mj,vt):qj(ht,At));if(St=vt.memoizedState,St!==null&&(Ct=St.dehydrated,Ct!==null))return rj(vt,ht,At,_t,Ct,St,xt);if(wt){wt=_t.fallback,At=ht.mode,St=vt.child,Ct=St.sibling;var Rt={mode:"hidden",children:_t.children};return!(At&1)&&ht.child!==St?(_t=ht.child,_t.childLanes=0,_t.pendingProps=Rt,ht.deletions=null):(_t=Pg(St,Rt),_t.subtreeFlags=St.subtreeFlags&14680064),Ct!==null?wt=Pg(Ct,wt):(wt=Tg(wt,At,xt,null),wt.flags|=2),wt.return=ht,_t.return=ht,_t.sibling=wt,ht.child=_t,_t=wt,wt=ht.child,At=vt.child.memoizedState,At=At===null?nj(xt):{baseLanes:At.baseLanes|xt,cachePool:null,transitions:At.transitions},wt.memoizedState=At,wt.childLanes=vt.childLanes&~xt,ht.memoizedState=mj,_t}return wt=vt.child,vt=wt.sibling,_t=Pg(wt,{mode:"visible",children:_t.children}),!(ht.mode&1)&&(_t.lanes=xt),_t.return=ht,_t.sibling=null,vt!==null&&(xt=ht.deletions,xt===null?(ht.deletions=[vt],ht.flags|=16):xt.push(vt)),ht.child=_t,ht.memoizedState=null,_t}function qj(vt,ht){return ht=pj({mode:"visible",children:ht},vt.mode,0,null),ht.return=vt,vt.child=ht}function sj(vt,ht,xt,_t){return _t!==null&&Jg(_t),Ug(ht,vt.child,null,xt),vt=qj(ht,ht.pendingProps.children),vt.flags|=2,ht.memoizedState=null,vt}function rj(vt,ht,xt,_t,St,wt,At){if(xt)return ht.flags&256?(ht.flags&=-257,_t=Ki(Error(p$5(422))),sj(vt,ht,At,_t)):ht.memoizedState!==null?(ht.child=vt.child,ht.flags|=128,null):(wt=_t.fallback,St=ht.mode,_t=pj({mode:"visible",children:_t.children},St,0,null),wt=Tg(wt,St,At,null),wt.flags|=2,_t.return=ht,wt.return=ht,_t.sibling=wt,ht.child=_t,ht.mode&1&&Ug(ht,vt.child,null,At),ht.child.memoizedState=nj(At),ht.memoizedState=mj,wt);if(!(ht.mode&1))return sj(vt,ht,At,null);if(St.data==="$!"){if(_t=St.nextSibling&&St.nextSibling.dataset,_t)var Ct=_t.dgst;return _t=Ct,wt=Error(p$5(419)),_t=Ki(wt,_t,void 0),sj(vt,ht,At,_t)}if(Ct=(At&vt.childLanes)!==0,dh||Ct){if(_t=Q$2,_t!==null){switch(At&-At){case 4:St=2;break;case 16:St=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:St=32;break;case 536870912:St=268435456;break;default:St=0}St=St&(_t.suspendedLanes|At)?0:St,St!==0&&St!==wt.retryLane&&(wt.retryLane=St,ih(vt,St),gi(_t,vt,St,-1))}return tj(),_t=Ki(Error(p$5(421))),sj(vt,ht,At,_t)}return St.data==="$?"?(ht.flags|=128,ht.child=vt.child,ht=uj.bind(null,vt),St._reactRetry=ht,null):(vt=wt.treeContext,yg=Lf(St.nextSibling),xg=ht,I$3=!0,zg=null,vt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=vt.id,sg=vt.overflow,qg=ht),ht=qj(ht,_t.children),ht.flags|=4096,ht)}function vj(vt,ht,xt){vt.lanes|=ht;var _t=vt.alternate;_t!==null&&(_t.lanes|=ht),bh(vt.return,ht,xt)}function wj(vt,ht,xt,_t,St){var wt=vt.memoizedState;wt===null?vt.memoizedState={isBackwards:ht,rendering:null,renderingStartTime:0,last:_t,tail:xt,tailMode:St}:(wt.isBackwards=ht,wt.rendering=null,wt.renderingStartTime=0,wt.last=_t,wt.tail=xt,wt.tailMode=St)}function xj(vt,ht,xt){var _t=ht.pendingProps,St=_t.revealOrder,wt=_t.tail;if(Xi(vt,ht,_t.children,xt),_t=L$4.current,_t&2)_t=_t&1|2,ht.flags|=128;else{if(vt!==null&&vt.flags&128)e:for(vt=ht.child;vt!==null;){if(vt.tag===13)vt.memoizedState!==null&&vj(vt,xt,ht);else if(vt.tag===19)vj(vt,xt,ht);else if(vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===ht)break e;for(;vt.sibling===null;){if(vt.return===null||vt.return===ht)break e;vt=vt.return}vt.sibling.return=vt.return,vt=vt.sibling}_t&=1}if(G$1(L$4,_t),!(ht.mode&1))ht.memoizedState=null;else switch(St){case"forwards":for(xt=ht.child,St=null;xt!==null;)vt=xt.alternate,vt!==null&&Ch(vt)===null&&(St=xt),xt=xt.sibling;xt=St,xt===null?(St=ht.child,ht.child=null):(St=xt.sibling,xt.sibling=null),wj(ht,!1,St,xt,wt);break;case"backwards":for(xt=null,St=ht.child,ht.child=null;St!==null;){if(vt=St.alternate,vt!==null&&Ch(vt)===null){ht.child=St;break}vt=St.sibling,St.sibling=xt,xt=St,St=vt}wj(ht,!0,xt,null,wt);break;case"together":wj(ht,!1,null,null,void 0);break;default:ht.memoizedState=null}return ht.child}function ij(vt,ht){!(ht.mode&1)&&vt!==null&&(vt.alternate=null,ht.alternate=null,ht.flags|=2)}function Zi(vt,ht,xt){if(vt!==null&&(ht.dependencies=vt.dependencies),rh|=ht.lanes,!(xt&ht.childLanes))return null;if(vt!==null&&ht.child!==vt.child)throw Error(p$5(153));if(ht.child!==null){for(vt=ht.child,xt=Pg(vt,vt.pendingProps),ht.child=xt,xt.return=ht;vt.sibling!==null;)vt=vt.sibling,xt=xt.sibling=Pg(vt,vt.pendingProps),xt.return=ht;xt.sibling=null}return ht.child}function yj(vt,ht,xt){switch(ht.tag){case 3:kj(ht),Ig();break;case 5:Ah(ht);break;case 1:Zf(ht.type)&&cg(ht);break;case 4:yh(ht,ht.stateNode.containerInfo);break;case 10:var _t=ht.type._context,St=ht.memoizedProps.value;G$1(Wg,_t._currentValue),_t._currentValue=St;break;case 13:if(_t=ht.memoizedState,_t!==null)return _t.dehydrated!==null?(G$1(L$4,L$4.current&1),ht.flags|=128,null):xt&ht.child.childLanes?oj(vt,ht,xt):(G$1(L$4,L$4.current&1),vt=Zi(vt,ht,xt),vt!==null?vt.sibling:null);G$1(L$4,L$4.current&1);break;case 19:if(_t=(xt&ht.childLanes)!==0,vt.flags&128){if(_t)return xj(vt,ht,xt);ht.flags|=128}if(St=ht.memoizedState,St!==null&&(St.rendering=null,St.tail=null,St.lastEffect=null),G$1(L$4,L$4.current),_t)break;return null;case 22:case 23:return ht.lanes=0,dj(vt,ht,xt)}return Zi(vt,ht,xt)}var zj,Aj,Bj,Cj;zj=function(vt,ht){for(var xt=ht.child;xt!==null;){if(xt.tag===5||xt.tag===6)vt.appendChild(xt.stateNode);else if(xt.tag!==4&&xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===ht)break;for(;xt.sibling===null;){if(xt.return===null||xt.return===ht)return;xt=xt.return}xt.sibling.return=xt.return,xt=xt.sibling}};Aj=function(){};Bj=function(vt,ht,xt,_t){var St=vt.memoizedProps;if(St!==_t){vt=ht.stateNode,xh(uh.current);var wt=null;switch(xt){case"input":St=Ya(vt,St),_t=Ya(vt,_t),wt=[];break;case"select":St=A$2({},St,{value:void 0}),_t=A$2({},_t,{value:void 0}),wt=[];break;case"textarea":St=gb(vt,St),_t=gb(vt,_t),wt=[];break;default:typeof St.onClick!="function"&&typeof _t.onClick=="function"&&(vt.onclick=Bf)}ub(xt,_t);var At;xt=null;for(It in St)if(!_t.hasOwnProperty(It)&&St.hasOwnProperty(It)&&St[It]!=null)if(It==="style"){var Ct=St[It];for(At in Ct)Ct.hasOwnProperty(At)&&(xt||(xt={}),xt[At]="")}else It!=="dangerouslySetInnerHTML"&&It!=="children"&&It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&It!=="autoFocus"&&(ea.hasOwnProperty(It)?wt||(wt=[]):(wt=wt||[]).push(It,null));for(It in _t){var Rt=_t[It];if(Ct=St!=null?St[It]:void 0,_t.hasOwnProperty(It)&&Rt!==Ct&&(Rt!=null||Ct!=null))if(It==="style")if(Ct){for(At in Ct)!Ct.hasOwnProperty(At)||Rt&&Rt.hasOwnProperty(At)||(xt||(xt={}),xt[At]="");for(At in Rt)Rt.hasOwnProperty(At)&&Ct[At]!==Rt[At]&&(xt||(xt={}),xt[At]=Rt[At])}else xt||(wt||(wt=[]),wt.push(It,xt)),xt=Rt;else It==="dangerouslySetInnerHTML"?(Rt=Rt?Rt.__html:void 0,Ct=Ct?Ct.__html:void 0,Rt!=null&&Ct!==Rt&&(wt=wt||[]).push(It,Rt)):It==="children"?typeof Rt!="string"&&typeof Rt!="number"||(wt=wt||[]).push(It,""+Rt):It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&(ea.hasOwnProperty(It)?(Rt!=null&&It==="onScroll"&&D$4("scroll",vt),wt||Ct===Rt||(wt=[])):(wt=wt||[]).push(It,Rt))}xt&&(wt=wt||[]).push("style",xt);var It=wt;(ht.updateQueue=It)&&(ht.flags|=4)}};Cj=function(vt,ht,xt,_t){xt!==_t&&(ht.flags|=4)};function Dj(vt,ht){if(!I$3)switch(vt.tailMode){case"hidden":ht=vt.tail;for(var xt=null;ht!==null;)ht.alternate!==null&&(xt=ht),ht=ht.sibling;xt===null?vt.tail=null:xt.sibling=null;break;case"collapsed":xt=vt.tail;for(var _t=null;xt!==null;)xt.alternate!==null&&(_t=xt),xt=xt.sibling;_t===null?ht||vt.tail===null?vt.tail=null:vt.tail.sibling=null:_t.sibling=null}}function S$4(vt){var ht=vt.alternate!==null&&vt.alternate.child===vt.child,xt=0,_t=0;if(ht)for(var St=vt.child;St!==null;)xt|=St.lanes|St.childLanes,_t|=St.subtreeFlags&14680064,_t|=St.flags&14680064,St.return=vt,St=St.sibling;else for(St=vt.child;St!==null;)xt|=St.lanes|St.childLanes,_t|=St.subtreeFlags,_t|=St.flags,St.return=vt,St=St.sibling;return vt.subtreeFlags|=_t,vt.childLanes=xt,ht}function Ej(vt,ht,xt){var _t=ht.pendingProps;switch(wg(ht),ht.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4(ht),null;case 1:return Zf(ht.type)&&$f(),S$4(ht),null;case 3:return _t=ht.stateNode,zh(),E$6(Wf),E$6(H$3),Eh(),_t.pendingContext&&(_t.context=_t.pendingContext,_t.pendingContext=null),(vt===null||vt.child===null)&&(Gg(ht)?ht.flags|=4:vt===null||vt.memoizedState.isDehydrated&&!(ht.flags&256)||(ht.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(vt,ht),S$4(ht),null;case 5:Bh(ht);var St=xh(wh.current);if(xt=ht.type,vt!==null&&ht.stateNode!=null)Bj(vt,ht,xt,_t,St),vt.ref!==ht.ref&&(ht.flags|=512,ht.flags|=2097152);else{if(!_t){if(ht.stateNode===null)throw Error(p$5(166));return S$4(ht),null}if(vt=xh(uh.current),Gg(ht)){_t=ht.stateNode,xt=ht.type;var wt=ht.memoizedProps;switch(_t[Of]=ht,_t[Pf]=wt,vt=(ht.mode&1)!==0,xt){case"dialog":D$4("cancel",_t),D$4("close",_t);break;case"iframe":case"object":case"embed":D$4("load",_t);break;case"video":case"audio":for(St=0;St<lf.length;St++)D$4(lf[St],_t);break;case"source":D$4("error",_t);break;case"img":case"image":case"link":D$4("error",_t),D$4("load",_t);break;case"details":D$4("toggle",_t);break;case"input":Za(_t,wt),D$4("invalid",_t);break;case"select":_t._wrapperState={wasMultiple:!!wt.multiple},D$4("invalid",_t);break;case"textarea":hb(_t,wt),D$4("invalid",_t)}ub(xt,wt),St=null;for(var At in wt)if(wt.hasOwnProperty(At)){var Ct=wt[At];At==="children"?typeof Ct=="string"?_t.textContent!==Ct&&(wt.suppressHydrationWarning!==!0&&Af(_t.textContent,Ct,vt),St=["children",Ct]):typeof Ct=="number"&&_t.textContent!==""+Ct&&(wt.suppressHydrationWarning!==!0&&Af(_t.textContent,Ct,vt),St=["children",""+Ct]):ea.hasOwnProperty(At)&&Ct!=null&&At==="onScroll"&&D$4("scroll",_t)}switch(xt){case"input":Va(_t),db(_t,wt,!0);break;case"textarea":Va(_t),jb(_t);break;case"select":case"option":break;default:typeof wt.onClick=="function"&&(_t.onclick=Bf)}_t=St,ht.updateQueue=_t,_t!==null&&(ht.flags|=4)}else{At=St.nodeType===9?St:St.ownerDocument,vt==="http://www.w3.org/1999/xhtml"&&(vt=kb(xt)),vt==="http://www.w3.org/1999/xhtml"?xt==="script"?(vt=At.createElement("div"),vt.innerHTML="<script><\/script>",vt=vt.removeChild(vt.firstChild)):typeof _t.is=="string"?vt=At.createElement(xt,{is:_t.is}):(vt=At.createElement(xt),xt==="select"&&(At=vt,_t.multiple?At.multiple=!0:_t.size&&(At.size=_t.size))):vt=At.createElementNS(vt,xt),vt[Of]=ht,vt[Pf]=_t,zj(vt,ht,!1,!1),ht.stateNode=vt;e:{switch(At=vb(xt,_t),xt){case"dialog":D$4("cancel",vt),D$4("close",vt),St=_t;break;case"iframe":case"object":case"embed":D$4("load",vt),St=_t;break;case"video":case"audio":for(St=0;St<lf.length;St++)D$4(lf[St],vt);St=_t;break;case"source":D$4("error",vt),St=_t;break;case"img":case"image":case"link":D$4("error",vt),D$4("load",vt),St=_t;break;case"details":D$4("toggle",vt),St=_t;break;case"input":Za(vt,_t),St=Ya(vt,_t),D$4("invalid",vt);break;case"option":St=_t;break;case"select":vt._wrapperState={wasMultiple:!!_t.multiple},St=A$2({},_t,{value:void 0}),D$4("invalid",vt);break;case"textarea":hb(vt,_t),St=gb(vt,_t),D$4("invalid",vt);break;default:St=_t}ub(xt,St),Ct=St;for(wt in Ct)if(Ct.hasOwnProperty(wt)){var Rt=Ct[wt];wt==="style"?sb(vt,Rt):wt==="dangerouslySetInnerHTML"?(Rt=Rt?Rt.__html:void 0,Rt!=null&&nb(vt,Rt)):wt==="children"?typeof Rt=="string"?(xt!=="textarea"||Rt!=="")&&ob(vt,Rt):typeof Rt=="number"&&ob(vt,""+Rt):wt!=="suppressContentEditableWarning"&&wt!=="suppressHydrationWarning"&&wt!=="autoFocus"&&(ea.hasOwnProperty(wt)?Rt!=null&&wt==="onScroll"&&D$4("scroll",vt):Rt!=null&&ta(vt,wt,Rt,At))}switch(xt){case"input":Va(vt),db(vt,_t,!1);break;case"textarea":Va(vt),jb(vt);break;case"option":_t.value!=null&&vt.setAttribute("value",""+Sa(_t.value));break;case"select":vt.multiple=!!_t.multiple,wt=_t.value,wt!=null?fb(vt,!!_t.multiple,wt,!1):_t.defaultValue!=null&&fb(vt,!!_t.multiple,_t.defaultValue,!0);break;default:typeof St.onClick=="function"&&(vt.onclick=Bf)}switch(xt){case"button":case"input":case"select":case"textarea":_t=!!_t.autoFocus;break e;case"img":_t=!0;break e;default:_t=!1}}_t&&(ht.flags|=4)}ht.ref!==null&&(ht.flags|=512,ht.flags|=2097152)}return S$4(ht),null;case 6:if(vt&&ht.stateNode!=null)Cj(vt,ht,vt.memoizedProps,_t);else{if(typeof _t!="string"&&ht.stateNode===null)throw Error(p$5(166));if(xt=xh(wh.current),xh(uh.current),Gg(ht)){if(_t=ht.stateNode,xt=ht.memoizedProps,_t[Of]=ht,(wt=_t.nodeValue!==xt)&&(vt=xg,vt!==null))switch(vt.tag){case 3:Af(_t.nodeValue,xt,(vt.mode&1)!==0);break;case 5:vt.memoizedProps.suppressHydrationWarning!==!0&&Af(_t.nodeValue,xt,(vt.mode&1)!==0)}wt&&(ht.flags|=4)}else _t=(xt.nodeType===9?xt:xt.ownerDocument).createTextNode(_t),_t[Of]=ht,ht.stateNode=_t}return S$4(ht),null;case 13:if(E$6(L$4),_t=ht.memoizedState,vt===null||vt.memoizedState!==null&&vt.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&ht.mode&1&&!(ht.flags&128))Hg(),Ig(),ht.flags|=98560,wt=!1;else if(wt=Gg(ht),_t!==null&&_t.dehydrated!==null){if(vt===null){if(!wt)throw Error(p$5(318));if(wt=ht.memoizedState,wt=wt!==null?wt.dehydrated:null,!wt)throw Error(p$5(317));wt[Of]=ht}else Ig(),!(ht.flags&128)&&(ht.memoizedState=null),ht.flags|=4;S$4(ht),wt=!1}else zg!==null&&(Fj(zg),zg=null),wt=!0;if(!wt)return ht.flags&65536?ht:null}return ht.flags&128?(ht.lanes=xt,ht):(_t=_t!==null,_t!==(vt!==null&&vt.memoizedState!==null)&&_t&&(ht.child.flags|=8192,ht.mode&1&&(vt===null||L$4.current&1?T$3===0&&(T$3=3):tj())),ht.updateQueue!==null&&(ht.flags|=4),S$4(ht),null);case 4:return zh(),Aj(vt,ht),vt===null&&sf(ht.stateNode.containerInfo),S$4(ht),null;case 10:return ah(ht.type._context),S$4(ht),null;case 17:return Zf(ht.type)&&$f(),S$4(ht),null;case 19:if(E$6(L$4),wt=ht.memoizedState,wt===null)return S$4(ht),null;if(_t=(ht.flags&128)!==0,At=wt.rendering,At===null)if(_t)Dj(wt,!1);else{if(T$3!==0||vt!==null&&vt.flags&128)for(vt=ht.child;vt!==null;){if(At=Ch(vt),At!==null){for(ht.flags|=128,Dj(wt,!1),_t=At.updateQueue,_t!==null&&(ht.updateQueue=_t,ht.flags|=4),ht.subtreeFlags=0,_t=xt,xt=ht.child;xt!==null;)wt=xt,vt=_t,wt.flags&=14680066,At=wt.alternate,At===null?(wt.childLanes=0,wt.lanes=vt,wt.child=null,wt.subtreeFlags=0,wt.memoizedProps=null,wt.memoizedState=null,wt.updateQueue=null,wt.dependencies=null,wt.stateNode=null):(wt.childLanes=At.childLanes,wt.lanes=At.lanes,wt.child=At.child,wt.subtreeFlags=0,wt.deletions=null,wt.memoizedProps=At.memoizedProps,wt.memoizedState=At.memoizedState,wt.updateQueue=At.updateQueue,wt.type=At.type,vt=At.dependencies,wt.dependencies=vt===null?null:{lanes:vt.lanes,firstContext:vt.firstContext}),xt=xt.sibling;return G$1(L$4,L$4.current&1|2),ht.child}vt=vt.sibling}wt.tail!==null&&B$1()>Gj&&(ht.flags|=128,_t=!0,Dj(wt,!1),ht.lanes=4194304)}else{if(!_t)if(vt=Ch(At),vt!==null){if(ht.flags|=128,_t=!0,xt=vt.updateQueue,xt!==null&&(ht.updateQueue=xt,ht.flags|=4),Dj(wt,!0),wt.tail===null&&wt.tailMode==="hidden"&&!At.alternate&&!I$3)return S$4(ht),null}else 2*B$1()-wt.renderingStartTime>Gj&&xt!==1073741824&&(ht.flags|=128,_t=!0,Dj(wt,!1),ht.lanes=4194304);wt.isBackwards?(At.sibling=ht.child,ht.child=At):(xt=wt.last,xt!==null?xt.sibling=At:ht.child=At,wt.last=At)}return wt.tail!==null?(ht=wt.tail,wt.rendering=ht,wt.tail=ht.sibling,wt.renderingStartTime=B$1(),ht.sibling=null,xt=L$4.current,G$1(L$4,_t?xt&1|2:xt&1),ht):(S$4(ht),null);case 22:case 23:return Hj(),_t=ht.memoizedState!==null,vt!==null&&vt.memoizedState!==null!==_t&&(ht.flags|=8192),_t&&ht.mode&1?fj&1073741824&&(S$4(ht),ht.subtreeFlags&6&&(ht.flags|=8192)):S$4(ht),null;case 24:return null;case 25:return null}throw Error(p$5(156,ht.tag))}function Ij(vt,ht){switch(wg(ht),ht.tag){case 1:return Zf(ht.type)&&$f(),vt=ht.flags,vt&65536?(ht.flags=vt&-65537|128,ht):null;case 3:return zh(),E$6(Wf),E$6(H$3),Eh(),vt=ht.flags,vt&65536&&!(vt&128)?(ht.flags=vt&-65537|128,ht):null;case 5:return Bh(ht),null;case 13:if(E$6(L$4),vt=ht.memoizedState,vt!==null&&vt.dehydrated!==null){if(ht.alternate===null)throw Error(p$5(340));Ig()}return vt=ht.flags,vt&65536?(ht.flags=vt&-65537|128,ht):null;case 19:return E$6(L$4),null;case 4:return zh(),null;case 10:return ah(ht.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$3=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Lj(vt,ht){var xt=vt.ref;if(xt!==null)if(typeof xt=="function")try{xt(null)}catch(_t){W$1(vt,ht,_t)}else xt.current=null}function Mj(vt,ht,xt){try{xt()}catch(_t){W$1(vt,ht,_t)}}var Nj=!1;function Oj(vt,ht){if(Cf=dd,vt=Me$1(),Ne$1(vt)){if("selectionStart"in vt)var xt={start:vt.selectionStart,end:vt.selectionEnd};else e:{xt=(xt=vt.ownerDocument)&&xt.defaultView||window;var _t=xt.getSelection&&xt.getSelection();if(_t&&_t.rangeCount!==0){xt=_t.anchorNode;var St=_t.anchorOffset,wt=_t.focusNode;_t=_t.focusOffset;try{xt.nodeType,wt.nodeType}catch{xt=null;break e}var At=0,Ct=-1,Rt=-1,It=0,Lt=0,kt=vt,Dt=null;t:for(;;){for(var $t;kt!==xt||St!==0&&kt.nodeType!==3||(Ct=At+St),kt!==wt||_t!==0&&kt.nodeType!==3||(Rt=At+_t),kt.nodeType===3&&(At+=kt.nodeValue.length),($t=kt.firstChild)!==null;)Dt=kt,kt=$t;for(;;){if(kt===vt)break t;if(Dt===xt&&++It===St&&(Ct=At),Dt===wt&&++Lt===_t&&(Rt=At),($t=kt.nextSibling)!==null)break;kt=Dt,Dt=kt.parentNode}kt=$t}xt=Ct===-1||Rt===-1?null:{start:Ct,end:Rt}}else xt=null}xt=xt||{start:0,end:0}}else xt=null;for(Df={focusedElem:vt,selectionRange:xt},dd=!1,V$2=ht;V$2!==null;)if(ht=V$2,vt=ht.child,(ht.subtreeFlags&1028)!==0&&vt!==null)vt.return=ht,V$2=vt;else for(;V$2!==null;){ht=V$2;try{var Ot=ht.alternate;if(ht.flags&1024)switch(ht.tag){case 0:case 11:case 15:break;case 1:if(Ot!==null){var zt=Ot.memoizedProps,Gt=Ot.memoizedState,Bt=ht.stateNode,Ut=Bt.getSnapshotBeforeUpdate(ht.elementType===ht.type?zt:Ci(ht.type,zt),Gt);Bt.__reactInternalSnapshotBeforeUpdate=Ut}break;case 3:var Vt=ht.stateNode.containerInfo;Vt.nodeType===1?Vt.textContent="":Vt.nodeType===9&&Vt.documentElement&&Vt.removeChild(Vt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(Ht){W$1(ht,ht.return,Ht)}if(vt=ht.sibling,vt!==null){vt.return=ht.return,V$2=vt;break}V$2=ht.return}return Ot=Nj,Nj=!1,Ot}function Pj(vt,ht,xt){var _t=ht.updateQueue;if(_t=_t!==null?_t.lastEffect:null,_t!==null){var St=_t=_t.next;do{if((St.tag&vt)===vt){var wt=St.destroy;St.destroy=void 0,wt!==void 0&&Mj(ht,xt,wt)}St=St.next}while(St!==_t)}}function Qj(vt,ht){if(ht=ht.updateQueue,ht=ht!==null?ht.lastEffect:null,ht!==null){var xt=ht=ht.next;do{if((xt.tag&vt)===vt){var _t=xt.create;xt.destroy=_t()}xt=xt.next}while(xt!==ht)}}function Rj(vt){var ht=vt.ref;if(ht!==null){var xt=vt.stateNode;switch(vt.tag){case 5:vt=xt;break;default:vt=xt}typeof ht=="function"?ht(vt):ht.current=vt}}function Sj(vt){var ht=vt.alternate;ht!==null&&(vt.alternate=null,Sj(ht)),vt.child=null,vt.deletions=null,vt.sibling=null,vt.tag===5&&(ht=vt.stateNode,ht!==null&&(delete ht[Of],delete ht[Pf],delete ht[of],delete ht[Qf],delete ht[Rf])),vt.stateNode=null,vt.return=null,vt.dependencies=null,vt.memoizedProps=null,vt.memoizedState=null,vt.pendingProps=null,vt.stateNode=null,vt.updateQueue=null}function Tj(vt){return vt.tag===5||vt.tag===3||vt.tag===4}function Uj(vt){e:for(;;){for(;vt.sibling===null;){if(vt.return===null||Tj(vt.return))return null;vt=vt.return}for(vt.sibling.return=vt.return,vt=vt.sibling;vt.tag!==5&&vt.tag!==6&&vt.tag!==18;){if(vt.flags&2||vt.child===null||vt.tag===4)continue e;vt.child.return=vt,vt=vt.child}if(!(vt.flags&2))return vt.stateNode}}function Vj(vt,ht,xt){var _t=vt.tag;if(_t===5||_t===6)vt=vt.stateNode,ht?xt.nodeType===8?xt.parentNode.insertBefore(vt,ht):xt.insertBefore(vt,ht):(xt.nodeType===8?(ht=xt.parentNode,ht.insertBefore(vt,xt)):(ht=xt,ht.appendChild(vt)),xt=xt._reactRootContainer,xt!=null||ht.onclick!==null||(ht.onclick=Bf));else if(_t!==4&&(vt=vt.child,vt!==null))for(Vj(vt,ht,xt),vt=vt.sibling;vt!==null;)Vj(vt,ht,xt),vt=vt.sibling}function Wj(vt,ht,xt){var _t=vt.tag;if(_t===5||_t===6)vt=vt.stateNode,ht?xt.insertBefore(vt,ht):xt.appendChild(vt);else if(_t!==4&&(vt=vt.child,vt!==null))for(Wj(vt,ht,xt),vt=vt.sibling;vt!==null;)Wj(vt,ht,xt),vt=vt.sibling}var X$4=null,Xj=!1;function Yj(vt,ht,xt){for(xt=xt.child;xt!==null;)Zj(vt,ht,xt),xt=xt.sibling}function Zj(vt,ht,xt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,xt)}catch{}switch(xt.tag){case 5:U$3||Lj(xt,ht);case 6:var _t=X$4,St=Xj;X$4=null,Yj(vt,ht,xt),X$4=_t,Xj=St,X$4!==null&&(Xj?(vt=X$4,xt=xt.stateNode,vt.nodeType===8?vt.parentNode.removeChild(xt):vt.removeChild(xt)):X$4.removeChild(xt.stateNode));break;case 18:X$4!==null&&(Xj?(vt=X$4,xt=xt.stateNode,vt.nodeType===8?Kf(vt.parentNode,xt):vt.nodeType===1&&Kf(vt,xt),bd(vt)):Kf(X$4,xt.stateNode));break;case 4:_t=X$4,St=Xj,X$4=xt.stateNode.containerInfo,Xj=!0,Yj(vt,ht,xt),X$4=_t,Xj=St;break;case 0:case 11:case 14:case 15:if(!U$3&&(_t=xt.updateQueue,_t!==null&&(_t=_t.lastEffect,_t!==null))){St=_t=_t.next;do{var wt=St,At=wt.destroy;wt=wt.tag,At!==void 0&&(wt&2||wt&4)&&Mj(xt,ht,At),St=St.next}while(St!==_t)}Yj(vt,ht,xt);break;case 1:if(!U$3&&(Lj(xt,ht),_t=xt.stateNode,typeof _t.componentWillUnmount=="function"))try{_t.props=xt.memoizedProps,_t.state=xt.memoizedState,_t.componentWillUnmount()}catch(Ct){W$1(xt,ht,Ct)}Yj(vt,ht,xt);break;case 21:Yj(vt,ht,xt);break;case 22:xt.mode&1?(U$3=(_t=U$3)||xt.memoizedState!==null,Yj(vt,ht,xt),U$3=_t):Yj(vt,ht,xt);break;default:Yj(vt,ht,xt)}}function ak(vt){var ht=vt.updateQueue;if(ht!==null){vt.updateQueue=null;var xt=vt.stateNode;xt===null&&(xt=vt.stateNode=new Kj),ht.forEach(function(_t){var St=bk.bind(null,vt,_t);xt.has(_t)||(xt.add(_t),_t.then(St,St))})}}function ck(vt,ht){var xt=ht.deletions;if(xt!==null)for(var _t=0;_t<xt.length;_t++){var St=xt[_t];try{var wt=vt,At=ht,Ct=At;e:for(;Ct!==null;){switch(Ct.tag){case 5:X$4=Ct.stateNode,Xj=!1;break e;case 3:X$4=Ct.stateNode.containerInfo,Xj=!0;break e;case 4:X$4=Ct.stateNode.containerInfo,Xj=!0;break e}Ct=Ct.return}if(X$4===null)throw Error(p$5(160));Zj(wt,At,St),X$4=null,Xj=!1;var Rt=St.alternate;Rt!==null&&(Rt.return=null),St.return=null}catch(It){W$1(St,ht,It)}}if(ht.subtreeFlags&12854)for(ht=ht.child;ht!==null;)dk(ht,vt),ht=ht.sibling}function dk(vt,ht){var xt=vt.alternate,_t=vt.flags;switch(vt.tag){case 0:case 11:case 14:case 15:if(ck(ht,vt),ek(vt),_t&4){try{Pj(3,vt,vt.return),Qj(3,vt)}catch(zt){W$1(vt,vt.return,zt)}try{Pj(5,vt,vt.return)}catch(zt){W$1(vt,vt.return,zt)}}break;case 1:ck(ht,vt),ek(vt),_t&512&&xt!==null&&Lj(xt,xt.return);break;case 5:if(ck(ht,vt),ek(vt),_t&512&&xt!==null&&Lj(xt,xt.return),vt.flags&32){var St=vt.stateNode;try{ob(St,"")}catch(zt){W$1(vt,vt.return,zt)}}if(_t&4&&(St=vt.stateNode,St!=null)){var wt=vt.memoizedProps,At=xt!==null?xt.memoizedProps:wt,Ct=vt.type,Rt=vt.updateQueue;if(vt.updateQueue=null,Rt!==null)try{Ct==="input"&&wt.type==="radio"&&wt.name!=null&&ab(St,wt),vb(Ct,At);var It=vb(Ct,wt);for(At=0;At<Rt.length;At+=2){var Lt=Rt[At],kt=Rt[At+1];Lt==="style"?sb(St,kt):Lt==="dangerouslySetInnerHTML"?nb(St,kt):Lt==="children"?ob(St,kt):ta(St,Lt,kt,It)}switch(Ct){case"input":bb(St,wt);break;case"textarea":ib(St,wt);break;case"select":var Dt=St._wrapperState.wasMultiple;St._wrapperState.wasMultiple=!!wt.multiple;var $t=wt.value;$t!=null?fb(St,!!wt.multiple,$t,!1):Dt!==!!wt.multiple&&(wt.defaultValue!=null?fb(St,!!wt.multiple,wt.defaultValue,!0):fb(St,!!wt.multiple,wt.multiple?[]:"",!1))}St[Pf]=wt}catch(zt){W$1(vt,vt.return,zt)}}break;case 6:if(ck(ht,vt),ek(vt),_t&4){if(vt.stateNode===null)throw Error(p$5(162));St=vt.stateNode,wt=vt.memoizedProps;try{St.nodeValue=wt}catch(zt){W$1(vt,vt.return,zt)}}break;case 3:if(ck(ht,vt),ek(vt),_t&4&&xt!==null&&xt.memoizedState.isDehydrated)try{bd(ht.containerInfo)}catch(zt){W$1(vt,vt.return,zt)}break;case 4:ck(ht,vt),ek(vt);break;case 13:ck(ht,vt),ek(vt),St=vt.child,St.flags&8192&&(wt=St.memoizedState!==null,St.stateNode.isHidden=wt,!wt||St.alternate!==null&&St.alternate.memoizedState!==null||(fk=B$1())),_t&4&&ak(vt);break;case 22:if(Lt=xt!==null&&xt.memoizedState!==null,vt.mode&1?(U$3=(It=U$3)||Lt,ck(ht,vt),U$3=It):ck(ht,vt),ek(vt),_t&8192){if(It=vt.memoizedState!==null,(vt.stateNode.isHidden=It)&&!Lt&&vt.mode&1)for(V$2=vt,Lt=vt.child;Lt!==null;){for(kt=V$2=Lt;V$2!==null;){switch(Dt=V$2,$t=Dt.child,Dt.tag){case 0:case 11:case 14:case 15:Pj(4,Dt,Dt.return);break;case 1:Lj(Dt,Dt.return);var Ot=Dt.stateNode;if(typeof Ot.componentWillUnmount=="function"){_t=Dt,xt=Dt.return;try{ht=_t,Ot.props=ht.memoizedProps,Ot.state=ht.memoizedState,Ot.componentWillUnmount()}catch(zt){W$1(_t,xt,zt)}}break;case 5:Lj(Dt,Dt.return);break;case 22:if(Dt.memoizedState!==null){gk(kt);continue}}$t!==null?($t.return=Dt,V$2=$t):gk(kt)}Lt=Lt.sibling}e:for(Lt=null,kt=vt;;){if(kt.tag===5){if(Lt===null){Lt=kt;try{St=kt.stateNode,It?(wt=St.style,typeof wt.setProperty=="function"?wt.setProperty("display","none","important"):wt.display="none"):(Ct=kt.stateNode,Rt=kt.memoizedProps.style,At=Rt!=null&&Rt.hasOwnProperty("display")?Rt.display:null,Ct.style.display=rb("display",At))}catch(zt){W$1(vt,vt.return,zt)}}}else if(kt.tag===6){if(Lt===null)try{kt.stateNode.nodeValue=It?"":kt.memoizedProps}catch(zt){W$1(vt,vt.return,zt)}}else if((kt.tag!==22&&kt.tag!==23||kt.memoizedState===null||kt===vt)&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===vt)break e;for(;kt.sibling===null;){if(kt.return===null||kt.return===vt)break e;Lt===kt&&(Lt=null),kt=kt.return}Lt===kt&&(Lt=null),kt.sibling.return=kt.return,kt=kt.sibling}}break;case 19:ck(ht,vt),ek(vt),_t&4&&ak(vt);break;case 21:break;default:ck(ht,vt),ek(vt)}}function ek(vt){var ht=vt.flags;if(ht&2){try{e:{for(var xt=vt.return;xt!==null;){if(Tj(xt)){var _t=xt;break e}xt=xt.return}throw Error(p$5(160))}switch(_t.tag){case 5:var St=_t.stateNode;_t.flags&32&&(ob(St,""),_t.flags&=-33);var wt=Uj(vt);Wj(vt,wt,St);break;case 3:case 4:var At=_t.stateNode.containerInfo,Ct=Uj(vt);Vj(vt,Ct,At);break;default:throw Error(p$5(161))}}catch(Rt){W$1(vt,vt.return,Rt)}vt.flags&=-3}ht&4096&&(vt.flags&=-4097)}function hk(vt,ht,xt){V$2=vt,ik(vt)}function ik(vt,ht,xt){for(var _t=(vt.mode&1)!==0;V$2!==null;){var St=V$2,wt=St.child;if(St.tag===22&&_t){var At=St.memoizedState!==null||Jj;if(!At){var Ct=St.alternate,Rt=Ct!==null&&Ct.memoizedState!==null||U$3;Ct=Jj;var It=U$3;if(Jj=At,(U$3=Rt)&&!It)for(V$2=St;V$2!==null;)At=V$2,Rt=At.child,At.tag===22&&At.memoizedState!==null?jk(St):Rt!==null?(Rt.return=At,V$2=Rt):jk(St);for(;wt!==null;)V$2=wt,ik(wt),wt=wt.sibling;V$2=St,Jj=Ct,U$3=It}kk(vt)}else St.subtreeFlags&8772&&wt!==null?(wt.return=St,V$2=wt):kk(vt)}}function kk(vt){for(;V$2!==null;){var ht=V$2;if(ht.flags&8772){var xt=ht.alternate;try{if(ht.flags&8772)switch(ht.tag){case 0:case 11:case 15:U$3||Qj(5,ht);break;case 1:var _t=ht.stateNode;if(ht.flags&4&&!U$3)if(xt===null)_t.componentDidMount();else{var St=ht.elementType===ht.type?xt.memoizedProps:Ci(ht.type,xt.memoizedProps);_t.componentDidUpdate(St,xt.memoizedState,_t.__reactInternalSnapshotBeforeUpdate)}var wt=ht.updateQueue;wt!==null&&sh(ht,wt,_t);break;case 3:var At=ht.updateQueue;if(At!==null){if(xt=null,ht.child!==null)switch(ht.child.tag){case 5:xt=ht.child.stateNode;break;case 1:xt=ht.child.stateNode}sh(ht,At,xt)}break;case 5:var Ct=ht.stateNode;if(xt===null&&ht.flags&4){xt=Ct;var Rt=ht.memoizedProps;switch(ht.type){case"button":case"input":case"select":case"textarea":Rt.autoFocus&&xt.focus();break;case"img":Rt.src&&(xt.src=Rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(ht.memoizedState===null){var It=ht.alternate;if(It!==null){var Lt=It.memoizedState;if(Lt!==null){var kt=Lt.dehydrated;kt!==null&&bd(kt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$3||ht.flags&512&&Rj(ht)}catch(Dt){W$1(ht,ht.return,Dt)}}if(ht===vt){V$2=null;break}if(xt=ht.sibling,xt!==null){xt.return=ht.return,V$2=xt;break}V$2=ht.return}}function gk(vt){for(;V$2!==null;){var ht=V$2;if(ht===vt){V$2=null;break}var xt=ht.sibling;if(xt!==null){xt.return=ht.return,V$2=xt;break}V$2=ht.return}}function jk(vt){for(;V$2!==null;){var ht=V$2;try{switch(ht.tag){case 0:case 11:case 15:var xt=ht.return;try{Qj(4,ht)}catch(Rt){W$1(ht,xt,Rt)}break;case 1:var _t=ht.stateNode;if(typeof _t.componentDidMount=="function"){var St=ht.return;try{_t.componentDidMount()}catch(Rt){W$1(ht,St,Rt)}}var wt=ht.return;try{Rj(ht)}catch(Rt){W$1(ht,wt,Rt)}break;case 5:var At=ht.return;try{Rj(ht)}catch(Rt){W$1(ht,At,Rt)}}}catch(Rt){W$1(ht,ht.return,Rt)}if(ht===vt){V$2=null;break}var Ct=ht.sibling;if(Ct!==null){Ct.return=ht.return,V$2=Ct;break}V$2=ht.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q$2=null,Y$1=null,Z=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(vt){return vt.mode&1?K$1&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(vt=C$7,vt!==0||(vt=window.event,vt=vt===void 0?16:jd(vt.type)),vt):1}function gi(vt,ht,xt,_t){if(50<yk)throw yk=0,zk=null,Error(p$5(185));Ac(vt,xt,_t),(!(K$1&2)||vt!==Q$2)&&(vt===Q$2&&(!(K$1&2)&&(qk|=xt),T$3===4&&Ck(vt,Z)),Dk(vt,_t),xt===1&&K$1===0&&!(ht.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(vt,ht){var xt=vt.callbackNode;wc(vt,ht);var _t=uc(vt,vt===Q$2?Z:0);if(_t===0)xt!==null&&bc(xt),vt.callbackNode=null,vt.callbackPriority=0;else if(ht=_t&-_t,vt.callbackPriority!==ht){if(xt!=null&&bc(xt),ht===1)vt.tag===0?ig(Ek.bind(null,vt)):hg(Ek.bind(null,vt)),Jf(function(){!(K$1&6)&&jg()}),xt=null;else{switch(Dc(_t)){case 1:xt=fc;break;case 4:xt=gc;break;case 16:xt=hc;break;case 536870912:xt=jc;break;default:xt=hc}xt=Fk(xt,Gk.bind(null,vt))}vt.callbackPriority=ht,vt.callbackNode=xt}}function Gk(vt,ht){if(Ak=-1,Bk=0,K$1&6)throw Error(p$5(327));var xt=vt.callbackNode;if(Hk()&&vt.callbackNode!==xt)return null;var _t=uc(vt,vt===Q$2?Z:0);if(_t===0)return null;if(_t&30||_t&vt.expiredLanes||ht)ht=Ik(vt,_t);else{ht=_t;var St=K$1;K$1|=2;var wt=Jk();(Q$2!==vt||Z!==ht)&&(uk=null,Gj=B$1()+500,Kk(vt,ht));do try{Lk();break}catch(Ct){Mk(vt,Ct)}while(!0);$g(),mk.current=wt,K$1=St,Y$1!==null?ht=0:(Q$2=null,Z=0,ht=T$3)}if(ht!==0){if(ht===2&&(St=xc(vt),St!==0&&(_t=St,ht=Nk(vt,St))),ht===1)throw xt=pk,Kk(vt,0),Ck(vt,_t),Dk(vt,B$1()),xt;if(ht===6)Ck(vt,_t);else{if(St=vt.current.alternate,!(_t&30)&&!Ok(St)&&(ht=Ik(vt,_t),ht===2&&(wt=xc(vt),wt!==0&&(_t=wt,ht=Nk(vt,wt))),ht===1))throw xt=pk,Kk(vt,0),Ck(vt,_t),Dk(vt,B$1()),xt;switch(vt.finishedWork=St,vt.finishedLanes=_t,ht){case 0:case 1:throw Error(p$5(345));case 2:Pk(vt,tk,uk);break;case 3:if(Ck(vt,_t),(_t&130023424)===_t&&(ht=fk+500-B$1(),10<ht)){if(uc(vt,0)!==0)break;if(St=vt.suspendedLanes,(St&_t)!==_t){R$1(),vt.pingedLanes|=vt.suspendedLanes&St;break}vt.timeoutHandle=Ff(Pk.bind(null,vt,tk,uk),ht);break}Pk(vt,tk,uk);break;case 4:if(Ck(vt,_t),(_t&4194240)===_t)break;for(ht=vt.eventTimes,St=-1;0<_t;){var At=31-oc(_t);wt=1<<At,At=ht[At],At>St&&(St=At),_t&=~wt}if(_t=St,_t=B$1()-_t,_t=(120>_t?120:480>_t?480:1080>_t?1080:1920>_t?1920:3e3>_t?3e3:4320>_t?4320:1960*lk(_t/1960))-_t,10<_t){vt.timeoutHandle=Ff(Pk.bind(null,vt,tk,uk),_t);break}Pk(vt,tk,uk);break;case 5:Pk(vt,tk,uk);break;default:throw Error(p$5(329))}}}return Dk(vt,B$1()),vt.callbackNode===xt?Gk.bind(null,vt):null}function Nk(vt,ht){var xt=sk;return vt.current.memoizedState.isDehydrated&&(Kk(vt,ht).flags|=256),vt=Ik(vt,ht),vt!==2&&(ht=tk,tk=xt,ht!==null&&Fj(ht)),vt}function Fj(vt){tk===null?tk=vt:tk.push.apply(tk,vt)}function Ok(vt){for(var ht=vt;;){if(ht.flags&16384){var xt=ht.updateQueue;if(xt!==null&&(xt=xt.stores,xt!==null))for(var _t=0;_t<xt.length;_t++){var St=xt[_t],wt=St.getSnapshot;St=St.value;try{if(!He$2(wt(),St))return!1}catch{return!1}}}if(xt=ht.child,ht.subtreeFlags&16384&&xt!==null)xt.return=ht,ht=xt;else{if(ht===vt)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===vt)return!0;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}}return!0}function Ck(vt,ht){for(ht&=~rk,ht&=~qk,vt.suspendedLanes|=ht,vt.pingedLanes&=~ht,vt=vt.expirationTimes;0<ht;){var xt=31-oc(ht),_t=1<<xt;vt[xt]=-1,ht&=~_t}}function Ek(vt){if(K$1&6)throw Error(p$5(327));Hk();var ht=uc(vt,0);if(!(ht&1))return Dk(vt,B$1()),null;var xt=Ik(vt,ht);if(vt.tag!==0&&xt===2){var _t=xc(vt);_t!==0&&(ht=_t,xt=Nk(vt,_t))}if(xt===1)throw xt=pk,Kk(vt,0),Ck(vt,ht),Dk(vt,B$1()),xt;if(xt===6)throw Error(p$5(345));return vt.finishedWork=vt.current.alternate,vt.finishedLanes=ht,Pk(vt,tk,uk),Dk(vt,B$1()),null}function Qk(vt,ht){var xt=K$1;K$1|=1;try{return vt(ht)}finally{K$1=xt,K$1===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(vt){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var ht=K$1;K$1|=1;var xt=ok.transition,_t=C$7;try{if(ok.transition=null,C$7=1,vt)return vt()}finally{C$7=_t,ok.transition=xt,K$1=ht,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$6(ej)}function Kk(vt,ht){vt.finishedWork=null,vt.finishedLanes=0;var xt=vt.timeoutHandle;if(xt!==-1&&(vt.timeoutHandle=-1,Gf(xt)),Y$1!==null)for(xt=Y$1.return;xt!==null;){var _t=xt;switch(wg(_t),_t.tag){case 1:_t=_t.type.childContextTypes,_t!=null&&$f();break;case 3:zh(),E$6(Wf),E$6(H$3),Eh();break;case 5:Bh(_t);break;case 4:zh();break;case 13:E$6(L$4);break;case 19:E$6(L$4);break;case 10:ah(_t.type._context);break;case 22:case 23:Hj()}xt=xt.return}if(Q$2=vt,Y$1=vt=Pg(vt.current,null),Z=fj=ht,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(ht=0;ht<fh.length;ht++)if(xt=fh[ht],_t=xt.interleaved,_t!==null){xt.interleaved=null;var St=_t.next,wt=xt.pending;if(wt!==null){var At=wt.next;wt.next=St,_t.next=At}xt.pending=_t}fh=null}return vt}function Mk(vt,ht){do{var xt=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var _t=M$3.memoizedState;_t!==null;){var St=_t.queue;St!==null&&(St.pending=null),_t=_t.next}Ih=!1}if(Hh=0,O$4=N$1=M$3=null,Jh=!1,Kh=0,nk.current=null,xt===null||xt.return===null){T$3=1,pk=ht,Y$1=null;break}e:{var wt=vt,At=xt.return,Ct=xt,Rt=ht;if(ht=Z,Ct.flags|=32768,Rt!==null&&typeof Rt=="object"&&typeof Rt.then=="function"){var It=Rt,Lt=Ct,kt=Lt.tag;if(!(Lt.mode&1)&&(kt===0||kt===11||kt===15)){var Dt=Lt.alternate;Dt?(Lt.updateQueue=Dt.updateQueue,Lt.memoizedState=Dt.memoizedState,Lt.lanes=Dt.lanes):(Lt.updateQueue=null,Lt.memoizedState=null)}var $t=Ui(At);if($t!==null){$t.flags&=-257,Vi($t,At,Ct,wt,ht),$t.mode&1&&Si(wt,It,ht),ht=$t,Rt=It;var Ot=ht.updateQueue;if(Ot===null){var zt=new Set;zt.add(Rt),ht.updateQueue=zt}else Ot.add(Rt);break e}else{if(!(ht&1)){Si(wt,It,ht),tj();break e}Rt=Error(p$5(426))}}else if(I$3&&Ct.mode&1){var Gt=Ui(At);if(Gt!==null){!(Gt.flags&65536)&&(Gt.flags|=256),Vi(Gt,At,Ct,wt,ht),Jg(Ji(Rt,Ct));break e}}wt=Rt=Ji(Rt,Ct),T$3!==4&&(T$3=2),sk===null?sk=[wt]:sk.push(wt),wt=At;do{switch(wt.tag){case 3:wt.flags|=65536,ht&=-ht,wt.lanes|=ht;var Bt=Ni(wt,Rt,ht);ph(wt,Bt);break e;case 1:Ct=Rt;var Ut=wt.type,Vt=wt.stateNode;if(!(wt.flags&128)&&(typeof Ut.getDerivedStateFromError=="function"||Vt!==null&&typeof Vt.componentDidCatch=="function"&&(Ri===null||!Ri.has(Vt)))){wt.flags|=65536,ht&=-ht,wt.lanes|=ht;var Ht=Qi(wt,Ct,ht);ph(wt,Ht);break e}}wt=wt.return}while(wt!==null)}Sk(xt)}catch(Xt){ht=Xt,Y$1===xt&&xt!==null&&(Y$1=xt=xt.return);continue}break}while(!0)}function Jk(){var vt=mk.current;return mk.current=Rh,vt===null?Rh:vt}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q$2===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$2,Z)}function Ik(vt,ht){var xt=K$1;K$1|=2;var _t=Jk();(Q$2!==vt||Z!==ht)&&(uk=null,Kk(vt,ht));do try{Tk();break}catch(St){Mk(vt,St)}while(!0);if($g(),K$1=xt,mk.current=_t,Y$1!==null)throw Error(p$5(261));return Q$2=null,Z=0,T$3}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(vt){var ht=Vk(vt.alternate,vt,fj);vt.memoizedProps=vt.pendingProps,ht===null?Sk(vt):Y$1=ht,nk.current=null}function Sk(vt){var ht=vt;do{var xt=ht.alternate;if(vt=ht.return,ht.flags&32768){if(xt=Ij(xt,ht),xt!==null){xt.flags&=32767,Y$1=xt;return}if(vt!==null)vt.flags|=32768,vt.subtreeFlags=0,vt.deletions=null;else{T$3=6,Y$1=null;return}}else if(xt=Ej(xt,ht,fj),xt!==null){Y$1=xt;return}if(ht=ht.sibling,ht!==null){Y$1=ht;return}Y$1=ht=vt}while(ht!==null);T$3===0&&(T$3=5)}function Pk(vt,ht,xt){var _t=C$7,St=ok.transition;try{ok.transition=null,C$7=1,Wk(vt,ht,xt,_t)}finally{ok.transition=St,C$7=_t}return null}function Wk(vt,ht,xt,_t){do Hk();while(wk!==null);if(K$1&6)throw Error(p$5(327));xt=vt.finishedWork;var St=vt.finishedLanes;if(xt===null)return null;if(vt.finishedWork=null,vt.finishedLanes=0,xt===vt.current)throw Error(p$5(177));vt.callbackNode=null,vt.callbackPriority=0;var wt=xt.lanes|xt.childLanes;if(Bc(vt,wt),vt===Q$2&&(Y$1=Q$2=null,Z=0),!(xt.subtreeFlags&2064)&&!(xt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),wt=(xt.flags&15990)!==0,xt.subtreeFlags&15990||wt){wt=ok.transition,ok.transition=null;var At=C$7;C$7=1;var Ct=K$1;K$1|=4,nk.current=null,Oj(vt,xt),dk(xt,vt),Oe$1(Df),dd=!!Cf,Df=Cf=null,vt.current=xt,hk(xt),dc(),K$1=Ct,C$7=At,ok.transition=wt}else vt.current=xt;if(vk&&(vk=!1,wk=vt,xk=St),wt=vt.pendingLanes,wt===0&&(Ri=null),mc(xt.stateNode),Dk(vt,B$1()),ht!==null)for(_t=vt.onRecoverableError,xt=0;xt<ht.length;xt++)St=ht[xt],_t(St.value,{componentStack:St.stack,digest:St.digest});if(Oi)throw Oi=!1,vt=Pi,Pi=null,vt;return xk&1&&vt.tag!==0&&Hk(),wt=vt.pendingLanes,wt&1?vt===zk?yk++:(yk=0,zk=vt):yk=0,jg(),null}function Hk(){if(wk!==null){var vt=Dc(xk),ht=ok.transition,xt=C$7;try{if(ok.transition=null,C$7=16>vt?16:vt,wk===null)var _t=!1;else{if(vt=wk,wk=null,xk=0,K$1&6)throw Error(p$5(331));var St=K$1;for(K$1|=4,V$2=vt.current;V$2!==null;){var wt=V$2,At=wt.child;if(V$2.flags&16){var Ct=wt.deletions;if(Ct!==null){for(var Rt=0;Rt<Ct.length;Rt++){var It=Ct[Rt];for(V$2=It;V$2!==null;){var Lt=V$2;switch(Lt.tag){case 0:case 11:case 15:Pj(8,Lt,wt)}var kt=Lt.child;if(kt!==null)kt.return=Lt,V$2=kt;else for(;V$2!==null;){Lt=V$2;var Dt=Lt.sibling,$t=Lt.return;if(Sj(Lt),Lt===It){V$2=null;break}if(Dt!==null){Dt.return=$t,V$2=Dt;break}V$2=$t}}}var Ot=wt.alternate;if(Ot!==null){var zt=Ot.child;if(zt!==null){Ot.child=null;do{var Gt=zt.sibling;zt.sibling=null,zt=Gt}while(zt!==null)}}V$2=wt}}if(wt.subtreeFlags&2064&&At!==null)At.return=wt,V$2=At;else e:for(;V$2!==null;){if(wt=V$2,wt.flags&2048)switch(wt.tag){case 0:case 11:case 15:Pj(9,wt,wt.return)}var Bt=wt.sibling;if(Bt!==null){Bt.return=wt.return,V$2=Bt;break e}V$2=wt.return}}var Ut=vt.current;for(V$2=Ut;V$2!==null;){At=V$2;var Vt=At.child;if(At.subtreeFlags&2064&&Vt!==null)Vt.return=At,V$2=Vt;else e:for(At=Ut;V$2!==null;){if(Ct=V$2,Ct.flags&2048)try{switch(Ct.tag){case 0:case 11:case 15:Qj(9,Ct)}}catch(Xt){W$1(Ct,Ct.return,Xt)}if(Ct===At){V$2=null;break e}var Ht=Ct.sibling;if(Ht!==null){Ht.return=Ct.return,V$2=Ht;break e}V$2=Ct.return}}if(K$1=St,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,vt)}catch{}_t=!0}return _t}finally{C$7=xt,ok.transition=ht}}return!1}function Xk(vt,ht,xt){ht=Ji(xt,ht),ht=Ni(vt,ht,1),vt=nh(vt,ht,1),ht=R$1(),vt!==null&&(Ac(vt,1,ht),Dk(vt,ht))}function W$1(vt,ht,xt){if(vt.tag===3)Xk(vt,vt,xt);else for(;ht!==null;){if(ht.tag===3){Xk(ht,vt,xt);break}else if(ht.tag===1){var _t=ht.stateNode;if(typeof ht.type.getDerivedStateFromError=="function"||typeof _t.componentDidCatch=="function"&&(Ri===null||!Ri.has(_t))){vt=Ji(xt,vt),vt=Qi(ht,vt,1),ht=nh(ht,vt,1),vt=R$1(),ht!==null&&(Ac(ht,1,vt),Dk(ht,vt));break}}ht=ht.return}}function Ti(vt,ht,xt){var _t=vt.pingCache;_t!==null&&_t.delete(ht),ht=R$1(),vt.pingedLanes|=vt.suspendedLanes&xt,Q$2===vt&&(Z&xt)===xt&&(T$3===4||T$3===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(vt,0):rk|=xt),Dk(vt,ht)}function Yk(vt,ht){ht===0&&(vt.mode&1?(ht=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):ht=1);var xt=R$1();vt=ih(vt,ht),vt!==null&&(Ac(vt,ht,xt),Dk(vt,xt))}function uj(vt){var ht=vt.memoizedState,xt=0;ht!==null&&(xt=ht.retryLane),Yk(vt,xt)}function bk(vt,ht){var xt=0;switch(vt.tag){case 13:var _t=vt.stateNode,St=vt.memoizedState;St!==null&&(xt=St.retryLane);break;case 19:_t=vt.stateNode;break;default:throw Error(p$5(314))}_t!==null&&_t.delete(ht),Yk(vt,xt)}var Vk;Vk=function(vt,ht,xt){if(vt!==null)if(vt.memoizedProps!==ht.pendingProps||Wf.current)dh=!0;else{if(!(vt.lanes&xt)&&!(ht.flags&128))return dh=!1,yj(vt,ht,xt);dh=!!(vt.flags&131072)}else dh=!1,I$3&&ht.flags&1048576&&ug(ht,ng,ht.index);switch(ht.lanes=0,ht.tag){case 2:var _t=ht.type;ij(vt,ht),vt=ht.pendingProps;var St=Yf(ht,H$3.current);ch(ht,xt),St=Nh(null,ht,_t,vt,St,xt);var wt=Sh();return ht.flags|=1,typeof St=="object"&&St!==null&&typeof St.render=="function"&&St.$$typeof===void 0?(ht.tag=1,ht.memoizedState=null,ht.updateQueue=null,Zf(_t)?(wt=!0,cg(ht)):wt=!1,ht.memoizedState=St.state!==null&&St.state!==void 0?St.state:null,kh(ht),St.updater=Ei,ht.stateNode=St,St._reactInternals=ht,Ii(ht,_t,vt,xt),ht=jj(null,ht,_t,!0,wt,xt)):(ht.tag=0,I$3&&wt&&vg(ht),Xi(null,ht,St,xt),ht=ht.child),ht;case 16:_t=ht.elementType;e:{switch(ij(vt,ht),vt=ht.pendingProps,St=_t._init,_t=St(_t._payload),ht.type=_t,St=ht.tag=Zk(_t),vt=Ci(_t,vt),St){case 0:ht=cj(null,ht,_t,vt,xt);break e;case 1:ht=hj(null,ht,_t,vt,xt);break e;case 11:ht=Yi(null,ht,_t,vt,xt);break e;case 14:ht=$i(null,ht,_t,Ci(_t.type,vt),xt);break e}throw Error(p$5(306,_t,""))}return ht;case 0:return _t=ht.type,St=ht.pendingProps,St=ht.elementType===_t?St:Ci(_t,St),cj(vt,ht,_t,St,xt);case 1:return _t=ht.type,St=ht.pendingProps,St=ht.elementType===_t?St:Ci(_t,St),hj(vt,ht,_t,St,xt);case 3:e:{if(kj(ht),vt===null)throw Error(p$5(387));_t=ht.pendingProps,wt=ht.memoizedState,St=wt.element,lh(vt,ht),qh(ht,_t,null,xt);var At=ht.memoizedState;if(_t=At.element,wt.isDehydrated)if(wt={element:_t,isDehydrated:!1,cache:At.cache,pendingSuspenseBoundaries:At.pendingSuspenseBoundaries,transitions:At.transitions},ht.updateQueue.baseState=wt,ht.memoizedState=wt,ht.flags&256){St=Ji(Error(p$5(423)),ht),ht=lj(vt,ht,_t,xt,St);break e}else if(_t!==St){St=Ji(Error(p$5(424)),ht),ht=lj(vt,ht,_t,xt,St);break e}else for(yg=Lf(ht.stateNode.containerInfo.firstChild),xg=ht,I$3=!0,zg=null,xt=Vg(ht,null,_t,xt),ht.child=xt;xt;)xt.flags=xt.flags&-3|4096,xt=xt.sibling;else{if(Ig(),_t===St){ht=Zi(vt,ht,xt);break e}Xi(vt,ht,_t,xt)}ht=ht.child}return ht;case 5:return Ah(ht),vt===null&&Eg(ht),_t=ht.type,St=ht.pendingProps,wt=vt!==null?vt.memoizedProps:null,At=St.children,Ef(_t,St)?At=null:wt!==null&&Ef(_t,wt)&&(ht.flags|=32),gj(vt,ht),Xi(vt,ht,At,xt),ht.child;case 6:return vt===null&&Eg(ht),null;case 13:return oj(vt,ht,xt);case 4:return yh(ht,ht.stateNode.containerInfo),_t=ht.pendingProps,vt===null?ht.child=Ug(ht,null,_t,xt):Xi(vt,ht,_t,xt),ht.child;case 11:return _t=ht.type,St=ht.pendingProps,St=ht.elementType===_t?St:Ci(_t,St),Yi(vt,ht,_t,St,xt);case 7:return Xi(vt,ht,ht.pendingProps,xt),ht.child;case 8:return Xi(vt,ht,ht.pendingProps.children,xt),ht.child;case 12:return Xi(vt,ht,ht.pendingProps.children,xt),ht.child;case 10:e:{if(_t=ht.type._context,St=ht.pendingProps,wt=ht.memoizedProps,At=St.value,G$1(Wg,_t._currentValue),_t._currentValue=At,wt!==null)if(He$2(wt.value,At)){if(wt.children===St.children&&!Wf.current){ht=Zi(vt,ht,xt);break e}}else for(wt=ht.child,wt!==null&&(wt.return=ht);wt!==null;){var Ct=wt.dependencies;if(Ct!==null){At=wt.child;for(var Rt=Ct.firstContext;Rt!==null;){if(Rt.context===_t){if(wt.tag===1){Rt=mh(-1,xt&-xt),Rt.tag=2;var It=wt.updateQueue;if(It!==null){It=It.shared;var Lt=It.pending;Lt===null?Rt.next=Rt:(Rt.next=Lt.next,Lt.next=Rt),It.pending=Rt}}wt.lanes|=xt,Rt=wt.alternate,Rt!==null&&(Rt.lanes|=xt),bh(wt.return,xt,ht),Ct.lanes|=xt;break}Rt=Rt.next}}else if(wt.tag===10)At=wt.type===ht.type?null:wt.child;else if(wt.tag===18){if(At=wt.return,At===null)throw Error(p$5(341));At.lanes|=xt,Ct=At.alternate,Ct!==null&&(Ct.lanes|=xt),bh(At,xt,ht),At=wt.sibling}else At=wt.child;if(At!==null)At.return=wt;else for(At=wt;At!==null;){if(At===ht){At=null;break}if(wt=At.sibling,wt!==null){wt.return=At.return,At=wt;break}At=At.return}wt=At}Xi(vt,ht,St.children,xt),ht=ht.child}return ht;case 9:return St=ht.type,_t=ht.pendingProps.children,ch(ht,xt),St=eh(St),_t=_t(St),ht.flags|=1,Xi(vt,ht,_t,xt),ht.child;case 14:return _t=ht.type,St=Ci(_t,ht.pendingProps),St=Ci(_t.type,St),$i(vt,ht,_t,St,xt);case 15:return bj(vt,ht,ht.type,ht.pendingProps,xt);case 17:return _t=ht.type,St=ht.pendingProps,St=ht.elementType===_t?St:Ci(_t,St),ij(vt,ht),ht.tag=1,Zf(_t)?(vt=!0,cg(ht)):vt=!1,ch(ht,xt),Gi(ht,_t,St),Ii(ht,_t,St,xt),jj(null,ht,_t,!0,vt,xt);case 19:return xj(vt,ht,xt);case 22:return dj(vt,ht,xt)}throw Error(p$5(156,ht.tag))};function Fk(vt,ht){return ac(vt,ht)}function $k(vt,ht,xt,_t){this.tag=vt,this.key=xt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ht,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(vt,ht,xt,_t){return new $k(vt,ht,xt,_t)}function aj(vt){return vt=vt.prototype,!(!vt||!vt.isReactComponent)}function Zk(vt){if(typeof vt=="function")return aj(vt)?1:0;if(vt!=null){if(vt=vt.$$typeof,vt===Da)return 11;if(vt===Ga)return 14}return 2}function Pg(vt,ht){var xt=vt.alternate;return xt===null?(xt=Bg(vt.tag,ht,vt.key,vt.mode),xt.elementType=vt.elementType,xt.type=vt.type,xt.stateNode=vt.stateNode,xt.alternate=vt,vt.alternate=xt):(xt.pendingProps=ht,xt.type=vt.type,xt.flags=0,xt.subtreeFlags=0,xt.deletions=null),xt.flags=vt.flags&14680064,xt.childLanes=vt.childLanes,xt.lanes=vt.lanes,xt.child=vt.child,xt.memoizedProps=vt.memoizedProps,xt.memoizedState=vt.memoizedState,xt.updateQueue=vt.updateQueue,ht=vt.dependencies,xt.dependencies=ht===null?null:{lanes:ht.lanes,firstContext:ht.firstContext},xt.sibling=vt.sibling,xt.index=vt.index,xt.ref=vt.ref,xt}function Rg(vt,ht,xt,_t,St,wt){var At=2;if(_t=vt,typeof vt=="function")aj(vt)&&(At=1);else if(typeof vt=="string")At=5;else e:switch(vt){case ya:return Tg(xt.children,St,wt,ht);case za:At=8,St|=8;break;case Aa:return vt=Bg(12,xt,ht,St|2),vt.elementType=Aa,vt.lanes=wt,vt;case Ea:return vt=Bg(13,xt,ht,St),vt.elementType=Ea,vt.lanes=wt,vt;case Fa:return vt=Bg(19,xt,ht,St),vt.elementType=Fa,vt.lanes=wt,vt;case Ia:return pj(xt,St,wt,ht);default:if(typeof vt=="object"&&vt!==null)switch(vt.$$typeof){case Ba:At=10;break e;case Ca:At=9;break e;case Da:At=11;break e;case Ga:At=14;break e;case Ha:At=16,_t=null;break e}throw Error(p$5(130,vt==null?vt:typeof vt,""))}return ht=Bg(At,xt,ht,St),ht.elementType=vt,ht.type=_t,ht.lanes=wt,ht}function Tg(vt,ht,xt,_t){return vt=Bg(7,vt,_t,ht),vt.lanes=xt,vt}function pj(vt,ht,xt,_t){return vt=Bg(22,vt,_t,ht),vt.elementType=Ia,vt.lanes=xt,vt.stateNode={isHidden:!1},vt}function Qg(vt,ht,xt){return vt=Bg(6,vt,null,ht),vt.lanes=xt,vt}function Sg(vt,ht,xt){return ht=Bg(4,vt.children!==null?vt.children:[],vt.key,ht),ht.lanes=xt,ht.stateNode={containerInfo:vt.containerInfo,pendingChildren:null,implementation:vt.implementation},ht}function al(vt,ht,xt,_t,St){this.tag=ht,this.containerInfo=vt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=_t,this.onRecoverableError=St,this.mutableSourceEagerHydrationData=null}function bl(vt,ht,xt,_t,St,wt,At,Ct,Rt){return vt=new al(vt,ht,xt,Ct,Rt),ht===1?(ht=1,wt===!0&&(ht|=8)):ht=0,wt=Bg(3,null,null,ht),vt.current=wt,wt.stateNode=vt,wt.memoizedState={element:_t,isDehydrated:xt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(wt),vt}function cl(vt,ht,xt){var _t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:_t==null?null:""+_t,children:vt,containerInfo:ht,implementation:xt}}function dl(vt){if(!vt)return Vf;vt=vt._reactInternals;e:{if(Vb(vt)!==vt||vt.tag!==1)throw Error(p$5(170));var ht=vt;do{switch(ht.tag){case 3:ht=ht.stateNode.context;break e;case 1:if(Zf(ht.type)){ht=ht.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ht=ht.return}while(ht!==null);throw Error(p$5(171))}if(vt.tag===1){var xt=vt.type;if(Zf(xt))return bg(vt,xt,ht)}return ht}function el(vt,ht,xt,_t,St,wt,At,Ct,Rt){return vt=bl(xt,_t,!0,vt,St,wt,At,Ct,Rt),vt.context=dl(null),xt=vt.current,_t=R$1(),St=yi(xt),wt=mh(_t,St),wt.callback=ht??null,nh(xt,wt,St),vt.current.lanes=St,Ac(vt,St,_t),Dk(vt,_t),vt}function fl(vt,ht,xt,_t){var St=ht.current,wt=R$1(),At=yi(St);return xt=dl(xt),ht.context===null?ht.context=xt:ht.pendingContext=xt,ht=mh(wt,At),ht.payload={element:vt},_t=_t===void 0?null:_t,_t!==null&&(ht.callback=_t),vt=nh(St,ht,At),vt!==null&&(gi(vt,St,At,wt),oh(vt,St,At)),At}function gl(vt){if(vt=vt.current,!vt.child)return null;switch(vt.child.tag){case 5:return vt.child.stateNode;default:return vt.child.stateNode}}function hl(vt,ht){if(vt=vt.memoizedState,vt!==null&&vt.dehydrated!==null){var xt=vt.retryLane;vt.retryLane=xt!==0&&xt<ht?xt:ht}}function il(vt,ht){hl(vt,ht),(vt=vt.alternate)&&hl(vt,ht)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(vt){console.error(vt)};function ll(vt){this._internalRoot=vt}ml.prototype.render=ll.prototype.render=function(vt){var ht=this._internalRoot;if(ht===null)throw Error(p$5(409));fl(vt,ht,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var vt=this._internalRoot;if(vt!==null){this._internalRoot=null;var ht=vt.containerInfo;Rk(function(){fl(null,vt,null,null)}),ht[uf]=null}};function ml(vt){this._internalRoot=vt}ml.prototype.unstable_scheduleHydration=function(vt){if(vt){var ht=Hc();vt={blockedOn:null,target:vt,priority:ht};for(var xt=0;xt<Qc.length&&ht!==0&&ht<Qc[xt].priority;xt++);Qc.splice(xt,0,vt),xt===0&&Vc(vt)}};function nl(vt){return!(!vt||vt.nodeType!==1&&vt.nodeType!==9&&vt.nodeType!==11)}function ol(vt){return!(!vt||vt.nodeType!==1&&vt.nodeType!==9&&vt.nodeType!==11&&(vt.nodeType!==8||vt.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(vt,ht,xt,_t,St){if(St){if(typeof _t=="function"){var wt=_t;_t=function(){var It=gl(At);wt.call(It)}}var At=el(ht,_t,vt,0,null,!1,!1,"",pl);return vt._reactRootContainer=At,vt[uf]=At.current,sf(vt.nodeType===8?vt.parentNode:vt),Rk(),At}for(;St=vt.lastChild;)vt.removeChild(St);if(typeof _t=="function"){var Ct=_t;_t=function(){var It=gl(Rt);Ct.call(It)}}var Rt=bl(vt,0,!1,null,null,!1,!1,"",pl);return vt._reactRootContainer=Rt,vt[uf]=Rt.current,sf(vt.nodeType===8?vt.parentNode:vt),Rk(function(){fl(ht,Rt,xt,_t)}),Rt}function rl(vt,ht,xt,_t,St){var wt=xt._reactRootContainer;if(wt){var At=wt;if(typeof St=="function"){var Ct=St;St=function(){var Rt=gl(At);Ct.call(Rt)}}fl(ht,At,vt,St)}else At=ql(xt,ht,vt,St,_t);return gl(At)}Ec=function(vt){switch(vt.tag){case 3:var ht=vt.stateNode;if(ht.current.memoizedState.isDehydrated){var xt=tc(ht.pendingLanes);xt!==0&&(Cc(ht,xt|1),Dk(ht,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var _t=ih(vt,1);if(_t!==null){var St=R$1();gi(_t,vt,1,St)}}),il(vt,1)}};Fc=function(vt){if(vt.tag===13){var ht=ih(vt,134217728);if(ht!==null){var xt=R$1();gi(ht,vt,134217728,xt)}il(vt,134217728)}};Gc=function(vt){if(vt.tag===13){var ht=yi(vt),xt=ih(vt,ht);if(xt!==null){var _t=R$1();gi(xt,vt,ht,_t)}il(vt,ht)}};Hc=function(){return C$7};Ic=function(vt,ht){var xt=C$7;try{return C$7=vt,ht()}finally{C$7=xt}};yb=function(vt,ht,xt){switch(ht){case"input":if(bb(vt,xt),ht=xt.name,xt.type==="radio"&&ht!=null){for(xt=vt;xt.parentNode;)xt=xt.parentNode;for(xt=xt.querySelectorAll("input[name="+JSON.stringify(""+ht)+'][type="radio"]'),ht=0;ht<xt.length;ht++){var _t=xt[ht];if(_t!==vt&&_t.form===vt.form){var St=Db(_t);if(!St)throw Error(p$5(90));Wa(_t),bb(_t,St)}}}break;case"textarea":ib(vt,xt);break;case"select":ht=xt.value,ht!=null&&fb(vt,!!xt.multiple,ht,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(vt){return vt=Zb(vt),vt===null?null:vt.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(vt,ht){var xt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(ht))throw Error(p$5(200));return cl(vt,ht,null,xt)};reactDom_production_min.createRoot=function(vt,ht){if(!nl(vt))throw Error(p$5(299));var xt=!1,_t="",St=kl;return ht!=null&&(ht.unstable_strictMode===!0&&(xt=!0),ht.identifierPrefix!==void 0&&(_t=ht.identifierPrefix),ht.onRecoverableError!==void 0&&(St=ht.onRecoverableError)),ht=bl(vt,1,!1,null,null,xt,!1,_t,St),vt[uf]=ht.current,sf(vt.nodeType===8?vt.parentNode:vt),new ll(ht)};reactDom_production_min.findDOMNode=function(vt){if(vt==null)return null;if(vt.nodeType===1)return vt;var ht=vt._reactInternals;if(ht===void 0)throw typeof vt.render=="function"?Error(p$5(188)):(vt=Object.keys(vt).join(","),Error(p$5(268,vt)));return vt=Zb(ht),vt=vt===null?null:vt.stateNode,vt};reactDom_production_min.flushSync=function(vt){return Rk(vt)};reactDom_production_min.hydrate=function(vt,ht,xt){if(!ol(ht))throw Error(p$5(200));return rl(null,vt,ht,!0,xt)};reactDom_production_min.hydrateRoot=function(vt,ht,xt){if(!nl(vt))throw Error(p$5(405));var _t=xt!=null&&xt.hydratedSources||null,St=!1,wt="",At=kl;if(xt!=null&&(xt.unstable_strictMode===!0&&(St=!0),xt.identifierPrefix!==void 0&&(wt=xt.identifierPrefix),xt.onRecoverableError!==void 0&&(At=xt.onRecoverableError)),ht=el(ht,null,vt,1,xt??null,St,!1,wt,At),vt[uf]=ht.current,sf(vt),_t)for(vt=0;vt<_t.length;vt++)xt=_t[vt],St=xt._getVersion,St=St(xt._source),ht.mutableSourceEagerHydrationData==null?ht.mutableSourceEagerHydrationData=[xt,St]:ht.mutableSourceEagerHydrationData.push(xt,St);return new ml(ht)};reactDom_production_min.render=function(vt,ht,xt){if(!ol(ht))throw Error(p$5(200));return rl(null,vt,ht,!1,xt)};reactDom_production_min.unmountComponentAtNode=function(vt){if(!ol(vt))throw Error(p$5(40));return vt._reactRootContainer?(Rk(function(){rl(null,null,vt,!1,function(){vt._reactRootContainer=null,vt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(vt,ht,xt,_t){if(!ol(xt))throw Error(p$5(200));if(vt==null||vt._reactInternals===void 0)throw Error(p$5(38));return rl(vt,ht,xt,!1,_t)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(vt){console.error(vt)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$5=reactDomExports;client.createRoot=m$5.createRoot,client.hydrateRoot=m$5.hydrateRoot;const LayoutGroupContext=reactExports.createContext({});function useConstant(vt){const ht=reactExports.useRef(null);return ht.current===null&&(ht.current=vt()),ht.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:vt=>vt,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(ht){const xt=this.props.childRef.current;if(xt&&ht.isPresent&&!this.props.isPresent){const _t=this.props.sizeRef.current;_t.height=xt.offsetHeight||0,_t.width=xt.offsetWidth||0,_t.top=xt.offsetTop,_t.left=xt.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:vt,isPresent:ht}){const xt=reactExports.useId(),_t=reactExports.useRef(null),St=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:wt}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:At,height:Ct,top:Rt,left:It}=St.current;if(ht||!_t.current||!At||!Ct)return;_t.current.dataset.motionPopId=xt;const Lt=document.createElement("style");return wt&&(Lt.nonce=wt),document.head.appendChild(Lt),Lt.sheet&&Lt.sheet.insertRule(`
          [data-motion-pop-id="${xt}"] {
            position: absolute !important;
            width: ${At}px !important;
            height: ${Ct}px !important;
            top: ${Rt}px !important;
            left: ${It}px !important;
          }
        `),()=>{document.head.removeChild(Lt)}},[ht]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:ht,childRef:_t,sizeRef:St,children:reactExports.cloneElement(vt,{ref:_t})})}const PresenceChild=({children:vt,initial:ht,isPresent:xt,onExitComplete:_t,custom:St,presenceAffectsLayout:wt,mode:At})=>{const Ct=useConstant(newChildrenMap),Rt=reactExports.useId(),It=reactExports.useCallback(kt=>{Ct.set(kt,!0);for(const Dt of Ct.values())if(!Dt)return;_t&&_t()},[Ct,_t]),Lt=reactExports.useMemo(()=>({id:Rt,initial:ht,isPresent:xt,custom:St,onExitComplete:It,register:kt=>(Ct.set(kt,!1),()=>Ct.delete(kt))}),wt?[Math.random(),It]:[xt,It]);return reactExports.useMemo(()=>{Ct.forEach((kt,Dt)=>Ct.set(Dt,!1))},[xt]),reactExports.useEffect(()=>{!xt&&!Ct.size&&_t&&_t()},[xt]),At==="popLayout"&&(vt=jsxRuntimeExports.jsx(PopChild,{isPresent:xt,children:vt})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:Lt,children:vt})};function newChildrenMap(){return new Map}function usePresence(vt=!0){const ht=reactExports.useContext(PresenceContext);if(ht===null)return[!0,null];const{isPresent:xt,onExitComplete:_t,register:St}=ht,wt=reactExports.useId();reactExports.useEffect(()=>{vt&&St(wt)},[vt]);const At=reactExports.useCallback(()=>vt&&_t&&_t(wt),[wt,_t,vt]);return!xt&&_t?[!1,At]:[!0]}const getChildKey=vt=>vt.key||"";function onlyElements(vt){const ht=[];return reactExports.Children.forEach(vt,xt=>{reactExports.isValidElement(xt)&&ht.push(xt)}),ht}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect$2=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence=({children:vt,custom:ht,initial:xt=!0,onExitComplete:_t,presenceAffectsLayout:St=!0,mode:wt="sync",propagate:At=!1})=>{const[Ct,Rt]=usePresence(At),It=reactExports.useMemo(()=>onlyElements(vt),[vt]),Lt=At&&!Ct?[]:It.map(getChildKey),kt=reactExports.useRef(!0),Dt=reactExports.useRef(It),$t=useConstant(()=>new Map),[Ot,zt]=reactExports.useState(It),[Gt,Bt]=reactExports.useState(It);useIsomorphicLayoutEffect$2(()=>{kt.current=!1,Dt.current=It;for(let Ht=0;Ht<Gt.length;Ht++){const Xt=getChildKey(Gt[Ht]);Lt.includes(Xt)?$t.delete(Xt):$t.get(Xt)!==!0&&$t.set(Xt,!1)}},[Gt,Lt.length,Lt.join("-")]);const Ut=[];if(It!==Ot){let Ht=[...It];for(let Xt=0;Xt<Gt.length;Xt++){const qt=Gt[Xt],Kt=getChildKey(qt);Lt.includes(Kt)||(Ht.splice(Xt,0,qt),Ut.push(qt))}wt==="wait"&&Ut.length&&(Ht=Ut),Bt(onlyElements(Ht)),zt(It);return}const{forceRender:Vt}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Gt.map(Ht=>{const Xt=getChildKey(Ht),qt=At&&!Ct?!1:It===Gt||Lt.includes(Xt),Kt=()=>{if($t.has(Xt))$t.set(Xt,!0);else return;let en=!0;$t.forEach(tn=>{tn||(en=!1)}),en&&(Vt==null||Vt(),Bt(Dt.current),At&&(Rt==null||Rt()),_t&&_t())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:qt,initial:!kt.current||xt?void 0:!1,custom:qt?void 0:ht,presenceAffectsLayout:St,mode:wt,onExitComplete:qt?void 0:Kt,children:Ht},Xt)})})},noop$1=vt=>vt;let invariant=noop$1;function memo(vt){let ht;return()=>(ht===void 0&&(ht=vt()),ht)}const progress=(vt,ht,xt)=>{const _t=ht-vt;return _t===0?1:(xt-vt)/_t},secondsToMilliseconds=vt=>vt*1e3,millisecondsToSeconds=vt=>vt/1e3,MotionGlobalConfig={useManualTiming:!1};function createRenderStep(vt){let ht=new Set,xt=new Set,_t=!1,St=!1;const wt=new WeakSet;let At={delta:0,timestamp:0,isProcessing:!1};function Ct(It){wt.has(It)&&(Rt.schedule(It),vt()),It(At)}const Rt={schedule:(It,Lt=!1,kt=!1)=>{const $t=kt&&_t?ht:xt;return Lt&&wt.add(It),$t.has(It)||$t.add(It),It},cancel:It=>{xt.delete(It),wt.delete(It)},process:It=>{if(At=It,_t){St=!0;return}_t=!0,[ht,xt]=[xt,ht],ht.forEach(Ct),ht.clear(),_t=!1,St&&(St=!1,Rt.process(It))}};return Rt}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(vt,ht){let xt=!1,_t=!0;const St={delta:0,timestamp:0,isProcessing:!1},wt=()=>xt=!0,At=stepsOrder.reduce((Bt,Ut)=>(Bt[Ut]=createRenderStep(wt),Bt),{}),{read:Ct,resolveKeyframes:Rt,update:It,preRender:Lt,render:kt,postRender:Dt}=At,$t=()=>{const Bt=performance.now();xt=!1,St.delta=_t?1e3/60:Math.max(Math.min(Bt-St.timestamp,maxElapsed),1),St.timestamp=Bt,St.isProcessing=!0,Ct.process(St),Rt.process(St),It.process(St),Lt.process(St),kt.process(St),Dt.process(St),St.isProcessing=!1,xt&&ht&&(_t=!1,vt($t))},Ot=()=>{xt=!0,_t=!0,St.isProcessing||vt($t)};return{schedule:stepsOrder.reduce((Bt,Ut)=>{const Vt=At[Ut];return Bt[Ut]=(Ht,Xt=!1,qt=!1)=>(xt||Ot(),Vt.schedule(Ht,Xt,qt)),Bt},{}),cancel:Bt=>{for(let Ut=0;Ut<stepsOrder.length;Ut++)At[stepsOrder[Ut]].cancel(Bt)},state:St,steps:At}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const vt in featureProps)featureDefinitions[vt]={isEnabled:ht=>featureProps[vt].some(xt=>!!ht[xt])};function loadFeatures(vt){for(const ht in vt)featureDefinitions[ht]={...featureDefinitions[ht],...vt[ht]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(vt){return vt.startsWith("while")||vt.startsWith("drag")&&vt!=="draggable"||vt.startsWith("layout")||vt.startsWith("onTap")||vt.startsWith("onPan")||vt.startsWith("onLayout")||validMotionProps.has(vt)}let shouldForward=vt=>!isValidMotionProp(vt);function loadExternalIsValidProp(vt){vt&&(shouldForward=ht=>ht.startsWith("on")?!isValidMotionProp(ht):vt(ht))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(vt,ht,xt){const _t={};for(const St in vt)St==="values"&&typeof vt.values=="object"||(shouldForward(St)||xt===!0&&isValidMotionProp(St)||!ht&&!isValidMotionProp(St)||vt.draggable&&St.startsWith("onDrag"))&&(_t[St]=vt[St]);return _t}function createDOMMotionComponentProxy(vt){if(typeof Proxy>"u")return vt;const ht=new Map,xt=(..._t)=>vt(..._t);return new Proxy(xt,{get:(_t,St)=>St==="create"?vt:(ht.has(St)||ht.set(St,vt(St)),ht.get(St))})}const MotionContext=reactExports.createContext({});function isVariantLabel(vt){return typeof vt=="string"||Array.isArray(vt)}function isAnimationControls(vt){return vt!==null&&typeof vt=="object"&&typeof vt.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(vt){return isAnimationControls(vt.animate)||variantProps.some(ht=>isVariantLabel(vt[ht]))}function isVariantNode(vt){return!!(isControllingVariants(vt)||vt.variants)}function getCurrentTreeVariants(vt,ht){if(isControllingVariants(vt)){const{initial:xt,animate:_t}=vt;return{initial:xt===!1||isVariantLabel(xt)?xt:void 0,animate:isVariantLabel(_t)?_t:void 0}}return vt.inherit!==!1?ht:{}}function useCreateMotionContext(vt){const{initial:ht,animate:xt}=getCurrentTreeVariants(vt,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:ht,animate:xt}),[variantLabelsAsDependency(ht),variantLabelsAsDependency(xt)])}function variantLabelsAsDependency(vt){return Array.isArray(vt)?vt.join(" "):vt}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(vt){return vt&&typeof vt=="object"&&Object.prototype.hasOwnProperty.call(vt,"current")}function useMotionRef(vt,ht,xt){return reactExports.useCallback(_t=>{_t&&vt.onMount&&vt.onMount(_t),ht&&(_t?ht.mount(_t):ht.unmount()),xt&&(typeof xt=="function"?xt(_t):isRefObject(xt)&&(xt.current=_t))},[ht])}const camelToDash=vt=>vt.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(vt,ht,xt,_t,St){var wt,At;const{visualElement:Ct}=reactExports.useContext(MotionContext),Rt=reactExports.useContext(LazyContext),It=reactExports.useContext(PresenceContext),Lt=reactExports.useContext(MotionConfigContext).reducedMotion,kt=reactExports.useRef(null);_t=_t||Rt.renderer,!kt.current&&_t&&(kt.current=_t(vt,{visualState:ht,parent:Ct,props:xt,presenceContext:It,blockInitialAnimation:It?It.initial===!1:!1,reducedMotionConfig:Lt}));const Dt=kt.current,$t=reactExports.useContext(SwitchLayoutGroupContext);Dt&&!Dt.projection&&St&&(Dt.type==="html"||Dt.type==="svg")&&createProjectionNode$1(kt.current,xt,St,$t);const Ot=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{Dt&&Ot.current&&Dt.update(xt,It)});const zt=xt[optimizedAppearDataAttribute],Gt=reactExports.useRef(!!zt&&!(!((wt=window.MotionHandoffIsComplete)===null||wt===void 0)&&wt.call(window,zt))&&((At=window.MotionHasOptimisedAnimation)===null||At===void 0?void 0:At.call(window,zt)));return useIsomorphicLayoutEffect$2(()=>{Dt&&(Ot.current=!0,window.MotionIsMounted=!0,Dt.updateFeatures(),microtask.render(Dt.render),Gt.current&&Dt.animationState&&Dt.animationState.animateChanges())}),reactExports.useEffect(()=>{Dt&&(!Gt.current&&Dt.animationState&&Dt.animationState.animateChanges(),Gt.current&&(queueMicrotask(()=>{var Bt;(Bt=window.MotionHandoffMarkAsComplete)===null||Bt===void 0||Bt.call(window,zt)}),Gt.current=!1))}),Dt}function createProjectionNode$1(vt,ht,xt,_t){const{layoutId:St,layout:wt,drag:At,dragConstraints:Ct,layoutScroll:Rt,layoutRoot:It}=ht;vt.projection=new xt(vt.latestValues,ht["data-framer-portal-id"]?void 0:getClosestProjectingNode(vt.parent)),vt.projection.setOptions({layoutId:St,layout:wt,alwaysMeasureLayout:!!At||Ct&&isRefObject(Ct),visualElement:vt,animationType:typeof wt=="string"?wt:"both",initialPromotionConfig:_t,layoutScroll:Rt,layoutRoot:It})}function getClosestProjectingNode(vt){if(vt)return vt.options.allowProjection!==!1?vt.projection:getClosestProjectingNode(vt.parent)}function createRendererMotionComponent({preloadedFeatures:vt,createVisualElement:ht,useRender:xt,useVisualState:_t,Component:St}){var wt,At;vt&&loadFeatures(vt);function Ct(It,Lt){let kt;const Dt={...reactExports.useContext(MotionConfigContext),...It,layoutId:useLayoutId(It)},{isStatic:$t}=Dt,Ot=useCreateMotionContext(It),zt=_t(It,$t);if(!$t&&isBrowser){useStrictMode();const Gt=getProjectionFunctionality(Dt);kt=Gt.MeasureLayout,Ot.visualElement=useVisualElement(St,zt,Dt,ht,Gt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:Ot,children:[kt&&Ot.visualElement?jsxRuntimeExports.jsx(kt,{visualElement:Ot.visualElement,...Dt}):null,xt(St,It,useMotionRef(zt,Ot.visualElement,Lt),zt,$t,Ot.visualElement)]})}Ct.displayName=`motion.${typeof St=="string"?St:`create(${(At=(wt=St.displayName)!==null&&wt!==void 0?wt:St.name)!==null&&At!==void 0?At:""})`}`;const Rt=reactExports.forwardRef(Ct);return Rt[motionComponentSymbol]=St,Rt}function useLayoutId({layoutId:vt}){const ht=reactExports.useContext(LayoutGroupContext).id;return ht&&vt!==void 0?ht+"-"+vt:vt}function useStrictMode(vt,ht){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(vt){const{drag:ht,layout:xt}=featureDefinitions;if(!ht&&!xt)return{};const _t={...ht,...xt};return{MeasureLayout:ht!=null&&ht.isEnabled(vt)||xt!=null&&xt.isEnabled(vt)?_t.MeasureLayout:void 0,ProjectionNode:_t.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(vt){return typeof vt!="string"||vt.includes("-")?!1:!!(lowercaseSVGElements.indexOf(vt)>-1||/[A-Z]/u.test(vt))}function getValueState(vt){const ht=[{},{}];return vt==null||vt.values.forEach((xt,_t)=>{ht[0][_t]=xt.get(),ht[1][_t]=xt.getVelocity()}),ht}function resolveVariantFromProps(vt,ht,xt,_t){if(typeof ht=="function"){const[St,wt]=getValueState(_t);ht=ht(xt!==void 0?xt:vt.custom,St,wt)}if(typeof ht=="string"&&(ht=vt.variants&&vt.variants[ht]),typeof ht=="function"){const[St,wt]=getValueState(_t);ht=ht(xt!==void 0?xt:vt.custom,St,wt)}return ht}const isKeyframesTarget=vt=>Array.isArray(vt),isCustomValue=vt=>!!(vt&&typeof vt=="object"&&vt.mix&&vt.toValue),resolveFinalValueInKeyframes=vt=>isKeyframesTarget(vt)?vt[vt.length-1]||0:vt,isMotionValue=vt=>!!(vt&&vt.getVelocity);function resolveMotionValue(vt){const ht=isMotionValue(vt)?vt.get():vt;return isCustomValue(ht)?ht.toValue():ht}function makeState({scrapeMotionValuesFromProps:vt,createRenderState:ht,onUpdate:xt},_t,St,wt){const At={latestValues:makeLatestValues(_t,St,wt,vt),renderState:ht()};return xt&&(At.onMount=Ct=>xt({props:_t,current:Ct,...At}),At.onUpdate=Ct=>xt(Ct)),At}const makeUseVisualState=vt=>(ht,xt)=>{const _t=reactExports.useContext(MotionContext),St=reactExports.useContext(PresenceContext),wt=()=>makeState(vt,ht,_t,St);return xt?wt():useConstant(wt)};function makeLatestValues(vt,ht,xt,_t){const St={},wt=_t(vt,{});for(const Dt in wt)St[Dt]=resolveMotionValue(wt[Dt]);let{initial:At,animate:Ct}=vt;const Rt=isControllingVariants(vt),It=isVariantNode(vt);ht&&It&&!Rt&&vt.inherit!==!1&&(At===void 0&&(At=ht.initial),Ct===void 0&&(Ct=ht.animate));let Lt=xt?xt.initial===!1:!1;Lt=Lt||At===!1;const kt=Lt?Ct:At;if(kt&&typeof kt!="boolean"&&!isAnimationControls(kt)){const Dt=Array.isArray(kt)?kt:[kt];for(let $t=0;$t<Dt.length;$t++){const Ot=resolveVariantFromProps(vt,Dt[$t]);if(Ot){const{transitionEnd:zt,transition:Gt,...Bt}=Ot;for(const Ut in Bt){let Vt=Bt[Ut];if(Array.isArray(Vt)){const Ht=Lt?Vt.length-1:0;Vt=Vt[Ht]}Vt!==null&&(St[Ut]=Vt)}for(const Ut in zt)St[Ut]=zt[Ut]}}}return St}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),checkStringStartsWith=vt=>ht=>typeof ht=="string"&&ht.startsWith(vt),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=vt=>startsAsVariableToken(vt)?singleCssVariableRegex.test(vt.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(vt,ht)=>ht&&typeof vt=="number"?ht.transform(vt):vt,clamp$2=(vt,ht,xt)=>xt>ht?ht:xt<vt?vt:xt,number={test:vt=>typeof vt=="number",parse:parseFloat,transform:vt=>vt},alpha={...number,transform:vt=>clamp$2(0,1,vt)},scale={...number,default:1},createUnitType=vt=>({test:ht=>typeof ht=="string"&&ht.endsWith(vt)&&ht.split(" ").length===1,parse:parseFloat,transform:ht=>`${ht}${vt}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px$1=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:vt=>percent.parse(vt)/100,transform:vt=>percent.transform(vt*100)},browserNumberValueTypes={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,backgroundPositionX:px$1,backgroundPositionY:px$1},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px$1},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px$1,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(vt,ht,xt){let _t="",St=!0;for(let wt=0;wt<numTransforms;wt++){const At=transformPropOrder[wt],Ct=vt[At];if(Ct===void 0)continue;let Rt=!0;if(typeof Ct=="number"?Rt=Ct===(At.startsWith("scale")?1:0):Rt=parseFloat(Ct)===0,!Rt||xt){const It=getValueAsType(Ct,numberValueTypes[At]);if(!Rt){St=!1;const Lt=translateAlias[At]||At;_t+=`${Lt}(${It}) `}xt&&(ht[At]=It)}}return _t=_t.trim(),xt?_t=xt(ht,St?"":_t):St&&(_t="none"),_t}function buildHTMLStyles(vt,ht,xt){const{style:_t,vars:St,transformOrigin:wt}=vt;let At=!1,Ct=!1;for(const Rt in ht){const It=ht[Rt];if(transformProps.has(Rt)){At=!0;continue}else if(isCSSVariableName(Rt)){St[Rt]=It;continue}else{const Lt=getValueAsType(It,numberValueTypes[Rt]);Rt.startsWith("origin")?(Ct=!0,wt[Rt]=Lt):_t[Rt]=Lt}}if(ht.transform||(At||xt?_t.transform=buildTransform(ht,vt.transform,xt):_t.transform&&(_t.transform="none")),Ct){const{originX:Rt="50%",originY:It="50%",originZ:Lt=0}=wt;_t.transformOrigin=`${Rt} ${It} ${Lt}`}}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(vt,ht,xt=1,_t=0,St=!0){vt.pathLength=1;const wt=St?dashKeys:camelKeys;vt[wt.offset]=px$1.transform(-_t);const At=px$1.transform(ht),Ct=px$1.transform(xt);vt[wt.array]=`${At} ${Ct}`}function calcOrigin$1(vt,ht,xt){return typeof vt=="string"?vt:px$1.transform(ht+xt*vt)}function calcSVGTransformOrigin(vt,ht,xt){const _t=calcOrigin$1(ht,vt.x,vt.width),St=calcOrigin$1(xt,vt.y,vt.height);return`${_t} ${St}`}function buildSVGAttrs(vt,{attrX:ht,attrY:xt,attrScale:_t,originX:St,originY:wt,pathLength:At,pathSpacing:Ct=1,pathOffset:Rt=0,...It},Lt,kt){if(buildHTMLStyles(vt,It,kt),Lt){vt.style.viewBox&&(vt.attrs.viewBox=vt.style.viewBox);return}vt.attrs=vt.style,vt.style={};const{attrs:Dt,style:$t,dimensions:Ot}=vt;Dt.transform&&(Ot&&($t.transform=Dt.transform),delete Dt.transform),Ot&&(St!==void 0||wt!==void 0||$t.transform)&&($t.transformOrigin=calcSVGTransformOrigin(Ot,St!==void 0?St:.5,wt!==void 0?wt:.5)),ht!==void 0&&(Dt.x=ht),xt!==void 0&&(Dt.y=xt),_t!==void 0&&(Dt.scale=_t),At!==void 0&&buildSVGPath(Dt,At,Ct,Rt,!1)}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=vt=>typeof vt=="string"&&vt.toLowerCase()==="svg";function renderHTML(vt,{style:ht,vars:xt},_t,St){Object.assign(vt.style,ht,St&&St.getProjectionStyles(_t));for(const wt in xt)vt.style.setProperty(wt,xt[wt])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(vt,ht,xt,_t){renderHTML(vt,ht,void 0,_t);for(const St in ht.attrs)vt.setAttribute(camelCaseAttributes.has(St)?St:camelToDash(St),ht.attrs[St])}const scaleCorrectors={};function addScaleCorrector(vt){Object.assign(scaleCorrectors,vt)}function isForcedMotionValue(vt,{layout:ht,layoutId:xt}){return transformProps.has(vt)||vt.startsWith("origin")||(ht||xt!==void 0)&&(!!scaleCorrectors[vt]||vt==="opacity")}function scrapeMotionValuesFromProps$1(vt,ht,xt){var _t;const{style:St}=vt,wt={};for(const At in St)(isMotionValue(St[At])||ht.style&&isMotionValue(ht.style[At])||isForcedMotionValue(At,vt)||((_t=xt==null?void 0:xt.getValue(At))===null||_t===void 0?void 0:_t.liveStyle)!==void 0)&&(wt[At]=St[At]);return wt}function scrapeMotionValuesFromProps(vt,ht,xt){const _t=scrapeMotionValuesFromProps$1(vt,ht,xt);for(const St in vt)if(isMotionValue(vt[St])||isMotionValue(ht[St])){const wt=transformPropOrder.indexOf(St)!==-1?"attr"+St.charAt(0).toUpperCase()+St.substring(1):St;_t[wt]=vt[St]}return _t}function updateSVGDimensions(vt,ht){try{ht.dimensions=typeof vt.getBBox=="function"?vt.getBBox():vt.getBoundingClientRect()}catch{ht.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:vt,prevProps:ht,current:xt,renderState:_t,latestValues:St})=>{if(!xt)return;let wt=!!vt.drag;if(!wt){for(const Ct in St)if(transformProps.has(Ct)){wt=!0;break}}if(!wt)return;let At=!ht;if(ht)for(let Ct=0;Ct<layoutProps.length;Ct++){const Rt=layoutProps[Ct];vt[Rt]!==ht[Rt]&&(At=!0)}At&&frame.read(()=>{updateSVGDimensions(xt,_t),frame.render(()=>{buildSVGAttrs(_t,St,isSVGTag(xt.tagName),vt.transformTemplate),renderSVG(xt,_t)})})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(vt,ht,xt){for(const _t in ht)!isMotionValue(ht[_t])&&!isForcedMotionValue(_t,xt)&&(vt[_t]=ht[_t])}function useInitialMotionValues({transformTemplate:vt},ht){return reactExports.useMemo(()=>{const xt=createHtmlRenderState();return buildHTMLStyles(xt,ht,vt),Object.assign({},xt.vars,xt.style)},[ht])}function useStyle(vt,ht){const xt=vt.style||{},_t={};return copyRawValuesOnly(_t,xt,vt),Object.assign(_t,useInitialMotionValues(vt,ht)),_t}function useHTMLProps(vt,ht){const xt={},_t=useStyle(vt,ht);return vt.drag&&vt.dragListener!==!1&&(xt.draggable=!1,_t.userSelect=_t.WebkitUserSelect=_t.WebkitTouchCallout="none",_t.touchAction=vt.drag===!0?"none":`pan-${vt.drag==="x"?"y":"x"}`),vt.tabIndex===void 0&&(vt.onTap||vt.onTapStart||vt.whileTap)&&(xt.tabIndex=0),xt.style=_t,xt}function useSVGProps(vt,ht,xt,_t){const St=reactExports.useMemo(()=>{const wt=createSvgRenderState();return buildSVGAttrs(wt,ht,isSVGTag(_t),vt.transformTemplate),{...wt.attrs,style:{...wt.style}}},[ht]);if(vt.style){const wt={};copyRawValuesOnly(wt,vt.style,vt),St.style={...wt,...St.style}}return St}function createUseRender(vt=!1){return(xt,_t,St,{latestValues:wt},At)=>{const Rt=(isSVGComponent(xt)?useSVGProps:useHTMLProps)(_t,wt,At,xt),It=filterProps(_t,typeof xt=="string",vt),Lt=xt!==reactExports.Fragment?{...It,...Rt,ref:St}:{},{children:kt}=_t,Dt=reactExports.useMemo(()=>isMotionValue(kt)?kt.get():kt,[kt]);return reactExports.createElement(xt,{...Lt,children:Dt})}}function createMotionComponentFactory(vt,ht){return function(_t,{forwardMotionProps:St}={forwardMotionProps:!1}){const At={...isSVGComponent(_t)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:vt,useRender:createUseRender(St),createVisualElement:ht,Component:_t};return createRendererMotionComponent(At)}}function shallowCompare(vt,ht){if(!Array.isArray(ht))return!1;const xt=ht.length;if(xt!==vt.length)return!1;for(let _t=0;_t<xt;_t++)if(ht[_t]!==vt[_t])return!1;return!0}function resolveVariant(vt,ht,xt){const _t=vt.getProps();return resolveVariantFromProps(_t,ht,xt!==void 0?xt:_t.custom,vt)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(ht){this.stop=()=>this.runAll("stop"),this.animations=ht.filter(Boolean)}get finished(){return Promise.all(this.animations.map(ht=>"finished"in ht?ht.finished:ht))}getAll(ht){return this.animations[0][ht]}setAll(ht,xt){for(let _t=0;_t<this.animations.length;_t++)this.animations[_t][ht]=xt}attachTimeline(ht,xt){const _t=this.animations.map(St=>{if(supportsScrollTimeline()&&St.attachTimeline)return St.attachTimeline(ht);if(typeof xt=="function")return xt(St)});return()=>{_t.forEach((St,wt)=>{St&&St(),this.animations[wt].stop()})}}get time(){return this.getAll("time")}set time(ht){this.setAll("time",ht)}get speed(){return this.getAll("speed")}set speed(ht){this.setAll("speed",ht)}get startTime(){return this.getAll("startTime")}get duration(){let ht=0;for(let xt=0;xt<this.animations.length;xt++)ht=Math.max(ht,this.animations[xt].duration);return ht}runAll(ht){this.animations.forEach(xt=>xt[ht]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(ht,xt){return Promise.all(this.animations).then(ht).catch(xt)}}function getValueTransition(vt,ht){return vt?vt[ht]||vt.default||vt:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(vt){let ht=0;const xt=50;let _t=vt.next(ht);for(;!_t.done&&ht<maxGeneratorDuration;)ht+=xt,_t=vt.next(ht);return ht>=maxGeneratorDuration?1/0:ht}function isGenerator(vt){return typeof vt=="function"}function attachTimeline(vt,ht){vt.timeline=ht,vt.onfinish=null}const isBezierDefinition=vt=>Array.isArray(vt)&&typeof vt[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(vt,ht){const xt=memo(vt);return()=>{var _t;return(_t=supportsFlags[ht])!==null&&_t!==void 0?_t:xt()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(vt,ht,xt=10)=>{let _t="";const St=Math.max(Math.round(ht/xt),2);for(let wt=0;wt<St;wt++)_t+=vt(progress(0,St-1,wt))+", ";return`linear(${_t.substring(0,_t.length-2)})`};function isWaapiSupportedEasing(vt){return!!(typeof vt=="function"&&supportsLinearEasing()||!vt||typeof vt=="string"&&(vt in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(vt)||Array.isArray(vt)&&vt.every(isWaapiSupportedEasing))}const cubicBezierAsString=([vt,ht,xt,_t])=>`cubic-bezier(${vt}, ${ht}, ${xt}, ${_t})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(vt,ht){if(vt)return typeof vt=="function"&&supportsLinearEasing()?generateLinearEasing(vt,ht):isBezierDefinition(vt)?cubicBezierAsString(vt):Array.isArray(vt)?vt.map(xt=>mapEasingToNativeEasing(xt,ht)||supportedWaapiEasing.easeOut):supportedWaapiEasing[vt]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(vt,ht,xt){var _t;if(vt instanceof Element)return[vt];if(typeof vt=="string"){let St=document;const wt=(_t=void 0)!==null&&_t!==void 0?_t:St.querySelectorAll(vt);return wt?Array.from(wt):[]}return Array.from(vt)}function setupGesture(vt,ht){const xt=resolveElements(vt),_t=new AbortController,St={passive:!0,...ht,signal:_t.signal};return[xt,St,()=>_t.abort()]}function filterEvents$1(vt){return ht=>{ht.pointerType==="touch"||isDragActive()||vt(ht)}}function hover(vt,ht,xt={}){const[_t,St,wt]=setupGesture(vt,xt),At=filterEvents$1(Ct=>{const{target:Rt}=Ct,It=ht(Ct);if(typeof It!="function"||!Rt)return;const Lt=filterEvents$1(kt=>{It(kt),Rt.removeEventListener("pointerleave",Lt)});Rt.addEventListener("pointerleave",Lt,St)});return _t.forEach(Ct=>{Ct.addEventListener("pointerenter",At,St)}),wt}const isNodeOrChild=(vt,ht)=>ht?vt===ht?!0:isNodeOrChild(vt,ht.parentElement):!1,isPrimaryPointer=vt=>vt.pointerType==="mouse"?typeof vt.button!="number"||vt.button<=0:vt.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(vt){return focusableElements.has(vt.tagName)||vt.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(vt){return ht=>{ht.key==="Enter"&&vt(ht)}}function firePointerEvent(vt,ht){vt.dispatchEvent(new PointerEvent("pointer"+ht,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(vt,ht)=>{const xt=vt.currentTarget;if(!xt)return;const _t=filterEvents(()=>{if(isPressing.has(xt))return;firePointerEvent(xt,"down");const St=filterEvents(()=>{firePointerEvent(xt,"up")}),wt=()=>firePointerEvent(xt,"cancel");xt.addEventListener("keyup",St,ht),xt.addEventListener("blur",wt,ht)});xt.addEventListener("keydown",_t,ht),xt.addEventListener("blur",()=>xt.removeEventListener("keydown",_t),ht)};function isValidPressEvent(vt){return isPrimaryPointer(vt)&&!isDragActive()}function press(vt,ht,xt={}){const[_t,St,wt]=setupGesture(vt,xt),At=Ct=>{const Rt=Ct.currentTarget;if(!isValidPressEvent(Ct)||isPressing.has(Rt))return;isPressing.add(Rt);const It=ht(Ct),Lt=($t,Ot)=>{window.removeEventListener("pointerup",kt),window.removeEventListener("pointercancel",Dt),!(!isValidPressEvent($t)||!isPressing.has(Rt))&&(isPressing.delete(Rt),typeof It=="function"&&It($t,{success:Ot}))},kt=$t=>{Lt($t,xt.useGlobalTarget||isNodeOrChild(Rt,$t.target))},Dt=$t=>{Lt($t,!1)};window.addEventListener("pointerup",kt,St),window.addEventListener("pointercancel",Dt,St)};return _t.forEach(Ct=>{!isElementKeyboardAccessible(Ct)&&Ct.getAttribute("tabindex")===null&&(Ct.tabIndex=0),(xt.useGlobalTarget?window:Ct).addEventListener("pointerdown",At,St),Ct.addEventListener("focus",It=>enableKeyboardPress(It,St),St)}),wt}function setDragLock(vt){return vt==="x"||vt==="y"?isDragging[vt]?null:(isDragging[vt]=!0,()=>{isDragging[vt]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now$1;function clearTime(){now$1=void 0}const time={now:()=>(now$1===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now$1),set:vt=>{now$1=vt,queueMicrotask(clearTime)}};function addUniqueItem(vt,ht){vt.indexOf(ht)===-1&&vt.push(ht)}function removeItem(vt,ht){const xt=vt.indexOf(ht);xt>-1&&vt.splice(xt,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(ht){return addUniqueItem(this.subscriptions,ht),()=>removeItem(this.subscriptions,ht)}notify(ht,xt,_t){const St=this.subscriptions.length;if(St)if(St===1)this.subscriptions[0](ht,xt,_t);else for(let wt=0;wt<St;wt++){const At=this.subscriptions[wt];At&&At(ht,xt,_t)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(vt,ht){return ht?vt*(1e3/ht):0}const MAX_VELOCITY_DELTA=30,isFloat=vt=>!isNaN(parseFloat(vt));class MotionValue{constructor(ht,xt={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(_t,St=!0)=>{const wt=time.now();this.updatedAt!==wt&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(_t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),St&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(ht),this.owner=xt.owner}setCurrent(ht){this.current=ht,this.updatedAt=time.now(),this.canTrackVelocity===null&&ht!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(ht=this.current){this.prevFrameValue=ht,this.prevUpdatedAt=this.updatedAt}onChange(ht){return this.on("change",ht)}on(ht,xt){this.events[ht]||(this.events[ht]=new SubscriptionManager);const _t=this.events[ht].add(xt);return ht==="change"?()=>{_t(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:_t}clearListeners(){for(const ht in this.events)this.events[ht].clear()}attach(ht,xt){this.passiveEffect=ht,this.stopPassiveEffect=xt}set(ht,xt=!0){!xt||!this.passiveEffect?this.updateAndNotify(ht,xt):this.passiveEffect(ht,this.updateAndNotify)}setWithVelocity(ht,xt,_t){this.set(xt),this.prev=void 0,this.prevFrameValue=ht,this.prevUpdatedAt=this.updatedAt-_t}jump(ht,xt=!0){this.updateAndNotify(ht),this.prev=ht,this.prevUpdatedAt=this.prevFrameValue=void 0,xt&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const ht=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||ht-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const xt=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),xt)}start(ht){return this.stop(),new Promise(xt=>{this.hasAnimated=!0,this.animation=ht(xt),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(vt,ht){return new MotionValue(vt,ht)}function setMotionValue(vt,ht,xt){vt.hasValue(ht)?vt.getValue(ht).set(xt):vt.addValue(ht,motionValue(xt))}function setTarget(vt,ht){const xt=resolveVariant(vt,ht);let{transitionEnd:_t={},transition:St={},...wt}=xt||{};wt={...wt,..._t};for(const At in wt){const Ct=resolveFinalValueInKeyframes(wt[At]);setMotionValue(vt,At,Ct)}}function isWillChangeMotionValue(vt){return!!(isMotionValue(vt)&&vt.add)}function addValueToWillChange(vt,ht){const xt=vt.getValue("willChange");if(isWillChangeMotionValue(xt))return xt.add(ht)}function getOptimisedAppearId(vt){return vt.props[optimizedAppearDataAttribute]}const calcBezier=(vt,ht,xt)=>(((1-3*xt+3*ht)*vt+(3*xt-6*ht))*vt+3*ht)*vt,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(vt,ht,xt,_t,St){let wt,At,Ct=0;do At=ht+(xt-ht)/2,wt=calcBezier(At,_t,St)-vt,wt>0?xt=At:ht=At;while(Math.abs(wt)>subdivisionPrecision&&++Ct<subdivisionMaxIterations);return At}function cubicBezier(vt,ht,xt,_t){if(vt===ht&&xt===_t)return noop$1;const St=wt=>binarySubdivide(wt,0,1,vt,xt);return wt=>wt===0||wt===1?wt:calcBezier(St(wt),ht,_t)}const mirrorEasing=vt=>ht=>ht<=.5?vt(2*ht)/2:(2-vt(2*(1-ht)))/2,reverseEasing=vt=>ht=>1-vt(1-ht),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=vt=>(vt*=2)<1?.5*backIn(vt):.5*(2-Math.pow(2,-10*(vt-1))),circIn=vt=>1-Math.sin(Math.acos(vt)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=vt=>/^0[^.\s]+$/u.test(vt);function isNone(vt){return typeof vt=="number"?vt===0:vt!==null?vt==="none"||vt==="0"||isZeroValueString(vt):!0}const sanitize=vt=>Math.round(vt*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(vt){return vt==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(vt,ht)=>xt=>!!(typeof xt=="string"&&singleColorRegex.test(xt)&&xt.startsWith(vt)||ht&&!isNullish(xt)&&Object.prototype.hasOwnProperty.call(xt,ht)),splitColor=(vt,ht,xt)=>_t=>{if(typeof _t!="string")return _t;const[St,wt,At,Ct]=_t.match(floatRegex);return{[vt]:parseFloat(St),[ht]:parseFloat(wt),[xt]:parseFloat(At),alpha:Ct!==void 0?parseFloat(Ct):1}},clampRgbUnit=vt=>clamp$2(0,255,vt),rgbUnit={...number,transform:vt=>Math.round(clampRgbUnit(vt))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:vt,green:ht,blue:xt,alpha:_t=1})=>"rgba("+rgbUnit.transform(vt)+", "+rgbUnit.transform(ht)+", "+rgbUnit.transform(xt)+", "+sanitize(alpha.transform(_t))+")"};function parseHex(vt){let ht="",xt="",_t="",St="";return vt.length>5?(ht=vt.substring(1,3),xt=vt.substring(3,5),_t=vt.substring(5,7),St=vt.substring(7,9)):(ht=vt.substring(1,2),xt=vt.substring(2,3),_t=vt.substring(3,4),St=vt.substring(4,5),ht+=ht,xt+=xt,_t+=_t,St+=St),{red:parseInt(ht,16),green:parseInt(xt,16),blue:parseInt(_t,16),alpha:St?parseInt(St,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:vt,saturation:ht,lightness:xt,alpha:_t=1})=>"hsla("+Math.round(vt)+", "+percent.transform(sanitize(ht))+", "+percent.transform(sanitize(xt))+", "+sanitize(alpha.transform(_t))+")"},color={test:vt=>rgba.test(vt)||hex.test(vt)||hsla.test(vt),parse:vt=>rgba.test(vt)?rgba.parse(vt):hsla.test(vt)?hsla.parse(vt):hex.parse(vt),transform:vt=>typeof vt=="string"?vt:vt.hasOwnProperty("red")?rgba.transform(vt):hsla.transform(vt)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(vt){var ht,xt;return isNaN(vt)&&typeof vt=="string"&&(((ht=vt.match(floatRegex))===null||ht===void 0?void 0:ht.length)||0)+(((xt=vt.match(colorRegex))===null||xt===void 0?void 0:xt.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(vt){const ht=vt.toString(),xt=[],_t={color:[],number:[],var:[]},St=[];let wt=0;const Ct=ht.replace(complexRegex,Rt=>(color.test(Rt)?(_t.color.push(wt),St.push(COLOR_TOKEN),xt.push(color.parse(Rt))):Rt.startsWith(VAR_FUNCTION_TOKEN)?(_t.var.push(wt),St.push(VAR_TOKEN),xt.push(Rt)):(_t.number.push(wt),St.push(NUMBER_TOKEN),xt.push(parseFloat(Rt))),++wt,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:xt,split:Ct,indexes:_t,types:St}}function parseComplexValue(vt){return analyseComplexValue(vt).values}function createTransformer(vt){const{split:ht,types:xt}=analyseComplexValue(vt),_t=ht.length;return St=>{let wt="";for(let At=0;At<_t;At++)if(wt+=ht[At],St[At]!==void 0){const Ct=xt[At];Ct===NUMBER_TOKEN?wt+=sanitize(St[At]):Ct===COLOR_TOKEN?wt+=color.transform(St[At]):wt+=St[At]}return wt}}const convertNumbersToZero=vt=>typeof vt=="number"?0:vt;function getAnimatableNone$1(vt){const ht=parseComplexValue(vt);return createTransformer(vt)(ht.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(vt){const[ht,xt]=vt.slice(0,-1).split("(");if(ht==="drop-shadow")return vt;const[_t]=xt.match(floatRegex)||[];if(!_t)return vt;const St=xt.replace(_t,"");let wt=maxDefaults.has(ht)?1:0;return _t!==xt&&(wt*=100),ht+"("+wt+St+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:vt=>{const ht=vt.match(functionRegex);return ht?ht.map(applyDefaultFilter).join(" "):vt}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=vt=>defaultValueTypes[vt];function getAnimatableNone(vt,ht){let xt=getDefaultValueType(vt);return xt!==filter&&(xt=complex),xt.getAnimatableNone?xt.getAnimatableNone(ht):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(vt,ht,xt){let _t=0,St;for(;_t<vt.length&&!St;){const wt=vt[_t];typeof wt=="string"&&!invalidTemplates.has(wt)&&analyseComplexValue(wt).values.length&&(St=vt[_t]),_t++}if(St&&xt)for(const wt of ht)vt[wt]=getAnimatableNone(xt,St)}const isNumOrPxType=vt=>vt===number||vt===px$1,getPosFromMatrix=(vt,ht)=>parseFloat(vt.split(", ")[ht]),getTranslateFromMatrix=(vt,ht)=>(xt,{transform:_t})=>{if(_t==="none"||!_t)return 0;const St=_t.match(/^matrix3d\((.+)\)$/u);if(St)return getPosFromMatrix(St[1],ht);{const wt=_t.match(/^matrix\((.+)\)$/u);return wt?getPosFromMatrix(wt[1],vt):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(vt=>!transformKeys.has(vt));function removeNonTranslationalTransform(vt){const ht=[];return nonTranslationalTransformKeys.forEach(xt=>{const _t=vt.getValue(xt);_t!==void 0&&(ht.push([xt,_t.get()]),_t.set(xt.startsWith("scale")?1:0))}),ht}const positionalValues={width:({x:vt},{paddingLeft:ht="0",paddingRight:xt="0"})=>vt.max-vt.min-parseFloat(ht)-parseFloat(xt),height:({y:vt},{paddingTop:ht="0",paddingBottom:xt="0"})=>vt.max-vt.min-parseFloat(ht)-parseFloat(xt),top:(vt,{top:ht})=>parseFloat(ht),left:(vt,{left:ht})=>parseFloat(ht),bottom:({y:vt},{top:ht})=>parseFloat(ht)+(vt.max-vt.min),right:({x:vt},{left:ht})=>parseFloat(ht)+(vt.max-vt.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const vt=Array.from(toResolve).filter(_t=>_t.needsMeasurement),ht=new Set(vt.map(_t=>_t.element)),xt=new Map;ht.forEach(_t=>{const St=removeNonTranslationalTransform(_t);St.length&&(xt.set(_t,St),_t.render())}),vt.forEach(_t=>_t.measureInitialState()),ht.forEach(_t=>{_t.render();const St=xt.get(_t);St&&St.forEach(([wt,At])=>{var Ct;(Ct=_t.getValue(wt))===null||Ct===void 0||Ct.set(At)})}),vt.forEach(_t=>_t.measureEndState()),vt.forEach(_t=>{_t.suspendedScrollY!==void 0&&window.scrollTo(0,_t.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(vt=>vt.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(vt=>{vt.readKeyframes(),vt.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(ht,xt,_t,St,wt,At=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...ht],this.onComplete=xt,this.name=_t,this.motionValue=St,this.element=wt,this.isAsync=At}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:ht,name:xt,element:_t,motionValue:St}=this;for(let wt=0;wt<ht.length;wt++)if(ht[wt]===null)if(wt===0){const At=St==null?void 0:St.get(),Ct=ht[ht.length-1];if(At!==void 0)ht[0]=At;else if(_t&&xt){const Rt=_t.readValue(xt,Ct);Rt!=null&&(ht[0]=Rt)}ht[0]===void 0&&(ht[0]=Ct),St&&At===void 0&&St.set(ht[0])}else ht[wt]=ht[wt-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=vt=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(vt),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(vt){const ht=splitCSSVariableRegex.exec(vt);if(!ht)return[,];const[,xt,_t,St]=ht;return[`--${xt??_t}`,St]}function getVariableValue(vt,ht,xt=1){const[_t,St]=parseCSSVariable(vt);if(!_t)return;const wt=window.getComputedStyle(ht).getPropertyValue(_t);if(wt){const At=wt.trim();return isNumericalString(At)?parseFloat(At):At}return isCSSVariableToken(St)?getVariableValue(St,ht,xt+1):St}const testValueType=vt=>ht=>ht.test(vt),auto={test:vt=>vt==="auto",parse:vt=>vt},dimensionValueTypes=[number,px$1,percent,degrees,vw,vh,auto],findDimensionValueType=vt=>dimensionValueTypes.find(testValueType(vt));class DOMKeyframesResolver extends KeyframeResolver{constructor(ht,xt,_t,St,wt){super(ht,xt,_t,St,wt,!0)}readKeyframes(){const{unresolvedKeyframes:ht,element:xt,name:_t}=this;if(!xt||!xt.current)return;super.readKeyframes();for(let Rt=0;Rt<ht.length;Rt++){let It=ht[Rt];if(typeof It=="string"&&(It=It.trim(),isCSSVariableToken(It))){const Lt=getVariableValue(It,xt.current);Lt!==void 0&&(ht[Rt]=Lt),Rt===ht.length-1&&(this.finalKeyframe=It)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(_t)||ht.length!==2)return;const[St,wt]=ht,At=findDimensionValueType(St),Ct=findDimensionValueType(wt);if(At!==Ct)if(isNumOrPxType(At)&&isNumOrPxType(Ct))for(let Rt=0;Rt<ht.length;Rt++){const It=ht[Rt];typeof It=="string"&&(ht[Rt]=parseFloat(It))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:ht,name:xt}=this,_t=[];for(let St=0;St<ht.length;St++)isNone(ht[St])&&_t.push(St);_t.length&&makeNoneKeyframesAnimatable(ht,_t,xt)}measureInitialState(){const{element:ht,unresolvedKeyframes:xt,name:_t}=this;if(!ht||!ht.current)return;_t==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[_t](ht.measureViewportBox(),window.getComputedStyle(ht.current)),xt[0]=this.measuredOrigin;const St=xt[xt.length-1];St!==void 0&&ht.getValue(_t,St).jump(St,!1)}measureEndState(){var ht;const{element:xt,name:_t,unresolvedKeyframes:St}=this;if(!xt||!xt.current)return;const wt=xt.getValue(_t);wt&&wt.jump(this.measuredOrigin,!1);const At=St.length-1,Ct=St[At];St[At]=positionalValues[_t](xt.measureViewportBox(),window.getComputedStyle(xt.current)),Ct!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=Ct),!((ht=this.removedTransforms)===null||ht===void 0)&&ht.length&&this.removedTransforms.forEach(([Rt,It])=>{xt.getValue(Rt).set(It)}),this.resolveNoneKeyframes()}}const isAnimatable=(vt,ht)=>ht==="zIndex"?!1:!!(typeof vt=="number"||Array.isArray(vt)||typeof vt=="string"&&(complex.test(vt)||vt==="0")&&!vt.startsWith("url("));function hasKeyframesChanged(vt){const ht=vt[0];if(vt.length===1)return!0;for(let xt=0;xt<vt.length;xt++)if(vt[xt]!==ht)return!0}function canAnimate(vt,ht,xt,_t){const St=vt[0];if(St===null)return!1;if(ht==="display"||ht==="visibility")return!0;const wt=vt[vt.length-1],At=isAnimatable(St,ht),Ct=isAnimatable(wt,ht);return!At||!Ct?!1:hasKeyframesChanged(vt)||(xt==="spring"||isGenerator(xt))&&_t}const isNotNull=vt=>vt!==null;function getFinalKeyframe(vt,{repeat:ht,repeatType:xt="loop"},_t){const St=vt.filter(isNotNull),wt=ht&&xt!=="loop"&&ht%2===1?0:St.length-1;return!wt||_t===void 0?St[wt]:_t}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:ht=!0,delay:xt=0,type:_t="keyframes",repeat:St=0,repeatDelay:wt=0,repeatType:At="loop",...Ct}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:ht,delay:xt,type:_t,repeat:St,repeatDelay:wt,repeatType:At,...Ct},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(ht,xt){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:_t,type:St,velocity:wt,delay:At,onComplete:Ct,onUpdate:Rt,isGenerator:It}=this.options;if(!It&&!canAnimate(ht,_t,St,wt))if(At)this.options.duration=0;else{Rt&&Rt(getFinalKeyframe(ht,this.options,xt)),Ct&&Ct(),this.resolveFinishedPromise();return}const Lt=this.initPlayback(ht,xt);Lt!==!1&&(this._resolved={keyframes:ht,finalKeyframe:xt,...Lt},this.onPostResolved())}onPostResolved(){}then(ht,xt){return this.currentFinishedPromise.then(ht,xt)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(ht=>{this.resolveFinishedPromise=ht})}}const mixNumber$1=(vt,ht,xt)=>vt+(ht-vt)*xt;function hueToRgb(vt,ht,xt){return xt<0&&(xt+=1),xt>1&&(xt-=1),xt<1/6?vt+(ht-vt)*6*xt:xt<1/2?ht:xt<2/3?vt+(ht-vt)*(2/3-xt)*6:vt}function hslaToRgba({hue:vt,saturation:ht,lightness:xt,alpha:_t}){vt/=360,ht/=100,xt/=100;let St=0,wt=0,At=0;if(!ht)St=wt=At=xt;else{const Ct=xt<.5?xt*(1+ht):xt+ht-xt*ht,Rt=2*xt-Ct;St=hueToRgb(Rt,Ct,vt+1/3),wt=hueToRgb(Rt,Ct,vt),At=hueToRgb(Rt,Ct,vt-1/3)}return{red:Math.round(St*255),green:Math.round(wt*255),blue:Math.round(At*255),alpha:_t}}function mixImmediate(vt,ht){return xt=>xt>0?ht:vt}const mixLinearColor=(vt,ht,xt)=>{const _t=vt*vt,St=xt*(ht*ht-_t)+_t;return St<0?0:Math.sqrt(St)},colorTypes=[hex,rgba,hsla],getColorType=vt=>colorTypes.find(ht=>ht.test(vt));function asRGBA(vt){const ht=getColorType(vt);if(!ht)return!1;let xt=ht.parse(vt);return ht===hsla&&(xt=hslaToRgba(xt)),xt}const mixColor=(vt,ht)=>{const xt=asRGBA(vt),_t=asRGBA(ht);if(!xt||!_t)return mixImmediate(vt,ht);const St={...xt};return wt=>(St.red=mixLinearColor(xt.red,_t.red,wt),St.green=mixLinearColor(xt.green,_t.green,wt),St.blue=mixLinearColor(xt.blue,_t.blue,wt),St.alpha=mixNumber$1(xt.alpha,_t.alpha,wt),rgba.transform(St))},combineFunctions=(vt,ht)=>xt=>ht(vt(xt)),pipe=(...vt)=>vt.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(vt,ht){return invisibleValues.has(vt)?xt=>xt<=0?vt:ht:xt=>xt>=1?ht:vt}function mixNumber(vt,ht){return xt=>mixNumber$1(vt,ht,xt)}function getMixer(vt){return typeof vt=="number"?mixNumber:typeof vt=="string"?isCSSVariableToken(vt)?mixImmediate:color.test(vt)?mixColor:mixComplex:Array.isArray(vt)?mixArray:typeof vt=="object"?color.test(vt)?mixColor:mixObject:mixImmediate}function mixArray(vt,ht){const xt=[...vt],_t=xt.length,St=vt.map((wt,At)=>getMixer(wt)(wt,ht[At]));return wt=>{for(let At=0;At<_t;At++)xt[At]=St[At](wt);return xt}}function mixObject(vt,ht){const xt={...vt,...ht},_t={};for(const St in xt)vt[St]!==void 0&&ht[St]!==void 0&&(_t[St]=getMixer(vt[St])(vt[St],ht[St]));return St=>{for(const wt in _t)xt[wt]=_t[wt](St);return xt}}function matchOrder(vt,ht){var xt;const _t=[],St={color:0,var:0,number:0};for(let wt=0;wt<ht.values.length;wt++){const At=ht.types[wt],Ct=vt.indexes[At][St[At]],Rt=(xt=vt.values[Ct])!==null&&xt!==void 0?xt:0;_t[wt]=Rt,St[At]++}return _t}const mixComplex=(vt,ht)=>{const xt=complex.createTransformer(ht),_t=analyseComplexValue(vt),St=analyseComplexValue(ht);return _t.indexes.var.length===St.indexes.var.length&&_t.indexes.color.length===St.indexes.color.length&&_t.indexes.number.length>=St.indexes.number.length?invisibleValues.has(vt)&&!St.values.length||invisibleValues.has(ht)&&!_t.values.length?mixVisibility(vt,ht):pipe(mixArray(matchOrder(_t,St),St.values),xt):mixImmediate(vt,ht)};function mix(vt,ht,xt){return typeof vt=="number"&&typeof ht=="number"&&typeof xt=="number"?mixNumber$1(vt,ht,xt):getMixer(vt)(vt,ht)}const velocitySampleDuration=5;function calcGeneratorVelocity(vt,ht,xt){const _t=Math.max(ht-velocitySampleDuration,0);return velocityPerSecond(xt-vt(_t),ht-_t)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:vt=springDefaults.duration,bounce:ht=springDefaults.bounce,velocity:xt=springDefaults.velocity,mass:_t=springDefaults.mass}){let St,wt,At=1-ht;At=clamp$2(springDefaults.minDamping,springDefaults.maxDamping,At),vt=clamp$2(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(vt)),At<1?(St=It=>{const Lt=It*At,kt=Lt*vt,Dt=Lt-xt,$t=calcAngularFreq(It,At),Ot=Math.exp(-kt);return safeMin-Dt/$t*Ot},wt=It=>{const kt=It*At*vt,Dt=kt*xt+xt,$t=Math.pow(At,2)*Math.pow(It,2)*vt,Ot=Math.exp(-kt),zt=calcAngularFreq(Math.pow(It,2),At);return(-St(It)+safeMin>0?-1:1)*((Dt-$t)*Ot)/zt}):(St=It=>{const Lt=Math.exp(-It*vt),kt=(It-xt)*vt+1;return-safeMin+Lt*kt},wt=It=>{const Lt=Math.exp(-It*vt),kt=(xt-It)*(vt*vt);return Lt*kt});const Ct=5/vt,Rt=approximateRoot(St,wt,Ct);if(vt=secondsToMilliseconds(vt),isNaN(Rt))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:vt};{const It=Math.pow(Rt,2)*_t;return{stiffness:It,damping:At*2*Math.sqrt(_t*It),duration:vt}}}const rootIterations=12;function approximateRoot(vt,ht,xt){let _t=xt;for(let St=1;St<rootIterations;St++)_t=_t-vt(_t)/ht(_t);return _t}function calcAngularFreq(vt,ht){return vt*Math.sqrt(1-ht*ht)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(vt,ht){return ht.some(xt=>vt[xt]!==void 0)}function getSpringOptions(vt){let ht={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...vt};if(!isSpringType(vt,physicsKeys)&&isSpringType(vt,durationKeys))if(vt.visualDuration){const xt=vt.visualDuration,_t=2*Math.PI/(xt*1.2),St=_t*_t,wt=2*clamp$2(.05,1,1-(vt.bounce||0))*Math.sqrt(St);ht={...ht,mass:springDefaults.mass,stiffness:St,damping:wt}}else{const xt=findSpring(vt);ht={...ht,...xt,mass:springDefaults.mass},ht.isResolvedFromDuration=!0}return ht}function spring(vt=springDefaults.visualDuration,ht=springDefaults.bounce){const xt=typeof vt!="object"?{visualDuration:vt,keyframes:[0,1],bounce:ht}:vt;let{restSpeed:_t,restDelta:St}=xt;const wt=xt.keyframes[0],At=xt.keyframes[xt.keyframes.length-1],Ct={done:!1,value:wt},{stiffness:Rt,damping:It,mass:Lt,duration:kt,velocity:Dt,isResolvedFromDuration:$t}=getSpringOptions({...xt,velocity:-millisecondsToSeconds(xt.velocity||0)}),Ot=Dt||0,zt=It/(2*Math.sqrt(Rt*Lt)),Gt=At-wt,Bt=millisecondsToSeconds(Math.sqrt(Rt/Lt)),Ut=Math.abs(Gt)<5;_t||(_t=Ut?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),St||(St=Ut?springDefaults.restDelta.granular:springDefaults.restDelta.default);let Vt;if(zt<1){const Xt=calcAngularFreq(Bt,zt);Vt=qt=>{const Kt=Math.exp(-zt*Bt*qt);return At-Kt*((Ot+zt*Bt*Gt)/Xt*Math.sin(Xt*qt)+Gt*Math.cos(Xt*qt))}}else if(zt===1)Vt=Xt=>At-Math.exp(-Bt*Xt)*(Gt+(Ot+Bt*Gt)*Xt);else{const Xt=Bt*Math.sqrt(zt*zt-1);Vt=qt=>{const Kt=Math.exp(-zt*Bt*qt),en=Math.min(Xt*qt,300);return At-Kt*((Ot+zt*Bt*Gt)*Math.sinh(en)+Xt*Gt*Math.cosh(en))/Xt}}const Ht={calculatedDuration:$t&&kt||null,next:Xt=>{const qt=Vt(Xt);if($t)Ct.done=Xt>=kt;else{let Kt=0;zt<1&&(Kt=Xt===0?secondsToMilliseconds(Ot):calcGeneratorVelocity(Vt,Xt,qt));const en=Math.abs(Kt)<=_t,tn=Math.abs(At-qt)<=St;Ct.done=en&&tn}return Ct.value=Ct.done?At:qt,Ct},toString:()=>{const Xt=Math.min(calcGeneratorDuration(Ht),maxGeneratorDuration),qt=generateLinearEasing(Kt=>Ht.next(Xt*Kt).value,Xt,30);return Xt+"ms "+qt}};return Ht}function inertia({keyframes:vt,velocity:ht=0,power:xt=.8,timeConstant:_t=325,bounceDamping:St=10,bounceStiffness:wt=500,modifyTarget:At,min:Ct,max:Rt,restDelta:It=.5,restSpeed:Lt}){const kt=vt[0],Dt={done:!1,value:kt},$t=en=>Ct!==void 0&&en<Ct||Rt!==void 0&&en>Rt,Ot=en=>Ct===void 0?Rt:Rt===void 0||Math.abs(Ct-en)<Math.abs(Rt-en)?Ct:Rt;let zt=xt*ht;const Gt=kt+zt,Bt=At===void 0?Gt:At(Gt);Bt!==Gt&&(zt=Bt-kt);const Ut=en=>-zt*Math.exp(-en/_t),Vt=en=>Bt+Ut(en),Ht=en=>{const tn=Ut(en),Qt=Vt(en);Dt.done=Math.abs(tn)<=It,Dt.value=Dt.done?Bt:Qt};let Xt,qt;const Kt=en=>{$t(Dt.value)&&(Xt=en,qt=spring({keyframes:[Dt.value,Ot(Dt.value)],velocity:calcGeneratorVelocity(Vt,en,Dt.value),damping:St,stiffness:wt,restDelta:It,restSpeed:Lt}))};return Kt(0),{calculatedDuration:null,next:en=>{let tn=!1;return!qt&&Xt===void 0&&(tn=!0,Ht(en),Kt(en)),Xt!==void 0&&en>=Xt?qt.next(en-Xt):(!tn&&Ht(en),Dt)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=vt=>Array.isArray(vt)&&typeof vt[0]!="number",easingLookup={linear:noop$1,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=vt=>{if(isBezierDefinition(vt)){invariant(vt.length===4);const[ht,xt,_t,St]=vt;return cubicBezier(ht,xt,_t,St)}else if(typeof vt=="string")return easingLookup[vt];return vt};function createMixers(vt,ht,xt){const _t=[],St=xt||mix,wt=vt.length-1;for(let At=0;At<wt;At++){let Ct=St(vt[At],vt[At+1]);if(ht){const Rt=Array.isArray(ht)?ht[At]||noop$1:ht;Ct=pipe(Rt,Ct)}_t.push(Ct)}return _t}function interpolate(vt,ht,{clamp:xt=!0,ease:_t,mixer:St}={}){const wt=vt.length;if(invariant(wt===ht.length),wt===1)return()=>ht[0];if(wt===2&&ht[0]===ht[1])return()=>ht[1];const At=vt[0]===vt[1];vt[0]>vt[wt-1]&&(vt=[...vt].reverse(),ht=[...ht].reverse());const Ct=createMixers(ht,_t,St),Rt=Ct.length,It=Lt=>{if(At&&Lt<vt[0])return ht[0];let kt=0;if(Rt>1)for(;kt<vt.length-2&&!(Lt<vt[kt+1]);kt++);const Dt=progress(vt[kt],vt[kt+1],Lt);return Ct[kt](Dt)};return xt?Lt=>It(clamp$2(vt[0],vt[wt-1],Lt)):It}function fillOffset(vt,ht){const xt=vt[vt.length-1];for(let _t=1;_t<=ht;_t++){const St=progress(0,ht,_t);vt.push(mixNumber$1(xt,1,St))}}function defaultOffset(vt){const ht=[0];return fillOffset(ht,vt.length-1),ht}function convertOffsetToTimes(vt,ht){return vt.map(xt=>xt*ht)}function defaultEasing(vt,ht){return vt.map(()=>ht||easeInOut).splice(0,vt.length-1)}function keyframes({duration:vt=300,keyframes:ht,times:xt,ease:_t="easeInOut"}){const St=isEasingArray(_t)?_t.map(easingDefinitionToFunction):easingDefinitionToFunction(_t),wt={done:!1,value:ht[0]},At=convertOffsetToTimes(xt&&xt.length===ht.length?xt:defaultOffset(ht),vt),Ct=interpolate(At,ht,{ease:Array.isArray(St)?St:defaultEasing(ht,St)});return{calculatedDuration:vt,next:Rt=>(wt.value=Ct(Rt),wt.done=Rt>=vt,wt)}}const frameloopDriver=vt=>{const ht=({timestamp:xt})=>vt(xt);return{start:()=>frame.update(ht,!0),stop:()=>cancelFrame(ht),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=vt=>vt/100;class MainThreadAnimation extends BaseAnimation{constructor(ht){super(ht),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:Rt}=this.options;Rt&&Rt()};const{name:xt,motionValue:_t,element:St,keyframes:wt}=this.options,At=(St==null?void 0:St.KeyframeResolver)||KeyframeResolver,Ct=(Rt,It)=>this.onKeyframesResolved(Rt,It);this.resolver=new At(wt,Ct,xt,_t,St),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(ht){const{type:xt="keyframes",repeat:_t=0,repeatDelay:St=0,repeatType:wt,velocity:At=0}=this.options,Ct=isGenerator(xt)?xt:generators[xt]||keyframes;let Rt,It;Ct!==keyframes&&typeof ht[0]!="number"&&(Rt=pipe(percentToProgress,mix(ht[0],ht[1])),ht=[0,100]);const Lt=Ct({...this.options,keyframes:ht});wt==="mirror"&&(It=Ct({...this.options,keyframes:[...ht].reverse(),velocity:-At})),Lt.calculatedDuration===null&&(Lt.calculatedDuration=calcGeneratorDuration(Lt));const{calculatedDuration:kt}=Lt,Dt=kt+St,$t=Dt*(_t+1)-St;return{generator:Lt,mirroredGenerator:It,mapPercentToKeyframes:Rt,calculatedDuration:kt,resolvedDuration:Dt,totalDuration:$t}}onPostResolved(){const{autoplay:ht=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!ht?this.pause():this.state=this.pendingPlayState}tick(ht,xt=!1){const{resolved:_t}=this;if(!_t){const{keyframes:en}=this.options;return{done:!0,value:en[en.length-1]}}const{finalKeyframe:St,generator:wt,mirroredGenerator:At,mapPercentToKeyframes:Ct,keyframes:Rt,calculatedDuration:It,totalDuration:Lt,resolvedDuration:kt}=_t;if(this.startTime===null)return wt.next(0);const{delay:Dt,repeat:$t,repeatType:Ot,repeatDelay:zt,onUpdate:Gt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,ht):this.speed<0&&(this.startTime=Math.min(ht-Lt/this.speed,this.startTime)),xt?this.currentTime=ht:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(ht-this.startTime)*this.speed;const Bt=this.currentTime-Dt*(this.speed>=0?1:-1),Ut=this.speed>=0?Bt<0:Bt>Lt;this.currentTime=Math.max(Bt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=Lt);let Vt=this.currentTime,Ht=wt;if($t){const en=Math.min(this.currentTime,Lt)/kt;let tn=Math.floor(en),Qt=en%1;!Qt&&en>=1&&(Qt=1),Qt===1&&tn--,tn=Math.min(tn,$t+1),!!(tn%2)&&(Ot==="reverse"?(Qt=1-Qt,zt&&(Qt-=zt/kt)):Ot==="mirror"&&(Ht=At)),Vt=clamp$2(0,1,Qt)*kt}const Xt=Ut?{done:!1,value:Rt[0]}:Ht.next(Vt);Ct&&(Xt.value=Ct(Xt.value));let{done:qt}=Xt;!Ut&&It!==null&&(qt=this.speed>=0?this.currentTime>=Lt:this.currentTime<=0);const Kt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&qt);return Kt&&St!==void 0&&(Xt.value=getFinalKeyframe(Rt,this.options,St)),Gt&&Gt(Xt.value),Kt&&this.finish(),Xt}get duration(){const{resolved:ht}=this;return ht?millisecondsToSeconds(ht.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(ht){ht=secondsToMilliseconds(ht),this.currentTime=ht,this.holdTime!==null||this.speed===0?this.holdTime=ht:this.driver&&(this.startTime=this.driver.now()-ht/this.speed)}get speed(){return this.playbackSpeed}set speed(ht){const xt=this.playbackSpeed!==ht;this.playbackSpeed=ht,xt&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:ht=frameloopDriver,onPlay:xt,startTime:_t}=this.options;this.driver||(this.driver=ht(wt=>this.tick(wt))),xt&&xt();const St=this.driver.now();this.holdTime!==null?this.startTime=St-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=St):this.startTime=_t??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var ht;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(ht=this.currentTime)!==null&&ht!==void 0?ht:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:ht}=this.options;ht&&ht()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(ht){return this.startTime=0,this.tick(ht,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(vt,ht,xt,{delay:_t=0,duration:St=300,repeat:wt=0,repeatType:At="loop",ease:Ct="easeInOut",times:Rt}={}){const It={[ht]:xt};Rt&&(It.offset=Rt);const Lt=mapEasingToNativeEasing(Ct,St);return Array.isArray(Lt)&&(It.easing=Lt),vt.animate(It,{delay:_t,duration:St,easing:Array.isArray(Lt)?"linear":Lt,fill:"both",iterations:wt+1,direction:At==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(vt){return isGenerator(vt.type)||vt.type==="spring"||!isWaapiSupportedEasing(vt.ease)}function pregenerateKeyframes(vt,ht){const xt=new MainThreadAnimation({...ht,keyframes:vt,repeat:0,delay:0,isGenerator:!0});let _t={done:!1,value:vt[0]};const St=[];let wt=0;for(;!_t.done&&wt<maxDuration;)_t=xt.sample(wt),St.push(_t.value),wt+=sampleDelta;return{times:void 0,keyframes:St,duration:wt-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(vt){return vt in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(ht){super(ht);const{name:xt,motionValue:_t,element:St,keyframes:wt}=this.options;this.resolver=new DOMKeyframesResolver(wt,(At,Ct)=>this.onKeyframesResolved(At,Ct),xt,_t,St),this.resolver.scheduleResolve()}initPlayback(ht,xt){let{duration:_t=300,times:St,ease:wt,type:At,motionValue:Ct,name:Rt,startTime:It}=this.options;if(!Ct.owner||!Ct.owner.current)return!1;if(typeof wt=="string"&&supportsLinearEasing()&&isUnsupportedEase(wt)&&(wt=unsupportedEasingFunctions[wt]),requiresPregeneratedKeyframes(this.options)){const{onComplete:kt,onUpdate:Dt,motionValue:$t,element:Ot,...zt}=this.options,Gt=pregenerateKeyframes(ht,zt);ht=Gt.keyframes,ht.length===1&&(ht[1]=ht[0]),_t=Gt.duration,St=Gt.times,wt=Gt.ease,At="keyframes"}const Lt=startWaapiAnimation(Ct.owner.current,Rt,ht,{...this.options,duration:_t,times:St,ease:wt});return Lt.startTime=It??this.calcStartTime(),this.pendingTimeline?(attachTimeline(Lt,this.pendingTimeline),this.pendingTimeline=void 0):Lt.onfinish=()=>{const{onComplete:kt}=this.options;Ct.set(getFinalKeyframe(ht,this.options,xt)),kt&&kt(),this.cancel(),this.resolveFinishedPromise()},{animation:Lt,duration:_t,times:St,type:At,ease:wt,keyframes:ht}}get duration(){const{resolved:ht}=this;if(!ht)return 0;const{duration:xt}=ht;return millisecondsToSeconds(xt)}get time(){const{resolved:ht}=this;if(!ht)return 0;const{animation:xt}=ht;return millisecondsToSeconds(xt.currentTime||0)}set time(ht){const{resolved:xt}=this;if(!xt)return;const{animation:_t}=xt;_t.currentTime=secondsToMilliseconds(ht)}get speed(){const{resolved:ht}=this;if(!ht)return 1;const{animation:xt}=ht;return xt.playbackRate}set speed(ht){const{resolved:xt}=this;if(!xt)return;const{animation:_t}=xt;_t.playbackRate=ht}get state(){const{resolved:ht}=this;if(!ht)return"idle";const{animation:xt}=ht;return xt.playState}get startTime(){const{resolved:ht}=this;if(!ht)return null;const{animation:xt}=ht;return xt.startTime}attachTimeline(ht){if(!this._resolved)this.pendingTimeline=ht;else{const{resolved:xt}=this;if(!xt)return noop$1;const{animation:_t}=xt;attachTimeline(_t,ht)}return noop$1}play(){if(this.isStopped)return;const{resolved:ht}=this;if(!ht)return;const{animation:xt}=ht;xt.playState==="finished"&&this.updateFinishedPromise(),xt.play()}pause(){const{resolved:ht}=this;if(!ht)return;const{animation:xt}=ht;xt.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:ht}=this;if(!ht)return;const{animation:xt,keyframes:_t,duration:St,type:wt,ease:At,times:Ct}=ht;if(xt.playState==="idle"||xt.playState==="finished")return;if(this.time){const{motionValue:It,onUpdate:Lt,onComplete:kt,element:Dt,...$t}=this.options,Ot=new MainThreadAnimation({...$t,keyframes:_t,duration:St,type:wt,ease:At,times:Ct,isGenerator:!0}),zt=secondsToMilliseconds(this.time);It.setWithVelocity(Ot.sample(zt-sampleDelta).value,Ot.sample(zt).value,sampleDelta)}const{onStop:Rt}=this.options;Rt&&Rt(),this.cancel()}complete(){const{resolved:ht}=this;ht&&ht.animation.finish()}cancel(){const{resolved:ht}=this;ht&&ht.animation.cancel()}static supports(ht){const{motionValue:xt,name:_t,repeatDelay:St,repeatType:wt,damping:At,type:Ct}=ht;if(!xt||!xt.owner||!(xt.owner.current instanceof HTMLElement))return!1;const{onUpdate:Rt,transformTemplate:It}=xt.owner.getProps();return supportsWaapi()&&_t&&acceleratedValues.has(_t)&&!Rt&&!It&&!St&&wt!=="mirror"&&At!==0&&Ct!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=vt=>({type:"spring",stiffness:550,damping:vt===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(vt,{keyframes:ht})=>ht.length>2?keyframesTransition:transformProps.has(vt)?vt.startsWith("scale")?criticallyDampedSpring(ht[1]):underDampedSpring:ease;function isTransitionDefined({when:vt,delay:ht,delayChildren:xt,staggerChildren:_t,staggerDirection:St,repeat:wt,repeatType:At,repeatDelay:Ct,from:Rt,elapsed:It,...Lt}){return!!Object.keys(Lt).length}const animateMotionValue=(vt,ht,xt,_t={},St,wt)=>At=>{const Ct=getValueTransition(_t,vt)||{},Rt=Ct.delay||_t.delay||0;let{elapsed:It=0}=_t;It=It-secondsToMilliseconds(Rt);let Lt={keyframes:Array.isArray(xt)?xt:[null,xt],ease:"easeOut",velocity:ht.getVelocity(),...Ct,delay:-It,onUpdate:Dt=>{ht.set(Dt),Ct.onUpdate&&Ct.onUpdate(Dt)},onComplete:()=>{At(),Ct.onComplete&&Ct.onComplete()},name:vt,motionValue:ht,element:wt?void 0:St};isTransitionDefined(Ct)||(Lt={...Lt,...getDefaultTransition(vt,Lt)}),Lt.duration&&(Lt.duration=secondsToMilliseconds(Lt.duration)),Lt.repeatDelay&&(Lt.repeatDelay=secondsToMilliseconds(Lt.repeatDelay)),Lt.from!==void 0&&(Lt.keyframes[0]=Lt.from);let kt=!1;if((Lt.type===!1||Lt.duration===0&&!Lt.repeatDelay)&&(Lt.duration=0,Lt.delay===0&&(kt=!0)),kt&&!wt&&ht.get()!==void 0){const Dt=getFinalKeyframe(Lt.keyframes,Ct);if(Dt!==void 0)return frame.update(()=>{Lt.onUpdate(Dt),Lt.onComplete()}),new GroupPlaybackControls([])}return!wt&&AcceleratedAnimation.supports(Lt)?new AcceleratedAnimation(Lt):new MainThreadAnimation(Lt)};function shouldBlockAnimation({protectedKeys:vt,needsAnimating:ht},xt){const _t=vt.hasOwnProperty(xt)&&ht[xt]!==!0;return ht[xt]=!1,_t}function animateTarget(vt,ht,{delay:xt=0,transitionOverride:_t,type:St}={}){var wt;let{transition:At=vt.getDefaultTransition(),transitionEnd:Ct,...Rt}=ht;_t&&(At=_t);const It=[],Lt=St&&vt.animationState&&vt.animationState.getState()[St];for(const kt in Rt){const Dt=vt.getValue(kt,(wt=vt.latestValues[kt])!==null&&wt!==void 0?wt:null),$t=Rt[kt];if($t===void 0||Lt&&shouldBlockAnimation(Lt,kt))continue;const Ot={delay:xt,...getValueTransition(At||{},kt)};let zt=!1;if(window.MotionHandoffAnimation){const Bt=getOptimisedAppearId(vt);if(Bt){const Ut=window.MotionHandoffAnimation(Bt,kt,frame);Ut!==null&&(Ot.startTime=Ut,zt=!0)}}addValueToWillChange(vt,kt),Dt.start(animateMotionValue(kt,Dt,$t,vt.shouldReduceMotion&&positionalKeys.has(kt)?{type:!1}:Ot,vt,zt));const Gt=Dt.animation;Gt&&It.push(Gt)}return Ct&&Promise.all(It).then(()=>{frame.update(()=>{Ct&&setTarget(vt,Ct)})}),It}function animateVariant(vt,ht,xt={}){var _t;const St=resolveVariant(vt,ht,xt.type==="exit"?(_t=vt.presenceContext)===null||_t===void 0?void 0:_t.custom:void 0);let{transition:wt=vt.getDefaultTransition()||{}}=St||{};xt.transitionOverride&&(wt=xt.transitionOverride);const At=St?()=>Promise.all(animateTarget(vt,St,xt)):()=>Promise.resolve(),Ct=vt.variantChildren&&vt.variantChildren.size?(It=0)=>{const{delayChildren:Lt=0,staggerChildren:kt,staggerDirection:Dt}=wt;return animateChildren(vt,ht,Lt+It,kt,Dt,xt)}:()=>Promise.resolve(),{when:Rt}=wt;if(Rt){const[It,Lt]=Rt==="beforeChildren"?[At,Ct]:[Ct,At];return It().then(()=>Lt())}else return Promise.all([At(),Ct(xt.delay)])}function animateChildren(vt,ht,xt=0,_t=0,St=1,wt){const At=[],Ct=(vt.variantChildren.size-1)*_t,Rt=St===1?(It=0)=>It*_t:(It=0)=>Ct-It*_t;return Array.from(vt.variantChildren).sort(sortByTreeOrder).forEach((It,Lt)=>{It.notify("AnimationStart",ht),At.push(animateVariant(It,ht,{...wt,delay:xt+Rt(Lt)}).then(()=>It.notify("AnimationComplete",ht)))}),Promise.all(At)}function sortByTreeOrder(vt,ht){return vt.sortNodePosition(ht)}function animateVisualElement(vt,ht,xt={}){vt.notify("AnimationStart",ht);let _t;if(Array.isArray(ht)){const St=ht.map(wt=>animateVariant(vt,wt,xt));_t=Promise.all(St)}else if(typeof ht=="string")_t=animateVariant(vt,ht,xt);else{const St=typeof ht=="function"?resolveVariant(vt,ht,xt.custom):ht;_t=Promise.all(animateTarget(vt,St,xt))}return _t.then(()=>{vt.notify("AnimationComplete",ht)})}const numVariantProps=variantProps.length;function getVariantContext(vt){if(!vt)return;if(!vt.isControllingVariants){const xt=vt.parent?getVariantContext(vt.parent)||{}:{};return vt.props.initial!==void 0&&(xt.initial=vt.props.initial),xt}const ht={};for(let xt=0;xt<numVariantProps;xt++){const _t=variantProps[xt],St=vt.props[_t];(isVariantLabel(St)||St===!1)&&(ht[_t]=St)}return ht}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(vt){return ht=>Promise.all(ht.map(({animation:xt,options:_t})=>animateVisualElement(vt,xt,_t)))}function createAnimationState(vt){let ht=animateList(vt),xt=createState(),_t=!0;const St=Rt=>(It,Lt)=>{var kt;const Dt=resolveVariant(vt,Lt,Rt==="exit"?(kt=vt.presenceContext)===null||kt===void 0?void 0:kt.custom:void 0);if(Dt){const{transition:$t,transitionEnd:Ot,...zt}=Dt;It={...It,...zt,...Ot}}return It};function wt(Rt){ht=Rt(vt)}function At(Rt){const{props:It}=vt,Lt=getVariantContext(vt.parent)||{},kt=[],Dt=new Set;let $t={},Ot=1/0;for(let Gt=0;Gt<numAnimationTypes;Gt++){const Bt=reversePriorityOrder[Gt],Ut=xt[Bt],Vt=It[Bt]!==void 0?It[Bt]:Lt[Bt],Ht=isVariantLabel(Vt),Xt=Bt===Rt?Ut.isActive:null;Xt===!1&&(Ot=Gt);let qt=Vt===Lt[Bt]&&Vt!==It[Bt]&&Ht;if(qt&&_t&&vt.manuallyAnimateOnMount&&(qt=!1),Ut.protectedKeys={...$t},!Ut.isActive&&Xt===null||!Vt&&!Ut.prevProp||isAnimationControls(Vt)||typeof Vt=="boolean")continue;const Kt=checkVariantsDidChange(Ut.prevProp,Vt);let en=Kt||Bt===Rt&&Ut.isActive&&!qt&&Ht||Gt>Ot&&Ht,tn=!1;const Qt=Array.isArray(Vt)?Vt:[Vt];let sn=Qt.reduce(St(Bt),{});Xt===!1&&(sn={});const{prevResolvedValues:un={}}=Ut,dn={...un,...sn},vn=an=>{en=!0,Dt.has(an)&&(tn=!0,Dt.delete(an)),Ut.needsAnimating[an]=!0;const Yt=vt.getValue(an);Yt&&(Yt.liveStyle=!1)};for(const an in dn){const Yt=sn[an],Jt=un[an];if($t.hasOwnProperty(an))continue;let on=!1;isKeyframesTarget(Yt)&&isKeyframesTarget(Jt)?on=!shallowCompare(Yt,Jt):on=Yt!==Jt,on?Yt!=null?vn(an):Dt.add(an):Yt!==void 0&&Dt.has(an)?vn(an):Ut.protectedKeys[an]=!0}Ut.prevProp=Vt,Ut.prevResolvedValues=sn,Ut.isActive&&($t={...$t,...sn}),_t&&vt.blockInitialAnimation&&(en=!1),en&&(!(qt&&Kt)||tn)&&kt.push(...Qt.map(an=>({animation:an,options:{type:Bt}})))}if(Dt.size){const Gt={};Dt.forEach(Bt=>{const Ut=vt.getBaseTarget(Bt),Vt=vt.getValue(Bt);Vt&&(Vt.liveStyle=!0),Gt[Bt]=Ut??null}),kt.push({animation:Gt})}let zt=!!kt.length;return _t&&(It.initial===!1||It.initial===It.animate)&&!vt.manuallyAnimateOnMount&&(zt=!1),_t=!1,zt?ht(kt):Promise.resolve()}function Ct(Rt,It){var Lt;if(xt[Rt].isActive===It)return Promise.resolve();(Lt=vt.variantChildren)===null||Lt===void 0||Lt.forEach(Dt=>{var $t;return($t=Dt.animationState)===null||$t===void 0?void 0:$t.setActive(Rt,It)}),xt[Rt].isActive=It;const kt=At(Rt);for(const Dt in xt)xt[Dt].protectedKeys={};return kt}return{animateChanges:At,setActive:Ct,setAnimateFunction:wt,getState:()=>xt,reset:()=>{xt=createState(),_t=!0}}}function checkVariantsDidChange(vt,ht){return typeof ht=="string"?ht!==vt:Array.isArray(ht)?!shallowCompare(ht,vt):!1}function createTypeState(vt=!1){return{isActive:vt,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(ht){this.isMounted=!1,this.node=ht}update(){}}class AnimationFeature extends Feature{constructor(ht){super(ht),ht.animationState||(ht.animationState=createAnimationState(ht))}updateAnimationControlsSubscription(){const{animate:ht}=this.node.getProps();isAnimationControls(ht)&&(this.unmountControls=ht.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:ht}=this.node.getProps(),{animate:xt}=this.node.prevProps||{};ht!==xt&&this.updateAnimationControlsSubscription()}unmount(){var ht;this.node.animationState.reset(),(ht=this.unmountControls)===null||ht===void 0||ht.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:ht,onExitComplete:xt}=this.node.presenceContext,{isPresent:_t}=this.node.prevPresenceContext||{};if(!this.node.animationState||ht===_t)return;const St=this.node.animationState.setActive("exit",!ht);xt&&!ht&&St.then(()=>xt(this.id))}mount(){const{register:ht}=this.node.presenceContext||{};ht&&(this.unmount=ht(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(vt,ht,xt,_t={passive:!0}){return vt.addEventListener(ht,xt,_t),()=>vt.removeEventListener(ht,xt)}function extractEventInfo(vt){return{point:{x:vt.pageX,y:vt.pageY}}}const addPointerInfo=vt=>ht=>isPrimaryPointer(ht)&&vt(ht,extractEventInfo(ht));function addPointerEvent(vt,ht,xt,_t){return addDomEvent(vt,ht,addPointerInfo(xt),_t)}const distance=(vt,ht)=>Math.abs(vt-ht);function distance2D(vt,ht){const xt=distance(vt.x,ht.x),_t=distance(vt.y,ht.y);return Math.sqrt(xt**2+_t**2)}class PanSession{constructor(ht,xt,{transformPagePoint:_t,contextWindow:St,dragSnapToOrigin:wt=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const kt=getPanInfo(this.lastMoveEventInfo,this.history),Dt=this.startEvent!==null,$t=distance2D(kt.offset,{x:0,y:0})>=3;if(!Dt&&!$t)return;const{point:Ot}=kt,{timestamp:zt}=frameData;this.history.push({...Ot,timestamp:zt});const{onStart:Gt,onMove:Bt}=this.handlers;Dt||(Gt&&Gt(this.lastMoveEvent,kt),this.startEvent=this.lastMoveEvent),Bt&&Bt(this.lastMoveEvent,kt)},this.handlePointerMove=(kt,Dt)=>{this.lastMoveEvent=kt,this.lastMoveEventInfo=transformPoint(Dt,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(kt,Dt)=>{this.end();const{onEnd:$t,onSessionEnd:Ot,resumeAnimation:zt}=this.handlers;if(this.dragSnapToOrigin&&zt&&zt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Gt=getPanInfo(kt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(Dt,this.transformPagePoint),this.history);this.startEvent&&$t&&$t(kt,Gt),Ot&&Ot(kt,Gt)},!isPrimaryPointer(ht))return;this.dragSnapToOrigin=wt,this.handlers=xt,this.transformPagePoint=_t,this.contextWindow=St||window;const At=extractEventInfo(ht),Ct=transformPoint(At,this.transformPagePoint),{point:Rt}=Ct,{timestamp:It}=frameData;this.history=[{...Rt,timestamp:It}];const{onSessionStart:Lt}=xt;Lt&&Lt(ht,getPanInfo(Ct,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(ht){this.handlers=ht}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(vt,ht){return ht?{point:ht(vt.point)}:vt}function subtractPoint(vt,ht){return{x:vt.x-ht.x,y:vt.y-ht.y}}function getPanInfo({point:vt},ht){return{point:vt,delta:subtractPoint(vt,lastDevicePoint(ht)),offset:subtractPoint(vt,startDevicePoint(ht)),velocity:getVelocity(ht,.1)}}function startDevicePoint(vt){return vt[0]}function lastDevicePoint(vt){return vt[vt.length-1]}function getVelocity(vt,ht){if(vt.length<2)return{x:0,y:0};let xt=vt.length-1,_t=null;const St=lastDevicePoint(vt);for(;xt>=0&&(_t=vt[xt],!(St.timestamp-_t.timestamp>secondsToMilliseconds(ht)));)xt--;if(!_t)return{x:0,y:0};const wt=millisecondsToSeconds(St.timestamp-_t.timestamp);if(wt===0)return{x:0,y:0};const At={x:(St.x-_t.x)/wt,y:(St.y-_t.y)/wt};return At.x===1/0&&(At.x=0),At.y===1/0&&(At.y=0),At}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(vt){return vt.max-vt.min}function isNear(vt,ht,xt){return Math.abs(vt-ht)<=xt}function calcAxisDelta(vt,ht,xt,_t=.5){vt.origin=_t,vt.originPoint=mixNumber$1(ht.min,ht.max,vt.origin),vt.scale=calcLength(xt)/calcLength(ht),vt.translate=mixNumber$1(xt.min,xt.max,vt.origin)-vt.originPoint,(vt.scale>=SCALE_MIN&&vt.scale<=SCALE_MAX||isNaN(vt.scale))&&(vt.scale=1),(vt.translate>=TRANSLATE_MIN&&vt.translate<=TRANSLATE_MAX||isNaN(vt.translate))&&(vt.translate=0)}function calcBoxDelta(vt,ht,xt,_t){calcAxisDelta(vt.x,ht.x,xt.x,_t?_t.originX:void 0),calcAxisDelta(vt.y,ht.y,xt.y,_t?_t.originY:void 0)}function calcRelativeAxis(vt,ht,xt){vt.min=xt.min+ht.min,vt.max=vt.min+calcLength(ht)}function calcRelativeBox(vt,ht,xt){calcRelativeAxis(vt.x,ht.x,xt.x),calcRelativeAxis(vt.y,ht.y,xt.y)}function calcRelativeAxisPosition(vt,ht,xt){vt.min=ht.min-xt.min,vt.max=vt.min+calcLength(ht)}function calcRelativePosition(vt,ht,xt){calcRelativeAxisPosition(vt.x,ht.x,xt.x),calcRelativeAxisPosition(vt.y,ht.y,xt.y)}function applyConstraints(vt,{min:ht,max:xt},_t){return ht!==void 0&&vt<ht?vt=_t?mixNumber$1(ht,vt,_t.min):Math.max(vt,ht):xt!==void 0&&vt>xt&&(vt=_t?mixNumber$1(xt,vt,_t.max):Math.min(vt,xt)),vt}function calcRelativeAxisConstraints(vt,ht,xt){return{min:ht!==void 0?vt.min+ht:void 0,max:xt!==void 0?vt.max+xt-(vt.max-vt.min):void 0}}function calcRelativeConstraints(vt,{top:ht,left:xt,bottom:_t,right:St}){return{x:calcRelativeAxisConstraints(vt.x,xt,St),y:calcRelativeAxisConstraints(vt.y,ht,_t)}}function calcViewportAxisConstraints(vt,ht){let xt=ht.min-vt.min,_t=ht.max-vt.max;return ht.max-ht.min<vt.max-vt.min&&([xt,_t]=[_t,xt]),{min:xt,max:_t}}function calcViewportConstraints(vt,ht){return{x:calcViewportAxisConstraints(vt.x,ht.x),y:calcViewportAxisConstraints(vt.y,ht.y)}}function calcOrigin(vt,ht){let xt=.5;const _t=calcLength(vt),St=calcLength(ht);return St>_t?xt=progress(ht.min,ht.max-_t,vt.min):_t>St&&(xt=progress(vt.min,vt.max-St,ht.min)),clamp$2(0,1,xt)}function rebaseAxisConstraints(vt,ht){const xt={};return ht.min!==void 0&&(xt.min=ht.min-vt.min),ht.max!==void 0&&(xt.max=ht.max-vt.min),xt}const defaultElastic=.35;function resolveDragElastic(vt=defaultElastic){return vt===!1?vt=0:vt===!0&&(vt=defaultElastic),{x:resolveAxisElastic(vt,"left","right"),y:resolveAxisElastic(vt,"top","bottom")}}function resolveAxisElastic(vt,ht,xt){return{min:resolvePointElastic(vt,ht),max:resolvePointElastic(vt,xt)}}function resolvePointElastic(vt,ht){return typeof vt=="number"?vt:vt[ht]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(vt){return[vt("x"),vt("y")]}function convertBoundingBoxToBox({top:vt,left:ht,right:xt,bottom:_t}){return{x:{min:ht,max:xt},y:{min:vt,max:_t}}}function convertBoxToBoundingBox({x:vt,y:ht}){return{top:ht.min,right:vt.max,bottom:ht.max,left:vt.min}}function transformBoxPoints(vt,ht){if(!ht)return vt;const xt=ht({x:vt.left,y:vt.top}),_t=ht({x:vt.right,y:vt.bottom});return{top:xt.y,left:xt.x,bottom:_t.y,right:_t.x}}function isIdentityScale(vt){return vt===void 0||vt===1}function hasScale({scale:vt,scaleX:ht,scaleY:xt}){return!isIdentityScale(vt)||!isIdentityScale(ht)||!isIdentityScale(xt)}function hasTransform(vt){return hasScale(vt)||has2DTranslate(vt)||vt.z||vt.rotate||vt.rotateX||vt.rotateY||vt.skewX||vt.skewY}function has2DTranslate(vt){return is2DTranslate(vt.x)||is2DTranslate(vt.y)}function is2DTranslate(vt){return vt&&vt!=="0%"}function scalePoint(vt,ht,xt){const _t=vt-xt,St=ht*_t;return xt+St}function applyPointDelta(vt,ht,xt,_t,St){return St!==void 0&&(vt=scalePoint(vt,St,_t)),scalePoint(vt,xt,_t)+ht}function applyAxisDelta(vt,ht=0,xt=1,_t,St){vt.min=applyPointDelta(vt.min,ht,xt,_t,St),vt.max=applyPointDelta(vt.max,ht,xt,_t,St)}function applyBoxDelta(vt,{x:ht,y:xt}){applyAxisDelta(vt.x,ht.translate,ht.scale,ht.originPoint),applyAxisDelta(vt.y,xt.translate,xt.scale,xt.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(vt,ht,xt,_t=!1){const St=xt.length;if(!St)return;ht.x=ht.y=1;let wt,At;for(let Ct=0;Ct<St;Ct++){wt=xt[Ct],At=wt.projectionDelta;const{visualElement:Rt}=wt.options;Rt&&Rt.props.style&&Rt.props.style.display==="contents"||(_t&&wt.options.layoutScroll&&wt.scroll&&wt!==wt.root&&transformBox(vt,{x:-wt.scroll.offset.x,y:-wt.scroll.offset.y}),At&&(ht.x*=At.x.scale,ht.y*=At.y.scale,applyBoxDelta(vt,At)),_t&&hasTransform(wt.latestValues)&&transformBox(vt,wt.latestValues))}ht.x<TREE_SCALE_SNAP_MAX&&ht.x>TREE_SCALE_SNAP_MIN&&(ht.x=1),ht.y<TREE_SCALE_SNAP_MAX&&ht.y>TREE_SCALE_SNAP_MIN&&(ht.y=1)}function translateAxis(vt,ht){vt.min=vt.min+ht,vt.max=vt.max+ht}function transformAxis(vt,ht,xt,_t,St=.5){const wt=mixNumber$1(vt.min,vt.max,St);applyAxisDelta(vt,ht,xt,wt,_t)}function transformBox(vt,ht){transformAxis(vt.x,ht.x,ht.scaleX,ht.scale,ht.originX),transformAxis(vt.y,ht.y,ht.scaleY,ht.scale,ht.originY)}function measureViewportBox(vt,ht){return convertBoundingBoxToBox(transformBoxPoints(vt.getBoundingClientRect(),ht))}function measurePageBox(vt,ht,xt){const _t=measureViewportBox(vt,xt),{scroll:St}=ht;return St&&(translateAxis(_t.x,St.offset.x),translateAxis(_t.y,St.offset.y)),_t}const getContextWindow=({current:vt})=>vt?vt.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(ht){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=ht}start(ht,{snapToCursor:xt=!1}={}){const{presenceContext:_t}=this.visualElement;if(_t&&_t.isPresent===!1)return;const St=Lt=>{const{dragSnapToOrigin:kt}=this.getProps();kt?this.pauseAnimation():this.stopAnimation(),xt&&this.snapToCursor(extractEventInfo(Lt).point)},wt=(Lt,kt)=>{const{drag:Dt,dragPropagation:$t,onDragStart:Ot}=this.getProps();if(Dt&&!$t&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(Dt),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(Gt=>{let Bt=this.getAxisMotionValue(Gt).get()||0;if(percent.test(Bt)){const{projection:Ut}=this.visualElement;if(Ut&&Ut.layout){const Vt=Ut.layout.layoutBox[Gt];Vt&&(Bt=calcLength(Vt)*(parseFloat(Bt)/100))}}this.originPoint[Gt]=Bt}),Ot&&frame.postRender(()=>Ot(Lt,kt)),addValueToWillChange(this.visualElement,"transform");const{animationState:zt}=this.visualElement;zt&&zt.setActive("whileDrag",!0)},At=(Lt,kt)=>{const{dragPropagation:Dt,dragDirectionLock:$t,onDirectionLock:Ot,onDrag:zt}=this.getProps();if(!Dt&&!this.openDragLock)return;const{offset:Gt}=kt;if($t&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Gt),this.currentDirection!==null&&Ot&&Ot(this.currentDirection);return}this.updateAxis("x",kt.point,Gt),this.updateAxis("y",kt.point,Gt),this.visualElement.render(),zt&&zt(Lt,kt)},Ct=(Lt,kt)=>this.stop(Lt,kt),Rt=()=>eachAxis(Lt=>{var kt;return this.getAnimationState(Lt)==="paused"&&((kt=this.getAxisMotionValue(Lt).animation)===null||kt===void 0?void 0:kt.play())}),{dragSnapToOrigin:It}=this.getProps();this.panSession=new PanSession(ht,{onSessionStart:St,onStart:wt,onMove:At,onSessionEnd:Ct,resumeAnimation:Rt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:It,contextWindow:getContextWindow(this.visualElement)})}stop(ht,xt){const _t=this.isDragging;if(this.cancel(),!_t)return;const{velocity:St}=xt;this.startAnimation(St);const{onDragEnd:wt}=this.getProps();wt&&frame.postRender(()=>wt(ht,xt))}cancel(){this.isDragging=!1;const{projection:ht,animationState:xt}=this.visualElement;ht&&(ht.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:_t}=this.getProps();!_t&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),xt&&xt.setActive("whileDrag",!1)}updateAxis(ht,xt,_t){const{drag:St}=this.getProps();if(!_t||!shouldDrag(ht,St,this.currentDirection))return;const wt=this.getAxisMotionValue(ht);let At=this.originPoint[ht]+_t[ht];this.constraints&&this.constraints[ht]&&(At=applyConstraints(At,this.constraints[ht],this.elastic[ht])),wt.set(At)}resolveConstraints(){var ht;const{dragConstraints:xt,dragElastic:_t}=this.getProps(),St=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(ht=this.visualElement.projection)===null||ht===void 0?void 0:ht.layout,wt=this.constraints;xt&&isRefObject(xt)?this.constraints||(this.constraints=this.resolveRefConstraints()):xt&&St?this.constraints=calcRelativeConstraints(St.layoutBox,xt):this.constraints=!1,this.elastic=resolveDragElastic(_t),wt!==this.constraints&&St&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(At=>{this.constraints!==!1&&this.getAxisMotionValue(At)&&(this.constraints[At]=rebaseAxisConstraints(St.layoutBox[At],this.constraints[At]))})}resolveRefConstraints(){const{dragConstraints:ht,onMeasureDragConstraints:xt}=this.getProps();if(!ht||!isRefObject(ht))return!1;const _t=ht.current,{projection:St}=this.visualElement;if(!St||!St.layout)return!1;const wt=measurePageBox(_t,St.root,this.visualElement.getTransformPagePoint());let At=calcViewportConstraints(St.layout.layoutBox,wt);if(xt){const Ct=xt(convertBoxToBoundingBox(At));this.hasMutatedConstraints=!!Ct,Ct&&(At=convertBoundingBoxToBox(Ct))}return At}startAnimation(ht){const{drag:xt,dragMomentum:_t,dragElastic:St,dragTransition:wt,dragSnapToOrigin:At,onDragTransitionEnd:Ct}=this.getProps(),Rt=this.constraints||{},It=eachAxis(Lt=>{if(!shouldDrag(Lt,xt,this.currentDirection))return;let kt=Rt&&Rt[Lt]||{};At&&(kt={min:0,max:0});const Dt=St?200:1e6,$t=St?40:1e7,Ot={type:"inertia",velocity:_t?ht[Lt]:0,bounceStiffness:Dt,bounceDamping:$t,timeConstant:750,restDelta:1,restSpeed:10,...wt,...kt};return this.startAxisValueAnimation(Lt,Ot)});return Promise.all(It).then(Ct)}startAxisValueAnimation(ht,xt){const _t=this.getAxisMotionValue(ht);return addValueToWillChange(this.visualElement,ht),_t.start(animateMotionValue(ht,_t,0,xt,this.visualElement,!1))}stopAnimation(){eachAxis(ht=>this.getAxisMotionValue(ht).stop())}pauseAnimation(){eachAxis(ht=>{var xt;return(xt=this.getAxisMotionValue(ht).animation)===null||xt===void 0?void 0:xt.pause()})}getAnimationState(ht){var xt;return(xt=this.getAxisMotionValue(ht).animation)===null||xt===void 0?void 0:xt.state}getAxisMotionValue(ht){const xt=`_drag${ht.toUpperCase()}`,_t=this.visualElement.getProps(),St=_t[xt];return St||this.visualElement.getValue(ht,(_t.initial?_t.initial[ht]:void 0)||0)}snapToCursor(ht){eachAxis(xt=>{const{drag:_t}=this.getProps();if(!shouldDrag(xt,_t,this.currentDirection))return;const{projection:St}=this.visualElement,wt=this.getAxisMotionValue(xt);if(St&&St.layout){const{min:At,max:Ct}=St.layout.layoutBox[xt];wt.set(ht[xt]-mixNumber$1(At,Ct,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:ht,dragConstraints:xt}=this.getProps(),{projection:_t}=this.visualElement;if(!isRefObject(xt)||!_t||!this.constraints)return;this.stopAnimation();const St={x:0,y:0};eachAxis(At=>{const Ct=this.getAxisMotionValue(At);if(Ct&&this.constraints!==!1){const Rt=Ct.get();St[At]=calcOrigin({min:Rt,max:Rt},this.constraints[At])}});const{transformTemplate:wt}=this.visualElement.getProps();this.visualElement.current.style.transform=wt?wt({},""):"none",_t.root&&_t.root.updateScroll(),_t.updateLayout(),this.resolveConstraints(),eachAxis(At=>{if(!shouldDrag(At,ht,null))return;const Ct=this.getAxisMotionValue(At),{min:Rt,max:It}=this.constraints[At];Ct.set(mixNumber$1(Rt,It,St[At]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const ht=this.visualElement.current,xt=addPointerEvent(ht,"pointerdown",Rt=>{const{drag:It,dragListener:Lt=!0}=this.getProps();It&&Lt&&this.start(Rt)}),_t=()=>{const{dragConstraints:Rt}=this.getProps();isRefObject(Rt)&&Rt.current&&(this.constraints=this.resolveRefConstraints())},{projection:St}=this.visualElement,wt=St.addEventListener("measure",_t);St&&!St.layout&&(St.root&&St.root.updateScroll(),St.updateLayout()),frame.read(_t);const At=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),Ct=St.addEventListener("didUpdate",({delta:Rt,hasLayoutChanged:It})=>{this.isDragging&&It&&(eachAxis(Lt=>{const kt=this.getAxisMotionValue(Lt);kt&&(this.originPoint[Lt]+=Rt[Lt].translate,kt.set(kt.get()+Rt[Lt].translate))}),this.visualElement.render())});return()=>{At(),xt(),wt(),Ct&&Ct()}}getProps(){const ht=this.visualElement.getProps(),{drag:xt=!1,dragDirectionLock:_t=!1,dragPropagation:St=!1,dragConstraints:wt=!1,dragElastic:At=defaultElastic,dragMomentum:Ct=!0}=ht;return{...ht,drag:xt,dragDirectionLock:_t,dragPropagation:St,dragConstraints:wt,dragElastic:At,dragMomentum:Ct}}}function shouldDrag(vt,ht,xt){return(ht===!0||ht===vt)&&(xt===null||xt===vt)}function getCurrentDirection(vt,ht=10){let xt=null;return Math.abs(vt.y)>ht?xt="y":Math.abs(vt.x)>ht&&(xt="x"),xt}class DragGesture extends Feature{constructor(ht){super(ht),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls(ht)}mount(){const{dragControls:ht}=this.node.getProps();ht&&(this.removeGroupControls=ht.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=vt=>(ht,xt)=>{vt&&frame.postRender(()=>vt(ht,xt))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(ht){this.session=new PanSession(ht,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:ht,onPanStart:xt,onPan:_t,onPanEnd:St}=this.node.getProps();return{onSessionStart:asyncHandler(ht),onStart:asyncHandler(xt),onMove:_t,onEnd:(wt,At)=>{delete this.session,St&&frame.postRender(()=>St(wt,At))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",ht=>this.onPointerDown(ht))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(vt,ht){return ht.max===ht.min?0:vt/(ht.max-ht.min)*100}const correctBorderRadius={correct:(vt,ht)=>{if(!ht.target)return vt;if(typeof vt=="string")if(px$1.test(vt))vt=parseFloat(vt);else return vt;const xt=pixelsToPercent(vt,ht.target.x),_t=pixelsToPercent(vt,ht.target.y);return`${xt}% ${_t}%`}},correctBoxShadow={correct:(vt,{treeScale:ht,projectionDelta:xt})=>{const _t=vt,St=complex.parse(vt);if(St.length>5)return _t;const wt=complex.createTransformer(vt),At=typeof St[0]!="number"?1:0,Ct=xt.x.scale*ht.x,Rt=xt.y.scale*ht.y;St[0+At]/=Ct,St[1+At]/=Rt;const It=mixNumber$1(Ct,Rt,.5);return typeof St[2+At]=="number"&&(St[2+At]/=It),typeof St[3+At]=="number"&&(St[3+At]/=It),wt(St)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:ht,layoutGroup:xt,switchLayoutGroup:_t,layoutId:St}=this.props,{projection:wt}=ht;addScaleCorrector(defaultScaleCorrectors),wt&&(xt.group&&xt.group.add(wt),_t&&_t.register&&St&&_t.register(wt),wt.root.didUpdate(),wt.addEventListener("animationComplete",()=>{this.safeToRemove()}),wt.setOptions({...wt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(ht){const{layoutDependency:xt,visualElement:_t,drag:St,isPresent:wt}=this.props,At=_t.projection;return At&&(At.isPresent=wt,St||ht.layoutDependency!==xt||xt===void 0?At.willUpdate():this.safeToRemove(),ht.isPresent!==wt&&(wt?At.promote():At.relegate()||frame.postRender(()=>{const Ct=At.getStack();(!Ct||!Ct.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:ht}=this.props.visualElement;ht&&(ht.root.didUpdate(),microtask.postRender(()=>{!ht.currentAnimation&&ht.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:ht,layoutGroup:xt,switchLayoutGroup:_t}=this.props,{projection:St}=ht;St&&(St.scheduleCheckAfterUnmount(),xt&&xt.group&&xt.group.remove(St),_t&&_t.deregister&&_t.deregister(St))}safeToRemove(){const{safeToRemove:ht}=this.props;ht&&ht()}render(){return null}}function MeasureLayout(vt){const[ht,xt]=usePresence(),_t=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...vt,layoutGroup:_t,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:ht,safeToRemove:xt})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(vt,ht,xt){const _t=isMotionValue(vt)?vt:motionValue(vt);return _t.start(animateMotionValue("",_t,ht,xt)),_t.animation}function isSVGElement(vt){return vt instanceof SVGElement&&vt.tagName!=="svg"}const compareByDepth=(vt,ht)=>vt.depth-ht.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(ht){addUniqueItem(this.children,ht),this.isDirty=!0}remove(ht){removeItem(this.children,ht),this.isDirty=!0}forEach(ht){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(ht)}}function delay(vt,ht){const xt=time.now(),_t=({timestamp:St})=>{const wt=St-xt;wt>=ht&&(cancelFrame(_t),vt(wt-ht))};return frame.read(_t,!0),()=>cancelFrame(_t)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=vt=>typeof vt=="string"?parseFloat(vt):vt,isPx=vt=>typeof vt=="number"||px$1.test(vt);function mixValues(vt,ht,xt,_t,St,wt){St?(vt.opacity=mixNumber$1(0,xt.opacity!==void 0?xt.opacity:1,easeCrossfadeIn(_t)),vt.opacityExit=mixNumber$1(ht.opacity!==void 0?ht.opacity:1,0,easeCrossfadeOut(_t))):wt&&(vt.opacity=mixNumber$1(ht.opacity!==void 0?ht.opacity:1,xt.opacity!==void 0?xt.opacity:1,_t));for(let At=0;At<numBorders;At++){const Ct=`border${borders[At]}Radius`;let Rt=getRadius(ht,Ct),It=getRadius(xt,Ct);if(Rt===void 0&&It===void 0)continue;Rt||(Rt=0),It||(It=0),Rt===0||It===0||isPx(Rt)===isPx(It)?(vt[Ct]=Math.max(mixNumber$1(asNumber(Rt),asNumber(It),_t),0),(percent.test(It)||percent.test(Rt))&&(vt[Ct]+="%")):vt[Ct]=It}(ht.rotate||xt.rotate)&&(vt.rotate=mixNumber$1(ht.rotate||0,xt.rotate||0,_t))}function getRadius(vt,ht){return vt[ht]!==void 0?vt[ht]:vt.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$1);function compress(vt,ht,xt){return _t=>_t<vt?0:_t>ht?1:xt(progress(vt,ht,_t))}function copyAxisInto(vt,ht){vt.min=ht.min,vt.max=ht.max}function copyBoxInto(vt,ht){copyAxisInto(vt.x,ht.x),copyAxisInto(vt.y,ht.y)}function copyAxisDeltaInto(vt,ht){vt.translate=ht.translate,vt.scale=ht.scale,vt.originPoint=ht.originPoint,vt.origin=ht.origin}function removePointDelta(vt,ht,xt,_t,St){return vt-=ht,vt=scalePoint(vt,1/xt,_t),St!==void 0&&(vt=scalePoint(vt,1/St,_t)),vt}function removeAxisDelta(vt,ht=0,xt=1,_t=.5,St,wt=vt,At=vt){if(percent.test(ht)&&(ht=parseFloat(ht),ht=mixNumber$1(At.min,At.max,ht/100)-At.min),typeof ht!="number")return;let Ct=mixNumber$1(wt.min,wt.max,_t);vt===wt&&(Ct-=ht),vt.min=removePointDelta(vt.min,ht,xt,Ct,St),vt.max=removePointDelta(vt.max,ht,xt,Ct,St)}function removeAxisTransforms(vt,ht,[xt,_t,St],wt,At){removeAxisDelta(vt,ht[xt],ht[_t],ht[St],ht.scale,wt,At)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(vt,ht,xt,_t){removeAxisTransforms(vt.x,ht,xKeys,xt?xt.x:void 0,_t?_t.x:void 0),removeAxisTransforms(vt.y,ht,yKeys,xt?xt.y:void 0,_t?_t.y:void 0)}function isAxisDeltaZero(vt){return vt.translate===0&&vt.scale===1}function isDeltaZero(vt){return isAxisDeltaZero(vt.x)&&isAxisDeltaZero(vt.y)}function axisEquals(vt,ht){return vt.min===ht.min&&vt.max===ht.max}function boxEquals(vt,ht){return axisEquals(vt.x,ht.x)&&axisEquals(vt.y,ht.y)}function axisEqualsRounded(vt,ht){return Math.round(vt.min)===Math.round(ht.min)&&Math.round(vt.max)===Math.round(ht.max)}function boxEqualsRounded(vt,ht){return axisEqualsRounded(vt.x,ht.x)&&axisEqualsRounded(vt.y,ht.y)}function aspectRatio(vt){return calcLength(vt.x)/calcLength(vt.y)}function axisDeltaEquals(vt,ht){return vt.translate===ht.translate&&vt.scale===ht.scale&&vt.originPoint===ht.originPoint}class NodeStack{constructor(){this.members=[]}add(ht){addUniqueItem(this.members,ht),ht.scheduleRender()}remove(ht){if(removeItem(this.members,ht),ht===this.prevLead&&(this.prevLead=void 0),ht===this.lead){const xt=this.members[this.members.length-1];xt&&this.promote(xt)}}relegate(ht){const xt=this.members.findIndex(St=>ht===St);if(xt===0)return!1;let _t;for(let St=xt;St>=0;St--){const wt=this.members[St];if(wt.isPresent!==!1){_t=wt;break}}return _t?(this.promote(_t),!0):!1}promote(ht,xt){const _t=this.lead;if(ht!==_t&&(this.prevLead=_t,this.lead=ht,ht.show(),_t)){_t.instance&&_t.scheduleRender(),ht.scheduleRender(),ht.resumeFrom=_t,xt&&(ht.resumeFrom.preserveOpacity=!0),_t.snapshot&&(ht.snapshot=_t.snapshot,ht.snapshot.latestValues=_t.animationValues||_t.latestValues),ht.root&&ht.root.isUpdating&&(ht.isLayoutDirty=!0);const{crossfade:St}=ht.options;St===!1&&_t.hide()}}exitAnimationComplete(){this.members.forEach(ht=>{const{options:xt,resumingFrom:_t}=ht;xt.onExitComplete&&xt.onExitComplete(),_t&&_t.options.onExitComplete&&_t.options.onExitComplete()})}scheduleRender(){this.members.forEach(ht=>{ht.instance&&ht.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(vt,ht,xt){let _t="";const St=vt.x.translate/ht.x,wt=vt.y.translate/ht.y,At=(xt==null?void 0:xt.z)||0;if((St||wt||At)&&(_t=`translate3d(${St}px, ${wt}px, ${At}px) `),(ht.x!==1||ht.y!==1)&&(_t+=`scale(${1/ht.x}, ${1/ht.y}) `),xt){const{transformPerspective:It,rotate:Lt,rotateX:kt,rotateY:Dt,skewX:$t,skewY:Ot}=xt;It&&(_t=`perspective(${It}px) ${_t}`),Lt&&(_t+=`rotate(${Lt}deg) `),kt&&(_t+=`rotateX(${kt}deg) `),Dt&&(_t+=`rotateY(${Dt}deg) `),$t&&(_t+=`skewX(${$t}deg) `),Ot&&(_t+=`skewY(${Ot}deg) `)}const Ct=vt.x.scale*ht.x,Rt=vt.y.scale*ht.y;return(Ct!==1||Rt!==1)&&(_t+=`scale(${Ct}, ${Rt})`),_t||"none"}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(vt,ht,xt,_t){const{latestValues:St}=ht;St[vt]&&(xt[vt]=St[vt],ht.setStaticValue(vt,0),_t&&(_t[vt]=0))}function cancelTreeOptimisedTransformAnimations(vt){if(vt.hasCheckedOptimisedAppear=!0,vt.root===vt)return;const{visualElement:ht}=vt.options;if(!ht)return;const xt=getOptimisedAppearId(ht);if(window.MotionHasOptimisedAnimation(xt,"transform")){const{layout:St,layoutId:wt}=vt.options;window.MotionCancelOptimisedAnimation(xt,"transform",frame,!(St||wt))}const{parent:_t}=vt;_t&&!_t.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(_t)}function createProjectionNode({attachResizeListener:vt,defaultParent:ht,measureScroll:xt,checkIsScrollRoot:_t,resetTransform:St}){return class{constructor(At={},Ct=ht==null?void 0:ht()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=At,this.root=Ct?Ct.root||Ct:this,this.path=Ct?[...Ct.path,Ct]:[],this.parent=Ct,this.depth=Ct?Ct.depth+1:0;for(let Rt=0;Rt<this.path.length;Rt++)this.path[Rt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(At,Ct){return this.eventHandlers.has(At)||this.eventHandlers.set(At,new SubscriptionManager),this.eventHandlers.get(At).add(Ct)}notifyListeners(At,...Ct){const Rt=this.eventHandlers.get(At);Rt&&Rt.notify(...Ct)}hasListeners(At){return this.eventHandlers.has(At)}mount(At,Ct=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(At),this.instance=At;const{layoutId:Rt,layout:It,visualElement:Lt}=this.options;if(Lt&&!Lt.current&&Lt.mount(At),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),Ct&&(It||Rt)&&(this.isLayoutDirty=!0),vt){let kt;const Dt=()=>this.root.updateBlockedByResize=!1;vt(At,()=>{this.root.updateBlockedByResize=!0,kt&&kt(),kt=delay(Dt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}Rt&&this.root.registerSharedNode(Rt,this),this.options.animate!==!1&&Lt&&(Rt||It)&&this.addEventListener("didUpdate",({delta:kt,hasLayoutChanged:Dt,hasRelativeTargetChanged:$t,layout:Ot})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const zt=this.options.transition||Lt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Gt,onLayoutAnimationComplete:Bt}=Lt.getProps(),Ut=!this.targetLayout||!boxEqualsRounded(this.targetLayout,Ot)||$t,Vt=!Dt&&$t;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Vt||Dt&&(Ut||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(kt,Vt);const Ht={...getValueTransition(zt,"layout"),onPlay:Gt,onComplete:Bt};(Lt.shouldReduceMotion||this.options.layoutRoot)&&(Ht.delay=0,Ht.type=!1),this.startAnimation(Ht)}else Dt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Ot})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const At=this.getStack();At&&At.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:At}=this.options;return At&&At.getProps().transformTemplate}willUpdate(At=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Lt=0;Lt<this.path.length;Lt++){const kt=this.path[Lt];kt.shouldResetTransform=!0,kt.updateScroll("snapshot"),kt.options.layoutRoot&&kt.willUpdate(!1)}const{layoutId:Ct,layout:Rt}=this.options;if(Ct===void 0&&!Rt)return;const It=this.getTransformTemplate();this.prevTransformTemplateValue=It?It(this.latestValues,""):void 0,this.updateSnapshot(),At&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const Ct=time.now();frameData.delta=clamp$2(0,1e3/60,Ct-frameData.timestamp),frameData.timestamp=Ct,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Rt=0;Rt<this.path.length;Rt++)this.path[Rt].updateScroll();const At=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:Ct}=this.options;Ct&&Ct.notify("LayoutMeasure",this.layout.layoutBox,At?At.layoutBox:void 0)}updateScroll(At="measure"){let Ct=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===At&&(Ct=!1),Ct){const Rt=_t(this.instance);this.scroll={animationId:this.root.animationId,phase:At,isRoot:Rt,offset:xt(this.instance),wasRoot:this.scroll?this.scroll.isRoot:Rt}}}resetTransform(){if(!St)return;const At=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,Ct=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Rt=this.getTransformTemplate(),It=Rt?Rt(this.latestValues,""):void 0,Lt=It!==this.prevTransformTemplateValue;At&&(Ct||hasTransform(this.latestValues)||Lt)&&(St(this.instance,It),this.shouldResetTransform=!1,this.scheduleRender())}measure(At=!0){const Ct=this.measurePageBox();let Rt=this.removeElementScroll(Ct);return At&&(Rt=this.removeTransform(Rt)),roundBox(Rt),{animationId:this.root.animationId,measuredBox:Ct,layoutBox:Rt,latestValues:{},source:this.id}}measurePageBox(){var At;const{visualElement:Ct}=this.options;if(!Ct)return createBox();const Rt=Ct.measureViewportBox();if(!(((At=this.scroll)===null||At===void 0?void 0:At.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:Lt}=this.root;Lt&&(translateAxis(Rt.x,Lt.offset.x),translateAxis(Rt.y,Lt.offset.y))}return Rt}removeElementScroll(At){var Ct;const Rt=createBox();if(copyBoxInto(Rt,At),!((Ct=this.scroll)===null||Ct===void 0)&&Ct.wasRoot)return Rt;for(let It=0;It<this.path.length;It++){const Lt=this.path[It],{scroll:kt,options:Dt}=Lt;Lt!==this.root&&kt&&Dt.layoutScroll&&(kt.wasRoot&&copyBoxInto(Rt,At),translateAxis(Rt.x,kt.offset.x),translateAxis(Rt.y,kt.offset.y))}return Rt}applyTransform(At,Ct=!1){const Rt=createBox();copyBoxInto(Rt,At);for(let It=0;It<this.path.length;It++){const Lt=this.path[It];!Ct&&Lt.options.layoutScroll&&Lt.scroll&&Lt!==Lt.root&&transformBox(Rt,{x:-Lt.scroll.offset.x,y:-Lt.scroll.offset.y}),hasTransform(Lt.latestValues)&&transformBox(Rt,Lt.latestValues)}return hasTransform(this.latestValues)&&transformBox(Rt,this.latestValues),Rt}removeTransform(At){const Ct=createBox();copyBoxInto(Ct,At);for(let Rt=0;Rt<this.path.length;Rt++){const It=this.path[Rt];if(!It.instance||!hasTransform(It.latestValues))continue;hasScale(It.latestValues)&&It.updateSnapshot();const Lt=createBox(),kt=It.measurePageBox();copyBoxInto(Lt,kt),removeBoxTransforms(Ct,It.latestValues,It.snapshot?It.snapshot.layoutBox:void 0,Lt)}return hasTransform(this.latestValues)&&removeBoxTransforms(Ct,this.latestValues),Ct}setTargetDelta(At){this.targetDelta=At,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(At){this.options={...this.options,...At,crossfade:At.crossfade!==void 0?At.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(At=!1){var Ct;const Rt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=Rt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=Rt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=Rt.isSharedProjectionDirty);const It=!!this.resumingFrom||this!==Rt;if(!(At||It&&this.isSharedProjectionDirty||this.isProjectionDirty||!((Ct=this.parent)===null||Ct===void 0)&&Ct.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:kt,layoutId:Dt}=this.options;if(!(!this.layout||!(kt||Dt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const $t=this.getClosestProjectingParent();$t&&$t.layout&&this.animationProgress!==1?(this.relativeParent=$t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,$t.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const $t=this.getClosestProjectingParent();$t&&!!$t.resumingFrom==!!this.resumingFrom&&!$t.options.layoutScroll&&$t.target&&this.animationProgress!==1?(this.relativeParent=$t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,$t.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var At;const Ct=this.getLead(),Rt=!!this.resumingFrom||this!==Ct;let It=!0;if((this.isProjectionDirty||!((At=this.parent)===null||At===void 0)&&At.isProjectionDirty)&&(It=!1),Rt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(It=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(It=!1),It)return;const{layout:Lt,layoutId:kt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Lt||kt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const Dt=this.treeScale.x,$t=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Rt),Ct.layout&&!Ct.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(Ct.target=Ct.layout.layoutBox,Ct.targetWithTransforms=createBox());const{target:Ot}=Ct;if(!Ot){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,Ot,this.latestValues),(this.treeScale.x!==Dt||this.treeScale.y!==$t||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Ot)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(At=!0){var Ct;if((Ct=this.options.visualElement)===null||Ct===void 0||Ct.scheduleRender(),At){const Rt=this.getStack();Rt&&Rt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(At,Ct=!1){const Rt=this.snapshot,It=Rt?Rt.latestValues:{},Lt={...this.latestValues},kt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!Ct;const Dt=createBox(),$t=Rt?Rt.source:void 0,Ot=this.layout?this.layout.source:void 0,zt=$t!==Ot,Gt=this.getStack(),Bt=!Gt||Gt.members.length<=1,Ut=!!(zt&&!Bt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Vt;this.mixTargetDelta=Ht=>{const Xt=Ht/1e3;mixAxisDelta(kt.x,At.x,Xt),mixAxisDelta(kt.y,At.y,Xt),this.setTargetDelta(kt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(Dt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,Dt,Xt),Vt&&boxEquals(this.relativeTarget,Vt)&&(this.isProjectionDirty=!1),Vt||(Vt=createBox()),copyBoxInto(Vt,this.relativeTarget)),zt&&(this.animationValues=Lt,mixValues(Lt,It,this.latestValues,Xt,Ut,Bt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Xt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(At){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...At,onUpdate:Ct=>{this.mixTargetDelta(Ct),At.onUpdate&&At.onUpdate(Ct)},onComplete:()=>{At.onComplete&&At.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const At=this.getStack();At&&At.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const At=this.getLead();let{targetWithTransforms:Ct,target:Rt,layout:It,latestValues:Lt}=At;if(!(!Ct||!Rt||!It)){if(this!==At&&this.layout&&It&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,It.layoutBox)){Rt=this.target||createBox();const kt=calcLength(this.layout.layoutBox.x);Rt.x.min=At.target.x.min,Rt.x.max=Rt.x.min+kt;const Dt=calcLength(this.layout.layoutBox.y);Rt.y.min=At.target.y.min,Rt.y.max=Rt.y.min+Dt}copyBoxInto(Ct,Rt),transformBox(Ct,Lt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,Ct,Lt)}}registerSharedNode(At,Ct){this.sharedNodes.has(At)||this.sharedNodes.set(At,new NodeStack),this.sharedNodes.get(At).add(Ct);const It=Ct.options.initialPromotionConfig;Ct.promote({transition:It?It.transition:void 0,preserveFollowOpacity:It&&It.shouldPreserveFollowOpacity?It.shouldPreserveFollowOpacity(Ct):void 0})}isLead(){const At=this.getStack();return At?At.lead===this:!0}getLead(){var At;const{layoutId:Ct}=this.options;return Ct?((At=this.getStack())===null||At===void 0?void 0:At.lead)||this:this}getPrevLead(){var At;const{layoutId:Ct}=this.options;return Ct?(At=this.getStack())===null||At===void 0?void 0:At.prevLead:void 0}getStack(){const{layoutId:At}=this.options;if(At)return this.root.sharedNodes.get(At)}promote({needsReset:At,transition:Ct,preserveFollowOpacity:Rt}={}){const It=this.getStack();It&&It.promote(this,Rt),At&&(this.projectionDelta=void 0,this.needsReset=!0),Ct&&this.setOptions({transition:Ct})}relegate(){const At=this.getStack();return At?At.relegate(this):!1}resetSkewAndRotation(){const{visualElement:At}=this.options;if(!At)return;let Ct=!1;const{latestValues:Rt}=At;if((Rt.z||Rt.rotate||Rt.rotateX||Rt.rotateY||Rt.rotateZ||Rt.skewX||Rt.skewY)&&(Ct=!0),!Ct)return;const It={};Rt.z&&resetDistortingTransform("z",At,It,this.animationValues);for(let Lt=0;Lt<transformAxes.length;Lt++)resetDistortingTransform(`rotate${transformAxes[Lt]}`,At,It,this.animationValues),resetDistortingTransform(`skew${transformAxes[Lt]}`,At,It,this.animationValues);At.render();for(const Lt in It)At.setStaticValue(Lt,It[Lt]),this.animationValues&&(this.animationValues[Lt]=It[Lt]);At.scheduleRender()}getProjectionStyles(At){var Ct,Rt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const It={visibility:""},Lt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,It.opacity="",It.pointerEvents=resolveMotionValue(At==null?void 0:At.pointerEvents)||"",It.transform=Lt?Lt(this.latestValues,""):"none",It;const kt=this.getLead();if(!this.projectionDelta||!this.layout||!kt.target){const zt={};return this.options.layoutId&&(zt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,zt.pointerEvents=resolveMotionValue(At==null?void 0:At.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(zt.transform=Lt?Lt({},""):"none",this.hasProjected=!1),zt}const Dt=kt.animationValues||kt.latestValues;this.applyTransformsToTarget(),It.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,Dt),Lt&&(It.transform=Lt(Dt,It.transform));const{x:$t,y:Ot}=this.projectionDelta;It.transformOrigin=`${$t.origin*100}% ${Ot.origin*100}% 0`,kt.animationValues?It.opacity=kt===this?(Rt=(Ct=Dt.opacity)!==null&&Ct!==void 0?Ct:this.latestValues.opacity)!==null&&Rt!==void 0?Rt:1:this.preserveOpacity?this.latestValues.opacity:Dt.opacityExit:It.opacity=kt===this?Dt.opacity!==void 0?Dt.opacity:"":Dt.opacityExit!==void 0?Dt.opacityExit:0;for(const zt in scaleCorrectors){if(Dt[zt]===void 0)continue;const{correct:Gt,applyTo:Bt}=scaleCorrectors[zt],Ut=It.transform==="none"?Dt[zt]:Gt(Dt[zt],kt);if(Bt){const Vt=Bt.length;for(let Ht=0;Ht<Vt;Ht++)It[Bt[Ht]]=Ut}else It[zt]=Ut}return this.options.layoutId&&(It.pointerEvents=kt===this?resolveMotionValue(At==null?void 0:At.pointerEvents)||"":"none"),It}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(At=>{var Ct;return(Ct=At.currentAnimation)===null||Ct===void 0?void 0:Ct.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(vt){vt.updateLayout()}function notifyLayoutUpdate(vt){var ht;const xt=((ht=vt.resumeFrom)===null||ht===void 0?void 0:ht.snapshot)||vt.snapshot;if(vt.isLead()&&vt.layout&&xt&&vt.hasListeners("didUpdate")){const{layoutBox:_t,measuredBox:St}=vt.layout,{animationType:wt}=vt.options,At=xt.source!==vt.layout.source;wt==="size"?eachAxis(kt=>{const Dt=At?xt.measuredBox[kt]:xt.layoutBox[kt],$t=calcLength(Dt);Dt.min=_t[kt].min,Dt.max=Dt.min+$t}):shouldAnimatePositionOnly(wt,xt.layoutBox,_t)&&eachAxis(kt=>{const Dt=At?xt.measuredBox[kt]:xt.layoutBox[kt],$t=calcLength(_t[kt]);Dt.max=Dt.min+$t,vt.relativeTarget&&!vt.currentAnimation&&(vt.isProjectionDirty=!0,vt.relativeTarget[kt].max=vt.relativeTarget[kt].min+$t)});const Ct=createDelta();calcBoxDelta(Ct,_t,xt.layoutBox);const Rt=createDelta();At?calcBoxDelta(Rt,vt.applyTransform(St,!0),xt.measuredBox):calcBoxDelta(Rt,_t,xt.layoutBox);const It=!isDeltaZero(Ct);let Lt=!1;if(!vt.resumeFrom){const kt=vt.getClosestProjectingParent();if(kt&&!kt.resumeFrom){const{snapshot:Dt,layout:$t}=kt;if(Dt&&$t){const Ot=createBox();calcRelativePosition(Ot,xt.layoutBox,Dt.layoutBox);const zt=createBox();calcRelativePosition(zt,_t,$t.layoutBox),boxEqualsRounded(Ot,zt)||(Lt=!0),kt.options.layoutRoot&&(vt.relativeTarget=zt,vt.relativeTargetOrigin=Ot,vt.relativeParent=kt)}}}vt.notifyListeners("didUpdate",{layout:_t,snapshot:xt,delta:Rt,layoutDelta:Ct,hasLayoutChanged:It,hasRelativeTargetChanged:Lt})}else if(vt.isLead()){const{onExitComplete:_t}=vt.options;_t&&_t()}vt.options.transition=void 0}function propagateDirtyNodes(vt){isDebug&&metrics.totalNodes++,vt.parent&&(vt.isProjecting()||(vt.isProjectionDirty=vt.parent.isProjectionDirty),vt.isSharedProjectionDirty||(vt.isSharedProjectionDirty=!!(vt.isProjectionDirty||vt.parent.isProjectionDirty||vt.parent.isSharedProjectionDirty)),vt.isTransformDirty||(vt.isTransformDirty=vt.parent.isTransformDirty))}function cleanDirtyNodes(vt){vt.isProjectionDirty=vt.isSharedProjectionDirty=vt.isTransformDirty=!1}function clearSnapshot(vt){vt.clearSnapshot()}function clearMeasurements(vt){vt.clearMeasurements()}function clearIsLayoutDirty(vt){vt.isLayoutDirty=!1}function resetTransformStyle(vt){const{visualElement:ht}=vt.options;ht&&ht.getProps().onBeforeLayoutMeasure&&ht.notify("BeforeLayoutMeasure"),vt.resetTransform()}function finishAnimation(vt){vt.finishAnimation(),vt.targetDelta=vt.relativeTarget=vt.target=void 0,vt.isProjectionDirty=!0}function resolveTargetDelta(vt){vt.resolveTargetDelta()}function calcProjection(vt){vt.calcProjection()}function resetSkewAndRotation(vt){vt.resetSkewAndRotation()}function removeLeadSnapshots(vt){vt.removeLeadSnapshot()}function mixAxisDelta(vt,ht,xt){vt.translate=mixNumber$1(ht.translate,0,xt),vt.scale=mixNumber$1(ht.scale,1,xt),vt.origin=ht.origin,vt.originPoint=ht.originPoint}function mixAxis(vt,ht,xt,_t){vt.min=mixNumber$1(ht.min,xt.min,_t),vt.max=mixNumber$1(ht.max,xt.max,_t)}function mixBox(vt,ht,xt,_t){mixAxis(vt.x,ht.x,xt.x,_t),mixAxis(vt.y,ht.y,xt.y,_t)}function hasOpacityCrossfade(vt){return vt.animationValues&&vt.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=vt=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(vt),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(vt){vt.min=roundPoint(vt.min),vt.max=roundPoint(vt.max)}function roundBox(vt){roundAxis(vt.x),roundAxis(vt.y)}function shouldAnimatePositionOnly(vt,ht,xt){return vt==="position"||vt==="preserve-aspect"&&!isNear(aspectRatio(ht),aspectRatio(xt),.2)}function checkNodeWasScrollRoot(vt){var ht;return vt!==vt.root&&((ht=vt.scroll)===null||ht===void 0?void 0:ht.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(vt,ht)=>addDomEvent(vt,"resize",ht),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:vt=>({x:vt.scrollLeft,y:vt.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const vt=new DocumentProjectionNode({});vt.mount(window),vt.setOptions({layoutScroll:!0}),rootProjectionNode.current=vt}return rootProjectionNode.current},resetTransform:(vt,ht)=>{vt.style.transform=ht!==void 0?ht:"none"},checkIsScrollRoot:vt=>window.getComputedStyle(vt).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(vt,ht,xt){const{props:_t}=vt;vt.animationState&&_t.whileHover&&vt.animationState.setActive("whileHover",xt==="Start");const St="onHover"+xt,wt=_t[St];wt&&frame.postRender(()=>wt(ht,extractEventInfo(ht)))}class HoverGesture extends Feature{mount(){const{current:ht}=this.node;ht&&(this.unmount=hover(ht,xt=>(handleHoverEvent(this.node,xt,"Start"),_t=>handleHoverEvent(this.node,_t,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let ht=!1;try{ht=this.node.current.matches(":focus-visible")}catch{ht=!0}!ht||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(vt,ht,xt){const{props:_t}=vt;vt.animationState&&_t.whileTap&&vt.animationState.setActive("whileTap",xt==="Start");const St="onTap"+(xt==="End"?"":xt),wt=_t[St];wt&&frame.postRender(()=>wt(ht,extractEventInfo(ht)))}class PressGesture extends Feature{mount(){const{current:ht}=this.node;ht&&(this.unmount=press(ht,xt=>(handlePressEvent(this.node,xt,"Start"),(_t,{success:St})=>handlePressEvent(this.node,_t,St?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=vt=>{const ht=observerCallbacks.get(vt.target);ht&&ht(vt)},fireAllObserverCallbacks=vt=>{vt.forEach(fireObserverCallback)};function initIntersectionObserver({root:vt,...ht}){const xt=vt||document;observers.has(xt)||observers.set(xt,{});const _t=observers.get(xt),St=JSON.stringify(ht);return _t[St]||(_t[St]=new IntersectionObserver(fireAllObserverCallbacks,{root:vt,...ht})),_t[St]}function observeIntersection(vt,ht,xt){const _t=initIntersectionObserver(ht);return observerCallbacks.set(vt,xt),_t.observe(vt),()=>{observerCallbacks.delete(vt),_t.unobserve(vt)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:ht={}}=this.node.getProps(),{root:xt,margin:_t,amount:St="some",once:wt}=ht,At={root:xt?xt.current:void 0,rootMargin:_t,threshold:typeof St=="number"?St:thresholdNames[St]},Ct=Rt=>{const{isIntersecting:It}=Rt;if(this.isInView===It||(this.isInView=It,wt&&!It&&this.hasEnteredView))return;It&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",It);const{onViewportEnter:Lt,onViewportLeave:kt}=this.node.getProps(),Dt=It?Lt:kt;Dt&&Dt(Rt)};return observeIntersection(this.node.current,At,Ct)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:ht,prevProps:xt}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(ht,xt))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:vt={}},{viewport:ht={}}={}){return xt=>vt[xt]!==ht[xt]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const vt=window.matchMedia("(prefers-reduced-motion)"),ht=()=>prefersReducedMotion.current=vt.matches;vt.addListener(ht),ht()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=vt=>valueTypes.find(testValueType(vt)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(vt,ht,xt){for(const _t in ht){const St=ht[_t],wt=xt[_t];if(isMotionValue(St))vt.addValue(_t,St);else if(isMotionValue(wt))vt.addValue(_t,motionValue(St,{owner:vt}));else if(wt!==St)if(vt.hasValue(_t)){const At=vt.getValue(_t);At.liveStyle===!0?At.jump(St):At.hasAnimated||At.set(St)}else{const At=vt.getStaticValue(_t);vt.addValue(_t,motionValue(At!==void 0?At:St,{owner:vt}))}}for(const _t in xt)ht[_t]===void 0&&vt.removeValue(_t);return ht}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(ht,xt,_t){return{}}constructor({parent:ht,props:xt,presenceContext:_t,reducedMotionConfig:St,blockInitialAnimation:wt,visualState:At},Ct={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const $t=time.now();this.renderScheduledAt<$t&&(this.renderScheduledAt=$t,frame.render(this.render,!1,!0))};const{latestValues:Rt,renderState:It,onUpdate:Lt}=At;this.onUpdate=Lt,this.latestValues=Rt,this.baseTarget={...Rt},this.initialValues=xt.initial?{...Rt}:{},this.renderState=It,this.parent=ht,this.props=xt,this.presenceContext=_t,this.depth=ht?ht.depth+1:0,this.reducedMotionConfig=St,this.options=Ct,this.blockInitialAnimation=!!wt,this.isControllingVariants=isControllingVariants(xt),this.isVariantNode=isVariantNode(xt),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(ht&&ht.current);const{willChange:kt,...Dt}=this.scrapeMotionValuesFromProps(xt,{},this);for(const $t in Dt){const Ot=Dt[$t];Rt[$t]!==void 0&&isMotionValue(Ot)&&Ot.set(Rt[$t],!1)}}mount(ht){this.current=ht,visualElementStore.set(ht,this),this.projection&&!this.projection.instance&&this.projection.mount(ht),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((xt,_t)=>this.bindToMotionValue(_t,xt)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(ht=>ht()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const ht in this.events)this.events[ht].clear();for(const ht in this.features){const xt=this.features[ht];xt&&(xt.unmount(),xt.isMounted=!1)}this.current=null}bindToMotionValue(ht,xt){this.valueSubscriptions.has(ht)&&this.valueSubscriptions.get(ht)();const _t=transformProps.has(ht),St=xt.on("change",Ct=>{this.latestValues[ht]=Ct,this.props.onUpdate&&frame.preRender(this.notifyUpdate),_t&&this.projection&&(this.projection.isTransformDirty=!0)}),wt=xt.on("renderRequest",this.scheduleRender);let At;window.MotionCheckAppearSync&&(At=window.MotionCheckAppearSync(this,ht,xt)),this.valueSubscriptions.set(ht,()=>{St(),wt(),At&&At(),xt.owner&&xt.stop()})}sortNodePosition(ht){return!this.current||!this.sortInstanceNodePosition||this.type!==ht.type?0:this.sortInstanceNodePosition(this.current,ht.current)}updateFeatures(){let ht="animation";for(ht in featureDefinitions){const xt=featureDefinitions[ht];if(!xt)continue;const{isEnabled:_t,Feature:St}=xt;if(!this.features[ht]&&St&&_t(this.props)&&(this.features[ht]=new St(this)),this.features[ht]){const wt=this.features[ht];wt.isMounted?wt.update():(wt.mount(),wt.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(ht){return this.latestValues[ht]}setStaticValue(ht,xt){this.latestValues[ht]=xt}update(ht,xt){(ht.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=ht,this.prevPresenceContext=this.presenceContext,this.presenceContext=xt;for(let _t=0;_t<propEventHandlers.length;_t++){const St=propEventHandlers[_t];this.propEventSubscriptions[St]&&(this.propEventSubscriptions[St](),delete this.propEventSubscriptions[St]);const wt="on"+St,At=ht[wt];At&&(this.propEventSubscriptions[St]=this.on(St,At))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(ht,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(ht){return this.props.variants?this.props.variants[ht]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(ht){const xt=this.getClosestVariantNode();if(xt)return xt.variantChildren&&xt.variantChildren.add(ht),()=>xt.variantChildren.delete(ht)}addValue(ht,xt){const _t=this.values.get(ht);xt!==_t&&(_t&&this.removeValue(ht),this.bindToMotionValue(ht,xt),this.values.set(ht,xt),this.latestValues[ht]=xt.get())}removeValue(ht){this.values.delete(ht);const xt=this.valueSubscriptions.get(ht);xt&&(xt(),this.valueSubscriptions.delete(ht)),delete this.latestValues[ht],this.removeValueFromRenderState(ht,this.renderState)}hasValue(ht){return this.values.has(ht)}getValue(ht,xt){if(this.props.values&&this.props.values[ht])return this.props.values[ht];let _t=this.values.get(ht);return _t===void 0&&xt!==void 0&&(_t=motionValue(xt===null?void 0:xt,{owner:this}),this.addValue(ht,_t)),_t}readValue(ht,xt){var _t;let St=this.latestValues[ht]!==void 0||!this.current?this.latestValues[ht]:(_t=this.getBaseTargetFromProps(this.props,ht))!==null&&_t!==void 0?_t:this.readValueFromInstance(this.current,ht,this.options);return St!=null&&(typeof St=="string"&&(isNumericalString(St)||isZeroValueString(St))?St=parseFloat(St):!findValueType(St)&&complex.test(xt)&&(St=getAnimatableNone(ht,xt)),this.setBaseTarget(ht,isMotionValue(St)?St.get():St)),isMotionValue(St)?St.get():St}setBaseTarget(ht,xt){this.baseTarget[ht]=xt}getBaseTarget(ht){var xt;const{initial:_t}=this.props;let St;if(typeof _t=="string"||typeof _t=="object"){const At=resolveVariantFromProps(this.props,_t,(xt=this.presenceContext)===null||xt===void 0?void 0:xt.custom);At&&(St=At[ht])}if(_t&&St!==void 0)return St;const wt=this.getBaseTargetFromProps(this.props,ht);return wt!==void 0&&!isMotionValue(wt)?wt:this.initialValues[ht]!==void 0&&St===void 0?void 0:this.baseTarget[ht]}on(ht,xt){return this.events[ht]||(this.events[ht]=new SubscriptionManager),this.events[ht].add(xt)}notify(ht,...xt){this.events[ht]&&this.events[ht].notify(...xt)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(ht,xt){return ht.compareDocumentPosition(xt)&2?1:-1}getBaseTargetFromProps(ht,xt){return ht.style?ht.style[xt]:void 0}removeValueFromRenderState(ht,{vars:xt,style:_t}){delete xt[ht],delete _t[ht]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:ht}=this.props;isMotionValue(ht)&&(this.childSubscription=ht.on("change",xt=>{this.current&&(this.current.textContent=`${xt}`)}))}}function getComputedStyle$2(vt){return window.getComputedStyle(vt)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(ht,xt){if(transformProps.has(xt)){const _t=getDefaultValueType(xt);return _t&&_t.default||0}else{const _t=getComputedStyle$2(ht),St=(isCSSVariableName(xt)?_t.getPropertyValue(xt):_t[xt])||0;return typeof St=="string"?St.trim():St}}measureInstanceViewportBox(ht,{transformPagePoint:xt}){return measureViewportBox(ht,xt)}build(ht,xt,_t){buildHTMLStyles(ht,xt,_t.transformTemplate)}scrapeMotionValuesFromProps(ht,xt,_t){return scrapeMotionValuesFromProps$1(ht,xt,_t)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(ht,xt){return ht[xt]}readValueFromInstance(ht,xt){if(transformProps.has(xt)){const _t=getDefaultValueType(xt);return _t&&_t.default||0}return xt=camelCaseAttributes.has(xt)?xt:camelToDash(xt),ht.getAttribute(xt)}scrapeMotionValuesFromProps(ht,xt,_t){return scrapeMotionValuesFromProps(ht,xt,_t)}build(ht,xt,_t){buildSVGAttrs(ht,xt,this.isSVGTag,_t.transformTemplate)}renderInstance(ht,xt,_t,St){renderSVG(ht,xt,_t,St)}mount(ht){this.isSVGTag=isSVGTag(ht.tagName),super.mount(ht)}}const createDomVisualElement=(vt,ht)=>isSVGComponent(vt)?new SVGVisualElement(ht):new HTMLVisualElement(ht,{allowProjection:vt!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=vt=>vt.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...vt)=>vt.filter((ht,xt,_t)=>!!ht&&_t.indexOf(ht)===xt).join(" ");/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:vt="currentColor",size:ht=24,strokeWidth:xt=2,absoluteStrokeWidth:_t,className:St="",children:wt,iconNode:At,...Ct},Rt)=>reactExports.createElement("svg",{ref:Rt,...defaultAttributes,width:ht,height:ht,stroke:vt,strokeWidth:_t?Number(xt)*24/Number(ht):xt,className:mergeClasses("lucide",St),...Ct},[...At.map(([It,Lt])=>reactExports.createElement(It,Lt)),...Array.isArray(wt)?wt:[wt]]));/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(vt,ht)=>{const xt=reactExports.forwardRef(({className:_t,...St},wt)=>reactExports.createElement(Icon,{ref:wt,iconNode:ht,className:mergeClasses(`lucide-${toKebabCase(vt)}`,_t),...St}));return xt.displayName=`${vt}`,xt};/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUpRight=createLucideIcon("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BrainCircuit=createLucideIcon("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartColumn=createLucideIcon("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartNoAxesColumnIncreasing=createLucideIcon("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock$1=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CodeXml=createLucideIcon("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Github=createLucideIcon("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Headphones=createLucideIcon("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Linkedin=createLucideIcon("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Monitor=createLucideIcon("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShieldCheck=createLucideIcon("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShoppingCart=createLucideIcon("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquarePen=createLucideIcon("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Twitter=createLucideIcon("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$3=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Youtube=createLucideIcon("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Logo=()=>jsxRuntimeExports.jsxs("a",{href:"#",className:"font-satoshi font-bold text-2xl text-text-white hover:text-primary transition-colors duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-primary to-accent-blue bg-clip-text text-transparent",children:"LOG"}),jsxRuntimeExports.jsx("span",{className:"text-text-white",children:"_ON"})]}),CLASS_PART_SEPARATOR="-",createClassGroupUtils=vt=>{const ht=createClassMap(vt),{conflictingClassGroups:xt,conflictingClassGroupModifiers:_t}=vt;return{getClassGroupId:At=>{const Ct=At.split(CLASS_PART_SEPARATOR);return Ct[0]===""&&Ct.length!==1&&Ct.shift(),getGroupRecursive(Ct,ht)||getGroupIdForArbitraryProperty(At)},getConflictingClassGroupIds:(At,Ct)=>{const Rt=xt[At]||[];return Ct&&_t[At]?[...Rt,..._t[At]]:Rt}}},getGroupRecursive=(vt,ht)=>{var At;if(vt.length===0)return ht.classGroupId;const xt=vt[0],_t=ht.nextPart.get(xt),St=_t?getGroupRecursive(vt.slice(1),_t):void 0;if(St)return St;if(ht.validators.length===0)return;const wt=vt.join(CLASS_PART_SEPARATOR);return(At=ht.validators.find(({validator:Ct})=>Ct(wt)))==null?void 0:At.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=vt=>{if(arbitraryPropertyRegex.test(vt)){const ht=arbitraryPropertyRegex.exec(vt)[1],xt=ht==null?void 0:ht.substring(0,ht.indexOf(":"));if(xt)return"arbitrary.."+xt}},createClassMap=vt=>{const{theme:ht,prefix:xt}=vt,_t={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(vt.classGroups),xt).forEach(([wt,At])=>{processClassesRecursively(At,_t,wt,ht)}),_t},processClassesRecursively=(vt,ht,xt,_t)=>{vt.forEach(St=>{if(typeof St=="string"){const wt=St===""?ht:getPart(ht,St);wt.classGroupId=xt;return}if(typeof St=="function"){if(isThemeGetter(St)){processClassesRecursively(St(_t),ht,xt,_t);return}ht.validators.push({validator:St,classGroupId:xt});return}Object.entries(St).forEach(([wt,At])=>{processClassesRecursively(At,getPart(ht,wt),xt,_t)})})},getPart=(vt,ht)=>{let xt=vt;return ht.split(CLASS_PART_SEPARATOR).forEach(_t=>{xt.nextPart.has(_t)||xt.nextPart.set(_t,{nextPart:new Map,validators:[]}),xt=xt.nextPart.get(_t)}),xt},isThemeGetter=vt=>vt.isThemeGetter,getPrefixedClassGroupEntries=(vt,ht)=>ht?vt.map(([xt,_t])=>{const St=_t.map(wt=>typeof wt=="string"?ht+wt:typeof wt=="object"?Object.fromEntries(Object.entries(wt).map(([At,Ct])=>[ht+At,Ct])):wt);return[xt,St]}):vt,createLruCache=vt=>{if(vt<1)return{get:()=>{},set:()=>{}};let ht=0,xt=new Map,_t=new Map;const St=(wt,At)=>{xt.set(wt,At),ht++,ht>vt&&(ht=0,_t=xt,xt=new Map)};return{get(wt){let At=xt.get(wt);if(At!==void 0)return At;if((At=_t.get(wt))!==void 0)return St(wt,At),At},set(wt,At){xt.has(wt)?xt.set(wt,At):St(wt,At)}}},IMPORTANT_MODIFIER="!",createParseClassName=vt=>{const{separator:ht,experimentalParseClassName:xt}=vt,_t=ht.length===1,St=ht[0],wt=ht.length,At=Ct=>{const Rt=[];let It=0,Lt=0,kt;for(let Gt=0;Gt<Ct.length;Gt++){let Bt=Ct[Gt];if(It===0){if(Bt===St&&(_t||Ct.slice(Gt,Gt+wt)===ht)){Rt.push(Ct.slice(Lt,Gt)),Lt=Gt+wt;continue}if(Bt==="/"){kt=Gt;continue}}Bt==="["?It++:Bt==="]"&&It--}const Dt=Rt.length===0?Ct:Ct.substring(Lt),$t=Dt.startsWith(IMPORTANT_MODIFIER),Ot=$t?Dt.substring(1):Dt,zt=kt&&kt>Lt?kt-Lt:void 0;return{modifiers:Rt,hasImportantModifier:$t,baseClassName:Ot,maybePostfixModifierPosition:zt}};return xt?Ct=>xt({className:Ct,parseClassName:At}):At},sortModifiers=vt=>{if(vt.length<=1)return vt;const ht=[];let xt=[];return vt.forEach(_t=>{_t[0]==="["?(ht.push(...xt.sort(),_t),xt=[]):xt.push(_t)}),ht.push(...xt.sort()),ht},createConfigUtils=vt=>({cache:createLruCache(vt.cacheSize),parseClassName:createParseClassName(vt),...createClassGroupUtils(vt)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(vt,ht)=>{const{parseClassName:xt,getClassGroupId:_t,getConflictingClassGroupIds:St}=ht,wt=[],At=vt.trim().split(SPLIT_CLASSES_REGEX);let Ct="";for(let Rt=At.length-1;Rt>=0;Rt-=1){const It=At[Rt],{modifiers:Lt,hasImportantModifier:kt,baseClassName:Dt,maybePostfixModifierPosition:$t}=xt(It);let Ot=!!$t,zt=_t(Ot?Dt.substring(0,$t):Dt);if(!zt){if(!Ot){Ct=It+(Ct.length>0?" "+Ct:Ct);continue}if(zt=_t(Dt),!zt){Ct=It+(Ct.length>0?" "+Ct:Ct);continue}Ot=!1}const Gt=sortModifiers(Lt).join(":"),Bt=kt?Gt+IMPORTANT_MODIFIER:Gt,Ut=Bt+zt;if(wt.includes(Ut))continue;wt.push(Ut);const Vt=St(zt,Ot);for(let Ht=0;Ht<Vt.length;++Ht){const Xt=Vt[Ht];wt.push(Bt+Xt)}Ct=It+(Ct.length>0?" "+Ct:Ct)}return Ct};function twJoin(){let vt=0,ht,xt,_t="";for(;vt<arguments.length;)(ht=arguments[vt++])&&(xt=toValue(ht))&&(_t&&(_t+=" "),_t+=xt);return _t}const toValue=vt=>{if(typeof vt=="string")return vt;let ht,xt="";for(let _t=0;_t<vt.length;_t++)vt[_t]&&(ht=toValue(vt[_t]))&&(xt&&(xt+=" "),xt+=ht);return xt};function createTailwindMerge(vt,...ht){let xt,_t,St,wt=At;function At(Rt){const It=ht.reduce((Lt,kt)=>kt(Lt),vt());return xt=createConfigUtils(It),_t=xt.cache.get,St=xt.cache.set,wt=Ct,Ct(Rt)}function Ct(Rt){const It=_t(Rt);if(It)return It;const Lt=mergeClassList(Rt,xt);return St(Rt,Lt),Lt}return function(){return wt(twJoin.apply(null,arguments))}}const fromTheme=vt=>{const ht=xt=>xt[vt]||[];return ht.isThemeGetter=!0,ht},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=vt=>isNumber(vt)||stringLengths.has(vt)||fractionRegex.test(vt),isArbitraryLength=vt=>getIsArbitraryValue(vt,"length",isLengthOnly),isNumber=vt=>!!vt&&!Number.isNaN(Number(vt)),isArbitraryNumber=vt=>getIsArbitraryValue(vt,"number",isNumber),isInteger=vt=>!!vt&&Number.isInteger(Number(vt)),isPercent=vt=>vt.endsWith("%")&&isNumber(vt.slice(0,-1)),isArbitraryValue=vt=>arbitraryValueRegex.test(vt),isTshirtSize=vt=>tshirtUnitRegex.test(vt),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=vt=>getIsArbitraryValue(vt,sizeLabels,isNever),isArbitraryPosition=vt=>getIsArbitraryValue(vt,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=vt=>getIsArbitraryValue(vt,imageLabels,isImage),isArbitraryShadow=vt=>getIsArbitraryValue(vt,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(vt,ht,xt)=>{const _t=arbitraryValueRegex.exec(vt);return _t?_t[1]?typeof ht=="string"?_t[1]===ht:ht.has(_t[1]):xt(_t[2]):!1},isLengthOnly=vt=>lengthUnitRegex.test(vt)&&!colorFunctionRegex.test(vt),isNever=()=>!1,isShadow=vt=>shadowRegex.test(vt),isImage=vt=>imageRegex.test(vt),getDefaultConfig=()=>{const vt=fromTheme("colors"),ht=fromTheme("spacing"),xt=fromTheme("blur"),_t=fromTheme("brightness"),St=fromTheme("borderColor"),wt=fromTheme("borderRadius"),At=fromTheme("borderSpacing"),Ct=fromTheme("borderWidth"),Rt=fromTheme("contrast"),It=fromTheme("grayscale"),Lt=fromTheme("hueRotate"),kt=fromTheme("invert"),Dt=fromTheme("gap"),$t=fromTheme("gradientColorStops"),Ot=fromTheme("gradientColorStopPositions"),zt=fromTheme("inset"),Gt=fromTheme("margin"),Bt=fromTheme("opacity"),Ut=fromTheme("padding"),Vt=fromTheme("saturate"),Ht=fromTheme("scale"),Xt=fromTheme("sepia"),qt=fromTheme("skew"),Kt=fromTheme("space"),en=fromTheme("translate"),tn=()=>["auto","contain","none"],Qt=()=>["auto","hidden","clip","visible","scroll"],sn=()=>["auto",isArbitraryValue,ht],un=()=>[isArbitraryValue,ht],dn=()=>["",isLength,isArbitraryLength],vn=()=>["auto",isNumber,isArbitraryValue],pn=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],rn=()=>["solid","dashed","dotted","double","none"],an=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Yt=()=>["start","end","center","between","around","evenly","stretch"],Jt=()=>["","0",isArbitraryValue],on=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ln=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:ln(),borderColor:[vt],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:un(),borderWidth:dn(),contrast:ln(),grayscale:Jt(),hueRotate:ln(),invert:Jt(),gap:un(),gradientColorStops:[vt],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:sn(),margin:sn(),opacity:ln(),padding:un(),saturate:ln(),scale:ln(),sepia:Jt(),skew:ln(),space:un(),translate:un()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":on()}],"break-before":[{"break-before":on()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...pn(),isArbitraryValue]}],overflow:[{overflow:Qt()}],"overflow-x":[{"overflow-x":Qt()}],"overflow-y":[{"overflow-y":Qt()}],overscroll:[{overscroll:tn()}],"overscroll-x":[{"overscroll-x":tn()}],"overscroll-y":[{"overscroll-y":tn()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[zt]}],"inset-x":[{"inset-x":[zt]}],"inset-y":[{"inset-y":[zt]}],start:[{start:[zt]}],end:[{end:[zt]}],top:[{top:[zt]}],right:[{right:[zt]}],bottom:[{bottom:[zt]}],left:[{left:[zt]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:sn()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:Jt()}],shrink:[{shrink:Jt()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":vn()}],"col-end":[{"col-end":vn()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":vn()}],"row-end":[{"row-end":vn()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[Dt]}],"gap-x":[{"gap-x":[Dt]}],"gap-y":[{"gap-y":[Dt]}],"justify-content":[{justify:["normal",...Yt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Yt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Yt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[Ut]}],px:[{px:[Ut]}],py:[{py:[Ut]}],ps:[{ps:[Ut]}],pe:[{pe:[Ut]}],pt:[{pt:[Ut]}],pr:[{pr:[Ut]}],pb:[{pb:[Ut]}],pl:[{pl:[Ut]}],m:[{m:[Gt]}],mx:[{mx:[Gt]}],my:[{my:[Gt]}],ms:[{ms:[Gt]}],me:[{me:[Gt]}],mt:[{mt:[Gt]}],mr:[{mr:[Gt]}],mb:[{mb:[Gt]}],ml:[{ml:[Gt]}],"space-x":[{"space-x":[Kt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Kt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,ht]}],"min-w":[{"min-w":[isArbitraryValue,ht,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,ht,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,ht,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,ht,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,ht,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,ht,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[vt]}],"placeholder-opacity":[{"placeholder-opacity":[Bt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[vt]}],"text-opacity":[{"text-opacity":[Bt]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...rn(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[vt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:un()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[Bt]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...pn(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[vt]}],"gradient-from-pos":[{from:[Ot]}],"gradient-via-pos":[{via:[Ot]}],"gradient-to-pos":[{to:[Ot]}],"gradient-from":[{from:[$t]}],"gradient-via":[{via:[$t]}],"gradient-to":[{to:[$t]}],rounded:[{rounded:[wt]}],"rounded-s":[{"rounded-s":[wt]}],"rounded-e":[{"rounded-e":[wt]}],"rounded-t":[{"rounded-t":[wt]}],"rounded-r":[{"rounded-r":[wt]}],"rounded-b":[{"rounded-b":[wt]}],"rounded-l":[{"rounded-l":[wt]}],"rounded-ss":[{"rounded-ss":[wt]}],"rounded-se":[{"rounded-se":[wt]}],"rounded-ee":[{"rounded-ee":[wt]}],"rounded-es":[{"rounded-es":[wt]}],"rounded-tl":[{"rounded-tl":[wt]}],"rounded-tr":[{"rounded-tr":[wt]}],"rounded-br":[{"rounded-br":[wt]}],"rounded-bl":[{"rounded-bl":[wt]}],"border-w":[{border:[Ct]}],"border-w-x":[{"border-x":[Ct]}],"border-w-y":[{"border-y":[Ct]}],"border-w-s":[{"border-s":[Ct]}],"border-w-e":[{"border-e":[Ct]}],"border-w-t":[{"border-t":[Ct]}],"border-w-r":[{"border-r":[Ct]}],"border-w-b":[{"border-b":[Ct]}],"border-w-l":[{"border-l":[Ct]}],"border-opacity":[{"border-opacity":[Bt]}],"border-style":[{border:[...rn(),"hidden"]}],"divide-x":[{"divide-x":[Ct]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[Ct]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[Bt]}],"divide-style":[{divide:rn()}],"border-color":[{border:[St]}],"border-color-x":[{"border-x":[St]}],"border-color-y":[{"border-y":[St]}],"border-color-s":[{"border-s":[St]}],"border-color-e":[{"border-e":[St]}],"border-color-t":[{"border-t":[St]}],"border-color-r":[{"border-r":[St]}],"border-color-b":[{"border-b":[St]}],"border-color-l":[{"border-l":[St]}],"divide-color":[{divide:[St]}],"outline-style":[{outline:["",...rn()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[vt]}],"ring-w":[{ring:dn()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[vt]}],"ring-opacity":[{"ring-opacity":[Bt]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[vt]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[Bt]}],"mix-blend":[{"mix-blend":[...an(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":an()}],filter:[{filter:["","none"]}],blur:[{blur:[xt]}],brightness:[{brightness:[_t]}],contrast:[{contrast:[Rt]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[It]}],"hue-rotate":[{"hue-rotate":[Lt]}],invert:[{invert:[kt]}],saturate:[{saturate:[Vt]}],sepia:[{sepia:[Xt]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[xt]}],"backdrop-brightness":[{"backdrop-brightness":[_t]}],"backdrop-contrast":[{"backdrop-contrast":[Rt]}],"backdrop-grayscale":[{"backdrop-grayscale":[It]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Lt]}],"backdrop-invert":[{"backdrop-invert":[kt]}],"backdrop-opacity":[{"backdrop-opacity":[Bt]}],"backdrop-saturate":[{"backdrop-saturate":[Vt]}],"backdrop-sepia":[{"backdrop-sepia":[Xt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[At]}],"border-spacing-x":[{"border-spacing-x":[At]}],"border-spacing-y":[{"border-spacing-y":[At]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:ln()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:ln()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Ht]}],"scale-x":[{"scale-x":[Ht]}],"scale-y":[{"scale-y":[Ht]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[en]}],"translate-y":[{"translate-y":[en]}],"skew-x":[{"skew-x":[qt]}],"skew-y":[{"skew-y":[qt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",vt]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[vt]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":un()}],"scroll-mx":[{"scroll-mx":un()}],"scroll-my":[{"scroll-my":un()}],"scroll-ms":[{"scroll-ms":un()}],"scroll-me":[{"scroll-me":un()}],"scroll-mt":[{"scroll-mt":un()}],"scroll-mr":[{"scroll-mr":un()}],"scroll-mb":[{"scroll-mb":un()}],"scroll-ml":[{"scroll-ml":un()}],"scroll-p":[{"scroll-p":un()}],"scroll-px":[{"scroll-px":un()}],"scroll-py":[{"scroll-py":un()}],"scroll-ps":[{"scroll-ps":un()}],"scroll-pe":[{"scroll-pe":un()}],"scroll-pt":[{"scroll-pt":un()}],"scroll-pr":[{"scroll-pr":un()}],"scroll-pb":[{"scroll-pb":un()}],"scroll-pl":[{"scroll-pl":un()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[vt,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[vt,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig),CTAButton=({children:vt,variant:ht="primary",className:xt,..._t})=>{const St="font-inter font-medium px-6 py-3 rounded-lg transition-all duration-300 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden group",wt={primary:"bg-primary hover:bg-primary-dark text-text-white shadow-lg hover:shadow-glow hover:-translate-y-0.5 focus:ring-4 focus:ring-primary/20",secondary:"bg-bg-white-10 hover:bg-bg-white-12 text-text-white backdrop-blur-sm border border-border-white-20 hover:border-border-white-60 focus:ring-4 focus:ring-bg-white-10",accent:"bg-gradient-to-r from-accent-purple to-accent-blue text-text-white hover:shadow-glow hover:-translate-y-0.5 focus:ring-4 focus:ring-accent-purple/20",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-text-white focus:ring-4 focus:ring-primary/20"},At=ht==="secondary"?"before:absolute before:inset-0 before:bg-gradient-glass before:opacity-50":"";return jsxRuntimeExports.jsxs(motion.button,{whileHover:{y:_t.disabled?0:-2,scale:_t.disabled?1:1.02},whileTap:{scale:_t.disabled?1:.98},className:twMerge(St,wt[ht],At,xt),..._t,children:[jsxRuntimeExports.jsx("span",{className:"relative z-10",children:vt}),ht==="primary"&&jsxRuntimeExports.jsx(motion.div,{className:"absolute inset-0 bg-gradient-to-r from-primary-light to-accent-blue opacity-0 group-hover:opacity-20 transition-opacity duration-300",initial:!1})]})},$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React$1.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(vt){const ht=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{ht.current=vt},[vt]),reactExports.useCallback((...xt)=>{const _t=ht.current;return _t==null?void 0:_t(...xt)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=vt=>{var ht;return(ht=vt==null?void 0:vt.ownerDocument)!==null&&ht!==void 0?ht:document},$431fbd86ca7dc216$export$f21a1ffae260145a=vt=>vt&&"window"in vt&&vt.window===vt?vt:$431fbd86ca7dc216$export$b204af158042fbac(vt).defaultView||window;function $431fbd86ca7dc216$var$isNode(vt){return vt!==null&&typeof vt=="object"&&"nodeType"in vt&&typeof vt.nodeType=="number"}function $431fbd86ca7dc216$export$af51f0f06c0f328a(vt){return $431fbd86ca7dc216$var$isNode(vt)&&vt.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in vt}let $f4e2df6bd15f8569$var$_shadowDOM=!1;function $f4e2df6bd15f8569$export$98658e8c59125e6a(){return $f4e2df6bd15f8569$var$_shadowDOM}function $d4ee10de306f2510$export$4282f70798064fe0(vt,ht){if(!$f4e2df6bd15f8569$export$98658e8c59125e6a())return ht&&vt?vt.contains(ht):!1;if(!vt||!ht)return!1;let xt=ht;for(;xt!==null;){if(xt===vt)return!0;xt.tagName==="SLOT"&&xt.assignedSlot?xt=xt.assignedSlot.parentNode:$431fbd86ca7dc216$export$af51f0f06c0f328a(xt)?xt=xt.host:xt=xt.parentNode}return!1}const $d4ee10de306f2510$export$cd4e5573fbe2b576=(vt=document)=>{var ht;if(!$f4e2df6bd15f8569$export$98658e8c59125e6a())return vt.activeElement;let xt=vt.activeElement;for(;xt&&"shadowRoot"in xt&&(!((ht=xt.shadowRoot)===null||ht===void 0)&&ht.activeElement);)xt=xt.shadowRoot.activeElement;return xt};function $d4ee10de306f2510$export$e58f029f0fbfdb29(vt){return $f4e2df6bd15f8569$export$98658e8c59125e6a()&&vt.target.shadowRoot&&vt.composedPath?vt.composedPath()[0]:vt.target}function r$5(vt){var ht,xt,_t="";if(typeof vt=="string"||typeof vt=="number")_t+=vt;else if(typeof vt=="object")if(Array.isArray(vt)){var St=vt.length;for(ht=0;ht<St;ht++)vt[ht]&&(xt=r$5(vt[ht]))&&(_t&&(_t+=" "),_t+=xt)}else for(xt in vt)vt[xt]&&(_t&&(_t+=" "),_t+=xt);return _t}function clsx(){for(var vt,ht,xt=0,_t="",St=arguments.length;xt<St;xt++)(vt=arguments[xt])&&(ht=r$5(vt))&&(_t&&(_t+=" "),_t+=ht);return _t}function $c87311424ea30a05$var$testUserAgent(vt){var ht;return typeof window>"u"||window.navigator==null?!1:((ht=window.navigator.userAgentData)===null||ht===void 0?void 0:ht.brands.some(xt=>vt.test(xt.brand)))||vt.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(vt){var ht;return typeof window<"u"&&window.navigator!=null?vt.test(((ht=window.navigator.userAgentData)===null||ht===void 0?void 0:ht.platform)||window.navigator.platform):!1}function $c87311424ea30a05$var$cached(vt){let ht=null;return()=>(ht==null&&(ht=vt()),ht)}const $c87311424ea30a05$export$9ac100e40613ea10=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}),$c87311424ea30a05$export$a11b0059900ceec8=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testUserAgent(/Android/i)});function $03deb23ff14920c4$export$4eaf04e54aa8eed6(){let vt=reactExports.useRef(new Map),ht=reactExports.useCallback((St,wt,At,Ct)=>{let Rt=Ct!=null&&Ct.once?(...It)=>{vt.current.delete(At),At(...It)}:At;vt.current.set(At,{type:wt,eventTarget:St,fn:Rt,options:Ct}),St.addEventListener(wt,Rt,Ct)},[]),xt=reactExports.useCallback((St,wt,At,Ct)=>{var Rt;let It=((Rt=vt.current.get(At))===null||Rt===void 0?void 0:Rt.fn)||At;St.removeEventListener(wt,It,Ct),vt.current.delete(At)},[]),_t=reactExports.useCallback(()=>{vt.current.forEach((St,wt)=>{xt(St.eventTarget,St.type,wt,St.options)})},[xt]);return reactExports.useEffect(()=>_t,[_t]),{addGlobalListener:ht,removeGlobalListener:xt,removeAllGlobalListeners:_t}}function $6a7db85432448f7f$export$60278871457622de(vt){return vt.mozInputSource===0&&vt.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&vt.pointerType?vt.type==="click"&&vt.buttons===1:vt.detail===0&&!vt.pointerType}function $8a9cb279dc87e130$export$525bc4921d56d4a(vt){let ht=vt;return ht.nativeEvent=vt,ht.isDefaultPrevented=()=>ht.defaultPrevented,ht.isPropagationStopped=()=>ht.cancelBubble,ht.persist=()=>{},ht}function $8a9cb279dc87e130$export$c2b7abe5d61ec696(vt,ht){Object.defineProperty(vt,"target",{value:ht}),Object.defineProperty(vt,"currentTarget",{value:ht})}function $8a9cb279dc87e130$export$715c682d09d639cc(vt){let ht=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const _t=ht.current;return()=>{_t.observer&&(_t.observer.disconnect(),_t.observer=null)}},[]);let xt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(_t=>{vt==null||vt(_t)});return reactExports.useCallback(_t=>{if(_t.target instanceof HTMLButtonElement||_t.target instanceof HTMLInputElement||_t.target instanceof HTMLTextAreaElement||_t.target instanceof HTMLSelectElement){ht.current.isFocused=!0;let St=_t.target,wt=At=>{if(ht.current.isFocused=!1,St.disabled){let Ct=$8a9cb279dc87e130$export$525bc4921d56d4a(At);xt(Ct)}ht.current.observer&&(ht.current.observer.disconnect(),ht.current.observer=null)};St.addEventListener("focusout",wt,{once:!0}),ht.current.observer=new MutationObserver(()=>{if(ht.current.isFocused&&St.disabled){var At;(At=ht.current.observer)===null||At===void 0||At.disconnect();let Ct=St===document.activeElement?null:document.activeElement;St.dispatchEvent(new FocusEvent("blur",{relatedTarget:Ct})),St.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:Ct}))}}),ht.current.observer.observe(St,{attributes:!0,attributeFilter:["disabled"]})}},[xt])}let $8a9cb279dc87e130$export$fda7da73ab5d4c48=!1,$507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(vt,ht){for(let xt of $507fabe10e71c6fb$var$changeHandlers)xt(vt,ht)}function $507fabe10e71c6fb$var$isValidKey(vt){return!(vt.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&vt.altKey||vt.ctrlKey||vt.key==="Control"||vt.key==="Shift"||vt.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(vt){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(vt)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",vt))}function $507fabe10e71c6fb$var$handlePointerEvent(vt){$507fabe10e71c6fb$var$currentModality="pointer",(vt.type==="mousedown"||vt.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",vt))}function $507fabe10e71c6fb$var$handleClickEvent(vt){$6a7db85432448f7f$export$60278871457622de(vt)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(vt){vt.target===window||vt.target===document||$8a9cb279dc87e130$export$fda7da73ab5d4c48||!vt.isTrusted||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",vt)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(vt){if(typeof window>"u"||typeof document>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(vt)))return;const ht=$431fbd86ca7dc216$export$f21a1ffae260145a(vt),xt=$431fbd86ca7dc216$export$b204af158042fbac(vt);let _t=ht.HTMLElement.prototype.focus;ht.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,_t.apply(this,arguments)},xt.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),xt.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),xt.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),ht.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),ht.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"&&(xt.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),ht.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(vt)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set(ht,{focus:_t})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(vt,ht)=>{const xt=$431fbd86ca7dc216$export$f21a1ffae260145a(vt),_t=$431fbd86ca7dc216$export$b204af158042fbac(vt);ht&&_t.removeEventListener("DOMContentLoaded",ht),$507fabe10e71c6fb$export$d90243b58daecda7.has(xt)&&(xt.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(xt).focus,_t.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),_t.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),_t.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),xt.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),xt.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"&&(_t.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),_t.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),_t.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(xt))};function $507fabe10e71c6fb$export$2f1888112f558a7d(vt){const ht=$431fbd86ca7dc216$export$b204af158042fbac(vt);let xt;return ht.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(vt):(xt=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(vt)},ht.addEventListener("DOMContentLoaded",xt)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(vt,xt)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(vt,ht,xt){let _t=$431fbd86ca7dc216$export$b204af158042fbac(xt==null?void 0:xt.target);const St=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).HTMLInputElement:HTMLInputElement,wt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).HTMLTextAreaElement:HTMLTextAreaElement,At=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).HTMLElement:HTMLElement,Ct=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).KeyboardEvent:KeyboardEvent;return vt=vt||_t.activeElement instanceof St&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(_t.activeElement.type)||_t.activeElement instanceof wt||_t.activeElement instanceof At&&_t.activeElement.isContentEditable,!(vt&&ht==="keyboard"&&xt instanceof Ct&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[xt.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(vt,ht,xt){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let _t=(St,wt)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(xt!=null&&xt.isTextInput),St,wt)&&vt($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(_t),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(_t)}},ht)}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(vt){let{isDisabled:ht,onFocus:xt,onBlur:_t,onFocusChange:St}=vt;const wt=reactExports.useCallback(Rt=>{if(Rt.target===Rt.currentTarget)return _t&&_t(Rt),St&&St(!1),!0},[_t,St]),At=$8a9cb279dc87e130$export$715c682d09d639cc(wt),Ct=reactExports.useCallback(Rt=>{const It=$431fbd86ca7dc216$export$b204af158042fbac(Rt.target),Lt=It?$d4ee10de306f2510$export$cd4e5573fbe2b576(It):$d4ee10de306f2510$export$cd4e5573fbe2b576();Rt.target===Rt.currentTarget&&Lt===$d4ee10de306f2510$export$e58f029f0fbfdb29(Rt.nativeEvent)&&(xt&&xt(Rt),St&&St(!0),At(Rt))},[St,xt,At]);return{focusProps:{onFocus:!ht&&(xt||St||_t)?Ct:void 0,onBlur:!ht&&(_t||St)?wt:void 0}}}function $9ab94262bd0047c7$export$420e68273165f4ec(vt){let{isDisabled:ht,onBlurWithin:xt,onFocusWithin:_t,onFocusWithinChange:St}=vt,wt=reactExports.useRef({isFocusWithin:!1}),{addGlobalListener:At,removeAllGlobalListeners:Ct}=$03deb23ff14920c4$export$4eaf04e54aa8eed6(),Rt=reactExports.useCallback(kt=>{kt.currentTarget.contains(kt.target)&&wt.current.isFocusWithin&&!kt.currentTarget.contains(kt.relatedTarget)&&(wt.current.isFocusWithin=!1,Ct(),xt&&xt(kt),St&&St(!1))},[xt,St,wt,Ct]),It=$8a9cb279dc87e130$export$715c682d09d639cc(Rt),Lt=reactExports.useCallback(kt=>{if(!kt.currentTarget.contains(kt.target))return;const Dt=$431fbd86ca7dc216$export$b204af158042fbac(kt.target),$t=$d4ee10de306f2510$export$cd4e5573fbe2b576(Dt);if(!wt.current.isFocusWithin&&$t===$d4ee10de306f2510$export$e58f029f0fbfdb29(kt.nativeEvent)){_t&&_t(kt),St&&St(!0),wt.current.isFocusWithin=!0,It(kt);let Ot=kt.currentTarget;At(Dt,"focus",zt=>{if(wt.current.isFocusWithin&&!$d4ee10de306f2510$export$4282f70798064fe0(Ot,zt.target)){let Gt=new Dt.defaultView.FocusEvent("blur",{relatedTarget:zt.target});$8a9cb279dc87e130$export$c2b7abe5d61ec696(Gt,Ot);let Bt=$8a9cb279dc87e130$export$525bc4921d56d4a(Gt);Rt(Bt)}},{capture:!0})}},[_t,St,It,At,Rt]);return ht?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:Lt,onBlur:Rt}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(vt){vt.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent)}}function $6179b936705e76d3$export$ae780daf29e6d456(vt){let{onHoverStart:ht,onHoverChange:xt,onHoverEnd:_t,isDisabled:St}=vt,[wt,At]=reactExports.useState(!1),Ct=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{addGlobalListener:Rt,removeAllGlobalListeners:It}=$03deb23ff14920c4$export$4eaf04e54aa8eed6(),{hoverProps:Lt,triggerHoverEnd:kt}=reactExports.useMemo(()=>{let Dt=(zt,Gt)=>{if(Ct.pointerType=Gt,St||Gt==="touch"||Ct.isHovered||!zt.currentTarget.contains(zt.target))return;Ct.isHovered=!0;let Bt=zt.currentTarget;Ct.target=Bt,Rt($431fbd86ca7dc216$export$b204af158042fbac(zt.target),"pointerover",Ut=>{Ct.isHovered&&Ct.target&&!$d4ee10de306f2510$export$4282f70798064fe0(Ct.target,Ut.target)&&$t(Ut,Ut.pointerType)},{capture:!0}),ht&&ht({type:"hoverstart",target:Bt,pointerType:Gt}),xt&&xt(!0),At(!0)},$t=(zt,Gt)=>{let Bt=Ct.target;Ct.pointerType="",Ct.target=null,!(Gt==="touch"||!Ct.isHovered||!Bt)&&(Ct.isHovered=!1,It(),_t&&_t({type:"hoverend",target:Bt,pointerType:Gt}),xt&&xt(!1),At(!1))},Ot={};return typeof PointerEvent<"u"&&(Ot.onPointerEnter=zt=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&zt.pointerType==="mouse"||Dt(zt,zt.pointerType)},Ot.onPointerLeave=zt=>{!St&&zt.currentTarget.contains(zt.target)&&$t(zt,zt.pointerType)}),{hoverProps:Ot,triggerHoverEnd:$t}},[ht,xt,_t,St,Ct,Rt,It]);return reactExports.useEffect(()=>{St&&kt({currentTarget:Ct.target},Ct.pointerType)},[St]),{hoverProps:Lt,isHovered:wt}}function $f7dceffc5ad7768b$export$4e328f61c538687f(vt={}){let{autoFocus:ht=!1,isTextInput:xt,within:_t}=vt,St=reactExports.useRef({isFocused:!1,isFocusVisible:ht||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[wt,At]=reactExports.useState(!1),[Ct,Rt]=reactExports.useState(()=>St.current.isFocused&&St.current.isFocusVisible),It=reactExports.useCallback(()=>Rt(St.current.isFocused&&St.current.isFocusVisible),[]),Lt=reactExports.useCallback($t=>{St.current.isFocused=$t,At($t),It()},[It]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3($t=>{St.current.isFocusVisible=$t,It()},[],{isTextInput:xt});let{focusProps:kt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:_t,onFocusChange:Lt}),{focusWithinProps:Dt}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!_t,onFocusWithinChange:Lt});return{isFocused:wt,isFocusVisible:Ct,focusProps:_t?Dt:kt}}var i$6=Object.defineProperty,d$3=(vt,ht,xt)=>ht in vt?i$6(vt,ht,{enumerable:!0,configurable:!0,writable:!0,value:xt}):vt[ht]=xt,r$4=(vt,ht,xt)=>(d$3(vt,typeof ht!="symbol"?ht+"":ht,xt),xt);let o$9=class{constructor(){r$4(this,"current",this.detect()),r$4(this,"handoffState","pending"),r$4(this,"currentId",0)}set(ht){this.current!==ht&&(this.handoffState="pending",this.currentId=0,this.current=ht)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$a=new o$9;function o$8(vt){var ht,xt;return s$a.isServer?null:vt?"ownerDocument"in vt?vt.ownerDocument:"current"in vt?(xt=(ht=vt.current)==null?void 0:ht.ownerDocument)!=null?xt:document:null:document}function t$4(vt){typeof queueMicrotask=="function"?queueMicrotask(vt):Promise.resolve().then(vt).catch(ht=>setTimeout(()=>{throw ht}))}function o$7(){let vt=[],ht={addEventListener(xt,_t,St,wt){return xt.addEventListener(_t,St,wt),ht.add(()=>xt.removeEventListener(_t,St,wt))},requestAnimationFrame(...xt){let _t=requestAnimationFrame(...xt);return ht.add(()=>cancelAnimationFrame(_t))},nextFrame(...xt){return ht.requestAnimationFrame(()=>ht.requestAnimationFrame(...xt))},setTimeout(...xt){let _t=setTimeout(...xt);return ht.add(()=>clearTimeout(_t))},microTask(...xt){let _t={current:!0};return t$4(()=>{_t.current&&xt[0]()}),ht.add(()=>{_t.current=!1})},style(xt,_t,St){let wt=xt.style.getPropertyValue(_t);return Object.assign(xt.style,{[_t]:St}),this.add(()=>{Object.assign(xt.style,{[_t]:wt})})},group(xt){let _t=o$7();return xt(_t),this.add(()=>_t.dispose())},add(xt){return vt.includes(xt)||vt.push(xt),()=>{let _t=vt.indexOf(xt);if(_t>=0)for(let St of vt.splice(_t,1))St()}},dispose(){for(let xt of vt.splice(0))xt()}};return ht}function p$4(){let[vt]=reactExports.useState(o$7);return reactExports.useEffect(()=>()=>vt.dispose(),[vt]),vt}let n$5=(vt,ht)=>{s$a.isServer?reactExports.useEffect(vt,ht):reactExports.useLayoutEffect(vt,ht)};function s$9(vt){let ht=reactExports.useRef(vt);return n$5(()=>{ht.current=vt},[vt]),ht}let o$6=function(vt){let ht=s$9(vt);return React$1.useCallback((...xt)=>ht.current(...xt),[ht])};function E$5(vt){let ht=vt.width/2,xt=vt.height/2;return{top:vt.clientY-xt,right:vt.clientX+ht,bottom:vt.clientY+xt,left:vt.clientX-ht}}function P$2(vt,ht){return!(!vt||!ht||vt.right<ht.left||vt.left>ht.right||vt.bottom<ht.top||vt.top>ht.bottom)}function w$5({disabled:vt=!1}={}){let ht=reactExports.useRef(null),[xt,_t]=reactExports.useState(!1),St=p$4(),wt=o$6(()=>{ht.current=null,_t(!1),St.dispose()}),At=o$6(Ct=>{if(St.dispose(),ht.current===null){ht.current=Ct.currentTarget,_t(!0);{let Rt=o$8(Ct.currentTarget);St.addEventListener(Rt,"pointerup",wt,!1),St.addEventListener(Rt,"pointermove",It=>{if(ht.current){let Lt=E$5(It);_t(P$2(Lt,ht.current.getBoundingClientRect()))}},!1),St.addEventListener(Rt,"pointercancel",wt,!1)}}});return{pressed:xt,pressProps:vt?{}:{onPointerDown:At,onPointerUp:wt,onClick:wt}}}let e$3=reactExports.createContext(void 0);function a$d(){return reactExports.useContext(e$3)}function t$3(...vt){return Array.from(new Set(vt.flatMap(ht=>typeof ht=="string"?ht.split(" "):[]))).filter(Boolean).join(" ")}function u$8(vt,ht,...xt){if(vt in ht){let St=ht[vt];return typeof St=="function"?St(...xt):St}let _t=new Error(`Tried to handle "${vt}" but there is no handler defined. Only defined handlers are: ${Object.keys(ht).map(St=>`"${St}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(_t,u$8),_t}var O$3=(vt=>(vt[vt.None=0]="None",vt[vt.RenderStrategy=1]="RenderStrategy",vt[vt.Static=2]="Static",vt))(O$3||{}),A$1=(vt=>(vt[vt.Unmount=0]="Unmount",vt[vt.Hidden=1]="Hidden",vt))(A$1||{});function L$3(){let vt=U$2();return reactExports.useCallback(ht=>C$6({mergeRefs:vt,...ht}),[vt])}function C$6({ourProps:vt,theirProps:ht,slot:xt,defaultTag:_t,features:St,visible:wt=!0,name:At,mergeRefs:Ct}){Ct=Ct??$$1;let Rt=P$1(ht,vt);if(wt)return F$4(Rt,xt,_t,At,Ct);let It=St??0;if(It&2){let{static:Lt=!1,...kt}=Rt;if(Lt)return F$4(kt,xt,_t,At,Ct)}if(It&1){let{unmount:Lt=!0,...kt}=Rt;return u$8(Lt?0:1,{0(){return null},1(){return F$4({...kt,hidden:!0,style:{display:"none"}},xt,_t,At,Ct)}})}return F$4(Rt,xt,_t,At,Ct)}function F$4(vt,ht={},xt,_t,St){let{as:wt=xt,children:At,refName:Ct="ref",...Rt}=h$5(vt,["unmount","static"]),It=vt.ref!==void 0?{[Ct]:vt.ref}:{},Lt=typeof At=="function"?At(ht):At;"className"in Rt&&Rt.className&&typeof Rt.className=="function"&&(Rt.className=Rt.className(ht)),Rt["aria-labelledby"]&&Rt["aria-labelledby"]===Rt.id&&(Rt["aria-labelledby"]=void 0);let kt={};if(ht){let Dt=!1,$t=[];for(let[Ot,zt]of Object.entries(ht))typeof zt=="boolean"&&(Dt=!0),zt===!0&&$t.push(Ot.replace(/([A-Z])/g,Gt=>`-${Gt.toLowerCase()}`));if(Dt){kt["data-headlessui-state"]=$t.join(" ");for(let Ot of $t)kt[`data-${Ot}`]=""}}if(wt===reactExports.Fragment&&(Object.keys(m$4(Rt)).length>0||Object.keys(m$4(kt)).length>0))if(!reactExports.isValidElement(Lt)||Array.isArray(Lt)&&Lt.length>1){if(Object.keys(m$4(Rt)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${_t} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$4(Rt)).concat(Object.keys(m$4(kt))).map(Dt=>`  - ${Dt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(Dt=>`  - ${Dt}`).join(`
`)].join(`
`))}else{let Dt=Lt.props,$t=Dt==null?void 0:Dt.className,Ot=typeof $t=="function"?(...Bt)=>t$3($t(...Bt),Rt.className):t$3($t,Rt.className),zt=Ot?{className:Ot}:{},Gt=P$1(Lt.props,m$4(h$5(Rt,["ref"])));for(let Bt in kt)Bt in Gt&&delete kt[Bt];return reactExports.cloneElement(Lt,Object.assign({},Gt,kt,It,{ref:St(H$2(Lt),It.ref)},zt))}return reactExports.createElement(wt,Object.assign({},h$5(Rt,["ref"]),wt!==reactExports.Fragment&&It,wt!==reactExports.Fragment&&kt),Lt)}function U$2(){let vt=reactExports.useRef([]),ht=reactExports.useCallback(xt=>{for(let _t of vt.current)_t!=null&&(typeof _t=="function"?_t(xt):_t.current=xt)},[]);return(...xt)=>{if(!xt.every(_t=>_t==null))return vt.current=xt,ht}}function $$1(...vt){return vt.every(ht=>ht==null)?void 0:ht=>{for(let xt of vt)xt!=null&&(typeof xt=="function"?xt(ht):xt.current=ht)}}function P$1(...vt){if(vt.length===0)return{};if(vt.length===1)return vt[0];let ht={},xt={};for(let _t of vt)for(let St in _t)St.startsWith("on")&&typeof _t[St]=="function"?(xt[St]!=null||(xt[St]=[]),xt[St].push(_t[St])):ht[St]=_t[St];if(ht.disabled||ht["aria-disabled"])for(let _t in xt)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(_t)&&(xt[_t]=[St=>{var wt;return(wt=St==null?void 0:St.preventDefault)==null?void 0:wt.call(St)}]);for(let _t in xt)Object.assign(ht,{[_t](St,...wt){let At=xt[_t];for(let Ct of At){if((St instanceof Event||(St==null?void 0:St.nativeEvent)instanceof Event)&&St.defaultPrevented)return;Ct(St,...wt)}}});return ht}function _$2(...vt){if(vt.length===0)return{};if(vt.length===1)return vt[0];let ht={},xt={};for(let _t of vt)for(let St in _t)St.startsWith("on")&&typeof _t[St]=="function"?(xt[St]!=null||(xt[St]=[]),xt[St].push(_t[St])):ht[St]=_t[St];for(let _t in xt)Object.assign(ht,{[_t](...St){let wt=xt[_t];for(let At of wt)At==null||At(...St)}});return ht}function K(vt){var ht;return Object.assign(reactExports.forwardRef(vt),{displayName:(ht=vt.displayName)!=null?ht:vt.name})}function m$4(vt){let ht=Object.assign({},vt);for(let xt in ht)ht[xt]===void 0&&delete ht[xt];return ht}function h$5(vt,ht=[]){let xt=Object.assign({},vt);for(let _t of ht)_t in xt&&delete xt[_t];return xt}function H$2(vt){return React$1.version.split(".")[0]>="19"?vt.props.ref:vt.ref}let a$c="span";var s$8=(vt=>(vt[vt.None=1]="None",vt[vt.Focusable=2]="Focusable",vt[vt.Hidden=4]="Hidden",vt))(s$8||{});function l$2(vt,ht){var xt;let{features:_t=1,...St}=vt,wt={ref:ht,"aria-hidden":(_t&2)===2?!0:(xt=St["aria-hidden"])!=null?xt:void 0,hidden:(_t&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(_t&4)===4&&(_t&2)!==2&&{display:"none"}}};return L$3()({ourProps:wt,theirProps:St,slot:{},defaultTag:a$c,name:"Hidden"})}let f$9=K(l$2),e$2=reactExports.createContext(void 0);function u$7(){return reactExports.useContext(e$2)}function o$5(vt){return typeof vt!="object"||vt===null?!1:"nodeType"in vt}function t$2(vt){return o$5(vt)&&"tagName"in vt}function n$4(vt){return t$2(vt)&&"accessKey"in vt}function i$5(vt){return t$2(vt)&&"tabIndex"in vt}function r$3(vt){return t$2(vt)&&"style"in vt}function u$6(vt){return n$4(vt)&&vt.nodeName==="IFRAME"}function l$1(vt){return n$4(vt)&&vt.nodeName==="INPUT"}function m$3(vt){return n$4(vt)&&vt.nodeName==="LABEL"}function a$b(vt){return n$4(vt)&&vt.nodeName==="FIELDSET"}function E$4(vt){return n$4(vt)&&vt.nodeName==="LEGEND"}function L$2(vt){return t$2(vt)?vt.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function s$7(vt){let ht=vt.parentElement,xt=null;for(;ht&&!a$b(ht);)E$4(ht)&&(xt=ht),ht=ht.parentElement;let _t=(ht==null?void 0:ht.getAttribute("disabled"))==="";return _t&&r$2(xt)?!1:_t}function r$2(vt){if(!vt)return!1;let ht=vt.previousElementSibling;for(;ht!==null;){if(E$4(ht))return!1;ht=ht.previousElementSibling}return!0}let u$5=Symbol();function T$2(vt,ht=!0){return Object.assign(vt,{[u$5]:ht})}function y$6(...vt){let ht=reactExports.useRef(vt);reactExports.useEffect(()=>{ht.current=vt},[vt]);let xt=o$6(_t=>{for(let St of ht.current)St!=null&&(typeof St=="function"?St(_t):St.current=_t)});return vt.every(_t=>_t==null||(_t==null?void 0:_t[u$5]))?void 0:xt}let a$a=reactExports.createContext(null);a$a.displayName="DescriptionContext";function f$8(){let vt=reactExports.useContext(a$a);if(vt===null){let ht=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(ht,f$8),ht}return vt}function w$4(){let[vt,ht]=reactExports.useState([]);return[vt.length>0?vt.join(" "):void 0,reactExports.useMemo(()=>function(xt){let _t=o$6(wt=>(ht(At=>[...At,wt]),()=>ht(At=>{let Ct=At.slice(),Rt=Ct.indexOf(wt);return Rt!==-1&&Ct.splice(Rt,1),Ct}))),St=reactExports.useMemo(()=>({register:_t,slot:xt.slot,name:xt.name,props:xt.props,value:xt.value}),[_t,xt.slot,xt.name,xt.props,xt.value]);return React$1.createElement(a$a.Provider,{value:St},xt.children)},[ht])]}let S$3="p";function C$5(vt,ht){let xt=reactExports.useId(),_t=a$d(),{id:St=`headlessui-description-${xt}`,...wt}=vt,At=f$8(),Ct=y$6(ht);n$5(()=>At.register(St),[St,At.register]);let Rt=_t||!1,It=reactExports.useMemo(()=>({...At.slot,disabled:Rt}),[At.slot,Rt]),Lt={ref:Ct,...At.props,id:St};return L$3()({ourProps:Lt,theirProps:wt,slot:It,defaultTag:S$3,name:At.name||"Description"})}let _$1=K(C$5);Object.assign(_$1,{});var o$4=(vt=>(vt.Space=" ",vt.Enter="Enter",vt.Escape="Escape",vt.Backspace="Backspace",vt.Delete="Delete",vt.ArrowLeft="ArrowLeft",vt.ArrowUp="ArrowUp",vt.ArrowRight="ArrowRight",vt.ArrowDown="ArrowDown",vt.Home="Home",vt.End="End",vt.PageUp="PageUp",vt.PageDown="PageDown",vt.Tab="Tab",vt))(o$4||{});let L$1=reactExports.createContext(null);L$1.displayName="LabelContext";function C$4(){let vt=reactExports.useContext(L$1);if(vt===null){let ht=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(ht,C$4),ht}return vt}function N(vt){var ht,xt,_t;let St=(xt=(ht=reactExports.useContext(L$1))==null?void 0:ht.value)!=null?xt:void 0;return((_t=void 0)!=null?_t:0)>0?[St,...vt].filter(Boolean).join(" "):St}function Q$1({inherit:vt=!1}={}){let ht=N(),[xt,_t]=reactExports.useState([]),St=vt?[ht,...xt].filter(Boolean):xt;return[St.length>0?St.join(" "):void 0,reactExports.useMemo(()=>function(wt){let At=o$6(Rt=>(_t(It=>[...It,Rt]),()=>_t(It=>{let Lt=It.slice(),kt=Lt.indexOf(Rt);return kt!==-1&&Lt.splice(kt,1),Lt}))),Ct=reactExports.useMemo(()=>({register:At,slot:wt.slot,name:wt.name,props:wt.props,value:wt.value}),[At,wt.slot,wt.name,wt.props,wt.value]);return React$1.createElement(L$1.Provider,{value:Ct},wt.children)},[_t])]}let G="label";function U$1(vt,ht){var xt;let _t=reactExports.useId(),St=C$4(),wt=u$7(),At=a$d(),{id:Ct=`headlessui-label-${_t}`,htmlFor:Rt=wt??((xt=St.props)==null?void 0:xt.htmlFor),passive:It=!1,...Lt}=vt,kt=y$6(ht);n$5(()=>St.register(Ct),[Ct,St.register]);let Dt=o$6(Gt=>{let Bt=Gt.currentTarget;if(!(Gt.target!==Gt.currentTarget&&L$2(Gt.target))&&(m$3(Bt)&&Gt.preventDefault(),St.props&&"onClick"in St.props&&typeof St.props.onClick=="function"&&St.props.onClick(Gt),m$3(Bt))){let Ut=document.getElementById(Bt.htmlFor);if(Ut){let Vt=Ut.getAttribute("disabled");if(Vt==="true"||Vt==="")return;let Ht=Ut.getAttribute("aria-disabled");if(Ht==="true"||Ht==="")return;(l$1(Ut)&&(Ut.type==="file"||Ut.type==="radio"||Ut.type==="checkbox")||Ut.role==="radio"||Ut.role==="checkbox"||Ut.role==="switch")&&Ut.click(),Ut.focus({preventScroll:!0})}}}),$t=At||!1,Ot=reactExports.useMemo(()=>({...St.slot,disabled:$t}),[St.slot,$t]),zt={ref:kt,...St.props,id:Ct,htmlFor:Rt,onClick:Dt};return It&&("onClick"in zt&&(delete zt.htmlFor,delete zt.onClick),"onClick"in Lt&&delete Lt.onClick),L$3()({ourProps:zt,theirProps:Lt,slot:Ot,defaultTag:Rt?G:"div",name:St.name||"Label"})}let j$4=K(U$1);Object.assign(j$4,{});function f$7(vt){if(vt===null)return{width:0,height:0};let{width:ht,height:xt}=vt.getBoundingClientRect();return{width:ht,height:xt}}function d$2(vt,ht=!1){let[xt,_t]=reactExports.useReducer(()=>({}),{}),St=reactExports.useMemo(()=>f$7(vt),[vt,xt]);return n$5(()=>{if(!vt)return;let wt=new ResizeObserver(_t);return wt.observe(vt),()=>{wt.disconnect()}},[vt]),ht?{width:`${St.width}px`,height:`${St.height}px`}:St}let a$9=class extends Map{constructor(ht){super(),this.factory=ht}get(ht){let xt=super.get(ht);return xt===void 0&&(xt=this.factory(ht),this.set(ht,xt)),xt}};var p$3=Object.defineProperty,h$4=(vt,ht,xt)=>ht in vt?p$3(vt,ht,{enumerable:!0,configurable:!0,writable:!0,value:xt}):vt[ht]=xt,f$6=(vt,ht,xt)=>(h$4(vt,ht+"",xt),xt),b$3=(vt,ht,xt)=>{if(!ht.has(vt))throw TypeError("Cannot "+xt)},n$3=(vt,ht,xt)=>(b$3(vt,ht,"read from private field"),xt?xt.call(vt):ht.get(vt)),c$4=(vt,ht,xt)=>{if(ht.has(vt))throw TypeError("Cannot add the same private member more than once");ht instanceof WeakSet?ht.add(vt):ht.set(vt,xt)},u$4=(vt,ht,xt,_t)=>(b$3(vt,ht,"write to private field"),ht.set(vt,xt),xt),i$4,a$8,o$3;let E$3=class{constructor(ht){c$4(this,i$4,{}),c$4(this,a$8,new a$9(()=>new Set)),c$4(this,o$3,new Set),f$6(this,"disposables",o$7()),u$4(this,i$4,ht)}dispose(){this.disposables.dispose()}get state(){return n$3(this,i$4)}subscribe(ht,xt){let _t={selector:ht,callback:xt,current:ht(n$3(this,i$4))};return n$3(this,o$3).add(_t),this.disposables.add(()=>{n$3(this,o$3).delete(_t)})}on(ht,xt){return n$3(this,a$8).get(ht).add(xt),this.disposables.add(()=>{n$3(this,a$8).get(ht).delete(xt)})}send(ht){let xt=this.reduce(n$3(this,i$4),ht);if(xt!==n$3(this,i$4)){u$4(this,i$4,xt);for(let _t of n$3(this,o$3)){let St=_t.selector(n$3(this,i$4));j$3(_t.current,St)||(_t.current=St,_t.callback(St))}for(let _t of n$3(this,a$8).get(ht.type))_t(n$3(this,i$4),ht)}}};i$4=new WeakMap,a$8=new WeakMap,o$3=new WeakMap;function j$3(vt,ht){return Object.is(vt,ht)?!0:typeof vt!="object"||vt===null||typeof ht!="object"||ht===null?!1:Array.isArray(vt)&&Array.isArray(ht)?vt.length!==ht.length?!1:d$1(vt[Symbol.iterator](),ht[Symbol.iterator]()):vt instanceof Map&&ht instanceof Map||vt instanceof Set&&ht instanceof Set?vt.size!==ht.size?!1:d$1(vt.entries(),ht.entries()):y$5(vt)&&y$5(ht)?d$1(Object.entries(vt)[Symbol.iterator](),Object.entries(ht)[Symbol.iterator]()):!1}function d$1(vt,ht){do{let xt=vt.next(),_t=ht.next();if(xt.done&&_t.done)return!0;if(xt.done||_t.done||!Object.is(xt.value,_t.value))return!1}while(!0)}function y$5(vt){if(Object.prototype.toString.call(vt)!=="[object Object]")return!1;let ht=Object.getPrototypeOf(vt);return ht===null||Object.getPrototypeOf(ht)===null}function x$3(vt){let[ht,xt]=vt(),_t=o$7();return(...St)=>{ht(...St),_t.dispose(),_t.microTask(xt)}}var a$7=Object.defineProperty,r$1=(vt,ht,xt)=>ht in vt?a$7(vt,ht,{enumerable:!0,configurable:!0,writable:!0,value:xt}):vt[ht]=xt,p$2=(vt,ht,xt)=>(r$1(vt,typeof ht!="symbol"?ht+"":ht,xt),xt),k$4=(vt=>(vt[vt.Push=0]="Push",vt[vt.Pop=1]="Pop",vt))(k$4||{});let y$4={0(vt,ht){let xt=ht.id,_t=vt.stack,St=vt.stack.indexOf(xt);if(St!==-1){let wt=vt.stack.slice();return wt.splice(St,1),wt.push(xt),_t=wt,{...vt,stack:_t}}return{...vt,stack:[...vt.stack,xt]}},1(vt,ht){let xt=ht.id,_t=vt.stack.indexOf(xt);if(_t===-1)return vt;let St=vt.stack.slice();return St.splice(_t,1),{...vt,stack:St}}},o$2=class Jm extends E$3{constructor(){super(...arguments),p$2(this,"actions",{push:ht=>this.send({type:0,id:ht}),pop:ht=>this.send({type:1,id:ht})}),p$2(this,"selectors",{isTop:(ht,xt)=>ht.stack[ht.stack.length-1]===xt,inStack:(ht,xt)=>ht.stack.includes(xt)})}static new(){return new Jm({stack:[]})}reduce(ht,xt){return u$8(xt.type,y$4,ht,xt)}};const x$2=new a$9(()=>o$2.new());var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports;function is$1(vt,ht){return vt===ht&&(vt!==0||1/vt===1/ht)||vt!==vt&&ht!==ht}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=React.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(vt,ht,xt,_t,St){var wt=useRef(null);if(wt.current===null){var At={hasValue:!1,value:null};wt.current=At}else At=wt.current;wt=useMemo(function(){function Rt($t){if(!It){if(It=!0,Lt=$t,$t=_t($t),St!==void 0&&At.hasValue){var Ot=At.value;if(St(Ot,$t))return kt=Ot}return kt=$t}if(Ot=kt,objectIs(Lt,$t))return Ot;var zt=_t($t);return St!==void 0&&St(Ot,zt)?(Lt=$t,Ot):(Lt=$t,kt=zt)}var It=!1,Lt,kt,Dt=xt===void 0?null:xt;return[function(){return Rt(ht())},Dt===null?void 0:function(){return Rt(Dt())}]},[ht,xt,_t,St]);var Ct=useSyncExternalStore(vt,wt[0],wt[1]);return useEffect(function(){At.hasValue=!0,At.value=Ct},[Ct]),useDebugValue(Ct),Ct};withSelector.exports=useSyncExternalStoreWithSelector_production;var withSelectorExports=withSelector.exports;function S$2(vt,ht,xt=j$3){return withSelectorExports.useSyncExternalStoreWithSelector(o$6(_t=>vt.subscribe(s$6,_t)),o$6(()=>vt.state),o$6(()=>vt.state),o$6(ht),xt)}function s$6(vt){return vt}function I$2(vt,ht){let xt=reactExports.useId(),_t=x$2.get(ht),[St,wt]=S$2(_t,reactExports.useCallback(At=>[_t.selectors.isTop(At,xt),_t.selectors.inStack(At,xt)],[_t,xt]));return n$5(()=>{if(vt)return _t.actions.push(xt),()=>_t.actions.pop(xt)},[_t,vt,xt]),vt?wt?St:!0:!1}let f$5=new Map,u$3=new Map;function h$3(vt){var ht;let xt=(ht=u$3.get(vt))!=null?ht:0;return u$3.set(vt,xt+1),xt!==0?()=>m$2(vt):(f$5.set(vt,{"aria-hidden":vt.getAttribute("aria-hidden"),inert:vt.inert}),vt.setAttribute("aria-hidden","true"),vt.inert=!0,()=>m$2(vt))}function m$2(vt){var ht;let xt=(ht=u$3.get(vt))!=null?ht:1;if(xt===1?u$3.delete(vt):u$3.set(vt,xt-1),xt!==1)return;let _t=f$5.get(vt);_t&&(_t["aria-hidden"]===null?vt.removeAttribute("aria-hidden"):vt.setAttribute("aria-hidden",_t["aria-hidden"]),vt.inert=_t.inert,f$5.delete(vt))}function y$3(vt,{allowed:ht,disallowed:xt}={}){let _t=I$2(vt,"inert-others");n$5(()=>{var St,wt;if(!_t)return;let At=o$7();for(let Rt of(St=xt==null?void 0:xt())!=null?St:[])Rt&&At.add(h$3(Rt));let Ct=(wt=ht==null?void 0:ht())!=null?wt:[];for(let Rt of Ct){if(!Rt)continue;let It=o$8(Rt);if(!It)continue;let Lt=Rt.parentElement;for(;Lt&&Lt!==It.body;){for(let kt of Lt.children)Ct.some(Dt=>kt.contains(Dt))||At.add(h$3(kt));Lt=Lt.parentElement}}return At.dispose},[_t,ht,xt])}function p$1(vt,ht,xt){let _t=s$9(St=>{let wt=St.getBoundingClientRect();wt.x===0&&wt.y===0&&wt.width===0&&wt.height===0&&xt()});reactExports.useEffect(()=>{if(!vt)return;let St=ht===null?null:n$4(ht)?ht:ht.current;if(!St)return;let wt=o$7();if(typeof ResizeObserver<"u"){let At=new ResizeObserver(()=>_t.current(St));At.observe(St),wt.add(()=>At.disconnect())}if(typeof IntersectionObserver<"u"){let At=new IntersectionObserver(()=>_t.current(St));At.observe(St),wt.add(()=>At.disconnect())}return()=>wt.dispose()},[ht,_t,vt])}let f$4=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(vt=>`${vt}:not([tabindex='-1'])`).join(","),F$3=["[data-autofocus]"].map(vt=>`${vt}:not([tabindex='-1'])`).join(",");var T$1=(vt=>(vt[vt.First=1]="First",vt[vt.Previous=2]="Previous",vt[vt.Next=4]="Next",vt[vt.Last=8]="Last",vt[vt.WrapAround=16]="WrapAround",vt[vt.NoScroll=32]="NoScroll",vt[vt.AutoFocus=64]="AutoFocus",vt))(T$1||{}),y$2=(vt=>(vt[vt.Error=0]="Error",vt[vt.Overflow=1]="Overflow",vt[vt.Success=2]="Success",vt[vt.Underflow=3]="Underflow",vt))(y$2||{}),S$1=(vt=>(vt[vt.Previous=-1]="Previous",vt[vt.Next=1]="Next",vt))(S$1||{});function b$2(vt=document.body){return vt==null?[]:Array.from(vt.querySelectorAll(f$4)).sort((ht,xt)=>Math.sign((ht.tabIndex||Number.MAX_SAFE_INTEGER)-(xt.tabIndex||Number.MAX_SAFE_INTEGER)))}function O$2(vt=document.body){return vt==null?[]:Array.from(vt.querySelectorAll(F$3)).sort((ht,xt)=>Math.sign((ht.tabIndex||Number.MAX_SAFE_INTEGER)-(xt.tabIndex||Number.MAX_SAFE_INTEGER)))}var h$2=(vt=>(vt[vt.Strict=0]="Strict",vt[vt.Loose=1]="Loose",vt))(h$2||{});function A(vt,ht=0){var xt;return vt===((xt=o$8(vt))==null?void 0:xt.body)?!1:u$8(ht,{0(){return vt.matches(f$4)},1(){let _t=vt;for(;_t!==null;){if(_t.matches(f$4))return!0;_t=_t.parentElement}return!1}})}function V$1(vt){let ht=o$8(vt);o$7().nextFrame(()=>{ht&&i$5(ht.activeElement)&&!A(ht.activeElement,0)&&I$1(vt)})}var H$1=(vt=>(vt[vt.Keyboard=0]="Keyboard",vt[vt.Mouse=1]="Mouse",vt))(H$1||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",vt=>{vt.metaKey||vt.altKey||vt.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",vt=>{vt.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:vt.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$1(vt){vt==null||vt.focus({preventScroll:!0})}let w$3=["textarea","input"].join(",");function _(vt){var ht,xt;return(xt=(ht=vt==null?void 0:vt.matches)==null?void 0:ht.call(vt,w$3))!=null?xt:!1}function P(vt,ht=xt=>xt){return vt.slice().sort((xt,_t)=>{let St=ht(xt),wt=ht(_t);if(St===null||wt===null)return 0;let At=St.compareDocumentPosition(wt);return At&Node.DOCUMENT_POSITION_FOLLOWING?-1:At&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j$2(vt,ht){return g$4(b$2(),ht,{relativeTo:vt})}function g$4(vt,ht,{sorted:xt=!0,relativeTo:_t=null,skipElements:St=[]}={}){let wt=Array.isArray(vt)?vt.length>0?vt[0].ownerDocument:document:vt.ownerDocument,At=Array.isArray(vt)?xt?P(vt):vt:ht&64?O$2(vt):b$2(vt);St.length>0&&At.length>1&&(At=At.filter($t=>!St.some(Ot=>Ot!=null&&"current"in Ot?(Ot==null?void 0:Ot.current)===$t:Ot===$t))),_t=_t??wt.activeElement;let Ct=(()=>{if(ht&5)return 1;if(ht&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Rt=(()=>{if(ht&1)return 0;if(ht&2)return Math.max(0,At.indexOf(_t))-1;if(ht&4)return Math.max(0,At.indexOf(_t))+1;if(ht&8)return At.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),It=ht&32?{preventScroll:!0}:{},Lt=0,kt=At.length,Dt;do{if(Lt>=kt||Lt+kt<=0)return 0;let $t=Rt+Lt;if(ht&16)$t=($t+kt)%kt;else{if($t<0)return 3;if($t>=kt)return 1}Dt=At[$t],Dt==null||Dt.focus(It),Lt+=Ct}while(Dt!==wt.activeElement);return ht&6&&_(Dt)&&Dt.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$3(){return/Android/gi.test(window.navigator.userAgent)}function n$2(){return t$1()||i$3()}function i$2(vt,ht,xt,_t){let St=s$9(xt);reactExports.useEffect(()=>{if(!vt)return;function wt(At){St.current(At)}return document.addEventListener(ht,wt,_t),()=>document.removeEventListener(ht,wt,_t)},[vt,ht,_t])}function s$5(vt,ht,xt,_t){let St=s$9(xt);reactExports.useEffect(()=>{if(!vt)return;function wt(At){St.current(At)}return window.addEventListener(ht,wt,_t),()=>window.removeEventListener(ht,wt,_t)},[vt,ht,_t])}const C$3=30;function k$3(vt,ht,xt){let _t=s$9(xt),St=reactExports.useCallback(function(Ct,Rt){if(Ct.defaultPrevented)return;let It=Rt(Ct);if(It===null||!It.getRootNode().contains(It)||!It.isConnected)return;let Lt=function kt(Dt){return typeof Dt=="function"?kt(Dt()):Array.isArray(Dt)||Dt instanceof Set?Dt:[Dt]}(ht);for(let kt of Lt)if(kt!==null&&(kt.contains(It)||Ct.composed&&Ct.composedPath().includes(kt)))return;return!A(It,h$2.Loose)&&It.tabIndex!==-1&&Ct.preventDefault(),_t.current(Ct,It)},[_t,ht]),wt=reactExports.useRef(null);i$2(vt,"pointerdown",Ct=>{var Rt,It;n$2()||(wt.current=((It=(Rt=Ct.composedPath)==null?void 0:Rt.call(Ct))==null?void 0:It[0])||Ct.target)},!0),i$2(vt,"pointerup",Ct=>{if(n$2()||!wt.current)return;let Rt=wt.current;return wt.current=null,St(Ct,()=>Rt)},!0);let At=reactExports.useRef({x:0,y:0});i$2(vt,"touchstart",Ct=>{At.current.x=Ct.touches[0].clientX,At.current.y=Ct.touches[0].clientY},!0),i$2(vt,"touchend",Ct=>{let Rt={x:Ct.changedTouches[0].clientX,y:Ct.changedTouches[0].clientY};if(!(Math.abs(Rt.x-At.current.x)>=C$3||Math.abs(Rt.y-At.current.y)>=C$3))return St(Ct,()=>i$5(Ct.target)?Ct.target:null)},!0),s$5(vt,"blur",Ct=>St(Ct,()=>u$6(window.document.activeElement)?window.document.activeElement:null),!0)}function n$1(...vt){return reactExports.useMemo(()=>o$8(...vt),[...vt])}var m$1=(vt=>(vt[vt.Ignore=0]="Ignore",vt[vt.Select=1]="Select",vt[vt.Close=2]="Close",vt))(m$1||{});const g$3={Ignore:{kind:0},Select:vt=>({kind:1,target:vt}),Close:{kind:2}},E$2=200;function k$2(vt,{trigger:ht,action:xt,close:_t,select:St}){let wt=reactExports.useRef(null);i$2(vt&&ht!==null,"pointerdown",At=>{o$5(At==null?void 0:At.target)&&ht!=null&&ht.contains(At.target)&&(wt.current=new Date)}),i$2(vt&&ht!==null,"pointerup",At=>{if(wt.current===null||!i$5(At.target))return;let Ct=xt(At),Rt=new Date().getTime()-wt.current.getTime();switch(wt.current=null,Ct.kind){case 0:return;case 1:{Rt>E$2&&(St(Ct.target),_t());break}case 2:{_t();break}}},{capture:!0})}function e$1(vt,ht){return reactExports.useMemo(()=>{var xt;if(vt.type)return vt.type;let _t=(xt=vt.as)!=null?xt:"button";if(typeof _t=="string"&&_t.toLowerCase()==="button"||(ht==null?void 0:ht.tagName)==="BUTTON"&&!ht.hasAttribute("type"))return"button"},[vt.type,vt.as,ht])}function o$1(vt){return reactExports.useSyncExternalStore(vt.subscribe,vt.getSnapshot,vt.getSnapshot)}function a$6(vt,ht){let xt=vt(),_t=new Set;return{getSnapshot(){return xt},subscribe(St){return _t.add(St),()=>_t.delete(St)},dispatch(St,...wt){let At=ht[St].call(xt,...wt);At&&(xt=At,_t.forEach(Ct=>Ct()))}}}function d(){let vt;return{before({doc:ht}){var xt;let _t=ht.documentElement,St=(xt=ht.defaultView)!=null?xt:window;vt=Math.max(0,St.innerWidth-_t.clientWidth)},after({doc:ht,d:xt}){let _t=ht.documentElement,St=Math.max(0,_t.clientWidth-_t.offsetWidth),wt=Math.max(0,vt-St);xt.style(_t,"paddingRight",`${wt}px`)}}}function w$2(){return t$1()?{before({doc:vt,d:ht,meta:xt}){function _t(St){return xt.containers.flatMap(wt=>wt()).some(wt=>wt.contains(St))}ht.microTask(()=>{var St;if(window.getComputedStyle(vt.documentElement).scrollBehavior!=="auto"){let Ct=o$7();Ct.style(vt.documentElement,"scrollBehavior","auto"),ht.add(()=>ht.microTask(()=>Ct.dispose()))}let wt=(St=window.scrollY)!=null?St:window.pageYOffset,At=null;ht.addEventListener(vt,"click",Ct=>{if(i$5(Ct.target))try{let Rt=Ct.target.closest("a");if(!Rt)return;let{hash:It}=new URL(Rt.href),Lt=vt.querySelector(It);i$5(Lt)&&!_t(Lt)&&(At=Lt)}catch{}},!0),ht.addEventListener(vt,"touchstart",Ct=>{if(i$5(Ct.target)&&r$3(Ct.target))if(_t(Ct.target)){let Rt=Ct.target;for(;Rt.parentElement&&_t(Rt.parentElement);)Rt=Rt.parentElement;ht.style(Rt,"overscrollBehavior","contain")}else ht.style(Ct.target,"touchAction","none")}),ht.addEventListener(vt,"touchmove",Ct=>{if(i$5(Ct.target)){if(l$1(Ct.target))return;if(_t(Ct.target)){let Rt=Ct.target;for(;Rt.parentElement&&Rt.dataset.headlessuiPortal!==""&&!(Rt.scrollHeight>Rt.clientHeight||Rt.scrollWidth>Rt.clientWidth);)Rt=Rt.parentElement;Rt.dataset.headlessuiPortal===""&&Ct.preventDefault()}else Ct.preventDefault()}},{passive:!1}),ht.add(()=>{var Ct;let Rt=(Ct=window.scrollY)!=null?Ct:window.pageYOffset;wt!==Rt&&window.scrollTo(0,wt),At&&At.isConnected&&(At.scrollIntoView({block:"nearest"}),At=null)})})}}:{}}function r(){return{before({doc:vt,d:ht}){ht.style(vt.documentElement,"overflow","hidden")}}}function m(vt){let ht={};for(let xt of vt)Object.assign(ht,xt(ht));return ht}let a$5=a$6(()=>new Map,{PUSH(vt,ht){var xt;let _t=(xt=this.get(vt))!=null?xt:{doc:vt,count:0,d:o$7(),meta:new Set};return _t.count++,_t.meta.add(ht),this.set(vt,_t),this},POP(vt,ht){let xt=this.get(vt);return xt&&(xt.count--,xt.meta.delete(ht)),this},SCROLL_PREVENT({doc:vt,d:ht,meta:xt}){let _t={doc:vt,d:ht,meta:m(xt)},St=[w$2(),d(),r()];St.forEach(({before:wt})=>wt==null?void 0:wt(_t)),St.forEach(({after:wt})=>wt==null?void 0:wt(_t))},SCROLL_ALLOW({d:vt}){vt.dispose()},TEARDOWN({doc:vt}){this.delete(vt)}});a$5.subscribe(()=>{let vt=a$5.getSnapshot(),ht=new Map;for(let[xt]of vt)ht.set(xt,xt.documentElement.style.overflow);for(let xt of vt.values()){let _t=ht.get(xt.doc)==="hidden",St=xt.count!==0;(St&&!_t||!St&&_t)&&a$5.dispatch(xt.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",xt),xt.count===0&&a$5.dispatch("TEARDOWN",xt)}});function a$4(vt,ht,xt=()=>({containers:[]})){let _t=o$1(a$5),St=ht?_t.get(ht):void 0,wt=St?St.count>0:!1;return n$5(()=>{if(!(!ht||!vt))return a$5.dispatch("PUSH",ht,xt),()=>a$5.dispatch("POP",ht,xt)},[vt,ht]),wt}function f$3(vt,ht,xt=()=>[document.body]){let _t=I$2(vt,"scroll-lock");a$4(_t,ht,St=>{var wt;return{containers:[...(wt=St.containers)!=null?wt:[],xt]}})}function t(vt){return[vt.screenX,vt.screenY]}function u$2(){let vt=reactExports.useRef([-1,-1]);return{wasMoved(ht){let xt=t(ht);return vt.current[0]===xt[0]&&vt.current[1]===xt[1]?!1:(vt.current=xt,!0)},update(ht){vt.current=t(ht)}}}function c$3(vt=0){let[ht,xt]=reactExports.useState(vt),_t=reactExports.useCallback(Rt=>xt(Rt),[ht]),St=reactExports.useCallback(Rt=>xt(It=>It|Rt),[ht]),wt=reactExports.useCallback(Rt=>(ht&Rt)===Rt,[ht]),At=reactExports.useCallback(Rt=>xt(It=>It&~Rt),[xt]),Ct=reactExports.useCallback(Rt=>xt(It=>It^Rt),[xt]);return{flags:ht,setFlag:_t,addFlag:St,hasFlag:wt,removeFlag:At,toggleFlag:Ct}}var define_process_env_default={},T,b$1;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((T=process==null?void 0:define_process_env_default)==null?void 0:T.NODE_ENV)==="test"&&typeof((b$1=Element==null?void 0:Element.prototype)==null?void 0:b$1.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var L=(vt=>(vt[vt.None=0]="None",vt[vt.Closed=1]="Closed",vt[vt.Enter=2]="Enter",vt[vt.Leave=4]="Leave",vt))(L||{});function R(vt){let ht={};for(let xt in vt)vt[xt]===!0&&(ht[`data-${xt}`]="");return ht}function x$1(vt,ht,xt,_t){let[St,wt]=reactExports.useState(xt),{hasFlag:At,addFlag:Ct,removeFlag:Rt}=c$3(vt&&St?3:0),It=reactExports.useRef(!1),Lt=reactExports.useRef(!1),kt=p$4();return n$5(()=>{var Dt;if(vt){if(xt&&wt(!0),!ht){xt&&Ct(3);return}return(Dt=_t==null?void 0:_t.start)==null||Dt.call(_t,xt),C$2(ht,{inFlight:It,prepare(){Lt.current?Lt.current=!1:Lt.current=It.current,It.current=!0,!Lt.current&&(xt?(Ct(3),Rt(4)):(Ct(4),Rt(2)))},run(){Lt.current?xt?(Rt(3),Ct(4)):(Rt(4),Ct(3)):xt?Rt(1):Ct(1)},done(){var $t;Lt.current&&typeof ht.getAnimations=="function"&&ht.getAnimations().length>0||(It.current=!1,Rt(7),xt||wt(!1),($t=_t==null?void 0:_t.end)==null||$t.call(_t,xt))}})}},[vt,xt,ht,kt]),vt?[St,{closed:At(1),enter:At(2),leave:At(4),transition:At(2)||At(4)}]:[xt,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function C$2(vt,{prepare:ht,run:xt,done:_t,inFlight:St}){let wt=o$7();return j$1(vt,{prepare:ht,inFlight:St}),wt.nextFrame(()=>{xt(),wt.requestAnimationFrame(()=>{wt.add(M$2(vt,_t))})}),wt.dispose}function M$2(vt,ht){var xt,_t;let St=o$7();if(!vt)return St.dispose;let wt=!1;St.add(()=>{wt=!0});let At=(_t=(xt=vt.getAnimations)==null?void 0:xt.call(vt).filter(Ct=>Ct instanceof CSSTransition))!=null?_t:[];return At.length===0?(ht(),St.dispose):(Promise.allSettled(At.map(Ct=>Ct.finished)).then(()=>{wt||ht()}),St.dispose)}function j$1(vt,{inFlight:ht,prepare:xt}){if(ht!=null&&ht.current){xt();return}let _t=vt.style.transition;vt.style.transition="none",xt(),vt.offsetHeight,vt.style.transition=_t}function F$2(vt,{container:ht,accept:xt,walk:_t}){let St=reactExports.useRef(xt),wt=reactExports.useRef(_t);reactExports.useEffect(()=>{St.current=xt,wt.current=_t},[xt,_t]),n$5(()=>{if(!ht||!vt)return;let At=o$8(ht);if(!At)return;let Ct=St.current,Rt=wt.current,It=Object.assign(kt=>Ct(kt),{acceptNode:Ct}),Lt=At.createTreeWalker(ht,NodeFilter.SHOW_ELEMENT,It,!1);for(;Lt.nextNode();)Rt(Lt.currentNode)},[ht,vt,St,wt])}function hasWindow(){return typeof window<"u"}function getNodeName(vt){return isNode(vt)?(vt.nodeName||"").toLowerCase():"#document"}function getWindow(vt){var ht;return(vt==null||(ht=vt.ownerDocument)==null?void 0:ht.defaultView)||window}function getDocumentElement(vt){var ht;return(ht=(isNode(vt)?vt.ownerDocument:vt.document)||window.document)==null?void 0:ht.documentElement}function isNode(vt){return hasWindow()?vt instanceof Node||vt instanceof getWindow(vt).Node:!1}function isElement(vt){return hasWindow()?vt instanceof Element||vt instanceof getWindow(vt).Element:!1}function isHTMLElement(vt){return hasWindow()?vt instanceof HTMLElement||vt instanceof getWindow(vt).HTMLElement:!1}function isShadowRoot(vt){return!hasWindow()||typeof ShadowRoot>"u"?!1:vt instanceof ShadowRoot||vt instanceof getWindow(vt).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(vt){const{overflow:ht,overflowX:xt,overflowY:_t,display:St}=getComputedStyle$1(vt);return/auto|scroll|overlay|hidden|clip/.test(ht+_t+xt)&&!invalidOverflowDisplayValues.has(St)}const tableElements=new Set(["table","td","th"]);function isTableElement(vt){return tableElements.has(getNodeName(vt))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(vt){return topLayerSelectors.some(ht=>{try{return vt.matches(ht)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(vt){const ht=isWebKit(),xt=isElement(vt)?getComputedStyle$1(vt):vt;return transformProperties.some(_t=>xt[_t]?xt[_t]!=="none":!1)||(xt.containerType?xt.containerType!=="normal":!1)||!ht&&(xt.backdropFilter?xt.backdropFilter!=="none":!1)||!ht&&(xt.filter?xt.filter!=="none":!1)||willChangeValues.some(_t=>(xt.willChange||"").includes(_t))||containValues.some(_t=>(xt.contain||"").includes(_t))}function getContainingBlock(vt){let ht=getParentNode(vt);for(;isHTMLElement(ht)&&!isLastTraversableNode(ht);){if(isContainingBlock(ht))return ht;if(isTopLayer(ht))return null;ht=getParentNode(ht)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(vt){return lastTraversableNodeNames.has(getNodeName(vt))}function getComputedStyle$1(vt){return getWindow(vt).getComputedStyle(vt)}function getNodeScroll(vt){return isElement(vt)?{scrollLeft:vt.scrollLeft,scrollTop:vt.scrollTop}:{scrollLeft:vt.scrollX,scrollTop:vt.scrollY}}function getParentNode(vt){if(getNodeName(vt)==="html")return vt;const ht=vt.assignedSlot||vt.parentNode||isShadowRoot(vt)&&vt.host||getDocumentElement(vt);return isShadowRoot(ht)?ht.host:ht}function getNearestOverflowAncestor(vt){const ht=getParentNode(vt);return isLastTraversableNode(ht)?vt.ownerDocument?vt.ownerDocument.body:vt.body:isHTMLElement(ht)&&isOverflowElement(ht)?ht:getNearestOverflowAncestor(ht)}function getOverflowAncestors(vt,ht,xt){var _t;ht===void 0&&(ht=[]),xt===void 0&&(xt=!0);const St=getNearestOverflowAncestor(vt),wt=St===((_t=vt.ownerDocument)==null?void 0:_t.body),At=getWindow(St);if(wt){const Ct=getFrameElement(At);return ht.concat(At,At.visualViewport||[],isOverflowElement(St)?St:[],Ct&&xt?getOverflowAncestors(Ct):[])}return ht.concat(St,getOverflowAncestors(St,[],xt))}function getFrameElement(vt){return vt.parent&&Object.getPrototypeOf(vt.parent)?vt.frameElement:null}function getUserAgent(){const vt=navigator.userAgentData;return vt&&Array.isArray(vt.brands)?vt.brands.map(ht=>{let{brand:xt,version:_t}=ht;return xt+"/"+_t}).join(" "):navigator.userAgent}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=vt=>({x:vt,y:vt}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(vt,ht,xt){return max(vt,min(ht,xt))}function evaluate(vt,ht){return typeof vt=="function"?vt(ht):vt}function getSide(vt){return vt.split("-")[0]}function getAlignment(vt){return vt.split("-")[1]}function getOppositeAxis(vt){return vt==="x"?"y":"x"}function getAxisLength(vt){return vt==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(vt){return yAxisSides.has(getSide(vt))?"y":"x"}function getAlignmentAxis(vt){return getOppositeAxis(getSideAxis(vt))}function getAlignmentSides(vt,ht,xt){xt===void 0&&(xt=!1);const _t=getAlignment(vt),St=getAlignmentAxis(vt),wt=getAxisLength(St);let At=St==="x"?_t===(xt?"end":"start")?"right":"left":_t==="start"?"bottom":"top";return ht.reference[wt]>ht.floating[wt]&&(At=getOppositePlacement(At)),[At,getOppositePlacement(At)]}function getExpandedPlacements(vt){const ht=getOppositePlacement(vt);return[getOppositeAlignmentPlacement(vt),ht,getOppositeAlignmentPlacement(ht)]}function getOppositeAlignmentPlacement(vt){return vt.replace(/start|end/g,ht=>oppositeAlignmentMap[ht])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(vt,ht,xt){switch(vt){case"top":case"bottom":return xt?ht?rlPlacement:lrPlacement:ht?lrPlacement:rlPlacement;case"left":case"right":return ht?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(vt,ht,xt,_t){const St=getAlignment(vt);let wt=getSideList(getSide(vt),xt==="start",_t);return St&&(wt=wt.map(At=>At+"-"+St),ht&&(wt=wt.concat(wt.map(getOppositeAlignmentPlacement)))),wt}function getOppositePlacement(vt){return vt.replace(/left|right|bottom|top/g,ht=>oppositeSideMap[ht])}function expandPaddingObject(vt){return{top:0,right:0,bottom:0,left:0,...vt}}function getPaddingObject(vt){return typeof vt!="number"?expandPaddingObject(vt):{top:vt,right:vt,bottom:vt,left:vt}}function rectToClientRect(vt){const{x:ht,y:xt,width:_t,height:St}=vt;return{width:_t,height:St,top:xt,left:ht,right:ht+_t,bottom:xt+St,x:ht,y:xt}}function computeCoordsFromPlacement(vt,ht,xt){let{reference:_t,floating:St}=vt;const wt=getSideAxis(ht),At=getAlignmentAxis(ht),Ct=getAxisLength(At),Rt=getSide(ht),It=wt==="y",Lt=_t.x+_t.width/2-St.width/2,kt=_t.y+_t.height/2-St.height/2,Dt=_t[Ct]/2-St[Ct]/2;let $t;switch(Rt){case"top":$t={x:Lt,y:_t.y-St.height};break;case"bottom":$t={x:Lt,y:_t.y+_t.height};break;case"right":$t={x:_t.x+_t.width,y:kt};break;case"left":$t={x:_t.x-St.width,y:kt};break;default:$t={x:_t.x,y:_t.y}}switch(getAlignment(ht)){case"start":$t[At]-=Dt*(xt&&It?-1:1);break;case"end":$t[At]+=Dt*(xt&&It?-1:1);break}return $t}const computePosition$1=async(vt,ht,xt)=>{const{placement:_t="bottom",strategy:St="absolute",middleware:wt=[],platform:At}=xt,Ct=wt.filter(Boolean),Rt=await(At.isRTL==null?void 0:At.isRTL(ht));let It=await At.getElementRects({reference:vt,floating:ht,strategy:St}),{x:Lt,y:kt}=computeCoordsFromPlacement(It,_t,Rt),Dt=_t,$t={},Ot=0;for(let zt=0;zt<Ct.length;zt++){const{name:Gt,fn:Bt}=Ct[zt],{x:Ut,y:Vt,data:Ht,reset:Xt}=await Bt({x:Lt,y:kt,initialPlacement:_t,placement:Dt,strategy:St,middlewareData:$t,rects:It,platform:At,elements:{reference:vt,floating:ht}});Lt=Ut??Lt,kt=Vt??kt,$t={...$t,[Gt]:{...$t[Gt],...Ht}},Xt&&Ot<=50&&(Ot++,typeof Xt=="object"&&(Xt.placement&&(Dt=Xt.placement),Xt.rects&&(It=Xt.rects===!0?await At.getElementRects({reference:vt,floating:ht,strategy:St}):Xt.rects),{x:Lt,y:kt}=computeCoordsFromPlacement(It,Dt,Rt)),zt=-1)}return{x:Lt,y:kt,placement:Dt,strategy:St,middlewareData:$t}};async function detectOverflow$1(vt,ht){var xt;ht===void 0&&(ht={});const{x:_t,y:St,platform:wt,rects:At,elements:Ct,strategy:Rt}=vt,{boundary:It="clippingAncestors",rootBoundary:Lt="viewport",elementContext:kt="floating",altBoundary:Dt=!1,padding:$t=0}=evaluate(ht,vt),Ot=getPaddingObject($t),Gt=Ct[Dt?kt==="floating"?"reference":"floating":kt],Bt=rectToClientRect(await wt.getClippingRect({element:(xt=await(wt.isElement==null?void 0:wt.isElement(Gt)))==null||xt?Gt:Gt.contextElement||await(wt.getDocumentElement==null?void 0:wt.getDocumentElement(Ct.floating)),boundary:It,rootBoundary:Lt,strategy:Rt})),Ut=kt==="floating"?{x:_t,y:St,width:At.floating.width,height:At.floating.height}:At.reference,Vt=await(wt.getOffsetParent==null?void 0:wt.getOffsetParent(Ct.floating)),Ht=await(wt.isElement==null?void 0:wt.isElement(Vt))?await(wt.getScale==null?void 0:wt.getScale(Vt))||{x:1,y:1}:{x:1,y:1},Xt=rectToClientRect(wt.convertOffsetParentRelativeRectToViewportRelativeRect?await wt.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Ct,rect:Ut,offsetParent:Vt,strategy:Rt}):Ut);return{top:(Bt.top-Xt.top+Ot.top)/Ht.y,bottom:(Xt.bottom-Bt.bottom+Ot.bottom)/Ht.y,left:(Bt.left-Xt.left+Ot.left)/Ht.x,right:(Xt.right-Bt.right+Ot.right)/Ht.x}}const flip$2=function(vt){return vt===void 0&&(vt={}),{name:"flip",options:vt,async fn(ht){var xt,_t;const{placement:St,middlewareData:wt,rects:At,initialPlacement:Ct,platform:Rt,elements:It}=ht,{mainAxis:Lt=!0,crossAxis:kt=!0,fallbackPlacements:Dt,fallbackStrategy:$t="bestFit",fallbackAxisSideDirection:Ot="none",flipAlignment:zt=!0,...Gt}=evaluate(vt,ht);if((xt=wt.arrow)!=null&&xt.alignmentOffset)return{};const Bt=getSide(St),Ut=getSideAxis(Ct),Vt=getSide(Ct)===Ct,Ht=await(Rt.isRTL==null?void 0:Rt.isRTL(It.floating)),Xt=Dt||(Vt||!zt?[getOppositePlacement(Ct)]:getExpandedPlacements(Ct)),qt=Ot!=="none";!Dt&&qt&&Xt.push(...getOppositeAxisPlacements(Ct,zt,Ot,Ht));const Kt=[Ct,...Xt],en=await detectOverflow$1(ht,Gt),tn=[];let Qt=((_t=wt.flip)==null?void 0:_t.overflows)||[];if(Lt&&tn.push(en[Bt]),kt){const vn=getAlignmentSides(St,At,Ht);tn.push(en[vn[0]],en[vn[1]])}if(Qt=[...Qt,{placement:St,overflows:tn}],!tn.every(vn=>vn<=0)){var sn,un;const vn=(((sn=wt.flip)==null?void 0:sn.index)||0)+1,pn=Kt[vn];if(pn&&(!(kt==="alignment"?Ut!==getSideAxis(pn):!1)||Qt.every(Yt=>Yt.overflows[0]>0&&getSideAxis(Yt.placement)===Ut)))return{data:{index:vn,overflows:Qt},reset:{placement:pn}};let rn=(un=Qt.filter(an=>an.overflows[0]<=0).sort((an,Yt)=>an.overflows[1]-Yt.overflows[1])[0])==null?void 0:un.placement;if(!rn)switch($t){case"bestFit":{var dn;const an=(dn=Qt.filter(Yt=>{if(qt){const Jt=getSideAxis(Yt.placement);return Jt===Ut||Jt==="y"}return!0}).map(Yt=>[Yt.placement,Yt.overflows.filter(Jt=>Jt>0).reduce((Jt,on)=>Jt+on,0)]).sort((Yt,Jt)=>Yt[1]-Jt[1])[0])==null?void 0:dn[0];an&&(rn=an);break}case"initialPlacement":rn=Ct;break}if(St!==rn)return{reset:{placement:rn}}}return{}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(vt,ht){const{placement:xt,platform:_t,elements:St}=vt,wt=await(_t.isRTL==null?void 0:_t.isRTL(St.floating)),At=getSide(xt),Ct=getAlignment(xt),Rt=getSideAxis(xt)==="y",It=originSides.has(At)?-1:1,Lt=wt&&Rt?-1:1,kt=evaluate(ht,vt);let{mainAxis:Dt,crossAxis:$t,alignmentAxis:Ot}=typeof kt=="number"?{mainAxis:kt,crossAxis:0,alignmentAxis:null}:{mainAxis:kt.mainAxis||0,crossAxis:kt.crossAxis||0,alignmentAxis:kt.alignmentAxis};return Ct&&typeof Ot=="number"&&($t=Ct==="end"?Ot*-1:Ot),Rt?{x:$t*Lt,y:Dt*It}:{x:Dt*It,y:$t*Lt}}const offset$2=function(vt){return vt===void 0&&(vt=0),{name:"offset",options:vt,async fn(ht){var xt,_t;const{x:St,y:wt,placement:At,middlewareData:Ct}=ht,Rt=await convertValueToCoords(ht,vt);return At===((xt=Ct.offset)==null?void 0:xt.placement)&&(_t=Ct.arrow)!=null&&_t.alignmentOffset?{}:{x:St+Rt.x,y:wt+Rt.y,data:{...Rt,placement:At}}}}},shift$2=function(vt){return vt===void 0&&(vt={}),{name:"shift",options:vt,async fn(ht){const{x:xt,y:_t,placement:St}=ht,{mainAxis:wt=!0,crossAxis:At=!1,limiter:Ct={fn:Gt=>{let{x:Bt,y:Ut}=Gt;return{x:Bt,y:Ut}}},...Rt}=evaluate(vt,ht),It={x:xt,y:_t},Lt=await detectOverflow$1(ht,Rt),kt=getSideAxis(getSide(St)),Dt=getOppositeAxis(kt);let $t=It[Dt],Ot=It[kt];if(wt){const Gt=Dt==="y"?"top":"left",Bt=Dt==="y"?"bottom":"right",Ut=$t+Lt[Gt],Vt=$t-Lt[Bt];$t=clamp$1(Ut,$t,Vt)}if(At){const Gt=kt==="y"?"top":"left",Bt=kt==="y"?"bottom":"right",Ut=Ot+Lt[Gt],Vt=Ot-Lt[Bt];Ot=clamp$1(Ut,Ot,Vt)}const zt=Ct.fn({...ht,[Dt]:$t,[kt]:Ot});return{...zt,data:{x:zt.x-xt,y:zt.y-_t,enabled:{[Dt]:wt,[kt]:At}}}}}},size$2=function(vt){return vt===void 0&&(vt={}),{name:"size",options:vt,async fn(ht){var xt,_t;const{placement:St,rects:wt,platform:At,elements:Ct}=ht,{apply:Rt=()=>{},...It}=evaluate(vt,ht),Lt=await detectOverflow$1(ht,It),kt=getSide(St),Dt=getAlignment(St),$t=getSideAxis(St)==="y",{width:Ot,height:zt}=wt.floating;let Gt,Bt;kt==="top"||kt==="bottom"?(Gt=kt,Bt=Dt===(await(At.isRTL==null?void 0:At.isRTL(Ct.floating))?"start":"end")?"left":"right"):(Bt=kt,Gt=Dt==="end"?"top":"bottom");const Ut=zt-Lt.top-Lt.bottom,Vt=Ot-Lt.left-Lt.right,Ht=min(zt-Lt[Gt],Ut),Xt=min(Ot-Lt[Bt],Vt),qt=!ht.middlewareData.shift;let Kt=Ht,en=Xt;if((xt=ht.middlewareData.shift)!=null&&xt.enabled.x&&(en=Vt),(_t=ht.middlewareData.shift)!=null&&_t.enabled.y&&(Kt=Ut),qt&&!Dt){const Qt=max(Lt.left,0),sn=max(Lt.right,0),un=max(Lt.top,0),dn=max(Lt.bottom,0);$t?en=Ot-2*(Qt!==0||sn!==0?Qt+sn:max(Lt.left,Lt.right)):Kt=zt-2*(un!==0||dn!==0?un+dn:max(Lt.top,Lt.bottom))}await Rt({...ht,availableWidth:en,availableHeight:Kt});const tn=await At.getDimensions(Ct.floating);return Ot!==tn.width||zt!==tn.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(vt){const ht=getComputedStyle$1(vt);let xt=parseFloat(ht.width)||0,_t=parseFloat(ht.height)||0;const St=isHTMLElement(vt),wt=St?vt.offsetWidth:xt,At=St?vt.offsetHeight:_t,Ct=round(xt)!==wt||round(_t)!==At;return Ct&&(xt=wt,_t=At),{width:xt,height:_t,$:Ct}}function unwrapElement(vt){return isElement(vt)?vt:vt.contextElement}function getScale(vt){const ht=unwrapElement(vt);if(!isHTMLElement(ht))return createCoords(1);const xt=ht.getBoundingClientRect(),{width:_t,height:St,$:wt}=getCssDimensions(ht);let At=(wt?round(xt.width):xt.width)/_t,Ct=(wt?round(xt.height):xt.height)/St;return(!At||!Number.isFinite(At))&&(At=1),(!Ct||!Number.isFinite(Ct))&&(Ct=1),{x:At,y:Ct}}const noOffsets=createCoords(0);function getVisualOffsets(vt){const ht=getWindow(vt);return!isWebKit()||!ht.visualViewport?noOffsets:{x:ht.visualViewport.offsetLeft,y:ht.visualViewport.offsetTop}}function shouldAddVisualOffsets(vt,ht,xt){return ht===void 0&&(ht=!1),!xt||ht&&xt!==getWindow(vt)?!1:ht}function getBoundingClientRect(vt,ht,xt,_t){ht===void 0&&(ht=!1),xt===void 0&&(xt=!1);const St=vt.getBoundingClientRect(),wt=unwrapElement(vt);let At=createCoords(1);ht&&(_t?isElement(_t)&&(At=getScale(_t)):At=getScale(vt));const Ct=shouldAddVisualOffsets(wt,xt,_t)?getVisualOffsets(wt):createCoords(0);let Rt=(St.left+Ct.x)/At.x,It=(St.top+Ct.y)/At.y,Lt=St.width/At.x,kt=St.height/At.y;if(wt){const Dt=getWindow(wt),$t=_t&&isElement(_t)?getWindow(_t):_t;let Ot=Dt,zt=getFrameElement(Ot);for(;zt&&_t&&$t!==Ot;){const Gt=getScale(zt),Bt=zt.getBoundingClientRect(),Ut=getComputedStyle$1(zt),Vt=Bt.left+(zt.clientLeft+parseFloat(Ut.paddingLeft))*Gt.x,Ht=Bt.top+(zt.clientTop+parseFloat(Ut.paddingTop))*Gt.y;Rt*=Gt.x,It*=Gt.y,Lt*=Gt.x,kt*=Gt.y,Rt+=Vt,It+=Ht,Ot=getWindow(zt),zt=getFrameElement(Ot)}}return rectToClientRect({width:Lt,height:kt,x:Rt,y:It})}function getWindowScrollBarX(vt,ht){const xt=getNodeScroll(vt).scrollLeft;return ht?ht.left+xt:getBoundingClientRect(getDocumentElement(vt)).left+xt}function getHTMLOffset(vt,ht,xt){xt===void 0&&(xt=!1);const _t=vt.getBoundingClientRect(),St=_t.left+ht.scrollLeft-(xt?0:getWindowScrollBarX(vt,_t)),wt=_t.top+ht.scrollTop;return{x:St,y:wt}}function convertOffsetParentRelativeRectToViewportRelativeRect(vt){let{elements:ht,rect:xt,offsetParent:_t,strategy:St}=vt;const wt=St==="fixed",At=getDocumentElement(_t),Ct=ht?isTopLayer(ht.floating):!1;if(_t===At||Ct&&wt)return xt;let Rt={scrollLeft:0,scrollTop:0},It=createCoords(1);const Lt=createCoords(0),kt=isHTMLElement(_t);if((kt||!kt&&!wt)&&((getNodeName(_t)!=="body"||isOverflowElement(At))&&(Rt=getNodeScroll(_t)),isHTMLElement(_t))){const $t=getBoundingClientRect(_t);It=getScale(_t),Lt.x=$t.x+_t.clientLeft,Lt.y=$t.y+_t.clientTop}const Dt=At&&!kt&&!wt?getHTMLOffset(At,Rt,!0):createCoords(0);return{width:xt.width*It.x,height:xt.height*It.y,x:xt.x*It.x-Rt.scrollLeft*It.x+Lt.x+Dt.x,y:xt.y*It.y-Rt.scrollTop*It.y+Lt.y+Dt.y}}function getClientRects(vt){return Array.from(vt.getClientRects())}function getDocumentRect(vt){const ht=getDocumentElement(vt),xt=getNodeScroll(vt),_t=vt.ownerDocument.body,St=max(ht.scrollWidth,ht.clientWidth,_t.scrollWidth,_t.clientWidth),wt=max(ht.scrollHeight,ht.clientHeight,_t.scrollHeight,_t.clientHeight);let At=-xt.scrollLeft+getWindowScrollBarX(vt);const Ct=-xt.scrollTop;return getComputedStyle$1(_t).direction==="rtl"&&(At+=max(ht.clientWidth,_t.clientWidth)-St),{width:St,height:wt,x:At,y:Ct}}function getViewportRect(vt,ht){const xt=getWindow(vt),_t=getDocumentElement(vt),St=xt.visualViewport;let wt=_t.clientWidth,At=_t.clientHeight,Ct=0,Rt=0;if(St){wt=St.width,At=St.height;const It=isWebKit();(!It||It&&ht==="fixed")&&(Ct=St.offsetLeft,Rt=St.offsetTop)}return{width:wt,height:At,x:Ct,y:Rt}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(vt,ht){const xt=getBoundingClientRect(vt,!0,ht==="fixed"),_t=xt.top+vt.clientTop,St=xt.left+vt.clientLeft,wt=isHTMLElement(vt)?getScale(vt):createCoords(1),At=vt.clientWidth*wt.x,Ct=vt.clientHeight*wt.y,Rt=St*wt.x,It=_t*wt.y;return{width:At,height:Ct,x:Rt,y:It}}function getClientRectFromClippingAncestor(vt,ht,xt){let _t;if(ht==="viewport")_t=getViewportRect(vt,xt);else if(ht==="document")_t=getDocumentRect(getDocumentElement(vt));else if(isElement(ht))_t=getInnerBoundingClientRect(ht,xt);else{const St=getVisualOffsets(vt);_t={x:ht.x-St.x,y:ht.y-St.y,width:ht.width,height:ht.height}}return rectToClientRect(_t)}function hasFixedPositionAncestor(vt,ht){const xt=getParentNode(vt);return xt===ht||!isElement(xt)||isLastTraversableNode(xt)?!1:getComputedStyle$1(xt).position==="fixed"||hasFixedPositionAncestor(xt,ht)}function getClippingElementAncestors(vt,ht){const xt=ht.get(vt);if(xt)return xt;let _t=getOverflowAncestors(vt,[],!1).filter(Ct=>isElement(Ct)&&getNodeName(Ct)!=="body"),St=null;const wt=getComputedStyle$1(vt).position==="fixed";let At=wt?getParentNode(vt):vt;for(;isElement(At)&&!isLastTraversableNode(At);){const Ct=getComputedStyle$1(At),Rt=isContainingBlock(At);!Rt&&Ct.position==="fixed"&&(St=null),(wt?!Rt&&!St:!Rt&&Ct.position==="static"&&!!St&&absoluteOrFixed.has(St.position)||isOverflowElement(At)&&!Rt&&hasFixedPositionAncestor(vt,At))?_t=_t.filter(Lt=>Lt!==At):St=Ct,At=getParentNode(At)}return ht.set(vt,_t),_t}function getClippingRect(vt){let{element:ht,boundary:xt,rootBoundary:_t,strategy:St}=vt;const At=[...xt==="clippingAncestors"?isTopLayer(ht)?[]:getClippingElementAncestors(ht,this._c):[].concat(xt),_t],Ct=At[0],Rt=At.reduce((It,Lt)=>{const kt=getClientRectFromClippingAncestor(ht,Lt,St);return It.top=max(kt.top,It.top),It.right=min(kt.right,It.right),It.bottom=min(kt.bottom,It.bottom),It.left=max(kt.left,It.left),It},getClientRectFromClippingAncestor(ht,Ct,St));return{width:Rt.right-Rt.left,height:Rt.bottom-Rt.top,x:Rt.left,y:Rt.top}}function getDimensions(vt){const{width:ht,height:xt}=getCssDimensions(vt);return{width:ht,height:xt}}function getRectRelativeToOffsetParent(vt,ht,xt){const _t=isHTMLElement(ht),St=getDocumentElement(ht),wt=xt==="fixed",At=getBoundingClientRect(vt,!0,wt,ht);let Ct={scrollLeft:0,scrollTop:0};const Rt=createCoords(0);function It(){Rt.x=getWindowScrollBarX(St)}if(_t||!_t&&!wt)if((getNodeName(ht)!=="body"||isOverflowElement(St))&&(Ct=getNodeScroll(ht)),_t){const $t=getBoundingClientRect(ht,!0,wt,ht);Rt.x=$t.x+ht.clientLeft,Rt.y=$t.y+ht.clientTop}else St&&It();wt&&!_t&&St&&It();const Lt=St&&!_t&&!wt?getHTMLOffset(St,Ct):createCoords(0),kt=At.left+Ct.scrollLeft-Rt.x-Lt.x,Dt=At.top+Ct.scrollTop-Rt.y-Lt.y;return{x:kt,y:Dt,width:At.width,height:At.height}}function isStaticPositioned(vt){return getComputedStyle$1(vt).position==="static"}function getTrueOffsetParent(vt,ht){if(!isHTMLElement(vt)||getComputedStyle$1(vt).position==="fixed")return null;if(ht)return ht(vt);let xt=vt.offsetParent;return getDocumentElement(vt)===xt&&(xt=xt.ownerDocument.body),xt}function getOffsetParent(vt,ht){const xt=getWindow(vt);if(isTopLayer(vt))return xt;if(!isHTMLElement(vt)){let St=getParentNode(vt);for(;St&&!isLastTraversableNode(St);){if(isElement(St)&&!isStaticPositioned(St))return St;St=getParentNode(St)}return xt}let _t=getTrueOffsetParent(vt,ht);for(;_t&&isTableElement(_t)&&isStaticPositioned(_t);)_t=getTrueOffsetParent(_t,ht);return _t&&isLastTraversableNode(_t)&&isStaticPositioned(_t)&&!isContainingBlock(_t)?xt:_t||getContainingBlock(vt)||xt}const getElementRects=async function(vt){const ht=this.getOffsetParent||getOffsetParent,xt=this.getDimensions,_t=await xt(vt.floating);return{reference:getRectRelativeToOffsetParent(vt.reference,await ht(vt.floating),vt.strategy),floating:{x:0,y:0,width:_t.width,height:_t.height}}};function isRTL(vt){return getComputedStyle$1(vt).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(vt,ht){return vt.x===ht.x&&vt.y===ht.y&&vt.width===ht.width&&vt.height===ht.height}function observeMove(vt,ht){let xt=null,_t;const St=getDocumentElement(vt);function wt(){var Ct;clearTimeout(_t),(Ct=xt)==null||Ct.disconnect(),xt=null}function At(Ct,Rt){Ct===void 0&&(Ct=!1),Rt===void 0&&(Rt=1),wt();const It=vt.getBoundingClientRect(),{left:Lt,top:kt,width:Dt,height:$t}=It;if(Ct||ht(),!Dt||!$t)return;const Ot=floor(kt),zt=floor(St.clientWidth-(Lt+Dt)),Gt=floor(St.clientHeight-(kt+$t)),Bt=floor(Lt),Vt={rootMargin:-Ot+"px "+-zt+"px "+-Gt+"px "+-Bt+"px",threshold:max(0,min(1,Rt))||1};let Ht=!0;function Xt(qt){const Kt=qt[0].intersectionRatio;if(Kt!==Rt){if(!Ht)return At();Kt?At(!1,Kt):_t=setTimeout(()=>{At(!1,1e-7)},1e3)}Kt===1&&!rectsAreEqual(It,vt.getBoundingClientRect())&&At(),Ht=!1}try{xt=new IntersectionObserver(Xt,{...Vt,root:St.ownerDocument})}catch{xt=new IntersectionObserver(Xt,Vt)}xt.observe(vt)}return At(!0),wt}function autoUpdate(vt,ht,xt,_t){_t===void 0&&(_t={});const{ancestorScroll:St=!0,ancestorResize:wt=!0,elementResize:At=typeof ResizeObserver=="function",layoutShift:Ct=typeof IntersectionObserver=="function",animationFrame:Rt=!1}=_t,It=unwrapElement(vt),Lt=St||wt?[...It?getOverflowAncestors(It):[],...getOverflowAncestors(ht)]:[];Lt.forEach(Bt=>{St&&Bt.addEventListener("scroll",xt,{passive:!0}),wt&&Bt.addEventListener("resize",xt)});const kt=It&&Ct?observeMove(It,xt):null;let Dt=-1,$t=null;At&&($t=new ResizeObserver(Bt=>{let[Ut]=Bt;Ut&&Ut.target===It&&$t&&($t.unobserve(ht),cancelAnimationFrame(Dt),Dt=requestAnimationFrame(()=>{var Vt;(Vt=$t)==null||Vt.observe(ht)})),xt()}),It&&!Rt&&$t.observe(It),$t.observe(ht));let Ot,zt=Rt?getBoundingClientRect(vt):null;Rt&&Gt();function Gt(){const Bt=getBoundingClientRect(vt);zt&&!rectsAreEqual(zt,Bt)&&xt(),zt=Bt,Ot=requestAnimationFrame(Gt)}return xt(),()=>{var Bt;Lt.forEach(Ut=>{St&&Ut.removeEventListener("scroll",xt),wt&&Ut.removeEventListener("resize",xt)}),kt==null||kt(),(Bt=$t)==null||Bt.disconnect(),$t=null,Rt&&cancelAnimationFrame(Ot)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,computePosition=(vt,ht,xt)=>{const _t=new Map,St={platform,...xt},wt={...St.platform,_c:_t};return computePosition$1(vt,ht,{...St,platform:wt})};var isClient=typeof document<"u",noop=function(){},index$1=isClient?reactExports.useLayoutEffect:noop;function deepEqual(vt,ht){if(vt===ht)return!0;if(typeof vt!=typeof ht)return!1;if(typeof vt=="function"&&vt.toString()===ht.toString())return!0;let xt,_t,St;if(vt&&ht&&typeof vt=="object"){if(Array.isArray(vt)){if(xt=vt.length,xt!==ht.length)return!1;for(_t=xt;_t--!==0;)if(!deepEqual(vt[_t],ht[_t]))return!1;return!0}if(St=Object.keys(vt),xt=St.length,xt!==Object.keys(ht).length)return!1;for(_t=xt;_t--!==0;)if(!{}.hasOwnProperty.call(ht,St[_t]))return!1;for(_t=xt;_t--!==0;){const wt=St[_t];if(!(wt==="_owner"&&vt.$$typeof)&&!deepEqual(vt[wt],ht[wt]))return!1}return!0}return vt!==vt&&ht!==ht}function getDPR(vt){return typeof window>"u"?1:(vt.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(vt,ht){const xt=getDPR(vt);return Math.round(ht*xt)/xt}function useLatestRef(vt){const ht=reactExports.useRef(vt);return index$1(()=>{ht.current=vt}),ht}function useFloating$1(vt){vt===void 0&&(vt={});const{placement:ht="bottom",strategy:xt="absolute",middleware:_t=[],platform:St,elements:{reference:wt,floating:At}={},transform:Ct=!0,whileElementsMounted:Rt,open:It}=vt,[Lt,kt]=reactExports.useState({x:0,y:0,strategy:xt,placement:ht,middlewareData:{},isPositioned:!1}),[Dt,$t]=reactExports.useState(_t);deepEqual(Dt,_t)||$t(_t);const[Ot,zt]=reactExports.useState(null),[Gt,Bt]=reactExports.useState(null),Ut=reactExports.useCallback(Yt=>{Yt!==qt.current&&(qt.current=Yt,zt(Yt))},[]),Vt=reactExports.useCallback(Yt=>{Yt!==Kt.current&&(Kt.current=Yt,Bt(Yt))},[]),Ht=wt||Ot,Xt=At||Gt,qt=reactExports.useRef(null),Kt=reactExports.useRef(null),en=reactExports.useRef(Lt),tn=Rt!=null,Qt=useLatestRef(Rt),sn=useLatestRef(St),un=useLatestRef(It),dn=reactExports.useCallback(()=>{if(!qt.current||!Kt.current)return;const Yt={placement:ht,strategy:xt,middleware:Dt};sn.current&&(Yt.platform=sn.current),computePosition(qt.current,Kt.current,Yt).then(Jt=>{const on={...Jt,isPositioned:un.current!==!1};vn.current&&!deepEqual(en.current,on)&&(en.current=on,reactDomExports.flushSync(()=>{kt(on)}))})},[Dt,ht,xt,sn,un]);index$1(()=>{It===!1&&en.current.isPositioned&&(en.current.isPositioned=!1,kt(Yt=>({...Yt,isPositioned:!1})))},[It]);const vn=reactExports.useRef(!1);index$1(()=>(vn.current=!0,()=>{vn.current=!1}),[]),index$1(()=>{if(Ht&&(qt.current=Ht),Xt&&(Kt.current=Xt),Ht&&Xt){if(Qt.current)return Qt.current(Ht,Xt,dn);dn()}},[Ht,Xt,dn,Qt,tn]);const pn=reactExports.useMemo(()=>({reference:qt,floating:Kt,setReference:Ut,setFloating:Vt}),[Ut,Vt]),rn=reactExports.useMemo(()=>({reference:Ht,floating:Xt}),[Ht,Xt]),an=reactExports.useMemo(()=>{const Yt={position:xt,left:0,top:0};if(!rn.floating)return Yt;const Jt=roundByDPR(rn.floating,Lt.x),on=roundByDPR(rn.floating,Lt.y);return Ct?{...Yt,transform:"translate("+Jt+"px, "+on+"px)",...getDPR(rn.floating)>=1.5&&{willChange:"transform"}}:{position:xt,left:Jt,top:on}},[xt,Ct,rn.floating,Lt.x,Lt.y]);return reactExports.useMemo(()=>({...Lt,update:dn,refs:pn,elements:rn,floatingStyles:an}),[Lt,dn,pn,rn,an])}const offset=(vt,ht)=>({...offset$1(vt),options:[vt,ht]}),shift=(vt,ht)=>({...shift$1(vt),options:[vt,ht]}),flip=(vt,ht)=>({...flip$1(vt),options:[vt,ht]}),size=(vt,ht)=>({...size$1(vt),options:[vt,ht]}),SafeReact={...t$5},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(vt=>vt());function useEffectEvent(vt){const ht=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{ht.current=vt}),reactExports.useCallback(function(){for(var xt=arguments.length,_t=new Array(xt),St=0;St<xt;St++)_t[St]=arguments[St];return ht.current==null?void 0:ht.current(..._t)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[vt,ht]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{vt==null&&ht(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),vt}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const vt=new Map;return{emit(ht,xt){var _t;(_t=vt.get(ht))==null||_t.forEach(St=>St(xt))},on(ht,xt){vt.set(ht,[...vt.get(ht)||[],xt])},off(ht,xt){var _t;vt.set(ht,((_t=vt.get(ht))==null?void 0:_t.filter(St=>St!==xt))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var vt;return((vt=reactExports.useContext(FloatingNodeContext))==null?void 0:vt.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext),FOCUSABLE_ATTRIBUTE="data-floating-ui-focusable";function useFloatingRootContext(vt){const{open:ht=!1,onOpenChange:xt,elements:_t}=vt,St=useId(),wt=reactExports.useRef({}),[At]=reactExports.useState(()=>createPubSub()),Ct=useFloatingParentNodeId()!=null,[Rt,It]=reactExports.useState(_t.reference),Lt=useEffectEvent(($t,Ot,zt)=>{wt.current.openEvent=$t?Ot:void 0,At.emit("openchange",{open:$t,event:Ot,reason:zt,nested:Ct}),xt==null||xt($t,Ot,zt)}),kt=reactExports.useMemo(()=>({setPositionReference:It}),[]),Dt=reactExports.useMemo(()=>({reference:Rt||_t.reference||null,floating:_t.floating||null,domReference:_t.reference}),[Rt,_t.reference,_t.floating]);return reactExports.useMemo(()=>({dataRef:wt,open:ht,onOpenChange:Lt,elements:Dt,events:At,floatingId:St,refs:kt}),[ht,Lt,Dt,At,St,kt])}function useFloating(vt){vt===void 0&&(vt={});const{nodeId:ht}=vt,xt=useFloatingRootContext({...vt,elements:{reference:null,floating:null,...vt.elements}}),_t=vt.rootContext||xt,St=_t.elements,[wt,At]=reactExports.useState(null),[Ct,Rt]=reactExports.useState(null),Lt=(St==null?void 0:St.domReference)||wt,kt=reactExports.useRef(null),Dt=useFloatingTree();index(()=>{Lt&&(kt.current=Lt)},[Lt]);const $t=useFloating$1({...vt,elements:{...St,...Ct&&{reference:Ct}}}),Ot=reactExports.useCallback(Vt=>{const Ht=isElement(Vt)?{getBoundingClientRect:()=>Vt.getBoundingClientRect(),contextElement:Vt}:Vt;Rt(Ht),$t.refs.setReference(Ht)},[$t.refs]),zt=reactExports.useCallback(Vt=>{(isElement(Vt)||Vt===null)&&(kt.current=Vt,At(Vt)),(isElement($t.refs.reference.current)||$t.refs.reference.current===null||Vt!==null&&!isElement(Vt))&&$t.refs.setReference(Vt)},[$t.refs]),Gt=reactExports.useMemo(()=>({...$t.refs,setReference:zt,setPositionReference:Ot,domReference:kt}),[$t.refs,zt,Ot]),Bt=reactExports.useMemo(()=>({...$t.elements,domReference:Lt}),[$t.elements,Lt]),Ut=reactExports.useMemo(()=>({...$t,..._t,refs:Gt,elements:Bt,nodeId:ht}),[$t,Gt,Bt,ht,_t]);return index(()=>{_t.dataRef.current.floatingContext=Ut;const Vt=Dt==null?void 0:Dt.nodesRef.current.find(Ht=>Ht.id===ht);Vt&&(Vt.context=Ut)}),reactExports.useMemo(()=>({...$t,context:Ut,refs:Gt,elements:Bt}),[$t,Gt,Bt,Ut])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(vt,ht,xt){const _t=new Map,St=xt==="item";let wt=vt;if(St&&vt){const{[ACTIVE_KEY]:At,[SELECTED_KEY]:Ct,...Rt}=vt;wt=Rt}return{...xt==="floating"&&{tabIndex:-1,[FOCUSABLE_ATTRIBUTE]:""},...wt,...ht.map(At=>{const Ct=At?At[xt]:null;return typeof Ct=="function"?vt?Ct(vt):null:Ct}).concat(vt).reduce((At,Ct)=>(Ct&&Object.entries(Ct).forEach(Rt=>{let[It,Lt]=Rt;if(!(St&&[ACTIVE_KEY,SELECTED_KEY].includes(It)))if(It.indexOf("on")===0){if(_t.has(It)||_t.set(It,[]),typeof Lt=="function"){var kt;(kt=_t.get(It))==null||kt.push(Lt),At[It]=function(){for(var Dt,$t=arguments.length,Ot=new Array($t),zt=0;zt<$t;zt++)Ot[zt]=arguments[zt];return(Dt=_t.get(It))==null?void 0:Dt.map(Gt=>Gt(...Ot)).find(Gt=>Gt!==void 0)}}}else At[It]=Lt}),At),{})}}function useInteractions(vt){vt===void 0&&(vt=[]);const ht=vt.map(Ct=>Ct==null?void 0:Ct.reference),xt=vt.map(Ct=>Ct==null?void 0:Ct.floating),_t=vt.map(Ct=>Ct==null?void 0:Ct.item),St=reactExports.useCallback(Ct=>mergeProps(Ct,vt,"reference"),ht),wt=reactExports.useCallback(Ct=>mergeProps(Ct,vt,"floating"),xt),At=reactExports.useCallback(Ct=>mergeProps(Ct,vt,"item"),_t);return reactExports.useMemo(()=>({getReferenceProps:St,getFloatingProps:wt,getItemProps:At}),[St,wt,At])}function getArgsWithCustomFloatingHeight(vt,ht){return{...vt,rects:{...vt.rects,floating:{...vt.rects.floating,height:ht}}}}const inner=vt=>({name:"inner",options:vt,async fn(ht){const{listRef:xt,overflowRef:_t,onFallbackChange:St,offset:wt=0,index:At=0,minItemsVisible:Ct=4,referenceOverflowThreshold:Rt=0,scrollRef:It,...Lt}=evaluate(vt,ht),{rects:kt,elements:{floating:Dt}}=ht,$t=xt.current[At],Ot=(It==null?void 0:It.current)||Dt,zt=Dt.clientTop||Ot.clientTop,Gt=Dt.clientTop!==0,Bt=Ot.clientTop!==0,Ut=Dt===Ot;if(!$t)return{};const Vt={...ht,...await offset(-$t.offsetTop-Dt.clientTop-kt.reference.height/2-$t.offsetHeight/2-wt).fn(ht)},Ht=await detectOverflow(getArgsWithCustomFloatingHeight(Vt,Ot.scrollHeight+zt+Dt.clientTop),Lt),Xt=await detectOverflow(Vt,{...Lt,elementContext:"reference"}),qt=max(0,Ht.top),Kt=Vt.y+qt,Qt=(Ot.scrollHeight>Ot.clientHeight?sn=>sn:round)(max(0,Ot.scrollHeight+(Gt&&Ut||Bt?zt*2:0)-qt-max(0,Ht.bottom)));if(Ot.style.maxHeight=Qt+"px",Ot.scrollTop=qt,St){const sn=Ot.offsetHeight<$t.offsetHeight*min(Ct,xt.current.length)-1||Xt.top>=-Rt||Xt.bottom>=-Rt;reactDomExports.flushSync(()=>St(sn))}return _t&&(_t.current=await detectOverflow(getArgsWithCustomFloatingHeight({...Vt,y:Kt},Ot.offsetHeight+zt+Dt.clientTop),Lt)),{y:Kt}}});function useInnerOffset(vt,ht){const{open:xt,elements:_t}=vt,{enabled:St=!0,overflowRef:wt,scrollRef:At,onChange:Ct}=ht,Rt=useEffectEvent(Ct),It=reactExports.useRef(!1),Lt=reactExports.useRef(null),kt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!St)return;function $t(zt){if(zt.ctrlKey||!Ot||wt.current==null)return;const Gt=zt.deltaY,Bt=wt.current.top>=-.5,Ut=wt.current.bottom>=-.5,Vt=Ot.scrollHeight-Ot.clientHeight,Ht=Gt<0?-1:1,Xt=Gt<0?"max":"min";Ot.scrollHeight<=Ot.clientHeight||(!Bt&&Gt>0||!Ut&&Gt<0?(zt.preventDefault(),reactDomExports.flushSync(()=>{Rt(qt=>qt+Math[Xt](Gt,Vt*Ht))})):/firefox/i.test(getUserAgent())&&(Ot.scrollTop+=Gt))}const Ot=(At==null?void 0:At.current)||_t.floating;if(xt&&Ot)return Ot.addEventListener("wheel",$t),requestAnimationFrame(()=>{Lt.current=Ot.scrollTop,wt.current!=null&&(kt.current={...wt.current})}),()=>{Lt.current=null,kt.current=null,Ot.removeEventListener("wheel",$t)}},[St,xt,_t.floating,wt,At,Rt]);const Dt=reactExports.useMemo(()=>({onKeyDown(){It.current=!0},onWheel(){It.current=!1},onPointerMove(){It.current=!1},onScroll(){const $t=(At==null?void 0:At.current)||_t.floating;if(!(!wt.current||!$t||!It.current)){if(Lt.current!==null){const Ot=$t.scrollTop-Lt.current;(wt.current.bottom<-.5&&Ot<-1||wt.current.top<-.5&&Ot>1)&&reactDomExports.flushSync(()=>Rt(zt=>zt+Ot))}requestAnimationFrame(()=>{Lt.current=$t.scrollTop})}}}),[_t.floating,Rt,wt,At]);return reactExports.useMemo(()=>St?{floating:Dt}:{},[St,Dt])}let y$1=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$1.displayName="FloatingContext";let $=reactExports.createContext(null);$.displayName="PlacementContext";function ye(vt){return reactExports.useMemo(()=>vt?typeof vt=="string"?{to:vt}:vt:null,[vt])}function Fe$2(){return reactExports.useContext(y$1).setReference}function be(){return reactExports.useContext(y$1).getReferenceProps}function Te$1(){let{getFloatingProps:vt,slot:ht}=reactExports.useContext(y$1);return reactExports.useCallback((...xt)=>Object.assign({},vt(...xt),{"data-anchor":ht.anchor}),[vt,ht])}function Re(vt=null){vt===!1&&(vt=null),typeof vt=="string"&&(vt={to:vt});let ht=reactExports.useContext($),xt=reactExports.useMemo(()=>vt,[JSON.stringify(vt,(St,wt)=>{var At;return(At=wt==null?void 0:wt.outerHTML)!=null?At:wt})]);n$5(()=>{ht==null||ht(xt??null)},[ht,xt]);let _t=reactExports.useContext(y$1);return reactExports.useMemo(()=>[_t.setFloating,vt?_t.styles:{}],[_t.setFloating,vt,_t.styles])}let D$3=4;function Ae$1({children:vt,enabled:ht=!0}){let[xt,_t]=reactExports.useState(null),[St,wt]=reactExports.useState(0),At=reactExports.useRef(null),[Ct,Rt]=reactExports.useState(null);ce(Ct);let It=ht&&xt!==null&&Ct!==null,{to:Lt="bottom",gap:kt=0,offset:Dt=0,padding:$t=0,inner:Ot}=ge(xt,Ct),[zt,Gt="center"]=Lt.split(" ");n$5(()=>{It&&wt(0)},[It]);let{refs:Bt,floatingStyles:Ut,context:Vt}=useFloating({open:It,placement:zt==="selection"?Gt==="center"?"bottom":`bottom-${Gt}`:Gt==="center"?`${zt}`:`${zt}-${Gt}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:zt==="selection"?0:kt,crossAxis:Dt}),shift({padding:$t}),zt!=="selection"&&flip({padding:$t}),zt==="selection"&&Ot?inner({...Ot,padding:$t,overflowRef:At,offset:St,minItemsVisible:D$3,referenceOverflowThreshold:$t,onFallbackChange(sn){var un,dn;if(!sn)return;let vn=Vt.elements.floating;if(!vn)return;let pn=parseFloat(getComputedStyle(vn).scrollPaddingBottom)||0,rn=Math.min(D$3,vn.childElementCount),an=0,Yt=0;for(let Jt of(dn=(un=Vt.elements.floating)==null?void 0:un.childNodes)!=null?dn:[])if(n$4(Jt)){let on=Jt.offsetTop,ln=on+Jt.clientHeight+pn,_n=vn.scrollTop,wn=_n+vn.clientHeight;if(on>=_n&&ln<=wn)rn--;else{Yt=Math.max(0,Math.min(ln,wn)-Math.max(on,_n)),an=Jt.clientHeight;break}}rn>=1&&wt(Jt=>{let on=an*rn-Yt+pn;return Jt>=on?Jt:on})}}):null,size({padding:$t,apply({availableWidth:sn,availableHeight:un,elements:dn}){Object.assign(dn.floating.style,{overflow:"auto",maxWidth:`${sn}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${un}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[Ht=zt,Xt=Gt]=Vt.placement.split("-");zt==="selection"&&(Ht="selection");let qt=reactExports.useMemo(()=>({anchor:[Ht,Xt].filter(Boolean).join(" ")}),[Ht,Xt]),Kt=useInnerOffset(Vt,{overflowRef:At,onChange:wt}),{getReferenceProps:en,getFloatingProps:tn}=useInteractions([Kt]),Qt=o$6(sn=>{Rt(sn),Bt.setFloating(sn)});return reactExports.createElement($.Provider,{value:_t},reactExports.createElement(y$1.Provider,{value:{setFloating:Qt,setReference:Bt.setReference,styles:Ut,getReferenceProps:en,getFloatingProps:tn,slot:qt}},vt))}function ce(vt){n$5(()=>{if(!vt)return;let ht=new MutationObserver(()=>{let xt=window.getComputedStyle(vt).maxHeight,_t=parseFloat(xt);if(isNaN(_t))return;let St=parseInt(xt);isNaN(St)||_t!==St&&(vt.style.maxHeight=`${Math.ceil(_t)}px`)});return ht.observe(vt,{attributes:!0,attributeFilter:["style"]}),()=>{ht.disconnect()}},[vt])}function ge(vt,ht){var xt,_t,St;let wt=O$1((xt=vt==null?void 0:vt.gap)!=null?xt:"var(--anchor-gap, 0)",ht),At=O$1((_t=vt==null?void 0:vt.offset)!=null?_t:"var(--anchor-offset, 0)",ht),Ct=O$1((St=vt==null?void 0:vt.padding)!=null?St:"var(--anchor-padding, 0)",ht);return{...vt,gap:wt,offset:At,padding:Ct}}function O$1(vt,ht,xt=void 0){let _t=p$4(),St=o$6((Rt,It)=>{if(Rt==null)return[xt,null];if(typeof Rt=="number")return[Rt,null];if(typeof Rt=="string"){if(!It)return[xt,null];let Lt=J$1(Rt,It);return[Lt,kt=>{let Dt=q$1(Rt);{let $t=Dt.map(Ot=>window.getComputedStyle(It).getPropertyValue(Ot));_t.requestAnimationFrame(function Ot(){_t.nextFrame(Ot);let zt=!1;for(let[Bt,Ut]of Dt.entries()){let Vt=window.getComputedStyle(It).getPropertyValue(Ut);if($t[Bt]!==Vt){$t[Bt]=Vt,zt=!0;break}}if(!zt)return;let Gt=J$1(Rt,It);Lt!==Gt&&(kt(Gt),Lt=Gt)})}return _t.dispose}]}return[xt,null]}),wt=reactExports.useMemo(()=>St(vt,ht)[0],[vt,ht]),[At=wt,Ct]=reactExports.useState();return n$5(()=>{let[Rt,It]=St(vt,ht);if(Ct(Rt),!!It)return It(Ct)},[vt,ht]),At}function q$1(vt){let ht=/var\((.*)\)/.exec(vt);if(ht){let xt=ht[1].indexOf(",");if(xt===-1)return[ht[1]];let _t=ht[1].slice(0,xt).trim(),St=ht[1].slice(xt+1).trim();return St?[_t,...q$1(St)]:[_t]}return[]}function J$1(vt,ht){let xt=document.createElement("div");ht.appendChild(xt),xt.style.setProperty("margin-top","0px","important"),xt.style.setProperty("margin-top",vt,"important");let _t=parseFloat(window.getComputedStyle(xt).marginTop)||0;return ht.removeChild(xt),_t}let n=reactExports.createContext(null);n.displayName="OpenClosedContext";var i$1=(vt=>(vt[vt.Open=1]="Open",vt[vt.Closed=2]="Closed",vt[vt.Closing=4]="Closing",vt[vt.Opening=8]="Opening",vt))(i$1||{});function u$1(){return reactExports.useContext(n)}function c$2({value:vt,children:ht}){return React$1.createElement(n.Provider,{value:vt},ht)}function u(vt){throw new Error("Unexpected object: "+vt)}var c$1=(vt=>(vt[vt.First=0]="First",vt[vt.Previous=1]="Previous",vt[vt.Next=2]="Next",vt[vt.Last=3]="Last",vt[vt.Specific=4]="Specific",vt[vt.Nothing=5]="Nothing",vt))(c$1||{});function f$2(vt,ht){let xt=ht.resolveItems();if(xt.length<=0)return null;let _t=ht.resolveActiveIndex(),St=_t??-1;switch(vt.focus){case 0:{for(let wt=0;wt<xt.length;++wt)if(!ht.resolveDisabled(xt[wt],wt,xt))return wt;return _t}case 1:{St===-1&&(St=xt.length);for(let wt=St-1;wt>=0;--wt)if(!ht.resolveDisabled(xt[wt],wt,xt))return wt;return _t}case 2:{for(let wt=St+1;wt<xt.length;++wt)if(!ht.resolveDisabled(xt[wt],wt,xt))return wt;return _t}case 3:{for(let wt=xt.length-1;wt>=0;--wt)if(!ht.resolveDisabled(xt[wt],wt,xt))return wt;return _t}case 4:{for(let wt=0;wt<xt.length;++wt)if(ht.resolveId(xt[wt],wt,xt)===vt.id)return wt;return _t}case 5:return null;default:u(vt)}}function c(vt){let ht=o$6(vt),xt=reactExports.useRef(!1);reactExports.useEffect(()=>(xt.current=!1,()=>{xt.current=!0,t$4(()=>{xt.current&&ht()})}),[ht])}function s$4(){let vt=typeof document>"u";return"useSyncExternalStore"in t$5?(ht=>ht.useSyncExternalStore)(t$5)(()=>()=>{},()=>!1,()=>!vt):!1}function l(){let vt=s$4(),[ht,xt]=reactExports.useState(s$a.isHandoffComplete);return ht&&s$a.isHandoffComplete===!1&&xt(!1),reactExports.useEffect(()=>{ht!==!0&&xt(!0)},[ht]),reactExports.useEffect(()=>s$a.handoff(),[]),vt?!1:ht}let e=reactExports.createContext(!1);function a$3(){return reactExports.useContext(e)}function I(vt){let ht=a$3(),xt=reactExports.useContext(H),[_t,St]=reactExports.useState(()=>{var wt;if(!ht&&xt!==null)return(wt=xt.current)!=null?wt:null;if(s$a.isServer)return null;let At=vt==null?void 0:vt.getElementById("headlessui-portal-root");if(At)return At;if(vt===null)return null;let Ct=vt.createElement("div");return Ct.setAttribute("id","headlessui-portal-root"),vt.body.appendChild(Ct)});return reactExports.useEffect(()=>{_t!==null&&(vt!=null&&vt.body.contains(_t)||vt==null||vt.body.appendChild(_t))},[_t,vt]),reactExports.useEffect(()=>{ht||xt!==null&&St(xt.current)},[xt,St,ht]),_t}let M$1=reactExports.Fragment,D$2=K(function(vt,ht){let{ownerDocument:xt=null,..._t}=vt,St=reactExports.useRef(null),wt=y$6(T$2($t=>{St.current=$t}),ht),At=n$1(St),Ct=xt??At,Rt=I(Ct),[It]=reactExports.useState(()=>{var $t;return s$a.isServer?null:($t=Ct==null?void 0:Ct.createElement("div"))!=null?$t:null}),Lt=reactExports.useContext(g$2),kt=l();n$5(()=>{!Rt||!It||Rt.contains(It)||(It.setAttribute("data-headlessui-portal",""),Rt.appendChild(It))},[Rt,It]),n$5(()=>{if(It&&Lt)return Lt.register(It)},[Lt,It]),c(()=>{var $t;!Rt||!It||(o$5(It)&&Rt.contains(It)&&Rt.removeChild(It),Rt.childNodes.length<=0&&(($t=Rt.parentElement)==null||$t.removeChild(Rt)))});let Dt=L$3();return kt?!Rt||!It?null:reactDomExports.createPortal(Dt({ourProps:{ref:wt},theirProps:_t,slot:{},defaultTag:M$1,name:"Portal"}),It):null});function J(vt,ht){let xt=y$6(ht),{enabled:_t=!0,ownerDocument:St,...wt}=vt,At=L$3();return _t?React$1.createElement(D$2,{...wt,ownerDocument:St,ref:xt}):At({ourProps:{ref:xt},theirProps:wt,slot:{},defaultTag:M$1,name:"Portal"})}let X$2=reactExports.Fragment,H=reactExports.createContext(null);function k$1(vt,ht){let{target:xt,..._t}=vt,St={ref:y$6(ht)},wt=L$3();return React$1.createElement(H.Provider,{value:xt},wt({ourProps:St,theirProps:_t,defaultTag:X$2,name:"Popover.Group"}))}let g$2=reactExports.createContext(null),B=K(J),q=K(k$1),ne=Object.assign(B,{Group:q});function f$1(){let vt=reactExports.useRef(!1);return n$5(()=>(vt.current=!0,()=>{vt.current=!1}),[]),vt}function ue(vt){var ht;return!!(vt.enter||vt.enterFrom||vt.enterTo||vt.leave||vt.leaveFrom||vt.leaveTo)||((ht=vt.as)!=null?ht:de)!==reactExports.Fragment||React$1.Children.count(vt.children)===1}let w$1=reactExports.createContext(null);w$1.displayName="TransitionContext";var _e$1=(vt=>(vt.Visible="visible",vt.Hidden="hidden",vt))(_e$1||{});function De$1(){let vt=reactExports.useContext(w$1);if(vt===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return vt}function He$1(){let vt=reactExports.useContext(M);if(vt===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return vt}let M=reactExports.createContext(null);M.displayName="NestingContext";function U(vt){return"children"in vt?U(vt.children):vt.current.filter(({el:ht})=>ht.current!==null).filter(({state:ht})=>ht==="visible").length>0}function Te(vt,ht){let xt=s$9(vt),_t=reactExports.useRef([]),St=f$1(),wt=p$4(),At=o$6(($t,Ot=A$1.Hidden)=>{let zt=_t.current.findIndex(({el:Gt})=>Gt===$t);zt!==-1&&(u$8(Ot,{[A$1.Unmount](){_t.current.splice(zt,1)},[A$1.Hidden](){_t.current[zt].state="hidden"}}),wt.microTask(()=>{var Gt;!U(_t)&&St.current&&((Gt=xt.current)==null||Gt.call(xt))}))}),Ct=o$6($t=>{let Ot=_t.current.find(({el:zt})=>zt===$t);return Ot?Ot.state!=="visible"&&(Ot.state="visible"):_t.current.push({el:$t,state:"visible"}),()=>At($t,A$1.Unmount)}),Rt=reactExports.useRef([]),It=reactExports.useRef(Promise.resolve()),Lt=reactExports.useRef({enter:[],leave:[]}),kt=o$6(($t,Ot,zt)=>{Rt.current.splice(0),ht&&(ht.chains.current[Ot]=ht.chains.current[Ot].filter(([Gt])=>Gt!==$t)),ht==null||ht.chains.current[Ot].push([$t,new Promise(Gt=>{Rt.current.push(Gt)})]),ht==null||ht.chains.current[Ot].push([$t,new Promise(Gt=>{Promise.all(Lt.current[Ot].map(([Bt,Ut])=>Ut)).then(()=>Gt())})]),Ot==="enter"?It.current=It.current.then(()=>ht==null?void 0:ht.wait.current).then(()=>zt(Ot)):zt(Ot)}),Dt=o$6(($t,Ot,zt)=>{Promise.all(Lt.current[Ot].splice(0).map(([Gt,Bt])=>Bt)).then(()=>{var Gt;(Gt=Rt.current.shift())==null||Gt()}).then(()=>zt(Ot))});return reactExports.useMemo(()=>({children:_t,register:Ct,unregister:At,onStart:kt,onStop:Dt,wait:It,chains:Lt}),[Ct,At,_t,kt,Dt,Lt,It])}let de=reactExports.Fragment,fe=O$3.RenderStrategy;function Ae(vt,ht){var xt,_t;let{transition:St=!0,beforeEnter:wt,afterEnter:At,beforeLeave:Ct,afterLeave:Rt,enter:It,enterFrom:Lt,enterTo:kt,entered:Dt,leave:$t,leaveFrom:Ot,leaveTo:zt,...Gt}=vt,[Bt,Ut]=reactExports.useState(null),Vt=reactExports.useRef(null),Ht=ue(vt),Xt=y$6(...Ht?[Vt,ht,Ut]:ht===null?[]:[ht]),qt=(xt=Gt.unmount)==null||xt?A$1.Unmount:A$1.Hidden,{show:Kt,appear:en,initial:tn}=De$1(),[Qt,sn]=reactExports.useState(Kt?"visible":"hidden"),un=He$1(),{register:dn,unregister:vn}=un;n$5(()=>dn(Vt),[dn,Vt]),n$5(()=>{if(qt===A$1.Hidden&&Vt.current){if(Kt&&Qt!=="visible"){sn("visible");return}return u$8(Qt,{hidden:()=>vn(Vt),visible:()=>dn(Vt)})}},[Qt,Vt,dn,vn,Kt,qt]);let pn=l();n$5(()=>{if(Ht&&pn&&Qt==="visible"&&Vt.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[Vt,Qt,pn,Ht]);let rn=tn&&!en,an=en&&Kt&&tn,Yt=reactExports.useRef(!1),Jt=Te(()=>{Yt.current||(sn("hidden"),vn(Vt))},un),on=o$6(Hn=>{Yt.current=!0;let or=Hn?"enter":"leave";Jt.onStart(Vt,or,mr=>{mr==="enter"?wt==null||wt():mr==="leave"&&(Ct==null||Ct())})}),ln=o$6(Hn=>{let or=Hn?"enter":"leave";Yt.current=!1,Jt.onStop(Vt,or,mr=>{mr==="enter"?At==null||At():mr==="leave"&&(Rt==null||Rt())}),or==="leave"&&!U(Jt)&&(sn("hidden"),vn(Vt))});reactExports.useEffect(()=>{Ht&&St||(on(Kt),ln(Kt))},[Kt,Ht,St]);let _n=!(!St||!Ht||!pn||rn),[,wn]=x$1(_n,Bt,Kt,{start:on,end:ln}),xn=m$4({ref:Xt,className:((_t=t$3(Gt.className,an&&It,an&&Lt,wn.enter&&It,wn.enter&&wn.closed&&Lt,wn.enter&&!wn.closed&&kt,wn.leave&&$t,wn.leave&&!wn.closed&&Ot,wn.leave&&wn.closed&&zt,!wn.transition&&Kt&&Dt))==null?void 0:_t.trim())||void 0,...R(wn)}),Pn=0;Qt==="visible"&&(Pn|=i$1.Open),Qt==="hidden"&&(Pn|=i$1.Closed),Kt&&Qt==="hidden"&&(Pn|=i$1.Opening),!Kt&&Qt==="visible"&&(Pn|=i$1.Closing);let Bn=L$3();return React$1.createElement(M.Provider,{value:Jt},React$1.createElement(c$2,{value:Pn},Bn({ourProps:xn,theirProps:Gt,defaultTag:de,features:fe,visible:Qt==="visible",name:"Transition.Child"})))}function Ie$1(vt,ht){let{show:xt,appear:_t=!1,unmount:St=!0,...wt}=vt,At=reactExports.useRef(null),Ct=ue(vt),Rt=y$6(...Ct?[At,ht]:ht===null?[]:[ht]);l();let It=u$1();if(xt===void 0&&It!==null&&(xt=(It&i$1.Open)===i$1.Open),xt===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[Lt,kt]=reactExports.useState(xt?"visible":"hidden"),Dt=Te(()=>{xt||kt("hidden")}),[$t,Ot]=reactExports.useState(!0),zt=reactExports.useRef([xt]);n$5(()=>{$t!==!1&&zt.current[zt.current.length-1]!==xt&&(zt.current.push(xt),Ot(!1))},[zt,xt]);let Gt=reactExports.useMemo(()=>({show:xt,appear:_t,initial:$t}),[xt,_t,$t]);n$5(()=>{xt?kt("visible"):!U(Dt)&&At.current!==null&&kt("hidden")},[xt,Dt]);let Bt={unmount:St},Ut=o$6(()=>{var Xt;$t&&Ot(!1),(Xt=vt.beforeEnter)==null||Xt.call(vt)}),Vt=o$6(()=>{var Xt;$t&&Ot(!1),(Xt=vt.beforeLeave)==null||Xt.call(vt)}),Ht=L$3();return React$1.createElement(M.Provider,{value:Dt},React$1.createElement(w$1.Provider,{value:Gt},Ht({ourProps:{...Bt,as:reactExports.Fragment,children:React$1.createElement(me,{ref:Rt,...Bt,...wt,beforeEnter:Ut,beforeLeave:Vt})},theirProps:{},defaultTag:reactExports.Fragment,features:fe,visible:Lt==="visible",name:"Transition"})))}function Le$1(vt,ht){let xt=reactExports.useContext(w$1)!==null,_t=u$1()!==null;return React$1.createElement(React$1.Fragment,null,!xt&&_t?React$1.createElement(X$1,{ref:ht,...vt}):React$1.createElement(me,{ref:ht,...vt}))}let X$1=K(Ie$1),me=K(Ae),Fe$1=K(Le$1),ze=Object.assign(X$1,{Child:Fe$1,Root:X$1});function s$3(vt,ht){let xt=reactExports.useRef({left:0,top:0});if(n$5(()=>{if(!ht)return;let St=ht.getBoundingClientRect();St&&(xt.current=St)},[vt,ht]),ht==null||!vt||ht===document.activeElement)return!1;let _t=ht.getBoundingClientRect();return _t.top!==xt.current.top||_t.left!==xt.current.left}let a$2=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o(vt){var ht,xt;let _t=(ht=vt.innerText)!=null?ht:"",St=vt.cloneNode(!0);if(!n$4(St))return _t;let wt=!1;for(let Ct of St.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))Ct.remove(),wt=!0;let At=wt?(xt=St.innerText)!=null?xt:"":_t;return a$2.test(At)&&(At=At.replace(a$2,"")),At}function F$1(vt){let ht=vt.getAttribute("aria-label");if(typeof ht=="string")return ht.trim();let xt=vt.getAttribute("aria-labelledby");if(xt){let _t=xt.split(" ").map(St=>{let wt=document.getElementById(St);if(wt){let At=wt.getAttribute("aria-label");return typeof At=="string"?At.trim():o(wt).trim()}return null}).filter(Boolean);if(_t.length>0)return _t.join(", ")}return o(vt).trim()}function s$2(vt){let ht=reactExports.useRef(""),xt=reactExports.useRef("");return o$6(()=>{let _t=vt.current;if(!_t)return"";let St=_t.innerText;if(ht.current===St)return xt.current;let wt=F$1(_t).trim().toLowerCase();return ht.current=St,xt.current=wt,wt})}var h$1=Object.defineProperty,y=(vt,ht,xt)=>ht in vt?h$1(vt,ht,{enumerable:!0,configurable:!0,writable:!0,value:xt}):vt[ht]=xt,g$1=(vt,ht,xt)=>(y(vt,typeof ht!="symbol"?ht+"":ht,xt),xt),E$1=(vt=>(vt[vt.Open=0]="Open",vt[vt.Closed=1]="Closed",vt))(E$1||{}),O=(vt=>(vt[vt.Pointer=0]="Pointer",vt[vt.Other=1]="Other",vt))(O||{}),F=(vt=>(vt[vt.OpenMenu=0]="OpenMenu",vt[vt.CloseMenu=1]="CloseMenu",vt[vt.GoToItem=2]="GoToItem",vt[vt.Search=3]="Search",vt[vt.ClearSearch=4]="ClearSearch",vt[vt.RegisterItems=5]="RegisterItems",vt[vt.UnregisterItems=6]="UnregisterItems",vt[vt.SetButtonElement=7]="SetButtonElement",vt[vt.SetItemsElement=8]="SetItemsElement",vt[vt.SortItems=9]="SortItems",vt))(F||{});function S(vt,ht=xt=>xt){let xt=vt.activeItemIndex!==null?vt.items[vt.activeItemIndex]:null,_t=P(ht(vt.items.slice()),wt=>wt.dataRef.current.domRef.current),St=xt?_t.indexOf(xt):null;return St===-1&&(St=null),{items:_t,activeItemIndex:St}}let D$1={1(vt){return vt.menuState===1?vt:{...vt,activeItemIndex:null,pendingFocus:{focus:c$1.Nothing},menuState:1}},0(vt,ht){return vt.menuState===0?vt:{...vt,__demoMode:!1,pendingFocus:ht.focus,menuState:0}},2:(vt,ht)=>{var xt,_t,St,wt,At;if(vt.menuState===1)return vt;let Ct={...vt,searchQuery:"",activationTrigger:(xt=ht.trigger)!=null?xt:1,__demoMode:!1};if(ht.focus===c$1.Nothing)return{...Ct,activeItemIndex:null};if(ht.focus===c$1.Specific)return{...Ct,activeItemIndex:vt.items.findIndex(Lt=>Lt.id===ht.id)};if(ht.focus===c$1.Previous){let Lt=vt.activeItemIndex;if(Lt!==null){let kt=vt.items[Lt].dataRef.current.domRef,Dt=f$2(ht,{resolveItems:()=>vt.items,resolveActiveIndex:()=>vt.activeItemIndex,resolveId:$t=>$t.id,resolveDisabled:$t=>$t.dataRef.current.disabled});if(Dt!==null){let $t=vt.items[Dt].dataRef.current.domRef;if(((_t=kt.current)==null?void 0:_t.previousElementSibling)===$t.current||((St=$t.current)==null?void 0:St.previousElementSibling)===null)return{...Ct,activeItemIndex:Dt}}}}else if(ht.focus===c$1.Next){let Lt=vt.activeItemIndex;if(Lt!==null){let kt=vt.items[Lt].dataRef.current.domRef,Dt=f$2(ht,{resolveItems:()=>vt.items,resolveActiveIndex:()=>vt.activeItemIndex,resolveId:$t=>$t.id,resolveDisabled:$t=>$t.dataRef.current.disabled});if(Dt!==null){let $t=vt.items[Dt].dataRef.current.domRef;if(((wt=kt.current)==null?void 0:wt.nextElementSibling)===$t.current||((At=$t.current)==null?void 0:At.nextElementSibling)===null)return{...Ct,activeItemIndex:Dt}}}}let Rt=S(vt),It=f$2(ht,{resolveItems:()=>Rt.items,resolveActiveIndex:()=>Rt.activeItemIndex,resolveId:Lt=>Lt.id,resolveDisabled:Lt=>Lt.dataRef.current.disabled});return{...Ct,...Rt,activeItemIndex:It}},3:(vt,ht)=>{let xt=vt.searchQuery!==""?0:1,_t=vt.searchQuery+ht.value.toLowerCase(),St=(vt.activeItemIndex!==null?vt.items.slice(vt.activeItemIndex+xt).concat(vt.items.slice(0,vt.activeItemIndex+xt)):vt.items).find(At=>{var Ct;return((Ct=At.dataRef.current.textValue)==null?void 0:Ct.startsWith(_t))&&!At.dataRef.current.disabled}),wt=St?vt.items.indexOf(St):-1;return wt===-1||wt===vt.activeItemIndex?{...vt,searchQuery:_t}:{...vt,searchQuery:_t,activeItemIndex:wt,activationTrigger:1}},4(vt){return vt.searchQuery===""?vt:{...vt,searchQuery:"",searchActiveItemIndex:null}},5:(vt,ht)=>{let xt=vt.items.concat(ht.items.map(St=>St)),_t=vt.activeItemIndex;return vt.pendingFocus.focus!==c$1.Nothing&&(_t=f$2(vt.pendingFocus,{resolveItems:()=>xt,resolveActiveIndex:()=>vt.activeItemIndex,resolveId:St=>St.id,resolveDisabled:St=>St.dataRef.current.disabled})),{...vt,items:xt,activeItemIndex:_t,pendingFocus:{focus:c$1.Nothing},pendingShouldSort:!0}},6:(vt,ht)=>{let xt=vt.items,_t=[],St=new Set(ht.items);for(let[wt,At]of xt.entries())if(St.has(At.id)&&(_t.push(wt),St.delete(At.id),St.size===0))break;if(_t.length>0){xt=xt.slice();for(let wt of _t.reverse())xt.splice(wt,1)}return{...vt,items:xt,activationTrigger:1}},7:(vt,ht)=>vt.buttonElement===ht.element?vt:{...vt,buttonElement:ht.element},8:(vt,ht)=>vt.itemsElement===ht.element?vt:{...vt,itemsElement:ht.element},9:vt=>vt.pendingShouldSort?{...vt,...S(vt),pendingShouldSort:!1}:vt};class x extends E$3{constructor(ht){super(ht),g$1(this,"actions",{registerItem:x$3(()=>{let xt=[],_t=new Set;return[(St,wt)=>{_t.has(wt)||(_t.add(wt),xt.push({id:St,dataRef:wt}))},()=>(_t.clear(),this.send({type:5,items:xt.splice(0)}))]}),unregisterItem:x$3(()=>{let xt=[];return[_t=>xt.push(_t),()=>this.send({type:6,items:xt.splice(0)})]})}),g$1(this,"selectors",{activeDescendantId(xt){var _t;let St=xt.activeItemIndex,wt=xt.items;return St===null||(_t=wt[St])==null?void 0:_t.id},isActive(xt,_t){var St;let wt=xt.activeItemIndex,At=xt.items;return wt!==null?((St=At[wt])==null?void 0:St.id)===_t:!1},shouldScrollIntoView(xt,_t){return xt.__demoMode||xt.menuState!==0||xt.activationTrigger===0?!1:this.isActive(xt,_t)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let xt=this.state.id,_t=x$2.get(null);this.disposables.add(_t.on(k$4.Push,St=>{!_t.selectors.isTop(St,xt)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>_t.actions.push(xt)),this.on(1,()=>_t.actions.pop(xt))}}static new({id:ht,__demoMode:xt=!1}){return new x({id:ht,__demoMode:xt,menuState:xt?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:c$1.Nothing}})}reduce(ht,xt){return u$8(xt.type,D$1,ht,xt)}}const a$1=reactExports.createContext(null);function p(vt){let ht=reactExports.useContext(a$1);if(ht===null){let xt=new Error(`<${vt} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(xt,s$1),xt}return ht}function s$1({id:vt,__demoMode:ht=!1}){let xt=reactExports.useMemo(()=>x.new({id:vt,__demoMode:ht}),[]);return c(()=>xt.dispose()),xt}let et=reactExports.Fragment;function tt(vt,ht){let xt=reactExports.useId(),{__demoMode:_t=!1,...St}=vt,wt=s$1({id:xt,__demoMode:_t}),[At,Ct,Rt]=S$2(wt,Gt=>[Gt.menuState,Gt.itemsElement,Gt.buttonElement]),It=y$6(ht),Lt=x$2.get(null),kt=S$2(Lt,reactExports.useCallback(Gt=>Lt.selectors.isTop(Gt,xt),[Lt,xt]));k$3(kt,[Rt,Ct],(Gt,Bt)=>{var Ut;wt.send({type:F.CloseMenu}),A(Bt,h$2.Loose)||(Gt.preventDefault(),(Ut=wt.state.buttonElement)==null||Ut.focus())});let Dt=o$6(()=>{wt.send({type:F.CloseMenu})}),$t=reactExports.useMemo(()=>({open:At===E$1.Open,close:Dt}),[At,Dt]),Ot={ref:It},zt=L$3();return React$1.createElement(Ae$1,null,React$1.createElement(a$1.Provider,{value:wt},React$1.createElement(c$2,{value:u$8(At,{[E$1.Open]:i$1.Open,[E$1.Closed]:i$1.Closed})},zt({ourProps:Ot,theirProps:St,slot:$t,defaultTag:et,name:"Menu"}))))}let ot="button";function nt(vt,ht){let xt=p("Menu.Button"),_t=reactExports.useId(),{id:St=`headlessui-menu-button-${_t}`,disabled:wt=!1,autoFocus:At=!1,...Ct}=vt,Rt=reactExports.useRef(null),It=be(),Lt=y$6(ht,Rt,Fe$2(),o$6(Qt=>xt.send({type:F.SetButtonElement,element:Qt}))),kt=o$6(Qt=>{switch(Qt.key){case o$4.Space:case o$4.Enter:case o$4.ArrowDown:Qt.preventDefault(),Qt.stopPropagation(),xt.send({type:F.OpenMenu,focus:{focus:c$1.First}});break;case o$4.ArrowUp:Qt.preventDefault(),Qt.stopPropagation(),xt.send({type:F.OpenMenu,focus:{focus:c$1.Last}});break}}),Dt=o$6(Qt=>{switch(Qt.key){case o$4.Space:Qt.preventDefault();break}}),[$t,Ot,zt]=S$2(xt,Qt=>[Qt.menuState,Qt.buttonElement,Qt.itemsElement]),Gt=$t===E$1.Open;k$2(Gt,{trigger:Ot,action:reactExports.useCallback(Qt=>{if(Ot!=null&&Ot.contains(Qt.target))return g$3.Ignore;let sn=Qt.target.closest('[role="menuitem"]:not([data-disabled])');return n$4(sn)?g$3.Select(sn):zt!=null&&zt.contains(Qt.target)?g$3.Ignore:g$3.Close},[Ot,zt]),close:reactExports.useCallback(()=>xt.send({type:F.CloseMenu}),[]),select:reactExports.useCallback(Qt=>Qt.click(),[])});let Bt=o$6(Qt=>{var sn;if(Qt.button===0){if(s$7(Qt.currentTarget))return Qt.preventDefault();wt||($t===E$1.Open?(reactDomExports.flushSync(()=>xt.send({type:F.CloseMenu})),(sn=Rt.current)==null||sn.focus({preventScroll:!0})):(Qt.preventDefault(),xt.send({type:F.OpenMenu,focus:{focus:c$1.Nothing},trigger:O.Pointer})))}}),{isFocusVisible:Ut,focusProps:Vt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:At}),{isHovered:Ht,hoverProps:Xt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:wt}),{pressed:qt,pressProps:Kt}=w$5({disabled:wt}),en=reactExports.useMemo(()=>({open:$t===E$1.Open,active:qt||$t===E$1.Open,disabled:wt,hover:Ht,focus:Ut,autofocus:At}),[$t,Ht,Ut,qt,wt,At]),tn=_$2(It(),{ref:Lt,id:St,type:e$1(vt,Rt.current),"aria-haspopup":"menu","aria-controls":zt==null?void 0:zt.id,"aria-expanded":$t===E$1.Open,disabled:wt||void 0,autoFocus:At,onKeyDown:kt,onKeyUp:Dt,onPointerDown:Bt},Vt,Xt,Kt);return L$3()({ourProps:tn,theirProps:Ct,slot:en,defaultTag:ot,name:"Menu.Button"})}let rt="div",at=O$3.RenderStrategy|O$3.Static;function st(vt,ht){let xt=reactExports.useId(),{id:_t=`headlessui-menu-items-${xt}`,anchor:St,portal:wt=!1,modal:At=!0,transition:Ct=!1,...Rt}=vt,It=ye(St),Lt=p("Menu.Items"),[kt,Dt]=Re(It),$t=Te$1(),[Ot,zt]=reactExports.useState(null),Gt=y$6(ht,It?kt:null,o$6(Jt=>Lt.send({type:F.SetItemsElement,element:Jt})),zt),[Bt,Ut]=S$2(Lt,Jt=>[Jt.menuState,Jt.buttonElement]),Vt=n$1(Ut),Ht=n$1(Ot);It&&(wt=!0);let Xt=u$1(),[qt,Kt]=x$1(Ct,Ot,Xt!==null?(Xt&i$1.Open)===i$1.Open:Bt===E$1.Open);p$1(qt,Ut,()=>{Lt.send({type:F.CloseMenu})});let en=S$2(Lt,Jt=>Jt.__demoMode),tn=en?!1:At&&Bt===E$1.Open;f$3(tn,Ht);let Qt=en?!1:At&&Bt===E$1.Open;y$3(Qt,{allowed:reactExports.useCallback(()=>[Ut,Ot],[Ut,Ot])});let sn=Bt!==E$1.Open,un=s$3(sn,Ut)?!1:qt;reactExports.useEffect(()=>{let Jt=Ot;Jt&&Bt===E$1.Open&&Jt!==(Ht==null?void 0:Ht.activeElement)&&Jt.focus({preventScroll:!0})},[Bt,Ot,Ht]),F$2(Bt===E$1.Open,{container:Ot,accept(Jt){return Jt.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:Jt.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(Jt){Jt.setAttribute("role","none")}});let dn=p$4(),vn=o$6(Jt=>{var on,ln,_n;switch(dn.dispose(),Jt.key){case o$4.Space:if(Lt.state.searchQuery!=="")return Jt.preventDefault(),Jt.stopPropagation(),Lt.send({type:F.Search,value:Jt.key});case o$4.Enter:if(Jt.preventDefault(),Jt.stopPropagation(),Lt.state.activeItemIndex!==null){let{dataRef:wn}=Lt.state.items[Lt.state.activeItemIndex];(ln=(on=wn.current)==null?void 0:on.domRef.current)==null||ln.click()}Lt.send({type:F.CloseMenu}),V$1(Lt.state.buttonElement);break;case o$4.ArrowDown:return Jt.preventDefault(),Jt.stopPropagation(),Lt.send({type:F.GoToItem,focus:c$1.Next});case o$4.ArrowUp:return Jt.preventDefault(),Jt.stopPropagation(),Lt.send({type:F.GoToItem,focus:c$1.Previous});case o$4.Home:case o$4.PageUp:return Jt.preventDefault(),Jt.stopPropagation(),Lt.send({type:F.GoToItem,focus:c$1.First});case o$4.End:case o$4.PageDown:return Jt.preventDefault(),Jt.stopPropagation(),Lt.send({type:F.GoToItem,focus:c$1.Last});case o$4.Escape:Jt.preventDefault(),Jt.stopPropagation(),reactDomExports.flushSync(()=>Lt.send({type:F.CloseMenu})),(_n=Lt.state.buttonElement)==null||_n.focus({preventScroll:!0});break;case o$4.Tab:Jt.preventDefault(),Jt.stopPropagation(),reactDomExports.flushSync(()=>Lt.send({type:F.CloseMenu})),j$2(Lt.state.buttonElement,Jt.shiftKey?T$1.Previous:T$1.Next);break;default:Jt.key.length===1&&(Lt.send({type:F.Search,value:Jt.key}),dn.setTimeout(()=>Lt.send({type:F.ClearSearch}),350));break}}),pn=o$6(Jt=>{switch(Jt.key){case o$4.Space:Jt.preventDefault();break}}),rn=reactExports.useMemo(()=>({open:Bt===E$1.Open}),[Bt]),an=_$2(It?$t():{},{"aria-activedescendant":S$2(Lt,Lt.selectors.activeDescendantId),"aria-labelledby":S$2(Lt,Jt=>{var on;return(on=Jt.buttonElement)==null?void 0:on.id}),id:_t,onKeyDown:vn,onKeyUp:pn,role:"menu",tabIndex:Bt===E$1.Open?0:void 0,ref:Gt,style:{...Rt.style,...Dt,"--button-width":d$2(Ut,!0).width},...R(Kt)}),Yt=L$3();return React$1.createElement(ne,{enabled:wt?vt.static||qt:!1,ownerDocument:Vt},Yt({ourProps:an,theirProps:Rt,slot:rn,defaultTag:rt,features:at,visible:un,name:"Menu.Items"}))}let lt=reactExports.Fragment;function pt(vt,ht){let xt=reactExports.useId(),{id:_t=`headlessui-menu-item-${xt}`,disabled:St=!1,...wt}=vt,At=p("Menu.Item"),Ct=S$2(At,sn=>At.selectors.isActive(sn,_t)),Rt=reactExports.useRef(null),It=y$6(ht,Rt),Lt=S$2(At,sn=>At.selectors.shouldScrollIntoView(sn,_t));n$5(()=>{if(Lt)return o$7().requestAnimationFrame(()=>{var sn,un;(un=(sn=Rt.current)==null?void 0:sn.scrollIntoView)==null||un.call(sn,{block:"nearest"})})},[Lt,Rt]);let kt=s$2(Rt),Dt=reactExports.useRef({disabled:St,domRef:Rt,get textValue(){return kt()}});n$5(()=>{Dt.current.disabled=St},[Dt,St]),n$5(()=>(At.actions.registerItem(_t,Dt),()=>At.actions.unregisterItem(_t)),[Dt,_t]);let $t=o$6(()=>{At.send({type:F.CloseMenu})}),Ot=o$6(sn=>{if(St)return sn.preventDefault();At.send({type:F.CloseMenu}),V$1(At.state.buttonElement)}),zt=o$6(()=>{if(St)return At.send({type:F.GoToItem,focus:c$1.Nothing});At.send({type:F.GoToItem,focus:c$1.Specific,id:_t})}),Gt=u$2(),Bt=o$6(sn=>{Gt.update(sn),!St&&(Ct||At.send({type:F.GoToItem,focus:c$1.Specific,id:_t,trigger:O.Pointer}))}),Ut=o$6(sn=>{Gt.wasMoved(sn)&&(St||Ct||At.send({type:F.GoToItem,focus:c$1.Specific,id:_t,trigger:O.Pointer}))}),Vt=o$6(sn=>{Gt.wasMoved(sn)&&(St||Ct&&At.send({type:F.GoToItem,focus:c$1.Nothing}))}),[Ht,Xt]=Q$1(),[qt,Kt]=w$4(),en=reactExports.useMemo(()=>({active:Ct,focus:Ct,disabled:St,close:$t}),[Ct,St,$t]),tn={id:_t,ref:It,role:"menuitem",tabIndex:St===!0?void 0:-1,"aria-disabled":St===!0?!0:void 0,"aria-labelledby":Ht,"aria-describedby":qt,disabled:void 0,onClick:Ot,onFocus:zt,onPointerEnter:Bt,onMouseEnter:Bt,onPointerMove:Ut,onMouseMove:Ut,onPointerLeave:Vt,onMouseLeave:Vt},Qt=L$3();return React$1.createElement(Xt,null,React$1.createElement(Kt,null,Qt({ourProps:tn,theirProps:wt,slot:en,defaultTag:lt,name:"Menu.Item"})))}let it="div";function ut(vt,ht){let[xt,_t]=Q$1(),St=vt,wt={ref:ht,"aria-labelledby":xt,role:"group"},At=L$3();return React$1.createElement(_t,null,At({ourProps:wt,theirProps:St,slot:{},defaultTag:it,name:"Menu.Section"}))}let dt="header";function mt(vt,ht){let xt=reactExports.useId(),{id:_t=`headlessui-menu-heading-${xt}`,...St}=vt,wt=C$4();n$5(()=>wt.register(_t),[_t,wt.register]);let At={id:_t,ref:ht,role:"presentation",...wt.props};return L$3()({ourProps:At,theirProps:St,slot:{},defaultTag:dt,name:"Menu.Heading"})}let ct="div";function Tt$1(vt,ht){let xt=vt,_t={ref:ht,role:"separator"};return L$3()({ourProps:_t,theirProps:xt,slot:{},defaultTag:ct,name:"Menu.Separator"})}let ft=K(tt),yt=K(nt),Pt=K(st),Et=K(pt),gt=K(ut),Mt=K(mt),bt=K(Tt$1),lo=Object.assign(ft,{Button:yt,Items:Pt,Item:Et,Section:gt,Heading:Mt,Separator:bt});function b({onFocus:vt}){let[ht,xt]=reactExports.useState(!0),_t=f$1();return ht?React$1.createElement(f$9,{as:"button",type:"button",features:s$8.Focusable,onFocus:St=>{St.preventDefault();let wt,At=50;function Ct(){if(At--<=0){wt&&cancelAnimationFrame(wt);return}if(vt()){if(cancelAnimationFrame(wt),!_t.current)return;xt(!1);return}wt=requestAnimationFrame(Ct)}wt=requestAnimationFrame(Ct)}}):null}const s=reactExports.createContext(null);function a(){return{groups:new Map,get(vt,ht){var xt;let _t=this.groups.get(vt);_t||(_t=new Map,this.groups.set(vt,_t));let St=(xt=_t.get(ht))!=null?xt:0;_t.set(ht,St+1);let wt=Array.from(_t.keys()).indexOf(ht);function At(){let Ct=_t.get(ht);Ct>1?_t.set(ht,Ct-1):_t.delete(ht)}return[wt,At]}}}function f({children:vt}){let ht=reactExports.useRef(a());return reactExports.createElement(s.Provider,{value:ht},vt)}function C$1(vt){let ht=reactExports.useContext(s);if(!ht)throw new Error("You must wrap your component in a <StableCollection>");let xt=reactExports.useId(),[_t,St]=ht.current.get(vt,xt);return reactExports.useEffect(()=>St,[]),_t}var Le=(vt=>(vt[vt.Forwards=0]="Forwards",vt[vt.Backwards=1]="Backwards",vt))(Le||{}),_e=(vt=>(vt[vt.Less=-1]="Less",vt[vt.Equal=0]="Equal",vt[vt.Greater=1]="Greater",vt))(_e||{}),De=(vt=>(vt[vt.SetSelectedIndex=0]="SetSelectedIndex",vt[vt.RegisterTab=1]="RegisterTab",vt[vt.UnregisterTab=2]="UnregisterTab",vt[vt.RegisterPanel=3]="RegisterPanel",vt[vt.UnregisterPanel=4]="UnregisterPanel",vt))(De||{});let Se={0(vt,ht){var xt;let _t=P(vt.tabs,Lt=>Lt.current),St=P(vt.panels,Lt=>Lt.current),wt=_t.filter(Lt=>{var kt;return!((kt=Lt.current)!=null&&kt.hasAttribute("disabled"))}),At={...vt,tabs:_t,panels:St};if(ht.index<0||ht.index>_t.length-1){let Lt=u$8(Math.sign(ht.index-vt.selectedIndex),{[-1]:()=>1,0:()=>u$8(Math.sign(ht.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(wt.length===0)return At;let kt=u$8(Lt,{0:()=>_t.indexOf(wt[0]),1:()=>_t.indexOf(wt[wt.length-1])});return{...At,selectedIndex:kt===-1?vt.selectedIndex:kt}}let Ct=_t.slice(0,ht.index),Rt=[..._t.slice(ht.index),...Ct].find(Lt=>wt.includes(Lt));if(!Rt)return At;let It=(xt=_t.indexOf(Rt))!=null?xt:vt.selectedIndex;return It===-1&&(It=vt.selectedIndex),{...At,selectedIndex:It}},1(vt,ht){if(vt.tabs.includes(ht.tab))return vt;let xt=vt.tabs[vt.selectedIndex],_t=P([...vt.tabs,ht.tab],wt=>wt.current),St=vt.selectedIndex;return vt.info.current.isControlled||(St=_t.indexOf(xt),St===-1&&(St=vt.selectedIndex)),{...vt,tabs:_t,selectedIndex:St}},2(vt,ht){return{...vt,tabs:vt.tabs.filter(xt=>xt!==ht.tab)}},3(vt,ht){return vt.panels.includes(ht.panel)?vt:{...vt,panels:P([...vt.panels,ht.panel],xt=>xt.current)}},4(vt,ht){return{...vt,panels:vt.panels.filter(xt=>xt!==ht.panel)}}},V=reactExports.createContext(null);V.displayName="TabsDataContext";function C(vt){let ht=reactExports.useContext(V);if(ht===null){let xt=new Error(`<${vt} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(xt,C),xt}return ht}let Q=reactExports.createContext(null);Q.displayName="TabsActionsContext";function Y(vt){let ht=reactExports.useContext(Q);if(ht===null){let xt=new Error(`<${vt} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(xt,Y),xt}return ht}function Fe(vt,ht){return u$8(ht.type,Se,vt,ht)}let Ie="div";function he(vt,ht){let{defaultIndex:xt=0,vertical:_t=!1,manual:St=!1,onChange:wt,selectedIndex:At=null,...Ct}=vt;const Rt=_t?"vertical":"horizontal",It=St?"manual":"auto";let Lt=At!==null,kt=s$9({isControlled:Lt}),Dt=y$6(ht),[$t,Ot]=reactExports.useReducer(Fe,{info:kt,selectedIndex:At??xt,tabs:[],panels:[]}),zt=reactExports.useMemo(()=>({selectedIndex:$t.selectedIndex}),[$t.selectedIndex]),Gt=s$9(wt||(()=>{})),Bt=s$9($t.tabs),Ut=reactExports.useMemo(()=>({orientation:Rt,activation:It,...$t}),[Rt,It,$t]),Vt=o$6(Qt=>(Ot({type:1,tab:Qt}),()=>Ot({type:2,tab:Qt}))),Ht=o$6(Qt=>(Ot({type:3,panel:Qt}),()=>Ot({type:4,panel:Qt}))),Xt=o$6(Qt=>{qt.current!==Qt&&Gt.current(Qt),Lt||Ot({type:0,index:Qt})}),qt=s$9(Lt?vt.selectedIndex:$t.selectedIndex),Kt=reactExports.useMemo(()=>({registerTab:Vt,registerPanel:Ht,change:Xt}),[]);n$5(()=>{Ot({type:0,index:At??xt})},[At]),n$5(()=>{if(qt.current===void 0||$t.tabs.length<=0)return;let Qt=P($t.tabs,sn=>sn.current);Qt.some((sn,un)=>$t.tabs[un]!==sn)&&Xt(Qt.indexOf($t.tabs[qt.current]))});let en={ref:Dt},tn=L$3();return React$1.createElement(f,null,React$1.createElement(Q.Provider,{value:Kt},React$1.createElement(V.Provider,{value:Ut},Ut.tabs.length<=0&&React$1.createElement(b,{onFocus:()=>{var Qt,sn;for(let un of Bt.current)if(((Qt=un.current)==null?void 0:Qt.tabIndex)===0)return(sn=un.current)==null||sn.focus(),!0;return!1}}),tn({ourProps:en,theirProps:Ct,slot:zt,defaultTag:Ie,name:"Tabs"}))))}let ve="div";function Ce(vt,ht){let{orientation:xt,selectedIndex:_t}=C("Tab.List"),St=y$6(ht),wt=reactExports.useMemo(()=>({selectedIndex:_t}),[_t]),At=vt,Ct={ref:St,role:"tablist","aria-orientation":xt};return L$3()({ourProps:Ct,theirProps:At,slot:wt,defaultTag:ve,name:"Tabs.List"})}let Me="button";function Ge(vt,ht){var xt,_t;let St=reactExports.useId(),{id:wt=`headlessui-tabs-tab-${St}`,disabled:At=!1,autoFocus:Ct=!1,...Rt}=vt,{orientation:It,activation:Lt,selectedIndex:kt,tabs:Dt,panels:$t}=C("Tab"),Ot=Y("Tab"),zt=C("Tab"),[Gt,Bt]=reactExports.useState(null),Ut=reactExports.useRef(null),Vt=y$6(Ut,ht,Bt);n$5(()=>Ot.registerTab(Ut),[Ot,Ut]);let Ht=C$1("tabs"),Xt=Dt.indexOf(Ut);Xt===-1&&(Xt=Ht);let qt=Xt===kt,Kt=o$6(on=>{var ln;let _n=on();if(_n===y$2.Success&&Lt==="auto"){let wn=(ln=o$8(Ut))==null?void 0:ln.activeElement,xn=zt.tabs.findIndex(Pn=>Pn.current===wn);xn!==-1&&Ot.change(xn)}return _n}),en=o$6(on=>{let ln=Dt.map(_n=>_n.current).filter(Boolean);if(on.key===o$4.Space||on.key===o$4.Enter){on.preventDefault(),on.stopPropagation(),Ot.change(Xt);return}switch(on.key){case o$4.Home:case o$4.PageUp:return on.preventDefault(),on.stopPropagation(),Kt(()=>g$4(ln,T$1.First));case o$4.End:case o$4.PageDown:return on.preventDefault(),on.stopPropagation(),Kt(()=>g$4(ln,T$1.Last))}if(Kt(()=>u$8(It,{vertical(){return on.key===o$4.ArrowUp?g$4(ln,T$1.Previous|T$1.WrapAround):on.key===o$4.ArrowDown?g$4(ln,T$1.Next|T$1.WrapAround):y$2.Error},horizontal(){return on.key===o$4.ArrowLeft?g$4(ln,T$1.Previous|T$1.WrapAround):on.key===o$4.ArrowRight?g$4(ln,T$1.Next|T$1.WrapAround):y$2.Error}}))===y$2.Success)return on.preventDefault()}),tn=reactExports.useRef(!1),Qt=o$6(()=>{var on;tn.current||(tn.current=!0,(on=Ut.current)==null||on.focus({preventScroll:!0}),Ot.change(Xt),t$4(()=>{tn.current=!1}))}),sn=o$6(on=>{on.preventDefault()}),{isFocusVisible:un,focusProps:dn}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:Ct}),{isHovered:vn,hoverProps:pn}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:At}),{pressed:rn,pressProps:an}=w$5({disabled:At}),Yt=reactExports.useMemo(()=>({selected:qt,hover:vn,active:rn,focus:un,autofocus:Ct,disabled:At}),[qt,vn,un,rn,Ct,At]),Jt=_$2({ref:Vt,onKeyDown:en,onMouseDown:sn,onClick:Qt,id:wt,role:"tab",type:e$1(vt,Gt),"aria-controls":(_t=(xt=$t[Xt])==null?void 0:xt.current)==null?void 0:_t.id,"aria-selected":qt,tabIndex:qt?0:-1,disabled:At||void 0,autoFocus:Ct},dn,pn,an);return L$3()({ourProps:Jt,theirProps:Rt,slot:Yt,defaultTag:Me,name:"Tabs.Tab"})}let Ue="div";function He(vt,ht){let{selectedIndex:xt}=C("Tab.Panels"),_t=y$6(ht),St=reactExports.useMemo(()=>({selectedIndex:xt}),[xt]),wt=vt,At={ref:_t};return L$3()({ourProps:At,theirProps:wt,slot:St,defaultTag:Ue,name:"Tabs.Panels"})}let we="div",Oe=O$3.RenderStrategy|O$3.Static;function Ne(vt,ht){var xt,_t,St,wt;let At=reactExports.useId(),{id:Ct=`headlessui-tabs-panel-${At}`,tabIndex:Rt=0,...It}=vt,{selectedIndex:Lt,tabs:kt,panels:Dt}=C("Tab.Panel"),$t=Y("Tab.Panel"),Ot=reactExports.useRef(null),zt=y$6(Ot,ht);n$5(()=>$t.registerPanel(Ot),[$t,Ot]);let Gt=C$1("panels"),Bt=Dt.indexOf(Ot);Bt===-1&&(Bt=Gt);let Ut=Bt===Lt,{isFocusVisible:Vt,focusProps:Ht}=$f7dceffc5ad7768b$export$4e328f61c538687f(),Xt=reactExports.useMemo(()=>({selected:Ut,focus:Vt}),[Ut,Vt]),qt=_$2({ref:zt,id:Ct,role:"tabpanel","aria-labelledby":(_t=(xt=kt[Bt])==null?void 0:xt.current)==null?void 0:_t.id,tabIndex:Ut?Rt:-1},Ht),Kt=L$3();return!Ut&&((St=It.unmount)==null||St)&&!((wt=It.static)!=null&&wt)?React$1.createElement(f$9,{"aria-hidden":"true",...qt}):Kt({ourProps:qt,theirProps:It,slot:Xt,defaultTag:we,features:Oe,visible:Ut,name:"Tabs.Panel"})}let ke=K(Ge),Be=K(he),We=K(Ce),je=K(He),Ke=K(Ne),Tt=Object.assign(ke,{Group:Be,List:We,Panels:je,Panel:Ke});const DropdownMenu=({title:vt,items:ht})=>jsxRuntimeExports.jsxs(lo,{as:"div",className:"relative inline-block text-left",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(lo.Button,{className:"inline-flex w-full justify-center items-center rounded-md px-4 py-2 text-sm font-inter font-medium text-text-white-80 hover:text-primary hover:bg-bg-white-5 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/20 transition-all duration-200",children:[vt,jsxRuntimeExports.jsx(ChevronDown,{className:"ml-2 -mr-1 h-5 w-5","aria-hidden":"true"})]})}),jsxRuntimeExports.jsx(ze,{as:reactExports.Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-150",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:jsxRuntimeExports.jsx(lo.Items,{className:"absolute right-0 mt-2 w-56 origin-top-right glass-card shadow-glass focus:outline-none p-1",children:jsxRuntimeExports.jsx("div",{className:"px-1 py-1",children:ht.map(xt=>jsxRuntimeExports.jsx(lo.Item,{children:({active:_t})=>jsxRuntimeExports.jsx("a",{href:xt.href,className:`${_t?"bg-primary text-text-white":"text-text-white-80"} group flex w-full items-center rounded-lg px-3 py-2 text-sm font-inter transition-all duration-200`,children:xt.name})},xt.name))})})})]}),copy={nav:[{label:"Solutions",tagline:"Deploy autonomous agents to automate your business operations.",href:"#capabilities",items:[{name:"For Teams",href:"#"},{name:"For Enterprise",href:"#"}]},{label:"Marketplace",tagline:"Discover and deploy pre-built agents for any task.",href:"#"},{label:"Developers",tagline:"Access powerful tools to build, test, and deploy agents.",href:"#"},{label:"Resources",tagline:"Explore docs, tutorials, and get community support.",href:"#",items:[{name:"Blog",href:"#"},{name:"Docs",href:"#"}]}],hero:{headline:"Identify Your Next Growth Opportunity with Autonomous AI Agents",subheadline:"Our platform provides enterprise-grade infrastructure to deploy intelligent agents that streamline workflows, accelerate growth, and amplify human potential across every department.",cta:"Deploy Your First Agent"},capabilities:[{title:"Autonomous Agent Fleet",description:"Deploy and manage thousands of intelligent agents that work for you 24/7."},{title:"Secure Credential Vault",description:"Safely store and manage API keys and secrets with enterprise-grade security."},{title:"Real-Time Observability",description:"Monitor agent performance and gain deep insights with our comprehensive dashboard."},{title:"Human-in-the-Loop",description:"Seamlessly integrate human oversight for approvals on critical decisions."},{title:"Extensible Tooling API",description:"Connect any internal or external tool to expand your agents' capabilities."},{title:"Multi-Modal Intelligence",description:"Leverage agents that can understand and process text, images, and voice."}],community:{headline:"Build the future, together.",subhead:"Join our ecosystem of builders, innovators, and partners pushing the boundaries of AI.",ctas:["Join Telegram Group","Read the Docs","Explore Bounties"]},footerCTA:{primary:"Click to Speak",secondary:"Book a Builder"}},AppHeader=()=>{const[vt,ht]=reactExports.useState(!1),xt={closed:{opacity:0,y:"-100%"},open:{opacity:1,y:0,transition:{type:"spring",stiffness:120,damping:20}}};return jsxRuntimeExports.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50",children:[jsxRuntimeExports.jsx(motion.div,{className:"glass-card glass-card-hover border-0 border-b border-border-white-10 rounded-none",initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100,damping:20},children:jsxRuntimeExports.jsxs("div",{className:"container px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16 sm:h-20",children:[jsxRuntimeExports.jsx(Logo,{}),jsxRuntimeExports.jsx("nav",{className:"hidden md:flex items-center gap-4",children:copy.nav.map(_t=>_t.items?jsxRuntimeExports.jsx(DropdownMenu,{title:_t.label,items:_t.items},_t.label):jsxRuntimeExports.jsx("a",{href:_t.href,className:"text-sm font-inter font-medium text-text-white-80 hover:text-primary transition-colors duration-200",children:_t.label},_t.label))}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center gap-2 lg:gap-4",children:[jsxRuntimeExports.jsx(CTAButton,{variant:"outline",className:"!px-4 lg:!px-6 !py-2 lg:!py-3 text-sm lg:text-base",children:"Sign In"}),jsxRuntimeExports.jsx(CTAButton,{variant:"primary",className:"!px-4 lg:!px-6 !py-2 lg:!py-3 text-sm lg:text-base",children:"Get Started"})]}),jsxRuntimeExports.jsx("div",{className:"md:hidden",children:jsxRuntimeExports.jsx("button",{onClick:()=>ht(!0),"aria-label":"Open menu",className:"p-2 hover:bg-bg-white-10 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6 text-text-white"})})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:vt&&jsxRuntimeExports.jsx(motion.div,{variants:xt,initial:"closed",animate:"open",exit:"closed",className:"fixed inset-0 bg-bg-dark bg-gradient-dark z-50 md:hidden",children:jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center h-16 sm:h-20",children:[jsxRuntimeExports.jsx(Logo,{}),jsxRuntimeExports.jsx("button",{onClick:()=>ht(!1),"aria-label":"Close menu",className:"p-2 hover:bg-bg-white-10 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X$3,{className:"h-6 w-6 text-text-white"})})]}),jsxRuntimeExports.jsxs("nav",{className:"flex flex-col items-center gap-6 sm:gap-8 mt-12 sm:mt-16",children:[copy.nav.map(_t=>jsxRuntimeExports.jsx("a",{href:_t.href||"#",className:"text-2xl font-satoshi font-medium text-text-white hover:text-primary transition-colors duration-200",children:_t.label},_t.label)),jsxRuntimeExports.jsx(CTAButton,{variant:"primary",className:"w-full mt-8",children:"Get Started"})]})]})})})]})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="167",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,RGBDepthPacking=3202,RGDepthPacking=3203,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",DisplayP3ColorSpace="display-p3",LinearDisplayP3ColorSpace="display-p3-linear",LinearTransfer="linear",SRGBTransfer="srgb",Rec709Primaries="rec709",P3Primaries="p3",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;let EventDispatcher$1=class{addEventListener(ht,xt){this._listeners===void 0&&(this._listeners={});const _t=this._listeners;_t[ht]===void 0&&(_t[ht]=[]),_t[ht].indexOf(xt)===-1&&_t[ht].push(xt)}hasEventListener(ht,xt){if(this._listeners===void 0)return!1;const _t=this._listeners;return _t[ht]!==void 0&&_t[ht].indexOf(xt)!==-1}removeEventListener(ht,xt){if(this._listeners===void 0)return;const St=this._listeners[ht];if(St!==void 0){const wt=St.indexOf(xt);wt!==-1&&St.splice(wt,1)}}dispatchEvent(ht){if(this._listeners===void 0)return;const _t=this._listeners[ht.type];if(_t!==void 0){ht.target=this;const St=_t.slice(0);for(let wt=0,At=St.length;wt<At;wt++)St[wt].call(this,ht);ht.target=null}}};const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const vt=Math.random()*4294967295|0,ht=Math.random()*4294967295|0,xt=Math.random()*4294967295|0,_t=Math.random()*4294967295|0;return(_lut[vt&255]+_lut[vt>>8&255]+_lut[vt>>16&255]+_lut[vt>>24&255]+"-"+_lut[ht&255]+_lut[ht>>8&255]+"-"+_lut[ht>>16&15|64]+_lut[ht>>24&255]+"-"+_lut[xt&63|128]+_lut[xt>>8&255]+"-"+_lut[xt>>16&255]+_lut[xt>>24&255]+_lut[_t&255]+_lut[_t>>8&255]+_lut[_t>>16&255]+_lut[_t>>24&255]).toLowerCase()}function clamp(vt,ht,xt){return Math.max(ht,Math.min(xt,vt))}function euclideanModulo(vt,ht){return(vt%ht+ht)%ht}function mapLinear(vt,ht,xt,_t,St){return _t+(vt-ht)*(St-_t)/(xt-ht)}function inverseLerp(vt,ht,xt){return vt!==ht?(xt-vt)/(ht-vt):0}function lerp(vt,ht,xt){return(1-xt)*vt+xt*ht}function damp(vt,ht,xt,_t){return lerp(vt,ht,1-Math.exp(-xt*_t))}function pingpong(vt,ht=1){return ht-Math.abs(euclideanModulo(vt,ht*2)-ht)}function smoothstep(vt,ht,xt){return vt<=ht?0:vt>=xt?1:(vt=(vt-ht)/(xt-ht),vt*vt*(3-2*vt))}function smootherstep(vt,ht,xt){return vt<=ht?0:vt>=xt?1:(vt=(vt-ht)/(xt-ht),vt*vt*vt*(vt*(vt*6-15)+10))}function randInt(vt,ht){return vt+Math.floor(Math.random()*(ht-vt+1))}function randFloat(vt,ht){return vt+Math.random()*(ht-vt)}function randFloatSpread(vt){return vt*(.5-Math.random())}function seededRandom(vt){vt!==void 0&&(_seed=vt);let ht=_seed+=1831565813;return ht=Math.imul(ht^ht>>>15,ht|1),ht^=ht+Math.imul(ht^ht>>>7,ht|61),((ht^ht>>>14)>>>0)/4294967296}function degToRad(vt){return vt*DEG2RAD}function radToDeg(vt){return vt*RAD2DEG}function isPowerOfTwo(vt){return(vt&vt-1)===0&&vt!==0}function ceilPowerOfTwo(vt){return Math.pow(2,Math.ceil(Math.log(vt)/Math.LN2))}function floorPowerOfTwo(vt){return Math.pow(2,Math.floor(Math.log(vt)/Math.LN2))}function setQuaternionFromProperEuler(vt,ht,xt,_t,St){const wt=Math.cos,At=Math.sin,Ct=wt(xt/2),Rt=At(xt/2),It=wt((ht+_t)/2),Lt=At((ht+_t)/2),kt=wt((ht-_t)/2),Dt=At((ht-_t)/2),$t=wt((_t-ht)/2),Ot=At((_t-ht)/2);switch(St){case"XYX":vt.set(Ct*Lt,Rt*kt,Rt*Dt,Ct*It);break;case"YZY":vt.set(Rt*Dt,Ct*Lt,Rt*kt,Ct*It);break;case"ZXZ":vt.set(Rt*kt,Rt*Dt,Ct*Lt,Ct*It);break;case"XZX":vt.set(Ct*Lt,Rt*Ot,Rt*$t,Ct*It);break;case"YXY":vt.set(Rt*$t,Ct*Lt,Rt*Ot,Ct*It);break;case"ZYZ":vt.set(Rt*Ot,Rt*$t,Ct*Lt,Ct*It);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+St)}}function denormalize(vt,ht){switch(ht.constructor){case Float32Array:return vt;case Uint32Array:return vt/4294967295;case Uint16Array:return vt/65535;case Uint8Array:return vt/255;case Int32Array:return Math.max(vt/2147483647,-1);case Int16Array:return Math.max(vt/32767,-1);case Int8Array:return Math.max(vt/127,-1);default:throw new Error("Invalid component type.")}}function normalize(vt,ht){switch(ht.constructor){case Float32Array:return vt;case Uint32Array:return Math.round(vt*4294967295);case Uint16Array:return Math.round(vt*65535);case Uint8Array:return Math.round(vt*255);case Int32Array:return Math.round(vt*2147483647);case Int16Array:return Math.round(vt*32767);case Int8Array:return Math.round(vt*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor(ht=0,xt=0){Vector2.prototype.isVector2=!0,this.x=ht,this.y=xt}get width(){return this.x}set width(ht){this.x=ht}get height(){return this.y}set height(ht){this.y=ht}set(ht,xt){return this.x=ht,this.y=xt,this}setScalar(ht){return this.x=ht,this.y=ht,this}setX(ht){return this.x=ht,this}setY(ht){return this.y=ht,this}setComponent(ht,xt){switch(ht){case 0:this.x=xt;break;case 1:this.y=xt;break;default:throw new Error("index is out of range: "+ht)}return this}getComponent(ht){switch(ht){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+ht)}}clone(){return new this.constructor(this.x,this.y)}copy(ht){return this.x=ht.x,this.y=ht.y,this}add(ht){return this.x+=ht.x,this.y+=ht.y,this}addScalar(ht){return this.x+=ht,this.y+=ht,this}addVectors(ht,xt){return this.x=ht.x+xt.x,this.y=ht.y+xt.y,this}addScaledVector(ht,xt){return this.x+=ht.x*xt,this.y+=ht.y*xt,this}sub(ht){return this.x-=ht.x,this.y-=ht.y,this}subScalar(ht){return this.x-=ht,this.y-=ht,this}subVectors(ht,xt){return this.x=ht.x-xt.x,this.y=ht.y-xt.y,this}multiply(ht){return this.x*=ht.x,this.y*=ht.y,this}multiplyScalar(ht){return this.x*=ht,this.y*=ht,this}divide(ht){return this.x/=ht.x,this.y/=ht.y,this}divideScalar(ht){return this.multiplyScalar(1/ht)}applyMatrix3(ht){const xt=this.x,_t=this.y,St=ht.elements;return this.x=St[0]*xt+St[3]*_t+St[6],this.y=St[1]*xt+St[4]*_t+St[7],this}min(ht){return this.x=Math.min(this.x,ht.x),this.y=Math.min(this.y,ht.y),this}max(ht){return this.x=Math.max(this.x,ht.x),this.y=Math.max(this.y,ht.y),this}clamp(ht,xt){return this.x=Math.max(ht.x,Math.min(xt.x,this.x)),this.y=Math.max(ht.y,Math.min(xt.y,this.y)),this}clampScalar(ht,xt){return this.x=Math.max(ht,Math.min(xt,this.x)),this.y=Math.max(ht,Math.min(xt,this.y)),this}clampLength(ht,xt){const _t=this.length();return this.divideScalar(_t||1).multiplyScalar(Math.max(ht,Math.min(xt,_t)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(ht){return this.x*ht.x+this.y*ht.y}cross(ht){return this.x*ht.y-this.y*ht.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(ht){const xt=Math.sqrt(this.lengthSq()*ht.lengthSq());if(xt===0)return Math.PI/2;const _t=this.dot(ht)/xt;return Math.acos(clamp(_t,-1,1))}distanceTo(ht){return Math.sqrt(this.distanceToSquared(ht))}distanceToSquared(ht){const xt=this.x-ht.x,_t=this.y-ht.y;return xt*xt+_t*_t}manhattanDistanceTo(ht){return Math.abs(this.x-ht.x)+Math.abs(this.y-ht.y)}setLength(ht){return this.normalize().multiplyScalar(ht)}lerp(ht,xt){return this.x+=(ht.x-this.x)*xt,this.y+=(ht.y-this.y)*xt,this}lerpVectors(ht,xt,_t){return this.x=ht.x+(xt.x-ht.x)*_t,this.y=ht.y+(xt.y-ht.y)*_t,this}equals(ht){return ht.x===this.x&&ht.y===this.y}fromArray(ht,xt=0){return this.x=ht[xt],this.y=ht[xt+1],this}toArray(ht=[],xt=0){return ht[xt]=this.x,ht[xt+1]=this.y,ht}fromBufferAttribute(ht,xt){return this.x=ht.getX(xt),this.y=ht.getY(xt),this}rotateAround(ht,xt){const _t=Math.cos(xt),St=Math.sin(xt),wt=this.x-ht.x,At=this.y-ht.y;return this.x=wt*_t-At*St+ht.x,this.y=wt*St+At*_t+ht.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(ht,xt,_t,St,wt,At,Ct,Rt,It){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],ht!==void 0&&this.set(ht,xt,_t,St,wt,At,Ct,Rt,It)}set(ht,xt,_t,St,wt,At,Ct,Rt,It){const Lt=this.elements;return Lt[0]=ht,Lt[1]=St,Lt[2]=Ct,Lt[3]=xt,Lt[4]=wt,Lt[5]=Rt,Lt[6]=_t,Lt[7]=At,Lt[8]=It,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(ht){const xt=this.elements,_t=ht.elements;return xt[0]=_t[0],xt[1]=_t[1],xt[2]=_t[2],xt[3]=_t[3],xt[4]=_t[4],xt[5]=_t[5],xt[6]=_t[6],xt[7]=_t[7],xt[8]=_t[8],this}extractBasis(ht,xt,_t){return ht.setFromMatrix3Column(this,0),xt.setFromMatrix3Column(this,1),_t.setFromMatrix3Column(this,2),this}setFromMatrix4(ht){const xt=ht.elements;return this.set(xt[0],xt[4],xt[8],xt[1],xt[5],xt[9],xt[2],xt[6],xt[10]),this}multiply(ht){return this.multiplyMatrices(this,ht)}premultiply(ht){return this.multiplyMatrices(ht,this)}multiplyMatrices(ht,xt){const _t=ht.elements,St=xt.elements,wt=this.elements,At=_t[0],Ct=_t[3],Rt=_t[6],It=_t[1],Lt=_t[4],kt=_t[7],Dt=_t[2],$t=_t[5],Ot=_t[8],zt=St[0],Gt=St[3],Bt=St[6],Ut=St[1],Vt=St[4],Ht=St[7],Xt=St[2],qt=St[5],Kt=St[8];return wt[0]=At*zt+Ct*Ut+Rt*Xt,wt[3]=At*Gt+Ct*Vt+Rt*qt,wt[6]=At*Bt+Ct*Ht+Rt*Kt,wt[1]=It*zt+Lt*Ut+kt*Xt,wt[4]=It*Gt+Lt*Vt+kt*qt,wt[7]=It*Bt+Lt*Ht+kt*Kt,wt[2]=Dt*zt+$t*Ut+Ot*Xt,wt[5]=Dt*Gt+$t*Vt+Ot*qt,wt[8]=Dt*Bt+$t*Ht+Ot*Kt,this}multiplyScalar(ht){const xt=this.elements;return xt[0]*=ht,xt[3]*=ht,xt[6]*=ht,xt[1]*=ht,xt[4]*=ht,xt[7]*=ht,xt[2]*=ht,xt[5]*=ht,xt[8]*=ht,this}determinant(){const ht=this.elements,xt=ht[0],_t=ht[1],St=ht[2],wt=ht[3],At=ht[4],Ct=ht[5],Rt=ht[6],It=ht[7],Lt=ht[8];return xt*At*Lt-xt*Ct*It-_t*wt*Lt+_t*Ct*Rt+St*wt*It-St*At*Rt}invert(){const ht=this.elements,xt=ht[0],_t=ht[1],St=ht[2],wt=ht[3],At=ht[4],Ct=ht[5],Rt=ht[6],It=ht[7],Lt=ht[8],kt=Lt*At-Ct*It,Dt=Ct*Rt-Lt*wt,$t=It*wt-At*Rt,Ot=xt*kt+_t*Dt+St*$t;if(Ot===0)return this.set(0,0,0,0,0,0,0,0,0);const zt=1/Ot;return ht[0]=kt*zt,ht[1]=(St*It-Lt*_t)*zt,ht[2]=(Ct*_t-St*At)*zt,ht[3]=Dt*zt,ht[4]=(Lt*xt-St*Rt)*zt,ht[5]=(St*wt-Ct*xt)*zt,ht[6]=$t*zt,ht[7]=(_t*Rt-It*xt)*zt,ht[8]=(At*xt-_t*wt)*zt,this}transpose(){let ht;const xt=this.elements;return ht=xt[1],xt[1]=xt[3],xt[3]=ht,ht=xt[2],xt[2]=xt[6],xt[6]=ht,ht=xt[5],xt[5]=xt[7],xt[7]=ht,this}getNormalMatrix(ht){return this.setFromMatrix4(ht).invert().transpose()}transposeIntoArray(ht){const xt=this.elements;return ht[0]=xt[0],ht[1]=xt[3],ht[2]=xt[6],ht[3]=xt[1],ht[4]=xt[4],ht[5]=xt[7],ht[6]=xt[2],ht[7]=xt[5],ht[8]=xt[8],this}setUvTransform(ht,xt,_t,St,wt,At,Ct){const Rt=Math.cos(wt),It=Math.sin(wt);return this.set(_t*Rt,_t*It,-_t*(Rt*At+It*Ct)+At+ht,-St*It,St*Rt,-St*(-It*At+Rt*Ct)+Ct+xt,0,0,1),this}scale(ht,xt){return this.premultiply(_m3.makeScale(ht,xt)),this}rotate(ht){return this.premultiply(_m3.makeRotation(-ht)),this}translate(ht,xt){return this.premultiply(_m3.makeTranslation(ht,xt)),this}makeTranslation(ht,xt){return ht.isVector2?this.set(1,0,ht.x,0,1,ht.y,0,0,1):this.set(1,0,ht,0,1,xt,0,0,1),this}makeRotation(ht){const xt=Math.cos(ht),_t=Math.sin(ht);return this.set(xt,-_t,0,_t,xt,0,0,0,1),this}makeScale(ht,xt){return this.set(ht,0,0,0,xt,0,0,0,1),this}equals(ht){const xt=this.elements,_t=ht.elements;for(let St=0;St<9;St++)if(xt[St]!==_t[St])return!1;return!0}fromArray(ht,xt=0){for(let _t=0;_t<9;_t++)this.elements[_t]=ht[_t+xt];return this}toArray(ht=[],xt=0){const _t=this.elements;return ht[xt]=_t[0],ht[xt+1]=_t[1],ht[xt+2]=_t[2],ht[xt+3]=_t[3],ht[xt+4]=_t[4],ht[xt+5]=_t[5],ht[xt+6]=_t[6],ht[xt+7]=_t[7],ht[xt+8]=_t[8],ht}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(vt){for(let ht=vt.length-1;ht>=0;--ht)if(vt[ht]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(vt,ht){return new TYPED_ARRAYS[vt](ht)}function createElementNS(vt){return document.createElementNS("http://www.w3.org/1999/xhtml",vt)}function createCanvasElement(){const vt=createElementNS("canvas");return vt.style.display="block",vt}const _cache={};function warnOnce(vt){vt in _cache||(_cache[vt]=!0,console.warn(vt))}function probeAsync(vt,ht,xt){return new Promise(function(_t,St){function wt(){switch(vt.clientWaitSync(ht,vt.SYNC_FLUSH_COMMANDS_BIT,0)){case vt.WAIT_FAILED:St();break;case vt.TIMEOUT_EXPIRED:setTimeout(wt,xt);break;default:_t()}}setTimeout(wt,xt)})}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),COLOR_SPACES={[LinearSRGBColorSpace]:{transfer:LinearTransfer,primaries:Rec709Primaries,luminanceCoefficients:[.2126,.7152,.0722],toReference:vt=>vt,fromReference:vt=>vt},[SRGBColorSpace]:{transfer:SRGBTransfer,primaries:Rec709Primaries,luminanceCoefficients:[.2126,.7152,.0722],toReference:vt=>vt.convertSRGBToLinear(),fromReference:vt=>vt.convertLinearToSRGB()},[LinearDisplayP3ColorSpace]:{transfer:LinearTransfer,primaries:P3Primaries,luminanceCoefficients:[.2289,.6917,.0793],toReference:vt=>vt.applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:vt=>vt.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3)},[DisplayP3ColorSpace]:{transfer:SRGBTransfer,primaries:P3Primaries,luminanceCoefficients:[.2289,.6917,.0793],toReference:vt=>vt.convertSRGBToLinear().applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:vt=>vt.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3).convertLinearToSRGB()}},SUPPORTED_WORKING_COLOR_SPACES=new Set([LinearSRGBColorSpace,LinearDisplayP3ColorSpace]),ColorManagement={enabled:!0,_workingColorSpace:LinearSRGBColorSpace,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(vt){if(!SUPPORTED_WORKING_COLOR_SPACES.has(vt))throw new Error(`Unsupported working color space, "${vt}".`);this._workingColorSpace=vt},convert:function(vt,ht,xt){if(this.enabled===!1||ht===xt||!ht||!xt)return vt;const _t=COLOR_SPACES[ht].toReference,St=COLOR_SPACES[xt].fromReference;return St(_t(vt))},fromWorkingColorSpace:function(vt,ht){return this.convert(vt,this._workingColorSpace,ht)},toWorkingColorSpace:function(vt,ht){return this.convert(vt,ht,this._workingColorSpace)},getPrimaries:function(vt){return COLOR_SPACES[vt].primaries},getTransfer:function(vt){return vt===NoColorSpace?LinearTransfer:COLOR_SPACES[vt].transfer},getLuminanceCoefficients:function(vt,ht=this._workingColorSpace){return vt.fromArray(COLOR_SPACES[ht].luminanceCoefficients)}};function SRGBToLinear(vt){return vt<.04045?vt*.0773993808:Math.pow(vt*.9478672986+.0521327014,2.4)}function LinearToSRGB(vt){return vt<.0031308?vt*12.92:1.055*Math.pow(vt,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(ht){if(/^data:/i.test(ht.src)||typeof HTMLCanvasElement>"u")return ht.src;let xt;if(ht instanceof HTMLCanvasElement)xt=ht;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=ht.width,_canvas.height=ht.height;const _t=_canvas.getContext("2d");ht instanceof ImageData?_t.putImageData(ht,0,0):_t.drawImage(ht,0,0,ht.width,ht.height),xt=_canvas}return xt.width>2048||xt.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",ht),xt.toDataURL("image/jpeg",.6)):xt.toDataURL("image/png")}static sRGBToLinear(ht){if(typeof HTMLImageElement<"u"&&ht instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ht instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ht instanceof ImageBitmap){const xt=createElementNS("canvas");xt.width=ht.width,xt.height=ht.height;const _t=xt.getContext("2d");_t.drawImage(ht,0,0,ht.width,ht.height);const St=_t.getImageData(0,0,ht.width,ht.height),wt=St.data;for(let At=0;At<wt.length;At++)wt[At]=SRGBToLinear(wt[At]/255)*255;return _t.putImageData(St,0,0),xt}else if(ht.data){const xt=ht.data.slice(0);for(let _t=0;_t<xt.length;_t++)xt instanceof Uint8Array||xt instanceof Uint8ClampedArray?xt[_t]=Math.floor(SRGBToLinear(xt[_t]/255)*255):xt[_t]=SRGBToLinear(xt[_t]);return{data:xt,width:ht.width,height:ht.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),ht}}let _sourceId=0;class Source{constructor(ht=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=ht,this.dataReady=!0,this.version=0}set needsUpdate(ht){ht===!0&&this.version++}toJSON(ht){const xt=ht===void 0||typeof ht=="string";if(!xt&&ht.images[this.uuid]!==void 0)return ht.images[this.uuid];const _t={uuid:this.uuid,url:""},St=this.data;if(St!==null){let wt;if(Array.isArray(St)){wt=[];for(let At=0,Ct=St.length;At<Ct;At++)St[At].isDataTexture?wt.push(serializeImage(St[At].image)):wt.push(serializeImage(St[At]))}else wt=serializeImage(St);_t.url=wt}return xt||(ht.images[this.uuid]=_t),_t}}function serializeImage(vt){return typeof HTMLImageElement<"u"&&vt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&vt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&vt instanceof ImageBitmap?ImageUtils.getDataURL(vt):vt.data?{data:Array.from(vt.data),width:vt.width,height:vt.height,type:vt.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher$1{constructor(ht=Texture.DEFAULT_IMAGE,xt=Texture.DEFAULT_MAPPING,_t=ClampToEdgeWrapping,St=ClampToEdgeWrapping,wt=LinearFilter,At=LinearMipmapLinearFilter,Ct=RGBAFormat,Rt=UnsignedByteType,It=Texture.DEFAULT_ANISOTROPY,Lt=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(ht),this.mipmaps=[],this.mapping=xt,this.channel=0,this.wrapS=_t,this.wrapT=St,this.magFilter=wt,this.minFilter=At,this.anisotropy=It,this.format=Ct,this.internalFormat=null,this.type=Rt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=Lt,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(ht=null){this.source.data=ht}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(ht){return this.name=ht.name,this.source=ht.source,this.mipmaps=ht.mipmaps.slice(0),this.mapping=ht.mapping,this.channel=ht.channel,this.wrapS=ht.wrapS,this.wrapT=ht.wrapT,this.magFilter=ht.magFilter,this.minFilter=ht.minFilter,this.anisotropy=ht.anisotropy,this.format=ht.format,this.internalFormat=ht.internalFormat,this.type=ht.type,this.offset.copy(ht.offset),this.repeat.copy(ht.repeat),this.center.copy(ht.center),this.rotation=ht.rotation,this.matrixAutoUpdate=ht.matrixAutoUpdate,this.matrix.copy(ht.matrix),this.generateMipmaps=ht.generateMipmaps,this.premultiplyAlpha=ht.premultiplyAlpha,this.flipY=ht.flipY,this.unpackAlignment=ht.unpackAlignment,this.colorSpace=ht.colorSpace,this.userData=JSON.parse(JSON.stringify(ht.userData)),this.needsUpdate=!0,this}toJSON(ht){const xt=ht===void 0||typeof ht=="string";if(!xt&&ht.textures[this.uuid]!==void 0)return ht.textures[this.uuid];const _t={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(ht).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(_t.userData=this.userData),xt||(ht.textures[this.uuid]=_t),_t}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(ht){if(this.mapping!==UVMapping)return ht;if(ht.applyMatrix3(this.matrix),ht.x<0||ht.x>1)switch(this.wrapS){case RepeatWrapping:ht.x=ht.x-Math.floor(ht.x);break;case ClampToEdgeWrapping:ht.x=ht.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(ht.x)%2)===1?ht.x=Math.ceil(ht.x)-ht.x:ht.x=ht.x-Math.floor(ht.x);break}if(ht.y<0||ht.y>1)switch(this.wrapT){case RepeatWrapping:ht.y=ht.y-Math.floor(ht.y);break;case ClampToEdgeWrapping:ht.y=ht.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(ht.y)%2)===1?ht.y=Math.ceil(ht.y)-ht.y:ht.y=ht.y-Math.floor(ht.y);break}return this.flipY&&(ht.y=1-ht.y),ht}set needsUpdate(ht){ht===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(ht){ht===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(ht=0,xt=0,_t=0,St=1){Vector4.prototype.isVector4=!0,this.x=ht,this.y=xt,this.z=_t,this.w=St}get width(){return this.z}set width(ht){this.z=ht}get height(){return this.w}set height(ht){this.w=ht}set(ht,xt,_t,St){return this.x=ht,this.y=xt,this.z=_t,this.w=St,this}setScalar(ht){return this.x=ht,this.y=ht,this.z=ht,this.w=ht,this}setX(ht){return this.x=ht,this}setY(ht){return this.y=ht,this}setZ(ht){return this.z=ht,this}setW(ht){return this.w=ht,this}setComponent(ht,xt){switch(ht){case 0:this.x=xt;break;case 1:this.y=xt;break;case 2:this.z=xt;break;case 3:this.w=xt;break;default:throw new Error("index is out of range: "+ht)}return this}getComponent(ht){switch(ht){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+ht)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(ht){return this.x=ht.x,this.y=ht.y,this.z=ht.z,this.w=ht.w!==void 0?ht.w:1,this}add(ht){return this.x+=ht.x,this.y+=ht.y,this.z+=ht.z,this.w+=ht.w,this}addScalar(ht){return this.x+=ht,this.y+=ht,this.z+=ht,this.w+=ht,this}addVectors(ht,xt){return this.x=ht.x+xt.x,this.y=ht.y+xt.y,this.z=ht.z+xt.z,this.w=ht.w+xt.w,this}addScaledVector(ht,xt){return this.x+=ht.x*xt,this.y+=ht.y*xt,this.z+=ht.z*xt,this.w+=ht.w*xt,this}sub(ht){return this.x-=ht.x,this.y-=ht.y,this.z-=ht.z,this.w-=ht.w,this}subScalar(ht){return this.x-=ht,this.y-=ht,this.z-=ht,this.w-=ht,this}subVectors(ht,xt){return this.x=ht.x-xt.x,this.y=ht.y-xt.y,this.z=ht.z-xt.z,this.w=ht.w-xt.w,this}multiply(ht){return this.x*=ht.x,this.y*=ht.y,this.z*=ht.z,this.w*=ht.w,this}multiplyScalar(ht){return this.x*=ht,this.y*=ht,this.z*=ht,this.w*=ht,this}applyMatrix4(ht){const xt=this.x,_t=this.y,St=this.z,wt=this.w,At=ht.elements;return this.x=At[0]*xt+At[4]*_t+At[8]*St+At[12]*wt,this.y=At[1]*xt+At[5]*_t+At[9]*St+At[13]*wt,this.z=At[2]*xt+At[6]*_t+At[10]*St+At[14]*wt,this.w=At[3]*xt+At[7]*_t+At[11]*St+At[15]*wt,this}divideScalar(ht){return this.multiplyScalar(1/ht)}setAxisAngleFromQuaternion(ht){this.w=2*Math.acos(ht.w);const xt=Math.sqrt(1-ht.w*ht.w);return xt<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=ht.x/xt,this.y=ht.y/xt,this.z=ht.z/xt),this}setAxisAngleFromRotationMatrix(ht){let xt,_t,St,wt;const Rt=ht.elements,It=Rt[0],Lt=Rt[4],kt=Rt[8],Dt=Rt[1],$t=Rt[5],Ot=Rt[9],zt=Rt[2],Gt=Rt[6],Bt=Rt[10];if(Math.abs(Lt-Dt)<.01&&Math.abs(kt-zt)<.01&&Math.abs(Ot-Gt)<.01){if(Math.abs(Lt+Dt)<.1&&Math.abs(kt+zt)<.1&&Math.abs(Ot+Gt)<.1&&Math.abs(It+$t+Bt-3)<.1)return this.set(1,0,0,0),this;xt=Math.PI;const Vt=(It+1)/2,Ht=($t+1)/2,Xt=(Bt+1)/2,qt=(Lt+Dt)/4,Kt=(kt+zt)/4,en=(Ot+Gt)/4;return Vt>Ht&&Vt>Xt?Vt<.01?(_t=0,St=.707106781,wt=.707106781):(_t=Math.sqrt(Vt),St=qt/_t,wt=Kt/_t):Ht>Xt?Ht<.01?(_t=.707106781,St=0,wt=.707106781):(St=Math.sqrt(Ht),_t=qt/St,wt=en/St):Xt<.01?(_t=.707106781,St=.707106781,wt=0):(wt=Math.sqrt(Xt),_t=Kt/wt,St=en/wt),this.set(_t,St,wt,xt),this}let Ut=Math.sqrt((Gt-Ot)*(Gt-Ot)+(kt-zt)*(kt-zt)+(Dt-Lt)*(Dt-Lt));return Math.abs(Ut)<.001&&(Ut=1),this.x=(Gt-Ot)/Ut,this.y=(kt-zt)/Ut,this.z=(Dt-Lt)/Ut,this.w=Math.acos((It+$t+Bt-1)/2),this}setFromMatrixPosition(ht){const xt=ht.elements;return this.x=xt[12],this.y=xt[13],this.z=xt[14],this.w=xt[15],this}min(ht){return this.x=Math.min(this.x,ht.x),this.y=Math.min(this.y,ht.y),this.z=Math.min(this.z,ht.z),this.w=Math.min(this.w,ht.w),this}max(ht){return this.x=Math.max(this.x,ht.x),this.y=Math.max(this.y,ht.y),this.z=Math.max(this.z,ht.z),this.w=Math.max(this.w,ht.w),this}clamp(ht,xt){return this.x=Math.max(ht.x,Math.min(xt.x,this.x)),this.y=Math.max(ht.y,Math.min(xt.y,this.y)),this.z=Math.max(ht.z,Math.min(xt.z,this.z)),this.w=Math.max(ht.w,Math.min(xt.w,this.w)),this}clampScalar(ht,xt){return this.x=Math.max(ht,Math.min(xt,this.x)),this.y=Math.max(ht,Math.min(xt,this.y)),this.z=Math.max(ht,Math.min(xt,this.z)),this.w=Math.max(ht,Math.min(xt,this.w)),this}clampLength(ht,xt){const _t=this.length();return this.divideScalar(_t||1).multiplyScalar(Math.max(ht,Math.min(xt,_t)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(ht){return this.x*ht.x+this.y*ht.y+this.z*ht.z+this.w*ht.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(ht){return this.normalize().multiplyScalar(ht)}lerp(ht,xt){return this.x+=(ht.x-this.x)*xt,this.y+=(ht.y-this.y)*xt,this.z+=(ht.z-this.z)*xt,this.w+=(ht.w-this.w)*xt,this}lerpVectors(ht,xt,_t){return this.x=ht.x+(xt.x-ht.x)*_t,this.y=ht.y+(xt.y-ht.y)*_t,this.z=ht.z+(xt.z-ht.z)*_t,this.w=ht.w+(xt.w-ht.w)*_t,this}equals(ht){return ht.x===this.x&&ht.y===this.y&&ht.z===this.z&&ht.w===this.w}fromArray(ht,xt=0){return this.x=ht[xt],this.y=ht[xt+1],this.z=ht[xt+2],this.w=ht[xt+3],this}toArray(ht=[],xt=0){return ht[xt]=this.x,ht[xt+1]=this.y,ht[xt+2]=this.z,ht[xt+3]=this.w,ht}fromBufferAttribute(ht,xt){return this.x=ht.getX(xt),this.y=ht.getY(xt),this.z=ht.getZ(xt),this.w=ht.getW(xt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher$1{constructor(ht=1,xt=1,_t={}){super(),this.isRenderTarget=!0,this.width=ht,this.height=xt,this.depth=1,this.scissor=new Vector4(0,0,ht,xt),this.scissorTest=!1,this.viewport=new Vector4(0,0,ht,xt);const St={width:ht,height:xt,depth:1};_t=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},_t);const wt=new Texture(St,_t.mapping,_t.wrapS,_t.wrapT,_t.magFilter,_t.minFilter,_t.format,_t.type,_t.anisotropy,_t.colorSpace);wt.flipY=!1,wt.generateMipmaps=_t.generateMipmaps,wt.internalFormat=_t.internalFormat,this.textures=[];const At=_t.count;for(let Ct=0;Ct<At;Ct++)this.textures[Ct]=wt.clone(),this.textures[Ct].isRenderTargetTexture=!0;this.depthBuffer=_t.depthBuffer,this.stencilBuffer=_t.stencilBuffer,this.resolveDepthBuffer=_t.resolveDepthBuffer,this.resolveStencilBuffer=_t.resolveStencilBuffer,this.depthTexture=_t.depthTexture,this.samples=_t.samples}get texture(){return this.textures[0]}set texture(ht){this.textures[0]=ht}setSize(ht,xt,_t=1){if(this.width!==ht||this.height!==xt||this.depth!==_t){this.width=ht,this.height=xt,this.depth=_t;for(let St=0,wt=this.textures.length;St<wt;St++)this.textures[St].image.width=ht,this.textures[St].image.height=xt,this.textures[St].image.depth=_t;this.dispose()}this.viewport.set(0,0,ht,xt),this.scissor.set(0,0,ht,xt)}clone(){return new this.constructor().copy(this)}copy(ht){this.width=ht.width,this.height=ht.height,this.depth=ht.depth,this.scissor.copy(ht.scissor),this.scissorTest=ht.scissorTest,this.viewport.copy(ht.viewport),this.textures.length=0;for(let _t=0,St=ht.textures.length;_t<St;_t++)this.textures[_t]=ht.textures[_t].clone(),this.textures[_t].isRenderTargetTexture=!0;const xt=Object.assign({},ht.texture.image);return this.texture.source=new Source(xt),this.depthBuffer=ht.depthBuffer,this.stencilBuffer=ht.stencilBuffer,this.resolveDepthBuffer=ht.resolveDepthBuffer,this.resolveStencilBuffer=ht.resolveStencilBuffer,ht.depthTexture!==null&&(this.depthTexture=ht.depthTexture.clone()),this.samples=ht.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(ht=1,xt=1,_t={}){super(ht,xt,_t),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(ht=null,xt=1,_t=1,St=1){super(null),this.isDataArrayTexture=!0,this.image={data:ht,width:xt,height:_t,depth:St},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(ht){this.layerUpdates.add(ht)}clearLayerUpdates(){this.layerUpdates.clear()}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(ht=1,xt=1,_t=1,St={}){super(ht,xt,St),this.isWebGLArrayRenderTarget=!0,this.depth=_t,this.texture=new DataArrayTexture(null,ht,xt,_t),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(ht=null,xt=1,_t=1,St=1){super(null),this.isData3DTexture=!0,this.image={data:ht,width:xt,height:_t,depth:St},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(ht=1,xt=1,_t=1,St={}){super(ht,xt,St),this.isWebGL3DRenderTarget=!0,this.depth=_t,this.texture=new Data3DTexture(null,ht,xt,_t),this.texture.isRenderTargetTexture=!0}}class Quaternion{constructor(ht=0,xt=0,_t=0,St=1){this.isQuaternion=!0,this._x=ht,this._y=xt,this._z=_t,this._w=St}static slerpFlat(ht,xt,_t,St,wt,At,Ct){let Rt=_t[St+0],It=_t[St+1],Lt=_t[St+2],kt=_t[St+3];const Dt=wt[At+0],$t=wt[At+1],Ot=wt[At+2],zt=wt[At+3];if(Ct===0){ht[xt+0]=Rt,ht[xt+1]=It,ht[xt+2]=Lt,ht[xt+3]=kt;return}if(Ct===1){ht[xt+0]=Dt,ht[xt+1]=$t,ht[xt+2]=Ot,ht[xt+3]=zt;return}if(kt!==zt||Rt!==Dt||It!==$t||Lt!==Ot){let Gt=1-Ct;const Bt=Rt*Dt+It*$t+Lt*Ot+kt*zt,Ut=Bt>=0?1:-1,Vt=1-Bt*Bt;if(Vt>Number.EPSILON){const Xt=Math.sqrt(Vt),qt=Math.atan2(Xt,Bt*Ut);Gt=Math.sin(Gt*qt)/Xt,Ct=Math.sin(Ct*qt)/Xt}const Ht=Ct*Ut;if(Rt=Rt*Gt+Dt*Ht,It=It*Gt+$t*Ht,Lt=Lt*Gt+Ot*Ht,kt=kt*Gt+zt*Ht,Gt===1-Ct){const Xt=1/Math.sqrt(Rt*Rt+It*It+Lt*Lt+kt*kt);Rt*=Xt,It*=Xt,Lt*=Xt,kt*=Xt}}ht[xt]=Rt,ht[xt+1]=It,ht[xt+2]=Lt,ht[xt+3]=kt}static multiplyQuaternionsFlat(ht,xt,_t,St,wt,At){const Ct=_t[St],Rt=_t[St+1],It=_t[St+2],Lt=_t[St+3],kt=wt[At],Dt=wt[At+1],$t=wt[At+2],Ot=wt[At+3];return ht[xt]=Ct*Ot+Lt*kt+Rt*$t-It*Dt,ht[xt+1]=Rt*Ot+Lt*Dt+It*kt-Ct*$t,ht[xt+2]=It*Ot+Lt*$t+Ct*Dt-Rt*kt,ht[xt+3]=Lt*Ot-Ct*kt-Rt*Dt-It*$t,ht}get x(){return this._x}set x(ht){this._x=ht,this._onChangeCallback()}get y(){return this._y}set y(ht){this._y=ht,this._onChangeCallback()}get z(){return this._z}set z(ht){this._z=ht,this._onChangeCallback()}get w(){return this._w}set w(ht){this._w=ht,this._onChangeCallback()}set(ht,xt,_t,St){return this._x=ht,this._y=xt,this._z=_t,this._w=St,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(ht){return this._x=ht.x,this._y=ht.y,this._z=ht.z,this._w=ht.w,this._onChangeCallback(),this}setFromEuler(ht,xt=!0){const _t=ht._x,St=ht._y,wt=ht._z,At=ht._order,Ct=Math.cos,Rt=Math.sin,It=Ct(_t/2),Lt=Ct(St/2),kt=Ct(wt/2),Dt=Rt(_t/2),$t=Rt(St/2),Ot=Rt(wt/2);switch(At){case"XYZ":this._x=Dt*Lt*kt+It*$t*Ot,this._y=It*$t*kt-Dt*Lt*Ot,this._z=It*Lt*Ot+Dt*$t*kt,this._w=It*Lt*kt-Dt*$t*Ot;break;case"YXZ":this._x=Dt*Lt*kt+It*$t*Ot,this._y=It*$t*kt-Dt*Lt*Ot,this._z=It*Lt*Ot-Dt*$t*kt,this._w=It*Lt*kt+Dt*$t*Ot;break;case"ZXY":this._x=Dt*Lt*kt-It*$t*Ot,this._y=It*$t*kt+Dt*Lt*Ot,this._z=It*Lt*Ot+Dt*$t*kt,this._w=It*Lt*kt-Dt*$t*Ot;break;case"ZYX":this._x=Dt*Lt*kt-It*$t*Ot,this._y=It*$t*kt+Dt*Lt*Ot,this._z=It*Lt*Ot-Dt*$t*kt,this._w=It*Lt*kt+Dt*$t*Ot;break;case"YZX":this._x=Dt*Lt*kt+It*$t*Ot,this._y=It*$t*kt+Dt*Lt*Ot,this._z=It*Lt*Ot-Dt*$t*kt,this._w=It*Lt*kt-Dt*$t*Ot;break;case"XZY":this._x=Dt*Lt*kt-It*$t*Ot,this._y=It*$t*kt-Dt*Lt*Ot,this._z=It*Lt*Ot+Dt*$t*kt,this._w=It*Lt*kt+Dt*$t*Ot;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+At)}return xt===!0&&this._onChangeCallback(),this}setFromAxisAngle(ht,xt){const _t=xt/2,St=Math.sin(_t);return this._x=ht.x*St,this._y=ht.y*St,this._z=ht.z*St,this._w=Math.cos(_t),this._onChangeCallback(),this}setFromRotationMatrix(ht){const xt=ht.elements,_t=xt[0],St=xt[4],wt=xt[8],At=xt[1],Ct=xt[5],Rt=xt[9],It=xt[2],Lt=xt[6],kt=xt[10],Dt=_t+Ct+kt;if(Dt>0){const $t=.5/Math.sqrt(Dt+1);this._w=.25/$t,this._x=(Lt-Rt)*$t,this._y=(wt-It)*$t,this._z=(At-St)*$t}else if(_t>Ct&&_t>kt){const $t=2*Math.sqrt(1+_t-Ct-kt);this._w=(Lt-Rt)/$t,this._x=.25*$t,this._y=(St+At)/$t,this._z=(wt+It)/$t}else if(Ct>kt){const $t=2*Math.sqrt(1+Ct-_t-kt);this._w=(wt-It)/$t,this._x=(St+At)/$t,this._y=.25*$t,this._z=(Rt+Lt)/$t}else{const $t=2*Math.sqrt(1+kt-_t-Ct);this._w=(At-St)/$t,this._x=(wt+It)/$t,this._y=(Rt+Lt)/$t,this._z=.25*$t}return this._onChangeCallback(),this}setFromUnitVectors(ht,xt){let _t=ht.dot(xt)+1;return _t<Number.EPSILON?(_t=0,Math.abs(ht.x)>Math.abs(ht.z)?(this._x=-ht.y,this._y=ht.x,this._z=0,this._w=_t):(this._x=0,this._y=-ht.z,this._z=ht.y,this._w=_t)):(this._x=ht.y*xt.z-ht.z*xt.y,this._y=ht.z*xt.x-ht.x*xt.z,this._z=ht.x*xt.y-ht.y*xt.x,this._w=_t),this.normalize()}angleTo(ht){return 2*Math.acos(Math.abs(clamp(this.dot(ht),-1,1)))}rotateTowards(ht,xt){const _t=this.angleTo(ht);if(_t===0)return this;const St=Math.min(1,xt/_t);return this.slerp(ht,St),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(ht){return this._x*ht._x+this._y*ht._y+this._z*ht._z+this._w*ht._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let ht=this.length();return ht===0?(this._x=0,this._y=0,this._z=0,this._w=1):(ht=1/ht,this._x=this._x*ht,this._y=this._y*ht,this._z=this._z*ht,this._w=this._w*ht),this._onChangeCallback(),this}multiply(ht){return this.multiplyQuaternions(this,ht)}premultiply(ht){return this.multiplyQuaternions(ht,this)}multiplyQuaternions(ht,xt){const _t=ht._x,St=ht._y,wt=ht._z,At=ht._w,Ct=xt._x,Rt=xt._y,It=xt._z,Lt=xt._w;return this._x=_t*Lt+At*Ct+St*It-wt*Rt,this._y=St*Lt+At*Rt+wt*Ct-_t*It,this._z=wt*Lt+At*It+_t*Rt-St*Ct,this._w=At*Lt-_t*Ct-St*Rt-wt*It,this._onChangeCallback(),this}slerp(ht,xt){if(xt===0)return this;if(xt===1)return this.copy(ht);const _t=this._x,St=this._y,wt=this._z,At=this._w;let Ct=At*ht._w+_t*ht._x+St*ht._y+wt*ht._z;if(Ct<0?(this._w=-ht._w,this._x=-ht._x,this._y=-ht._y,this._z=-ht._z,Ct=-Ct):this.copy(ht),Ct>=1)return this._w=At,this._x=_t,this._y=St,this._z=wt,this;const Rt=1-Ct*Ct;if(Rt<=Number.EPSILON){const $t=1-xt;return this._w=$t*At+xt*this._w,this._x=$t*_t+xt*this._x,this._y=$t*St+xt*this._y,this._z=$t*wt+xt*this._z,this.normalize(),this}const It=Math.sqrt(Rt),Lt=Math.atan2(It,Ct),kt=Math.sin((1-xt)*Lt)/It,Dt=Math.sin(xt*Lt)/It;return this._w=At*kt+this._w*Dt,this._x=_t*kt+this._x*Dt,this._y=St*kt+this._y*Dt,this._z=wt*kt+this._z*Dt,this._onChangeCallback(),this}slerpQuaternions(ht,xt,_t){return this.copy(ht).slerp(xt,_t)}random(){const ht=2*Math.PI*Math.random(),xt=2*Math.PI*Math.random(),_t=Math.random(),St=Math.sqrt(1-_t),wt=Math.sqrt(_t);return this.set(St*Math.sin(ht),St*Math.cos(ht),wt*Math.sin(xt),wt*Math.cos(xt))}equals(ht){return ht._x===this._x&&ht._y===this._y&&ht._z===this._z&&ht._w===this._w}fromArray(ht,xt=0){return this._x=ht[xt],this._y=ht[xt+1],this._z=ht[xt+2],this._w=ht[xt+3],this._onChangeCallback(),this}toArray(ht=[],xt=0){return ht[xt]=this._x,ht[xt+1]=this._y,ht[xt+2]=this._z,ht[xt+3]=this._w,ht}fromBufferAttribute(ht,xt){return this._x=ht.getX(xt),this._y=ht.getY(xt),this._z=ht.getZ(xt),this._w=ht.getW(xt),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(ht){return this._onChangeCallback=ht,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(ht=0,xt=0,_t=0){Vector3.prototype.isVector3=!0,this.x=ht,this.y=xt,this.z=_t}set(ht,xt,_t){return _t===void 0&&(_t=this.z),this.x=ht,this.y=xt,this.z=_t,this}setScalar(ht){return this.x=ht,this.y=ht,this.z=ht,this}setX(ht){return this.x=ht,this}setY(ht){return this.y=ht,this}setZ(ht){return this.z=ht,this}setComponent(ht,xt){switch(ht){case 0:this.x=xt;break;case 1:this.y=xt;break;case 2:this.z=xt;break;default:throw new Error("index is out of range: "+ht)}return this}getComponent(ht){switch(ht){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+ht)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(ht){return this.x=ht.x,this.y=ht.y,this.z=ht.z,this}add(ht){return this.x+=ht.x,this.y+=ht.y,this.z+=ht.z,this}addScalar(ht){return this.x+=ht,this.y+=ht,this.z+=ht,this}addVectors(ht,xt){return this.x=ht.x+xt.x,this.y=ht.y+xt.y,this.z=ht.z+xt.z,this}addScaledVector(ht,xt){return this.x+=ht.x*xt,this.y+=ht.y*xt,this.z+=ht.z*xt,this}sub(ht){return this.x-=ht.x,this.y-=ht.y,this.z-=ht.z,this}subScalar(ht){return this.x-=ht,this.y-=ht,this.z-=ht,this}subVectors(ht,xt){return this.x=ht.x-xt.x,this.y=ht.y-xt.y,this.z=ht.z-xt.z,this}multiply(ht){return this.x*=ht.x,this.y*=ht.y,this.z*=ht.z,this}multiplyScalar(ht){return this.x*=ht,this.y*=ht,this.z*=ht,this}multiplyVectors(ht,xt){return this.x=ht.x*xt.x,this.y=ht.y*xt.y,this.z=ht.z*xt.z,this}applyEuler(ht){return this.applyQuaternion(_quaternion$4.setFromEuler(ht))}applyAxisAngle(ht,xt){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(ht,xt))}applyMatrix3(ht){const xt=this.x,_t=this.y,St=this.z,wt=ht.elements;return this.x=wt[0]*xt+wt[3]*_t+wt[6]*St,this.y=wt[1]*xt+wt[4]*_t+wt[7]*St,this.z=wt[2]*xt+wt[5]*_t+wt[8]*St,this}applyNormalMatrix(ht){return this.applyMatrix3(ht).normalize()}applyMatrix4(ht){const xt=this.x,_t=this.y,St=this.z,wt=ht.elements,At=1/(wt[3]*xt+wt[7]*_t+wt[11]*St+wt[15]);return this.x=(wt[0]*xt+wt[4]*_t+wt[8]*St+wt[12])*At,this.y=(wt[1]*xt+wt[5]*_t+wt[9]*St+wt[13])*At,this.z=(wt[2]*xt+wt[6]*_t+wt[10]*St+wt[14])*At,this}applyQuaternion(ht){const xt=this.x,_t=this.y,St=this.z,wt=ht.x,At=ht.y,Ct=ht.z,Rt=ht.w,It=2*(At*St-Ct*_t),Lt=2*(Ct*xt-wt*St),kt=2*(wt*_t-At*xt);return this.x=xt+Rt*It+At*kt-Ct*Lt,this.y=_t+Rt*Lt+Ct*It-wt*kt,this.z=St+Rt*kt+wt*Lt-At*It,this}project(ht){return this.applyMatrix4(ht.matrixWorldInverse).applyMatrix4(ht.projectionMatrix)}unproject(ht){return this.applyMatrix4(ht.projectionMatrixInverse).applyMatrix4(ht.matrixWorld)}transformDirection(ht){const xt=this.x,_t=this.y,St=this.z,wt=ht.elements;return this.x=wt[0]*xt+wt[4]*_t+wt[8]*St,this.y=wt[1]*xt+wt[5]*_t+wt[9]*St,this.z=wt[2]*xt+wt[6]*_t+wt[10]*St,this.normalize()}divide(ht){return this.x/=ht.x,this.y/=ht.y,this.z/=ht.z,this}divideScalar(ht){return this.multiplyScalar(1/ht)}min(ht){return this.x=Math.min(this.x,ht.x),this.y=Math.min(this.y,ht.y),this.z=Math.min(this.z,ht.z),this}max(ht){return this.x=Math.max(this.x,ht.x),this.y=Math.max(this.y,ht.y),this.z=Math.max(this.z,ht.z),this}clamp(ht,xt){return this.x=Math.max(ht.x,Math.min(xt.x,this.x)),this.y=Math.max(ht.y,Math.min(xt.y,this.y)),this.z=Math.max(ht.z,Math.min(xt.z,this.z)),this}clampScalar(ht,xt){return this.x=Math.max(ht,Math.min(xt,this.x)),this.y=Math.max(ht,Math.min(xt,this.y)),this.z=Math.max(ht,Math.min(xt,this.z)),this}clampLength(ht,xt){const _t=this.length();return this.divideScalar(_t||1).multiplyScalar(Math.max(ht,Math.min(xt,_t)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(ht){return this.x*ht.x+this.y*ht.y+this.z*ht.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(ht){return this.normalize().multiplyScalar(ht)}lerp(ht,xt){return this.x+=(ht.x-this.x)*xt,this.y+=(ht.y-this.y)*xt,this.z+=(ht.z-this.z)*xt,this}lerpVectors(ht,xt,_t){return this.x=ht.x+(xt.x-ht.x)*_t,this.y=ht.y+(xt.y-ht.y)*_t,this.z=ht.z+(xt.z-ht.z)*_t,this}cross(ht){return this.crossVectors(this,ht)}crossVectors(ht,xt){const _t=ht.x,St=ht.y,wt=ht.z,At=xt.x,Ct=xt.y,Rt=xt.z;return this.x=St*Rt-wt*Ct,this.y=wt*At-_t*Rt,this.z=_t*Ct-St*At,this}projectOnVector(ht){const xt=ht.lengthSq();if(xt===0)return this.set(0,0,0);const _t=ht.dot(this)/xt;return this.copy(ht).multiplyScalar(_t)}projectOnPlane(ht){return _vector$c.copy(this).projectOnVector(ht),this.sub(_vector$c)}reflect(ht){return this.sub(_vector$c.copy(ht).multiplyScalar(2*this.dot(ht)))}angleTo(ht){const xt=Math.sqrt(this.lengthSq()*ht.lengthSq());if(xt===0)return Math.PI/2;const _t=this.dot(ht)/xt;return Math.acos(clamp(_t,-1,1))}distanceTo(ht){return Math.sqrt(this.distanceToSquared(ht))}distanceToSquared(ht){const xt=this.x-ht.x,_t=this.y-ht.y,St=this.z-ht.z;return xt*xt+_t*_t+St*St}manhattanDistanceTo(ht){return Math.abs(this.x-ht.x)+Math.abs(this.y-ht.y)+Math.abs(this.z-ht.z)}setFromSpherical(ht){return this.setFromSphericalCoords(ht.radius,ht.phi,ht.theta)}setFromSphericalCoords(ht,xt,_t){const St=Math.sin(xt)*ht;return this.x=St*Math.sin(_t),this.y=Math.cos(xt)*ht,this.z=St*Math.cos(_t),this}setFromCylindrical(ht){return this.setFromCylindricalCoords(ht.radius,ht.theta,ht.y)}setFromCylindricalCoords(ht,xt,_t){return this.x=ht*Math.sin(xt),this.y=_t,this.z=ht*Math.cos(xt),this}setFromMatrixPosition(ht){const xt=ht.elements;return this.x=xt[12],this.y=xt[13],this.z=xt[14],this}setFromMatrixScale(ht){const xt=this.setFromMatrixColumn(ht,0).length(),_t=this.setFromMatrixColumn(ht,1).length(),St=this.setFromMatrixColumn(ht,2).length();return this.x=xt,this.y=_t,this.z=St,this}setFromMatrixColumn(ht,xt){return this.fromArray(ht.elements,xt*4)}setFromMatrix3Column(ht,xt){return this.fromArray(ht.elements,xt*3)}setFromEuler(ht){return this.x=ht._x,this.y=ht._y,this.z=ht._z,this}setFromColor(ht){return this.x=ht.r,this.y=ht.g,this.z=ht.b,this}equals(ht){return ht.x===this.x&&ht.y===this.y&&ht.z===this.z}fromArray(ht,xt=0){return this.x=ht[xt],this.y=ht[xt+1],this.z=ht[xt+2],this}toArray(ht=[],xt=0){return ht[xt]=this.x,ht[xt+1]=this.y,ht[xt+2]=this.z,ht}fromBufferAttribute(ht,xt){return this.x=ht.getX(xt),this.y=ht.getY(xt),this.z=ht.getZ(xt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const ht=Math.random()*Math.PI*2,xt=Math.random()*2-1,_t=Math.sqrt(1-xt*xt);return this.x=_t*Math.cos(ht),this.y=xt,this.z=_t*Math.sin(ht),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(ht=new Vector3(1/0,1/0,1/0),xt=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=ht,this.max=xt}set(ht,xt){return this.min.copy(ht),this.max.copy(xt),this}setFromArray(ht){this.makeEmpty();for(let xt=0,_t=ht.length;xt<_t;xt+=3)this.expandByPoint(_vector$b.fromArray(ht,xt));return this}setFromBufferAttribute(ht){this.makeEmpty();for(let xt=0,_t=ht.count;xt<_t;xt++)this.expandByPoint(_vector$b.fromBufferAttribute(ht,xt));return this}setFromPoints(ht){this.makeEmpty();for(let xt=0,_t=ht.length;xt<_t;xt++)this.expandByPoint(ht[xt]);return this}setFromCenterAndSize(ht,xt){const _t=_vector$b.copy(xt).multiplyScalar(.5);return this.min.copy(ht).sub(_t),this.max.copy(ht).add(_t),this}setFromObject(ht,xt=!1){return this.makeEmpty(),this.expandByObject(ht,xt)}clone(){return new this.constructor().copy(this)}copy(ht){return this.min.copy(ht.min),this.max.copy(ht.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(ht){return this.isEmpty()?ht.set(0,0,0):ht.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(ht){return this.isEmpty()?ht.set(0,0,0):ht.subVectors(this.max,this.min)}expandByPoint(ht){return this.min.min(ht),this.max.max(ht),this}expandByVector(ht){return this.min.sub(ht),this.max.add(ht),this}expandByScalar(ht){return this.min.addScalar(-ht),this.max.addScalar(ht),this}expandByObject(ht,xt=!1){ht.updateWorldMatrix(!1,!1);const _t=ht.geometry;if(_t!==void 0){const wt=_t.getAttribute("position");if(xt===!0&&wt!==void 0&&ht.isInstancedMesh!==!0)for(let At=0,Ct=wt.count;At<Ct;At++)ht.isMesh===!0?ht.getVertexPosition(At,_vector$b):_vector$b.fromBufferAttribute(wt,At),_vector$b.applyMatrix4(ht.matrixWorld),this.expandByPoint(_vector$b);else ht.boundingBox!==void 0?(ht.boundingBox===null&&ht.computeBoundingBox(),_box$4.copy(ht.boundingBox)):(_t.boundingBox===null&&_t.computeBoundingBox(),_box$4.copy(_t.boundingBox)),_box$4.applyMatrix4(ht.matrixWorld),this.union(_box$4)}const St=ht.children;for(let wt=0,At=St.length;wt<At;wt++)this.expandByObject(St[wt],xt);return this}containsPoint(ht){return ht.x>=this.min.x&&ht.x<=this.max.x&&ht.y>=this.min.y&&ht.y<=this.max.y&&ht.z>=this.min.z&&ht.z<=this.max.z}containsBox(ht){return this.min.x<=ht.min.x&&ht.max.x<=this.max.x&&this.min.y<=ht.min.y&&ht.max.y<=this.max.y&&this.min.z<=ht.min.z&&ht.max.z<=this.max.z}getParameter(ht,xt){return xt.set((ht.x-this.min.x)/(this.max.x-this.min.x),(ht.y-this.min.y)/(this.max.y-this.min.y),(ht.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(ht){return ht.max.x>=this.min.x&&ht.min.x<=this.max.x&&ht.max.y>=this.min.y&&ht.min.y<=this.max.y&&ht.max.z>=this.min.z&&ht.min.z<=this.max.z}intersectsSphere(ht){return this.clampPoint(ht.center,_vector$b),_vector$b.distanceToSquared(ht.center)<=ht.radius*ht.radius}intersectsPlane(ht){let xt,_t;return ht.normal.x>0?(xt=ht.normal.x*this.min.x,_t=ht.normal.x*this.max.x):(xt=ht.normal.x*this.max.x,_t=ht.normal.x*this.min.x),ht.normal.y>0?(xt+=ht.normal.y*this.min.y,_t+=ht.normal.y*this.max.y):(xt+=ht.normal.y*this.max.y,_t+=ht.normal.y*this.min.y),ht.normal.z>0?(xt+=ht.normal.z*this.min.z,_t+=ht.normal.z*this.max.z):(xt+=ht.normal.z*this.max.z,_t+=ht.normal.z*this.min.z),xt<=-ht.constant&&_t>=-ht.constant}intersectsTriangle(ht){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$3.subVectors(ht.a,_center),_v1$7.subVectors(ht.b,_center),_v2$4.subVectors(ht.c,_center),_f0.subVectors(_v1$7,_v0$3),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$3,_v2$4);let xt=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(xt,_v0$3,_v1$7,_v2$4,_extents)||(xt=[1,0,0,0,1,0,0,0,1],!satForAxes(xt,_v0$3,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),xt=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(xt,_v0$3,_v1$7,_v2$4,_extents))}clampPoint(ht,xt){return xt.copy(ht).clamp(this.min,this.max)}distanceToPoint(ht){return this.clampPoint(ht,_vector$b).distanceTo(ht)}getBoundingSphere(ht){return this.isEmpty()?ht.makeEmpty():(this.getCenter(ht.center),ht.radius=this.getSize(_vector$b).length()*.5),ht}intersect(ht){return this.min.max(ht.min),this.max.min(ht.max),this.isEmpty()&&this.makeEmpty(),this}union(ht){return this.min.min(ht.min),this.max.max(ht.max),this}applyMatrix4(ht){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(ht),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(ht),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(ht),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(ht),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(ht),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(ht),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(ht),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(ht),this.setFromPoints(_points),this)}translate(ht){return this.min.add(ht),this.max.add(ht),this}equals(ht){return ht.min.equals(this.min)&&ht.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$3=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(vt,ht,xt,_t,St){for(let wt=0,At=vt.length-3;wt<=At;wt+=3){_testAxis.fromArray(vt,wt);const Ct=St.x*Math.abs(_testAxis.x)+St.y*Math.abs(_testAxis.y)+St.z*Math.abs(_testAxis.z),Rt=ht.dot(_testAxis),It=xt.dot(_testAxis),Lt=_t.dot(_testAxis);if(Math.max(-Math.max(Rt,It,Lt),Math.min(Rt,It,Lt))>Ct)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;let Sphere$1=class{constructor(ht=new Vector3,xt=-1){this.isSphere=!0,this.center=ht,this.radius=xt}set(ht,xt){return this.center.copy(ht),this.radius=xt,this}setFromPoints(ht,xt){const _t=this.center;xt!==void 0?_t.copy(xt):_box$3.setFromPoints(ht).getCenter(_t);let St=0;for(let wt=0,At=ht.length;wt<At;wt++)St=Math.max(St,_t.distanceToSquared(ht[wt]));return this.radius=Math.sqrt(St),this}copy(ht){return this.center.copy(ht.center),this.radius=ht.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(ht){return ht.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(ht){return ht.distanceTo(this.center)-this.radius}intersectsSphere(ht){const xt=this.radius+ht.radius;return ht.center.distanceToSquared(this.center)<=xt*xt}intersectsBox(ht){return ht.intersectsSphere(this)}intersectsPlane(ht){return Math.abs(ht.distanceToPoint(this.center))<=this.radius}clampPoint(ht,xt){const _t=this.center.distanceToSquared(ht);return xt.copy(ht),_t>this.radius*this.radius&&(xt.sub(this.center).normalize(),xt.multiplyScalar(this.radius).add(this.center)),xt}getBoundingBox(ht){return this.isEmpty()?(ht.makeEmpty(),ht):(ht.set(this.center,this.center),ht.expandByScalar(this.radius),ht)}applyMatrix4(ht){return this.center.applyMatrix4(ht),this.radius=this.radius*ht.getMaxScaleOnAxis(),this}translate(ht){return this.center.add(ht),this}expandByPoint(ht){if(this.isEmpty())return this.center.copy(ht),this.radius=0,this;_v1$6.subVectors(ht,this.center);const xt=_v1$6.lengthSq();if(xt>this.radius*this.radius){const _t=Math.sqrt(xt),St=(_t-this.radius)*.5;this.center.addScaledVector(_v1$6,St/_t),this.radius+=St}return this}union(ht){return ht.isEmpty()?this:this.isEmpty()?(this.copy(ht),this):(this.center.equals(ht.center)===!0?this.radius=Math.max(this.radius,ht.radius):(_v2$3.subVectors(ht.center,this.center).setLength(ht.radius),this.expandByPoint(_v1$6.copy(ht.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(ht.center).sub(_v2$3))),this)}equals(ht){return ht.center.equals(this.center)&&ht.radius===this.radius}clone(){return new this.constructor().copy(this)}};const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(ht=new Vector3,xt=new Vector3(0,0,-1)){this.origin=ht,this.direction=xt}set(ht,xt){return this.origin.copy(ht),this.direction.copy(xt),this}copy(ht){return this.origin.copy(ht.origin),this.direction.copy(ht.direction),this}at(ht,xt){return xt.copy(this.origin).addScaledVector(this.direction,ht)}lookAt(ht){return this.direction.copy(ht).sub(this.origin).normalize(),this}recast(ht){return this.origin.copy(this.at(ht,_vector$a)),this}closestPointToPoint(ht,xt){xt.subVectors(ht,this.origin);const _t=xt.dot(this.direction);return _t<0?xt.copy(this.origin):xt.copy(this.origin).addScaledVector(this.direction,_t)}distanceToPoint(ht){return Math.sqrt(this.distanceSqToPoint(ht))}distanceSqToPoint(ht){const xt=_vector$a.subVectors(ht,this.origin).dot(this.direction);return xt<0?this.origin.distanceToSquared(ht):(_vector$a.copy(this.origin).addScaledVector(this.direction,xt),_vector$a.distanceToSquared(ht))}distanceSqToSegment(ht,xt,_t,St){_segCenter.copy(ht).add(xt).multiplyScalar(.5),_segDir.copy(xt).sub(ht).normalize(),_diff.copy(this.origin).sub(_segCenter);const wt=ht.distanceTo(xt)*.5,At=-this.direction.dot(_segDir),Ct=_diff.dot(this.direction),Rt=-_diff.dot(_segDir),It=_diff.lengthSq(),Lt=Math.abs(1-At*At);let kt,Dt,$t,Ot;if(Lt>0)if(kt=At*Rt-Ct,Dt=At*Ct-Rt,Ot=wt*Lt,kt>=0)if(Dt>=-Ot)if(Dt<=Ot){const zt=1/Lt;kt*=zt,Dt*=zt,$t=kt*(kt+At*Dt+2*Ct)+Dt*(At*kt+Dt+2*Rt)+It}else Dt=wt,kt=Math.max(0,-(At*Dt+Ct)),$t=-kt*kt+Dt*(Dt+2*Rt)+It;else Dt=-wt,kt=Math.max(0,-(At*Dt+Ct)),$t=-kt*kt+Dt*(Dt+2*Rt)+It;else Dt<=-Ot?(kt=Math.max(0,-(-At*wt+Ct)),Dt=kt>0?-wt:Math.min(Math.max(-wt,-Rt),wt),$t=-kt*kt+Dt*(Dt+2*Rt)+It):Dt<=Ot?(kt=0,Dt=Math.min(Math.max(-wt,-Rt),wt),$t=Dt*(Dt+2*Rt)+It):(kt=Math.max(0,-(At*wt+Ct)),Dt=kt>0?wt:Math.min(Math.max(-wt,-Rt),wt),$t=-kt*kt+Dt*(Dt+2*Rt)+It);else Dt=At>0?-wt:wt,kt=Math.max(0,-(At*Dt+Ct)),$t=-kt*kt+Dt*(Dt+2*Rt)+It;return _t&&_t.copy(this.origin).addScaledVector(this.direction,kt),St&&St.copy(_segCenter).addScaledVector(_segDir,Dt),$t}intersectSphere(ht,xt){_vector$a.subVectors(ht.center,this.origin);const _t=_vector$a.dot(this.direction),St=_vector$a.dot(_vector$a)-_t*_t,wt=ht.radius*ht.radius;if(St>wt)return null;const At=Math.sqrt(wt-St),Ct=_t-At,Rt=_t+At;return Rt<0?null:Ct<0?this.at(Rt,xt):this.at(Ct,xt)}intersectsSphere(ht){return this.distanceSqToPoint(ht.center)<=ht.radius*ht.radius}distanceToPlane(ht){const xt=ht.normal.dot(this.direction);if(xt===0)return ht.distanceToPoint(this.origin)===0?0:null;const _t=-(this.origin.dot(ht.normal)+ht.constant)/xt;return _t>=0?_t:null}intersectPlane(ht,xt){const _t=this.distanceToPlane(ht);return _t===null?null:this.at(_t,xt)}intersectsPlane(ht){const xt=ht.distanceToPoint(this.origin);return xt===0||ht.normal.dot(this.direction)*xt<0}intersectBox(ht,xt){let _t,St,wt,At,Ct,Rt;const It=1/this.direction.x,Lt=1/this.direction.y,kt=1/this.direction.z,Dt=this.origin;return It>=0?(_t=(ht.min.x-Dt.x)*It,St=(ht.max.x-Dt.x)*It):(_t=(ht.max.x-Dt.x)*It,St=(ht.min.x-Dt.x)*It),Lt>=0?(wt=(ht.min.y-Dt.y)*Lt,At=(ht.max.y-Dt.y)*Lt):(wt=(ht.max.y-Dt.y)*Lt,At=(ht.min.y-Dt.y)*Lt),_t>At||wt>St||((wt>_t||isNaN(_t))&&(_t=wt),(At<St||isNaN(St))&&(St=At),kt>=0?(Ct=(ht.min.z-Dt.z)*kt,Rt=(ht.max.z-Dt.z)*kt):(Ct=(ht.max.z-Dt.z)*kt,Rt=(ht.min.z-Dt.z)*kt),_t>Rt||Ct>St)||((Ct>_t||_t!==_t)&&(_t=Ct),(Rt<St||St!==St)&&(St=Rt),St<0)?null:this.at(_t>=0?_t:St,xt)}intersectsBox(ht){return this.intersectBox(ht,_vector$a)!==null}intersectTriangle(ht,xt,_t,St,wt){_edge1.subVectors(xt,ht),_edge2.subVectors(_t,ht),_normal$1.crossVectors(_edge1,_edge2);let At=this.direction.dot(_normal$1),Ct;if(At>0){if(St)return null;Ct=1}else if(At<0)Ct=-1,At=-At;else return null;_diff.subVectors(this.origin,ht);const Rt=Ct*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(Rt<0)return null;const It=Ct*this.direction.dot(_edge1.cross(_diff));if(It<0||Rt+It>At)return null;const Lt=-Ct*_diff.dot(_normal$1);return Lt<0?null:this.at(Lt/At,wt)}applyMatrix4(ht){return this.origin.applyMatrix4(ht),this.direction.transformDirection(ht),this}equals(ht){return ht.origin.equals(this.origin)&&ht.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(ht,xt,_t,St,wt,At,Ct,Rt,It,Lt,kt,Dt,$t,Ot,zt,Gt){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],ht!==void 0&&this.set(ht,xt,_t,St,wt,At,Ct,Rt,It,Lt,kt,Dt,$t,Ot,zt,Gt)}set(ht,xt,_t,St,wt,At,Ct,Rt,It,Lt,kt,Dt,$t,Ot,zt,Gt){const Bt=this.elements;return Bt[0]=ht,Bt[4]=xt,Bt[8]=_t,Bt[12]=St,Bt[1]=wt,Bt[5]=At,Bt[9]=Ct,Bt[13]=Rt,Bt[2]=It,Bt[6]=Lt,Bt[10]=kt,Bt[14]=Dt,Bt[3]=$t,Bt[7]=Ot,Bt[11]=zt,Bt[15]=Gt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(ht){const xt=this.elements,_t=ht.elements;return xt[0]=_t[0],xt[1]=_t[1],xt[2]=_t[2],xt[3]=_t[3],xt[4]=_t[4],xt[5]=_t[5],xt[6]=_t[6],xt[7]=_t[7],xt[8]=_t[8],xt[9]=_t[9],xt[10]=_t[10],xt[11]=_t[11],xt[12]=_t[12],xt[13]=_t[13],xt[14]=_t[14],xt[15]=_t[15],this}copyPosition(ht){const xt=this.elements,_t=ht.elements;return xt[12]=_t[12],xt[13]=_t[13],xt[14]=_t[14],this}setFromMatrix3(ht){const xt=ht.elements;return this.set(xt[0],xt[3],xt[6],0,xt[1],xt[4],xt[7],0,xt[2],xt[5],xt[8],0,0,0,0,1),this}extractBasis(ht,xt,_t){return ht.setFromMatrixColumn(this,0),xt.setFromMatrixColumn(this,1),_t.setFromMatrixColumn(this,2),this}makeBasis(ht,xt,_t){return this.set(ht.x,xt.x,_t.x,0,ht.y,xt.y,_t.y,0,ht.z,xt.z,_t.z,0,0,0,0,1),this}extractRotation(ht){const xt=this.elements,_t=ht.elements,St=1/_v1$5.setFromMatrixColumn(ht,0).length(),wt=1/_v1$5.setFromMatrixColumn(ht,1).length(),At=1/_v1$5.setFromMatrixColumn(ht,2).length();return xt[0]=_t[0]*St,xt[1]=_t[1]*St,xt[2]=_t[2]*St,xt[3]=0,xt[4]=_t[4]*wt,xt[5]=_t[5]*wt,xt[6]=_t[6]*wt,xt[7]=0,xt[8]=_t[8]*At,xt[9]=_t[9]*At,xt[10]=_t[10]*At,xt[11]=0,xt[12]=0,xt[13]=0,xt[14]=0,xt[15]=1,this}makeRotationFromEuler(ht){const xt=this.elements,_t=ht.x,St=ht.y,wt=ht.z,At=Math.cos(_t),Ct=Math.sin(_t),Rt=Math.cos(St),It=Math.sin(St),Lt=Math.cos(wt),kt=Math.sin(wt);if(ht.order==="XYZ"){const Dt=At*Lt,$t=At*kt,Ot=Ct*Lt,zt=Ct*kt;xt[0]=Rt*Lt,xt[4]=-Rt*kt,xt[8]=It,xt[1]=$t+Ot*It,xt[5]=Dt-zt*It,xt[9]=-Ct*Rt,xt[2]=zt-Dt*It,xt[6]=Ot+$t*It,xt[10]=At*Rt}else if(ht.order==="YXZ"){const Dt=Rt*Lt,$t=Rt*kt,Ot=It*Lt,zt=It*kt;xt[0]=Dt+zt*Ct,xt[4]=Ot*Ct-$t,xt[8]=At*It,xt[1]=At*kt,xt[5]=At*Lt,xt[9]=-Ct,xt[2]=$t*Ct-Ot,xt[6]=zt+Dt*Ct,xt[10]=At*Rt}else if(ht.order==="ZXY"){const Dt=Rt*Lt,$t=Rt*kt,Ot=It*Lt,zt=It*kt;xt[0]=Dt-zt*Ct,xt[4]=-At*kt,xt[8]=Ot+$t*Ct,xt[1]=$t+Ot*Ct,xt[5]=At*Lt,xt[9]=zt-Dt*Ct,xt[2]=-At*It,xt[6]=Ct,xt[10]=At*Rt}else if(ht.order==="ZYX"){const Dt=At*Lt,$t=At*kt,Ot=Ct*Lt,zt=Ct*kt;xt[0]=Rt*Lt,xt[4]=Ot*It-$t,xt[8]=Dt*It+zt,xt[1]=Rt*kt,xt[5]=zt*It+Dt,xt[9]=$t*It-Ot,xt[2]=-It,xt[6]=Ct*Rt,xt[10]=At*Rt}else if(ht.order==="YZX"){const Dt=At*Rt,$t=At*It,Ot=Ct*Rt,zt=Ct*It;xt[0]=Rt*Lt,xt[4]=zt-Dt*kt,xt[8]=Ot*kt+$t,xt[1]=kt,xt[5]=At*Lt,xt[9]=-Ct*Lt,xt[2]=-It*Lt,xt[6]=$t*kt+Ot,xt[10]=Dt-zt*kt}else if(ht.order==="XZY"){const Dt=At*Rt,$t=At*It,Ot=Ct*Rt,zt=Ct*It;xt[0]=Rt*Lt,xt[4]=-kt,xt[8]=It*Lt,xt[1]=Dt*kt+zt,xt[5]=At*Lt,xt[9]=$t*kt-Ot,xt[2]=Ot*kt-$t,xt[6]=Ct*Lt,xt[10]=zt*kt+Dt}return xt[3]=0,xt[7]=0,xt[11]=0,xt[12]=0,xt[13]=0,xt[14]=0,xt[15]=1,this}makeRotationFromQuaternion(ht){return this.compose(_zero,ht,_one)}lookAt(ht,xt,_t){const St=this.elements;return _z.subVectors(ht,xt),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(_t,_z),_x.lengthSq()===0&&(Math.abs(_t.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(_t,_z)),_x.normalize(),_y.crossVectors(_z,_x),St[0]=_x.x,St[4]=_y.x,St[8]=_z.x,St[1]=_x.y,St[5]=_y.y,St[9]=_z.y,St[2]=_x.z,St[6]=_y.z,St[10]=_z.z,this}multiply(ht){return this.multiplyMatrices(this,ht)}premultiply(ht){return this.multiplyMatrices(ht,this)}multiplyMatrices(ht,xt){const _t=ht.elements,St=xt.elements,wt=this.elements,At=_t[0],Ct=_t[4],Rt=_t[8],It=_t[12],Lt=_t[1],kt=_t[5],Dt=_t[9],$t=_t[13],Ot=_t[2],zt=_t[6],Gt=_t[10],Bt=_t[14],Ut=_t[3],Vt=_t[7],Ht=_t[11],Xt=_t[15],qt=St[0],Kt=St[4],en=St[8],tn=St[12],Qt=St[1],sn=St[5],un=St[9],dn=St[13],vn=St[2],pn=St[6],rn=St[10],an=St[14],Yt=St[3],Jt=St[7],on=St[11],ln=St[15];return wt[0]=At*qt+Ct*Qt+Rt*vn+It*Yt,wt[4]=At*Kt+Ct*sn+Rt*pn+It*Jt,wt[8]=At*en+Ct*un+Rt*rn+It*on,wt[12]=At*tn+Ct*dn+Rt*an+It*ln,wt[1]=Lt*qt+kt*Qt+Dt*vn+$t*Yt,wt[5]=Lt*Kt+kt*sn+Dt*pn+$t*Jt,wt[9]=Lt*en+kt*un+Dt*rn+$t*on,wt[13]=Lt*tn+kt*dn+Dt*an+$t*ln,wt[2]=Ot*qt+zt*Qt+Gt*vn+Bt*Yt,wt[6]=Ot*Kt+zt*sn+Gt*pn+Bt*Jt,wt[10]=Ot*en+zt*un+Gt*rn+Bt*on,wt[14]=Ot*tn+zt*dn+Gt*an+Bt*ln,wt[3]=Ut*qt+Vt*Qt+Ht*vn+Xt*Yt,wt[7]=Ut*Kt+Vt*sn+Ht*pn+Xt*Jt,wt[11]=Ut*en+Vt*un+Ht*rn+Xt*on,wt[15]=Ut*tn+Vt*dn+Ht*an+Xt*ln,this}multiplyScalar(ht){const xt=this.elements;return xt[0]*=ht,xt[4]*=ht,xt[8]*=ht,xt[12]*=ht,xt[1]*=ht,xt[5]*=ht,xt[9]*=ht,xt[13]*=ht,xt[2]*=ht,xt[6]*=ht,xt[10]*=ht,xt[14]*=ht,xt[3]*=ht,xt[7]*=ht,xt[11]*=ht,xt[15]*=ht,this}determinant(){const ht=this.elements,xt=ht[0],_t=ht[4],St=ht[8],wt=ht[12],At=ht[1],Ct=ht[5],Rt=ht[9],It=ht[13],Lt=ht[2],kt=ht[6],Dt=ht[10],$t=ht[14],Ot=ht[3],zt=ht[7],Gt=ht[11],Bt=ht[15];return Ot*(+wt*Rt*kt-St*It*kt-wt*Ct*Dt+_t*It*Dt+St*Ct*$t-_t*Rt*$t)+zt*(+xt*Rt*$t-xt*It*Dt+wt*At*Dt-St*At*$t+St*It*Lt-wt*Rt*Lt)+Gt*(+xt*It*kt-xt*Ct*$t-wt*At*kt+_t*At*$t+wt*Ct*Lt-_t*It*Lt)+Bt*(-St*Ct*Lt-xt*Rt*kt+xt*Ct*Dt+St*At*kt-_t*At*Dt+_t*Rt*Lt)}transpose(){const ht=this.elements;let xt;return xt=ht[1],ht[1]=ht[4],ht[4]=xt,xt=ht[2],ht[2]=ht[8],ht[8]=xt,xt=ht[6],ht[6]=ht[9],ht[9]=xt,xt=ht[3],ht[3]=ht[12],ht[12]=xt,xt=ht[7],ht[7]=ht[13],ht[13]=xt,xt=ht[11],ht[11]=ht[14],ht[14]=xt,this}setPosition(ht,xt,_t){const St=this.elements;return ht.isVector3?(St[12]=ht.x,St[13]=ht.y,St[14]=ht.z):(St[12]=ht,St[13]=xt,St[14]=_t),this}invert(){const ht=this.elements,xt=ht[0],_t=ht[1],St=ht[2],wt=ht[3],At=ht[4],Ct=ht[5],Rt=ht[6],It=ht[7],Lt=ht[8],kt=ht[9],Dt=ht[10],$t=ht[11],Ot=ht[12],zt=ht[13],Gt=ht[14],Bt=ht[15],Ut=kt*Gt*It-zt*Dt*It+zt*Rt*$t-Ct*Gt*$t-kt*Rt*Bt+Ct*Dt*Bt,Vt=Ot*Dt*It-Lt*Gt*It-Ot*Rt*$t+At*Gt*$t+Lt*Rt*Bt-At*Dt*Bt,Ht=Lt*zt*It-Ot*kt*It+Ot*Ct*$t-At*zt*$t-Lt*Ct*Bt+At*kt*Bt,Xt=Ot*kt*Rt-Lt*zt*Rt-Ot*Ct*Dt+At*zt*Dt+Lt*Ct*Gt-At*kt*Gt,qt=xt*Ut+_t*Vt+St*Ht+wt*Xt;if(qt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Kt=1/qt;return ht[0]=Ut*Kt,ht[1]=(zt*Dt*wt-kt*Gt*wt-zt*St*$t+_t*Gt*$t+kt*St*Bt-_t*Dt*Bt)*Kt,ht[2]=(Ct*Gt*wt-zt*Rt*wt+zt*St*It-_t*Gt*It-Ct*St*Bt+_t*Rt*Bt)*Kt,ht[3]=(kt*Rt*wt-Ct*Dt*wt-kt*St*It+_t*Dt*It+Ct*St*$t-_t*Rt*$t)*Kt,ht[4]=Vt*Kt,ht[5]=(Lt*Gt*wt-Ot*Dt*wt+Ot*St*$t-xt*Gt*$t-Lt*St*Bt+xt*Dt*Bt)*Kt,ht[6]=(Ot*Rt*wt-At*Gt*wt-Ot*St*It+xt*Gt*It+At*St*Bt-xt*Rt*Bt)*Kt,ht[7]=(At*Dt*wt-Lt*Rt*wt+Lt*St*It-xt*Dt*It-At*St*$t+xt*Rt*$t)*Kt,ht[8]=Ht*Kt,ht[9]=(Ot*kt*wt-Lt*zt*wt-Ot*_t*$t+xt*zt*$t+Lt*_t*Bt-xt*kt*Bt)*Kt,ht[10]=(At*zt*wt-Ot*Ct*wt+Ot*_t*It-xt*zt*It-At*_t*Bt+xt*Ct*Bt)*Kt,ht[11]=(Lt*Ct*wt-At*kt*wt-Lt*_t*It+xt*kt*It+At*_t*$t-xt*Ct*$t)*Kt,ht[12]=Xt*Kt,ht[13]=(Lt*zt*St-Ot*kt*St+Ot*_t*Dt-xt*zt*Dt-Lt*_t*Gt+xt*kt*Gt)*Kt,ht[14]=(Ot*Ct*St-At*zt*St-Ot*_t*Rt+xt*zt*Rt+At*_t*Gt-xt*Ct*Gt)*Kt,ht[15]=(At*kt*St-Lt*Ct*St+Lt*_t*Rt-xt*kt*Rt-At*_t*Dt+xt*Ct*Dt)*Kt,this}scale(ht){const xt=this.elements,_t=ht.x,St=ht.y,wt=ht.z;return xt[0]*=_t,xt[4]*=St,xt[8]*=wt,xt[1]*=_t,xt[5]*=St,xt[9]*=wt,xt[2]*=_t,xt[6]*=St,xt[10]*=wt,xt[3]*=_t,xt[7]*=St,xt[11]*=wt,this}getMaxScaleOnAxis(){const ht=this.elements,xt=ht[0]*ht[0]+ht[1]*ht[1]+ht[2]*ht[2],_t=ht[4]*ht[4]+ht[5]*ht[5]+ht[6]*ht[6],St=ht[8]*ht[8]+ht[9]*ht[9]+ht[10]*ht[10];return Math.sqrt(Math.max(xt,_t,St))}makeTranslation(ht,xt,_t){return ht.isVector3?this.set(1,0,0,ht.x,0,1,0,ht.y,0,0,1,ht.z,0,0,0,1):this.set(1,0,0,ht,0,1,0,xt,0,0,1,_t,0,0,0,1),this}makeRotationX(ht){const xt=Math.cos(ht),_t=Math.sin(ht);return this.set(1,0,0,0,0,xt,-_t,0,0,_t,xt,0,0,0,0,1),this}makeRotationY(ht){const xt=Math.cos(ht),_t=Math.sin(ht);return this.set(xt,0,_t,0,0,1,0,0,-_t,0,xt,0,0,0,0,1),this}makeRotationZ(ht){const xt=Math.cos(ht),_t=Math.sin(ht);return this.set(xt,-_t,0,0,_t,xt,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(ht,xt){const _t=Math.cos(xt),St=Math.sin(xt),wt=1-_t,At=ht.x,Ct=ht.y,Rt=ht.z,It=wt*At,Lt=wt*Ct;return this.set(It*At+_t,It*Ct-St*Rt,It*Rt+St*Ct,0,It*Ct+St*Rt,Lt*Ct+_t,Lt*Rt-St*At,0,It*Rt-St*Ct,Lt*Rt+St*At,wt*Rt*Rt+_t,0,0,0,0,1),this}makeScale(ht,xt,_t){return this.set(ht,0,0,0,0,xt,0,0,0,0,_t,0,0,0,0,1),this}makeShear(ht,xt,_t,St,wt,At){return this.set(1,_t,wt,0,ht,1,At,0,xt,St,1,0,0,0,0,1),this}compose(ht,xt,_t){const St=this.elements,wt=xt._x,At=xt._y,Ct=xt._z,Rt=xt._w,It=wt+wt,Lt=At+At,kt=Ct+Ct,Dt=wt*It,$t=wt*Lt,Ot=wt*kt,zt=At*Lt,Gt=At*kt,Bt=Ct*kt,Ut=Rt*It,Vt=Rt*Lt,Ht=Rt*kt,Xt=_t.x,qt=_t.y,Kt=_t.z;return St[0]=(1-(zt+Bt))*Xt,St[1]=($t+Ht)*Xt,St[2]=(Ot-Vt)*Xt,St[3]=0,St[4]=($t-Ht)*qt,St[5]=(1-(Dt+Bt))*qt,St[6]=(Gt+Ut)*qt,St[7]=0,St[8]=(Ot+Vt)*Kt,St[9]=(Gt-Ut)*Kt,St[10]=(1-(Dt+zt))*Kt,St[11]=0,St[12]=ht.x,St[13]=ht.y,St[14]=ht.z,St[15]=1,this}decompose(ht,xt,_t){const St=this.elements;let wt=_v1$5.set(St[0],St[1],St[2]).length();const At=_v1$5.set(St[4],St[5],St[6]).length(),Ct=_v1$5.set(St[8],St[9],St[10]).length();this.determinant()<0&&(wt=-wt),ht.x=St[12],ht.y=St[13],ht.z=St[14],_m1$4.copy(this);const It=1/wt,Lt=1/At,kt=1/Ct;return _m1$4.elements[0]*=It,_m1$4.elements[1]*=It,_m1$4.elements[2]*=It,_m1$4.elements[4]*=Lt,_m1$4.elements[5]*=Lt,_m1$4.elements[6]*=Lt,_m1$4.elements[8]*=kt,_m1$4.elements[9]*=kt,_m1$4.elements[10]*=kt,xt.setFromRotationMatrix(_m1$4),_t.x=wt,_t.y=At,_t.z=Ct,this}makePerspective(ht,xt,_t,St,wt,At,Ct=WebGLCoordinateSystem){const Rt=this.elements,It=2*wt/(xt-ht),Lt=2*wt/(_t-St),kt=(xt+ht)/(xt-ht),Dt=(_t+St)/(_t-St);let $t,Ot;if(Ct===WebGLCoordinateSystem)$t=-(At+wt)/(At-wt),Ot=-2*At*wt/(At-wt);else if(Ct===WebGPUCoordinateSystem)$t=-At/(At-wt),Ot=-At*wt/(At-wt);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+Ct);return Rt[0]=It,Rt[4]=0,Rt[8]=kt,Rt[12]=0,Rt[1]=0,Rt[5]=Lt,Rt[9]=Dt,Rt[13]=0,Rt[2]=0,Rt[6]=0,Rt[10]=$t,Rt[14]=Ot,Rt[3]=0,Rt[7]=0,Rt[11]=-1,Rt[15]=0,this}makeOrthographic(ht,xt,_t,St,wt,At,Ct=WebGLCoordinateSystem){const Rt=this.elements,It=1/(xt-ht),Lt=1/(_t-St),kt=1/(At-wt),Dt=(xt+ht)*It,$t=(_t+St)*Lt;let Ot,zt;if(Ct===WebGLCoordinateSystem)Ot=(At+wt)*kt,zt=-2*kt;else if(Ct===WebGPUCoordinateSystem)Ot=wt*kt,zt=-1*kt;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+Ct);return Rt[0]=2*It,Rt[4]=0,Rt[8]=0,Rt[12]=-Dt,Rt[1]=0,Rt[5]=2*Lt,Rt[9]=0,Rt[13]=-$t,Rt[2]=0,Rt[6]=0,Rt[10]=zt,Rt[14]=-Ot,Rt[3]=0,Rt[7]=0,Rt[11]=0,Rt[15]=1,this}equals(ht){const xt=this.elements,_t=ht.elements;for(let St=0;St<16;St++)if(xt[St]!==_t[St])return!1;return!0}fromArray(ht,xt=0){for(let _t=0;_t<16;_t++)this.elements[_t]=ht[_t+xt];return this}toArray(ht=[],xt=0){const _t=this.elements;return ht[xt]=_t[0],ht[xt+1]=_t[1],ht[xt+2]=_t[2],ht[xt+3]=_t[3],ht[xt+4]=_t[4],ht[xt+5]=_t[5],ht[xt+6]=_t[6],ht[xt+7]=_t[7],ht[xt+8]=_t[8],ht[xt+9]=_t[9],ht[xt+10]=_t[10],ht[xt+11]=_t[11],ht[xt+12]=_t[12],ht[xt+13]=_t[13],ht[xt+14]=_t[14],ht[xt+15]=_t[15],ht}}const _v1$5=new Vector3,_m1$4=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(ht=0,xt=0,_t=0,St=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=ht,this._y=xt,this._z=_t,this._order=St}get x(){return this._x}set x(ht){this._x=ht,this._onChangeCallback()}get y(){return this._y}set y(ht){this._y=ht,this._onChangeCallback()}get z(){return this._z}set z(ht){this._z=ht,this._onChangeCallback()}get order(){return this._order}set order(ht){this._order=ht,this._onChangeCallback()}set(ht,xt,_t,St=this._order){return this._x=ht,this._y=xt,this._z=_t,this._order=St,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(ht){return this._x=ht._x,this._y=ht._y,this._z=ht._z,this._order=ht._order,this._onChangeCallback(),this}setFromRotationMatrix(ht,xt=this._order,_t=!0){const St=ht.elements,wt=St[0],At=St[4],Ct=St[8],Rt=St[1],It=St[5],Lt=St[9],kt=St[2],Dt=St[6],$t=St[10];switch(xt){case"XYZ":this._y=Math.asin(clamp(Ct,-1,1)),Math.abs(Ct)<.9999999?(this._x=Math.atan2(-Lt,$t),this._z=Math.atan2(-At,wt)):(this._x=Math.atan2(Dt,It),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(Lt,-1,1)),Math.abs(Lt)<.9999999?(this._y=Math.atan2(Ct,$t),this._z=Math.atan2(Rt,It)):(this._y=Math.atan2(-kt,wt),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(Dt,-1,1)),Math.abs(Dt)<.9999999?(this._y=Math.atan2(-kt,$t),this._z=Math.atan2(-At,It)):(this._y=0,this._z=Math.atan2(Rt,wt));break;case"ZYX":this._y=Math.asin(-clamp(kt,-1,1)),Math.abs(kt)<.9999999?(this._x=Math.atan2(Dt,$t),this._z=Math.atan2(Rt,wt)):(this._x=0,this._z=Math.atan2(-At,It));break;case"YZX":this._z=Math.asin(clamp(Rt,-1,1)),Math.abs(Rt)<.9999999?(this._x=Math.atan2(-Lt,It),this._y=Math.atan2(-kt,wt)):(this._x=0,this._y=Math.atan2(Ct,$t));break;case"XZY":this._z=Math.asin(-clamp(At,-1,1)),Math.abs(At)<.9999999?(this._x=Math.atan2(Dt,It),this._y=Math.atan2(Ct,wt)):(this._x=Math.atan2(-Lt,$t),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+xt)}return this._order=xt,_t===!0&&this._onChangeCallback(),this}setFromQuaternion(ht,xt,_t){return _matrix$2.makeRotationFromQuaternion(ht),this.setFromRotationMatrix(_matrix$2,xt,_t)}setFromVector3(ht,xt=this._order){return this.set(ht.x,ht.y,ht.z,xt)}reorder(ht){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,ht)}equals(ht){return ht._x===this._x&&ht._y===this._y&&ht._z===this._z&&ht._order===this._order}fromArray(ht){return this._x=ht[0],this._y=ht[1],this._z=ht[2],ht[3]!==void 0&&(this._order=ht[3]),this._onChangeCallback(),this}toArray(ht=[],xt=0){return ht[xt]=this._x,ht[xt+1]=this._y,ht[xt+2]=this._z,ht[xt+3]=this._order,ht}_onChange(ht){return this._onChangeCallback=ht,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(ht){this.mask=(1<<ht|0)>>>0}enable(ht){this.mask|=1<<ht|0}enableAll(){this.mask=-1}toggle(ht){this.mask^=1<<ht|0}disable(ht){this.mask&=~(1<<ht|0)}disableAll(){this.mask=0}test(ht){return(this.mask&ht.mask)!==0}isEnabled(ht){return(this.mask&(1<<ht|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$3=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher$1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const ht=new Vector3,xt=new Euler,_t=new Quaternion,St=new Vector3(1,1,1);function wt(){_t.setFromEuler(xt,!1)}function At(){xt.setFromQuaternion(_t,void 0,!1)}xt._onChange(wt),_t._onChange(At),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:ht},rotation:{configurable:!0,enumerable:!0,value:xt},quaternion:{configurable:!0,enumerable:!0,value:_t},scale:{configurable:!0,enumerable:!0,value:St},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(ht){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(ht),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(ht){return this.quaternion.premultiply(ht),this}setRotationFromAxisAngle(ht,xt){this.quaternion.setFromAxisAngle(ht,xt)}setRotationFromEuler(ht){this.quaternion.setFromEuler(ht,!0)}setRotationFromMatrix(ht){this.quaternion.setFromRotationMatrix(ht)}setRotationFromQuaternion(ht){this.quaternion.copy(ht)}rotateOnAxis(ht,xt){return _q1.setFromAxisAngle(ht,xt),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(ht,xt){return _q1.setFromAxisAngle(ht,xt),this.quaternion.premultiply(_q1),this}rotateX(ht){return this.rotateOnAxis(_xAxis,ht)}rotateY(ht){return this.rotateOnAxis(_yAxis,ht)}rotateZ(ht){return this.rotateOnAxis(_zAxis,ht)}translateOnAxis(ht,xt){return _v1$4.copy(ht).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(xt)),this}translateX(ht){return this.translateOnAxis(_xAxis,ht)}translateY(ht){return this.translateOnAxis(_yAxis,ht)}translateZ(ht){return this.translateOnAxis(_zAxis,ht)}localToWorld(ht){return this.updateWorldMatrix(!0,!1),ht.applyMatrix4(this.matrixWorld)}worldToLocal(ht){return this.updateWorldMatrix(!0,!1),ht.applyMatrix4(_m1$3.copy(this.matrixWorld).invert())}lookAt(ht,xt,_t){ht.isVector3?_target.copy(ht):_target.set(ht,xt,_t);const St=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$3.lookAt(_position$3,_target,this.up):_m1$3.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$3),St&&(_m1$3.extractRotation(St.matrixWorld),_q1.setFromRotationMatrix(_m1$3),this.quaternion.premultiply(_q1.invert()))}add(ht){if(arguments.length>1){for(let xt=0;xt<arguments.length;xt++)this.add(arguments[xt]);return this}return ht===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",ht),this):(ht&&ht.isObject3D?(ht.removeFromParent(),ht.parent=this,this.children.push(ht),ht.dispatchEvent(_addedEvent),_childaddedEvent.child=ht,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",ht),this)}remove(ht){if(arguments.length>1){for(let _t=0;_t<arguments.length;_t++)this.remove(arguments[_t]);return this}const xt=this.children.indexOf(ht);return xt!==-1&&(ht.parent=null,this.children.splice(xt,1),ht.dispatchEvent(_removedEvent),_childremovedEvent.child=ht,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const ht=this.parent;return ht!==null&&ht.remove(this),this}clear(){return this.remove(...this.children)}attach(ht){return this.updateWorldMatrix(!0,!1),_m1$3.copy(this.matrixWorld).invert(),ht.parent!==null&&(ht.parent.updateWorldMatrix(!0,!1),_m1$3.multiply(ht.parent.matrixWorld)),ht.applyMatrix4(_m1$3),ht.removeFromParent(),ht.parent=this,this.children.push(ht),ht.updateWorldMatrix(!1,!0),ht.dispatchEvent(_addedEvent),_childaddedEvent.child=ht,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(ht){return this.getObjectByProperty("id",ht)}getObjectByName(ht){return this.getObjectByProperty("name",ht)}getObjectByProperty(ht,xt){if(this[ht]===xt)return this;for(let _t=0,St=this.children.length;_t<St;_t++){const At=this.children[_t].getObjectByProperty(ht,xt);if(At!==void 0)return At}}getObjectsByProperty(ht,xt,_t=[]){this[ht]===xt&&_t.push(this);const St=this.children;for(let wt=0,At=St.length;wt<At;wt++)St[wt].getObjectsByProperty(ht,xt,_t);return _t}getWorldPosition(ht){return this.updateWorldMatrix(!0,!1),ht.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(ht){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,ht,_scale$2),ht}getWorldScale(ht){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,ht),ht}getWorldDirection(ht){this.updateWorldMatrix(!0,!1);const xt=this.matrixWorld.elements;return ht.set(xt[8],xt[9],xt[10]).normalize()}raycast(){}traverse(ht){ht(this);const xt=this.children;for(let _t=0,St=xt.length;_t<St;_t++)xt[_t].traverse(ht)}traverseVisible(ht){if(this.visible===!1)return;ht(this);const xt=this.children;for(let _t=0,St=xt.length;_t<St;_t++)xt[_t].traverseVisible(ht)}traverseAncestors(ht){const xt=this.parent;xt!==null&&(ht(xt),xt.traverseAncestors(ht))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(ht){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||ht)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,ht=!0);const xt=this.children;for(let _t=0,St=xt.length;_t<St;_t++)xt[_t].updateMatrixWorld(ht)}updateWorldMatrix(ht,xt){const _t=this.parent;if(ht===!0&&_t!==null&&_t.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),xt===!0){const St=this.children;for(let wt=0,At=St.length;wt<At;wt++)St[wt].updateWorldMatrix(!1,!0)}}toJSON(ht){const xt=ht===void 0||typeof ht=="string",_t={};xt&&(ht={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},_t.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const St={};St.uuid=this.uuid,St.type=this.type,this.name!==""&&(St.name=this.name),this.castShadow===!0&&(St.castShadow=!0),this.receiveShadow===!0&&(St.receiveShadow=!0),this.visible===!1&&(St.visible=!1),this.frustumCulled===!1&&(St.frustumCulled=!1),this.renderOrder!==0&&(St.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(St.userData=this.userData),St.layers=this.layers.mask,St.matrix=this.matrix.toArray(),St.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(St.matrixAutoUpdate=!1),this.isInstancedMesh&&(St.type="InstancedMesh",St.count=this.count,St.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(St.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(St.type="BatchedMesh",St.perObjectFrustumCulled=this.perObjectFrustumCulled,St.sortObjects=this.sortObjects,St.drawRanges=this._drawRanges,St.reservedRanges=this._reservedRanges,St.visibility=this._visibility,St.active=this._active,St.bounds=this._bounds.map(Ct=>({boxInitialized:Ct.boxInitialized,boxMin:Ct.box.min.toArray(),boxMax:Ct.box.max.toArray(),sphereInitialized:Ct.sphereInitialized,sphereRadius:Ct.sphere.radius,sphereCenter:Ct.sphere.center.toArray()})),St.maxInstanceCount=this._maxInstanceCount,St.maxVertexCount=this._maxVertexCount,St.maxIndexCount=this._maxIndexCount,St.geometryInitialized=this._geometryInitialized,St.geometryCount=this._geometryCount,St.matricesTexture=this._matricesTexture.toJSON(ht),this._colorsTexture!==null&&(St.colorsTexture=this._colorsTexture.toJSON(ht)),this.boundingSphere!==null&&(St.boundingSphere={center:St.boundingSphere.center.toArray(),radius:St.boundingSphere.radius}),this.boundingBox!==null&&(St.boundingBox={min:St.boundingBox.min.toArray(),max:St.boundingBox.max.toArray()}));function wt(Ct,Rt){return Ct[Rt.uuid]===void 0&&(Ct[Rt.uuid]=Rt.toJSON(ht)),Rt.uuid}if(this.isScene)this.background&&(this.background.isColor?St.background=this.background.toJSON():this.background.isTexture&&(St.background=this.background.toJSON(ht).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(St.environment=this.environment.toJSON(ht).uuid);else if(this.isMesh||this.isLine||this.isPoints){St.geometry=wt(ht.geometries,this.geometry);const Ct=this.geometry.parameters;if(Ct!==void 0&&Ct.shapes!==void 0){const Rt=Ct.shapes;if(Array.isArray(Rt))for(let It=0,Lt=Rt.length;It<Lt;It++){const kt=Rt[It];wt(ht.shapes,kt)}else wt(ht.shapes,Rt)}}if(this.isSkinnedMesh&&(St.bindMode=this.bindMode,St.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(wt(ht.skeletons,this.skeleton),St.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const Ct=[];for(let Rt=0,It=this.material.length;Rt<It;Rt++)Ct.push(wt(ht.materials,this.material[Rt]));St.material=Ct}else St.material=wt(ht.materials,this.material);if(this.children.length>0){St.children=[];for(let Ct=0;Ct<this.children.length;Ct++)St.children.push(this.children[Ct].toJSON(ht).object)}if(this.animations.length>0){St.animations=[];for(let Ct=0;Ct<this.animations.length;Ct++){const Rt=this.animations[Ct];St.animations.push(wt(ht.animations,Rt))}}if(xt){const Ct=At(ht.geometries),Rt=At(ht.materials),It=At(ht.textures),Lt=At(ht.images),kt=At(ht.shapes),Dt=At(ht.skeletons),$t=At(ht.animations),Ot=At(ht.nodes);Ct.length>0&&(_t.geometries=Ct),Rt.length>0&&(_t.materials=Rt),It.length>0&&(_t.textures=It),Lt.length>0&&(_t.images=Lt),kt.length>0&&(_t.shapes=kt),Dt.length>0&&(_t.skeletons=Dt),$t.length>0&&(_t.animations=$t),Ot.length>0&&(_t.nodes=Ot)}return _t.object=St,_t;function At(Ct){const Rt=[];for(const It in Ct){const Lt=Ct[It];delete Lt.metadata,Rt.push(Lt)}return Rt}}clone(ht){return new this.constructor().copy(this,ht)}copy(ht,xt=!0){if(this.name=ht.name,this.up.copy(ht.up),this.position.copy(ht.position),this.rotation.order=ht.rotation.order,this.quaternion.copy(ht.quaternion),this.scale.copy(ht.scale),this.matrix.copy(ht.matrix),this.matrixWorld.copy(ht.matrixWorld),this.matrixAutoUpdate=ht.matrixAutoUpdate,this.matrixWorldAutoUpdate=ht.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=ht.matrixWorldNeedsUpdate,this.layers.mask=ht.layers.mask,this.visible=ht.visible,this.castShadow=ht.castShadow,this.receiveShadow=ht.receiveShadow,this.frustumCulled=ht.frustumCulled,this.renderOrder=ht.renderOrder,this.animations=ht.animations.slice(),this.userData=JSON.parse(JSON.stringify(ht.userData)),xt===!0)for(let _t=0;_t<ht.children.length;_t++){const St=ht.children[_t];this.add(St.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$2=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(ht=new Vector3,xt=new Vector3,_t=new Vector3){this.a=ht,this.b=xt,this.c=_t}static getNormal(ht,xt,_t,St){St.subVectors(_t,xt),_v0$2.subVectors(ht,xt),St.cross(_v0$2);const wt=St.lengthSq();return wt>0?St.multiplyScalar(1/Math.sqrt(wt)):St.set(0,0,0)}static getBarycoord(ht,xt,_t,St,wt){_v0$2.subVectors(St,xt),_v1$3.subVectors(_t,xt),_v2$2.subVectors(ht,xt);const At=_v0$2.dot(_v0$2),Ct=_v0$2.dot(_v1$3),Rt=_v0$2.dot(_v2$2),It=_v1$3.dot(_v1$3),Lt=_v1$3.dot(_v2$2),kt=At*It-Ct*Ct;if(kt===0)return wt.set(0,0,0),null;const Dt=1/kt,$t=(It*Rt-Ct*Lt)*Dt,Ot=(At*Lt-Ct*Rt)*Dt;return wt.set(1-$t-Ot,Ot,$t)}static containsPoint(ht,xt,_t,St){return this.getBarycoord(ht,xt,_t,St,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(ht,xt,_t,St,wt,At,Ct,Rt){return this.getBarycoord(ht,xt,_t,St,_v3$2)===null?(Rt.x=0,Rt.y=0,"z"in Rt&&(Rt.z=0),"w"in Rt&&(Rt.w=0),null):(Rt.setScalar(0),Rt.addScaledVector(wt,_v3$2.x),Rt.addScaledVector(At,_v3$2.y),Rt.addScaledVector(Ct,_v3$2.z),Rt)}static isFrontFacing(ht,xt,_t,St){return _v0$2.subVectors(_t,xt),_v1$3.subVectors(ht,xt),_v0$2.cross(_v1$3).dot(St)<0}set(ht,xt,_t){return this.a.copy(ht),this.b.copy(xt),this.c.copy(_t),this}setFromPointsAndIndices(ht,xt,_t,St){return this.a.copy(ht[xt]),this.b.copy(ht[_t]),this.c.copy(ht[St]),this}setFromAttributeAndIndices(ht,xt,_t,St){return this.a.fromBufferAttribute(ht,xt),this.b.fromBufferAttribute(ht,_t),this.c.fromBufferAttribute(ht,St),this}clone(){return new this.constructor().copy(this)}copy(ht){return this.a.copy(ht.a),this.b.copy(ht.b),this.c.copy(ht.c),this}getArea(){return _v0$2.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$2.cross(_v1$3).length()*.5}getMidpoint(ht){return ht.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(ht){return Triangle.getNormal(this.a,this.b,this.c,ht)}getPlane(ht){return ht.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(ht,xt){return Triangle.getBarycoord(ht,this.a,this.b,this.c,xt)}getInterpolation(ht,xt,_t,St,wt){return Triangle.getInterpolation(ht,this.a,this.b,this.c,xt,_t,St,wt)}containsPoint(ht){return Triangle.containsPoint(ht,this.a,this.b,this.c)}isFrontFacing(ht){return Triangle.isFrontFacing(this.a,this.b,this.c,ht)}intersectsBox(ht){return ht.intersectsTriangle(this)}closestPointToPoint(ht,xt){const _t=this.a,St=this.b,wt=this.c;let At,Ct;_vab.subVectors(St,_t),_vac.subVectors(wt,_t),_vap.subVectors(ht,_t);const Rt=_vab.dot(_vap),It=_vac.dot(_vap);if(Rt<=0&&It<=0)return xt.copy(_t);_vbp.subVectors(ht,St);const Lt=_vab.dot(_vbp),kt=_vac.dot(_vbp);if(Lt>=0&&kt<=Lt)return xt.copy(St);const Dt=Rt*kt-Lt*It;if(Dt<=0&&Rt>=0&&Lt<=0)return At=Rt/(Rt-Lt),xt.copy(_t).addScaledVector(_vab,At);_vcp.subVectors(ht,wt);const $t=_vab.dot(_vcp),Ot=_vac.dot(_vcp);if(Ot>=0&&$t<=Ot)return xt.copy(wt);const zt=$t*It-Rt*Ot;if(zt<=0&&It>=0&&Ot<=0)return Ct=It/(It-Ot),xt.copy(_t).addScaledVector(_vac,Ct);const Gt=Lt*Ot-$t*kt;if(Gt<=0&&kt-Lt>=0&&$t-Ot>=0)return _vbc.subVectors(wt,St),Ct=(kt-Lt)/(kt-Lt+($t-Ot)),xt.copy(St).addScaledVector(_vbc,Ct);const Bt=1/(Gt+zt+Dt);return At=zt*Bt,Ct=Dt*Bt,xt.copy(_t).addScaledVector(_vab,At).addScaledVector(_vac,Ct)}equals(ht){return ht.a.equals(this.a)&&ht.b.equals(this.b)&&ht.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(vt,ht,xt){return xt<0&&(xt+=1),xt>1&&(xt-=1),xt<1/6?vt+(ht-vt)*6*xt:xt<1/2?ht:xt<2/3?vt+(ht-vt)*6*(2/3-xt):vt}class Color{constructor(ht,xt,_t){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(ht,xt,_t)}set(ht,xt,_t){if(xt===void 0&&_t===void 0){const St=ht;St&&St.isColor?this.copy(St):typeof St=="number"?this.setHex(St):typeof St=="string"&&this.setStyle(St)}else this.setRGB(ht,xt,_t);return this}setScalar(ht){return this.r=ht,this.g=ht,this.b=ht,this}setHex(ht,xt=SRGBColorSpace){return ht=Math.floor(ht),this.r=(ht>>16&255)/255,this.g=(ht>>8&255)/255,this.b=(ht&255)/255,ColorManagement.toWorkingColorSpace(this,xt),this}setRGB(ht,xt,_t,St=ColorManagement.workingColorSpace){return this.r=ht,this.g=xt,this.b=_t,ColorManagement.toWorkingColorSpace(this,St),this}setHSL(ht,xt,_t,St=ColorManagement.workingColorSpace){if(ht=euclideanModulo(ht,1),xt=clamp(xt,0,1),_t=clamp(_t,0,1),xt===0)this.r=this.g=this.b=_t;else{const wt=_t<=.5?_t*(1+xt):_t+xt-_t*xt,At=2*_t-wt;this.r=hue2rgb(At,wt,ht+1/3),this.g=hue2rgb(At,wt,ht),this.b=hue2rgb(At,wt,ht-1/3)}return ColorManagement.toWorkingColorSpace(this,St),this}setStyle(ht,xt=SRGBColorSpace){function _t(wt){wt!==void 0&&parseFloat(wt)<1&&console.warn("THREE.Color: Alpha component of "+ht+" will be ignored.")}let St;if(St=/^(\w+)\(([^\)]*)\)/.exec(ht)){let wt;const At=St[1],Ct=St[2];switch(At){case"rgb":case"rgba":if(wt=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Ct))return _t(wt[4]),this.setRGB(Math.min(255,parseInt(wt[1],10))/255,Math.min(255,parseInt(wt[2],10))/255,Math.min(255,parseInt(wt[3],10))/255,xt);if(wt=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Ct))return _t(wt[4]),this.setRGB(Math.min(100,parseInt(wt[1],10))/100,Math.min(100,parseInt(wt[2],10))/100,Math.min(100,parseInt(wt[3],10))/100,xt);break;case"hsl":case"hsla":if(wt=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Ct))return _t(wt[4]),this.setHSL(parseFloat(wt[1])/360,parseFloat(wt[2])/100,parseFloat(wt[3])/100,xt);break;default:console.warn("THREE.Color: Unknown color model "+ht)}}else if(St=/^\#([A-Fa-f\d]+)$/.exec(ht)){const wt=St[1],At=wt.length;if(At===3)return this.setRGB(parseInt(wt.charAt(0),16)/15,parseInt(wt.charAt(1),16)/15,parseInt(wt.charAt(2),16)/15,xt);if(At===6)return this.setHex(parseInt(wt,16),xt);console.warn("THREE.Color: Invalid hex color "+ht)}else if(ht&&ht.length>0)return this.setColorName(ht,xt);return this}setColorName(ht,xt=SRGBColorSpace){const _t=_colorKeywords[ht.toLowerCase()];return _t!==void 0?this.setHex(_t,xt):console.warn("THREE.Color: Unknown color "+ht),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(ht){return this.r=ht.r,this.g=ht.g,this.b=ht.b,this}copySRGBToLinear(ht){return this.r=SRGBToLinear(ht.r),this.g=SRGBToLinear(ht.g),this.b=SRGBToLinear(ht.b),this}copyLinearToSRGB(ht){return this.r=LinearToSRGB(ht.r),this.g=LinearToSRGB(ht.g),this.b=LinearToSRGB(ht.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(ht=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),ht),Math.round(clamp(_color.r*255,0,255))*65536+Math.round(clamp(_color.g*255,0,255))*256+Math.round(clamp(_color.b*255,0,255))}getHexString(ht=SRGBColorSpace){return("000000"+this.getHex(ht).toString(16)).slice(-6)}getHSL(ht,xt=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),xt);const _t=_color.r,St=_color.g,wt=_color.b,At=Math.max(_t,St,wt),Ct=Math.min(_t,St,wt);let Rt,It;const Lt=(Ct+At)/2;if(Ct===At)Rt=0,It=0;else{const kt=At-Ct;switch(It=Lt<=.5?kt/(At+Ct):kt/(2-At-Ct),At){case _t:Rt=(St-wt)/kt+(St<wt?6:0);break;case St:Rt=(wt-_t)/kt+2;break;case wt:Rt=(_t-St)/kt+4;break}Rt/=6}return ht.h=Rt,ht.s=It,ht.l=Lt,ht}getRGB(ht,xt=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),xt),ht.r=_color.r,ht.g=_color.g,ht.b=_color.b,ht}getStyle(ht=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),ht);const xt=_color.r,_t=_color.g,St=_color.b;return ht!==SRGBColorSpace?`color(${ht} ${xt.toFixed(3)} ${_t.toFixed(3)} ${St.toFixed(3)})`:`rgb(${Math.round(xt*255)},${Math.round(_t*255)},${Math.round(St*255)})`}offsetHSL(ht,xt,_t){return this.getHSL(_hslA),this.setHSL(_hslA.h+ht,_hslA.s+xt,_hslA.l+_t)}add(ht){return this.r+=ht.r,this.g+=ht.g,this.b+=ht.b,this}addColors(ht,xt){return this.r=ht.r+xt.r,this.g=ht.g+xt.g,this.b=ht.b+xt.b,this}addScalar(ht){return this.r+=ht,this.g+=ht,this.b+=ht,this}sub(ht){return this.r=Math.max(0,this.r-ht.r),this.g=Math.max(0,this.g-ht.g),this.b=Math.max(0,this.b-ht.b),this}multiply(ht){return this.r*=ht.r,this.g*=ht.g,this.b*=ht.b,this}multiplyScalar(ht){return this.r*=ht,this.g*=ht,this.b*=ht,this}lerp(ht,xt){return this.r+=(ht.r-this.r)*xt,this.g+=(ht.g-this.g)*xt,this.b+=(ht.b-this.b)*xt,this}lerpColors(ht,xt,_t){return this.r=ht.r+(xt.r-ht.r)*_t,this.g=ht.g+(xt.g-ht.g)*_t,this.b=ht.b+(xt.b-ht.b)*_t,this}lerpHSL(ht,xt){this.getHSL(_hslA),ht.getHSL(_hslB);const _t=lerp(_hslA.h,_hslB.h,xt),St=lerp(_hslA.s,_hslB.s,xt),wt=lerp(_hslA.l,_hslB.l,xt);return this.setHSL(_t,St,wt),this}setFromVector3(ht){return this.r=ht.x,this.g=ht.y,this.b=ht.z,this}applyMatrix3(ht){const xt=this.r,_t=this.g,St=this.b,wt=ht.elements;return this.r=wt[0]*xt+wt[3]*_t+wt[6]*St,this.g=wt[1]*xt+wt[4]*_t+wt[7]*St,this.b=wt[2]*xt+wt[5]*_t+wt[8]*St,this}equals(ht){return ht.r===this.r&&ht.g===this.g&&ht.b===this.b}fromArray(ht,xt=0){return this.r=ht[xt],this.g=ht[xt+1],this.b=ht[xt+2],this}toArray(ht=[],xt=0){return ht[xt]=this.r,ht[xt+1]=this.g,ht[xt+2]=this.b,ht}fromBufferAttribute(ht,xt){return this.r=ht.getX(xt),this.g=ht.getY(xt),this.b=ht.getZ(xt),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher$1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(ht){this._alphaTest>0!=ht>0&&this.version++,this._alphaTest=ht}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(ht){if(ht!==void 0)for(const xt in ht){const _t=ht[xt];if(_t===void 0){console.warn(`THREE.Material: parameter '${xt}' has value of undefined.`);continue}const St=this[xt];if(St===void 0){console.warn(`THREE.Material: '${xt}' is not a property of THREE.${this.type}.`);continue}St&&St.isColor?St.set(_t):St&&St.isVector3&&_t&&_t.isVector3?St.copy(_t):this[xt]=_t}}toJSON(ht){const xt=ht===void 0||typeof ht=="string";xt&&(ht={textures:{},images:{}});const _t={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};_t.uuid=this.uuid,_t.type=this.type,this.name!==""&&(_t.name=this.name),this.color&&this.color.isColor&&(_t.color=this.color.getHex()),this.roughness!==void 0&&(_t.roughness=this.roughness),this.metalness!==void 0&&(_t.metalness=this.metalness),this.sheen!==void 0&&(_t.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(_t.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(_t.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(_t.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(_t.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(_t.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(_t.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(_t.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(_t.shininess=this.shininess),this.clearcoat!==void 0&&(_t.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(_t.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(_t.clearcoatMap=this.clearcoatMap.toJSON(ht).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(_t.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(ht).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(_t.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(ht).uuid,_t.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(_t.dispersion=this.dispersion),this.iridescence!==void 0&&(_t.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(_t.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(_t.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(_t.iridescenceMap=this.iridescenceMap.toJSON(ht).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(_t.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(ht).uuid),this.anisotropy!==void 0&&(_t.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(_t.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(_t.anisotropyMap=this.anisotropyMap.toJSON(ht).uuid),this.map&&this.map.isTexture&&(_t.map=this.map.toJSON(ht).uuid),this.matcap&&this.matcap.isTexture&&(_t.matcap=this.matcap.toJSON(ht).uuid),this.alphaMap&&this.alphaMap.isTexture&&(_t.alphaMap=this.alphaMap.toJSON(ht).uuid),this.lightMap&&this.lightMap.isTexture&&(_t.lightMap=this.lightMap.toJSON(ht).uuid,_t.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(_t.aoMap=this.aoMap.toJSON(ht).uuid,_t.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(_t.bumpMap=this.bumpMap.toJSON(ht).uuid,_t.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(_t.normalMap=this.normalMap.toJSON(ht).uuid,_t.normalMapType=this.normalMapType,_t.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(_t.displacementMap=this.displacementMap.toJSON(ht).uuid,_t.displacementScale=this.displacementScale,_t.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(_t.roughnessMap=this.roughnessMap.toJSON(ht).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(_t.metalnessMap=this.metalnessMap.toJSON(ht).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(_t.emissiveMap=this.emissiveMap.toJSON(ht).uuid),this.specularMap&&this.specularMap.isTexture&&(_t.specularMap=this.specularMap.toJSON(ht).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(_t.specularIntensityMap=this.specularIntensityMap.toJSON(ht).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(_t.specularColorMap=this.specularColorMap.toJSON(ht).uuid),this.envMap&&this.envMap.isTexture&&(_t.envMap=this.envMap.toJSON(ht).uuid,this.combine!==void 0&&(_t.combine=this.combine)),this.envMapRotation!==void 0&&(_t.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(_t.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(_t.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(_t.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(_t.gradientMap=this.gradientMap.toJSON(ht).uuid),this.transmission!==void 0&&(_t.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(_t.transmissionMap=this.transmissionMap.toJSON(ht).uuid),this.thickness!==void 0&&(_t.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(_t.thicknessMap=this.thicknessMap.toJSON(ht).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(_t.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(_t.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(_t.size=this.size),this.shadowSide!==null&&(_t.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(_t.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(_t.blending=this.blending),this.side!==FrontSide&&(_t.side=this.side),this.vertexColors===!0&&(_t.vertexColors=!0),this.opacity<1&&(_t.opacity=this.opacity),this.transparent===!0&&(_t.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(_t.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(_t.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(_t.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(_t.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(_t.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(_t.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(_t.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(_t.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(_t.depthFunc=this.depthFunc),this.depthTest===!1&&(_t.depthTest=this.depthTest),this.depthWrite===!1&&(_t.depthWrite=this.depthWrite),this.colorWrite===!1&&(_t.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(_t.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(_t.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(_t.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(_t.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(_t.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(_t.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(_t.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(_t.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(_t.rotation=this.rotation),this.polygonOffset===!0&&(_t.polygonOffset=!0),this.polygonOffsetFactor!==0&&(_t.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(_t.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(_t.linewidth=this.linewidth),this.dashSize!==void 0&&(_t.dashSize=this.dashSize),this.gapSize!==void 0&&(_t.gapSize=this.gapSize),this.scale!==void 0&&(_t.scale=this.scale),this.dithering===!0&&(_t.dithering=!0),this.alphaTest>0&&(_t.alphaTest=this.alphaTest),this.alphaHash===!0&&(_t.alphaHash=!0),this.alphaToCoverage===!0&&(_t.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(_t.premultipliedAlpha=!0),this.forceSinglePass===!0&&(_t.forceSinglePass=!0),this.wireframe===!0&&(_t.wireframe=!0),this.wireframeLinewidth>1&&(_t.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(_t.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(_t.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(_t.flatShading=!0),this.visible===!1&&(_t.visible=!1),this.toneMapped===!1&&(_t.toneMapped=!1),this.fog===!1&&(_t.fog=!1),Object.keys(this.userData).length>0&&(_t.userData=this.userData);function St(wt){const At=[];for(const Ct in wt){const Rt=wt[Ct];delete Rt.metadata,At.push(Rt)}return At}if(xt){const wt=St(ht.textures),At=St(ht.images);wt.length>0&&(_t.textures=wt),At.length>0&&(_t.images=At)}return _t}clone(){return new this.constructor().copy(this)}copy(ht){this.name=ht.name,this.blending=ht.blending,this.side=ht.side,this.vertexColors=ht.vertexColors,this.opacity=ht.opacity,this.transparent=ht.transparent,this.blendSrc=ht.blendSrc,this.blendDst=ht.blendDst,this.blendEquation=ht.blendEquation,this.blendSrcAlpha=ht.blendSrcAlpha,this.blendDstAlpha=ht.blendDstAlpha,this.blendEquationAlpha=ht.blendEquationAlpha,this.blendColor.copy(ht.blendColor),this.blendAlpha=ht.blendAlpha,this.depthFunc=ht.depthFunc,this.depthTest=ht.depthTest,this.depthWrite=ht.depthWrite,this.stencilWriteMask=ht.stencilWriteMask,this.stencilFunc=ht.stencilFunc,this.stencilRef=ht.stencilRef,this.stencilFuncMask=ht.stencilFuncMask,this.stencilFail=ht.stencilFail,this.stencilZFail=ht.stencilZFail,this.stencilZPass=ht.stencilZPass,this.stencilWrite=ht.stencilWrite;const xt=ht.clippingPlanes;let _t=null;if(xt!==null){const St=xt.length;_t=new Array(St);for(let wt=0;wt!==St;++wt)_t[wt]=xt[wt].clone()}return this.clippingPlanes=_t,this.clipIntersection=ht.clipIntersection,this.clipShadows=ht.clipShadows,this.shadowSide=ht.shadowSide,this.colorWrite=ht.colorWrite,this.precision=ht.precision,this.polygonOffset=ht.polygonOffset,this.polygonOffsetFactor=ht.polygonOffsetFactor,this.polygonOffsetUnits=ht.polygonOffsetUnits,this.dithering=ht.dithering,this.alphaTest=ht.alphaTest,this.alphaHash=ht.alphaHash,this.alphaToCoverage=ht.alphaToCoverage,this.premultipliedAlpha=ht.premultipliedAlpha,this.forceSinglePass=ht.forceSinglePass,this.visible=ht.visible,this.toneMapped=ht.toneMapped,this.userData=JSON.parse(JSON.stringify(ht.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(ht){ht===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class MeshBasicMaterial extends Material{constructor(ht){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(ht)}copy(ht){return super.copy(ht),this.color.copy(ht.color),this.map=ht.map,this.lightMap=ht.lightMap,this.lightMapIntensity=ht.lightMapIntensity,this.aoMap=ht.aoMap,this.aoMapIntensity=ht.aoMapIntensity,this.specularMap=ht.specularMap,this.alphaMap=ht.alphaMap,this.envMap=ht.envMap,this.envMapRotation.copy(ht.envMapRotation),this.combine=ht.combine,this.reflectivity=ht.reflectivity,this.refractionRatio=ht.refractionRatio,this.wireframe=ht.wireframe,this.wireframeLinewidth=ht.wireframeLinewidth,this.wireframeLinecap=ht.wireframeLinecap,this.wireframeLinejoin=ht.wireframeLinejoin,this.fog=ht.fog,this}}const _tables=_generateTables();function _generateTables(){const vt=new ArrayBuffer(4),ht=new Float32Array(vt),xt=new Uint32Array(vt),_t=new Uint32Array(512),St=new Uint32Array(512);for(let Rt=0;Rt<256;++Rt){const It=Rt-127;It<-27?(_t[Rt]=0,_t[Rt|256]=32768,St[Rt]=24,St[Rt|256]=24):It<-14?(_t[Rt]=1024>>-It-14,_t[Rt|256]=1024>>-It-14|32768,St[Rt]=-It-1,St[Rt|256]=-It-1):It<=15?(_t[Rt]=It+15<<10,_t[Rt|256]=It+15<<10|32768,St[Rt]=13,St[Rt|256]=13):It<128?(_t[Rt]=31744,_t[Rt|256]=64512,St[Rt]=24,St[Rt|256]=24):(_t[Rt]=31744,_t[Rt|256]=64512,St[Rt]=13,St[Rt|256]=13)}const wt=new Uint32Array(2048),At=new Uint32Array(64),Ct=new Uint32Array(64);for(let Rt=1;Rt<1024;++Rt){let It=Rt<<13,Lt=0;for(;!(It&8388608);)It<<=1,Lt-=8388608;It&=-8388609,Lt+=947912704,wt[Rt]=It|Lt}for(let Rt=1024;Rt<2048;++Rt)wt[Rt]=939524096+(Rt-1024<<13);for(let Rt=1;Rt<31;++Rt)At[Rt]=Rt<<23;At[31]=1199570944,At[32]=2147483648;for(let Rt=33;Rt<63;++Rt)At[Rt]=2147483648+(Rt-32<<23);At[63]=3347054592;for(let Rt=1;Rt<64;++Rt)Rt!==32&&(Ct[Rt]=1024);return{floatView:ht,uint32View:xt,baseTable:_t,shiftTable:St,mantissaTable:wt,exponentTable:At,offsetTable:Ct}}function toHalfFloat(vt){Math.abs(vt)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),vt=clamp(vt,-65504,65504),_tables.floatView[0]=vt;const ht=_tables.uint32View[0],xt=ht>>23&511;return _tables.baseTable[xt]+((ht&8388607)>>_tables.shiftTable[xt])}function fromHalfFloat(vt){const ht=vt>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[ht]+(vt&1023)]+_tables.exponentTable[ht],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat},_vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(ht,xt,_t=!1){if(Array.isArray(ht))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=ht,this.itemSize=xt,this.count=ht!==void 0?ht.length/xt:0,this.normalized=_t,this.usage=StaticDrawUsage,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(ht){ht===!0&&this.version++}get updateRange(){return warnOnce("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(ht){return this.usage=ht,this}addUpdateRange(ht,xt){this.updateRanges.push({start:ht,count:xt})}clearUpdateRanges(){this.updateRanges.length=0}copy(ht){return this.name=ht.name,this.array=new ht.array.constructor(ht.array),this.itemSize=ht.itemSize,this.count=ht.count,this.normalized=ht.normalized,this.usage=ht.usage,this.gpuType=ht.gpuType,this}copyAt(ht,xt,_t){ht*=this.itemSize,_t*=xt.itemSize;for(let St=0,wt=this.itemSize;St<wt;St++)this.array[ht+St]=xt.array[_t+St];return this}copyArray(ht){return this.array.set(ht),this}applyMatrix3(ht){if(this.itemSize===2)for(let xt=0,_t=this.count;xt<_t;xt++)_vector2$1.fromBufferAttribute(this,xt),_vector2$1.applyMatrix3(ht),this.setXY(xt,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let xt=0,_t=this.count;xt<_t;xt++)_vector$9.fromBufferAttribute(this,xt),_vector$9.applyMatrix3(ht),this.setXYZ(xt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(ht){for(let xt=0,_t=this.count;xt<_t;xt++)_vector$9.fromBufferAttribute(this,xt),_vector$9.applyMatrix4(ht),this.setXYZ(xt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(ht){for(let xt=0,_t=this.count;xt<_t;xt++)_vector$9.fromBufferAttribute(this,xt),_vector$9.applyNormalMatrix(ht),this.setXYZ(xt,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(ht){for(let xt=0,_t=this.count;xt<_t;xt++)_vector$9.fromBufferAttribute(this,xt),_vector$9.transformDirection(ht),this.setXYZ(xt,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(ht,xt=0){return this.array.set(ht,xt),this}getComponent(ht,xt){let _t=this.array[ht*this.itemSize+xt];return this.normalized&&(_t=denormalize(_t,this.array)),_t}setComponent(ht,xt,_t){return this.normalized&&(_t=normalize(_t,this.array)),this.array[ht*this.itemSize+xt]=_t,this}getX(ht){let xt=this.array[ht*this.itemSize];return this.normalized&&(xt=denormalize(xt,this.array)),xt}setX(ht,xt){return this.normalized&&(xt=normalize(xt,this.array)),this.array[ht*this.itemSize]=xt,this}getY(ht){let xt=this.array[ht*this.itemSize+1];return this.normalized&&(xt=denormalize(xt,this.array)),xt}setY(ht,xt){return this.normalized&&(xt=normalize(xt,this.array)),this.array[ht*this.itemSize+1]=xt,this}getZ(ht){let xt=this.array[ht*this.itemSize+2];return this.normalized&&(xt=denormalize(xt,this.array)),xt}setZ(ht,xt){return this.normalized&&(xt=normalize(xt,this.array)),this.array[ht*this.itemSize+2]=xt,this}getW(ht){let xt=this.array[ht*this.itemSize+3];return this.normalized&&(xt=denormalize(xt,this.array)),xt}setW(ht,xt){return this.normalized&&(xt=normalize(xt,this.array)),this.array[ht*this.itemSize+3]=xt,this}setXY(ht,xt,_t){return ht*=this.itemSize,this.normalized&&(xt=normalize(xt,this.array),_t=normalize(_t,this.array)),this.array[ht+0]=xt,this.array[ht+1]=_t,this}setXYZ(ht,xt,_t,St){return ht*=this.itemSize,this.normalized&&(xt=normalize(xt,this.array),_t=normalize(_t,this.array),St=normalize(St,this.array)),this.array[ht+0]=xt,this.array[ht+1]=_t,this.array[ht+2]=St,this}setXYZW(ht,xt,_t,St,wt){return ht*=this.itemSize,this.normalized&&(xt=normalize(xt,this.array),_t=normalize(_t,this.array),St=normalize(St,this.array),wt=normalize(wt,this.array)),this.array[ht+0]=xt,this.array[ht+1]=_t,this.array[ht+2]=St,this.array[ht+3]=wt,this}onUpload(ht){return this.onUploadCallback=ht,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const ht={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(ht.name=this.name),this.usage!==StaticDrawUsage&&(ht.usage=this.usage),ht}}class Int8BufferAttribute extends BufferAttribute{constructor(ht,xt,_t){super(new Int8Array(ht),xt,_t)}}class Uint8BufferAttribute extends BufferAttribute{constructor(ht,xt,_t){super(new Uint8Array(ht),xt,_t)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(ht,xt,_t){super(new Uint8ClampedArray(ht),xt,_t)}}class Int16BufferAttribute extends BufferAttribute{constructor(ht,xt,_t){super(new Int16Array(ht),xt,_t)}}class Uint16BufferAttribute extends BufferAttribute{constructor(ht,xt,_t){super(new Uint16Array(ht),xt,_t)}}class Int32BufferAttribute extends BufferAttribute{constructor(ht,xt,_t){super(new Int32Array(ht),xt,_t)}}class Uint32BufferAttribute extends BufferAttribute{constructor(ht,xt,_t){super(new Uint32Array(ht),xt,_t)}}class Float16BufferAttribute extends BufferAttribute{constructor(ht,xt,_t){super(new Uint16Array(ht),xt,_t),this.isFloat16BufferAttribute=!0}getX(ht){let xt=fromHalfFloat(this.array[ht*this.itemSize]);return this.normalized&&(xt=denormalize(xt,this.array)),xt}setX(ht,xt){return this.normalized&&(xt=normalize(xt,this.array)),this.array[ht*this.itemSize]=toHalfFloat(xt),this}getY(ht){let xt=fromHalfFloat(this.array[ht*this.itemSize+1]);return this.normalized&&(xt=denormalize(xt,this.array)),xt}setY(ht,xt){return this.normalized&&(xt=normalize(xt,this.array)),this.array[ht*this.itemSize+1]=toHalfFloat(xt),this}getZ(ht){let xt=fromHalfFloat(this.array[ht*this.itemSize+2]);return this.normalized&&(xt=denormalize(xt,this.array)),xt}setZ(ht,xt){return this.normalized&&(xt=normalize(xt,this.array)),this.array[ht*this.itemSize+2]=toHalfFloat(xt),this}getW(ht){let xt=fromHalfFloat(this.array[ht*this.itemSize+3]);return this.normalized&&(xt=denormalize(xt,this.array)),xt}setW(ht,xt){return this.normalized&&(xt=normalize(xt,this.array)),this.array[ht*this.itemSize+3]=toHalfFloat(xt),this}setXY(ht,xt,_t){return ht*=this.itemSize,this.normalized&&(xt=normalize(xt,this.array),_t=normalize(_t,this.array)),this.array[ht+0]=toHalfFloat(xt),this.array[ht+1]=toHalfFloat(_t),this}setXYZ(ht,xt,_t,St){return ht*=this.itemSize,this.normalized&&(xt=normalize(xt,this.array),_t=normalize(_t,this.array),St=normalize(St,this.array)),this.array[ht+0]=toHalfFloat(xt),this.array[ht+1]=toHalfFloat(_t),this.array[ht+2]=toHalfFloat(St),this}setXYZW(ht,xt,_t,St,wt){return ht*=this.itemSize,this.normalized&&(xt=normalize(xt,this.array),_t=normalize(_t,this.array),St=normalize(St,this.array),wt=normalize(wt,this.array)),this.array[ht+0]=toHalfFloat(xt),this.array[ht+1]=toHalfFloat(_t),this.array[ht+2]=toHalfFloat(St),this.array[ht+3]=toHalfFloat(wt),this}}class Float32BufferAttribute extends BufferAttribute{constructor(ht,xt,_t){super(new Float32Array(ht),xt,_t)}}let _id$2=0;const _m1$2=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher$1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(ht){return Array.isArray(ht)?this.index=new(arrayNeedsUint32(ht)?Uint32BufferAttribute:Uint16BufferAttribute)(ht,1):this.index=ht,this}getAttribute(ht){return this.attributes[ht]}setAttribute(ht,xt){return this.attributes[ht]=xt,this}deleteAttribute(ht){return delete this.attributes[ht],this}hasAttribute(ht){return this.attributes[ht]!==void 0}addGroup(ht,xt,_t=0){this.groups.push({start:ht,count:xt,materialIndex:_t})}clearGroups(){this.groups=[]}setDrawRange(ht,xt){this.drawRange.start=ht,this.drawRange.count=xt}applyMatrix4(ht){const xt=this.attributes.position;xt!==void 0&&(xt.applyMatrix4(ht),xt.needsUpdate=!0);const _t=this.attributes.normal;if(_t!==void 0){const wt=new Matrix3().getNormalMatrix(ht);_t.applyNormalMatrix(wt),_t.needsUpdate=!0}const St=this.attributes.tangent;return St!==void 0&&(St.transformDirection(ht),St.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(ht){return _m1$2.makeRotationFromQuaternion(ht),this.applyMatrix4(_m1$2),this}rotateX(ht){return _m1$2.makeRotationX(ht),this.applyMatrix4(_m1$2),this}rotateY(ht){return _m1$2.makeRotationY(ht),this.applyMatrix4(_m1$2),this}rotateZ(ht){return _m1$2.makeRotationZ(ht),this.applyMatrix4(_m1$2),this}translate(ht,xt,_t){return _m1$2.makeTranslation(ht,xt,_t),this.applyMatrix4(_m1$2),this}scale(ht,xt,_t){return _m1$2.makeScale(ht,xt,_t),this.applyMatrix4(_m1$2),this}lookAt(ht){return _obj.lookAt(ht),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(ht){const xt=[];for(let _t=0,St=ht.length;_t<St;_t++){const wt=ht[_t];xt.push(wt.x,wt.y,wt.z||0)}return this.setAttribute("position",new Float32BufferAttribute(xt,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const ht=this.attributes.position,xt=this.morphAttributes.position;if(ht&&ht.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(ht!==void 0){if(this.boundingBox.setFromBufferAttribute(ht),xt)for(let _t=0,St=xt.length;_t<St;_t++){const wt=xt[_t];_box$2.setFromBufferAttribute(wt),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1);const ht=this.attributes.position,xt=this.morphAttributes.position;if(ht&&ht.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(ht){const _t=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(ht),xt)for(let wt=0,At=xt.length;wt<At;wt++){const Ct=xt[wt];_boxMorphTargets.setFromBufferAttribute(Ct),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(_t);let St=0;for(let wt=0,At=ht.count;wt<At;wt++)_vector$8.fromBufferAttribute(ht,wt),St=Math.max(St,_t.distanceToSquared(_vector$8));if(xt)for(let wt=0,At=xt.length;wt<At;wt++){const Ct=xt[wt],Rt=this.morphTargetsRelative;for(let It=0,Lt=Ct.count;It<Lt;It++)_vector$8.fromBufferAttribute(Ct,It),Rt&&(_offset.fromBufferAttribute(ht,It),_vector$8.add(_offset)),St=Math.max(St,_t.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(St),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const ht=this.index,xt=this.attributes;if(ht===null||xt.position===void 0||xt.normal===void 0||xt.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const _t=xt.position,St=xt.normal,wt=xt.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*_t.count),4));const At=this.getAttribute("tangent"),Ct=[],Rt=[];for(let en=0;en<_t.count;en++)Ct[en]=new Vector3,Rt[en]=new Vector3;const It=new Vector3,Lt=new Vector3,kt=new Vector3,Dt=new Vector2,$t=new Vector2,Ot=new Vector2,zt=new Vector3,Gt=new Vector3;function Bt(en,tn,Qt){It.fromBufferAttribute(_t,en),Lt.fromBufferAttribute(_t,tn),kt.fromBufferAttribute(_t,Qt),Dt.fromBufferAttribute(wt,en),$t.fromBufferAttribute(wt,tn),Ot.fromBufferAttribute(wt,Qt),Lt.sub(It),kt.sub(It),$t.sub(Dt),Ot.sub(Dt);const sn=1/($t.x*Ot.y-Ot.x*$t.y);isFinite(sn)&&(zt.copy(Lt).multiplyScalar(Ot.y).addScaledVector(kt,-$t.y).multiplyScalar(sn),Gt.copy(kt).multiplyScalar($t.x).addScaledVector(Lt,-Ot.x).multiplyScalar(sn),Ct[en].add(zt),Ct[tn].add(zt),Ct[Qt].add(zt),Rt[en].add(Gt),Rt[tn].add(Gt),Rt[Qt].add(Gt))}let Ut=this.groups;Ut.length===0&&(Ut=[{start:0,count:ht.count}]);for(let en=0,tn=Ut.length;en<tn;++en){const Qt=Ut[en],sn=Qt.start,un=Qt.count;for(let dn=sn,vn=sn+un;dn<vn;dn+=3)Bt(ht.getX(dn+0),ht.getX(dn+1),ht.getX(dn+2))}const Vt=new Vector3,Ht=new Vector3,Xt=new Vector3,qt=new Vector3;function Kt(en){Xt.fromBufferAttribute(St,en),qt.copy(Xt);const tn=Ct[en];Vt.copy(tn),Vt.sub(Xt.multiplyScalar(Xt.dot(tn))).normalize(),Ht.crossVectors(qt,tn);const sn=Ht.dot(Rt[en])<0?-1:1;At.setXYZW(en,Vt.x,Vt.y,Vt.z,sn)}for(let en=0,tn=Ut.length;en<tn;++en){const Qt=Ut[en],sn=Qt.start,un=Qt.count;for(let dn=sn,vn=sn+un;dn<vn;dn+=3)Kt(ht.getX(dn+0)),Kt(ht.getX(dn+1)),Kt(ht.getX(dn+2))}}computeVertexNormals(){const ht=this.index,xt=this.getAttribute("position");if(xt!==void 0){let _t=this.getAttribute("normal");if(_t===void 0)_t=new BufferAttribute(new Float32Array(xt.count*3),3),this.setAttribute("normal",_t);else for(let Dt=0,$t=_t.count;Dt<$t;Dt++)_t.setXYZ(Dt,0,0,0);const St=new Vector3,wt=new Vector3,At=new Vector3,Ct=new Vector3,Rt=new Vector3,It=new Vector3,Lt=new Vector3,kt=new Vector3;if(ht)for(let Dt=0,$t=ht.count;Dt<$t;Dt+=3){const Ot=ht.getX(Dt+0),zt=ht.getX(Dt+1),Gt=ht.getX(Dt+2);St.fromBufferAttribute(xt,Ot),wt.fromBufferAttribute(xt,zt),At.fromBufferAttribute(xt,Gt),Lt.subVectors(At,wt),kt.subVectors(St,wt),Lt.cross(kt),Ct.fromBufferAttribute(_t,Ot),Rt.fromBufferAttribute(_t,zt),It.fromBufferAttribute(_t,Gt),Ct.add(Lt),Rt.add(Lt),It.add(Lt),_t.setXYZ(Ot,Ct.x,Ct.y,Ct.z),_t.setXYZ(zt,Rt.x,Rt.y,Rt.z),_t.setXYZ(Gt,It.x,It.y,It.z)}else for(let Dt=0,$t=xt.count;Dt<$t;Dt+=3)St.fromBufferAttribute(xt,Dt+0),wt.fromBufferAttribute(xt,Dt+1),At.fromBufferAttribute(xt,Dt+2),Lt.subVectors(At,wt),kt.subVectors(St,wt),Lt.cross(kt),_t.setXYZ(Dt+0,Lt.x,Lt.y,Lt.z),_t.setXYZ(Dt+1,Lt.x,Lt.y,Lt.z),_t.setXYZ(Dt+2,Lt.x,Lt.y,Lt.z);this.normalizeNormals(),_t.needsUpdate=!0}}normalizeNormals(){const ht=this.attributes.normal;for(let xt=0,_t=ht.count;xt<_t;xt++)_vector$8.fromBufferAttribute(ht,xt),_vector$8.normalize(),ht.setXYZ(xt,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function ht(Ct,Rt){const It=Ct.array,Lt=Ct.itemSize,kt=Ct.normalized,Dt=new It.constructor(Rt.length*Lt);let $t=0,Ot=0;for(let zt=0,Gt=Rt.length;zt<Gt;zt++){Ct.isInterleavedBufferAttribute?$t=Rt[zt]*Ct.data.stride+Ct.offset:$t=Rt[zt]*Lt;for(let Bt=0;Bt<Lt;Bt++)Dt[Ot++]=It[$t++]}return new BufferAttribute(Dt,Lt,kt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const xt=new BufferGeometry,_t=this.index.array,St=this.attributes;for(const Ct in St){const Rt=St[Ct],It=ht(Rt,_t);xt.setAttribute(Ct,It)}const wt=this.morphAttributes;for(const Ct in wt){const Rt=[],It=wt[Ct];for(let Lt=0,kt=It.length;Lt<kt;Lt++){const Dt=It[Lt],$t=ht(Dt,_t);Rt.push($t)}xt.morphAttributes[Ct]=Rt}xt.morphTargetsRelative=this.morphTargetsRelative;const At=this.groups;for(let Ct=0,Rt=At.length;Ct<Rt;Ct++){const It=At[Ct];xt.addGroup(It.start,It.count,It.materialIndex)}return xt}toJSON(){const ht={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(ht.uuid=this.uuid,ht.type=this.type,this.name!==""&&(ht.name=this.name),Object.keys(this.userData).length>0&&(ht.userData=this.userData),this.parameters!==void 0){const Rt=this.parameters;for(const It in Rt)Rt[It]!==void 0&&(ht[It]=Rt[It]);return ht}ht.data={attributes:{}};const xt=this.index;xt!==null&&(ht.data.index={type:xt.array.constructor.name,array:Array.prototype.slice.call(xt.array)});const _t=this.attributes;for(const Rt in _t){const It=_t[Rt];ht.data.attributes[Rt]=It.toJSON(ht.data)}const St={};let wt=!1;for(const Rt in this.morphAttributes){const It=this.morphAttributes[Rt],Lt=[];for(let kt=0,Dt=It.length;kt<Dt;kt++){const $t=It[kt];Lt.push($t.toJSON(ht.data))}Lt.length>0&&(St[Rt]=Lt,wt=!0)}wt&&(ht.data.morphAttributes=St,ht.data.morphTargetsRelative=this.morphTargetsRelative);const At=this.groups;At.length>0&&(ht.data.groups=JSON.parse(JSON.stringify(At)));const Ct=this.boundingSphere;return Ct!==null&&(ht.data.boundingSphere={center:Ct.center.toArray(),radius:Ct.radius}),ht}clone(){return new this.constructor().copy(this)}copy(ht){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const xt={};this.name=ht.name;const _t=ht.index;_t!==null&&this.setIndex(_t.clone(xt));const St=ht.attributes;for(const It in St){const Lt=St[It];this.setAttribute(It,Lt.clone(xt))}const wt=ht.morphAttributes;for(const It in wt){const Lt=[],kt=wt[It];for(let Dt=0,$t=kt.length;Dt<$t;Dt++)Lt.push(kt[Dt].clone(xt));this.morphAttributes[It]=Lt}this.morphTargetsRelative=ht.morphTargetsRelative;const At=ht.groups;for(let It=0,Lt=At.length;It<Lt;It++){const kt=At[It];this.addGroup(kt.start,kt.count,kt.materialIndex)}const Ct=ht.boundingBox;Ct!==null&&(this.boundingBox=Ct.clone());const Rt=ht.boundingSphere;return Rt!==null&&(this.boundingSphere=Rt.clone()),this.drawRange.start=ht.drawRange.start,this.drawRange.count=ht.drawRange.count,this.userData=ht.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere$1,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_normalA=new Vector3,_normalB=new Vector3,_normalC=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(ht=new BufferGeometry,xt=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=ht,this.material=xt,this.updateMorphTargets()}copy(ht,xt){return super.copy(ht,xt),ht.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=ht.morphTargetInfluences.slice()),ht.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},ht.morphTargetDictionary)),this.material=Array.isArray(ht.material)?ht.material.slice():ht.material,this.geometry=ht.geometry,this}updateMorphTargets(){const xt=this.geometry.morphAttributes,_t=Object.keys(xt);if(_t.length>0){const St=xt[_t[0]];if(St!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let wt=0,At=St.length;wt<At;wt++){const Ct=St[wt].name||String(wt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Ct]=wt}}}}getVertexPosition(ht,xt){const _t=this.geometry,St=_t.attributes.position,wt=_t.morphAttributes.position,At=_t.morphTargetsRelative;xt.fromBufferAttribute(St,ht);const Ct=this.morphTargetInfluences;if(wt&&Ct){_morphA.set(0,0,0);for(let Rt=0,It=wt.length;Rt<It;Rt++){const Lt=Ct[Rt],kt=wt[Rt];Lt!==0&&(_tempA.fromBufferAttribute(kt,ht),At?_morphA.addScaledVector(_tempA,Lt):_morphA.addScaledVector(_tempA.sub(xt),Lt))}xt.add(_morphA)}return xt}raycast(ht,xt){const _t=this.geometry,St=this.material,wt=this.matrixWorld;St!==void 0&&(_t.boundingSphere===null&&_t.computeBoundingSphere(),_sphere$6.copy(_t.boundingSphere),_sphere$6.applyMatrix4(wt),_ray$3.copy(ht.ray).recast(ht.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(ht.far-ht.near)**2))&&(_inverseMatrix$3.copy(wt).invert(),_ray$3.copy(ht.ray).applyMatrix4(_inverseMatrix$3),!(_t.boundingBox!==null&&_ray$3.intersectsBox(_t.boundingBox)===!1)&&this._computeIntersections(ht,xt,_ray$3)))}_computeIntersections(ht,xt,_t){let St;const wt=this.geometry,At=this.material,Ct=wt.index,Rt=wt.attributes.position,It=wt.attributes.uv,Lt=wt.attributes.uv1,kt=wt.attributes.normal,Dt=wt.groups,$t=wt.drawRange;if(Ct!==null)if(Array.isArray(At))for(let Ot=0,zt=Dt.length;Ot<zt;Ot++){const Gt=Dt[Ot],Bt=At[Gt.materialIndex],Ut=Math.max(Gt.start,$t.start),Vt=Math.min(Ct.count,Math.min(Gt.start+Gt.count,$t.start+$t.count));for(let Ht=Ut,Xt=Vt;Ht<Xt;Ht+=3){const qt=Ct.getX(Ht),Kt=Ct.getX(Ht+1),en=Ct.getX(Ht+2);St=checkGeometryIntersection(this,Bt,ht,_t,It,Lt,kt,qt,Kt,en),St&&(St.faceIndex=Math.floor(Ht/3),St.face.materialIndex=Gt.materialIndex,xt.push(St))}}else{const Ot=Math.max(0,$t.start),zt=Math.min(Ct.count,$t.start+$t.count);for(let Gt=Ot,Bt=zt;Gt<Bt;Gt+=3){const Ut=Ct.getX(Gt),Vt=Ct.getX(Gt+1),Ht=Ct.getX(Gt+2);St=checkGeometryIntersection(this,At,ht,_t,It,Lt,kt,Ut,Vt,Ht),St&&(St.faceIndex=Math.floor(Gt/3),xt.push(St))}}else if(Rt!==void 0)if(Array.isArray(At))for(let Ot=0,zt=Dt.length;Ot<zt;Ot++){const Gt=Dt[Ot],Bt=At[Gt.materialIndex],Ut=Math.max(Gt.start,$t.start),Vt=Math.min(Rt.count,Math.min(Gt.start+Gt.count,$t.start+$t.count));for(let Ht=Ut,Xt=Vt;Ht<Xt;Ht+=3){const qt=Ht,Kt=Ht+1,en=Ht+2;St=checkGeometryIntersection(this,Bt,ht,_t,It,Lt,kt,qt,Kt,en),St&&(St.faceIndex=Math.floor(Ht/3),St.face.materialIndex=Gt.materialIndex,xt.push(St))}}else{const Ot=Math.max(0,$t.start),zt=Math.min(Rt.count,$t.start+$t.count);for(let Gt=Ot,Bt=zt;Gt<Bt;Gt+=3){const Ut=Gt,Vt=Gt+1,Ht=Gt+2;St=checkGeometryIntersection(this,At,ht,_t,It,Lt,kt,Ut,Vt,Ht),St&&(St.faceIndex=Math.floor(Gt/3),xt.push(St))}}}}function checkIntersection$1(vt,ht,xt,_t,St,wt,At,Ct){let Rt;if(ht.side===BackSide?Rt=_t.intersectTriangle(At,wt,St,!0,Ct):Rt=_t.intersectTriangle(St,wt,At,ht.side===FrontSide,Ct),Rt===null)return null;_intersectionPointWorld.copy(Ct),_intersectionPointWorld.applyMatrix4(vt.matrixWorld);const It=xt.ray.origin.distanceTo(_intersectionPointWorld);return It<xt.near||It>xt.far?null:{distance:It,point:_intersectionPointWorld.clone(),object:vt}}function checkGeometryIntersection(vt,ht,xt,_t,St,wt,At,Ct,Rt,It){vt.getVertexPosition(Ct,_vA$1),vt.getVertexPosition(Rt,_vB$1),vt.getVertexPosition(It,_vC$1);const Lt=checkIntersection$1(vt,ht,xt,_t,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(Lt){St&&(_uvA$1.fromBufferAttribute(St,Ct),_uvB$1.fromBufferAttribute(St,Rt),_uvC$1.fromBufferAttribute(St,It),Lt.uv=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),wt&&(_uvA$1.fromBufferAttribute(wt,Ct),_uvB$1.fromBufferAttribute(wt,Rt),_uvC$1.fromBufferAttribute(wt,It),Lt.uv1=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),At&&(_normalA.fromBufferAttribute(At,Ct),_normalB.fromBufferAttribute(At,Rt),_normalC.fromBufferAttribute(At,It),Lt.normal=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_normalA,_normalB,_normalC,new Vector3),Lt.normal.dot(_t.direction)>0&&Lt.normal.multiplyScalar(-1));const kt={a:Ct,b:Rt,c:It,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,kt.normal),Lt.face=kt}return Lt}class BoxGeometry extends BufferGeometry{constructor(ht=1,xt=1,_t=1,St=1,wt=1,At=1){super(),this.type="BoxGeometry",this.parameters={width:ht,height:xt,depth:_t,widthSegments:St,heightSegments:wt,depthSegments:At};const Ct=this;St=Math.floor(St),wt=Math.floor(wt),At=Math.floor(At);const Rt=[],It=[],Lt=[],kt=[];let Dt=0,$t=0;Ot("z","y","x",-1,-1,_t,xt,ht,At,wt,0),Ot("z","y","x",1,-1,_t,xt,-ht,At,wt,1),Ot("x","z","y",1,1,ht,_t,xt,St,At,2),Ot("x","z","y",1,-1,ht,_t,-xt,St,At,3),Ot("x","y","z",1,-1,ht,xt,_t,St,wt,4),Ot("x","y","z",-1,-1,ht,xt,-_t,St,wt,5),this.setIndex(Rt),this.setAttribute("position",new Float32BufferAttribute(It,3)),this.setAttribute("normal",new Float32BufferAttribute(Lt,3)),this.setAttribute("uv",new Float32BufferAttribute(kt,2));function Ot(zt,Gt,Bt,Ut,Vt,Ht,Xt,qt,Kt,en,tn){const Qt=Ht/Kt,sn=Xt/en,un=Ht/2,dn=Xt/2,vn=qt/2,pn=Kt+1,rn=en+1;let an=0,Yt=0;const Jt=new Vector3;for(let on=0;on<rn;on++){const ln=on*sn-dn;for(let _n=0;_n<pn;_n++){const wn=_n*Qt-un;Jt[zt]=wn*Ut,Jt[Gt]=ln*Vt,Jt[Bt]=vn,It.push(Jt.x,Jt.y,Jt.z),Jt[zt]=0,Jt[Gt]=0,Jt[Bt]=qt>0?1:-1,Lt.push(Jt.x,Jt.y,Jt.z),kt.push(_n/Kt),kt.push(1-on/en),an+=1}}for(let on=0;on<en;on++)for(let ln=0;ln<Kt;ln++){const _n=Dt+ln+pn*on,wn=Dt+ln+pn*(on+1),xn=Dt+(ln+1)+pn*(on+1),Pn=Dt+(ln+1)+pn*on;Rt.push(_n,wn,Pn),Rt.push(wn,xn,Pn),Yt+=6}Ct.addGroup($t,Yt,tn),$t+=Yt,Dt+=an}}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}static fromJSON(ht){return new BoxGeometry(ht.width,ht.height,ht.depth,ht.widthSegments,ht.heightSegments,ht.depthSegments)}}function cloneUniforms(vt){const ht={};for(const xt in vt){ht[xt]={};for(const _t in vt[xt]){const St=vt[xt][_t];St&&(St.isColor||St.isMatrix3||St.isMatrix4||St.isVector2||St.isVector3||St.isVector4||St.isTexture||St.isQuaternion)?St.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),ht[xt][_t]=null):ht[xt][_t]=St.clone():Array.isArray(St)?ht[xt][_t]=St.slice():ht[xt][_t]=St}}return ht}function mergeUniforms(vt){const ht={};for(let xt=0;xt<vt.length;xt++){const _t=cloneUniforms(vt[xt]);for(const St in _t)ht[St]=_t[St]}return ht}function cloneUniformsGroups(vt){const ht=[];for(let xt=0;xt<vt.length;xt++)ht.push(vt[xt].clone());return ht}function getUnlitUniformColorSpace(vt){const ht=vt.getRenderTarget();return ht===null?vt.outputColorSpace:ht.isXRRenderTarget===!0?ht.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(ht){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,ht!==void 0&&this.setValues(ht)}copy(ht){return super.copy(ht),this.fragmentShader=ht.fragmentShader,this.vertexShader=ht.vertexShader,this.uniforms=cloneUniforms(ht.uniforms),this.uniformsGroups=cloneUniformsGroups(ht.uniformsGroups),this.defines=Object.assign({},ht.defines),this.wireframe=ht.wireframe,this.wireframeLinewidth=ht.wireframeLinewidth,this.fog=ht.fog,this.lights=ht.lights,this.clipping=ht.clipping,this.extensions=Object.assign({},ht.extensions),this.glslVersion=ht.glslVersion,this}toJSON(ht){const xt=super.toJSON(ht);xt.glslVersion=this.glslVersion,xt.uniforms={};for(const St in this.uniforms){const At=this.uniforms[St].value;At&&At.isTexture?xt.uniforms[St]={type:"t",value:At.toJSON(ht).uuid}:At&&At.isColor?xt.uniforms[St]={type:"c",value:At.getHex()}:At&&At.isVector2?xt.uniforms[St]={type:"v2",value:At.toArray()}:At&&At.isVector3?xt.uniforms[St]={type:"v3",value:At.toArray()}:At&&At.isVector4?xt.uniforms[St]={type:"v4",value:At.toArray()}:At&&At.isMatrix3?xt.uniforms[St]={type:"m3",value:At.toArray()}:At&&At.isMatrix4?xt.uniforms[St]={type:"m4",value:At.toArray()}:xt.uniforms[St]={value:At}}Object.keys(this.defines).length>0&&(xt.defines=this.defines),xt.vertexShader=this.vertexShader,xt.fragmentShader=this.fragmentShader,xt.lights=this.lights,xt.clipping=this.clipping;const _t={};for(const St in this.extensions)this.extensions[St]===!0&&(_t[St]=!0);return Object.keys(_t).length>0&&(xt.extensions=_t),xt}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(ht,xt){return super.copy(ht,xt),this.matrixWorldInverse.copy(ht.matrixWorldInverse),this.projectionMatrix.copy(ht.projectionMatrix),this.projectionMatrixInverse.copy(ht.projectionMatrixInverse),this.coordinateSystem=ht.coordinateSystem,this}getWorldDirection(ht){return super.getWorldDirection(ht).negate()}updateMatrixWorld(ht){super.updateMatrixWorld(ht),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(ht,xt){super.updateWorldMatrix(ht,xt),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor(ht=50,xt=1,_t=.1,St=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=ht,this.zoom=1,this.near=_t,this.far=St,this.focus=10,this.aspect=xt,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(ht,xt){return super.copy(ht,xt),this.fov=ht.fov,this.zoom=ht.zoom,this.near=ht.near,this.far=ht.far,this.focus=ht.focus,this.aspect=ht.aspect,this.view=ht.view===null?null:Object.assign({},ht.view),this.filmGauge=ht.filmGauge,this.filmOffset=ht.filmOffset,this}setFocalLength(ht){const xt=.5*this.getFilmHeight()/ht;this.fov=RAD2DEG*2*Math.atan(xt),this.updateProjectionMatrix()}getFocalLength(){const ht=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/ht}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(ht,xt,_t){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),xt.set(_v3$1.x,_v3$1.y).multiplyScalar(-ht/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),_t.set(_v3$1.x,_v3$1.y).multiplyScalar(-ht/_v3$1.z)}getViewSize(ht,xt){return this.getViewBounds(ht,_minTarget,_maxTarget),xt.subVectors(_maxTarget,_minTarget)}setViewOffset(ht,xt,_t,St,wt,At){this.aspect=ht/xt,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=ht,this.view.fullHeight=xt,this.view.offsetX=_t,this.view.offsetY=St,this.view.width=wt,this.view.height=At,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const ht=this.near;let xt=ht*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,_t=2*xt,St=this.aspect*_t,wt=-.5*St;const At=this.view;if(this.view!==null&&this.view.enabled){const Rt=At.fullWidth,It=At.fullHeight;wt+=At.offsetX*St/Rt,xt-=At.offsetY*_t/It,St*=At.width/Rt,_t*=At.height/It}const Ct=this.filmOffset;Ct!==0&&(wt+=ht*Ct/this.getFilmWidth()),this.projectionMatrix.makePerspective(wt,wt+St,xt,xt-_t,ht,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(ht){const xt=super.toJSON(ht);return xt.object.fov=this.fov,xt.object.zoom=this.zoom,xt.object.near=this.near,xt.object.far=this.far,xt.object.focus=this.focus,xt.object.aspect=this.aspect,this.view!==null&&(xt.object.view=Object.assign({},this.view)),xt.object.filmGauge=this.filmGauge,xt.object.filmOffset=this.filmOffset,xt}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(ht,xt,_t){super(),this.type="CubeCamera",this.renderTarget=_t,this.coordinateSystem=null,this.activeMipmapLevel=0;const St=new PerspectiveCamera(fov,aspect,ht,xt);St.layers=this.layers,this.add(St);const wt=new PerspectiveCamera(fov,aspect,ht,xt);wt.layers=this.layers,this.add(wt);const At=new PerspectiveCamera(fov,aspect,ht,xt);At.layers=this.layers,this.add(At);const Ct=new PerspectiveCamera(fov,aspect,ht,xt);Ct.layers=this.layers,this.add(Ct);const Rt=new PerspectiveCamera(fov,aspect,ht,xt);Rt.layers=this.layers,this.add(Rt);const It=new PerspectiveCamera(fov,aspect,ht,xt);It.layers=this.layers,this.add(It)}updateCoordinateSystem(){const ht=this.coordinateSystem,xt=this.children.concat(),[_t,St,wt,At,Ct,Rt]=xt;for(const It of xt)this.remove(It);if(ht===WebGLCoordinateSystem)_t.up.set(0,1,0),_t.lookAt(1,0,0),St.up.set(0,1,0),St.lookAt(-1,0,0),wt.up.set(0,0,-1),wt.lookAt(0,1,0),At.up.set(0,0,1),At.lookAt(0,-1,0),Ct.up.set(0,1,0),Ct.lookAt(0,0,1),Rt.up.set(0,1,0),Rt.lookAt(0,0,-1);else if(ht===WebGPUCoordinateSystem)_t.up.set(0,-1,0),_t.lookAt(-1,0,0),St.up.set(0,-1,0),St.lookAt(1,0,0),wt.up.set(0,0,1),wt.lookAt(0,1,0),At.up.set(0,0,-1),At.lookAt(0,-1,0),Ct.up.set(0,-1,0),Ct.lookAt(0,0,1),Rt.up.set(0,-1,0),Rt.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+ht);for(const It of xt)this.add(It),It.updateMatrixWorld()}update(ht,xt){this.parent===null&&this.updateMatrixWorld();const{renderTarget:_t,activeMipmapLevel:St}=this;this.coordinateSystem!==ht.coordinateSystem&&(this.coordinateSystem=ht.coordinateSystem,this.updateCoordinateSystem());const[wt,At,Ct,Rt,It,Lt]=this.children,kt=ht.getRenderTarget(),Dt=ht.getActiveCubeFace(),$t=ht.getActiveMipmapLevel(),Ot=ht.xr.enabled;ht.xr.enabled=!1;const zt=_t.texture.generateMipmaps;_t.texture.generateMipmaps=!1,ht.setRenderTarget(_t,0,St),ht.render(xt,wt),ht.setRenderTarget(_t,1,St),ht.render(xt,At),ht.setRenderTarget(_t,2,St),ht.render(xt,Ct),ht.setRenderTarget(_t,3,St),ht.render(xt,Rt),ht.setRenderTarget(_t,4,St),ht.render(xt,It),_t.texture.generateMipmaps=zt,ht.setRenderTarget(_t,5,St),ht.render(xt,Lt),ht.setRenderTarget(kt,Dt,$t),ht.xr.enabled=Ot,_t.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(ht,xt,_t,St,wt,At,Ct,Rt,It,Lt){ht=ht!==void 0?ht:[],xt=xt!==void 0?xt:CubeReflectionMapping,super(ht,xt,_t,St,wt,At,Ct,Rt,It,Lt),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(ht){this.image=ht}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(ht=1,xt={}){super(ht,ht,xt),this.isWebGLCubeRenderTarget=!0;const _t={width:ht,height:ht,depth:1},St=[_t,_t,_t,_t,_t,_t];this.texture=new CubeTexture(St,xt.mapping,xt.wrapS,xt.wrapT,xt.magFilter,xt.minFilter,xt.format,xt.type,xt.anisotropy,xt.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=xt.generateMipmaps!==void 0?xt.generateMipmaps:!1,this.texture.minFilter=xt.minFilter!==void 0?xt.minFilter:LinearFilter}fromEquirectangularTexture(ht,xt){this.texture.type=xt.type,this.texture.colorSpace=xt.colorSpace,this.texture.generateMipmaps=xt.generateMipmaps,this.texture.minFilter=xt.minFilter,this.texture.magFilter=xt.magFilter;const _t={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},St=new BoxGeometry(5,5,5),wt=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(_t.uniforms),vertexShader:_t.vertexShader,fragmentShader:_t.fragmentShader,side:BackSide,blending:NoBlending});wt.uniforms.tEquirect.value=xt;const At=new Mesh(St,wt),Ct=xt.minFilter;return xt.minFilter===LinearMipmapLinearFilter&&(xt.minFilter=LinearFilter),new CubeCamera(1,10,this).update(ht,At),xt.minFilter=Ct,At.geometry.dispose(),At.material.dispose(),this}clear(ht,xt,_t,St){const wt=ht.getRenderTarget();for(let At=0;At<6;At++)ht.setRenderTarget(this,At),ht.clear(xt,_t,St);ht.setRenderTarget(wt)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(ht=new Vector3(1,0,0),xt=0){this.isPlane=!0,this.normal=ht,this.constant=xt}set(ht,xt){return this.normal.copy(ht),this.constant=xt,this}setComponents(ht,xt,_t,St){return this.normal.set(ht,xt,_t),this.constant=St,this}setFromNormalAndCoplanarPoint(ht,xt){return this.normal.copy(ht),this.constant=-xt.dot(this.normal),this}setFromCoplanarPoints(ht,xt,_t){const St=_vector1.subVectors(_t,xt).cross(_vector2.subVectors(ht,xt)).normalize();return this.setFromNormalAndCoplanarPoint(St,ht),this}copy(ht){return this.normal.copy(ht.normal),this.constant=ht.constant,this}normalize(){const ht=1/this.normal.length();return this.normal.multiplyScalar(ht),this.constant*=ht,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(ht){return this.normal.dot(ht)+this.constant}distanceToSphere(ht){return this.distanceToPoint(ht.center)-ht.radius}projectPoint(ht,xt){return xt.copy(ht).addScaledVector(this.normal,-this.distanceToPoint(ht))}intersectLine(ht,xt){const _t=ht.delta(_vector1),St=this.normal.dot(_t);if(St===0)return this.distanceToPoint(ht.start)===0?xt.copy(ht.start):null;const wt=-(ht.start.dot(this.normal)+this.constant)/St;return wt<0||wt>1?null:xt.copy(ht.start).addScaledVector(_t,wt)}intersectsLine(ht){const xt=this.distanceToPoint(ht.start),_t=this.distanceToPoint(ht.end);return xt<0&&_t>0||_t<0&&xt>0}intersectsBox(ht){return ht.intersectsPlane(this)}intersectsSphere(ht){return ht.intersectsPlane(this)}coplanarPoint(ht){return ht.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(ht,xt){const _t=xt||_normalMatrix.getNormalMatrix(ht),St=this.coplanarPoint(_vector1).applyMatrix4(ht),wt=this.normal.applyMatrix3(_t).normalize();return this.constant=-St.dot(wt),this}translate(ht){return this.constant-=ht.dot(this.normal),this}equals(ht){return ht.normal.equals(this.normal)&&ht.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$5=new Sphere$1,_vector$7=new Vector3;class Frustum{constructor(ht=new Plane,xt=new Plane,_t=new Plane,St=new Plane,wt=new Plane,At=new Plane){this.planes=[ht,xt,_t,St,wt,At]}set(ht,xt,_t,St,wt,At){const Ct=this.planes;return Ct[0].copy(ht),Ct[1].copy(xt),Ct[2].copy(_t),Ct[3].copy(St),Ct[4].copy(wt),Ct[5].copy(At),this}copy(ht){const xt=this.planes;for(let _t=0;_t<6;_t++)xt[_t].copy(ht.planes[_t]);return this}setFromProjectionMatrix(ht,xt=WebGLCoordinateSystem){const _t=this.planes,St=ht.elements,wt=St[0],At=St[1],Ct=St[2],Rt=St[3],It=St[4],Lt=St[5],kt=St[6],Dt=St[7],$t=St[8],Ot=St[9],zt=St[10],Gt=St[11],Bt=St[12],Ut=St[13],Vt=St[14],Ht=St[15];if(_t[0].setComponents(Rt-wt,Dt-It,Gt-$t,Ht-Bt).normalize(),_t[1].setComponents(Rt+wt,Dt+It,Gt+$t,Ht+Bt).normalize(),_t[2].setComponents(Rt+At,Dt+Lt,Gt+Ot,Ht+Ut).normalize(),_t[3].setComponents(Rt-At,Dt-Lt,Gt-Ot,Ht-Ut).normalize(),_t[4].setComponents(Rt-Ct,Dt-kt,Gt-zt,Ht-Vt).normalize(),xt===WebGLCoordinateSystem)_t[5].setComponents(Rt+Ct,Dt+kt,Gt+zt,Ht+Vt).normalize();else if(xt===WebGPUCoordinateSystem)_t[5].setComponents(Ct,kt,zt,Vt).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+xt);return this}intersectsObject(ht){if(ht.boundingSphere!==void 0)ht.boundingSphere===null&&ht.computeBoundingSphere(),_sphere$5.copy(ht.boundingSphere).applyMatrix4(ht.matrixWorld);else{const xt=ht.geometry;xt.boundingSphere===null&&xt.computeBoundingSphere(),_sphere$5.copy(xt.boundingSphere).applyMatrix4(ht.matrixWorld)}return this.intersectsSphere(_sphere$5)}intersectsSprite(ht){return _sphere$5.center.set(0,0,0),_sphere$5.radius=.7071067811865476,_sphere$5.applyMatrix4(ht.matrixWorld),this.intersectsSphere(_sphere$5)}intersectsSphere(ht){const xt=this.planes,_t=ht.center,St=-ht.radius;for(let wt=0;wt<6;wt++)if(xt[wt].distanceToPoint(_t)<St)return!1;return!0}intersectsBox(ht){const xt=this.planes;for(let _t=0;_t<6;_t++){const St=xt[_t];if(_vector$7.x=St.normal.x>0?ht.max.x:ht.min.x,_vector$7.y=St.normal.y>0?ht.max.y:ht.min.y,_vector$7.z=St.normal.z>0?ht.max.z:ht.min.z,St.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(ht){const xt=this.planes;for(let _t=0;_t<6;_t++)if(xt[_t].distanceToPoint(ht)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let vt=null,ht=!1,xt=null,_t=null;function St(wt,At){xt(wt,At),_t=vt.requestAnimationFrame(St)}return{start:function(){ht!==!0&&xt!==null&&(_t=vt.requestAnimationFrame(St),ht=!0)},stop:function(){vt.cancelAnimationFrame(_t),ht=!1},setAnimationLoop:function(wt){xt=wt},setContext:function(wt){vt=wt}}}function WebGLAttributes(vt){const ht=new WeakMap;function xt(Ct,Rt){const It=Ct.array,Lt=Ct.usage,kt=It.byteLength,Dt=vt.createBuffer();vt.bindBuffer(Rt,Dt),vt.bufferData(Rt,It,Lt),Ct.onUploadCallback();let $t;if(It instanceof Float32Array)$t=vt.FLOAT;else if(It instanceof Uint16Array)Ct.isFloat16BufferAttribute?$t=vt.HALF_FLOAT:$t=vt.UNSIGNED_SHORT;else if(It instanceof Int16Array)$t=vt.SHORT;else if(It instanceof Uint32Array)$t=vt.UNSIGNED_INT;else if(It instanceof Int32Array)$t=vt.INT;else if(It instanceof Int8Array)$t=vt.BYTE;else if(It instanceof Uint8Array)$t=vt.UNSIGNED_BYTE;else if(It instanceof Uint8ClampedArray)$t=vt.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+It);return{buffer:Dt,type:$t,bytesPerElement:It.BYTES_PER_ELEMENT,version:Ct.version,size:kt}}function _t(Ct,Rt,It){const Lt=Rt.array,kt=Rt._updateRange,Dt=Rt.updateRanges;if(vt.bindBuffer(It,Ct),kt.count===-1&&Dt.length===0&&vt.bufferSubData(It,0,Lt),Dt.length!==0){for(let $t=0,Ot=Dt.length;$t<Ot;$t++){const zt=Dt[$t];vt.bufferSubData(It,zt.start*Lt.BYTES_PER_ELEMENT,Lt,zt.start,zt.count)}Rt.clearUpdateRanges()}kt.count!==-1&&(vt.bufferSubData(It,kt.offset*Lt.BYTES_PER_ELEMENT,Lt,kt.offset,kt.count),kt.count=-1),Rt.onUploadCallback()}function St(Ct){return Ct.isInterleavedBufferAttribute&&(Ct=Ct.data),ht.get(Ct)}function wt(Ct){Ct.isInterleavedBufferAttribute&&(Ct=Ct.data);const Rt=ht.get(Ct);Rt&&(vt.deleteBuffer(Rt.buffer),ht.delete(Ct))}function At(Ct,Rt){if(Ct.isInterleavedBufferAttribute&&(Ct=Ct.data),Ct.isGLBufferAttribute){const Lt=ht.get(Ct);(!Lt||Lt.version<Ct.version)&&ht.set(Ct,{buffer:Ct.buffer,type:Ct.type,bytesPerElement:Ct.elementSize,version:Ct.version});return}const It=ht.get(Ct);if(It===void 0)ht.set(Ct,xt(Ct,Rt));else if(It.version<Ct.version){if(It.size!==Ct.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");_t(It.buffer,Ct,Rt),It.version=Ct.version}}return{get:St,remove:wt,update:At}}class PlaneGeometry extends BufferGeometry{constructor(ht=1,xt=1,_t=1,St=1){super(),this.type="PlaneGeometry",this.parameters={width:ht,height:xt,widthSegments:_t,heightSegments:St};const wt=ht/2,At=xt/2,Ct=Math.floor(_t),Rt=Math.floor(St),It=Ct+1,Lt=Rt+1,kt=ht/Ct,Dt=xt/Rt,$t=[],Ot=[],zt=[],Gt=[];for(let Bt=0;Bt<Lt;Bt++){const Ut=Bt*Dt-At;for(let Vt=0;Vt<It;Vt++){const Ht=Vt*kt-wt;Ot.push(Ht,-Ut,0),zt.push(0,0,1),Gt.push(Vt/Ct),Gt.push(1-Bt/Rt)}}for(let Bt=0;Bt<Rt;Bt++)for(let Ut=0;Ut<Ct;Ut++){const Vt=Ut+It*Bt,Ht=Ut+It*(Bt+1),Xt=Ut+1+It*(Bt+1),qt=Ut+1+It*Bt;$t.push(Vt,Ht,qt),$t.push(Ht,Xt,qt)}this.setIndex($t),this.setAttribute("position",new Float32BufferAttribute(Ot,3)),this.setAttribute("normal",new Float32BufferAttribute(zt,3)),this.setAttribute("uv",new Float32BufferAttribute(Gt,2))}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}static fromJSON(ht){return new PlaneGeometry(ht.width,ht.height,ht.widthSegments,ht.heightSegments)}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(vt,ht,xt,_t,St,wt,At){const Ct=new Color(0);let Rt=wt===!0?0:1,It,Lt,kt=null,Dt=0,$t=null;function Ot(Ut){let Vt=Ut.isScene===!0?Ut.background:null;return Vt&&Vt.isTexture&&(Vt=(Ut.backgroundBlurriness>0?xt:ht).get(Vt)),Vt}function zt(Ut){let Vt=!1;const Ht=Ot(Ut);Ht===null?Bt(Ct,Rt):Ht&&Ht.isColor&&(Bt(Ht,1),Vt=!0);const Xt=vt.xr.getEnvironmentBlendMode();Xt==="additive"?_t.buffers.color.setClear(0,0,0,1,At):Xt==="alpha-blend"&&_t.buffers.color.setClear(0,0,0,0,At),(vt.autoClear||Vt)&&(_t.buffers.depth.setTest(!0),_t.buffers.depth.setMask(!0),_t.buffers.color.setMask(!0),vt.clear(vt.autoClearColor,vt.autoClearDepth,vt.autoClearStencil))}function Gt(Ut,Vt){const Ht=Ot(Vt);Ht&&(Ht.isCubeTexture||Ht.mapping===CubeUVReflectionMapping)?(Lt===void 0&&(Lt=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),Lt.geometry.deleteAttribute("normal"),Lt.geometry.deleteAttribute("uv"),Lt.onBeforeRender=function(Xt,qt,Kt){this.matrixWorld.copyPosition(Kt.matrixWorld)},Object.defineProperty(Lt.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),St.update(Lt)),_e1$1.copy(Vt.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,Ht.isCubeTexture&&Ht.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),Lt.material.uniforms.envMap.value=Ht,Lt.material.uniforms.flipEnvMap.value=Ht.isCubeTexture&&Ht.isRenderTargetTexture===!1?-1:1,Lt.material.uniforms.backgroundBlurriness.value=Vt.backgroundBlurriness,Lt.material.uniforms.backgroundIntensity.value=Vt.backgroundIntensity,Lt.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),Lt.material.toneMapped=ColorManagement.getTransfer(Ht.colorSpace)!==SRGBTransfer,(kt!==Ht||Dt!==Ht.version||$t!==vt.toneMapping)&&(Lt.material.needsUpdate=!0,kt=Ht,Dt=Ht.version,$t=vt.toneMapping),Lt.layers.enableAll(),Ut.unshift(Lt,Lt.geometry,Lt.material,0,0,null)):Ht&&Ht.isTexture&&(It===void 0&&(It=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),It.geometry.deleteAttribute("normal"),Object.defineProperty(It.material,"map",{get:function(){return this.uniforms.t2D.value}}),St.update(It)),It.material.uniforms.t2D.value=Ht,It.material.uniforms.backgroundIntensity.value=Vt.backgroundIntensity,It.material.toneMapped=ColorManagement.getTransfer(Ht.colorSpace)!==SRGBTransfer,Ht.matrixAutoUpdate===!0&&Ht.updateMatrix(),It.material.uniforms.uvTransform.value.copy(Ht.matrix),(kt!==Ht||Dt!==Ht.version||$t!==vt.toneMapping)&&(It.material.needsUpdate=!0,kt=Ht,Dt=Ht.version,$t=vt.toneMapping),It.layers.enableAll(),Ut.unshift(It,It.geometry,It.material,0,0,null))}function Bt(Ut,Vt){Ut.getRGB(_rgb,getUnlitUniformColorSpace(vt)),_t.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Vt,At)}return{getClearColor:function(){return Ct},setClearColor:function(Ut,Vt=1){Ct.set(Ut),Rt=Vt,Bt(Ct,Rt)},getClearAlpha:function(){return Rt},setClearAlpha:function(Ut){Rt=Ut,Bt(Ct,Rt)},render:zt,addToRenderList:Gt}}function WebGLBindingStates(vt,ht){const xt=vt.getParameter(vt.MAX_VERTEX_ATTRIBS),_t={},St=Dt(null);let wt=St,At=!1;function Ct(Qt,sn,un,dn,vn){let pn=!1;const rn=kt(dn,un,sn);wt!==rn&&(wt=rn,It(wt.object)),pn=$t(Qt,dn,un,vn),pn&&Ot(Qt,dn,un,vn),vn!==null&&ht.update(vn,vt.ELEMENT_ARRAY_BUFFER),(pn||At)&&(At=!1,Ht(Qt,sn,un,dn),vn!==null&&vt.bindBuffer(vt.ELEMENT_ARRAY_BUFFER,ht.get(vn).buffer))}function Rt(){return vt.createVertexArray()}function It(Qt){return vt.bindVertexArray(Qt)}function Lt(Qt){return vt.deleteVertexArray(Qt)}function kt(Qt,sn,un){const dn=un.wireframe===!0;let vn=_t[Qt.id];vn===void 0&&(vn={},_t[Qt.id]=vn);let pn=vn[sn.id];pn===void 0&&(pn={},vn[sn.id]=pn);let rn=pn[dn];return rn===void 0&&(rn=Dt(Rt()),pn[dn]=rn),rn}function Dt(Qt){const sn=[],un=[],dn=[];for(let vn=0;vn<xt;vn++)sn[vn]=0,un[vn]=0,dn[vn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:sn,enabledAttributes:un,attributeDivisors:dn,object:Qt,attributes:{},index:null}}function $t(Qt,sn,un,dn){const vn=wt.attributes,pn=sn.attributes;let rn=0;const an=un.getAttributes();for(const Yt in an)if(an[Yt].location>=0){const on=vn[Yt];let ln=pn[Yt];if(ln===void 0&&(Yt==="instanceMatrix"&&Qt.instanceMatrix&&(ln=Qt.instanceMatrix),Yt==="instanceColor"&&Qt.instanceColor&&(ln=Qt.instanceColor)),on===void 0||on.attribute!==ln||ln&&on.data!==ln.data)return!0;rn++}return wt.attributesNum!==rn||wt.index!==dn}function Ot(Qt,sn,un,dn){const vn={},pn=sn.attributes;let rn=0;const an=un.getAttributes();for(const Yt in an)if(an[Yt].location>=0){let on=pn[Yt];on===void 0&&(Yt==="instanceMatrix"&&Qt.instanceMatrix&&(on=Qt.instanceMatrix),Yt==="instanceColor"&&Qt.instanceColor&&(on=Qt.instanceColor));const ln={};ln.attribute=on,on&&on.data&&(ln.data=on.data),vn[Yt]=ln,rn++}wt.attributes=vn,wt.attributesNum=rn,wt.index=dn}function zt(){const Qt=wt.newAttributes;for(let sn=0,un=Qt.length;sn<un;sn++)Qt[sn]=0}function Gt(Qt){Bt(Qt,0)}function Bt(Qt,sn){const un=wt.newAttributes,dn=wt.enabledAttributes,vn=wt.attributeDivisors;un[Qt]=1,dn[Qt]===0&&(vt.enableVertexAttribArray(Qt),dn[Qt]=1),vn[Qt]!==sn&&(vt.vertexAttribDivisor(Qt,sn),vn[Qt]=sn)}function Ut(){const Qt=wt.newAttributes,sn=wt.enabledAttributes;for(let un=0,dn=sn.length;un<dn;un++)sn[un]!==Qt[un]&&(vt.disableVertexAttribArray(un),sn[un]=0)}function Vt(Qt,sn,un,dn,vn,pn,rn){rn===!0?vt.vertexAttribIPointer(Qt,sn,un,vn,pn):vt.vertexAttribPointer(Qt,sn,un,dn,vn,pn)}function Ht(Qt,sn,un,dn){zt();const vn=dn.attributes,pn=un.getAttributes(),rn=sn.defaultAttributeValues;for(const an in pn){const Yt=pn[an];if(Yt.location>=0){let Jt=vn[an];if(Jt===void 0&&(an==="instanceMatrix"&&Qt.instanceMatrix&&(Jt=Qt.instanceMatrix),an==="instanceColor"&&Qt.instanceColor&&(Jt=Qt.instanceColor)),Jt!==void 0){const on=Jt.normalized,ln=Jt.itemSize,_n=ht.get(Jt);if(_n===void 0)continue;const wn=_n.buffer,xn=_n.type,Pn=_n.bytesPerElement,Bn=xn===vt.INT||xn===vt.UNSIGNED_INT||Jt.gpuType===IntType;if(Jt.isInterleavedBufferAttribute){const Hn=Jt.data,or=Hn.stride,mr=Jt.offset;if(Hn.isInstancedInterleavedBuffer){for(let lr=0;lr<Yt.locationSize;lr++)Bt(Yt.location+lr,Hn.meshPerAttribute);Qt.isInstancedMesh!==!0&&dn._maxInstanceCount===void 0&&(dn._maxInstanceCount=Hn.meshPerAttribute*Hn.count)}else for(let lr=0;lr<Yt.locationSize;lr++)Gt(Yt.location+lr);vt.bindBuffer(vt.ARRAY_BUFFER,wn);for(let lr=0;lr<Yt.locationSize;lr++)Vt(Yt.location+lr,ln/Yt.locationSize,xn,on,or*Pn,(mr+ln/Yt.locationSize*lr)*Pn,Bn)}else{if(Jt.isInstancedBufferAttribute){for(let Hn=0;Hn<Yt.locationSize;Hn++)Bt(Yt.location+Hn,Jt.meshPerAttribute);Qt.isInstancedMesh!==!0&&dn._maxInstanceCount===void 0&&(dn._maxInstanceCount=Jt.meshPerAttribute*Jt.count)}else for(let Hn=0;Hn<Yt.locationSize;Hn++)Gt(Yt.location+Hn);vt.bindBuffer(vt.ARRAY_BUFFER,wn);for(let Hn=0;Hn<Yt.locationSize;Hn++)Vt(Yt.location+Hn,ln/Yt.locationSize,xn,on,ln*Pn,ln/Yt.locationSize*Hn*Pn,Bn)}}else if(rn!==void 0){const on=rn[an];if(on!==void 0)switch(on.length){case 2:vt.vertexAttrib2fv(Yt.location,on);break;case 3:vt.vertexAttrib3fv(Yt.location,on);break;case 4:vt.vertexAttrib4fv(Yt.location,on);break;default:vt.vertexAttrib1fv(Yt.location,on)}}}}Ut()}function Xt(){en();for(const Qt in _t){const sn=_t[Qt];for(const un in sn){const dn=sn[un];for(const vn in dn)Lt(dn[vn].object),delete dn[vn];delete sn[un]}delete _t[Qt]}}function qt(Qt){if(_t[Qt.id]===void 0)return;const sn=_t[Qt.id];for(const un in sn){const dn=sn[un];for(const vn in dn)Lt(dn[vn].object),delete dn[vn];delete sn[un]}delete _t[Qt.id]}function Kt(Qt){for(const sn in _t){const un=_t[sn];if(un[Qt.id]===void 0)continue;const dn=un[Qt.id];for(const vn in dn)Lt(dn[vn].object),delete dn[vn];delete un[Qt.id]}}function en(){tn(),At=!0,wt!==St&&(wt=St,It(wt.object))}function tn(){St.geometry=null,St.program=null,St.wireframe=!1}return{setup:Ct,reset:en,resetDefaultState:tn,dispose:Xt,releaseStatesOfGeometry:qt,releaseStatesOfProgram:Kt,initAttributes:zt,enableAttribute:Gt,disableUnusedAttributes:Ut}}function WebGLBufferRenderer(vt,ht,xt){let _t;function St(It){_t=It}function wt(It,Lt){vt.drawArrays(_t,It,Lt),xt.update(Lt,_t,1)}function At(It,Lt,kt){kt!==0&&(vt.drawArraysInstanced(_t,It,Lt,kt),xt.update(Lt,_t,kt))}function Ct(It,Lt,kt){if(kt===0)return;ht.get("WEBGL_multi_draw").multiDrawArraysWEBGL(_t,It,0,Lt,0,kt);let $t=0;for(let Ot=0;Ot<kt;Ot++)$t+=Lt[Ot];xt.update($t,_t,1)}function Rt(It,Lt,kt,Dt){if(kt===0)return;const $t=ht.get("WEBGL_multi_draw");if($t===null)for(let Ot=0;Ot<It.length;Ot++)At(It[Ot],Lt[Ot],Dt[Ot]);else{$t.multiDrawArraysInstancedWEBGL(_t,It,0,Lt,0,Dt,0,kt);let Ot=0;for(let zt=0;zt<kt;zt++)Ot+=Lt[zt];for(let zt=0;zt<Dt.length;zt++)xt.update(Ot,_t,Dt[zt])}}this.setMode=St,this.render=wt,this.renderInstances=At,this.renderMultiDraw=Ct,this.renderMultiDrawInstances=Rt}function WebGLCapabilities(vt,ht,xt,_t){let St;function wt(){if(St!==void 0)return St;if(ht.has("EXT_texture_filter_anisotropic")===!0){const qt=ht.get("EXT_texture_filter_anisotropic");St=vt.getParameter(qt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else St=0;return St}function At(qt){return!(qt!==RGBAFormat&&_t.convert(qt)!==vt.getParameter(vt.IMPLEMENTATION_COLOR_READ_FORMAT))}function Ct(qt){const Kt=qt===HalfFloatType&&(ht.has("EXT_color_buffer_half_float")||ht.has("EXT_color_buffer_float"));return!(qt!==UnsignedByteType&&_t.convert(qt)!==vt.getParameter(vt.IMPLEMENTATION_COLOR_READ_TYPE)&&qt!==FloatType&&!Kt)}function Rt(qt){if(qt==="highp"){if(vt.getShaderPrecisionFormat(vt.VERTEX_SHADER,vt.HIGH_FLOAT).precision>0&&vt.getShaderPrecisionFormat(vt.FRAGMENT_SHADER,vt.HIGH_FLOAT).precision>0)return"highp";qt="mediump"}return qt==="mediump"&&vt.getShaderPrecisionFormat(vt.VERTEX_SHADER,vt.MEDIUM_FLOAT).precision>0&&vt.getShaderPrecisionFormat(vt.FRAGMENT_SHADER,vt.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let It=xt.precision!==void 0?xt.precision:"highp";const Lt=Rt(It);Lt!==It&&(console.warn("THREE.WebGLRenderer:",It,"not supported, using",Lt,"instead."),It=Lt);const kt=xt.logarithmicDepthBuffer===!0,Dt=vt.getParameter(vt.MAX_TEXTURE_IMAGE_UNITS),$t=vt.getParameter(vt.MAX_VERTEX_TEXTURE_IMAGE_UNITS),Ot=vt.getParameter(vt.MAX_TEXTURE_SIZE),zt=vt.getParameter(vt.MAX_CUBE_MAP_TEXTURE_SIZE),Gt=vt.getParameter(vt.MAX_VERTEX_ATTRIBS),Bt=vt.getParameter(vt.MAX_VERTEX_UNIFORM_VECTORS),Ut=vt.getParameter(vt.MAX_VARYING_VECTORS),Vt=vt.getParameter(vt.MAX_FRAGMENT_UNIFORM_VECTORS),Ht=$t>0,Xt=vt.getParameter(vt.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:wt,getMaxPrecision:Rt,textureFormatReadable:At,textureTypeReadable:Ct,precision:It,logarithmicDepthBuffer:kt,maxTextures:Dt,maxVertexTextures:$t,maxTextureSize:Ot,maxCubemapSize:zt,maxAttributes:Gt,maxVertexUniforms:Bt,maxVaryings:Ut,maxFragmentUniforms:Vt,vertexTextures:Ht,maxSamples:Xt}}function WebGLClipping(vt){const ht=this;let xt=null,_t=0,St=!1,wt=!1;const At=new Plane,Ct=new Matrix3,Rt={value:null,needsUpdate:!1};this.uniform=Rt,this.numPlanes=0,this.numIntersection=0,this.init=function(kt,Dt){const $t=kt.length!==0||Dt||_t!==0||St;return St=Dt,_t=kt.length,$t},this.beginShadows=function(){wt=!0,Lt(null)},this.endShadows=function(){wt=!1},this.setGlobalState=function(kt,Dt){xt=Lt(kt,Dt,0)},this.setState=function(kt,Dt,$t){const Ot=kt.clippingPlanes,zt=kt.clipIntersection,Gt=kt.clipShadows,Bt=vt.get(kt);if(!St||Ot===null||Ot.length===0||wt&&!Gt)wt?Lt(null):It();else{const Ut=wt?0:_t,Vt=Ut*4;let Ht=Bt.clippingState||null;Rt.value=Ht,Ht=Lt(Ot,Dt,Vt,$t);for(let Xt=0;Xt!==Vt;++Xt)Ht[Xt]=xt[Xt];Bt.clippingState=Ht,this.numIntersection=zt?this.numPlanes:0,this.numPlanes+=Ut}};function It(){Rt.value!==xt&&(Rt.value=xt,Rt.needsUpdate=_t>0),ht.numPlanes=_t,ht.numIntersection=0}function Lt(kt,Dt,$t,Ot){const zt=kt!==null?kt.length:0;let Gt=null;if(zt!==0){if(Gt=Rt.value,Ot!==!0||Gt===null){const Bt=$t+zt*4,Ut=Dt.matrixWorldInverse;Ct.getNormalMatrix(Ut),(Gt===null||Gt.length<Bt)&&(Gt=new Float32Array(Bt));for(let Vt=0,Ht=$t;Vt!==zt;++Vt,Ht+=4)At.copy(kt[Vt]).applyMatrix4(Ut,Ct),At.normal.toArray(Gt,Ht),Gt[Ht+3]=At.constant}Rt.value=Gt,Rt.needsUpdate=!0}return ht.numPlanes=zt,ht.numIntersection=0,Gt}}function WebGLCubeMaps(vt){let ht=new WeakMap;function xt(At,Ct){return Ct===EquirectangularReflectionMapping?At.mapping=CubeReflectionMapping:Ct===EquirectangularRefractionMapping&&(At.mapping=CubeRefractionMapping),At}function _t(At){if(At&&At.isTexture){const Ct=At.mapping;if(Ct===EquirectangularReflectionMapping||Ct===EquirectangularRefractionMapping)if(ht.has(At)){const Rt=ht.get(At).texture;return xt(Rt,At.mapping)}else{const Rt=At.image;if(Rt&&Rt.height>0){const It=new WebGLCubeRenderTarget(Rt.height);return It.fromEquirectangularTexture(vt,At),ht.set(At,It),At.addEventListener("dispose",St),xt(It.texture,At.mapping)}else return null}}return At}function St(At){const Ct=At.target;Ct.removeEventListener("dispose",St);const Rt=ht.get(Ct);Rt!==void 0&&(ht.delete(Ct),Rt.dispose())}function wt(){ht=new WeakMap}return{get:_t,dispose:wt}}class OrthographicCamera extends Camera{constructor(ht=-1,xt=1,_t=1,St=-1,wt=.1,At=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=ht,this.right=xt,this.top=_t,this.bottom=St,this.near=wt,this.far=At,this.updateProjectionMatrix()}copy(ht,xt){return super.copy(ht,xt),this.left=ht.left,this.right=ht.right,this.top=ht.top,this.bottom=ht.bottom,this.near=ht.near,this.far=ht.far,this.zoom=ht.zoom,this.view=ht.view===null?null:Object.assign({},ht.view),this}setViewOffset(ht,xt,_t,St,wt,At){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=ht,this.view.fullHeight=xt,this.view.offsetX=_t,this.view.offsetY=St,this.view.width=wt,this.view.height=At,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const ht=(this.right-this.left)/(2*this.zoom),xt=(this.top-this.bottom)/(2*this.zoom),_t=(this.right+this.left)/2,St=(this.top+this.bottom)/2;let wt=_t-ht,At=_t+ht,Ct=St+xt,Rt=St-xt;if(this.view!==null&&this.view.enabled){const It=(this.right-this.left)/this.view.fullWidth/this.zoom,Lt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;wt+=It*this.view.offsetX,At=wt+It*this.view.width,Ct-=Lt*this.view.offsetY,Rt=Ct-Lt*this.view.height}this.projectionMatrix.makeOrthographic(wt,At,Ct,Rt,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(ht){const xt=super.toJSON(ht);return xt.object.zoom=this.zoom,xt.object.left=this.left,xt.object.right=this.right,xt.object.top=this.top,xt.object.bottom=this.bottom,xt.object.near=this.near,xt.object.far=this.far,this.view!==null&&(xt.object.view=Object.assign({},this.view)),xt}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)];class PMREMGenerator{constructor(ht){this._renderer=ht,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(ht,xt=0,_t=.1,St=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const wt=this._allocateTargets();return wt.depthBuffer=!0,this._sceneToCubeUV(ht,_t,St,wt),xt>0&&this._blur(wt,0,0,xt),this._applyPMREM(wt),this._cleanup(wt),wt}fromEquirectangular(ht,xt=null){return this._fromTexture(ht,xt)}fromCubemap(ht,xt=null){return this._fromTexture(ht,xt)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(ht){this._lodMax=Math.floor(Math.log2(ht)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let ht=0;ht<this._lodPlanes.length;ht++)this._lodPlanes[ht].dispose()}_cleanup(ht){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,ht.scissorTest=!1,_setViewport(ht,0,0,ht.width,ht.height)}_fromTexture(ht,xt){ht.mapping===CubeReflectionMapping||ht.mapping===CubeRefractionMapping?this._setSize(ht.image.length===0?16:ht.image[0].width||ht.image[0].image.width):this._setSize(ht.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const _t=xt||this._allocateTargets();return this._textureToCubeUV(ht,_t),this._applyPMREM(_t),this._cleanup(_t),_t}_allocateTargets(){const ht=3*Math.max(this._cubeSize,112),xt=4*this._cubeSize,_t={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},St=_createRenderTarget(ht,xt,_t);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==ht||this._pingPongRenderTarget.height!==xt){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(ht,xt,_t);const{_lodMax:wt}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(wt)),this._blurMaterial=_getBlurShader(wt,ht,xt)}return St}_compileMaterial(ht){const xt=new Mesh(this._lodPlanes[0],ht);this._renderer.compile(xt,_flatCamera)}_sceneToCubeUV(ht,xt,_t,St){const Ct=new PerspectiveCamera(90,1,xt,_t),Rt=[1,-1,1,1,1,1],It=[1,1,1,-1,-1,-1],Lt=this._renderer,kt=Lt.autoClear,Dt=Lt.toneMapping;Lt.getClearColor(_clearColor),Lt.toneMapping=NoToneMapping,Lt.autoClear=!1;const $t=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),Ot=new Mesh(new BoxGeometry,$t);let zt=!1;const Gt=ht.background;Gt?Gt.isColor&&($t.color.copy(Gt),ht.background=null,zt=!0):($t.color.copy(_clearColor),zt=!0);for(let Bt=0;Bt<6;Bt++){const Ut=Bt%3;Ut===0?(Ct.up.set(0,Rt[Bt],0),Ct.lookAt(It[Bt],0,0)):Ut===1?(Ct.up.set(0,0,Rt[Bt]),Ct.lookAt(0,It[Bt],0)):(Ct.up.set(0,Rt[Bt],0),Ct.lookAt(0,0,It[Bt]));const Vt=this._cubeSize;_setViewport(St,Ut*Vt,Bt>2?Vt:0,Vt,Vt),Lt.setRenderTarget(St),zt&&Lt.render(Ot,Ct),Lt.render(ht,Ct)}Ot.geometry.dispose(),Ot.material.dispose(),Lt.toneMapping=Dt,Lt.autoClear=kt,ht.background=Gt}_textureToCubeUV(ht,xt){const _t=this._renderer,St=ht.mapping===CubeReflectionMapping||ht.mapping===CubeRefractionMapping;St?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=ht.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const wt=St?this._cubemapMaterial:this._equirectMaterial,At=new Mesh(this._lodPlanes[0],wt),Ct=wt.uniforms;Ct.envMap.value=ht;const Rt=this._cubeSize;_setViewport(xt,0,0,3*Rt,2*Rt),_t.setRenderTarget(xt),_t.render(At,_flatCamera)}_applyPMREM(ht){const xt=this._renderer,_t=xt.autoClear;xt.autoClear=!1;const St=this._lodPlanes.length;for(let wt=1;wt<St;wt++){const At=Math.sqrt(this._sigmas[wt]*this._sigmas[wt]-this._sigmas[wt-1]*this._sigmas[wt-1]),Ct=_axisDirections[(St-wt-1)%_axisDirections.length];this._blur(ht,wt-1,wt,At,Ct)}xt.autoClear=_t}_blur(ht,xt,_t,St,wt){const At=this._pingPongRenderTarget;this._halfBlur(ht,At,xt,_t,St,"latitudinal",wt),this._halfBlur(At,ht,_t,_t,St,"longitudinal",wt)}_halfBlur(ht,xt,_t,St,wt,At,Ct){const Rt=this._renderer,It=this._blurMaterial;At!=="latitudinal"&&At!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const Lt=3,kt=new Mesh(this._lodPlanes[St],It),Dt=It.uniforms,$t=this._sizeLods[_t]-1,Ot=isFinite(wt)?Math.PI/(2*$t):2*Math.PI/(2*MAX_SAMPLES-1),zt=wt/Ot,Gt=isFinite(wt)?1+Math.floor(Lt*zt):MAX_SAMPLES;Gt>MAX_SAMPLES&&console.warn(`sigmaRadians, ${wt}, is too large and will clip, as it requested ${Gt} samples when the maximum is set to ${MAX_SAMPLES}`);const Bt=[];let Ut=0;for(let Kt=0;Kt<MAX_SAMPLES;++Kt){const en=Kt/zt,tn=Math.exp(-en*en/2);Bt.push(tn),Kt===0?Ut+=tn:Kt<Gt&&(Ut+=2*tn)}for(let Kt=0;Kt<Bt.length;Kt++)Bt[Kt]=Bt[Kt]/Ut;Dt.envMap.value=ht.texture,Dt.samples.value=Gt,Dt.weights.value=Bt,Dt.latitudinal.value=At==="latitudinal",Ct&&(Dt.poleAxis.value=Ct);const{_lodMax:Vt}=this;Dt.dTheta.value=Ot,Dt.mipInt.value=Vt-_t;const Ht=this._sizeLods[St],Xt=3*Ht*(St>Vt-LOD_MIN?St-Vt+LOD_MIN:0),qt=4*(this._cubeSize-Ht);_setViewport(xt,Xt,qt,3*Ht,2*Ht),Rt.setRenderTarget(xt),Rt.render(kt,_flatCamera)}}function _createPlanes(vt){const ht=[],xt=[],_t=[];let St=vt;const wt=vt-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let At=0;At<wt;At++){const Ct=Math.pow(2,St);xt.push(Ct);let Rt=1/Ct;At>vt-LOD_MIN?Rt=EXTRA_LOD_SIGMA[At-vt+LOD_MIN-1]:At===0&&(Rt=0),_t.push(Rt);const It=1/(Ct-2),Lt=-It,kt=1+It,Dt=[Lt,Lt,kt,Lt,kt,kt,Lt,Lt,kt,kt,Lt,kt],$t=6,Ot=6,zt=3,Gt=2,Bt=1,Ut=new Float32Array(zt*Ot*$t),Vt=new Float32Array(Gt*Ot*$t),Ht=new Float32Array(Bt*Ot*$t);for(let qt=0;qt<$t;qt++){const Kt=qt%3*2/3-1,en=qt>2?0:-1,tn=[Kt,en,0,Kt+2/3,en,0,Kt+2/3,en+1,0,Kt,en,0,Kt+2/3,en+1,0,Kt,en+1,0];Ut.set(tn,zt*Ot*qt),Vt.set(Dt,Gt*Ot*qt);const Qt=[qt,qt,qt,qt,qt,qt];Ht.set(Qt,Bt*Ot*qt)}const Xt=new BufferGeometry;Xt.setAttribute("position",new BufferAttribute(Ut,zt)),Xt.setAttribute("uv",new BufferAttribute(Vt,Gt)),Xt.setAttribute("faceIndex",new BufferAttribute(Ht,Bt)),ht.push(Xt),St>LOD_MIN&&St--}return{lodPlanes:ht,sizeLods:xt,sigmas:_t}}function _createRenderTarget(vt,ht,xt){const _t=new WebGLRenderTarget(vt,ht,xt);return _t.texture.mapping=CubeUVReflectionMapping,_t.texture.name="PMREM.cubeUv",_t.scissorTest=!0,_t}function _setViewport(vt,ht,xt,_t,St){vt.viewport.set(ht,xt,_t,St),vt.scissor.set(ht,xt,_t,St)}function _getBlurShader(vt,ht,xt){const _t=new Float32Array(MAX_SAMPLES),St=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/ht,CUBEUV_TEXEL_HEIGHT:1/xt,CUBEUV_MAX_MIP:`${vt}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:_t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:St}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(vt){let ht=new WeakMap,xt=null;function _t(Ct){if(Ct&&Ct.isTexture){const Rt=Ct.mapping,It=Rt===EquirectangularReflectionMapping||Rt===EquirectangularRefractionMapping,Lt=Rt===CubeReflectionMapping||Rt===CubeRefractionMapping;if(It||Lt){let kt=ht.get(Ct);const Dt=kt!==void 0?kt.texture.pmremVersion:0;if(Ct.isRenderTargetTexture&&Ct.pmremVersion!==Dt)return xt===null&&(xt=new PMREMGenerator(vt)),kt=It?xt.fromEquirectangular(Ct,kt):xt.fromCubemap(Ct,kt),kt.texture.pmremVersion=Ct.pmremVersion,ht.set(Ct,kt),kt.texture;if(kt!==void 0)return kt.texture;{const $t=Ct.image;return It&&$t&&$t.height>0||Lt&&$t&&St($t)?(xt===null&&(xt=new PMREMGenerator(vt)),kt=It?xt.fromEquirectangular(Ct):xt.fromCubemap(Ct),kt.texture.pmremVersion=Ct.pmremVersion,ht.set(Ct,kt),Ct.addEventListener("dispose",wt),kt.texture):null}}}return Ct}function St(Ct){let Rt=0;const It=6;for(let Lt=0;Lt<It;Lt++)Ct[Lt]!==void 0&&Rt++;return Rt===It}function wt(Ct){const Rt=Ct.target;Rt.removeEventListener("dispose",wt);const It=ht.get(Rt);It!==void 0&&(ht.delete(Rt),It.dispose())}function At(){ht=new WeakMap,xt!==null&&(xt.dispose(),xt=null)}return{get:_t,dispose:At}}function WebGLExtensions(vt){const ht={};function xt(_t){if(ht[_t]!==void 0)return ht[_t];let St;switch(_t){case"WEBGL_depth_texture":St=vt.getExtension("WEBGL_depth_texture")||vt.getExtension("MOZ_WEBGL_depth_texture")||vt.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":St=vt.getExtension("EXT_texture_filter_anisotropic")||vt.getExtension("MOZ_EXT_texture_filter_anisotropic")||vt.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":St=vt.getExtension("WEBGL_compressed_texture_s3tc")||vt.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||vt.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":St=vt.getExtension("WEBGL_compressed_texture_pvrtc")||vt.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:St=vt.getExtension(_t)}return ht[_t]=St,St}return{has:function(_t){return xt(_t)!==null},init:function(){xt("EXT_color_buffer_float"),xt("WEBGL_clip_cull_distance"),xt("OES_texture_float_linear"),xt("EXT_color_buffer_half_float"),xt("WEBGL_multisampled_render_to_texture"),xt("WEBGL_render_shared_exponent")},get:function(_t){const St=xt(_t);return St===null&&warnOnce("THREE.WebGLRenderer: "+_t+" extension not supported."),St}}}function WebGLGeometries(vt,ht,xt,_t){const St={},wt=new WeakMap;function At(kt){const Dt=kt.target;Dt.index!==null&&ht.remove(Dt.index);for(const Ot in Dt.attributes)ht.remove(Dt.attributes[Ot]);for(const Ot in Dt.morphAttributes){const zt=Dt.morphAttributes[Ot];for(let Gt=0,Bt=zt.length;Gt<Bt;Gt++)ht.remove(zt[Gt])}Dt.removeEventListener("dispose",At),delete St[Dt.id];const $t=wt.get(Dt);$t&&(ht.remove($t),wt.delete(Dt)),_t.releaseStatesOfGeometry(Dt),Dt.isInstancedBufferGeometry===!0&&delete Dt._maxInstanceCount,xt.memory.geometries--}function Ct(kt,Dt){return St[Dt.id]===!0||(Dt.addEventListener("dispose",At),St[Dt.id]=!0,xt.memory.geometries++),Dt}function Rt(kt){const Dt=kt.attributes;for(const Ot in Dt)ht.update(Dt[Ot],vt.ARRAY_BUFFER);const $t=kt.morphAttributes;for(const Ot in $t){const zt=$t[Ot];for(let Gt=0,Bt=zt.length;Gt<Bt;Gt++)ht.update(zt[Gt],vt.ARRAY_BUFFER)}}function It(kt){const Dt=[],$t=kt.index,Ot=kt.attributes.position;let zt=0;if($t!==null){const Ut=$t.array;zt=$t.version;for(let Vt=0,Ht=Ut.length;Vt<Ht;Vt+=3){const Xt=Ut[Vt+0],qt=Ut[Vt+1],Kt=Ut[Vt+2];Dt.push(Xt,qt,qt,Kt,Kt,Xt)}}else if(Ot!==void 0){const Ut=Ot.array;zt=Ot.version;for(let Vt=0,Ht=Ut.length/3-1;Vt<Ht;Vt+=3){const Xt=Vt+0,qt=Vt+1,Kt=Vt+2;Dt.push(Xt,qt,qt,Kt,Kt,Xt)}}else return;const Gt=new(arrayNeedsUint32(Dt)?Uint32BufferAttribute:Uint16BufferAttribute)(Dt,1);Gt.version=zt;const Bt=wt.get(kt);Bt&&ht.remove(Bt),wt.set(kt,Gt)}function Lt(kt){const Dt=wt.get(kt);if(Dt){const $t=kt.index;$t!==null&&Dt.version<$t.version&&It(kt)}else It(kt);return wt.get(kt)}return{get:Ct,update:Rt,getWireframeAttribute:Lt}}function WebGLIndexedBufferRenderer(vt,ht,xt){let _t;function St(Dt){_t=Dt}let wt,At;function Ct(Dt){wt=Dt.type,At=Dt.bytesPerElement}function Rt(Dt,$t){vt.drawElements(_t,$t,wt,Dt*At),xt.update($t,_t,1)}function It(Dt,$t,Ot){Ot!==0&&(vt.drawElementsInstanced(_t,$t,wt,Dt*At,Ot),xt.update($t,_t,Ot))}function Lt(Dt,$t,Ot){if(Ot===0)return;ht.get("WEBGL_multi_draw").multiDrawElementsWEBGL(_t,$t,0,wt,Dt,0,Ot);let Gt=0;for(let Bt=0;Bt<Ot;Bt++)Gt+=$t[Bt];xt.update(Gt,_t,1)}function kt(Dt,$t,Ot,zt){if(Ot===0)return;const Gt=ht.get("WEBGL_multi_draw");if(Gt===null)for(let Bt=0;Bt<Dt.length;Bt++)It(Dt[Bt]/At,$t[Bt],zt[Bt]);else{Gt.multiDrawElementsInstancedWEBGL(_t,$t,0,wt,Dt,0,zt,0,Ot);let Bt=0;for(let Ut=0;Ut<Ot;Ut++)Bt+=$t[Ut];for(let Ut=0;Ut<zt.length;Ut++)xt.update(Bt,_t,zt[Ut])}}this.setMode=St,this.setIndex=Ct,this.render=Rt,this.renderInstances=It,this.renderMultiDraw=Lt,this.renderMultiDrawInstances=kt}function WebGLInfo(vt){const ht={geometries:0,textures:0},xt={frame:0,calls:0,triangles:0,points:0,lines:0};function _t(wt,At,Ct){switch(xt.calls++,At){case vt.TRIANGLES:xt.triangles+=Ct*(wt/3);break;case vt.LINES:xt.lines+=Ct*(wt/2);break;case vt.LINE_STRIP:xt.lines+=Ct*(wt-1);break;case vt.LINE_LOOP:xt.lines+=Ct*wt;break;case vt.POINTS:xt.points+=Ct*wt;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",At);break}}function St(){xt.calls=0,xt.triangles=0,xt.points=0,xt.lines=0}return{memory:ht,render:xt,programs:null,autoReset:!0,reset:St,update:_t}}function WebGLMorphtargets(vt,ht,xt){const _t=new WeakMap,St=new Vector4;function wt(At,Ct,Rt){const It=At.morphTargetInfluences,Lt=Ct.morphAttributes.position||Ct.morphAttributes.normal||Ct.morphAttributes.color,kt=Lt!==void 0?Lt.length:0;let Dt=_t.get(Ct);if(Dt===void 0||Dt.count!==kt){let Qt=function(){en.dispose(),_t.delete(Ct),Ct.removeEventListener("dispose",Qt)};var $t=Qt;Dt!==void 0&&Dt.texture.dispose();const Ot=Ct.morphAttributes.position!==void 0,zt=Ct.morphAttributes.normal!==void 0,Gt=Ct.morphAttributes.color!==void 0,Bt=Ct.morphAttributes.position||[],Ut=Ct.morphAttributes.normal||[],Vt=Ct.morphAttributes.color||[];let Ht=0;Ot===!0&&(Ht=1),zt===!0&&(Ht=2),Gt===!0&&(Ht=3);let Xt=Ct.attributes.position.count*Ht,qt=1;Xt>ht.maxTextureSize&&(qt=Math.ceil(Xt/ht.maxTextureSize),Xt=ht.maxTextureSize);const Kt=new Float32Array(Xt*qt*4*kt),en=new DataArrayTexture(Kt,Xt,qt,kt);en.type=FloatType,en.needsUpdate=!0;const tn=Ht*4;for(let sn=0;sn<kt;sn++){const un=Bt[sn],dn=Ut[sn],vn=Vt[sn],pn=Xt*qt*4*sn;for(let rn=0;rn<un.count;rn++){const an=rn*tn;Ot===!0&&(St.fromBufferAttribute(un,rn),Kt[pn+an+0]=St.x,Kt[pn+an+1]=St.y,Kt[pn+an+2]=St.z,Kt[pn+an+3]=0),zt===!0&&(St.fromBufferAttribute(dn,rn),Kt[pn+an+4]=St.x,Kt[pn+an+5]=St.y,Kt[pn+an+6]=St.z,Kt[pn+an+7]=0),Gt===!0&&(St.fromBufferAttribute(vn,rn),Kt[pn+an+8]=St.x,Kt[pn+an+9]=St.y,Kt[pn+an+10]=St.z,Kt[pn+an+11]=vn.itemSize===4?St.w:1)}}Dt={count:kt,texture:en,size:new Vector2(Xt,qt)},_t.set(Ct,Dt),Ct.addEventListener("dispose",Qt)}if(At.isInstancedMesh===!0&&At.morphTexture!==null)Rt.getUniforms().setValue(vt,"morphTexture",At.morphTexture,xt);else{let Ot=0;for(let Gt=0;Gt<It.length;Gt++)Ot+=It[Gt];const zt=Ct.morphTargetsRelative?1:1-Ot;Rt.getUniforms().setValue(vt,"morphTargetBaseInfluence",zt),Rt.getUniforms().setValue(vt,"morphTargetInfluences",It)}Rt.getUniforms().setValue(vt,"morphTargetsTexture",Dt.texture,xt),Rt.getUniforms().setValue(vt,"morphTargetsTextureSize",Dt.size)}return{update:wt}}function WebGLObjects(vt,ht,xt,_t){let St=new WeakMap;function wt(Rt){const It=_t.render.frame,Lt=Rt.geometry,kt=ht.get(Rt,Lt);if(St.get(kt)!==It&&(ht.update(kt),St.set(kt,It)),Rt.isInstancedMesh&&(Rt.hasEventListener("dispose",Ct)===!1&&Rt.addEventListener("dispose",Ct),St.get(Rt)!==It&&(xt.update(Rt.instanceMatrix,vt.ARRAY_BUFFER),Rt.instanceColor!==null&&xt.update(Rt.instanceColor,vt.ARRAY_BUFFER),St.set(Rt,It))),Rt.isSkinnedMesh){const Dt=Rt.skeleton;St.get(Dt)!==It&&(Dt.update(),St.set(Dt,It))}return kt}function At(){St=new WeakMap}function Ct(Rt){const It=Rt.target;It.removeEventListener("dispose",Ct),xt.remove(It.instanceMatrix),It.instanceColor!==null&&xt.remove(It.instanceColor)}return{update:wt,dispose:At}}class DepthTexture extends Texture{constructor(ht,xt,_t,St,wt,At,Ct,Rt,It,Lt=DepthFormat){if(Lt!==DepthFormat&&Lt!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");_t===void 0&&Lt===DepthFormat&&(_t=UnsignedIntType),_t===void 0&&Lt===DepthStencilFormat&&(_t=UnsignedInt248Type),super(null,St,wt,At,Ct,Rt,Lt,_t,It),this.isDepthTexture=!0,this.image={width:ht,height:xt},this.magFilter=Ct!==void 0?Ct:NearestFilter,this.minFilter=Rt!==void 0?Rt:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(ht){return super.copy(ht),this.compareFunction=ht.compareFunction,this}toJSON(ht){const xt=super.toJSON(ht);return this.compareFunction!==null&&(xt.compareFunction=this.compareFunction),xt}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1),emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(vt,ht,xt){const _t=vt[0];if(_t<=0||_t>0)return vt;const St=ht*xt;let wt=arrayCacheF32[St];if(wt===void 0&&(wt=new Float32Array(St),arrayCacheF32[St]=wt),ht!==0){_t.toArray(wt,0);for(let At=1,Ct=0;At!==ht;++At)Ct+=xt,vt[At].toArray(wt,Ct)}return wt}function arraysEqual(vt,ht){if(vt.length!==ht.length)return!1;for(let xt=0,_t=vt.length;xt<_t;xt++)if(vt[xt]!==ht[xt])return!1;return!0}function copyArray(vt,ht){for(let xt=0,_t=ht.length;xt<_t;xt++)vt[xt]=ht[xt]}function allocTexUnits(vt,ht){let xt=arrayCacheI32[ht];xt===void 0&&(xt=new Int32Array(ht),arrayCacheI32[ht]=xt);for(let _t=0;_t!==ht;++_t)xt[_t]=vt.allocateTextureUnit();return xt}function setValueV1f(vt,ht){const xt=this.cache;xt[0]!==ht&&(vt.uniform1f(this.addr,ht),xt[0]=ht)}function setValueV2f(vt,ht){const xt=this.cache;if(ht.x!==void 0)(xt[0]!==ht.x||xt[1]!==ht.y)&&(vt.uniform2f(this.addr,ht.x,ht.y),xt[0]=ht.x,xt[1]=ht.y);else{if(arraysEqual(xt,ht))return;vt.uniform2fv(this.addr,ht),copyArray(xt,ht)}}function setValueV3f(vt,ht){const xt=this.cache;if(ht.x!==void 0)(xt[0]!==ht.x||xt[1]!==ht.y||xt[2]!==ht.z)&&(vt.uniform3f(this.addr,ht.x,ht.y,ht.z),xt[0]=ht.x,xt[1]=ht.y,xt[2]=ht.z);else if(ht.r!==void 0)(xt[0]!==ht.r||xt[1]!==ht.g||xt[2]!==ht.b)&&(vt.uniform3f(this.addr,ht.r,ht.g,ht.b),xt[0]=ht.r,xt[1]=ht.g,xt[2]=ht.b);else{if(arraysEqual(xt,ht))return;vt.uniform3fv(this.addr,ht),copyArray(xt,ht)}}function setValueV4f(vt,ht){const xt=this.cache;if(ht.x!==void 0)(xt[0]!==ht.x||xt[1]!==ht.y||xt[2]!==ht.z||xt[3]!==ht.w)&&(vt.uniform4f(this.addr,ht.x,ht.y,ht.z,ht.w),xt[0]=ht.x,xt[1]=ht.y,xt[2]=ht.z,xt[3]=ht.w);else{if(arraysEqual(xt,ht))return;vt.uniform4fv(this.addr,ht),copyArray(xt,ht)}}function setValueM2(vt,ht){const xt=this.cache,_t=ht.elements;if(_t===void 0){if(arraysEqual(xt,ht))return;vt.uniformMatrix2fv(this.addr,!1,ht),copyArray(xt,ht)}else{if(arraysEqual(xt,_t))return;mat2array.set(_t),vt.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(xt,_t)}}function setValueM3(vt,ht){const xt=this.cache,_t=ht.elements;if(_t===void 0){if(arraysEqual(xt,ht))return;vt.uniformMatrix3fv(this.addr,!1,ht),copyArray(xt,ht)}else{if(arraysEqual(xt,_t))return;mat3array.set(_t),vt.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(xt,_t)}}function setValueM4(vt,ht){const xt=this.cache,_t=ht.elements;if(_t===void 0){if(arraysEqual(xt,ht))return;vt.uniformMatrix4fv(this.addr,!1,ht),copyArray(xt,ht)}else{if(arraysEqual(xt,_t))return;mat4array.set(_t),vt.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(xt,_t)}}function setValueV1i(vt,ht){const xt=this.cache;xt[0]!==ht&&(vt.uniform1i(this.addr,ht),xt[0]=ht)}function setValueV2i(vt,ht){const xt=this.cache;if(ht.x!==void 0)(xt[0]!==ht.x||xt[1]!==ht.y)&&(vt.uniform2i(this.addr,ht.x,ht.y),xt[0]=ht.x,xt[1]=ht.y);else{if(arraysEqual(xt,ht))return;vt.uniform2iv(this.addr,ht),copyArray(xt,ht)}}function setValueV3i(vt,ht){const xt=this.cache;if(ht.x!==void 0)(xt[0]!==ht.x||xt[1]!==ht.y||xt[2]!==ht.z)&&(vt.uniform3i(this.addr,ht.x,ht.y,ht.z),xt[0]=ht.x,xt[1]=ht.y,xt[2]=ht.z);else{if(arraysEqual(xt,ht))return;vt.uniform3iv(this.addr,ht),copyArray(xt,ht)}}function setValueV4i(vt,ht){const xt=this.cache;if(ht.x!==void 0)(xt[0]!==ht.x||xt[1]!==ht.y||xt[2]!==ht.z||xt[3]!==ht.w)&&(vt.uniform4i(this.addr,ht.x,ht.y,ht.z,ht.w),xt[0]=ht.x,xt[1]=ht.y,xt[2]=ht.z,xt[3]=ht.w);else{if(arraysEqual(xt,ht))return;vt.uniform4iv(this.addr,ht),copyArray(xt,ht)}}function setValueV1ui(vt,ht){const xt=this.cache;xt[0]!==ht&&(vt.uniform1ui(this.addr,ht),xt[0]=ht)}function setValueV2ui(vt,ht){const xt=this.cache;if(ht.x!==void 0)(xt[0]!==ht.x||xt[1]!==ht.y)&&(vt.uniform2ui(this.addr,ht.x,ht.y),xt[0]=ht.x,xt[1]=ht.y);else{if(arraysEqual(xt,ht))return;vt.uniform2uiv(this.addr,ht),copyArray(xt,ht)}}function setValueV3ui(vt,ht){const xt=this.cache;if(ht.x!==void 0)(xt[0]!==ht.x||xt[1]!==ht.y||xt[2]!==ht.z)&&(vt.uniform3ui(this.addr,ht.x,ht.y,ht.z),xt[0]=ht.x,xt[1]=ht.y,xt[2]=ht.z);else{if(arraysEqual(xt,ht))return;vt.uniform3uiv(this.addr,ht),copyArray(xt,ht)}}function setValueV4ui(vt,ht){const xt=this.cache;if(ht.x!==void 0)(xt[0]!==ht.x||xt[1]!==ht.y||xt[2]!==ht.z||xt[3]!==ht.w)&&(vt.uniform4ui(this.addr,ht.x,ht.y,ht.z,ht.w),xt[0]=ht.x,xt[1]=ht.y,xt[2]=ht.z,xt[3]=ht.w);else{if(arraysEqual(xt,ht))return;vt.uniform4uiv(this.addr,ht),copyArray(xt,ht)}}function setValueT1(vt,ht,xt){const _t=this.cache,St=xt.allocateTextureUnit();_t[0]!==St&&(vt.uniform1i(this.addr,St),_t[0]=St);let wt;this.type===vt.SAMPLER_2D_SHADOW?(emptyShadowTexture.compareFunction=LessEqualCompare,wt=emptyShadowTexture):wt=emptyTexture,xt.setTexture2D(ht||wt,St)}function setValueT3D1(vt,ht,xt){const _t=this.cache,St=xt.allocateTextureUnit();_t[0]!==St&&(vt.uniform1i(this.addr,St),_t[0]=St),xt.setTexture3D(ht||empty3dTexture,St)}function setValueT6(vt,ht,xt){const _t=this.cache,St=xt.allocateTextureUnit();_t[0]!==St&&(vt.uniform1i(this.addr,St),_t[0]=St),xt.setTextureCube(ht||emptyCubeTexture,St)}function setValueT2DArray1(vt,ht,xt){const _t=this.cache,St=xt.allocateTextureUnit();_t[0]!==St&&(vt.uniform1i(this.addr,St),_t[0]=St),xt.setTexture2DArray(ht||emptyArrayTexture,St)}function getSingularSetter(vt){switch(vt){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(vt,ht){vt.uniform1fv(this.addr,ht)}function setValueV2fArray(vt,ht){const xt=flatten(ht,this.size,2);vt.uniform2fv(this.addr,xt)}function setValueV3fArray(vt,ht){const xt=flatten(ht,this.size,3);vt.uniform3fv(this.addr,xt)}function setValueV4fArray(vt,ht){const xt=flatten(ht,this.size,4);vt.uniform4fv(this.addr,xt)}function setValueM2Array(vt,ht){const xt=flatten(ht,this.size,4);vt.uniformMatrix2fv(this.addr,!1,xt)}function setValueM3Array(vt,ht){const xt=flatten(ht,this.size,9);vt.uniformMatrix3fv(this.addr,!1,xt)}function setValueM4Array(vt,ht){const xt=flatten(ht,this.size,16);vt.uniformMatrix4fv(this.addr,!1,xt)}function setValueV1iArray(vt,ht){vt.uniform1iv(this.addr,ht)}function setValueV2iArray(vt,ht){vt.uniform2iv(this.addr,ht)}function setValueV3iArray(vt,ht){vt.uniform3iv(this.addr,ht)}function setValueV4iArray(vt,ht){vt.uniform4iv(this.addr,ht)}function setValueV1uiArray(vt,ht){vt.uniform1uiv(this.addr,ht)}function setValueV2uiArray(vt,ht){vt.uniform2uiv(this.addr,ht)}function setValueV3uiArray(vt,ht){vt.uniform3uiv(this.addr,ht)}function setValueV4uiArray(vt,ht){vt.uniform4uiv(this.addr,ht)}function setValueT1Array(vt,ht,xt){const _t=this.cache,St=ht.length,wt=allocTexUnits(xt,St);arraysEqual(_t,wt)||(vt.uniform1iv(this.addr,wt),copyArray(_t,wt));for(let At=0;At!==St;++At)xt.setTexture2D(ht[At]||emptyTexture,wt[At])}function setValueT3DArray(vt,ht,xt){const _t=this.cache,St=ht.length,wt=allocTexUnits(xt,St);arraysEqual(_t,wt)||(vt.uniform1iv(this.addr,wt),copyArray(_t,wt));for(let At=0;At!==St;++At)xt.setTexture3D(ht[At]||empty3dTexture,wt[At])}function setValueT6Array(vt,ht,xt){const _t=this.cache,St=ht.length,wt=allocTexUnits(xt,St);arraysEqual(_t,wt)||(vt.uniform1iv(this.addr,wt),copyArray(_t,wt));for(let At=0;At!==St;++At)xt.setTextureCube(ht[At]||emptyCubeTexture,wt[At])}function setValueT2DArrayArray(vt,ht,xt){const _t=this.cache,St=ht.length,wt=allocTexUnits(xt,St);arraysEqual(_t,wt)||(vt.uniform1iv(this.addr,wt),copyArray(_t,wt));for(let At=0;At!==St;++At)xt.setTexture2DArray(ht[At]||emptyArrayTexture,wt[At])}function getPureArraySetter(vt){switch(vt){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(ht,xt,_t){this.id=ht,this.addr=_t,this.cache=[],this.type=xt.type,this.setValue=getSingularSetter(xt.type)}}class PureArrayUniform{constructor(ht,xt,_t){this.id=ht,this.addr=_t,this.cache=[],this.type=xt.type,this.size=xt.size,this.setValue=getPureArraySetter(xt.type)}}class StructuredUniform{constructor(ht){this.id=ht,this.seq=[],this.map={}}setValue(ht,xt,_t){const St=this.seq;for(let wt=0,At=St.length;wt!==At;++wt){const Ct=St[wt];Ct.setValue(ht,xt[Ct.id],_t)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(vt,ht){vt.seq.push(ht),vt.map[ht.id]=ht}function parseUniform(vt,ht,xt){const _t=vt.name,St=_t.length;for(RePathPart.lastIndex=0;;){const wt=RePathPart.exec(_t),At=RePathPart.lastIndex;let Ct=wt[1];const Rt=wt[2]==="]",It=wt[3];if(Rt&&(Ct=Ct|0),It===void 0||It==="["&&At+2===St){addUniform(xt,It===void 0?new SingleUniform(Ct,vt,ht):new PureArrayUniform(Ct,vt,ht));break}else{let kt=xt.map[Ct];kt===void 0&&(kt=new StructuredUniform(Ct),addUniform(xt,kt)),xt=kt}}}class WebGLUniforms{constructor(ht,xt){this.seq=[],this.map={};const _t=ht.getProgramParameter(xt,ht.ACTIVE_UNIFORMS);for(let St=0;St<_t;++St){const wt=ht.getActiveUniform(xt,St),At=ht.getUniformLocation(xt,wt.name);parseUniform(wt,At,this)}}setValue(ht,xt,_t,St){const wt=this.map[xt];wt!==void 0&&wt.setValue(ht,_t,St)}setOptional(ht,xt,_t){const St=xt[_t];St!==void 0&&this.setValue(ht,_t,St)}static upload(ht,xt,_t,St){for(let wt=0,At=xt.length;wt!==At;++wt){const Ct=xt[wt],Rt=_t[Ct.id];Rt.needsUpdate!==!1&&Ct.setValue(ht,Rt.value,St)}}static seqWithValue(ht,xt){const _t=[];for(let St=0,wt=ht.length;St!==wt;++St){const At=ht[St];At.id in xt&&_t.push(At)}return _t}}function WebGLShader(vt,ht,xt){const _t=vt.createShader(ht);return vt.shaderSource(_t,xt),vt.compileShader(_t),_t}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(vt,ht){const xt=vt.split(`
`),_t=[],St=Math.max(ht-6,0),wt=Math.min(ht+6,xt.length);for(let At=St;At<wt;At++){const Ct=At+1;_t.push(`${Ct===ht?">":" "} ${Ct}: ${xt[At]}`)}return _t.join(`
`)}function getEncodingComponents(vt){const ht=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),xt=ColorManagement.getPrimaries(vt);let _t;switch(ht===xt?_t="":ht===P3Primaries&&xt===Rec709Primaries?_t="LinearDisplayP3ToLinearSRGB":ht===Rec709Primaries&&xt===P3Primaries&&(_t="LinearSRGBToLinearDisplayP3"),vt){case LinearSRGBColorSpace:case LinearDisplayP3ColorSpace:return[_t,"LinearTransferOETF"];case SRGBColorSpace:case DisplayP3ColorSpace:return[_t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",vt),[_t,"LinearTransferOETF"]}}function getShaderErrors(vt,ht,xt){const _t=vt.getShaderParameter(ht,vt.COMPILE_STATUS),St=vt.getShaderInfoLog(ht).trim();if(_t&&St==="")return"";const wt=/ERROR: 0:(\d+)/.exec(St);if(wt){const At=parseInt(wt[1]);return xt.toUpperCase()+`

`+St+`

`+handleSource(vt.getShaderSource(ht),At)}else return St}function getTexelEncodingFunction(vt,ht){const xt=getEncodingComponents(ht);return`vec4 ${vt}( vec4 value ) { return ${xt[0]}( ${xt[1]}( value ) ); }`}function getToneMappingFunction(vt,ht){let xt;switch(ht){case LinearToneMapping:xt="Linear";break;case ReinhardToneMapping:xt="Reinhard";break;case CineonToneMapping:xt="OptimizedCineon";break;case ACESFilmicToneMapping:xt="ACESFilmic";break;case AgXToneMapping:xt="AgX";break;case NeutralToneMapping:xt="Neutral";break;case CustomToneMapping:xt="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",ht),xt="Linear"}return"vec3 "+vt+"( vec3 color ) { return "+xt+"ToneMapping( color ); }"}const _v0$1=new Vector3;function getLuminanceFunction(){ColorManagement.getLuminanceCoefficients(_v0$1);const vt=_v0$1.x.toFixed(4),ht=_v0$1.y.toFixed(4),xt=_v0$1.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${vt}, ${ht}, ${xt} );`,"	return dot( weights, rgb );","}"].join(`
`)}function generateVertexExtensions(vt){return[vt.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",vt.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(vt){const ht=[];for(const xt in vt){const _t=vt[xt];_t!==!1&&ht.push("#define "+xt+" "+_t)}return ht.join(`
`)}function fetchAttributeLocations(vt,ht){const xt={},_t=vt.getProgramParameter(ht,vt.ACTIVE_ATTRIBUTES);for(let St=0;St<_t;St++){const wt=vt.getActiveAttrib(ht,St),At=wt.name;let Ct=1;wt.type===vt.FLOAT_MAT2&&(Ct=2),wt.type===vt.FLOAT_MAT3&&(Ct=3),wt.type===vt.FLOAT_MAT4&&(Ct=4),xt[At]={type:wt.type,location:vt.getAttribLocation(ht,At),locationSize:Ct}}return xt}function filterEmptyLine(vt){return vt!==""}function replaceLightNums(vt,ht){const xt=ht.numSpotLightShadows+ht.numSpotLightMaps-ht.numSpotLightShadowsWithMaps;return vt.replace(/NUM_DIR_LIGHTS/g,ht.numDirLights).replace(/NUM_SPOT_LIGHTS/g,ht.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,ht.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,xt).replace(/NUM_RECT_AREA_LIGHTS/g,ht.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,ht.numPointLights).replace(/NUM_HEMI_LIGHTS/g,ht.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,ht.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,ht.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,ht.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,ht.numPointLightShadows)}function replaceClippingPlaneNums(vt,ht){return vt.replace(/NUM_CLIPPING_PLANES/g,ht.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,ht.numClippingPlanes-ht.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(vt){return vt.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(vt,ht){let xt=ShaderChunk[ht];if(xt===void 0){const _t=shaderChunkMap.get(ht);if(_t!==void 0)xt=ShaderChunk[_t],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',ht,_t);else throw new Error("Can not resolve #include <"+ht+">")}return resolveIncludes(xt)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(vt){return vt.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(vt,ht,xt,_t){let St="";for(let wt=parseInt(ht);wt<parseInt(xt);wt++)St+=_t.replace(/\[\s*i\s*\]/g,"[ "+wt+" ]").replace(/UNROLLED_LOOP_INDEX/g,wt);return St}function generatePrecision(vt){let ht=`precision ${vt.precision} float;
	precision ${vt.precision} int;
	precision ${vt.precision} sampler2D;
	precision ${vt.precision} samplerCube;
	precision ${vt.precision} sampler3D;
	precision ${vt.precision} sampler2DArray;
	precision ${vt.precision} sampler2DShadow;
	precision ${vt.precision} samplerCubeShadow;
	precision ${vt.precision} sampler2DArrayShadow;
	precision ${vt.precision} isampler2D;
	precision ${vt.precision} isampler3D;
	precision ${vt.precision} isamplerCube;
	precision ${vt.precision} isampler2DArray;
	precision ${vt.precision} usampler2D;
	precision ${vt.precision} usampler3D;
	precision ${vt.precision} usamplerCube;
	precision ${vt.precision} usampler2DArray;
	`;return vt.precision==="highp"?ht+=`
#define HIGH_PRECISION`:vt.precision==="mediump"?ht+=`
#define MEDIUM_PRECISION`:vt.precision==="lowp"&&(ht+=`
#define LOW_PRECISION`),ht}function generateShadowMapTypeDefine(vt){let ht="SHADOWMAP_TYPE_BASIC";return vt.shadowMapType===PCFShadowMap?ht="SHADOWMAP_TYPE_PCF":vt.shadowMapType===PCFSoftShadowMap?ht="SHADOWMAP_TYPE_PCF_SOFT":vt.shadowMapType===VSMShadowMap&&(ht="SHADOWMAP_TYPE_VSM"),ht}function generateEnvMapTypeDefine(vt){let ht="ENVMAP_TYPE_CUBE";if(vt.envMap)switch(vt.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:ht="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:ht="ENVMAP_TYPE_CUBE_UV";break}return ht}function generateEnvMapModeDefine(vt){let ht="ENVMAP_MODE_REFLECTION";if(vt.envMap)switch(vt.envMapMode){case CubeRefractionMapping:ht="ENVMAP_MODE_REFRACTION";break}return ht}function generateEnvMapBlendingDefine(vt){let ht="ENVMAP_BLENDING_NONE";if(vt.envMap)switch(vt.combine){case MultiplyOperation:ht="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:ht="ENVMAP_BLENDING_MIX";break;case AddOperation:ht="ENVMAP_BLENDING_ADD";break}return ht}function generateCubeUVSize(vt){const ht=vt.envMapCubeUVHeight;if(ht===null)return null;const xt=Math.log2(ht)-2,_t=1/ht;return{texelWidth:1/(3*Math.max(Math.pow(2,xt),7*16)),texelHeight:_t,maxMip:xt}}function WebGLProgram(vt,ht,xt,_t){const St=vt.getContext(),wt=xt.defines;let At=xt.vertexShader,Ct=xt.fragmentShader;const Rt=generateShadowMapTypeDefine(xt),It=generateEnvMapTypeDefine(xt),Lt=generateEnvMapModeDefine(xt),kt=generateEnvMapBlendingDefine(xt),Dt=generateCubeUVSize(xt),$t=generateVertexExtensions(xt),Ot=generateDefines(wt),zt=St.createProgram();let Gt,Bt,Ut=xt.glslVersion?"#version "+xt.glslVersion+`
`:"";xt.isRawShaderMaterial?(Gt=["#define SHADER_TYPE "+xt.shaderType,"#define SHADER_NAME "+xt.shaderName,Ot].filter(filterEmptyLine).join(`
`),Gt.length>0&&(Gt+=`
`),Bt=["#define SHADER_TYPE "+xt.shaderType,"#define SHADER_NAME "+xt.shaderName,Ot].filter(filterEmptyLine).join(`
`),Bt.length>0&&(Bt+=`
`)):(Gt=[generatePrecision(xt),"#define SHADER_TYPE "+xt.shaderType,"#define SHADER_NAME "+xt.shaderName,Ot,xt.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",xt.batching?"#define USE_BATCHING":"",xt.batchingColor?"#define USE_BATCHING_COLOR":"",xt.instancing?"#define USE_INSTANCING":"",xt.instancingColor?"#define USE_INSTANCING_COLOR":"",xt.instancingMorph?"#define USE_INSTANCING_MORPH":"",xt.useFog&&xt.fog?"#define USE_FOG":"",xt.useFog&&xt.fogExp2?"#define FOG_EXP2":"",xt.map?"#define USE_MAP":"",xt.envMap?"#define USE_ENVMAP":"",xt.envMap?"#define "+Lt:"",xt.lightMap?"#define USE_LIGHTMAP":"",xt.aoMap?"#define USE_AOMAP":"",xt.bumpMap?"#define USE_BUMPMAP":"",xt.normalMap?"#define USE_NORMALMAP":"",xt.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",xt.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",xt.displacementMap?"#define USE_DISPLACEMENTMAP":"",xt.emissiveMap?"#define USE_EMISSIVEMAP":"",xt.anisotropy?"#define USE_ANISOTROPY":"",xt.anisotropyMap?"#define USE_ANISOTROPYMAP":"",xt.clearcoatMap?"#define USE_CLEARCOATMAP":"",xt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",xt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",xt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",xt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",xt.specularMap?"#define USE_SPECULARMAP":"",xt.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",xt.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",xt.roughnessMap?"#define USE_ROUGHNESSMAP":"",xt.metalnessMap?"#define USE_METALNESSMAP":"",xt.alphaMap?"#define USE_ALPHAMAP":"",xt.alphaHash?"#define USE_ALPHAHASH":"",xt.transmission?"#define USE_TRANSMISSION":"",xt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",xt.thicknessMap?"#define USE_THICKNESSMAP":"",xt.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",xt.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",xt.mapUv?"#define MAP_UV "+xt.mapUv:"",xt.alphaMapUv?"#define ALPHAMAP_UV "+xt.alphaMapUv:"",xt.lightMapUv?"#define LIGHTMAP_UV "+xt.lightMapUv:"",xt.aoMapUv?"#define AOMAP_UV "+xt.aoMapUv:"",xt.emissiveMapUv?"#define EMISSIVEMAP_UV "+xt.emissiveMapUv:"",xt.bumpMapUv?"#define BUMPMAP_UV "+xt.bumpMapUv:"",xt.normalMapUv?"#define NORMALMAP_UV "+xt.normalMapUv:"",xt.displacementMapUv?"#define DISPLACEMENTMAP_UV "+xt.displacementMapUv:"",xt.metalnessMapUv?"#define METALNESSMAP_UV "+xt.metalnessMapUv:"",xt.roughnessMapUv?"#define ROUGHNESSMAP_UV "+xt.roughnessMapUv:"",xt.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+xt.anisotropyMapUv:"",xt.clearcoatMapUv?"#define CLEARCOATMAP_UV "+xt.clearcoatMapUv:"",xt.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+xt.clearcoatNormalMapUv:"",xt.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+xt.clearcoatRoughnessMapUv:"",xt.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+xt.iridescenceMapUv:"",xt.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+xt.iridescenceThicknessMapUv:"",xt.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+xt.sheenColorMapUv:"",xt.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+xt.sheenRoughnessMapUv:"",xt.specularMapUv?"#define SPECULARMAP_UV "+xt.specularMapUv:"",xt.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+xt.specularColorMapUv:"",xt.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+xt.specularIntensityMapUv:"",xt.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+xt.transmissionMapUv:"",xt.thicknessMapUv?"#define THICKNESSMAP_UV "+xt.thicknessMapUv:"",xt.vertexTangents&&xt.flatShading===!1?"#define USE_TANGENT":"",xt.vertexColors?"#define USE_COLOR":"",xt.vertexAlphas?"#define USE_COLOR_ALPHA":"",xt.vertexUv1s?"#define USE_UV1":"",xt.vertexUv2s?"#define USE_UV2":"",xt.vertexUv3s?"#define USE_UV3":"",xt.pointsUvs?"#define USE_POINTS_UV":"",xt.flatShading?"#define FLAT_SHADED":"",xt.skinning?"#define USE_SKINNING":"",xt.morphTargets?"#define USE_MORPHTARGETS":"",xt.morphNormals&&xt.flatShading===!1?"#define USE_MORPHNORMALS":"",xt.morphColors?"#define USE_MORPHCOLORS":"",xt.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+xt.morphTextureStride:"",xt.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+xt.morphTargetsCount:"",xt.doubleSided?"#define DOUBLE_SIDED":"",xt.flipSided?"#define FLIP_SIDED":"",xt.shadowMapEnabled?"#define USE_SHADOWMAP":"",xt.shadowMapEnabled?"#define "+Rt:"",xt.sizeAttenuation?"#define USE_SIZEATTENUATION":"",xt.numLightProbes>0?"#define USE_LIGHT_PROBES":"",xt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),Bt=[generatePrecision(xt),"#define SHADER_TYPE "+xt.shaderType,"#define SHADER_NAME "+xt.shaderName,Ot,xt.useFog&&xt.fog?"#define USE_FOG":"",xt.useFog&&xt.fogExp2?"#define FOG_EXP2":"",xt.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",xt.map?"#define USE_MAP":"",xt.matcap?"#define USE_MATCAP":"",xt.envMap?"#define USE_ENVMAP":"",xt.envMap?"#define "+It:"",xt.envMap?"#define "+Lt:"",xt.envMap?"#define "+kt:"",Dt?"#define CUBEUV_TEXEL_WIDTH "+Dt.texelWidth:"",Dt?"#define CUBEUV_TEXEL_HEIGHT "+Dt.texelHeight:"",Dt?"#define CUBEUV_MAX_MIP "+Dt.maxMip+".0":"",xt.lightMap?"#define USE_LIGHTMAP":"",xt.aoMap?"#define USE_AOMAP":"",xt.bumpMap?"#define USE_BUMPMAP":"",xt.normalMap?"#define USE_NORMALMAP":"",xt.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",xt.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",xt.emissiveMap?"#define USE_EMISSIVEMAP":"",xt.anisotropy?"#define USE_ANISOTROPY":"",xt.anisotropyMap?"#define USE_ANISOTROPYMAP":"",xt.clearcoat?"#define USE_CLEARCOAT":"",xt.clearcoatMap?"#define USE_CLEARCOATMAP":"",xt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",xt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",xt.dispersion?"#define USE_DISPERSION":"",xt.iridescence?"#define USE_IRIDESCENCE":"",xt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",xt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",xt.specularMap?"#define USE_SPECULARMAP":"",xt.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",xt.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",xt.roughnessMap?"#define USE_ROUGHNESSMAP":"",xt.metalnessMap?"#define USE_METALNESSMAP":"",xt.alphaMap?"#define USE_ALPHAMAP":"",xt.alphaTest?"#define USE_ALPHATEST":"",xt.alphaHash?"#define USE_ALPHAHASH":"",xt.sheen?"#define USE_SHEEN":"",xt.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",xt.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",xt.transmission?"#define USE_TRANSMISSION":"",xt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",xt.thicknessMap?"#define USE_THICKNESSMAP":"",xt.vertexTangents&&xt.flatShading===!1?"#define USE_TANGENT":"",xt.vertexColors||xt.instancingColor||xt.batchingColor?"#define USE_COLOR":"",xt.vertexAlphas?"#define USE_COLOR_ALPHA":"",xt.vertexUv1s?"#define USE_UV1":"",xt.vertexUv2s?"#define USE_UV2":"",xt.vertexUv3s?"#define USE_UV3":"",xt.pointsUvs?"#define USE_POINTS_UV":"",xt.gradientMap?"#define USE_GRADIENTMAP":"",xt.flatShading?"#define FLAT_SHADED":"",xt.doubleSided?"#define DOUBLE_SIDED":"",xt.flipSided?"#define FLIP_SIDED":"",xt.shadowMapEnabled?"#define USE_SHADOWMAP":"",xt.shadowMapEnabled?"#define "+Rt:"",xt.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",xt.numLightProbes>0?"#define USE_LIGHT_PROBES":"",xt.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",xt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",xt.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",xt.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",xt.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",xt.toneMapping):"",xt.dithering?"#define DITHERING":"",xt.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",xt.outputColorSpace),getLuminanceFunction(),xt.useDepthPacking?"#define DEPTH_PACKING "+xt.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),At=resolveIncludes(At),At=replaceLightNums(At,xt),At=replaceClippingPlaneNums(At,xt),Ct=resolveIncludes(Ct),Ct=replaceLightNums(Ct,xt),Ct=replaceClippingPlaneNums(Ct,xt),At=unrollLoops(At),Ct=unrollLoops(Ct),xt.isRawShaderMaterial!==!0&&(Ut=`#version 300 es
`,Gt=[$t,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+Gt,Bt=["#define varying in",xt.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",xt.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Bt);const Vt=Ut+Gt+At,Ht=Ut+Bt+Ct,Xt=WebGLShader(St,St.VERTEX_SHADER,Vt),qt=WebGLShader(St,St.FRAGMENT_SHADER,Ht);St.attachShader(zt,Xt),St.attachShader(zt,qt),xt.index0AttributeName!==void 0?St.bindAttribLocation(zt,0,xt.index0AttributeName):xt.morphTargets===!0&&St.bindAttribLocation(zt,0,"position"),St.linkProgram(zt);function Kt(sn){if(vt.debug.checkShaderErrors){const un=St.getProgramInfoLog(zt).trim(),dn=St.getShaderInfoLog(Xt).trim(),vn=St.getShaderInfoLog(qt).trim();let pn=!0,rn=!0;if(St.getProgramParameter(zt,St.LINK_STATUS)===!1)if(pn=!1,typeof vt.debug.onShaderError=="function")vt.debug.onShaderError(St,zt,Xt,qt);else{const an=getShaderErrors(St,Xt,"vertex"),Yt=getShaderErrors(St,qt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+St.getError()+" - VALIDATE_STATUS "+St.getProgramParameter(zt,St.VALIDATE_STATUS)+`

Material Name: `+sn.name+`
Material Type: `+sn.type+`

Program Info Log: `+un+`
`+an+`
`+Yt)}else un!==""?console.warn("THREE.WebGLProgram: Program Info Log:",un):(dn===""||vn==="")&&(rn=!1);rn&&(sn.diagnostics={runnable:pn,programLog:un,vertexShader:{log:dn,prefix:Gt},fragmentShader:{log:vn,prefix:Bt}})}St.deleteShader(Xt),St.deleteShader(qt),en=new WebGLUniforms(St,zt),tn=fetchAttributeLocations(St,zt)}let en;this.getUniforms=function(){return en===void 0&&Kt(this),en};let tn;this.getAttributes=function(){return tn===void 0&&Kt(this),tn};let Qt=xt.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return Qt===!1&&(Qt=St.getProgramParameter(zt,COMPLETION_STATUS_KHR)),Qt},this.destroy=function(){_t.releaseStatesOfProgram(this),St.deleteProgram(zt),this.program=void 0},this.type=xt.shaderType,this.name=xt.shaderName,this.id=programIdCount++,this.cacheKey=ht,this.usedTimes=1,this.program=zt,this.vertexShader=Xt,this.fragmentShader=qt,this}let _id$1=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(ht){const xt=ht.vertexShader,_t=ht.fragmentShader,St=this._getShaderStage(xt),wt=this._getShaderStage(_t),At=this._getShaderCacheForMaterial(ht);return At.has(St)===!1&&(At.add(St),St.usedTimes++),At.has(wt)===!1&&(At.add(wt),wt.usedTimes++),this}remove(ht){const xt=this.materialCache.get(ht);for(const _t of xt)_t.usedTimes--,_t.usedTimes===0&&this.shaderCache.delete(_t.code);return this.materialCache.delete(ht),this}getVertexShaderID(ht){return this._getShaderStage(ht.vertexShader).id}getFragmentShaderID(ht){return this._getShaderStage(ht.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(ht){const xt=this.materialCache;let _t=xt.get(ht);return _t===void 0&&(_t=new Set,xt.set(ht,_t)),_t}_getShaderStage(ht){const xt=this.shaderCache;let _t=xt.get(ht);return _t===void 0&&(_t=new WebGLShaderStage(ht),xt.set(ht,_t)),_t}}class WebGLShaderStage{constructor(ht){this.id=_id$1++,this.code=ht,this.usedTimes=0}}function WebGLPrograms(vt,ht,xt,_t,St,wt,At){const Ct=new Layers,Rt=new WebGLShaderCache,It=new Set,Lt=[],kt=St.logarithmicDepthBuffer,Dt=St.vertexTextures;let $t=St.precision;const Ot={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function zt(tn){return It.add(tn),tn===0?"uv":`uv${tn}`}function Gt(tn,Qt,sn,un,dn){const vn=un.fog,pn=dn.geometry,rn=tn.isMeshStandardMaterial?un.environment:null,an=(tn.isMeshStandardMaterial?xt:ht).get(tn.envMap||rn),Yt=an&&an.mapping===CubeUVReflectionMapping?an.image.height:null,Jt=Ot[tn.type];tn.precision!==null&&($t=St.getMaxPrecision(tn.precision),$t!==tn.precision&&console.warn("THREE.WebGLProgram.getParameters:",tn.precision,"not supported, using",$t,"instead."));const on=pn.morphAttributes.position||pn.morphAttributes.normal||pn.morphAttributes.color,ln=on!==void 0?on.length:0;let _n=0;pn.morphAttributes.position!==void 0&&(_n=1),pn.morphAttributes.normal!==void 0&&(_n=2),pn.morphAttributes.color!==void 0&&(_n=3);let wn,xn,Pn,Bn;if(Jt){const Fr=ShaderLib[Jt];wn=Fr.vertexShader,xn=Fr.fragmentShader}else wn=tn.vertexShader,xn=tn.fragmentShader,Rt.update(tn),Pn=Rt.getVertexShaderID(tn),Bn=Rt.getFragmentShaderID(tn);const Hn=vt.getRenderTarget(),or=dn.isInstancedMesh===!0,mr=dn.isBatchedMesh===!0,lr=!!tn.map,dr=!!tn.matcap,hn=!!an,Dn=!!tn.aoMap,An=!!tn.lightMap,Zn=!!tn.bumpMap,$n=!!tn.normalMap,ur=!!tn.displacementMap,qn=!!tn.emissiveMap,er=!!tn.metalnessMap,mn=!!tn.roughnessMap,cn=tn.anisotropy>0,Cn=tn.clearcoat>0,Gn=tn.dispersion>0,On=tn.iridescence>0,zn=tn.sheen>0,ar=tn.transmission>0,Yn=cn&&!!tn.anisotropyMap,tr=Cn&&!!tn.clearcoatMap,br=Cn&&!!tn.clearcoatNormalMap,Wn=Cn&&!!tn.clearcoatRoughnessMap,rr=On&&!!tn.iridescenceMap,kr=On&&!!tn.iridescenceThicknessMap,Tr=zn&&!!tn.sheenColorMap,cr=zn&&!!tn.sheenRoughnessMap,Ar=!!tn.specularMap,Sn=!!tn.specularColorMap,jn=!!tn.specularIntensityMap,yn=ar&&!!tn.transmissionMap,Vn=ar&&!!tn.thicknessMap,kn=!!tn.gradientMap,Un=!!tn.alphaMap,Xn=tn.alphaTest>0,Mr=!!tn.alphaHash,Lr=!!tn.extensions;let Nr=NoToneMapping;tn.toneMapped&&(Hn===null||Hn.isXRRenderTarget===!0)&&(Nr=vt.toneMapping);const Ur={shaderID:Jt,shaderType:tn.type,shaderName:tn.name,vertexShader:wn,fragmentShader:xn,defines:tn.defines,customVertexShaderID:Pn,customFragmentShaderID:Bn,isRawShaderMaterial:tn.isRawShaderMaterial===!0,glslVersion:tn.glslVersion,precision:$t,batching:mr,batchingColor:mr&&dn._colorsTexture!==null,instancing:or,instancingColor:or&&dn.instanceColor!==null,instancingMorph:or&&dn.morphTexture!==null,supportsVertexTextures:Dt,outputColorSpace:Hn===null?vt.outputColorSpace:Hn.isXRRenderTarget===!0?Hn.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!tn.alphaToCoverage,map:lr,matcap:dr,envMap:hn,envMapMode:hn&&an.mapping,envMapCubeUVHeight:Yt,aoMap:Dn,lightMap:An,bumpMap:Zn,normalMap:$n,displacementMap:Dt&&ur,emissiveMap:qn,normalMapObjectSpace:$n&&tn.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:$n&&tn.normalMapType===TangentSpaceNormalMap,metalnessMap:er,roughnessMap:mn,anisotropy:cn,anisotropyMap:Yn,clearcoat:Cn,clearcoatMap:tr,clearcoatNormalMap:br,clearcoatRoughnessMap:Wn,dispersion:Gn,iridescence:On,iridescenceMap:rr,iridescenceThicknessMap:kr,sheen:zn,sheenColorMap:Tr,sheenRoughnessMap:cr,specularMap:Ar,specularColorMap:Sn,specularIntensityMap:jn,transmission:ar,transmissionMap:yn,thicknessMap:Vn,gradientMap:kn,opaque:tn.transparent===!1&&tn.blending===NormalBlending&&tn.alphaToCoverage===!1,alphaMap:Un,alphaTest:Xn,alphaHash:Mr,combine:tn.combine,mapUv:lr&&zt(tn.map.channel),aoMapUv:Dn&&zt(tn.aoMap.channel),lightMapUv:An&&zt(tn.lightMap.channel),bumpMapUv:Zn&&zt(tn.bumpMap.channel),normalMapUv:$n&&zt(tn.normalMap.channel),displacementMapUv:ur&&zt(tn.displacementMap.channel),emissiveMapUv:qn&&zt(tn.emissiveMap.channel),metalnessMapUv:er&&zt(tn.metalnessMap.channel),roughnessMapUv:mn&&zt(tn.roughnessMap.channel),anisotropyMapUv:Yn&&zt(tn.anisotropyMap.channel),clearcoatMapUv:tr&&zt(tn.clearcoatMap.channel),clearcoatNormalMapUv:br&&zt(tn.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Wn&&zt(tn.clearcoatRoughnessMap.channel),iridescenceMapUv:rr&&zt(tn.iridescenceMap.channel),iridescenceThicknessMapUv:kr&&zt(tn.iridescenceThicknessMap.channel),sheenColorMapUv:Tr&&zt(tn.sheenColorMap.channel),sheenRoughnessMapUv:cr&&zt(tn.sheenRoughnessMap.channel),specularMapUv:Ar&&zt(tn.specularMap.channel),specularColorMapUv:Sn&&zt(tn.specularColorMap.channel),specularIntensityMapUv:jn&&zt(tn.specularIntensityMap.channel),transmissionMapUv:yn&&zt(tn.transmissionMap.channel),thicknessMapUv:Vn&&zt(tn.thicknessMap.channel),alphaMapUv:Un&&zt(tn.alphaMap.channel),vertexTangents:!!pn.attributes.tangent&&($n||cn),vertexColors:tn.vertexColors,vertexAlphas:tn.vertexColors===!0&&!!pn.attributes.color&&pn.attributes.color.itemSize===4,pointsUvs:dn.isPoints===!0&&!!pn.attributes.uv&&(lr||Un),fog:!!vn,useFog:tn.fog===!0,fogExp2:!!vn&&vn.isFogExp2,flatShading:tn.flatShading===!0,sizeAttenuation:tn.sizeAttenuation===!0,logarithmicDepthBuffer:kt,skinning:dn.isSkinnedMesh===!0,morphTargets:pn.morphAttributes.position!==void 0,morphNormals:pn.morphAttributes.normal!==void 0,morphColors:pn.morphAttributes.color!==void 0,morphTargetsCount:ln,morphTextureStride:_n,numDirLights:Qt.directional.length,numPointLights:Qt.point.length,numSpotLights:Qt.spot.length,numSpotLightMaps:Qt.spotLightMap.length,numRectAreaLights:Qt.rectArea.length,numHemiLights:Qt.hemi.length,numDirLightShadows:Qt.directionalShadowMap.length,numPointLightShadows:Qt.pointShadowMap.length,numSpotLightShadows:Qt.spotShadowMap.length,numSpotLightShadowsWithMaps:Qt.numSpotLightShadowsWithMaps,numLightProbes:Qt.numLightProbes,numClippingPlanes:At.numPlanes,numClipIntersection:At.numIntersection,dithering:tn.dithering,shadowMapEnabled:vt.shadowMap.enabled&&sn.length>0,shadowMapType:vt.shadowMap.type,toneMapping:Nr,decodeVideoTexture:lr&&tn.map.isVideoTexture===!0&&ColorManagement.getTransfer(tn.map.colorSpace)===SRGBTransfer,premultipliedAlpha:tn.premultipliedAlpha,doubleSided:tn.side===DoubleSide,flipSided:tn.side===BackSide,useDepthPacking:tn.depthPacking>=0,depthPacking:tn.depthPacking||0,index0AttributeName:tn.index0AttributeName,extensionClipCullDistance:Lr&&tn.extensions.clipCullDistance===!0&&_t.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Lr&&tn.extensions.multiDraw===!0||mr)&&_t.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:_t.has("KHR_parallel_shader_compile"),customProgramCacheKey:tn.customProgramCacheKey()};return Ur.vertexUv1s=It.has(1),Ur.vertexUv2s=It.has(2),Ur.vertexUv3s=It.has(3),It.clear(),Ur}function Bt(tn){const Qt=[];if(tn.shaderID?Qt.push(tn.shaderID):(Qt.push(tn.customVertexShaderID),Qt.push(tn.customFragmentShaderID)),tn.defines!==void 0)for(const sn in tn.defines)Qt.push(sn),Qt.push(tn.defines[sn]);return tn.isRawShaderMaterial===!1&&(Ut(Qt,tn),Vt(Qt,tn),Qt.push(vt.outputColorSpace)),Qt.push(tn.customProgramCacheKey),Qt.join()}function Ut(tn,Qt){tn.push(Qt.precision),tn.push(Qt.outputColorSpace),tn.push(Qt.envMapMode),tn.push(Qt.envMapCubeUVHeight),tn.push(Qt.mapUv),tn.push(Qt.alphaMapUv),tn.push(Qt.lightMapUv),tn.push(Qt.aoMapUv),tn.push(Qt.bumpMapUv),tn.push(Qt.normalMapUv),tn.push(Qt.displacementMapUv),tn.push(Qt.emissiveMapUv),tn.push(Qt.metalnessMapUv),tn.push(Qt.roughnessMapUv),tn.push(Qt.anisotropyMapUv),tn.push(Qt.clearcoatMapUv),tn.push(Qt.clearcoatNormalMapUv),tn.push(Qt.clearcoatRoughnessMapUv),tn.push(Qt.iridescenceMapUv),tn.push(Qt.iridescenceThicknessMapUv),tn.push(Qt.sheenColorMapUv),tn.push(Qt.sheenRoughnessMapUv),tn.push(Qt.specularMapUv),tn.push(Qt.specularColorMapUv),tn.push(Qt.specularIntensityMapUv),tn.push(Qt.transmissionMapUv),tn.push(Qt.thicknessMapUv),tn.push(Qt.combine),tn.push(Qt.fogExp2),tn.push(Qt.sizeAttenuation),tn.push(Qt.morphTargetsCount),tn.push(Qt.morphAttributeCount),tn.push(Qt.numDirLights),tn.push(Qt.numPointLights),tn.push(Qt.numSpotLights),tn.push(Qt.numSpotLightMaps),tn.push(Qt.numHemiLights),tn.push(Qt.numRectAreaLights),tn.push(Qt.numDirLightShadows),tn.push(Qt.numPointLightShadows),tn.push(Qt.numSpotLightShadows),tn.push(Qt.numSpotLightShadowsWithMaps),tn.push(Qt.numLightProbes),tn.push(Qt.shadowMapType),tn.push(Qt.toneMapping),tn.push(Qt.numClippingPlanes),tn.push(Qt.numClipIntersection),tn.push(Qt.depthPacking)}function Vt(tn,Qt){Ct.disableAll(),Qt.supportsVertexTextures&&Ct.enable(0),Qt.instancing&&Ct.enable(1),Qt.instancingColor&&Ct.enable(2),Qt.instancingMorph&&Ct.enable(3),Qt.matcap&&Ct.enable(4),Qt.envMap&&Ct.enable(5),Qt.normalMapObjectSpace&&Ct.enable(6),Qt.normalMapTangentSpace&&Ct.enable(7),Qt.clearcoat&&Ct.enable(8),Qt.iridescence&&Ct.enable(9),Qt.alphaTest&&Ct.enable(10),Qt.vertexColors&&Ct.enable(11),Qt.vertexAlphas&&Ct.enable(12),Qt.vertexUv1s&&Ct.enable(13),Qt.vertexUv2s&&Ct.enable(14),Qt.vertexUv3s&&Ct.enable(15),Qt.vertexTangents&&Ct.enable(16),Qt.anisotropy&&Ct.enable(17),Qt.alphaHash&&Ct.enable(18),Qt.batching&&Ct.enable(19),Qt.dispersion&&Ct.enable(20),Qt.batchingColor&&Ct.enable(21),tn.push(Ct.mask),Ct.disableAll(),Qt.fog&&Ct.enable(0),Qt.useFog&&Ct.enable(1),Qt.flatShading&&Ct.enable(2),Qt.logarithmicDepthBuffer&&Ct.enable(3),Qt.skinning&&Ct.enable(4),Qt.morphTargets&&Ct.enable(5),Qt.morphNormals&&Ct.enable(6),Qt.morphColors&&Ct.enable(7),Qt.premultipliedAlpha&&Ct.enable(8),Qt.shadowMapEnabled&&Ct.enable(9),Qt.doubleSided&&Ct.enable(10),Qt.flipSided&&Ct.enable(11),Qt.useDepthPacking&&Ct.enable(12),Qt.dithering&&Ct.enable(13),Qt.transmission&&Ct.enable(14),Qt.sheen&&Ct.enable(15),Qt.opaque&&Ct.enable(16),Qt.pointsUvs&&Ct.enable(17),Qt.decodeVideoTexture&&Ct.enable(18),Qt.alphaToCoverage&&Ct.enable(19),tn.push(Ct.mask)}function Ht(tn){const Qt=Ot[tn.type];let sn;if(Qt){const un=ShaderLib[Qt];sn=UniformsUtils.clone(un.uniforms)}else sn=tn.uniforms;return sn}function Xt(tn,Qt){let sn;for(let un=0,dn=Lt.length;un<dn;un++){const vn=Lt[un];if(vn.cacheKey===Qt){sn=vn,++sn.usedTimes;break}}return sn===void 0&&(sn=new WebGLProgram(vt,Qt,tn,wt),Lt.push(sn)),sn}function qt(tn){if(--tn.usedTimes===0){const Qt=Lt.indexOf(tn);Lt[Qt]=Lt[Lt.length-1],Lt.pop(),tn.destroy()}}function Kt(tn){Rt.remove(tn)}function en(){Rt.dispose()}return{getParameters:Gt,getProgramCacheKey:Bt,getUniforms:Ht,acquireProgram:Xt,releaseProgram:qt,releaseShaderCache:Kt,programs:Lt,dispose:en}}function WebGLProperties(){let vt=new WeakMap;function ht(wt){let At=vt.get(wt);return At===void 0&&(At={},vt.set(wt,At)),At}function xt(wt){vt.delete(wt)}function _t(wt,At,Ct){vt.get(wt)[At]=Ct}function St(){vt=new WeakMap}return{get:ht,remove:xt,update:_t,dispose:St}}function painterSortStable(vt,ht){return vt.groupOrder!==ht.groupOrder?vt.groupOrder-ht.groupOrder:vt.renderOrder!==ht.renderOrder?vt.renderOrder-ht.renderOrder:vt.material.id!==ht.material.id?vt.material.id-ht.material.id:vt.z!==ht.z?vt.z-ht.z:vt.id-ht.id}function reversePainterSortStable(vt,ht){return vt.groupOrder!==ht.groupOrder?vt.groupOrder-ht.groupOrder:vt.renderOrder!==ht.renderOrder?vt.renderOrder-ht.renderOrder:vt.z!==ht.z?ht.z-vt.z:vt.id-ht.id}function WebGLRenderList(){const vt=[];let ht=0;const xt=[],_t=[],St=[];function wt(){ht=0,xt.length=0,_t.length=0,St.length=0}function At(kt,Dt,$t,Ot,zt,Gt){let Bt=vt[ht];return Bt===void 0?(Bt={id:kt.id,object:kt,geometry:Dt,material:$t,groupOrder:Ot,renderOrder:kt.renderOrder,z:zt,group:Gt},vt[ht]=Bt):(Bt.id=kt.id,Bt.object=kt,Bt.geometry=Dt,Bt.material=$t,Bt.groupOrder=Ot,Bt.renderOrder=kt.renderOrder,Bt.z=zt,Bt.group=Gt),ht++,Bt}function Ct(kt,Dt,$t,Ot,zt,Gt){const Bt=At(kt,Dt,$t,Ot,zt,Gt);$t.transmission>0?_t.push(Bt):$t.transparent===!0?St.push(Bt):xt.push(Bt)}function Rt(kt,Dt,$t,Ot,zt,Gt){const Bt=At(kt,Dt,$t,Ot,zt,Gt);$t.transmission>0?_t.unshift(Bt):$t.transparent===!0?St.unshift(Bt):xt.unshift(Bt)}function It(kt,Dt){xt.length>1&&xt.sort(kt||painterSortStable),_t.length>1&&_t.sort(Dt||reversePainterSortStable),St.length>1&&St.sort(Dt||reversePainterSortStable)}function Lt(){for(let kt=ht,Dt=vt.length;kt<Dt;kt++){const $t=vt[kt];if($t.id===null)break;$t.id=null,$t.object=null,$t.geometry=null,$t.material=null,$t.group=null}}return{opaque:xt,transmissive:_t,transparent:St,init:wt,push:Ct,unshift:Rt,finish:Lt,sort:It}}function WebGLRenderLists(){let vt=new WeakMap;function ht(_t,St){const wt=vt.get(_t);let At;return wt===void 0?(At=new WebGLRenderList,vt.set(_t,[At])):St>=wt.length?(At=new WebGLRenderList,wt.push(At)):At=wt[St],At}function xt(){vt=new WeakMap}return{get:ht,dispose:xt}}function UniformsCache(){const vt={};return{get:function(ht){if(vt[ht.id]!==void 0)return vt[ht.id];let xt;switch(ht.type){case"DirectionalLight":xt={direction:new Vector3,color:new Color};break;case"SpotLight":xt={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":xt={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":xt={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":xt={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return vt[ht.id]=xt,xt}}}function ShadowUniformsCache(){const vt={};return{get:function(ht){if(vt[ht.id]!==void 0)return vt[ht.id];let xt;switch(ht.type){case"DirectionalLight":xt={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":xt={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":xt={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return vt[ht.id]=xt,xt}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(vt,ht){return(ht.castShadow?2:0)-(vt.castShadow?2:0)+(ht.map?1:0)-(vt.map?1:0)}function WebGLLights(vt){const ht=new UniformsCache,xt=ShadowUniformsCache(),_t={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let It=0;It<9;It++)_t.probe.push(new Vector3);const St=new Vector3,wt=new Matrix4,At=new Matrix4;function Ct(It){let Lt=0,kt=0,Dt=0;for(let tn=0;tn<9;tn++)_t.probe[tn].set(0,0,0);let $t=0,Ot=0,zt=0,Gt=0,Bt=0,Ut=0,Vt=0,Ht=0,Xt=0,qt=0,Kt=0;It.sort(shadowCastingAndTexturingLightsFirst);for(let tn=0,Qt=It.length;tn<Qt;tn++){const sn=It[tn],un=sn.color,dn=sn.intensity,vn=sn.distance,pn=sn.shadow&&sn.shadow.map?sn.shadow.map.texture:null;if(sn.isAmbientLight)Lt+=un.r*dn,kt+=un.g*dn,Dt+=un.b*dn;else if(sn.isLightProbe){for(let rn=0;rn<9;rn++)_t.probe[rn].addScaledVector(sn.sh.coefficients[rn],dn);Kt++}else if(sn.isDirectionalLight){const rn=ht.get(sn);if(rn.color.copy(sn.color).multiplyScalar(sn.intensity),sn.castShadow){const an=sn.shadow,Yt=xt.get(sn);Yt.shadowIntensity=an.intensity,Yt.shadowBias=an.bias,Yt.shadowNormalBias=an.normalBias,Yt.shadowRadius=an.radius,Yt.shadowMapSize=an.mapSize,_t.directionalShadow[$t]=Yt,_t.directionalShadowMap[$t]=pn,_t.directionalShadowMatrix[$t]=sn.shadow.matrix,Ut++}_t.directional[$t]=rn,$t++}else if(sn.isSpotLight){const rn=ht.get(sn);rn.position.setFromMatrixPosition(sn.matrixWorld),rn.color.copy(un).multiplyScalar(dn),rn.distance=vn,rn.coneCos=Math.cos(sn.angle),rn.penumbraCos=Math.cos(sn.angle*(1-sn.penumbra)),rn.decay=sn.decay,_t.spot[zt]=rn;const an=sn.shadow;if(sn.map&&(_t.spotLightMap[Xt]=sn.map,Xt++,an.updateMatrices(sn),sn.castShadow&&qt++),_t.spotLightMatrix[zt]=an.matrix,sn.castShadow){const Yt=xt.get(sn);Yt.shadowIntensity=an.intensity,Yt.shadowBias=an.bias,Yt.shadowNormalBias=an.normalBias,Yt.shadowRadius=an.radius,Yt.shadowMapSize=an.mapSize,_t.spotShadow[zt]=Yt,_t.spotShadowMap[zt]=pn,Ht++}zt++}else if(sn.isRectAreaLight){const rn=ht.get(sn);rn.color.copy(un).multiplyScalar(dn),rn.halfWidth.set(sn.width*.5,0,0),rn.halfHeight.set(0,sn.height*.5,0),_t.rectArea[Gt]=rn,Gt++}else if(sn.isPointLight){const rn=ht.get(sn);if(rn.color.copy(sn.color).multiplyScalar(sn.intensity),rn.distance=sn.distance,rn.decay=sn.decay,sn.castShadow){const an=sn.shadow,Yt=xt.get(sn);Yt.shadowIntensity=an.intensity,Yt.shadowBias=an.bias,Yt.shadowNormalBias=an.normalBias,Yt.shadowRadius=an.radius,Yt.shadowMapSize=an.mapSize,Yt.shadowCameraNear=an.camera.near,Yt.shadowCameraFar=an.camera.far,_t.pointShadow[Ot]=Yt,_t.pointShadowMap[Ot]=pn,_t.pointShadowMatrix[Ot]=sn.shadow.matrix,Vt++}_t.point[Ot]=rn,Ot++}else if(sn.isHemisphereLight){const rn=ht.get(sn);rn.skyColor.copy(sn.color).multiplyScalar(dn),rn.groundColor.copy(sn.groundColor).multiplyScalar(dn),_t.hemi[Bt]=rn,Bt++}}Gt>0&&(vt.has("OES_texture_float_linear")===!0?(_t.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,_t.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(_t.rectAreaLTC1=UniformsLib.LTC_HALF_1,_t.rectAreaLTC2=UniformsLib.LTC_HALF_2)),_t.ambient[0]=Lt,_t.ambient[1]=kt,_t.ambient[2]=Dt;const en=_t.hash;(en.directionalLength!==$t||en.pointLength!==Ot||en.spotLength!==zt||en.rectAreaLength!==Gt||en.hemiLength!==Bt||en.numDirectionalShadows!==Ut||en.numPointShadows!==Vt||en.numSpotShadows!==Ht||en.numSpotMaps!==Xt||en.numLightProbes!==Kt)&&(_t.directional.length=$t,_t.spot.length=zt,_t.rectArea.length=Gt,_t.point.length=Ot,_t.hemi.length=Bt,_t.directionalShadow.length=Ut,_t.directionalShadowMap.length=Ut,_t.pointShadow.length=Vt,_t.pointShadowMap.length=Vt,_t.spotShadow.length=Ht,_t.spotShadowMap.length=Ht,_t.directionalShadowMatrix.length=Ut,_t.pointShadowMatrix.length=Vt,_t.spotLightMatrix.length=Ht+Xt-qt,_t.spotLightMap.length=Xt,_t.numSpotLightShadowsWithMaps=qt,_t.numLightProbes=Kt,en.directionalLength=$t,en.pointLength=Ot,en.spotLength=zt,en.rectAreaLength=Gt,en.hemiLength=Bt,en.numDirectionalShadows=Ut,en.numPointShadows=Vt,en.numSpotShadows=Ht,en.numSpotMaps=Xt,en.numLightProbes=Kt,_t.version=nextVersion++)}function Rt(It,Lt){let kt=0,Dt=0,$t=0,Ot=0,zt=0;const Gt=Lt.matrixWorldInverse;for(let Bt=0,Ut=It.length;Bt<Ut;Bt++){const Vt=It[Bt];if(Vt.isDirectionalLight){const Ht=_t.directional[kt];Ht.direction.setFromMatrixPosition(Vt.matrixWorld),St.setFromMatrixPosition(Vt.target.matrixWorld),Ht.direction.sub(St),Ht.direction.transformDirection(Gt),kt++}else if(Vt.isSpotLight){const Ht=_t.spot[$t];Ht.position.setFromMatrixPosition(Vt.matrixWorld),Ht.position.applyMatrix4(Gt),Ht.direction.setFromMatrixPosition(Vt.matrixWorld),St.setFromMatrixPosition(Vt.target.matrixWorld),Ht.direction.sub(St),Ht.direction.transformDirection(Gt),$t++}else if(Vt.isRectAreaLight){const Ht=_t.rectArea[Ot];Ht.position.setFromMatrixPosition(Vt.matrixWorld),Ht.position.applyMatrix4(Gt),At.identity(),wt.copy(Vt.matrixWorld),wt.premultiply(Gt),At.extractRotation(wt),Ht.halfWidth.set(Vt.width*.5,0,0),Ht.halfHeight.set(0,Vt.height*.5,0),Ht.halfWidth.applyMatrix4(At),Ht.halfHeight.applyMatrix4(At),Ot++}else if(Vt.isPointLight){const Ht=_t.point[Dt];Ht.position.setFromMatrixPosition(Vt.matrixWorld),Ht.position.applyMatrix4(Gt),Dt++}else if(Vt.isHemisphereLight){const Ht=_t.hemi[zt];Ht.direction.setFromMatrixPosition(Vt.matrixWorld),Ht.direction.transformDirection(Gt),zt++}}}return{setup:Ct,setupView:Rt,state:_t}}function WebGLRenderState(vt){const ht=new WebGLLights(vt),xt=[],_t=[];function St(Lt){It.camera=Lt,xt.length=0,_t.length=0}function wt(Lt){xt.push(Lt)}function At(Lt){_t.push(Lt)}function Ct(){ht.setup(xt)}function Rt(Lt){ht.setupView(xt,Lt)}const It={lightsArray:xt,shadowsArray:_t,camera:null,lights:ht,transmissionRenderTarget:{}};return{init:St,state:It,setupLights:Ct,setupLightsView:Rt,pushLight:wt,pushShadow:At}}function WebGLRenderStates(vt){let ht=new WeakMap;function xt(St,wt=0){const At=ht.get(St);let Ct;return At===void 0?(Ct=new WebGLRenderState(vt),ht.set(St,[Ct])):wt>=At.length?(Ct=new WebGLRenderState(vt),At.push(Ct)):Ct=At[wt],Ct}function _t(){ht=new WeakMap}return{get:xt,dispose:_t}}class MeshDepthMaterial extends Material{constructor(ht){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(ht)}copy(ht){return super.copy(ht),this.depthPacking=ht.depthPacking,this.map=ht.map,this.alphaMap=ht.alphaMap,this.displacementMap=ht.displacementMap,this.displacementScale=ht.displacementScale,this.displacementBias=ht.displacementBias,this.wireframe=ht.wireframe,this.wireframeLinewidth=ht.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(ht){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(ht)}copy(ht){return super.copy(ht),this.map=ht.map,this.alphaMap=ht.alphaMap,this.displacementMap=ht.displacementMap,this.displacementScale=ht.displacementScale,this.displacementBias=ht.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(vt,ht,xt){let _t=new Frustum;const St=new Vector2,wt=new Vector2,At=new Vector4,Ct=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),Rt=new MeshDistanceMaterial,It={},Lt=xt.maxTextureSize,kt={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},Dt=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),$t=Dt.clone();$t.defines.HORIZONTAL_PASS=1;const Ot=new BufferGeometry;Ot.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const zt=new Mesh(Ot,Dt),Gt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let Bt=this.type;this.render=function(qt,Kt,en){if(Gt.enabled===!1||Gt.autoUpdate===!1&&Gt.needsUpdate===!1||qt.length===0)return;const tn=vt.getRenderTarget(),Qt=vt.getActiveCubeFace(),sn=vt.getActiveMipmapLevel(),un=vt.state;un.setBlending(NoBlending),un.buffers.color.setClear(1,1,1,1),un.buffers.depth.setTest(!0),un.setScissorTest(!1);const dn=Bt!==VSMShadowMap&&this.type===VSMShadowMap,vn=Bt===VSMShadowMap&&this.type!==VSMShadowMap;for(let pn=0,rn=qt.length;pn<rn;pn++){const an=qt[pn],Yt=an.shadow;if(Yt===void 0){console.warn("THREE.WebGLShadowMap:",an,"has no shadow.");continue}if(Yt.autoUpdate===!1&&Yt.needsUpdate===!1)continue;St.copy(Yt.mapSize);const Jt=Yt.getFrameExtents();if(St.multiply(Jt),wt.copy(Yt.mapSize),(St.x>Lt||St.y>Lt)&&(St.x>Lt&&(wt.x=Math.floor(Lt/Jt.x),St.x=wt.x*Jt.x,Yt.mapSize.x=wt.x),St.y>Lt&&(wt.y=Math.floor(Lt/Jt.y),St.y=wt.y*Jt.y,Yt.mapSize.y=wt.y)),Yt.map===null||dn===!0||vn===!0){const ln=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};Yt.map!==null&&Yt.map.dispose(),Yt.map=new WebGLRenderTarget(St.x,St.y,ln),Yt.map.texture.name=an.name+".shadowMap",Yt.camera.updateProjectionMatrix()}vt.setRenderTarget(Yt.map),vt.clear();const on=Yt.getViewportCount();for(let ln=0;ln<on;ln++){const _n=Yt.getViewport(ln);At.set(wt.x*_n.x,wt.y*_n.y,wt.x*_n.z,wt.y*_n.w),un.viewport(At),Yt.updateMatrices(an,ln),_t=Yt.getFrustum(),Ht(Kt,en,Yt.camera,an,this.type)}Yt.isPointLightShadow!==!0&&this.type===VSMShadowMap&&Ut(Yt,en),Yt.needsUpdate=!1}Bt=this.type,Gt.needsUpdate=!1,vt.setRenderTarget(tn,Qt,sn)};function Ut(qt,Kt){const en=ht.update(zt);Dt.defines.VSM_SAMPLES!==qt.blurSamples&&(Dt.defines.VSM_SAMPLES=qt.blurSamples,$t.defines.VSM_SAMPLES=qt.blurSamples,Dt.needsUpdate=!0,$t.needsUpdate=!0),qt.mapPass===null&&(qt.mapPass=new WebGLRenderTarget(St.x,St.y)),Dt.uniforms.shadow_pass.value=qt.map.texture,Dt.uniforms.resolution.value=qt.mapSize,Dt.uniforms.radius.value=qt.radius,vt.setRenderTarget(qt.mapPass),vt.clear(),vt.renderBufferDirect(Kt,null,en,Dt,zt,null),$t.uniforms.shadow_pass.value=qt.mapPass.texture,$t.uniforms.resolution.value=qt.mapSize,$t.uniforms.radius.value=qt.radius,vt.setRenderTarget(qt.map),vt.clear(),vt.renderBufferDirect(Kt,null,en,$t,zt,null)}function Vt(qt,Kt,en,tn){let Qt=null;const sn=en.isPointLight===!0?qt.customDistanceMaterial:qt.customDepthMaterial;if(sn!==void 0)Qt=sn;else if(Qt=en.isPointLight===!0?Rt:Ct,vt.localClippingEnabled&&Kt.clipShadows===!0&&Array.isArray(Kt.clippingPlanes)&&Kt.clippingPlanes.length!==0||Kt.displacementMap&&Kt.displacementScale!==0||Kt.alphaMap&&Kt.alphaTest>0||Kt.map&&Kt.alphaTest>0){const un=Qt.uuid,dn=Kt.uuid;let vn=It[un];vn===void 0&&(vn={},It[un]=vn);let pn=vn[dn];pn===void 0&&(pn=Qt.clone(),vn[dn]=pn,Kt.addEventListener("dispose",Xt)),Qt=pn}if(Qt.visible=Kt.visible,Qt.wireframe=Kt.wireframe,tn===VSMShadowMap?Qt.side=Kt.shadowSide!==null?Kt.shadowSide:Kt.side:Qt.side=Kt.shadowSide!==null?Kt.shadowSide:kt[Kt.side],Qt.alphaMap=Kt.alphaMap,Qt.alphaTest=Kt.alphaTest,Qt.map=Kt.map,Qt.clipShadows=Kt.clipShadows,Qt.clippingPlanes=Kt.clippingPlanes,Qt.clipIntersection=Kt.clipIntersection,Qt.displacementMap=Kt.displacementMap,Qt.displacementScale=Kt.displacementScale,Qt.displacementBias=Kt.displacementBias,Qt.wireframeLinewidth=Kt.wireframeLinewidth,Qt.linewidth=Kt.linewidth,en.isPointLight===!0&&Qt.isMeshDistanceMaterial===!0){const un=vt.properties.get(Qt);un.light=en}return Qt}function Ht(qt,Kt,en,tn,Qt){if(qt.visible===!1)return;if(qt.layers.test(Kt.layers)&&(qt.isMesh||qt.isLine||qt.isPoints)&&(qt.castShadow||qt.receiveShadow&&Qt===VSMShadowMap)&&(!qt.frustumCulled||_t.intersectsObject(qt))){qt.modelViewMatrix.multiplyMatrices(en.matrixWorldInverse,qt.matrixWorld);const dn=ht.update(qt),vn=qt.material;if(Array.isArray(vn)){const pn=dn.groups;for(let rn=0,an=pn.length;rn<an;rn++){const Yt=pn[rn],Jt=vn[Yt.materialIndex];if(Jt&&Jt.visible){const on=Vt(qt,Jt,tn,Qt);qt.onBeforeShadow(vt,qt,Kt,en,dn,on,Yt),vt.renderBufferDirect(en,null,dn,on,qt,Yt),qt.onAfterShadow(vt,qt,Kt,en,dn,on,Yt)}}}else if(vn.visible){const pn=Vt(qt,vn,tn,Qt);qt.onBeforeShadow(vt,qt,Kt,en,dn,pn,null),vt.renderBufferDirect(en,null,dn,pn,qt,null),qt.onAfterShadow(vt,qt,Kt,en,dn,pn,null)}}const un=qt.children;for(let dn=0,vn=un.length;dn<vn;dn++)Ht(un[dn],Kt,en,tn,Qt)}function Xt(qt){qt.target.removeEventListener("dispose",Xt);for(const en in It){const tn=It[en],Qt=qt.target.uuid;Qt in tn&&(tn[Qt].dispose(),delete tn[Qt])}}}function WebGLState(vt){function ht(){let yn=!1;const Vn=new Vector4;let kn=null;const Un=new Vector4(0,0,0,0);return{setMask:function(Xn){kn!==Xn&&!yn&&(vt.colorMask(Xn,Xn,Xn,Xn),kn=Xn)},setLocked:function(Xn){yn=Xn},setClear:function(Xn,Mr,Lr,Nr,Ur){Ur===!0&&(Xn*=Nr,Mr*=Nr,Lr*=Nr),Vn.set(Xn,Mr,Lr,Nr),Un.equals(Vn)===!1&&(vt.clearColor(Xn,Mr,Lr,Nr),Un.copy(Vn))},reset:function(){yn=!1,kn=null,Un.set(-1,0,0,0)}}}function xt(){let yn=!1,Vn=null,kn=null,Un=null;return{setTest:function(Xn){Xn?Bn(vt.DEPTH_TEST):Hn(vt.DEPTH_TEST)},setMask:function(Xn){Vn!==Xn&&!yn&&(vt.depthMask(Xn),Vn=Xn)},setFunc:function(Xn){if(kn!==Xn){switch(Xn){case NeverDepth:vt.depthFunc(vt.NEVER);break;case AlwaysDepth:vt.depthFunc(vt.ALWAYS);break;case LessDepth:vt.depthFunc(vt.LESS);break;case LessEqualDepth:vt.depthFunc(vt.LEQUAL);break;case EqualDepth:vt.depthFunc(vt.EQUAL);break;case GreaterEqualDepth:vt.depthFunc(vt.GEQUAL);break;case GreaterDepth:vt.depthFunc(vt.GREATER);break;case NotEqualDepth:vt.depthFunc(vt.NOTEQUAL);break;default:vt.depthFunc(vt.LEQUAL)}kn=Xn}},setLocked:function(Xn){yn=Xn},setClear:function(Xn){Un!==Xn&&(vt.clearDepth(Xn),Un=Xn)},reset:function(){yn=!1,Vn=null,kn=null,Un=null}}}function _t(){let yn=!1,Vn=null,kn=null,Un=null,Xn=null,Mr=null,Lr=null,Nr=null,Ur=null;return{setTest:function(Fr){yn||(Fr?Bn(vt.STENCIL_TEST):Hn(vt.STENCIL_TEST))},setMask:function(Fr){Vn!==Fr&&!yn&&(vt.stencilMask(Fr),Vn=Fr)},setFunc:function(Fr,rs,ts){(kn!==Fr||Un!==rs||Xn!==ts)&&(vt.stencilFunc(Fr,rs,ts),kn=Fr,Un=rs,Xn=ts)},setOp:function(Fr,rs,ts){(Mr!==Fr||Lr!==rs||Nr!==ts)&&(vt.stencilOp(Fr,rs,ts),Mr=Fr,Lr=rs,Nr=ts)},setLocked:function(Fr){yn=Fr},setClear:function(Fr){Ur!==Fr&&(vt.clearStencil(Fr),Ur=Fr)},reset:function(){yn=!1,Vn=null,kn=null,Un=null,Xn=null,Mr=null,Lr=null,Nr=null,Ur=null}}}const St=new ht,wt=new xt,At=new _t,Ct=new WeakMap,Rt=new WeakMap;let It={},Lt={},kt=new WeakMap,Dt=[],$t=null,Ot=!1,zt=null,Gt=null,Bt=null,Ut=null,Vt=null,Ht=null,Xt=null,qt=new Color(0,0,0),Kt=0,en=!1,tn=null,Qt=null,sn=null,un=null,dn=null;const vn=vt.getParameter(vt.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let pn=!1,rn=0;const an=vt.getParameter(vt.VERSION);an.indexOf("WebGL")!==-1?(rn=parseFloat(/^WebGL (\d)/.exec(an)[1]),pn=rn>=1):an.indexOf("OpenGL ES")!==-1&&(rn=parseFloat(/^OpenGL ES (\d)/.exec(an)[1]),pn=rn>=2);let Yt=null,Jt={};const on=vt.getParameter(vt.SCISSOR_BOX),ln=vt.getParameter(vt.VIEWPORT),_n=new Vector4().fromArray(on),wn=new Vector4().fromArray(ln);function xn(yn,Vn,kn,Un){const Xn=new Uint8Array(4),Mr=vt.createTexture();vt.bindTexture(yn,Mr),vt.texParameteri(yn,vt.TEXTURE_MIN_FILTER,vt.NEAREST),vt.texParameteri(yn,vt.TEXTURE_MAG_FILTER,vt.NEAREST);for(let Lr=0;Lr<kn;Lr++)yn===vt.TEXTURE_3D||yn===vt.TEXTURE_2D_ARRAY?vt.texImage3D(Vn,0,vt.RGBA,1,1,Un,0,vt.RGBA,vt.UNSIGNED_BYTE,Xn):vt.texImage2D(Vn+Lr,0,vt.RGBA,1,1,0,vt.RGBA,vt.UNSIGNED_BYTE,Xn);return Mr}const Pn={};Pn[vt.TEXTURE_2D]=xn(vt.TEXTURE_2D,vt.TEXTURE_2D,1),Pn[vt.TEXTURE_CUBE_MAP]=xn(vt.TEXTURE_CUBE_MAP,vt.TEXTURE_CUBE_MAP_POSITIVE_X,6),Pn[vt.TEXTURE_2D_ARRAY]=xn(vt.TEXTURE_2D_ARRAY,vt.TEXTURE_2D_ARRAY,1,1),Pn[vt.TEXTURE_3D]=xn(vt.TEXTURE_3D,vt.TEXTURE_3D,1,1),St.setClear(0,0,0,1),wt.setClear(1),At.setClear(0),Bn(vt.DEPTH_TEST),wt.setFunc(LessEqualDepth),Zn(!1),$n(CullFaceBack),Bn(vt.CULL_FACE),Dn(NoBlending);function Bn(yn){It[yn]!==!0&&(vt.enable(yn),It[yn]=!0)}function Hn(yn){It[yn]!==!1&&(vt.disable(yn),It[yn]=!1)}function or(yn,Vn){return Lt[yn]!==Vn?(vt.bindFramebuffer(yn,Vn),Lt[yn]=Vn,yn===vt.DRAW_FRAMEBUFFER&&(Lt[vt.FRAMEBUFFER]=Vn),yn===vt.FRAMEBUFFER&&(Lt[vt.DRAW_FRAMEBUFFER]=Vn),!0):!1}function mr(yn,Vn){let kn=Dt,Un=!1;if(yn){kn=kt.get(Vn),kn===void 0&&(kn=[],kt.set(Vn,kn));const Xn=yn.textures;if(kn.length!==Xn.length||kn[0]!==vt.COLOR_ATTACHMENT0){for(let Mr=0,Lr=Xn.length;Mr<Lr;Mr++)kn[Mr]=vt.COLOR_ATTACHMENT0+Mr;kn.length=Xn.length,Un=!0}}else kn[0]!==vt.BACK&&(kn[0]=vt.BACK,Un=!0);Un&&vt.drawBuffers(kn)}function lr(yn){return $t!==yn?(vt.useProgram(yn),$t=yn,!0):!1}const dr={[AddEquation]:vt.FUNC_ADD,[SubtractEquation]:vt.FUNC_SUBTRACT,[ReverseSubtractEquation]:vt.FUNC_REVERSE_SUBTRACT};dr[MinEquation]=vt.MIN,dr[MaxEquation]=vt.MAX;const hn={[ZeroFactor]:vt.ZERO,[OneFactor]:vt.ONE,[SrcColorFactor]:vt.SRC_COLOR,[SrcAlphaFactor]:vt.SRC_ALPHA,[SrcAlphaSaturateFactor]:vt.SRC_ALPHA_SATURATE,[DstColorFactor]:vt.DST_COLOR,[DstAlphaFactor]:vt.DST_ALPHA,[OneMinusSrcColorFactor]:vt.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:vt.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:vt.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:vt.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:vt.CONSTANT_COLOR,[OneMinusConstantColorFactor]:vt.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:vt.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:vt.ONE_MINUS_CONSTANT_ALPHA};function Dn(yn,Vn,kn,Un,Xn,Mr,Lr,Nr,Ur,Fr){if(yn===NoBlending){Ot===!0&&(Hn(vt.BLEND),Ot=!1);return}if(Ot===!1&&(Bn(vt.BLEND),Ot=!0),yn!==CustomBlending){if(yn!==zt||Fr!==en){if((Gt!==AddEquation||Vt!==AddEquation)&&(vt.blendEquation(vt.FUNC_ADD),Gt=AddEquation,Vt=AddEquation),Fr)switch(yn){case NormalBlending:vt.blendFuncSeparate(vt.ONE,vt.ONE_MINUS_SRC_ALPHA,vt.ONE,vt.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:vt.blendFunc(vt.ONE,vt.ONE);break;case SubtractiveBlending:vt.blendFuncSeparate(vt.ZERO,vt.ONE_MINUS_SRC_COLOR,vt.ZERO,vt.ONE);break;case MultiplyBlending:vt.blendFuncSeparate(vt.ZERO,vt.SRC_COLOR,vt.ZERO,vt.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",yn);break}else switch(yn){case NormalBlending:vt.blendFuncSeparate(vt.SRC_ALPHA,vt.ONE_MINUS_SRC_ALPHA,vt.ONE,vt.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:vt.blendFunc(vt.SRC_ALPHA,vt.ONE);break;case SubtractiveBlending:vt.blendFuncSeparate(vt.ZERO,vt.ONE_MINUS_SRC_COLOR,vt.ZERO,vt.ONE);break;case MultiplyBlending:vt.blendFunc(vt.ZERO,vt.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",yn);break}Bt=null,Ut=null,Ht=null,Xt=null,qt.set(0,0,0),Kt=0,zt=yn,en=Fr}return}Xn=Xn||Vn,Mr=Mr||kn,Lr=Lr||Un,(Vn!==Gt||Xn!==Vt)&&(vt.blendEquationSeparate(dr[Vn],dr[Xn]),Gt=Vn,Vt=Xn),(kn!==Bt||Un!==Ut||Mr!==Ht||Lr!==Xt)&&(vt.blendFuncSeparate(hn[kn],hn[Un],hn[Mr],hn[Lr]),Bt=kn,Ut=Un,Ht=Mr,Xt=Lr),(Nr.equals(qt)===!1||Ur!==Kt)&&(vt.blendColor(Nr.r,Nr.g,Nr.b,Ur),qt.copy(Nr),Kt=Ur),zt=yn,en=!1}function An(yn,Vn){yn.side===DoubleSide?Hn(vt.CULL_FACE):Bn(vt.CULL_FACE);let kn=yn.side===BackSide;Vn&&(kn=!kn),Zn(kn),yn.blending===NormalBlending&&yn.transparent===!1?Dn(NoBlending):Dn(yn.blending,yn.blendEquation,yn.blendSrc,yn.blendDst,yn.blendEquationAlpha,yn.blendSrcAlpha,yn.blendDstAlpha,yn.blendColor,yn.blendAlpha,yn.premultipliedAlpha),wt.setFunc(yn.depthFunc),wt.setTest(yn.depthTest),wt.setMask(yn.depthWrite),St.setMask(yn.colorWrite);const Un=yn.stencilWrite;At.setTest(Un),Un&&(At.setMask(yn.stencilWriteMask),At.setFunc(yn.stencilFunc,yn.stencilRef,yn.stencilFuncMask),At.setOp(yn.stencilFail,yn.stencilZFail,yn.stencilZPass)),qn(yn.polygonOffset,yn.polygonOffsetFactor,yn.polygonOffsetUnits),yn.alphaToCoverage===!0?Bn(vt.SAMPLE_ALPHA_TO_COVERAGE):Hn(vt.SAMPLE_ALPHA_TO_COVERAGE)}function Zn(yn){tn!==yn&&(yn?vt.frontFace(vt.CW):vt.frontFace(vt.CCW),tn=yn)}function $n(yn){yn!==CullFaceNone?(Bn(vt.CULL_FACE),yn!==Qt&&(yn===CullFaceBack?vt.cullFace(vt.BACK):yn===CullFaceFront?vt.cullFace(vt.FRONT):vt.cullFace(vt.FRONT_AND_BACK))):Hn(vt.CULL_FACE),Qt=yn}function ur(yn){yn!==sn&&(pn&&vt.lineWidth(yn),sn=yn)}function qn(yn,Vn,kn){yn?(Bn(vt.POLYGON_OFFSET_FILL),(un!==Vn||dn!==kn)&&(vt.polygonOffset(Vn,kn),un=Vn,dn=kn)):Hn(vt.POLYGON_OFFSET_FILL)}function er(yn){yn?Bn(vt.SCISSOR_TEST):Hn(vt.SCISSOR_TEST)}function mn(yn){yn===void 0&&(yn=vt.TEXTURE0+vn-1),Yt!==yn&&(vt.activeTexture(yn),Yt=yn)}function cn(yn,Vn,kn){kn===void 0&&(Yt===null?kn=vt.TEXTURE0+vn-1:kn=Yt);let Un=Jt[kn];Un===void 0&&(Un={type:void 0,texture:void 0},Jt[kn]=Un),(Un.type!==yn||Un.texture!==Vn)&&(Yt!==kn&&(vt.activeTexture(kn),Yt=kn),vt.bindTexture(yn,Vn||Pn[yn]),Un.type=yn,Un.texture=Vn)}function Cn(){const yn=Jt[Yt];yn!==void 0&&yn.type!==void 0&&(vt.bindTexture(yn.type,null),yn.type=void 0,yn.texture=void 0)}function Gn(){try{vt.compressedTexImage2D.apply(vt,arguments)}catch(yn){console.error("THREE.WebGLState:",yn)}}function On(){try{vt.compressedTexImage3D.apply(vt,arguments)}catch(yn){console.error("THREE.WebGLState:",yn)}}function zn(){try{vt.texSubImage2D.apply(vt,arguments)}catch(yn){console.error("THREE.WebGLState:",yn)}}function ar(){try{vt.texSubImage3D.apply(vt,arguments)}catch(yn){console.error("THREE.WebGLState:",yn)}}function Yn(){try{vt.compressedTexSubImage2D.apply(vt,arguments)}catch(yn){console.error("THREE.WebGLState:",yn)}}function tr(){try{vt.compressedTexSubImage3D.apply(vt,arguments)}catch(yn){console.error("THREE.WebGLState:",yn)}}function br(){try{vt.texStorage2D.apply(vt,arguments)}catch(yn){console.error("THREE.WebGLState:",yn)}}function Wn(){try{vt.texStorage3D.apply(vt,arguments)}catch(yn){console.error("THREE.WebGLState:",yn)}}function rr(){try{vt.texImage2D.apply(vt,arguments)}catch(yn){console.error("THREE.WebGLState:",yn)}}function kr(){try{vt.texImage3D.apply(vt,arguments)}catch(yn){console.error("THREE.WebGLState:",yn)}}function Tr(yn){_n.equals(yn)===!1&&(vt.scissor(yn.x,yn.y,yn.z,yn.w),_n.copy(yn))}function cr(yn){wn.equals(yn)===!1&&(vt.viewport(yn.x,yn.y,yn.z,yn.w),wn.copy(yn))}function Ar(yn,Vn){let kn=Rt.get(Vn);kn===void 0&&(kn=new WeakMap,Rt.set(Vn,kn));let Un=kn.get(yn);Un===void 0&&(Un=vt.getUniformBlockIndex(Vn,yn.name),kn.set(yn,Un))}function Sn(yn,Vn){const Un=Rt.get(Vn).get(yn);Ct.get(Vn)!==Un&&(vt.uniformBlockBinding(Vn,Un,yn.__bindingPointIndex),Ct.set(Vn,Un))}function jn(){vt.disable(vt.BLEND),vt.disable(vt.CULL_FACE),vt.disable(vt.DEPTH_TEST),vt.disable(vt.POLYGON_OFFSET_FILL),vt.disable(vt.SCISSOR_TEST),vt.disable(vt.STENCIL_TEST),vt.disable(vt.SAMPLE_ALPHA_TO_COVERAGE),vt.blendEquation(vt.FUNC_ADD),vt.blendFunc(vt.ONE,vt.ZERO),vt.blendFuncSeparate(vt.ONE,vt.ZERO,vt.ONE,vt.ZERO),vt.blendColor(0,0,0,0),vt.colorMask(!0,!0,!0,!0),vt.clearColor(0,0,0,0),vt.depthMask(!0),vt.depthFunc(vt.LESS),vt.clearDepth(1),vt.stencilMask(4294967295),vt.stencilFunc(vt.ALWAYS,0,4294967295),vt.stencilOp(vt.KEEP,vt.KEEP,vt.KEEP),vt.clearStencil(0),vt.cullFace(vt.BACK),vt.frontFace(vt.CCW),vt.polygonOffset(0,0),vt.activeTexture(vt.TEXTURE0),vt.bindFramebuffer(vt.FRAMEBUFFER,null),vt.bindFramebuffer(vt.DRAW_FRAMEBUFFER,null),vt.bindFramebuffer(vt.READ_FRAMEBUFFER,null),vt.useProgram(null),vt.lineWidth(1),vt.scissor(0,0,vt.canvas.width,vt.canvas.height),vt.viewport(0,0,vt.canvas.width,vt.canvas.height),It={},Yt=null,Jt={},Lt={},kt=new WeakMap,Dt=[],$t=null,Ot=!1,zt=null,Gt=null,Bt=null,Ut=null,Vt=null,Ht=null,Xt=null,qt=new Color(0,0,0),Kt=0,en=!1,tn=null,Qt=null,sn=null,un=null,dn=null,_n.set(0,0,vt.canvas.width,vt.canvas.height),wn.set(0,0,vt.canvas.width,vt.canvas.height),St.reset(),wt.reset(),At.reset()}return{buffers:{color:St,depth:wt,stencil:At},enable:Bn,disable:Hn,bindFramebuffer:or,drawBuffers:mr,useProgram:lr,setBlending:Dn,setMaterial:An,setFlipSided:Zn,setCullFace:$n,setLineWidth:ur,setPolygonOffset:qn,setScissorTest:er,activeTexture:mn,bindTexture:cn,unbindTexture:Cn,compressedTexImage2D:Gn,compressedTexImage3D:On,texImage2D:rr,texImage3D:kr,updateUBOMapping:Ar,uniformBlockBinding:Sn,texStorage2D:br,texStorage3D:Wn,texSubImage2D:zn,texSubImage3D:ar,compressedTexSubImage2D:Yn,compressedTexSubImage3D:tr,scissor:Tr,viewport:cr,reset:jn}}function contain(vt,ht){const xt=vt.image&&vt.image.width?vt.image.width/vt.image.height:1;return xt>ht?(vt.repeat.x=1,vt.repeat.y=xt/ht,vt.offset.x=0,vt.offset.y=(1-vt.repeat.y)/2):(vt.repeat.x=ht/xt,vt.repeat.y=1,vt.offset.x=(1-vt.repeat.x)/2,vt.offset.y=0),vt}function cover(vt,ht){const xt=vt.image&&vt.image.width?vt.image.width/vt.image.height:1;return xt>ht?(vt.repeat.x=ht/xt,vt.repeat.y=1,vt.offset.x=(1-vt.repeat.x)/2,vt.offset.y=0):(vt.repeat.x=1,vt.repeat.y=xt/ht,vt.offset.x=0,vt.offset.y=(1-vt.repeat.y)/2),vt}function fill(vt){return vt.repeat.x=1,vt.repeat.y=1,vt.offset.x=0,vt.offset.y=0,vt}function getByteLength(vt,ht,xt,_t){const St=getTextureTypeByteLength(_t);switch(xt){case AlphaFormat:return vt*ht;case LuminanceFormat:return vt*ht;case LuminanceAlphaFormat:return vt*ht*2;case RedFormat:return vt*ht/St.components*St.byteLength;case RedIntegerFormat:return vt*ht/St.components*St.byteLength;case RGFormat:return vt*ht*2/St.components*St.byteLength;case RGIntegerFormat:return vt*ht*2/St.components*St.byteLength;case RGBFormat:return vt*ht*3/St.components*St.byteLength;case RGBAFormat:return vt*ht*4/St.components*St.byteLength;case RGBAIntegerFormat:return vt*ht*4/St.components*St.byteLength;case RGB_S3TC_DXT1_Format:case RGBA_S3TC_DXT1_Format:return Math.floor((vt+3)/4)*Math.floor((ht+3)/4)*8;case RGBA_S3TC_DXT3_Format:case RGBA_S3TC_DXT5_Format:return Math.floor((vt+3)/4)*Math.floor((ht+3)/4)*16;case RGB_PVRTC_2BPPV1_Format:case RGBA_PVRTC_2BPPV1_Format:return Math.max(vt,16)*Math.max(ht,8)/4;case RGB_PVRTC_4BPPV1_Format:case RGBA_PVRTC_4BPPV1_Format:return Math.max(vt,8)*Math.max(ht,8)/2;case RGB_ETC1_Format:case RGB_ETC2_Format:return Math.floor((vt+3)/4)*Math.floor((ht+3)/4)*8;case RGBA_ETC2_EAC_Format:return Math.floor((vt+3)/4)*Math.floor((ht+3)/4)*16;case RGBA_ASTC_4x4_Format:return Math.floor((vt+3)/4)*Math.floor((ht+3)/4)*16;case RGBA_ASTC_5x4_Format:return Math.floor((vt+4)/5)*Math.floor((ht+3)/4)*16;case RGBA_ASTC_5x5_Format:return Math.floor((vt+4)/5)*Math.floor((ht+4)/5)*16;case RGBA_ASTC_6x5_Format:return Math.floor((vt+5)/6)*Math.floor((ht+4)/5)*16;case RGBA_ASTC_6x6_Format:return Math.floor((vt+5)/6)*Math.floor((ht+5)/6)*16;case RGBA_ASTC_8x5_Format:return Math.floor((vt+7)/8)*Math.floor((ht+4)/5)*16;case RGBA_ASTC_8x6_Format:return Math.floor((vt+7)/8)*Math.floor((ht+5)/6)*16;case RGBA_ASTC_8x8_Format:return Math.floor((vt+7)/8)*Math.floor((ht+7)/8)*16;case RGBA_ASTC_10x5_Format:return Math.floor((vt+9)/10)*Math.floor((ht+4)/5)*16;case RGBA_ASTC_10x6_Format:return Math.floor((vt+9)/10)*Math.floor((ht+5)/6)*16;case RGBA_ASTC_10x8_Format:return Math.floor((vt+9)/10)*Math.floor((ht+7)/8)*16;case RGBA_ASTC_10x10_Format:return Math.floor((vt+9)/10)*Math.floor((ht+9)/10)*16;case RGBA_ASTC_12x10_Format:return Math.floor((vt+11)/12)*Math.floor((ht+9)/10)*16;case RGBA_ASTC_12x12_Format:return Math.floor((vt+11)/12)*Math.floor((ht+11)/12)*16;case RGBA_BPTC_Format:case RGB_BPTC_SIGNED_Format:case RGB_BPTC_UNSIGNED_Format:return Math.ceil(vt/4)*Math.ceil(ht/4)*16;case RED_RGTC1_Format:case SIGNED_RED_RGTC1_Format:return Math.ceil(vt/4)*Math.ceil(ht/4)*8;case RED_GREEN_RGTC2_Format:case SIGNED_RED_GREEN_RGTC2_Format:return Math.ceil(vt/4)*Math.ceil(ht/4)*16}throw new Error(`Unable to determine texture byte length for ${xt} format.`)}function getTextureTypeByteLength(vt){switch(vt){case UnsignedByteType:case ByteType:return{byteLength:1,components:1};case UnsignedShortType:case ShortType:case HalfFloatType:return{byteLength:2,components:1};case UnsignedShort4444Type:case UnsignedShort5551Type:return{byteLength:2,components:4};case UnsignedIntType:case IntType:case FloatType:return{byteLength:4,components:1};case UnsignedInt5999Type:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${vt}.`)}const TextureUtils={contain,cover,fill,getByteLength};function WebGLTextures(vt,ht,xt,_t,St,wt,At){const Ct=ht.has("WEBGL_multisampled_render_to_texture")?ht.get("WEBGL_multisampled_render_to_texture"):null,Rt=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),It=new Vector2,Lt=new WeakMap;let kt;const Dt=new WeakMap;let $t=!1;try{$t=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function Ot(mn,cn){return $t?new OffscreenCanvas(mn,cn):createElementNS("canvas")}function zt(mn,cn,Cn){let Gn=1;const On=er(mn);if((On.width>Cn||On.height>Cn)&&(Gn=Cn/Math.max(On.width,On.height)),Gn<1)if(typeof HTMLImageElement<"u"&&mn instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&mn instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&mn instanceof ImageBitmap||typeof VideoFrame<"u"&&mn instanceof VideoFrame){const zn=Math.floor(Gn*On.width),ar=Math.floor(Gn*On.height);kt===void 0&&(kt=Ot(zn,ar));const Yn=cn?Ot(zn,ar):kt;return Yn.width=zn,Yn.height=ar,Yn.getContext("2d").drawImage(mn,0,0,zn,ar),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+On.width+"x"+On.height+") to ("+zn+"x"+ar+")."),Yn}else return"data"in mn&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+On.width+"x"+On.height+")."),mn;return mn}function Gt(mn){return mn.generateMipmaps&&mn.minFilter!==NearestFilter&&mn.minFilter!==LinearFilter}function Bt(mn){vt.generateMipmap(mn)}function Ut(mn,cn,Cn,Gn,On=!1){if(mn!==null){if(vt[mn]!==void 0)return vt[mn];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+mn+"'")}let zn=cn;if(cn===vt.RED&&(Cn===vt.FLOAT&&(zn=vt.R32F),Cn===vt.HALF_FLOAT&&(zn=vt.R16F),Cn===vt.UNSIGNED_BYTE&&(zn=vt.R8)),cn===vt.RED_INTEGER&&(Cn===vt.UNSIGNED_BYTE&&(zn=vt.R8UI),Cn===vt.UNSIGNED_SHORT&&(zn=vt.R16UI),Cn===vt.UNSIGNED_INT&&(zn=vt.R32UI),Cn===vt.BYTE&&(zn=vt.R8I),Cn===vt.SHORT&&(zn=vt.R16I),Cn===vt.INT&&(zn=vt.R32I)),cn===vt.RG&&(Cn===vt.FLOAT&&(zn=vt.RG32F),Cn===vt.HALF_FLOAT&&(zn=vt.RG16F),Cn===vt.UNSIGNED_BYTE&&(zn=vt.RG8)),cn===vt.RG_INTEGER&&(Cn===vt.UNSIGNED_BYTE&&(zn=vt.RG8UI),Cn===vt.UNSIGNED_SHORT&&(zn=vt.RG16UI),Cn===vt.UNSIGNED_INT&&(zn=vt.RG32UI),Cn===vt.BYTE&&(zn=vt.RG8I),Cn===vt.SHORT&&(zn=vt.RG16I),Cn===vt.INT&&(zn=vt.RG32I)),cn===vt.RGB&&Cn===vt.UNSIGNED_INT_5_9_9_9_REV&&(zn=vt.RGB9_E5),cn===vt.RGBA){const ar=On?LinearTransfer:ColorManagement.getTransfer(Gn);Cn===vt.FLOAT&&(zn=vt.RGBA32F),Cn===vt.HALF_FLOAT&&(zn=vt.RGBA16F),Cn===vt.UNSIGNED_BYTE&&(zn=ar===SRGBTransfer?vt.SRGB8_ALPHA8:vt.RGBA8),Cn===vt.UNSIGNED_SHORT_4_4_4_4&&(zn=vt.RGBA4),Cn===vt.UNSIGNED_SHORT_5_5_5_1&&(zn=vt.RGB5_A1)}return(zn===vt.R16F||zn===vt.R32F||zn===vt.RG16F||zn===vt.RG32F||zn===vt.RGBA16F||zn===vt.RGBA32F)&&ht.get("EXT_color_buffer_float"),zn}function Vt(mn,cn){let Cn;return mn?cn===null||cn===UnsignedIntType||cn===UnsignedInt248Type?Cn=vt.DEPTH24_STENCIL8:cn===FloatType?Cn=vt.DEPTH32F_STENCIL8:cn===UnsignedShortType&&(Cn=vt.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):cn===null||cn===UnsignedIntType||cn===UnsignedInt248Type?Cn=vt.DEPTH_COMPONENT24:cn===FloatType?Cn=vt.DEPTH_COMPONENT32F:cn===UnsignedShortType&&(Cn=vt.DEPTH_COMPONENT16),Cn}function Ht(mn,cn){return Gt(mn)===!0||mn.isFramebufferTexture&&mn.minFilter!==NearestFilter&&mn.minFilter!==LinearFilter?Math.log2(Math.max(cn.width,cn.height))+1:mn.mipmaps!==void 0&&mn.mipmaps.length>0?mn.mipmaps.length:mn.isCompressedTexture&&Array.isArray(mn.image)?cn.mipmaps.length:1}function Xt(mn){const cn=mn.target;cn.removeEventListener("dispose",Xt),Kt(cn),cn.isVideoTexture&&Lt.delete(cn)}function qt(mn){const cn=mn.target;cn.removeEventListener("dispose",qt),tn(cn)}function Kt(mn){const cn=_t.get(mn);if(cn.__webglInit===void 0)return;const Cn=mn.source,Gn=Dt.get(Cn);if(Gn){const On=Gn[cn.__cacheKey];On.usedTimes--,On.usedTimes===0&&en(mn),Object.keys(Gn).length===0&&Dt.delete(Cn)}_t.remove(mn)}function en(mn){const cn=_t.get(mn);vt.deleteTexture(cn.__webglTexture);const Cn=mn.source,Gn=Dt.get(Cn);delete Gn[cn.__cacheKey],At.memory.textures--}function tn(mn){const cn=_t.get(mn);if(mn.depthTexture&&mn.depthTexture.dispose(),mn.isWebGLCubeRenderTarget)for(let Gn=0;Gn<6;Gn++){if(Array.isArray(cn.__webglFramebuffer[Gn]))for(let On=0;On<cn.__webglFramebuffer[Gn].length;On++)vt.deleteFramebuffer(cn.__webglFramebuffer[Gn][On]);else vt.deleteFramebuffer(cn.__webglFramebuffer[Gn]);cn.__webglDepthbuffer&&vt.deleteRenderbuffer(cn.__webglDepthbuffer[Gn])}else{if(Array.isArray(cn.__webglFramebuffer))for(let Gn=0;Gn<cn.__webglFramebuffer.length;Gn++)vt.deleteFramebuffer(cn.__webglFramebuffer[Gn]);else vt.deleteFramebuffer(cn.__webglFramebuffer);if(cn.__webglDepthbuffer&&vt.deleteRenderbuffer(cn.__webglDepthbuffer),cn.__webglMultisampledFramebuffer&&vt.deleteFramebuffer(cn.__webglMultisampledFramebuffer),cn.__webglColorRenderbuffer)for(let Gn=0;Gn<cn.__webglColorRenderbuffer.length;Gn++)cn.__webglColorRenderbuffer[Gn]&&vt.deleteRenderbuffer(cn.__webglColorRenderbuffer[Gn]);cn.__webglDepthRenderbuffer&&vt.deleteRenderbuffer(cn.__webglDepthRenderbuffer)}const Cn=mn.textures;for(let Gn=0,On=Cn.length;Gn<On;Gn++){const zn=_t.get(Cn[Gn]);zn.__webglTexture&&(vt.deleteTexture(zn.__webglTexture),At.memory.textures--),_t.remove(Cn[Gn])}_t.remove(mn)}let Qt=0;function sn(){Qt=0}function un(){const mn=Qt;return mn>=St.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+mn+" texture units while this GPU supports only "+St.maxTextures),Qt+=1,mn}function dn(mn){const cn=[];return cn.push(mn.wrapS),cn.push(mn.wrapT),cn.push(mn.wrapR||0),cn.push(mn.magFilter),cn.push(mn.minFilter),cn.push(mn.anisotropy),cn.push(mn.internalFormat),cn.push(mn.format),cn.push(mn.type),cn.push(mn.generateMipmaps),cn.push(mn.premultiplyAlpha),cn.push(mn.flipY),cn.push(mn.unpackAlignment),cn.push(mn.colorSpace),cn.join()}function vn(mn,cn){const Cn=_t.get(mn);if(mn.isVideoTexture&&ur(mn),mn.isRenderTargetTexture===!1&&mn.version>0&&Cn.__version!==mn.version){const Gn=mn.image;if(Gn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Gn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{wn(Cn,mn,cn);return}}xt.bindTexture(vt.TEXTURE_2D,Cn.__webglTexture,vt.TEXTURE0+cn)}function pn(mn,cn){const Cn=_t.get(mn);if(mn.version>0&&Cn.__version!==mn.version){wn(Cn,mn,cn);return}xt.bindTexture(vt.TEXTURE_2D_ARRAY,Cn.__webglTexture,vt.TEXTURE0+cn)}function rn(mn,cn){const Cn=_t.get(mn);if(mn.version>0&&Cn.__version!==mn.version){wn(Cn,mn,cn);return}xt.bindTexture(vt.TEXTURE_3D,Cn.__webglTexture,vt.TEXTURE0+cn)}function an(mn,cn){const Cn=_t.get(mn);if(mn.version>0&&Cn.__version!==mn.version){xn(Cn,mn,cn);return}xt.bindTexture(vt.TEXTURE_CUBE_MAP,Cn.__webglTexture,vt.TEXTURE0+cn)}const Yt={[RepeatWrapping]:vt.REPEAT,[ClampToEdgeWrapping]:vt.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:vt.MIRRORED_REPEAT},Jt={[NearestFilter]:vt.NEAREST,[NearestMipmapNearestFilter]:vt.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:vt.NEAREST_MIPMAP_LINEAR,[LinearFilter]:vt.LINEAR,[LinearMipmapNearestFilter]:vt.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:vt.LINEAR_MIPMAP_LINEAR},on={[NeverCompare]:vt.NEVER,[AlwaysCompare]:vt.ALWAYS,[LessCompare]:vt.LESS,[LessEqualCompare]:vt.LEQUAL,[EqualCompare]:vt.EQUAL,[GreaterEqualCompare]:vt.GEQUAL,[GreaterCompare]:vt.GREATER,[NotEqualCompare]:vt.NOTEQUAL};function ln(mn,cn){if(cn.type===FloatType&&ht.has("OES_texture_float_linear")===!1&&(cn.magFilter===LinearFilter||cn.magFilter===LinearMipmapNearestFilter||cn.magFilter===NearestMipmapLinearFilter||cn.magFilter===LinearMipmapLinearFilter||cn.minFilter===LinearFilter||cn.minFilter===LinearMipmapNearestFilter||cn.minFilter===NearestMipmapLinearFilter||cn.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),vt.texParameteri(mn,vt.TEXTURE_WRAP_S,Yt[cn.wrapS]),vt.texParameteri(mn,vt.TEXTURE_WRAP_T,Yt[cn.wrapT]),(mn===vt.TEXTURE_3D||mn===vt.TEXTURE_2D_ARRAY)&&vt.texParameteri(mn,vt.TEXTURE_WRAP_R,Yt[cn.wrapR]),vt.texParameteri(mn,vt.TEXTURE_MAG_FILTER,Jt[cn.magFilter]),vt.texParameteri(mn,vt.TEXTURE_MIN_FILTER,Jt[cn.minFilter]),cn.compareFunction&&(vt.texParameteri(mn,vt.TEXTURE_COMPARE_MODE,vt.COMPARE_REF_TO_TEXTURE),vt.texParameteri(mn,vt.TEXTURE_COMPARE_FUNC,on[cn.compareFunction])),ht.has("EXT_texture_filter_anisotropic")===!0){if(cn.magFilter===NearestFilter||cn.minFilter!==NearestMipmapLinearFilter&&cn.minFilter!==LinearMipmapLinearFilter||cn.type===FloatType&&ht.has("OES_texture_float_linear")===!1)return;if(cn.anisotropy>1||_t.get(cn).__currentAnisotropy){const Cn=ht.get("EXT_texture_filter_anisotropic");vt.texParameterf(mn,Cn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(cn.anisotropy,St.getMaxAnisotropy())),_t.get(cn).__currentAnisotropy=cn.anisotropy}}}function _n(mn,cn){let Cn=!1;mn.__webglInit===void 0&&(mn.__webglInit=!0,cn.addEventListener("dispose",Xt));const Gn=cn.source;let On=Dt.get(Gn);On===void 0&&(On={},Dt.set(Gn,On));const zn=dn(cn);if(zn!==mn.__cacheKey){On[zn]===void 0&&(On[zn]={texture:vt.createTexture(),usedTimes:0},At.memory.textures++,Cn=!0),On[zn].usedTimes++;const ar=On[mn.__cacheKey];ar!==void 0&&(On[mn.__cacheKey].usedTimes--,ar.usedTimes===0&&en(cn)),mn.__cacheKey=zn,mn.__webglTexture=On[zn].texture}return Cn}function wn(mn,cn,Cn){let Gn=vt.TEXTURE_2D;(cn.isDataArrayTexture||cn.isCompressedArrayTexture)&&(Gn=vt.TEXTURE_2D_ARRAY),cn.isData3DTexture&&(Gn=vt.TEXTURE_3D);const On=_n(mn,cn),zn=cn.source;xt.bindTexture(Gn,mn.__webglTexture,vt.TEXTURE0+Cn);const ar=_t.get(zn);if(zn.version!==ar.__version||On===!0){xt.activeTexture(vt.TEXTURE0+Cn);const Yn=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),tr=cn.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(cn.colorSpace),br=cn.colorSpace===NoColorSpace||Yn===tr?vt.NONE:vt.BROWSER_DEFAULT_WEBGL;vt.pixelStorei(vt.UNPACK_FLIP_Y_WEBGL,cn.flipY),vt.pixelStorei(vt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,cn.premultiplyAlpha),vt.pixelStorei(vt.UNPACK_ALIGNMENT,cn.unpackAlignment),vt.pixelStorei(vt.UNPACK_COLORSPACE_CONVERSION_WEBGL,br);let Wn=zt(cn.image,!1,St.maxTextureSize);Wn=qn(cn,Wn);const rr=wt.convert(cn.format,cn.colorSpace),kr=wt.convert(cn.type);let Tr=Ut(cn.internalFormat,rr,kr,cn.colorSpace,cn.isVideoTexture);ln(Gn,cn);let cr;const Ar=cn.mipmaps,Sn=cn.isVideoTexture!==!0,jn=ar.__version===void 0||On===!0,yn=zn.dataReady,Vn=Ht(cn,Wn);if(cn.isDepthTexture)Tr=Vt(cn.format===DepthStencilFormat,cn.type),jn&&(Sn?xt.texStorage2D(vt.TEXTURE_2D,1,Tr,Wn.width,Wn.height):xt.texImage2D(vt.TEXTURE_2D,0,Tr,Wn.width,Wn.height,0,rr,kr,null));else if(cn.isDataTexture)if(Ar.length>0){Sn&&jn&&xt.texStorage2D(vt.TEXTURE_2D,Vn,Tr,Ar[0].width,Ar[0].height);for(let kn=0,Un=Ar.length;kn<Un;kn++)cr=Ar[kn],Sn?yn&&xt.texSubImage2D(vt.TEXTURE_2D,kn,0,0,cr.width,cr.height,rr,kr,cr.data):xt.texImage2D(vt.TEXTURE_2D,kn,Tr,cr.width,cr.height,0,rr,kr,cr.data);cn.generateMipmaps=!1}else Sn?(jn&&xt.texStorage2D(vt.TEXTURE_2D,Vn,Tr,Wn.width,Wn.height),yn&&xt.texSubImage2D(vt.TEXTURE_2D,0,0,0,Wn.width,Wn.height,rr,kr,Wn.data)):xt.texImage2D(vt.TEXTURE_2D,0,Tr,Wn.width,Wn.height,0,rr,kr,Wn.data);else if(cn.isCompressedTexture)if(cn.isCompressedArrayTexture){Sn&&jn&&xt.texStorage3D(vt.TEXTURE_2D_ARRAY,Vn,Tr,Ar[0].width,Ar[0].height,Wn.depth);for(let kn=0,Un=Ar.length;kn<Un;kn++)if(cr=Ar[kn],cn.format!==RGBAFormat)if(rr!==null)if(Sn){if(yn)if(cn.layerUpdates.size>0){const Xn=getByteLength(cr.width,cr.height,cn.format,cn.type);for(const Mr of cn.layerUpdates){const Lr=cr.data.subarray(Mr*Xn/cr.data.BYTES_PER_ELEMENT,(Mr+1)*Xn/cr.data.BYTES_PER_ELEMENT);xt.compressedTexSubImage3D(vt.TEXTURE_2D_ARRAY,kn,0,0,Mr,cr.width,cr.height,1,rr,Lr,0,0)}cn.clearLayerUpdates()}else xt.compressedTexSubImage3D(vt.TEXTURE_2D_ARRAY,kn,0,0,0,cr.width,cr.height,Wn.depth,rr,cr.data,0,0)}else xt.compressedTexImage3D(vt.TEXTURE_2D_ARRAY,kn,Tr,cr.width,cr.height,Wn.depth,0,cr.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Sn?yn&&xt.texSubImage3D(vt.TEXTURE_2D_ARRAY,kn,0,0,0,cr.width,cr.height,Wn.depth,rr,kr,cr.data):xt.texImage3D(vt.TEXTURE_2D_ARRAY,kn,Tr,cr.width,cr.height,Wn.depth,0,rr,kr,cr.data)}else{Sn&&jn&&xt.texStorage2D(vt.TEXTURE_2D,Vn,Tr,Ar[0].width,Ar[0].height);for(let kn=0,Un=Ar.length;kn<Un;kn++)cr=Ar[kn],cn.format!==RGBAFormat?rr!==null?Sn?yn&&xt.compressedTexSubImage2D(vt.TEXTURE_2D,kn,0,0,cr.width,cr.height,rr,cr.data):xt.compressedTexImage2D(vt.TEXTURE_2D,kn,Tr,cr.width,cr.height,0,cr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Sn?yn&&xt.texSubImage2D(vt.TEXTURE_2D,kn,0,0,cr.width,cr.height,rr,kr,cr.data):xt.texImage2D(vt.TEXTURE_2D,kn,Tr,cr.width,cr.height,0,rr,kr,cr.data)}else if(cn.isDataArrayTexture)if(Sn){if(jn&&xt.texStorage3D(vt.TEXTURE_2D_ARRAY,Vn,Tr,Wn.width,Wn.height,Wn.depth),yn)if(cn.layerUpdates.size>0){const kn=getByteLength(Wn.width,Wn.height,cn.format,cn.type);for(const Un of cn.layerUpdates){const Xn=Wn.data.subarray(Un*kn/Wn.data.BYTES_PER_ELEMENT,(Un+1)*kn/Wn.data.BYTES_PER_ELEMENT);xt.texSubImage3D(vt.TEXTURE_2D_ARRAY,0,0,0,Un,Wn.width,Wn.height,1,rr,kr,Xn)}cn.clearLayerUpdates()}else xt.texSubImage3D(vt.TEXTURE_2D_ARRAY,0,0,0,0,Wn.width,Wn.height,Wn.depth,rr,kr,Wn.data)}else xt.texImage3D(vt.TEXTURE_2D_ARRAY,0,Tr,Wn.width,Wn.height,Wn.depth,0,rr,kr,Wn.data);else if(cn.isData3DTexture)Sn?(jn&&xt.texStorage3D(vt.TEXTURE_3D,Vn,Tr,Wn.width,Wn.height,Wn.depth),yn&&xt.texSubImage3D(vt.TEXTURE_3D,0,0,0,0,Wn.width,Wn.height,Wn.depth,rr,kr,Wn.data)):xt.texImage3D(vt.TEXTURE_3D,0,Tr,Wn.width,Wn.height,Wn.depth,0,rr,kr,Wn.data);else if(cn.isFramebufferTexture){if(jn)if(Sn)xt.texStorage2D(vt.TEXTURE_2D,Vn,Tr,Wn.width,Wn.height);else{let kn=Wn.width,Un=Wn.height;for(let Xn=0;Xn<Vn;Xn++)xt.texImage2D(vt.TEXTURE_2D,Xn,Tr,kn,Un,0,rr,kr,null),kn>>=1,Un>>=1}}else if(Ar.length>0){if(Sn&&jn){const kn=er(Ar[0]);xt.texStorage2D(vt.TEXTURE_2D,Vn,Tr,kn.width,kn.height)}for(let kn=0,Un=Ar.length;kn<Un;kn++)cr=Ar[kn],Sn?yn&&xt.texSubImage2D(vt.TEXTURE_2D,kn,0,0,rr,kr,cr):xt.texImage2D(vt.TEXTURE_2D,kn,Tr,rr,kr,cr);cn.generateMipmaps=!1}else if(Sn){if(jn){const kn=er(Wn);xt.texStorage2D(vt.TEXTURE_2D,Vn,Tr,kn.width,kn.height)}yn&&xt.texSubImage2D(vt.TEXTURE_2D,0,0,0,rr,kr,Wn)}else xt.texImage2D(vt.TEXTURE_2D,0,Tr,rr,kr,Wn);Gt(cn)&&Bt(Gn),ar.__version=zn.version,cn.onUpdate&&cn.onUpdate(cn)}mn.__version=cn.version}function xn(mn,cn,Cn){if(cn.image.length!==6)return;const Gn=_n(mn,cn),On=cn.source;xt.bindTexture(vt.TEXTURE_CUBE_MAP,mn.__webglTexture,vt.TEXTURE0+Cn);const zn=_t.get(On);if(On.version!==zn.__version||Gn===!0){xt.activeTexture(vt.TEXTURE0+Cn);const ar=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Yn=cn.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(cn.colorSpace),tr=cn.colorSpace===NoColorSpace||ar===Yn?vt.NONE:vt.BROWSER_DEFAULT_WEBGL;vt.pixelStorei(vt.UNPACK_FLIP_Y_WEBGL,cn.flipY),vt.pixelStorei(vt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,cn.premultiplyAlpha),vt.pixelStorei(vt.UNPACK_ALIGNMENT,cn.unpackAlignment),vt.pixelStorei(vt.UNPACK_COLORSPACE_CONVERSION_WEBGL,tr);const br=cn.isCompressedTexture||cn.image[0].isCompressedTexture,Wn=cn.image[0]&&cn.image[0].isDataTexture,rr=[];for(let Un=0;Un<6;Un++)!br&&!Wn?rr[Un]=zt(cn.image[Un],!0,St.maxCubemapSize):rr[Un]=Wn?cn.image[Un].image:cn.image[Un],rr[Un]=qn(cn,rr[Un]);const kr=rr[0],Tr=wt.convert(cn.format,cn.colorSpace),cr=wt.convert(cn.type),Ar=Ut(cn.internalFormat,Tr,cr,cn.colorSpace),Sn=cn.isVideoTexture!==!0,jn=zn.__version===void 0||Gn===!0,yn=On.dataReady;let Vn=Ht(cn,kr);ln(vt.TEXTURE_CUBE_MAP,cn);let kn;if(br){Sn&&jn&&xt.texStorage2D(vt.TEXTURE_CUBE_MAP,Vn,Ar,kr.width,kr.height);for(let Un=0;Un<6;Un++){kn=rr[Un].mipmaps;for(let Xn=0;Xn<kn.length;Xn++){const Mr=kn[Xn];cn.format!==RGBAFormat?Tr!==null?Sn?yn&&xt.compressedTexSubImage2D(vt.TEXTURE_CUBE_MAP_POSITIVE_X+Un,Xn,0,0,Mr.width,Mr.height,Tr,Mr.data):xt.compressedTexImage2D(vt.TEXTURE_CUBE_MAP_POSITIVE_X+Un,Xn,Ar,Mr.width,Mr.height,0,Mr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Sn?yn&&xt.texSubImage2D(vt.TEXTURE_CUBE_MAP_POSITIVE_X+Un,Xn,0,0,Mr.width,Mr.height,Tr,cr,Mr.data):xt.texImage2D(vt.TEXTURE_CUBE_MAP_POSITIVE_X+Un,Xn,Ar,Mr.width,Mr.height,0,Tr,cr,Mr.data)}}}else{if(kn=cn.mipmaps,Sn&&jn){kn.length>0&&Vn++;const Un=er(rr[0]);xt.texStorage2D(vt.TEXTURE_CUBE_MAP,Vn,Ar,Un.width,Un.height)}for(let Un=0;Un<6;Un++)if(Wn){Sn?yn&&xt.texSubImage2D(vt.TEXTURE_CUBE_MAP_POSITIVE_X+Un,0,0,0,rr[Un].width,rr[Un].height,Tr,cr,rr[Un].data):xt.texImage2D(vt.TEXTURE_CUBE_MAP_POSITIVE_X+Un,0,Ar,rr[Un].width,rr[Un].height,0,Tr,cr,rr[Un].data);for(let Xn=0;Xn<kn.length;Xn++){const Lr=kn[Xn].image[Un].image;Sn?yn&&xt.texSubImage2D(vt.TEXTURE_CUBE_MAP_POSITIVE_X+Un,Xn+1,0,0,Lr.width,Lr.height,Tr,cr,Lr.data):xt.texImage2D(vt.TEXTURE_CUBE_MAP_POSITIVE_X+Un,Xn+1,Ar,Lr.width,Lr.height,0,Tr,cr,Lr.data)}}else{Sn?yn&&xt.texSubImage2D(vt.TEXTURE_CUBE_MAP_POSITIVE_X+Un,0,0,0,Tr,cr,rr[Un]):xt.texImage2D(vt.TEXTURE_CUBE_MAP_POSITIVE_X+Un,0,Ar,Tr,cr,rr[Un]);for(let Xn=0;Xn<kn.length;Xn++){const Mr=kn[Xn];Sn?yn&&xt.texSubImage2D(vt.TEXTURE_CUBE_MAP_POSITIVE_X+Un,Xn+1,0,0,Tr,cr,Mr.image[Un]):xt.texImage2D(vt.TEXTURE_CUBE_MAP_POSITIVE_X+Un,Xn+1,Ar,Tr,cr,Mr.image[Un])}}}Gt(cn)&&Bt(vt.TEXTURE_CUBE_MAP),zn.__version=On.version,cn.onUpdate&&cn.onUpdate(cn)}mn.__version=cn.version}function Pn(mn,cn,Cn,Gn,On,zn){const ar=wt.convert(Cn.format,Cn.colorSpace),Yn=wt.convert(Cn.type),tr=Ut(Cn.internalFormat,ar,Yn,Cn.colorSpace);if(!_t.get(cn).__hasExternalTextures){const Wn=Math.max(1,cn.width>>zn),rr=Math.max(1,cn.height>>zn);On===vt.TEXTURE_3D||On===vt.TEXTURE_2D_ARRAY?xt.texImage3D(On,zn,tr,Wn,rr,cn.depth,0,ar,Yn,null):xt.texImage2D(On,zn,tr,Wn,rr,0,ar,Yn,null)}xt.bindFramebuffer(vt.FRAMEBUFFER,mn),$n(cn)?Ct.framebufferTexture2DMultisampleEXT(vt.FRAMEBUFFER,Gn,On,_t.get(Cn).__webglTexture,0,Zn(cn)):(On===vt.TEXTURE_2D||On>=vt.TEXTURE_CUBE_MAP_POSITIVE_X&&On<=vt.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&vt.framebufferTexture2D(vt.FRAMEBUFFER,Gn,On,_t.get(Cn).__webglTexture,zn),xt.bindFramebuffer(vt.FRAMEBUFFER,null)}function Bn(mn,cn,Cn){if(vt.bindRenderbuffer(vt.RENDERBUFFER,mn),cn.depthBuffer){const Gn=cn.depthTexture,On=Gn&&Gn.isDepthTexture?Gn.type:null,zn=Vt(cn.stencilBuffer,On),ar=cn.stencilBuffer?vt.DEPTH_STENCIL_ATTACHMENT:vt.DEPTH_ATTACHMENT,Yn=Zn(cn);$n(cn)?Ct.renderbufferStorageMultisampleEXT(vt.RENDERBUFFER,Yn,zn,cn.width,cn.height):Cn?vt.renderbufferStorageMultisample(vt.RENDERBUFFER,Yn,zn,cn.width,cn.height):vt.renderbufferStorage(vt.RENDERBUFFER,zn,cn.width,cn.height),vt.framebufferRenderbuffer(vt.FRAMEBUFFER,ar,vt.RENDERBUFFER,mn)}else{const Gn=cn.textures;for(let On=0;On<Gn.length;On++){const zn=Gn[On],ar=wt.convert(zn.format,zn.colorSpace),Yn=wt.convert(zn.type),tr=Ut(zn.internalFormat,ar,Yn,zn.colorSpace),br=Zn(cn);Cn&&$n(cn)===!1?vt.renderbufferStorageMultisample(vt.RENDERBUFFER,br,tr,cn.width,cn.height):$n(cn)?Ct.renderbufferStorageMultisampleEXT(vt.RENDERBUFFER,br,tr,cn.width,cn.height):vt.renderbufferStorage(vt.RENDERBUFFER,tr,cn.width,cn.height)}}vt.bindRenderbuffer(vt.RENDERBUFFER,null)}function Hn(mn,cn){if(cn&&cn.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(xt.bindFramebuffer(vt.FRAMEBUFFER,mn),!(cn.depthTexture&&cn.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!_t.get(cn.depthTexture).__webglTexture||cn.depthTexture.image.width!==cn.width||cn.depthTexture.image.height!==cn.height)&&(cn.depthTexture.image.width=cn.width,cn.depthTexture.image.height=cn.height,cn.depthTexture.needsUpdate=!0),vn(cn.depthTexture,0);const Gn=_t.get(cn.depthTexture).__webglTexture,On=Zn(cn);if(cn.depthTexture.format===DepthFormat)$n(cn)?Ct.framebufferTexture2DMultisampleEXT(vt.FRAMEBUFFER,vt.DEPTH_ATTACHMENT,vt.TEXTURE_2D,Gn,0,On):vt.framebufferTexture2D(vt.FRAMEBUFFER,vt.DEPTH_ATTACHMENT,vt.TEXTURE_2D,Gn,0);else if(cn.depthTexture.format===DepthStencilFormat)$n(cn)?Ct.framebufferTexture2DMultisampleEXT(vt.FRAMEBUFFER,vt.DEPTH_STENCIL_ATTACHMENT,vt.TEXTURE_2D,Gn,0,On):vt.framebufferTexture2D(vt.FRAMEBUFFER,vt.DEPTH_STENCIL_ATTACHMENT,vt.TEXTURE_2D,Gn,0);else throw new Error("Unknown depthTexture format")}function or(mn){const cn=_t.get(mn),Cn=mn.isWebGLCubeRenderTarget===!0;if(mn.depthTexture&&!cn.__autoAllocateDepthBuffer){if(Cn)throw new Error("target.depthTexture not supported in Cube render targets");Hn(cn.__webglFramebuffer,mn)}else if(Cn){cn.__webglDepthbuffer=[];for(let Gn=0;Gn<6;Gn++)xt.bindFramebuffer(vt.FRAMEBUFFER,cn.__webglFramebuffer[Gn]),cn.__webglDepthbuffer[Gn]=vt.createRenderbuffer(),Bn(cn.__webglDepthbuffer[Gn],mn,!1)}else xt.bindFramebuffer(vt.FRAMEBUFFER,cn.__webglFramebuffer),cn.__webglDepthbuffer=vt.createRenderbuffer(),Bn(cn.__webglDepthbuffer,mn,!1);xt.bindFramebuffer(vt.FRAMEBUFFER,null)}function mr(mn,cn,Cn){const Gn=_t.get(mn);cn!==void 0&&Pn(Gn.__webglFramebuffer,mn,mn.texture,vt.COLOR_ATTACHMENT0,vt.TEXTURE_2D,0),Cn!==void 0&&or(mn)}function lr(mn){const cn=mn.texture,Cn=_t.get(mn),Gn=_t.get(cn);mn.addEventListener("dispose",qt);const On=mn.textures,zn=mn.isWebGLCubeRenderTarget===!0,ar=On.length>1;if(ar||(Gn.__webglTexture===void 0&&(Gn.__webglTexture=vt.createTexture()),Gn.__version=cn.version,At.memory.textures++),zn){Cn.__webglFramebuffer=[];for(let Yn=0;Yn<6;Yn++)if(cn.mipmaps&&cn.mipmaps.length>0){Cn.__webglFramebuffer[Yn]=[];for(let tr=0;tr<cn.mipmaps.length;tr++)Cn.__webglFramebuffer[Yn][tr]=vt.createFramebuffer()}else Cn.__webglFramebuffer[Yn]=vt.createFramebuffer()}else{if(cn.mipmaps&&cn.mipmaps.length>0){Cn.__webglFramebuffer=[];for(let Yn=0;Yn<cn.mipmaps.length;Yn++)Cn.__webglFramebuffer[Yn]=vt.createFramebuffer()}else Cn.__webglFramebuffer=vt.createFramebuffer();if(ar)for(let Yn=0,tr=On.length;Yn<tr;Yn++){const br=_t.get(On[Yn]);br.__webglTexture===void 0&&(br.__webglTexture=vt.createTexture(),At.memory.textures++)}if(mn.samples>0&&$n(mn)===!1){Cn.__webglMultisampledFramebuffer=vt.createFramebuffer(),Cn.__webglColorRenderbuffer=[],xt.bindFramebuffer(vt.FRAMEBUFFER,Cn.__webglMultisampledFramebuffer);for(let Yn=0;Yn<On.length;Yn++){const tr=On[Yn];Cn.__webglColorRenderbuffer[Yn]=vt.createRenderbuffer(),vt.bindRenderbuffer(vt.RENDERBUFFER,Cn.__webglColorRenderbuffer[Yn]);const br=wt.convert(tr.format,tr.colorSpace),Wn=wt.convert(tr.type),rr=Ut(tr.internalFormat,br,Wn,tr.colorSpace,mn.isXRRenderTarget===!0),kr=Zn(mn);vt.renderbufferStorageMultisample(vt.RENDERBUFFER,kr,rr,mn.width,mn.height),vt.framebufferRenderbuffer(vt.FRAMEBUFFER,vt.COLOR_ATTACHMENT0+Yn,vt.RENDERBUFFER,Cn.__webglColorRenderbuffer[Yn])}vt.bindRenderbuffer(vt.RENDERBUFFER,null),mn.depthBuffer&&(Cn.__webglDepthRenderbuffer=vt.createRenderbuffer(),Bn(Cn.__webglDepthRenderbuffer,mn,!0)),xt.bindFramebuffer(vt.FRAMEBUFFER,null)}}if(zn){xt.bindTexture(vt.TEXTURE_CUBE_MAP,Gn.__webglTexture),ln(vt.TEXTURE_CUBE_MAP,cn);for(let Yn=0;Yn<6;Yn++)if(cn.mipmaps&&cn.mipmaps.length>0)for(let tr=0;tr<cn.mipmaps.length;tr++)Pn(Cn.__webglFramebuffer[Yn][tr],mn,cn,vt.COLOR_ATTACHMENT0,vt.TEXTURE_CUBE_MAP_POSITIVE_X+Yn,tr);else Pn(Cn.__webglFramebuffer[Yn],mn,cn,vt.COLOR_ATTACHMENT0,vt.TEXTURE_CUBE_MAP_POSITIVE_X+Yn,0);Gt(cn)&&Bt(vt.TEXTURE_CUBE_MAP),xt.unbindTexture()}else if(ar){for(let Yn=0,tr=On.length;Yn<tr;Yn++){const br=On[Yn],Wn=_t.get(br);xt.bindTexture(vt.TEXTURE_2D,Wn.__webglTexture),ln(vt.TEXTURE_2D,br),Pn(Cn.__webglFramebuffer,mn,br,vt.COLOR_ATTACHMENT0+Yn,vt.TEXTURE_2D,0),Gt(br)&&Bt(vt.TEXTURE_2D)}xt.unbindTexture()}else{let Yn=vt.TEXTURE_2D;if((mn.isWebGL3DRenderTarget||mn.isWebGLArrayRenderTarget)&&(Yn=mn.isWebGL3DRenderTarget?vt.TEXTURE_3D:vt.TEXTURE_2D_ARRAY),xt.bindTexture(Yn,Gn.__webglTexture),ln(Yn,cn),cn.mipmaps&&cn.mipmaps.length>0)for(let tr=0;tr<cn.mipmaps.length;tr++)Pn(Cn.__webglFramebuffer[tr],mn,cn,vt.COLOR_ATTACHMENT0,Yn,tr);else Pn(Cn.__webglFramebuffer,mn,cn,vt.COLOR_ATTACHMENT0,Yn,0);Gt(cn)&&Bt(Yn),xt.unbindTexture()}mn.depthBuffer&&or(mn)}function dr(mn){const cn=mn.textures;for(let Cn=0,Gn=cn.length;Cn<Gn;Cn++){const On=cn[Cn];if(Gt(On)){const zn=mn.isWebGLCubeRenderTarget?vt.TEXTURE_CUBE_MAP:vt.TEXTURE_2D,ar=_t.get(On).__webglTexture;xt.bindTexture(zn,ar),Bt(zn),xt.unbindTexture()}}}const hn=[],Dn=[];function An(mn){if(mn.samples>0){if($n(mn)===!1){const cn=mn.textures,Cn=mn.width,Gn=mn.height;let On=vt.COLOR_BUFFER_BIT;const zn=mn.stencilBuffer?vt.DEPTH_STENCIL_ATTACHMENT:vt.DEPTH_ATTACHMENT,ar=_t.get(mn),Yn=cn.length>1;if(Yn)for(let tr=0;tr<cn.length;tr++)xt.bindFramebuffer(vt.FRAMEBUFFER,ar.__webglMultisampledFramebuffer),vt.framebufferRenderbuffer(vt.FRAMEBUFFER,vt.COLOR_ATTACHMENT0+tr,vt.RENDERBUFFER,null),xt.bindFramebuffer(vt.FRAMEBUFFER,ar.__webglFramebuffer),vt.framebufferTexture2D(vt.DRAW_FRAMEBUFFER,vt.COLOR_ATTACHMENT0+tr,vt.TEXTURE_2D,null,0);xt.bindFramebuffer(vt.READ_FRAMEBUFFER,ar.__webglMultisampledFramebuffer),xt.bindFramebuffer(vt.DRAW_FRAMEBUFFER,ar.__webglFramebuffer);for(let tr=0;tr<cn.length;tr++){if(mn.resolveDepthBuffer&&(mn.depthBuffer&&(On|=vt.DEPTH_BUFFER_BIT),mn.stencilBuffer&&mn.resolveStencilBuffer&&(On|=vt.STENCIL_BUFFER_BIT)),Yn){vt.framebufferRenderbuffer(vt.READ_FRAMEBUFFER,vt.COLOR_ATTACHMENT0,vt.RENDERBUFFER,ar.__webglColorRenderbuffer[tr]);const br=_t.get(cn[tr]).__webglTexture;vt.framebufferTexture2D(vt.DRAW_FRAMEBUFFER,vt.COLOR_ATTACHMENT0,vt.TEXTURE_2D,br,0)}vt.blitFramebuffer(0,0,Cn,Gn,0,0,Cn,Gn,On,vt.NEAREST),Rt===!0&&(hn.length=0,Dn.length=0,hn.push(vt.COLOR_ATTACHMENT0+tr),mn.depthBuffer&&mn.resolveDepthBuffer===!1&&(hn.push(zn),Dn.push(zn),vt.invalidateFramebuffer(vt.DRAW_FRAMEBUFFER,Dn)),vt.invalidateFramebuffer(vt.READ_FRAMEBUFFER,hn))}if(xt.bindFramebuffer(vt.READ_FRAMEBUFFER,null),xt.bindFramebuffer(vt.DRAW_FRAMEBUFFER,null),Yn)for(let tr=0;tr<cn.length;tr++){xt.bindFramebuffer(vt.FRAMEBUFFER,ar.__webglMultisampledFramebuffer),vt.framebufferRenderbuffer(vt.FRAMEBUFFER,vt.COLOR_ATTACHMENT0+tr,vt.RENDERBUFFER,ar.__webglColorRenderbuffer[tr]);const br=_t.get(cn[tr]).__webglTexture;xt.bindFramebuffer(vt.FRAMEBUFFER,ar.__webglFramebuffer),vt.framebufferTexture2D(vt.DRAW_FRAMEBUFFER,vt.COLOR_ATTACHMENT0+tr,vt.TEXTURE_2D,br,0)}xt.bindFramebuffer(vt.DRAW_FRAMEBUFFER,ar.__webglMultisampledFramebuffer)}else if(mn.depthBuffer&&mn.resolveDepthBuffer===!1&&Rt){const cn=mn.stencilBuffer?vt.DEPTH_STENCIL_ATTACHMENT:vt.DEPTH_ATTACHMENT;vt.invalidateFramebuffer(vt.DRAW_FRAMEBUFFER,[cn])}}}function Zn(mn){return Math.min(St.maxSamples,mn.samples)}function $n(mn){const cn=_t.get(mn);return mn.samples>0&&ht.has("WEBGL_multisampled_render_to_texture")===!0&&cn.__useRenderToTexture!==!1}function ur(mn){const cn=At.render.frame;Lt.get(mn)!==cn&&(Lt.set(mn,cn),mn.update())}function qn(mn,cn){const Cn=mn.colorSpace,Gn=mn.format,On=mn.type;return mn.isCompressedTexture===!0||mn.isVideoTexture===!0||Cn!==LinearSRGBColorSpace&&Cn!==NoColorSpace&&(ColorManagement.getTransfer(Cn)===SRGBTransfer?(Gn!==RGBAFormat||On!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Cn)),cn}function er(mn){return typeof HTMLImageElement<"u"&&mn instanceof HTMLImageElement?(It.width=mn.naturalWidth||mn.width,It.height=mn.naturalHeight||mn.height):typeof VideoFrame<"u"&&mn instanceof VideoFrame?(It.width=mn.displayWidth,It.height=mn.displayHeight):(It.width=mn.width,It.height=mn.height),It}this.allocateTextureUnit=un,this.resetTextureUnits=sn,this.setTexture2D=vn,this.setTexture2DArray=pn,this.setTexture3D=rn,this.setTextureCube=an,this.rebindTextures=mr,this.setupRenderTarget=lr,this.updateRenderTargetMipmap=dr,this.updateMultisampleRenderTarget=An,this.setupDepthRenderbuffer=or,this.setupFrameBufferTexture=Pn,this.useMultisampledRTT=$n}function WebGLUtils(vt,ht){function xt(_t,St=NoColorSpace){let wt;const At=ColorManagement.getTransfer(St);if(_t===UnsignedByteType)return vt.UNSIGNED_BYTE;if(_t===UnsignedShort4444Type)return vt.UNSIGNED_SHORT_4_4_4_4;if(_t===UnsignedShort5551Type)return vt.UNSIGNED_SHORT_5_5_5_1;if(_t===UnsignedInt5999Type)return vt.UNSIGNED_INT_5_9_9_9_REV;if(_t===ByteType)return vt.BYTE;if(_t===ShortType)return vt.SHORT;if(_t===UnsignedShortType)return vt.UNSIGNED_SHORT;if(_t===IntType)return vt.INT;if(_t===UnsignedIntType)return vt.UNSIGNED_INT;if(_t===FloatType)return vt.FLOAT;if(_t===HalfFloatType)return vt.HALF_FLOAT;if(_t===AlphaFormat)return vt.ALPHA;if(_t===RGBFormat)return vt.RGB;if(_t===RGBAFormat)return vt.RGBA;if(_t===LuminanceFormat)return vt.LUMINANCE;if(_t===LuminanceAlphaFormat)return vt.LUMINANCE_ALPHA;if(_t===DepthFormat)return vt.DEPTH_COMPONENT;if(_t===DepthStencilFormat)return vt.DEPTH_STENCIL;if(_t===RedFormat)return vt.RED;if(_t===RedIntegerFormat)return vt.RED_INTEGER;if(_t===RGFormat)return vt.RG;if(_t===RGIntegerFormat)return vt.RG_INTEGER;if(_t===RGBAIntegerFormat)return vt.RGBA_INTEGER;if(_t===RGB_S3TC_DXT1_Format||_t===RGBA_S3TC_DXT1_Format||_t===RGBA_S3TC_DXT3_Format||_t===RGBA_S3TC_DXT5_Format)if(At===SRGBTransfer)if(wt=ht.get("WEBGL_compressed_texture_s3tc_srgb"),wt!==null){if(_t===RGB_S3TC_DXT1_Format)return wt.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(_t===RGBA_S3TC_DXT1_Format)return wt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(_t===RGBA_S3TC_DXT3_Format)return wt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(_t===RGBA_S3TC_DXT5_Format)return wt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(wt=ht.get("WEBGL_compressed_texture_s3tc"),wt!==null){if(_t===RGB_S3TC_DXT1_Format)return wt.COMPRESSED_RGB_S3TC_DXT1_EXT;if(_t===RGBA_S3TC_DXT1_Format)return wt.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(_t===RGBA_S3TC_DXT3_Format)return wt.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(_t===RGBA_S3TC_DXT5_Format)return wt.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(_t===RGB_PVRTC_4BPPV1_Format||_t===RGB_PVRTC_2BPPV1_Format||_t===RGBA_PVRTC_4BPPV1_Format||_t===RGBA_PVRTC_2BPPV1_Format)if(wt=ht.get("WEBGL_compressed_texture_pvrtc"),wt!==null){if(_t===RGB_PVRTC_4BPPV1_Format)return wt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(_t===RGB_PVRTC_2BPPV1_Format)return wt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(_t===RGBA_PVRTC_4BPPV1_Format)return wt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(_t===RGBA_PVRTC_2BPPV1_Format)return wt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(_t===RGB_ETC1_Format||_t===RGB_ETC2_Format||_t===RGBA_ETC2_EAC_Format)if(wt=ht.get("WEBGL_compressed_texture_etc"),wt!==null){if(_t===RGB_ETC1_Format||_t===RGB_ETC2_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ETC2:wt.COMPRESSED_RGB8_ETC2;if(_t===RGBA_ETC2_EAC_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:wt.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(_t===RGBA_ASTC_4x4_Format||_t===RGBA_ASTC_5x4_Format||_t===RGBA_ASTC_5x5_Format||_t===RGBA_ASTC_6x5_Format||_t===RGBA_ASTC_6x6_Format||_t===RGBA_ASTC_8x5_Format||_t===RGBA_ASTC_8x6_Format||_t===RGBA_ASTC_8x8_Format||_t===RGBA_ASTC_10x5_Format||_t===RGBA_ASTC_10x6_Format||_t===RGBA_ASTC_10x8_Format||_t===RGBA_ASTC_10x10_Format||_t===RGBA_ASTC_12x10_Format||_t===RGBA_ASTC_12x12_Format)if(wt=ht.get("WEBGL_compressed_texture_astc"),wt!==null){if(_t===RGBA_ASTC_4x4_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:wt.COMPRESSED_RGBA_ASTC_4x4_KHR;if(_t===RGBA_ASTC_5x4_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:wt.COMPRESSED_RGBA_ASTC_5x4_KHR;if(_t===RGBA_ASTC_5x5_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:wt.COMPRESSED_RGBA_ASTC_5x5_KHR;if(_t===RGBA_ASTC_6x5_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:wt.COMPRESSED_RGBA_ASTC_6x5_KHR;if(_t===RGBA_ASTC_6x6_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:wt.COMPRESSED_RGBA_ASTC_6x6_KHR;if(_t===RGBA_ASTC_8x5_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:wt.COMPRESSED_RGBA_ASTC_8x5_KHR;if(_t===RGBA_ASTC_8x6_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:wt.COMPRESSED_RGBA_ASTC_8x6_KHR;if(_t===RGBA_ASTC_8x8_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:wt.COMPRESSED_RGBA_ASTC_8x8_KHR;if(_t===RGBA_ASTC_10x5_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:wt.COMPRESSED_RGBA_ASTC_10x5_KHR;if(_t===RGBA_ASTC_10x6_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:wt.COMPRESSED_RGBA_ASTC_10x6_KHR;if(_t===RGBA_ASTC_10x8_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:wt.COMPRESSED_RGBA_ASTC_10x8_KHR;if(_t===RGBA_ASTC_10x10_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:wt.COMPRESSED_RGBA_ASTC_10x10_KHR;if(_t===RGBA_ASTC_12x10_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:wt.COMPRESSED_RGBA_ASTC_12x10_KHR;if(_t===RGBA_ASTC_12x12_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:wt.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(_t===RGBA_BPTC_Format||_t===RGB_BPTC_SIGNED_Format||_t===RGB_BPTC_UNSIGNED_Format)if(wt=ht.get("EXT_texture_compression_bptc"),wt!==null){if(_t===RGBA_BPTC_Format)return At===SRGBTransfer?wt.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:wt.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(_t===RGB_BPTC_SIGNED_Format)return wt.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(_t===RGB_BPTC_UNSIGNED_Format)return wt.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(_t===RED_RGTC1_Format||_t===SIGNED_RED_RGTC1_Format||_t===RED_GREEN_RGTC2_Format||_t===SIGNED_RED_GREEN_RGTC2_Format)if(wt=ht.get("EXT_texture_compression_rgtc"),wt!==null){if(_t===RGBA_BPTC_Format)return wt.COMPRESSED_RED_RGTC1_EXT;if(_t===SIGNED_RED_RGTC1_Format)return wt.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(_t===RED_GREEN_RGTC2_Format)return wt.COMPRESSED_RED_GREEN_RGTC2_EXT;if(_t===SIGNED_RED_GREEN_RGTC2_Format)return wt.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return _t===UnsignedInt248Type?vt.UNSIGNED_INT_24_8:vt[_t]!==void 0?vt[_t]:null}return{convert:xt}}class ArrayCamera extends PerspectiveCamera{constructor(ht=[]){super(),this.isArrayCamera=!0,this.cameras=ht}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(ht){return this._targetRay!==null&&this._targetRay.dispatchEvent(ht),this._grip!==null&&this._grip.dispatchEvent(ht),this._hand!==null&&this._hand.dispatchEvent(ht),this}connect(ht){if(ht&&ht.hand){const xt=this._hand;if(xt)for(const _t of ht.hand.values())this._getHandJoint(xt,_t)}return this.dispatchEvent({type:"connected",data:ht}),this}disconnect(ht){return this.dispatchEvent({type:"disconnected",data:ht}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(ht,xt,_t){let St=null,wt=null,At=null;const Ct=this._targetRay,Rt=this._grip,It=this._hand;if(ht&&xt.session.visibilityState!=="visible-blurred"){if(It&&ht.hand){At=!0;for(const zt of ht.hand.values()){const Gt=xt.getJointPose(zt,_t),Bt=this._getHandJoint(It,zt);Gt!==null&&(Bt.matrix.fromArray(Gt.transform.matrix),Bt.matrix.decompose(Bt.position,Bt.rotation,Bt.scale),Bt.matrixWorldNeedsUpdate=!0,Bt.jointRadius=Gt.radius),Bt.visible=Gt!==null}const Lt=It.joints["index-finger-tip"],kt=It.joints["thumb-tip"],Dt=Lt.position.distanceTo(kt.position),$t=.02,Ot=.005;It.inputState.pinching&&Dt>$t+Ot?(It.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:ht.handedness,target:this})):!It.inputState.pinching&&Dt<=$t-Ot&&(It.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:ht.handedness,target:this}))}else Rt!==null&&ht.gripSpace&&(wt=xt.getPose(ht.gripSpace,_t),wt!==null&&(Rt.matrix.fromArray(wt.transform.matrix),Rt.matrix.decompose(Rt.position,Rt.rotation,Rt.scale),Rt.matrixWorldNeedsUpdate=!0,wt.linearVelocity?(Rt.hasLinearVelocity=!0,Rt.linearVelocity.copy(wt.linearVelocity)):Rt.hasLinearVelocity=!1,wt.angularVelocity?(Rt.hasAngularVelocity=!0,Rt.angularVelocity.copy(wt.angularVelocity)):Rt.hasAngularVelocity=!1));Ct!==null&&(St=xt.getPose(ht.targetRaySpace,_t),St===null&&wt!==null&&(St=wt),St!==null&&(Ct.matrix.fromArray(St.transform.matrix),Ct.matrix.decompose(Ct.position,Ct.rotation,Ct.scale),Ct.matrixWorldNeedsUpdate=!0,St.linearVelocity?(Ct.hasLinearVelocity=!0,Ct.linearVelocity.copy(St.linearVelocity)):Ct.hasLinearVelocity=!1,St.angularVelocity?(Ct.hasAngularVelocity=!0,Ct.angularVelocity.copy(St.angularVelocity)):Ct.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return Ct!==null&&(Ct.visible=St!==null),Rt!==null&&(Rt.visible=wt!==null),It!==null&&(It.visible=At!==null),this}_getHandJoint(ht,xt){if(ht.joints[xt.jointName]===void 0){const _t=new Group;_t.matrixAutoUpdate=!1,_t.visible=!1,ht.joints[xt.jointName]=_t,ht.add(_t)}return ht.joints[xt.jointName]}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(ht,xt,_t){if(this.texture===null){const St=new Texture,wt=ht.properties.get(St);wt.__webglTexture=xt.texture,(xt.depthNear!=_t.depthNear||xt.depthFar!=_t.depthFar)&&(this.depthNear=xt.depthNear,this.depthFar=xt.depthFar),this.texture=St}}getMesh(ht){if(this.texture!==null&&this.mesh===null){const xt=ht.cameras[0].viewport,_t=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:xt.z},depthHeight:{value:xt.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),_t)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class WebXRManager extends EventDispatcher$1{constructor(ht,xt){super();const _t=this;let St=null,wt=1,At=null,Ct="local-floor",Rt=1,It=null,Lt=null,kt=null,Dt=null,$t=null,Ot=null;const zt=new WebXRDepthSensing,Gt=xt.getContextAttributes();let Bt=null,Ut=null;const Vt=[],Ht=[],Xt=new Vector2;let qt=null;const Kt=new PerspectiveCamera;Kt.layers.enable(1),Kt.viewport=new Vector4;const en=new PerspectiveCamera;en.layers.enable(2),en.viewport=new Vector4;const tn=[Kt,en],Qt=new ArrayCamera;Qt.layers.enable(1),Qt.layers.enable(2);let sn=null,un=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(xn){let Pn=Vt[xn];return Pn===void 0&&(Pn=new WebXRController,Vt[xn]=Pn),Pn.getTargetRaySpace()},this.getControllerGrip=function(xn){let Pn=Vt[xn];return Pn===void 0&&(Pn=new WebXRController,Vt[xn]=Pn),Pn.getGripSpace()},this.getHand=function(xn){let Pn=Vt[xn];return Pn===void 0&&(Pn=new WebXRController,Vt[xn]=Pn),Pn.getHandSpace()};function dn(xn){const Pn=Ht.indexOf(xn.inputSource);if(Pn===-1)return;const Bn=Vt[Pn];Bn!==void 0&&(Bn.update(xn.inputSource,xn.frame,It||At),Bn.dispatchEvent({type:xn.type,data:xn.inputSource}))}function vn(){St.removeEventListener("select",dn),St.removeEventListener("selectstart",dn),St.removeEventListener("selectend",dn),St.removeEventListener("squeeze",dn),St.removeEventListener("squeezestart",dn),St.removeEventListener("squeezeend",dn),St.removeEventListener("end",vn),St.removeEventListener("inputsourceschange",pn);for(let xn=0;xn<Vt.length;xn++){const Pn=Ht[xn];Pn!==null&&(Ht[xn]=null,Vt[xn].disconnect(Pn))}sn=null,un=null,zt.reset(),ht.setRenderTarget(Bt),$t=null,Dt=null,kt=null,St=null,Ut=null,wn.stop(),_t.isPresenting=!1,ht.setPixelRatio(qt),ht.setSize(Xt.width,Xt.height,!1),_t.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(xn){wt=xn,_t.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(xn){Ct=xn,_t.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return It||At},this.setReferenceSpace=function(xn){It=xn},this.getBaseLayer=function(){return Dt!==null?Dt:$t},this.getBinding=function(){return kt},this.getFrame=function(){return Ot},this.getSession=function(){return St},this.setSession=async function(xn){if(St=xn,St!==null){if(Bt=ht.getRenderTarget(),St.addEventListener("select",dn),St.addEventListener("selectstart",dn),St.addEventListener("selectend",dn),St.addEventListener("squeeze",dn),St.addEventListener("squeezestart",dn),St.addEventListener("squeezeend",dn),St.addEventListener("end",vn),St.addEventListener("inputsourceschange",pn),Gt.xrCompatible!==!0&&await xt.makeXRCompatible(),qt=ht.getPixelRatio(),ht.getSize(Xt),St.renderState.layers===void 0){const Pn={antialias:Gt.antialias,alpha:!0,depth:Gt.depth,stencil:Gt.stencil,framebufferScaleFactor:wt};$t=new XRWebGLLayer(St,xt,Pn),St.updateRenderState({baseLayer:$t}),ht.setPixelRatio(1),ht.setSize($t.framebufferWidth,$t.framebufferHeight,!1),Ut=new WebGLRenderTarget($t.framebufferWidth,$t.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:ht.outputColorSpace,stencilBuffer:Gt.stencil})}else{let Pn=null,Bn=null,Hn=null;Gt.depth&&(Hn=Gt.stencil?xt.DEPTH24_STENCIL8:xt.DEPTH_COMPONENT24,Pn=Gt.stencil?DepthStencilFormat:DepthFormat,Bn=Gt.stencil?UnsignedInt248Type:UnsignedIntType);const or={colorFormat:xt.RGBA8,depthFormat:Hn,scaleFactor:wt};kt=new XRWebGLBinding(St,xt),Dt=kt.createProjectionLayer(or),St.updateRenderState({layers:[Dt]}),ht.setPixelRatio(1),ht.setSize(Dt.textureWidth,Dt.textureHeight,!1),Ut=new WebGLRenderTarget(Dt.textureWidth,Dt.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(Dt.textureWidth,Dt.textureHeight,Bn,void 0,void 0,void 0,void 0,void 0,void 0,Pn),stencilBuffer:Gt.stencil,colorSpace:ht.outputColorSpace,samples:Gt.antialias?4:0,resolveDepthBuffer:Dt.ignoreDepthValues===!1})}Ut.isXRRenderTarget=!0,this.setFoveation(Rt),It=null,At=await St.requestReferenceSpace(Ct),wn.setContext(St),wn.start(),_t.isPresenting=!0,_t.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(St!==null)return St.environmentBlendMode},this.getDepthTexture=function(){return zt.getDepthTexture()};function pn(xn){for(let Pn=0;Pn<xn.removed.length;Pn++){const Bn=xn.removed[Pn],Hn=Ht.indexOf(Bn);Hn>=0&&(Ht[Hn]=null,Vt[Hn].disconnect(Bn))}for(let Pn=0;Pn<xn.added.length;Pn++){const Bn=xn.added[Pn];let Hn=Ht.indexOf(Bn);if(Hn===-1){for(let mr=0;mr<Vt.length;mr++)if(mr>=Ht.length){Ht.push(Bn),Hn=mr;break}else if(Ht[mr]===null){Ht[mr]=Bn,Hn=mr;break}if(Hn===-1)break}const or=Vt[Hn];or&&or.connect(Bn)}}const rn=new Vector3,an=new Vector3;function Yt(xn,Pn,Bn){rn.setFromMatrixPosition(Pn.matrixWorld),an.setFromMatrixPosition(Bn.matrixWorld);const Hn=rn.distanceTo(an),or=Pn.projectionMatrix.elements,mr=Bn.projectionMatrix.elements,lr=or[14]/(or[10]-1),dr=or[14]/(or[10]+1),hn=(or[9]+1)/or[5],Dn=(or[9]-1)/or[5],An=(or[8]-1)/or[0],Zn=(mr[8]+1)/mr[0],$n=lr*An,ur=lr*Zn,qn=Hn/(-An+Zn),er=qn*-An;Pn.matrixWorld.decompose(xn.position,xn.quaternion,xn.scale),xn.translateX(er),xn.translateZ(qn),xn.matrixWorld.compose(xn.position,xn.quaternion,xn.scale),xn.matrixWorldInverse.copy(xn.matrixWorld).invert();const mn=lr+qn,cn=dr+qn,Cn=$n-er,Gn=ur+(Hn-er),On=hn*dr/cn*mn,zn=Dn*dr/cn*mn;xn.projectionMatrix.makePerspective(Cn,Gn,On,zn,mn,cn),xn.projectionMatrixInverse.copy(xn.projectionMatrix).invert()}function Jt(xn,Pn){Pn===null?xn.matrixWorld.copy(xn.matrix):xn.matrixWorld.multiplyMatrices(Pn.matrixWorld,xn.matrix),xn.matrixWorldInverse.copy(xn.matrixWorld).invert()}this.updateCamera=function(xn){if(St===null)return;zt.texture!==null&&(xn.near=zt.depthNear,xn.far=zt.depthFar),Qt.near=en.near=Kt.near=xn.near,Qt.far=en.far=Kt.far=xn.far,(sn!==Qt.near||un!==Qt.far)&&(St.updateRenderState({depthNear:Qt.near,depthFar:Qt.far}),sn=Qt.near,un=Qt.far,Kt.near=sn,Kt.far=un,en.near=sn,en.far=un,Kt.updateProjectionMatrix(),en.updateProjectionMatrix(),xn.updateProjectionMatrix());const Pn=xn.parent,Bn=Qt.cameras;Jt(Qt,Pn);for(let Hn=0;Hn<Bn.length;Hn++)Jt(Bn[Hn],Pn);Bn.length===2?Yt(Qt,Kt,en):Qt.projectionMatrix.copy(Kt.projectionMatrix),on(xn,Qt,Pn)};function on(xn,Pn,Bn){Bn===null?xn.matrix.copy(Pn.matrixWorld):(xn.matrix.copy(Bn.matrixWorld),xn.matrix.invert(),xn.matrix.multiply(Pn.matrixWorld)),xn.matrix.decompose(xn.position,xn.quaternion,xn.scale),xn.updateMatrixWorld(!0),xn.projectionMatrix.copy(Pn.projectionMatrix),xn.projectionMatrixInverse.copy(Pn.projectionMatrixInverse),xn.isPerspectiveCamera&&(xn.fov=RAD2DEG*2*Math.atan(1/xn.projectionMatrix.elements[5]),xn.zoom=1)}this.getCamera=function(){return Qt},this.getFoveation=function(){if(!(Dt===null&&$t===null))return Rt},this.setFoveation=function(xn){Rt=xn,Dt!==null&&(Dt.fixedFoveation=xn),$t!==null&&$t.fixedFoveation!==void 0&&($t.fixedFoveation=xn)},this.hasDepthSensing=function(){return zt.texture!==null},this.getDepthSensingMesh=function(){return zt.getMesh(Qt)};let ln=null;function _n(xn,Pn){if(Lt=Pn.getViewerPose(It||At),Ot=Pn,Lt!==null){const Bn=Lt.views;$t!==null&&(ht.setRenderTargetFramebuffer(Ut,$t.framebuffer),ht.setRenderTarget(Ut));let Hn=!1;Bn.length!==Qt.cameras.length&&(Qt.cameras.length=0,Hn=!0);for(let mr=0;mr<Bn.length;mr++){const lr=Bn[mr];let dr=null;if($t!==null)dr=$t.getViewport(lr);else{const Dn=kt.getViewSubImage(Dt,lr);dr=Dn.viewport,mr===0&&(ht.setRenderTargetTextures(Ut,Dn.colorTexture,Dt.ignoreDepthValues?void 0:Dn.depthStencilTexture),ht.setRenderTarget(Ut))}let hn=tn[mr];hn===void 0&&(hn=new PerspectiveCamera,hn.layers.enable(mr),hn.viewport=new Vector4,tn[mr]=hn),hn.matrix.fromArray(lr.transform.matrix),hn.matrix.decompose(hn.position,hn.quaternion,hn.scale),hn.projectionMatrix.fromArray(lr.projectionMatrix),hn.projectionMatrixInverse.copy(hn.projectionMatrix).invert(),hn.viewport.set(dr.x,dr.y,dr.width,dr.height),mr===0&&(Qt.matrix.copy(hn.matrix),Qt.matrix.decompose(Qt.position,Qt.quaternion,Qt.scale)),Hn===!0&&Qt.cameras.push(hn)}const or=St.enabledFeatures;if(or&&or.includes("depth-sensing")){const mr=kt.getDepthInformation(Bn[0]);mr&&mr.isValid&&mr.texture&&zt.init(ht,mr,St.renderState)}}for(let Bn=0;Bn<Vt.length;Bn++){const Hn=Ht[Bn],or=Vt[Bn];Hn!==null&&or!==void 0&&or.update(Hn,Pn,It||At)}ln&&ln(xn,Pn),Pn.detectedPlanes&&_t.dispatchEvent({type:"planesdetected",data:Pn}),Ot=null}const wn=new WebGLAnimation;wn.setAnimationLoop(_n),this.setAnimationLoop=function(xn){ln=xn},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(vt,ht){function xt(Gt,Bt){Gt.matrixAutoUpdate===!0&&Gt.updateMatrix(),Bt.value.copy(Gt.matrix)}function _t(Gt,Bt){Bt.color.getRGB(Gt.fogColor.value,getUnlitUniformColorSpace(vt)),Bt.isFog?(Gt.fogNear.value=Bt.near,Gt.fogFar.value=Bt.far):Bt.isFogExp2&&(Gt.fogDensity.value=Bt.density)}function St(Gt,Bt,Ut,Vt,Ht){Bt.isMeshBasicMaterial||Bt.isMeshLambertMaterial?wt(Gt,Bt):Bt.isMeshToonMaterial?(wt(Gt,Bt),kt(Gt,Bt)):Bt.isMeshPhongMaterial?(wt(Gt,Bt),Lt(Gt,Bt)):Bt.isMeshStandardMaterial?(wt(Gt,Bt),Dt(Gt,Bt),Bt.isMeshPhysicalMaterial&&$t(Gt,Bt,Ht)):Bt.isMeshMatcapMaterial?(wt(Gt,Bt),Ot(Gt,Bt)):Bt.isMeshDepthMaterial?wt(Gt,Bt):Bt.isMeshDistanceMaterial?(wt(Gt,Bt),zt(Gt,Bt)):Bt.isMeshNormalMaterial?wt(Gt,Bt):Bt.isLineBasicMaterial?(At(Gt,Bt),Bt.isLineDashedMaterial&&Ct(Gt,Bt)):Bt.isPointsMaterial?Rt(Gt,Bt,Ut,Vt):Bt.isSpriteMaterial?It(Gt,Bt):Bt.isShadowMaterial?(Gt.color.value.copy(Bt.color),Gt.opacity.value=Bt.opacity):Bt.isShaderMaterial&&(Bt.uniformsNeedUpdate=!1)}function wt(Gt,Bt){Gt.opacity.value=Bt.opacity,Bt.color&&Gt.diffuse.value.copy(Bt.color),Bt.emissive&&Gt.emissive.value.copy(Bt.emissive).multiplyScalar(Bt.emissiveIntensity),Bt.map&&(Gt.map.value=Bt.map,xt(Bt.map,Gt.mapTransform)),Bt.alphaMap&&(Gt.alphaMap.value=Bt.alphaMap,xt(Bt.alphaMap,Gt.alphaMapTransform)),Bt.bumpMap&&(Gt.bumpMap.value=Bt.bumpMap,xt(Bt.bumpMap,Gt.bumpMapTransform),Gt.bumpScale.value=Bt.bumpScale,Bt.side===BackSide&&(Gt.bumpScale.value*=-1)),Bt.normalMap&&(Gt.normalMap.value=Bt.normalMap,xt(Bt.normalMap,Gt.normalMapTransform),Gt.normalScale.value.copy(Bt.normalScale),Bt.side===BackSide&&Gt.normalScale.value.negate()),Bt.displacementMap&&(Gt.displacementMap.value=Bt.displacementMap,xt(Bt.displacementMap,Gt.displacementMapTransform),Gt.displacementScale.value=Bt.displacementScale,Gt.displacementBias.value=Bt.displacementBias),Bt.emissiveMap&&(Gt.emissiveMap.value=Bt.emissiveMap,xt(Bt.emissiveMap,Gt.emissiveMapTransform)),Bt.specularMap&&(Gt.specularMap.value=Bt.specularMap,xt(Bt.specularMap,Gt.specularMapTransform)),Bt.alphaTest>0&&(Gt.alphaTest.value=Bt.alphaTest);const Ut=ht.get(Bt),Vt=Ut.envMap,Ht=Ut.envMapRotation;Vt&&(Gt.envMap.value=Vt,_e1.copy(Ht),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,Vt.isCubeTexture&&Vt.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),Gt.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),Gt.flipEnvMap.value=Vt.isCubeTexture&&Vt.isRenderTargetTexture===!1?-1:1,Gt.reflectivity.value=Bt.reflectivity,Gt.ior.value=Bt.ior,Gt.refractionRatio.value=Bt.refractionRatio),Bt.lightMap&&(Gt.lightMap.value=Bt.lightMap,Gt.lightMapIntensity.value=Bt.lightMapIntensity,xt(Bt.lightMap,Gt.lightMapTransform)),Bt.aoMap&&(Gt.aoMap.value=Bt.aoMap,Gt.aoMapIntensity.value=Bt.aoMapIntensity,xt(Bt.aoMap,Gt.aoMapTransform))}function At(Gt,Bt){Gt.diffuse.value.copy(Bt.color),Gt.opacity.value=Bt.opacity,Bt.map&&(Gt.map.value=Bt.map,xt(Bt.map,Gt.mapTransform))}function Ct(Gt,Bt){Gt.dashSize.value=Bt.dashSize,Gt.totalSize.value=Bt.dashSize+Bt.gapSize,Gt.scale.value=Bt.scale}function Rt(Gt,Bt,Ut,Vt){Gt.diffuse.value.copy(Bt.color),Gt.opacity.value=Bt.opacity,Gt.size.value=Bt.size*Ut,Gt.scale.value=Vt*.5,Bt.map&&(Gt.map.value=Bt.map,xt(Bt.map,Gt.uvTransform)),Bt.alphaMap&&(Gt.alphaMap.value=Bt.alphaMap,xt(Bt.alphaMap,Gt.alphaMapTransform)),Bt.alphaTest>0&&(Gt.alphaTest.value=Bt.alphaTest)}function It(Gt,Bt){Gt.diffuse.value.copy(Bt.color),Gt.opacity.value=Bt.opacity,Gt.rotation.value=Bt.rotation,Bt.map&&(Gt.map.value=Bt.map,xt(Bt.map,Gt.mapTransform)),Bt.alphaMap&&(Gt.alphaMap.value=Bt.alphaMap,xt(Bt.alphaMap,Gt.alphaMapTransform)),Bt.alphaTest>0&&(Gt.alphaTest.value=Bt.alphaTest)}function Lt(Gt,Bt){Gt.specular.value.copy(Bt.specular),Gt.shininess.value=Math.max(Bt.shininess,1e-4)}function kt(Gt,Bt){Bt.gradientMap&&(Gt.gradientMap.value=Bt.gradientMap)}function Dt(Gt,Bt){Gt.metalness.value=Bt.metalness,Bt.metalnessMap&&(Gt.metalnessMap.value=Bt.metalnessMap,xt(Bt.metalnessMap,Gt.metalnessMapTransform)),Gt.roughness.value=Bt.roughness,Bt.roughnessMap&&(Gt.roughnessMap.value=Bt.roughnessMap,xt(Bt.roughnessMap,Gt.roughnessMapTransform)),Bt.envMap&&(Gt.envMapIntensity.value=Bt.envMapIntensity)}function $t(Gt,Bt,Ut){Gt.ior.value=Bt.ior,Bt.sheen>0&&(Gt.sheenColor.value.copy(Bt.sheenColor).multiplyScalar(Bt.sheen),Gt.sheenRoughness.value=Bt.sheenRoughness,Bt.sheenColorMap&&(Gt.sheenColorMap.value=Bt.sheenColorMap,xt(Bt.sheenColorMap,Gt.sheenColorMapTransform)),Bt.sheenRoughnessMap&&(Gt.sheenRoughnessMap.value=Bt.sheenRoughnessMap,xt(Bt.sheenRoughnessMap,Gt.sheenRoughnessMapTransform))),Bt.clearcoat>0&&(Gt.clearcoat.value=Bt.clearcoat,Gt.clearcoatRoughness.value=Bt.clearcoatRoughness,Bt.clearcoatMap&&(Gt.clearcoatMap.value=Bt.clearcoatMap,xt(Bt.clearcoatMap,Gt.clearcoatMapTransform)),Bt.clearcoatRoughnessMap&&(Gt.clearcoatRoughnessMap.value=Bt.clearcoatRoughnessMap,xt(Bt.clearcoatRoughnessMap,Gt.clearcoatRoughnessMapTransform)),Bt.clearcoatNormalMap&&(Gt.clearcoatNormalMap.value=Bt.clearcoatNormalMap,xt(Bt.clearcoatNormalMap,Gt.clearcoatNormalMapTransform),Gt.clearcoatNormalScale.value.copy(Bt.clearcoatNormalScale),Bt.side===BackSide&&Gt.clearcoatNormalScale.value.negate())),Bt.dispersion>0&&(Gt.dispersion.value=Bt.dispersion),Bt.iridescence>0&&(Gt.iridescence.value=Bt.iridescence,Gt.iridescenceIOR.value=Bt.iridescenceIOR,Gt.iridescenceThicknessMinimum.value=Bt.iridescenceThicknessRange[0],Gt.iridescenceThicknessMaximum.value=Bt.iridescenceThicknessRange[1],Bt.iridescenceMap&&(Gt.iridescenceMap.value=Bt.iridescenceMap,xt(Bt.iridescenceMap,Gt.iridescenceMapTransform)),Bt.iridescenceThicknessMap&&(Gt.iridescenceThicknessMap.value=Bt.iridescenceThicknessMap,xt(Bt.iridescenceThicknessMap,Gt.iridescenceThicknessMapTransform))),Bt.transmission>0&&(Gt.transmission.value=Bt.transmission,Gt.transmissionSamplerMap.value=Ut.texture,Gt.transmissionSamplerSize.value.set(Ut.width,Ut.height),Bt.transmissionMap&&(Gt.transmissionMap.value=Bt.transmissionMap,xt(Bt.transmissionMap,Gt.transmissionMapTransform)),Gt.thickness.value=Bt.thickness,Bt.thicknessMap&&(Gt.thicknessMap.value=Bt.thicknessMap,xt(Bt.thicknessMap,Gt.thicknessMapTransform)),Gt.attenuationDistance.value=Bt.attenuationDistance,Gt.attenuationColor.value.copy(Bt.attenuationColor)),Bt.anisotropy>0&&(Gt.anisotropyVector.value.set(Bt.anisotropy*Math.cos(Bt.anisotropyRotation),Bt.anisotropy*Math.sin(Bt.anisotropyRotation)),Bt.anisotropyMap&&(Gt.anisotropyMap.value=Bt.anisotropyMap,xt(Bt.anisotropyMap,Gt.anisotropyMapTransform))),Gt.specularIntensity.value=Bt.specularIntensity,Gt.specularColor.value.copy(Bt.specularColor),Bt.specularColorMap&&(Gt.specularColorMap.value=Bt.specularColorMap,xt(Bt.specularColorMap,Gt.specularColorMapTransform)),Bt.specularIntensityMap&&(Gt.specularIntensityMap.value=Bt.specularIntensityMap,xt(Bt.specularIntensityMap,Gt.specularIntensityMapTransform))}function Ot(Gt,Bt){Bt.matcap&&(Gt.matcap.value=Bt.matcap)}function zt(Gt,Bt){const Ut=ht.get(Bt).light;Gt.referencePosition.value.setFromMatrixPosition(Ut.matrixWorld),Gt.nearDistance.value=Ut.shadow.camera.near,Gt.farDistance.value=Ut.shadow.camera.far}return{refreshFogUniforms:_t,refreshMaterialUniforms:St}}function WebGLUniformsGroups(vt,ht,xt,_t){let St={},wt={},At=[];const Ct=vt.getParameter(vt.MAX_UNIFORM_BUFFER_BINDINGS);function Rt(Ut,Vt){const Ht=Vt.program;_t.uniformBlockBinding(Ut,Ht)}function It(Ut,Vt){let Ht=St[Ut.id];Ht===void 0&&(Ot(Ut),Ht=Lt(Ut),St[Ut.id]=Ht,Ut.addEventListener("dispose",Gt));const Xt=Vt.program;_t.updateUBOMapping(Ut,Xt);const qt=ht.render.frame;wt[Ut.id]!==qt&&(Dt(Ut),wt[Ut.id]=qt)}function Lt(Ut){const Vt=kt();Ut.__bindingPointIndex=Vt;const Ht=vt.createBuffer(),Xt=Ut.__size,qt=Ut.usage;return vt.bindBuffer(vt.UNIFORM_BUFFER,Ht),vt.bufferData(vt.UNIFORM_BUFFER,Xt,qt),vt.bindBuffer(vt.UNIFORM_BUFFER,null),vt.bindBufferBase(vt.UNIFORM_BUFFER,Vt,Ht),Ht}function kt(){for(let Ut=0;Ut<Ct;Ut++)if(At.indexOf(Ut)===-1)return At.push(Ut),Ut;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function Dt(Ut){const Vt=St[Ut.id],Ht=Ut.uniforms,Xt=Ut.__cache;vt.bindBuffer(vt.UNIFORM_BUFFER,Vt);for(let qt=0,Kt=Ht.length;qt<Kt;qt++){const en=Array.isArray(Ht[qt])?Ht[qt]:[Ht[qt]];for(let tn=0,Qt=en.length;tn<Qt;tn++){const sn=en[tn];if($t(sn,qt,tn,Xt)===!0){const un=sn.__offset,dn=Array.isArray(sn.value)?sn.value:[sn.value];let vn=0;for(let pn=0;pn<dn.length;pn++){const rn=dn[pn],an=zt(rn);typeof rn=="number"||typeof rn=="boolean"?(sn.__data[0]=rn,vt.bufferSubData(vt.UNIFORM_BUFFER,un+vn,sn.__data)):rn.isMatrix3?(sn.__data[0]=rn.elements[0],sn.__data[1]=rn.elements[1],sn.__data[2]=rn.elements[2],sn.__data[3]=0,sn.__data[4]=rn.elements[3],sn.__data[5]=rn.elements[4],sn.__data[6]=rn.elements[5],sn.__data[7]=0,sn.__data[8]=rn.elements[6],sn.__data[9]=rn.elements[7],sn.__data[10]=rn.elements[8],sn.__data[11]=0):(rn.toArray(sn.__data,vn),vn+=an.storage/Float32Array.BYTES_PER_ELEMENT)}vt.bufferSubData(vt.UNIFORM_BUFFER,un,sn.__data)}}}vt.bindBuffer(vt.UNIFORM_BUFFER,null)}function $t(Ut,Vt,Ht,Xt){const qt=Ut.value,Kt=Vt+"_"+Ht;if(Xt[Kt]===void 0)return typeof qt=="number"||typeof qt=="boolean"?Xt[Kt]=qt:Xt[Kt]=qt.clone(),!0;{const en=Xt[Kt];if(typeof qt=="number"||typeof qt=="boolean"){if(en!==qt)return Xt[Kt]=qt,!0}else if(en.equals(qt)===!1)return en.copy(qt),!0}return!1}function Ot(Ut){const Vt=Ut.uniforms;let Ht=0;const Xt=16;for(let Kt=0,en=Vt.length;Kt<en;Kt++){const tn=Array.isArray(Vt[Kt])?Vt[Kt]:[Vt[Kt]];for(let Qt=0,sn=tn.length;Qt<sn;Qt++){const un=tn[Qt],dn=Array.isArray(un.value)?un.value:[un.value];for(let vn=0,pn=dn.length;vn<pn;vn++){const rn=dn[vn],an=zt(rn),Yt=Ht%Xt,Jt=Yt%an.boundary,on=Yt+Jt;Ht+=Jt,on!==0&&Xt-on<an.storage&&(Ht+=Xt-on),un.__data=new Float32Array(an.storage/Float32Array.BYTES_PER_ELEMENT),un.__offset=Ht,Ht+=an.storage}}}const qt=Ht%Xt;return qt>0&&(Ht+=Xt-qt),Ut.__size=Ht,Ut.__cache={},this}function zt(Ut){const Vt={boundary:0,storage:0};return typeof Ut=="number"||typeof Ut=="boolean"?(Vt.boundary=4,Vt.storage=4):Ut.isVector2?(Vt.boundary=8,Vt.storage=8):Ut.isVector3||Ut.isColor?(Vt.boundary=16,Vt.storage=12):Ut.isVector4?(Vt.boundary=16,Vt.storage=16):Ut.isMatrix3?(Vt.boundary=48,Vt.storage=48):Ut.isMatrix4?(Vt.boundary=64,Vt.storage=64):Ut.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Ut),Vt}function Gt(Ut){const Vt=Ut.target;Vt.removeEventListener("dispose",Gt);const Ht=At.indexOf(Vt.__bindingPointIndex);At.splice(Ht,1),vt.deleteBuffer(St[Vt.id]),delete St[Vt.id],delete wt[Vt.id]}function Bt(){for(const Ut in St)vt.deleteBuffer(St[Ut]);At=[],St={},wt={}}return{bind:Rt,update:It,dispose:Bt}}class WebGLRenderer{constructor(ht={}){const{canvas:xt=createCanvasElement(),context:_t=null,depth:St=!0,stencil:wt=!1,alpha:At=!1,antialias:Ct=!1,premultipliedAlpha:Rt=!0,preserveDrawingBuffer:It=!1,powerPreference:Lt="default",failIfMajorPerformanceCaveat:kt=!1}=ht;this.isWebGLRenderer=!0;let Dt;if(_t!==null){if(typeof WebGLRenderingContext<"u"&&_t instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");Dt=_t.getContextAttributes().alpha}else Dt=At;const $t=new Uint32Array(4),Ot=new Int32Array(4);let zt=null,Gt=null;const Bt=[],Ut=[];this.domElement=xt,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const Vt=this;let Ht=!1,Xt=0,qt=0,Kt=null,en=-1,tn=null;const Qt=new Vector4,sn=new Vector4;let un=null;const dn=new Color(0);let vn=0,pn=xt.width,rn=xt.height,an=1,Yt=null,Jt=null;const on=new Vector4(0,0,pn,rn),ln=new Vector4(0,0,pn,rn);let _n=!1;const wn=new Frustum;let xn=!1,Pn=!1;const Bn=new Matrix4,Hn=new Vector3,or=new Vector4,mr={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let lr=!1;function dr(){return Kt===null?an:1}let hn=_t;function Dn(fn,bn){return xt.getContext(fn,bn)}try{const fn={alpha:!0,depth:St,stencil:wt,antialias:Ct,premultipliedAlpha:Rt,preserveDrawingBuffer:It,powerPreference:Lt,failIfMajorPerformanceCaveat:kt};if("setAttribute"in xt&&xt.setAttribute("data-engine",`three.js r${REVISION}`),xt.addEventListener("webglcontextlost",kn,!1),xt.addEventListener("webglcontextrestored",Un,!1),xt.addEventListener("webglcontextcreationerror",Xn,!1),hn===null){const bn="webgl2";if(hn=Dn(bn,fn),hn===null)throw Dn(bn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(fn){throw console.error("THREE.WebGLRenderer: "+fn.message),fn}let An,Zn,$n,ur,qn,er,mn,cn,Cn,Gn,On,zn,ar,Yn,tr,br,Wn,rr,kr,Tr,cr,Ar,Sn,jn;function yn(){An=new WebGLExtensions(hn),An.init(),Ar=new WebGLUtils(hn,An),Zn=new WebGLCapabilities(hn,An,ht,Ar),$n=new WebGLState(hn),ur=new WebGLInfo(hn),qn=new WebGLProperties,er=new WebGLTextures(hn,An,$n,qn,Zn,Ar,ur),mn=new WebGLCubeMaps(Vt),cn=new WebGLCubeUVMaps(Vt),Cn=new WebGLAttributes(hn),Sn=new WebGLBindingStates(hn,Cn),Gn=new WebGLGeometries(hn,Cn,ur,Sn),On=new WebGLObjects(hn,Gn,Cn,ur),kr=new WebGLMorphtargets(hn,Zn,er),br=new WebGLClipping(qn),zn=new WebGLPrograms(Vt,mn,cn,An,Zn,Sn,br),ar=new WebGLMaterials(Vt,qn),Yn=new WebGLRenderLists,tr=new WebGLRenderStates(An),rr=new WebGLBackground(Vt,mn,cn,$n,On,Dt,Rt),Wn=new WebGLShadowMap(Vt,On,Zn),jn=new WebGLUniformsGroups(hn,ur,Zn,$n),Tr=new WebGLBufferRenderer(hn,An,ur),cr=new WebGLIndexedBufferRenderer(hn,An,ur),ur.programs=zn.programs,Vt.capabilities=Zn,Vt.extensions=An,Vt.properties=qn,Vt.renderLists=Yn,Vt.shadowMap=Wn,Vt.state=$n,Vt.info=ur}yn();const Vn=new WebXRManager(Vt,hn);this.xr=Vn,this.getContext=function(){return hn},this.getContextAttributes=function(){return hn.getContextAttributes()},this.forceContextLoss=function(){const fn=An.get("WEBGL_lose_context");fn&&fn.loseContext()},this.forceContextRestore=function(){const fn=An.get("WEBGL_lose_context");fn&&fn.restoreContext()},this.getPixelRatio=function(){return an},this.setPixelRatio=function(fn){fn!==void 0&&(an=fn,this.setSize(pn,rn,!1))},this.getSize=function(fn){return fn.set(pn,rn)},this.setSize=function(fn,bn,In=!0){if(Vn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}pn=fn,rn=bn,xt.width=Math.floor(fn*an),xt.height=Math.floor(bn*an),In===!0&&(xt.style.width=fn+"px",xt.style.height=bn+"px"),this.setViewport(0,0,fn,bn)},this.getDrawingBufferSize=function(fn){return fn.set(pn*an,rn*an).floor()},this.setDrawingBufferSize=function(fn,bn,In){pn=fn,rn=bn,an=In,xt.width=Math.floor(fn*In),xt.height=Math.floor(bn*In),this.setViewport(0,0,fn,bn)},this.getCurrentViewport=function(fn){return fn.copy(Qt)},this.getViewport=function(fn){return fn.copy(on)},this.setViewport=function(fn,bn,In,Ln){fn.isVector4?on.set(fn.x,fn.y,fn.z,fn.w):on.set(fn,bn,In,Ln),$n.viewport(Qt.copy(on).multiplyScalar(an).round())},this.getScissor=function(fn){return fn.copy(ln)},this.setScissor=function(fn,bn,In,Ln){fn.isVector4?ln.set(fn.x,fn.y,fn.z,fn.w):ln.set(fn,bn,In,Ln),$n.scissor(sn.copy(ln).multiplyScalar(an).round())},this.getScissorTest=function(){return _n},this.setScissorTest=function(fn){$n.setScissorTest(_n=fn)},this.setOpaqueSort=function(fn){Yt=fn},this.setTransparentSort=function(fn){Jt=fn},this.getClearColor=function(fn){return fn.copy(rr.getClearColor())},this.setClearColor=function(){rr.setClearColor.apply(rr,arguments)},this.getClearAlpha=function(){return rr.getClearAlpha()},this.setClearAlpha=function(){rr.setClearAlpha.apply(rr,arguments)},this.clear=function(fn=!0,bn=!0,In=!0){let Ln=0;if(fn){let Tn=!1;if(Kt!==null){const Qn=Kt.texture.format;Tn=Qn===RGBAIntegerFormat||Qn===RGIntegerFormat||Qn===RedIntegerFormat}if(Tn){const Qn=Kt.texture.type,sr=Qn===UnsignedByteType||Qn===UnsignedIntType||Qn===UnsignedShortType||Qn===UnsignedInt248Type||Qn===UnsignedShort4444Type||Qn===UnsignedShort5551Type,gr=rr.getClearColor(),pr=rr.getClearAlpha(),Sr=gr.r,wr=gr.g,_r=gr.b;sr?($t[0]=Sr,$t[1]=wr,$t[2]=_r,$t[3]=pr,hn.clearBufferuiv(hn.COLOR,0,$t)):(Ot[0]=Sr,Ot[1]=wr,Ot[2]=_r,Ot[3]=pr,hn.clearBufferiv(hn.COLOR,0,Ot))}else Ln|=hn.COLOR_BUFFER_BIT}bn&&(Ln|=hn.DEPTH_BUFFER_BIT),In&&(Ln|=hn.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),hn.clear(Ln)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){xt.removeEventListener("webglcontextlost",kn,!1),xt.removeEventListener("webglcontextrestored",Un,!1),xt.removeEventListener("webglcontextcreationerror",Xn,!1),Yn.dispose(),tr.dispose(),qn.dispose(),mn.dispose(),cn.dispose(),On.dispose(),Sn.dispose(),jn.dispose(),zn.dispose(),Vn.dispose(),Vn.removeEventListener("sessionstart",ts),Vn.removeEventListener("sessionend",Hs),js.stop()};function kn(fn){fn.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Ht=!0}function Un(){console.log("THREE.WebGLRenderer: Context Restored."),Ht=!1;const fn=ur.autoReset,bn=Wn.enabled,In=Wn.autoUpdate,Ln=Wn.needsUpdate,Tn=Wn.type;yn(),ur.autoReset=fn,Wn.enabled=bn,Wn.autoUpdate=In,Wn.needsUpdate=Ln,Wn.type=Tn}function Xn(fn){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",fn.statusMessage)}function Mr(fn){const bn=fn.target;bn.removeEventListener("dispose",Mr),Lr(bn)}function Lr(fn){Nr(fn),qn.remove(fn)}function Nr(fn){const bn=qn.get(fn).programs;bn!==void 0&&(bn.forEach(function(In){zn.releaseProgram(In)}),fn.isShaderMaterial&&zn.releaseShaderCache(fn))}this.renderBufferDirect=function(fn,bn,In,Ln,Tn,Qn){bn===null&&(bn=mr);const sr=Tn.isMesh&&Tn.matrixWorld.determinant()<0,gr=mu(fn,bn,In,Ln,Tn);$n.setMaterial(Ln,sr);let pr=In.index,Sr=1;if(Ln.wireframe===!0){if(pr=Gn.getWireframeAttribute(In),pr===void 0)return;Sr=2}const wr=In.drawRange,_r=In.attributes.position;let Br=wr.start*Sr,Hr=(wr.start+wr.count)*Sr;Qn!==null&&(Br=Math.max(Br,Qn.start*Sr),Hr=Math.min(Hr,(Qn.start+Qn.count)*Sr)),pr!==null?(Br=Math.max(Br,0),Hr=Math.min(Hr,pr.count)):_r!=null&&(Br=Math.max(Br,0),Hr=Math.min(Hr,_r.count));const zr=Hr-Br;if(zr<0||zr===1/0)return;Sn.setup(Tn,Ln,gr,In,pr);let Kr,xr=Tr;if(pr!==null&&(Kr=Cn.get(pr),xr=cr,xr.setIndex(Kr)),Tn.isMesh)Ln.wireframe===!0?($n.setLineWidth(Ln.wireframeLinewidth*dr()),xr.setMode(hn.LINES)):xr.setMode(hn.TRIANGLES);else if(Tn.isLine){let Jn=Ln.linewidth;Jn===void 0&&(Jn=1),$n.setLineWidth(Jn*dr()),Tn.isLineSegments?xr.setMode(hn.LINES):Tn.isLineLoop?xr.setMode(hn.LINE_LOOP):xr.setMode(hn.LINE_STRIP)}else Tn.isPoints?xr.setMode(hn.POINTS):Tn.isSprite&&xr.setMode(hn.TRIANGLES);if(Tn.isBatchedMesh)if(Tn._multiDrawInstances!==null)xr.renderMultiDrawInstances(Tn._multiDrawStarts,Tn._multiDrawCounts,Tn._multiDrawCount,Tn._multiDrawInstances);else if(An.get("WEBGL_multi_draw"))xr.renderMultiDraw(Tn._multiDrawStarts,Tn._multiDrawCounts,Tn._multiDrawCount);else{const Jn=Tn._multiDrawStarts,jr=Tn._multiDrawCounts,Cr=Tn._multiDrawCount,Wr=pr?Cn.get(pr).bytesPerElement:1,vs=qn.get(Ln).currentProgram.getUniforms();for(let Jr=0;Jr<Cr;Jr++)vs.setValue(hn,"_gl_DrawID",Jr),xr.render(Jn[Jr]/Wr,jr[Jr])}else if(Tn.isInstancedMesh)xr.renderInstances(Br,zr,Tn.count);else if(In.isInstancedBufferGeometry){const Jn=In._maxInstanceCount!==void 0?In._maxInstanceCount:1/0,jr=Math.min(In.instanceCount,Jn);xr.renderInstances(Br,zr,jr)}else xr.render(Br,zr)};function Ur(fn,bn,In){fn.transparent===!0&&fn.side===DoubleSide&&fn.forceSinglePass===!1?(fn.side=BackSide,fn.needsUpdate=!0,Eo(fn,bn,In),fn.side=FrontSide,fn.needsUpdate=!0,Eo(fn,bn,In),fn.side=DoubleSide):Eo(fn,bn,In)}this.compile=function(fn,bn,In=null){In===null&&(In=fn),Gt=tr.get(In),Gt.init(bn),Ut.push(Gt),In.traverseVisible(function(Tn){Tn.isLight&&Tn.layers.test(bn.layers)&&(Gt.pushLight(Tn),Tn.castShadow&&Gt.pushShadow(Tn))}),fn!==In&&fn.traverseVisible(function(Tn){Tn.isLight&&Tn.layers.test(bn.layers)&&(Gt.pushLight(Tn),Tn.castShadow&&Gt.pushShadow(Tn))}),Gt.setupLights();const Ln=new Set;return fn.traverse(function(Tn){const Qn=Tn.material;if(Qn)if(Array.isArray(Qn))for(let sr=0;sr<Qn.length;sr++){const gr=Qn[sr];Ur(gr,In,Tn),Ln.add(gr)}else Ur(Qn,In,Tn),Ln.add(Qn)}),Ut.pop(),Gt=null,Ln},this.compileAsync=function(fn,bn,In=null){const Ln=this.compile(fn,bn,In);return new Promise(Tn=>{function Qn(){if(Ln.forEach(function(sr){qn.get(sr).currentProgram.isReady()&&Ln.delete(sr)}),Ln.size===0){Tn(fn);return}setTimeout(Qn,10)}An.get("KHR_parallel_shader_compile")!==null?Qn():setTimeout(Qn,10)})};let Fr=null;function rs(fn){Fr&&Fr(fn)}function ts(){js.stop()}function Hs(){js.start()}const js=new WebGLAnimation;js.setAnimationLoop(rs),typeof self<"u"&&js.setContext(self),this.setAnimationLoop=function(fn){Fr=fn,Vn.setAnimationLoop(fn),fn===null?js.stop():js.start()},Vn.addEventListener("sessionstart",ts),Vn.addEventListener("sessionend",Hs),this.render=function(fn,bn){if(bn!==void 0&&bn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Ht===!0)return;if(fn.matrixWorldAutoUpdate===!0&&fn.updateMatrixWorld(),bn.parent===null&&bn.matrixWorldAutoUpdate===!0&&bn.updateMatrixWorld(),Vn.enabled===!0&&Vn.isPresenting===!0&&(Vn.cameraAutoUpdate===!0&&Vn.updateCamera(bn),bn=Vn.getCamera()),fn.isScene===!0&&fn.onBeforeRender(Vt,fn,bn,Kt),Gt=tr.get(fn,Ut.length),Gt.init(bn),Ut.push(Gt),Bn.multiplyMatrices(bn.projectionMatrix,bn.matrixWorldInverse),wn.setFromProjectionMatrix(Bn),Pn=this.localClippingEnabled,xn=br.init(this.clippingPlanes,Pn),zt=Yn.get(fn,Bt.length),zt.init(),Bt.push(zt),Vn.enabled===!0&&Vn.isPresenting===!0){const Qn=Vt.xr.getDepthSensingMesh();Qn!==null&&Bo(Qn,bn,-1/0,Vt.sortObjects)}Bo(fn,bn,0,Vt.sortObjects),zt.finish(),Vt.sortObjects===!0&&zt.sort(Yt,Jt),lr=Vn.enabled===!1||Vn.isPresenting===!1||Vn.hasDepthSensing()===!1,lr&&rr.addToRenderList(zt,fn),this.info.render.frame++,xn===!0&&br.beginShadows();const In=Gt.state.shadowsArray;Wn.render(In,fn,bn),xn===!0&&br.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ln=zt.opaque,Tn=zt.transmissive;if(Gt.setupLights(),bn.isArrayCamera){const Qn=bn.cameras;if(Tn.length>0)for(let sr=0,gr=Qn.length;sr<gr;sr++){const pr=Qn[sr];_o(Ln,Tn,fn,pr)}lr&&rr.render(fn);for(let sr=0,gr=Qn.length;sr<gr;sr++){const pr=Qn[sr];$o(zt,fn,pr,pr.viewport)}}else Tn.length>0&&_o(Ln,Tn,fn,bn),lr&&rr.render(fn),$o(zt,fn,bn);Kt!==null&&(er.updateMultisampleRenderTarget(Kt),er.updateRenderTargetMipmap(Kt)),fn.isScene===!0&&fn.onAfterRender(Vt,fn,bn),Sn.resetDefaultState(),en=-1,tn=null,Ut.pop(),Ut.length>0?(Gt=Ut[Ut.length-1],xn===!0&&br.setGlobalState(Vt.clippingPlanes,Gt.state.camera)):Gt=null,Bt.pop(),Bt.length>0?zt=Bt[Bt.length-1]:zt=null};function Bo(fn,bn,In,Ln){if(fn.visible===!1)return;if(fn.layers.test(bn.layers)){if(fn.isGroup)In=fn.renderOrder;else if(fn.isLOD)fn.autoUpdate===!0&&fn.update(bn);else if(fn.isLight)Gt.pushLight(fn),fn.castShadow&&Gt.pushShadow(fn);else if(fn.isSprite){if(!fn.frustumCulled||wn.intersectsSprite(fn)){Ln&&or.setFromMatrixPosition(fn.matrixWorld).applyMatrix4(Bn);const sr=On.update(fn),gr=fn.material;gr.visible&&zt.push(fn,sr,gr,In,or.z,null)}}else if((fn.isMesh||fn.isLine||fn.isPoints)&&(!fn.frustumCulled||wn.intersectsObject(fn))){const sr=On.update(fn),gr=fn.material;if(Ln&&(fn.boundingSphere!==void 0?(fn.boundingSphere===null&&fn.computeBoundingSphere(),or.copy(fn.boundingSphere.center)):(sr.boundingSphere===null&&sr.computeBoundingSphere(),or.copy(sr.boundingSphere.center)),or.applyMatrix4(fn.matrixWorld).applyMatrix4(Bn)),Array.isArray(gr)){const pr=sr.groups;for(let Sr=0,wr=pr.length;Sr<wr;Sr++){const _r=pr[Sr],Br=gr[_r.materialIndex];Br&&Br.visible&&zt.push(fn,sr,Br,In,or.z,_r)}}else gr.visible&&zt.push(fn,sr,gr,In,or.z,null)}}const Qn=fn.children;for(let sr=0,gr=Qn.length;sr<gr;sr++)Bo(Qn[sr],bn,In,Ln)}function $o(fn,bn,In,Ln){const Tn=fn.opaque,Qn=fn.transmissive,sr=fn.transparent;Gt.setupLightsView(In),xn===!0&&br.setGlobalState(Vt.clippingPlanes,In),Ln&&$n.viewport(Qt.copy(Ln)),Tn.length>0&&So(Tn,bn,In),Qn.length>0&&So(Qn,bn,In),sr.length>0&&So(sr,bn,In),$n.buffers.depth.setTest(!0),$n.buffers.depth.setMask(!0),$n.buffers.color.setMask(!0),$n.setPolygonOffset(!1)}function _o(fn,bn,In,Ln){if((In.isScene===!0?In.overrideMaterial:null)!==null)return;Gt.state.transmissionRenderTarget[Ln.id]===void 0&&(Gt.state.transmissionRenderTarget[Ln.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:An.has("EXT_color_buffer_half_float")||An.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:wt,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const Qn=Gt.state.transmissionRenderTarget[Ln.id],sr=Ln.viewport||Qt;Qn.setSize(sr.z,sr.w);const gr=Vt.getRenderTarget();Vt.setRenderTarget(Qn),Vt.getClearColor(dn),vn=Vt.getClearAlpha(),vn<1&&Vt.setClearColor(16777215,.5),Vt.clear(),lr&&rr.render(In);const pr=Vt.toneMapping;Vt.toneMapping=NoToneMapping;const Sr=Ln.viewport;if(Ln.viewport!==void 0&&(Ln.viewport=void 0),Gt.setupLightsView(Ln),xn===!0&&br.setGlobalState(Vt.clippingPlanes,Ln),So(fn,In,Ln),er.updateMultisampleRenderTarget(Qn),er.updateRenderTargetMipmap(Qn),An.has("WEBGL_multisampled_render_to_texture")===!1){let wr=!1;for(let _r=0,Br=bn.length;_r<Br;_r++){const Hr=bn[_r],zr=Hr.object,Kr=Hr.geometry,xr=Hr.material,Jn=Hr.group;if(xr.side===DoubleSide&&zr.layers.test(Ln.layers)){const jr=xr.side;xr.side=BackSide,xr.needsUpdate=!0,Qs(zr,In,Ln,Kr,xr,Jn),xr.side=jr,xr.needsUpdate=!0,wr=!0}}wr===!0&&(er.updateMultisampleRenderTarget(Qn),er.updateRenderTargetMipmap(Qn))}Vt.setRenderTarget(gr),Vt.setClearColor(dn,vn),Sr!==void 0&&(Ln.viewport=Sr),Vt.toneMapping=pr}function So(fn,bn,In){const Ln=bn.isScene===!0?bn.overrideMaterial:null;for(let Tn=0,Qn=fn.length;Tn<Qn;Tn++){const sr=fn[Tn],gr=sr.object,pr=sr.geometry,Sr=Ln===null?sr.material:Ln,wr=sr.group;gr.layers.test(In.layers)&&Qs(gr,bn,In,pr,Sr,wr)}}function Qs(fn,bn,In,Ln,Tn,Qn){fn.onBeforeRender(Vt,bn,In,Ln,Tn,Qn),fn.modelViewMatrix.multiplyMatrices(In.matrixWorldInverse,fn.matrixWorld),fn.normalMatrix.getNormalMatrix(fn.modelViewMatrix),Tn.transparent===!0&&Tn.side===DoubleSide&&Tn.forceSinglePass===!1?(Tn.side=BackSide,Tn.needsUpdate=!0,Vt.renderBufferDirect(In,bn,Ln,Tn,fn,Qn),Tn.side=FrontSide,Tn.needsUpdate=!0,Vt.renderBufferDirect(In,bn,Ln,Tn,fn,Qn),Tn.side=DoubleSide):Vt.renderBufferDirect(In,bn,Ln,Tn,fn,Qn),fn.onAfterRender(Vt,bn,In,Ln,Tn,Qn)}function Eo(fn,bn,In){bn.isScene!==!0&&(bn=mr);const Ln=qn.get(fn),Tn=Gt.state.lights,Qn=Gt.state.shadowsArray,sr=Tn.state.version,gr=zn.getParameters(fn,Tn.state,Qn,bn,In),pr=zn.getProgramCacheKey(gr);let Sr=Ln.programs;Ln.environment=fn.isMeshStandardMaterial?bn.environment:null,Ln.fog=bn.fog,Ln.envMap=(fn.isMeshStandardMaterial?cn:mn).get(fn.envMap||Ln.environment),Ln.envMapRotation=Ln.environment!==null&&fn.envMap===null?bn.environmentRotation:fn.envMapRotation,Sr===void 0&&(fn.addEventListener("dispose",Mr),Sr=new Map,Ln.programs=Sr);let wr=Sr.get(pr);if(wr!==void 0){if(Ln.currentProgram===wr&&Ln.lightsStateVersion===sr)return yl(fn,gr),wr}else gr.uniforms=zn.getUniforms(fn),fn.onBeforeCompile(gr,Vt),wr=zn.acquireProgram(gr,pr),Sr.set(pr,wr),Ln.uniforms=gr.uniforms;const _r=Ln.uniforms;return(!fn.isShaderMaterial&&!fn.isRawShaderMaterial||fn.clipping===!0)&&(_r.clippingPlanes=br.uniform),yl(fn,gr),Ln.needsLights=vu(fn),Ln.lightsStateVersion=sr,Ln.needsLights&&(_r.ambientLightColor.value=Tn.state.ambient,_r.lightProbe.value=Tn.state.probe,_r.directionalLights.value=Tn.state.directional,_r.directionalLightShadows.value=Tn.state.directionalShadow,_r.spotLights.value=Tn.state.spot,_r.spotLightShadows.value=Tn.state.spotShadow,_r.rectAreaLights.value=Tn.state.rectArea,_r.ltc_1.value=Tn.state.rectAreaLTC1,_r.ltc_2.value=Tn.state.rectAreaLTC2,_r.pointLights.value=Tn.state.point,_r.pointLightShadows.value=Tn.state.pointShadow,_r.hemisphereLights.value=Tn.state.hemi,_r.directionalShadowMap.value=Tn.state.directionalShadowMap,_r.directionalShadowMatrix.value=Tn.state.directionalShadowMatrix,_r.spotShadowMap.value=Tn.state.spotShadowMap,_r.spotLightMatrix.value=Tn.state.spotLightMatrix,_r.spotLightMap.value=Tn.state.spotLightMap,_r.pointShadowMap.value=Tn.state.pointShadowMap,_r.pointShadowMatrix.value=Tn.state.pointShadowMatrix),Ln.currentProgram=wr,Ln.uniformsList=null,wr}function $a(fn){if(fn.uniformsList===null){const bn=fn.currentProgram.getUniforms();fn.uniformsList=WebGLUniforms.seqWithValue(bn.seq,fn.uniforms)}return fn.uniformsList}function yl(fn,bn){const In=qn.get(fn);In.outputColorSpace=bn.outputColorSpace,In.batching=bn.batching,In.batchingColor=bn.batchingColor,In.instancing=bn.instancing,In.instancingColor=bn.instancingColor,In.instancingMorph=bn.instancingMorph,In.skinning=bn.skinning,In.morphTargets=bn.morphTargets,In.morphNormals=bn.morphNormals,In.morphColors=bn.morphColors,In.morphTargetsCount=bn.morphTargetsCount,In.numClippingPlanes=bn.numClippingPlanes,In.numIntersection=bn.numClipIntersection,In.vertexAlphas=bn.vertexAlphas,In.vertexTangents=bn.vertexTangents,In.toneMapping=bn.toneMapping}function mu(fn,bn,In,Ln,Tn){bn.isScene!==!0&&(bn=mr),er.resetTextureUnits();const Qn=bn.fog,sr=Ln.isMeshStandardMaterial?bn.environment:null,gr=Kt===null?Vt.outputColorSpace:Kt.isXRRenderTarget===!0?Kt.texture.colorSpace:LinearSRGBColorSpace,pr=(Ln.isMeshStandardMaterial?cn:mn).get(Ln.envMap||sr),Sr=Ln.vertexColors===!0&&!!In.attributes.color&&In.attributes.color.itemSize===4,wr=!!In.attributes.tangent&&(!!Ln.normalMap||Ln.anisotropy>0),_r=!!In.morphAttributes.position,Br=!!In.morphAttributes.normal,Hr=!!In.morphAttributes.color;let zr=NoToneMapping;Ln.toneMapped&&(Kt===null||Kt.isXRRenderTarget===!0)&&(zr=Vt.toneMapping);const Kr=In.morphAttributes.position||In.morphAttributes.normal||In.morphAttributes.color,xr=Kr!==void 0?Kr.length:0,Jn=qn.get(Ln),jr=Gt.state.lights;if(xn===!0&&(Pn===!0||fn!==tn)){const cs=fn===tn&&Ln.id===en;br.setState(Ln,fn,cs)}let Cr=!1;Ln.version===Jn.__version?(Jn.needsLights&&Jn.lightsStateVersion!==jr.state.version||Jn.outputColorSpace!==gr||Tn.isBatchedMesh&&Jn.batching===!1||!Tn.isBatchedMesh&&Jn.batching===!0||Tn.isBatchedMesh&&Jn.batchingColor===!0&&Tn.colorTexture===null||Tn.isBatchedMesh&&Jn.batchingColor===!1&&Tn.colorTexture!==null||Tn.isInstancedMesh&&Jn.instancing===!1||!Tn.isInstancedMesh&&Jn.instancing===!0||Tn.isSkinnedMesh&&Jn.skinning===!1||!Tn.isSkinnedMesh&&Jn.skinning===!0||Tn.isInstancedMesh&&Jn.instancingColor===!0&&Tn.instanceColor===null||Tn.isInstancedMesh&&Jn.instancingColor===!1&&Tn.instanceColor!==null||Tn.isInstancedMesh&&Jn.instancingMorph===!0&&Tn.morphTexture===null||Tn.isInstancedMesh&&Jn.instancingMorph===!1&&Tn.morphTexture!==null||Jn.envMap!==pr||Ln.fog===!0&&Jn.fog!==Qn||Jn.numClippingPlanes!==void 0&&(Jn.numClippingPlanes!==br.numPlanes||Jn.numIntersection!==br.numIntersection)||Jn.vertexAlphas!==Sr||Jn.vertexTangents!==wr||Jn.morphTargets!==_r||Jn.morphNormals!==Br||Jn.morphColors!==Hr||Jn.toneMapping!==zr||Jn.morphTargetsCount!==xr)&&(Cr=!0):(Cr=!0,Jn.__version=Ln.version);let Wr=Jn.currentProgram;Cr===!0&&(Wr=Eo(Ln,bn,Tn));let vs=!1,Jr=!1,ss=!1;const Xr=Wr.getUniforms(),Ds=Jn.uniforms;if($n.useProgram(Wr.program)&&(vs=!0,Jr=!0,ss=!0),Ln.id!==en&&(en=Ln.id,Jr=!0),vs||tn!==fn){Xr.setValue(hn,"projectionMatrix",fn.projectionMatrix),Xr.setValue(hn,"viewMatrix",fn.matrixWorldInverse);const cs=Xr.map.cameraPosition;cs!==void 0&&cs.setValue(hn,Hn.setFromMatrixPosition(fn.matrixWorld)),Zn.logarithmicDepthBuffer&&Xr.setValue(hn,"logDepthBufFC",2/(Math.log(fn.far+1)/Math.LN2)),(Ln.isMeshPhongMaterial||Ln.isMeshToonMaterial||Ln.isMeshLambertMaterial||Ln.isMeshBasicMaterial||Ln.isMeshStandardMaterial||Ln.isShaderMaterial)&&Xr.setValue(hn,"isOrthographic",fn.isOrthographicCamera===!0),tn!==fn&&(tn=fn,Jr=!0,ss=!0)}if(Tn.isSkinnedMesh){Xr.setOptional(hn,Tn,"bindMatrix"),Xr.setOptional(hn,Tn,"bindMatrixInverse");const cs=Tn.skeleton;cs&&(cs.boneTexture===null&&cs.computeBoneTexture(),Xr.setValue(hn,"boneTexture",cs.boneTexture,er))}Tn.isBatchedMesh&&(Xr.setOptional(hn,Tn,"batchingTexture"),Xr.setValue(hn,"batchingTexture",Tn._matricesTexture,er),Xr.setOptional(hn,Tn,"batchingIdTexture"),Xr.setValue(hn,"batchingIdTexture",Tn._indirectTexture,er),Xr.setOptional(hn,Tn,"batchingColorTexture"),Tn._colorsTexture!==null&&Xr.setValue(hn,"batchingColorTexture",Tn._colorsTexture,er));const bo=In.morphAttributes;if((bo.position!==void 0||bo.normal!==void 0||bo.color!==void 0)&&kr.update(Tn,In,Wr),(Jr||Jn.receiveShadow!==Tn.receiveShadow)&&(Jn.receiveShadow=Tn.receiveShadow,Xr.setValue(hn,"receiveShadow",Tn.receiveShadow)),Ln.isMeshGouraudMaterial&&Ln.envMap!==null&&(Ds.envMap.value=pr,Ds.flipEnvMap.value=pr.isCubeTexture&&pr.isRenderTargetTexture===!1?-1:1),Ln.isMeshStandardMaterial&&Ln.envMap===null&&bn.environment!==null&&(Ds.envMapIntensity.value=bn.environmentIntensity),Jr&&(Xr.setValue(hn,"toneMappingExposure",Vt.toneMappingExposure),Jn.needsLights&&gu(Ds,ss),Qn&&Ln.fog===!0&&ar.refreshFogUniforms(Ds,Qn),ar.refreshMaterialUniforms(Ds,Ln,an,rn,Gt.state.transmissionRenderTarget[fn.id]),WebGLUniforms.upload(hn,$a(Jn),Ds,er)),Ln.isShaderMaterial&&Ln.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(hn,$a(Jn),Ds,er),Ln.uniformsNeedUpdate=!1),Ln.isSpriteMaterial&&Xr.setValue(hn,"center",Tn.center),Xr.setValue(hn,"modelViewMatrix",Tn.modelViewMatrix),Xr.setValue(hn,"normalMatrix",Tn.normalMatrix),Xr.setValue(hn,"modelMatrix",Tn.matrixWorld),Ln.isShaderMaterial||Ln.isRawShaderMaterial){const cs=Ln.uniformsGroups;for(let Mo=0,Ss=cs.length;Mo<Ss;Mo++){const xl=cs[Mo];jn.update(xl,Wr),jn.bind(xl,Wr)}}return Wr}function gu(fn,bn){fn.ambientLightColor.needsUpdate=bn,fn.lightProbe.needsUpdate=bn,fn.directionalLights.needsUpdate=bn,fn.directionalLightShadows.needsUpdate=bn,fn.pointLights.needsUpdate=bn,fn.pointLightShadows.needsUpdate=bn,fn.spotLights.needsUpdate=bn,fn.spotLightShadows.needsUpdate=bn,fn.rectAreaLights.needsUpdate=bn,fn.hemisphereLights.needsUpdate=bn}function vu(fn){return fn.isMeshLambertMaterial||fn.isMeshToonMaterial||fn.isMeshPhongMaterial||fn.isMeshStandardMaterial||fn.isShadowMaterial||fn.isShaderMaterial&&fn.lights===!0}this.getActiveCubeFace=function(){return Xt},this.getActiveMipmapLevel=function(){return qt},this.getRenderTarget=function(){return Kt},this.setRenderTargetTextures=function(fn,bn,In){qn.get(fn.texture).__webglTexture=bn,qn.get(fn.depthTexture).__webglTexture=In;const Ln=qn.get(fn);Ln.__hasExternalTextures=!0,Ln.__autoAllocateDepthBuffer=In===void 0,Ln.__autoAllocateDepthBuffer||An.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ln.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(fn,bn){const In=qn.get(fn);In.__webglFramebuffer=bn,In.__useDefaultFramebuffer=bn===void 0},this.setRenderTarget=function(fn,bn=0,In=0){Kt=fn,Xt=bn,qt=In;let Ln=!0,Tn=null,Qn=!1,sr=!1;if(fn){const pr=qn.get(fn);pr.__useDefaultFramebuffer!==void 0?($n.bindFramebuffer(hn.FRAMEBUFFER,null),Ln=!1):pr.__webglFramebuffer===void 0?er.setupRenderTarget(fn):pr.__hasExternalTextures&&er.rebindTextures(fn,qn.get(fn.texture).__webglTexture,qn.get(fn.depthTexture).__webglTexture);const Sr=fn.texture;(Sr.isData3DTexture||Sr.isDataArrayTexture||Sr.isCompressedArrayTexture)&&(sr=!0);const wr=qn.get(fn).__webglFramebuffer;fn.isWebGLCubeRenderTarget?(Array.isArray(wr[bn])?Tn=wr[bn][In]:Tn=wr[bn],Qn=!0):fn.samples>0&&er.useMultisampledRTT(fn)===!1?Tn=qn.get(fn).__webglMultisampledFramebuffer:Array.isArray(wr)?Tn=wr[In]:Tn=wr,Qt.copy(fn.viewport),sn.copy(fn.scissor),un=fn.scissorTest}else Qt.copy(on).multiplyScalar(an).floor(),sn.copy(ln).multiplyScalar(an).floor(),un=_n;if($n.bindFramebuffer(hn.FRAMEBUFFER,Tn)&&Ln&&$n.drawBuffers(fn,Tn),$n.viewport(Qt),$n.scissor(sn),$n.setScissorTest(un),Qn){const pr=qn.get(fn.texture);hn.framebufferTexture2D(hn.FRAMEBUFFER,hn.COLOR_ATTACHMENT0,hn.TEXTURE_CUBE_MAP_POSITIVE_X+bn,pr.__webglTexture,In)}else if(sr){const pr=qn.get(fn.texture),Sr=bn||0;hn.framebufferTextureLayer(hn.FRAMEBUFFER,hn.COLOR_ATTACHMENT0,pr.__webglTexture,In||0,Sr)}en=-1},this.readRenderTargetPixels=function(fn,bn,In,Ln,Tn,Qn,sr){if(!(fn&&fn.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gr=qn.get(fn).__webglFramebuffer;if(fn.isWebGLCubeRenderTarget&&sr!==void 0&&(gr=gr[sr]),gr){$n.bindFramebuffer(hn.FRAMEBUFFER,gr);try{const pr=fn.texture,Sr=pr.format,wr=pr.type;if(!Zn.textureFormatReadable(Sr)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Zn.textureTypeReadable(wr)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}bn>=0&&bn<=fn.width-Ln&&In>=0&&In<=fn.height-Tn&&hn.readPixels(bn,In,Ln,Tn,Ar.convert(Sr),Ar.convert(wr),Qn)}finally{const pr=Kt!==null?qn.get(Kt).__webglFramebuffer:null;$n.bindFramebuffer(hn.FRAMEBUFFER,pr)}}},this.readRenderTargetPixelsAsync=async function(fn,bn,In,Ln,Tn,Qn,sr){if(!(fn&&fn.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let gr=qn.get(fn).__webglFramebuffer;if(fn.isWebGLCubeRenderTarget&&sr!==void 0&&(gr=gr[sr]),gr){$n.bindFramebuffer(hn.FRAMEBUFFER,gr);try{const pr=fn.texture,Sr=pr.format,wr=pr.type;if(!Zn.textureFormatReadable(Sr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Zn.textureTypeReadable(wr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(bn>=0&&bn<=fn.width-Ln&&In>=0&&In<=fn.height-Tn){const _r=hn.createBuffer();hn.bindBuffer(hn.PIXEL_PACK_BUFFER,_r),hn.bufferData(hn.PIXEL_PACK_BUFFER,Qn.byteLength,hn.STREAM_READ),hn.readPixels(bn,In,Ln,Tn,Ar.convert(Sr),Ar.convert(wr),0),hn.flush();const Br=hn.fenceSync(hn.SYNC_GPU_COMMANDS_COMPLETE,0);await probeAsync(hn,Br,4);try{hn.bindBuffer(hn.PIXEL_PACK_BUFFER,_r),hn.getBufferSubData(hn.PIXEL_PACK_BUFFER,0,Qn)}finally{hn.deleteBuffer(_r),hn.deleteSync(Br)}return Qn}}finally{const pr=Kt!==null?qn.get(Kt).__webglFramebuffer:null;$n.bindFramebuffer(hn.FRAMEBUFFER,pr)}}},this.copyFramebufferToTexture=function(fn,bn=null,In=0){fn.isTexture!==!0&&(warnOnce("WebGLRenderer: copyFramebufferToTexture function signature has changed."),bn=arguments[0]||null,fn=arguments[1]);const Ln=Math.pow(2,-In),Tn=Math.floor(fn.image.width*Ln),Qn=Math.floor(fn.image.height*Ln),sr=bn!==null?bn.x:0,gr=bn!==null?bn.y:0;er.setTexture2D(fn,0),hn.copyTexSubImage2D(hn.TEXTURE_2D,In,0,0,sr,gr,Tn,Qn),$n.unbindTexture()},this.copyTextureToTexture=function(fn,bn,In=null,Ln=null,Tn=0){fn.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed."),Ln=arguments[0]||null,fn=arguments[1],bn=arguments[2],Tn=arguments[3]||0,In=null);let Qn,sr,gr,pr,Sr,wr;In!==null?(Qn=In.max.x-In.min.x,sr=In.max.y-In.min.y,gr=In.min.x,pr=In.min.y):(Qn=fn.image.width,sr=fn.image.height,gr=0,pr=0),Ln!==null?(Sr=Ln.x,wr=Ln.y):(Sr=0,wr=0);const _r=Ar.convert(bn.format),Br=Ar.convert(bn.type);er.setTexture2D(bn,0),hn.pixelStorei(hn.UNPACK_FLIP_Y_WEBGL,bn.flipY),hn.pixelStorei(hn.UNPACK_PREMULTIPLY_ALPHA_WEBGL,bn.premultiplyAlpha),hn.pixelStorei(hn.UNPACK_ALIGNMENT,bn.unpackAlignment);const Hr=hn.getParameter(hn.UNPACK_ROW_LENGTH),zr=hn.getParameter(hn.UNPACK_IMAGE_HEIGHT),Kr=hn.getParameter(hn.UNPACK_SKIP_PIXELS),xr=hn.getParameter(hn.UNPACK_SKIP_ROWS),Jn=hn.getParameter(hn.UNPACK_SKIP_IMAGES),jr=fn.isCompressedTexture?fn.mipmaps[Tn]:fn.image;hn.pixelStorei(hn.UNPACK_ROW_LENGTH,jr.width),hn.pixelStorei(hn.UNPACK_IMAGE_HEIGHT,jr.height),hn.pixelStorei(hn.UNPACK_SKIP_PIXELS,gr),hn.pixelStorei(hn.UNPACK_SKIP_ROWS,pr),fn.isDataTexture?hn.texSubImage2D(hn.TEXTURE_2D,Tn,Sr,wr,Qn,sr,_r,Br,jr.data):fn.isCompressedTexture?hn.compressedTexSubImage2D(hn.TEXTURE_2D,Tn,Sr,wr,jr.width,jr.height,_r,jr.data):hn.texSubImage2D(hn.TEXTURE_2D,Tn,Sr,wr,Qn,sr,_r,Br,jr),hn.pixelStorei(hn.UNPACK_ROW_LENGTH,Hr),hn.pixelStorei(hn.UNPACK_IMAGE_HEIGHT,zr),hn.pixelStorei(hn.UNPACK_SKIP_PIXELS,Kr),hn.pixelStorei(hn.UNPACK_SKIP_ROWS,xr),hn.pixelStorei(hn.UNPACK_SKIP_IMAGES,Jn),Tn===0&&bn.generateMipmaps&&hn.generateMipmap(hn.TEXTURE_2D),$n.unbindTexture()},this.copyTextureToTexture3D=function(fn,bn,In=null,Ln=null,Tn=0){fn.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture3D function signature has changed."),In=arguments[0]||null,Ln=arguments[1]||null,fn=arguments[2],bn=arguments[3],Tn=arguments[4]||0);let Qn,sr,gr,pr,Sr,wr,_r,Br,Hr;const zr=fn.isCompressedTexture?fn.mipmaps[Tn]:fn.image;In!==null?(Qn=In.max.x-In.min.x,sr=In.max.y-In.min.y,gr=In.max.z-In.min.z,pr=In.min.x,Sr=In.min.y,wr=In.min.z):(Qn=zr.width,sr=zr.height,gr=zr.depth,pr=0,Sr=0,wr=0),Ln!==null?(_r=Ln.x,Br=Ln.y,Hr=Ln.z):(_r=0,Br=0,Hr=0);const Kr=Ar.convert(bn.format),xr=Ar.convert(bn.type);let Jn;if(bn.isData3DTexture)er.setTexture3D(bn,0),Jn=hn.TEXTURE_3D;else if(bn.isDataArrayTexture||bn.isCompressedArrayTexture)er.setTexture2DArray(bn,0),Jn=hn.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}hn.pixelStorei(hn.UNPACK_FLIP_Y_WEBGL,bn.flipY),hn.pixelStorei(hn.UNPACK_PREMULTIPLY_ALPHA_WEBGL,bn.premultiplyAlpha),hn.pixelStorei(hn.UNPACK_ALIGNMENT,bn.unpackAlignment);const jr=hn.getParameter(hn.UNPACK_ROW_LENGTH),Cr=hn.getParameter(hn.UNPACK_IMAGE_HEIGHT),Wr=hn.getParameter(hn.UNPACK_SKIP_PIXELS),vs=hn.getParameter(hn.UNPACK_SKIP_ROWS),Jr=hn.getParameter(hn.UNPACK_SKIP_IMAGES);hn.pixelStorei(hn.UNPACK_ROW_LENGTH,zr.width),hn.pixelStorei(hn.UNPACK_IMAGE_HEIGHT,zr.height),hn.pixelStorei(hn.UNPACK_SKIP_PIXELS,pr),hn.pixelStorei(hn.UNPACK_SKIP_ROWS,Sr),hn.pixelStorei(hn.UNPACK_SKIP_IMAGES,wr),fn.isDataTexture||fn.isData3DTexture?hn.texSubImage3D(Jn,Tn,_r,Br,Hr,Qn,sr,gr,Kr,xr,zr.data):bn.isCompressedArrayTexture?hn.compressedTexSubImage3D(Jn,Tn,_r,Br,Hr,Qn,sr,gr,Kr,zr.data):hn.texSubImage3D(Jn,Tn,_r,Br,Hr,Qn,sr,gr,Kr,xr,zr),hn.pixelStorei(hn.UNPACK_ROW_LENGTH,jr),hn.pixelStorei(hn.UNPACK_IMAGE_HEIGHT,Cr),hn.pixelStorei(hn.UNPACK_SKIP_PIXELS,Wr),hn.pixelStorei(hn.UNPACK_SKIP_ROWS,vs),hn.pixelStorei(hn.UNPACK_SKIP_IMAGES,Jr),Tn===0&&bn.generateMipmaps&&hn.generateMipmap(Jn),$n.unbindTexture()},this.initRenderTarget=function(fn){qn.get(fn).__webglFramebuffer===void 0&&er.setupRenderTarget(fn)},this.initTexture=function(fn){fn.isCubeTexture?er.setTextureCube(fn,0):fn.isData3DTexture?er.setTexture3D(fn,0):fn.isDataArrayTexture||fn.isCompressedArrayTexture?er.setTexture2DArray(fn,0):er.setTexture2D(fn,0),$n.unbindTexture()},this.resetState=function(){Xt=0,qt=0,Kt=null,$n.reset(),Sn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(ht){this._outputColorSpace=ht;const xt=this.getContext();xt.drawingBufferColorSpace=ht===DisplayP3ColorSpace?"display-p3":"srgb",xt.unpackColorSpace=ColorManagement.workingColorSpace===LinearDisplayP3ColorSpace?"display-p3":"srgb"}}class FogExp2{constructor(ht,xt=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(ht),this.density=xt}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(ht,xt=1,_t=1e3){this.isFog=!0,this.name="",this.color=new Color(ht),this.near=xt,this.far=_t}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(ht,xt){return super.copy(ht,xt),ht.background!==null&&(this.background=ht.background.clone()),ht.environment!==null&&(this.environment=ht.environment.clone()),ht.fog!==null&&(this.fog=ht.fog.clone()),this.backgroundBlurriness=ht.backgroundBlurriness,this.backgroundIntensity=ht.backgroundIntensity,this.backgroundRotation.copy(ht.backgroundRotation),this.environmentIntensity=ht.environmentIntensity,this.environmentRotation.copy(ht.environmentRotation),ht.overrideMaterial!==null&&(this.overrideMaterial=ht.overrideMaterial.clone()),this.matrixAutoUpdate=ht.matrixAutoUpdate,this}toJSON(ht){const xt=super.toJSON(ht);return this.fog!==null&&(xt.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(xt.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(xt.object.backgroundIntensity=this.backgroundIntensity),xt.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(xt.object.environmentIntensity=this.environmentIntensity),xt.object.environmentRotation=this.environmentRotation.toArray(),xt}}class InterleavedBuffer{constructor(ht,xt){this.isInterleavedBuffer=!0,this.array=ht,this.stride=xt,this.count=ht!==void 0?ht.length/xt:0,this.usage=StaticDrawUsage,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(ht){ht===!0&&this.version++}get updateRange(){return warnOnce("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(ht){return this.usage=ht,this}addUpdateRange(ht,xt){this.updateRanges.push({start:ht,count:xt})}clearUpdateRanges(){this.updateRanges.length=0}copy(ht){return this.array=new ht.array.constructor(ht.array),this.count=ht.count,this.stride=ht.stride,this.usage=ht.usage,this}copyAt(ht,xt,_t){ht*=this.stride,_t*=xt.stride;for(let St=0,wt=this.stride;St<wt;St++)this.array[ht+St]=xt.array[_t+St];return this}set(ht,xt=0){return this.array.set(ht,xt),this}clone(ht){ht.arrayBuffers===void 0&&(ht.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),ht.arrayBuffers[this.array.buffer._uuid]===void 0&&(ht.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const xt=new this.array.constructor(ht.arrayBuffers[this.array.buffer._uuid]),_t=new this.constructor(xt,this.stride);return _t.setUsage(this.usage),_t}onUpload(ht){return this.onUploadCallback=ht,this}toJSON(ht){return ht.arrayBuffers===void 0&&(ht.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),ht.arrayBuffers[this.array.buffer._uuid]===void 0&&(ht.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(ht,xt,_t,St=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=ht,this.itemSize=xt,this.offset=_t,this.normalized=St}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(ht){this.data.needsUpdate=ht}applyMatrix4(ht){for(let xt=0,_t=this.data.count;xt<_t;xt++)_vector$6.fromBufferAttribute(this,xt),_vector$6.applyMatrix4(ht),this.setXYZ(xt,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(ht){for(let xt=0,_t=this.count;xt<_t;xt++)_vector$6.fromBufferAttribute(this,xt),_vector$6.applyNormalMatrix(ht),this.setXYZ(xt,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(ht){for(let xt=0,_t=this.count;xt<_t;xt++)_vector$6.fromBufferAttribute(this,xt),_vector$6.transformDirection(ht),this.setXYZ(xt,_vector$6.x,_vector$6.y,_vector$6.z);return this}getComponent(ht,xt){let _t=this.array[ht*this.data.stride+this.offset+xt];return this.normalized&&(_t=denormalize(_t,this.array)),_t}setComponent(ht,xt,_t){return this.normalized&&(_t=normalize(_t,this.array)),this.data.array[ht*this.data.stride+this.offset+xt]=_t,this}setX(ht,xt){return this.normalized&&(xt=normalize(xt,this.array)),this.data.array[ht*this.data.stride+this.offset]=xt,this}setY(ht,xt){return this.normalized&&(xt=normalize(xt,this.array)),this.data.array[ht*this.data.stride+this.offset+1]=xt,this}setZ(ht,xt){return this.normalized&&(xt=normalize(xt,this.array)),this.data.array[ht*this.data.stride+this.offset+2]=xt,this}setW(ht,xt){return this.normalized&&(xt=normalize(xt,this.array)),this.data.array[ht*this.data.stride+this.offset+3]=xt,this}getX(ht){let xt=this.data.array[ht*this.data.stride+this.offset];return this.normalized&&(xt=denormalize(xt,this.array)),xt}getY(ht){let xt=this.data.array[ht*this.data.stride+this.offset+1];return this.normalized&&(xt=denormalize(xt,this.array)),xt}getZ(ht){let xt=this.data.array[ht*this.data.stride+this.offset+2];return this.normalized&&(xt=denormalize(xt,this.array)),xt}getW(ht){let xt=this.data.array[ht*this.data.stride+this.offset+3];return this.normalized&&(xt=denormalize(xt,this.array)),xt}setXY(ht,xt,_t){return ht=ht*this.data.stride+this.offset,this.normalized&&(xt=normalize(xt,this.array),_t=normalize(_t,this.array)),this.data.array[ht+0]=xt,this.data.array[ht+1]=_t,this}setXYZ(ht,xt,_t,St){return ht=ht*this.data.stride+this.offset,this.normalized&&(xt=normalize(xt,this.array),_t=normalize(_t,this.array),St=normalize(St,this.array)),this.data.array[ht+0]=xt,this.data.array[ht+1]=_t,this.data.array[ht+2]=St,this}setXYZW(ht,xt,_t,St,wt){return ht=ht*this.data.stride+this.offset,this.normalized&&(xt=normalize(xt,this.array),_t=normalize(_t,this.array),St=normalize(St,this.array),wt=normalize(wt,this.array)),this.data.array[ht+0]=xt,this.data.array[ht+1]=_t,this.data.array[ht+2]=St,this.data.array[ht+3]=wt,this}clone(ht){if(ht===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const xt=[];for(let _t=0;_t<this.count;_t++){const St=_t*this.data.stride+this.offset;for(let wt=0;wt<this.itemSize;wt++)xt.push(this.data.array[St+wt])}return new BufferAttribute(new this.array.constructor(xt),this.itemSize,this.normalized)}else return ht.interleavedBuffers===void 0&&(ht.interleavedBuffers={}),ht.interleavedBuffers[this.data.uuid]===void 0&&(ht.interleavedBuffers[this.data.uuid]=this.data.clone(ht)),new InterleavedBufferAttribute(ht.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(ht){if(ht===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const xt=[];for(let _t=0;_t<this.count;_t++){const St=_t*this.data.stride+this.offset;for(let wt=0;wt<this.itemSize;wt++)xt.push(this.data.array[St+wt])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:xt,normalized:this.normalized}}else return ht.interleavedBuffers===void 0&&(ht.interleavedBuffers={}),ht.interleavedBuffers[this.data.uuid]===void 0&&(ht.interleavedBuffers[this.data.uuid]=this.data.toJSON(ht)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(ht){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(ht)}copy(ht){return super.copy(ht),this.color.copy(ht.color),this.map=ht.map,this.alphaMap=ht.alphaMap,this.rotation=ht.rotation,this.sizeAttenuation=ht.sizeAttenuation,this.fog=ht.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(ht=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const xt=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),_t=new InterleavedBuffer(xt,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(_t,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(_t,2,3,!1))}this.geometry=_geometry,this.material=ht,this.center=new Vector2(.5,.5)}raycast(ht,xt){ht.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(ht.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(ht.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),ht.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const _t=this.material.rotation;let St,wt;_t!==0&&(wt=Math.cos(_t),St=Math.sin(_t));const At=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,At,_worldScale,St,wt),transformVertex(_vB.set(.5,-.5,0),_mvPosition,At,_worldScale,St,wt),transformVertex(_vC.set(.5,.5,0),_mvPosition,At,_worldScale,St,wt),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let Ct=ht.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(Ct===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,At,_worldScale,St,wt),_uvB.set(0,1),Ct=ht.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),Ct===null))return;const Rt=ht.ray.origin.distanceTo(_intersectPoint);Rt<ht.near||Rt>ht.far||xt.push({distance:Rt,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(ht,xt){return super.copy(ht,xt),ht.center!==void 0&&this.center.copy(ht.center),this.material=ht.material,this}}function transformVertex(vt,ht,xt,_t,St,wt){_alignedPosition.subVectors(vt,xt).addScalar(.5).multiply(_t),St!==void 0?(_rotatedPosition.x=wt*_alignedPosition.x-St*_alignedPosition.y,_rotatedPosition.y=St*_alignedPosition.x+wt*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),vt.copy(ht),vt.x+=_rotatedPosition.x,vt.y+=_rotatedPosition.y,vt.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(ht){super.copy(ht,!1);const xt=ht.levels;for(let _t=0,St=xt.length;_t<St;_t++){const wt=xt[_t];this.addLevel(wt.object.clone(),wt.distance,wt.hysteresis)}return this.autoUpdate=ht.autoUpdate,this}addLevel(ht,xt=0,_t=0){xt=Math.abs(xt);const St=this.levels;let wt;for(wt=0;wt<St.length&&!(xt<St[wt].distance);wt++);return St.splice(wt,0,{distance:xt,hysteresis:_t,object:ht}),this.add(ht),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(ht){const xt=this.levels;if(xt.length>0){let _t,St;for(_t=1,St=xt.length;_t<St;_t++){let wt=xt[_t].distance;if(xt[_t].object.visible&&(wt-=wt*xt[_t].hysteresis),ht<wt)break}return xt[_t-1].object}return null}raycast(ht,xt){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const St=ht.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(St).raycast(ht,xt)}}update(ht){const xt=this.levels;if(xt.length>1){_v1$2.setFromMatrixPosition(ht.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const _t=_v1$2.distanceTo(_v2$1)/ht.zoom;xt[0].object.visible=!0;let St,wt;for(St=1,wt=xt.length;St<wt;St++){let At=xt[St].distance;if(xt[St].object.visible&&(At-=At*xt[St].hysteresis),_t>=At)xt[St-1].object.visible=!1,xt[St].object.visible=!0;else break}for(this._currentLevel=St-1;St<wt;St++)xt[St].object.visible=!1}}toJSON(ht){const xt=super.toJSON(ht);this.autoUpdate===!1&&(xt.object.autoUpdate=!1),xt.object.levels=[];const _t=this.levels;for(let St=0,wt=_t.length;St<wt;St++){const At=_t[St];xt.object.levels.push({object:At.object.uuid,distance:At.distance,hysteresis:At.hysteresis})}return xt}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$4=new Sphere$1,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(ht,xt){super(ht,xt),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const ht=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const xt=ht.getAttribute("position");for(let _t=0;_t<xt.count;_t++)this.getVertexPosition(_t,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const ht=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere$1),this.boundingSphere.makeEmpty();const xt=ht.getAttribute("position");for(let _t=0;_t<xt.count;_t++)this.getVertexPosition(_t,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(ht,xt){return super.copy(ht,xt),this.bindMode=ht.bindMode,this.bindMatrix.copy(ht.bindMatrix),this.bindMatrixInverse.copy(ht.bindMatrixInverse),this.skeleton=ht.skeleton,ht.boundingBox!==null&&(this.boundingBox=ht.boundingBox.clone()),ht.boundingSphere!==null&&(this.boundingSphere=ht.boundingSphere.clone()),this}raycast(ht,xt){const _t=this.material,St=this.matrixWorld;_t!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(St),ht.ray.intersectsSphere(_sphere$4)!==!1&&(_inverseMatrix$2.copy(St).invert(),_ray$2.copy(ht.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(ht,xt,_ray$2)))}getVertexPosition(ht,xt){return super.getVertexPosition(ht,xt),this.applyBoneTransform(ht,xt),xt}bind(ht,xt){this.skeleton=ht,xt===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),xt=this.matrixWorld),this.bindMatrix.copy(xt),this.bindMatrixInverse.copy(xt).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const ht=new Vector4,xt=this.geometry.attributes.skinWeight;for(let _t=0,St=xt.count;_t<St;_t++){ht.fromBufferAttribute(xt,_t);const wt=1/ht.manhattanLength();wt!==1/0?ht.multiplyScalar(wt):ht.set(1,0,0,0),xt.setXYZW(_t,ht.x,ht.y,ht.z,ht.w)}}updateMatrixWorld(ht){super.updateMatrixWorld(ht),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(ht,xt){const _t=this.skeleton,St=this.geometry;_skinIndex.fromBufferAttribute(St.attributes.skinIndex,ht),_skinWeight.fromBufferAttribute(St.attributes.skinWeight,ht),_basePosition.copy(xt).applyMatrix4(this.bindMatrix),xt.set(0,0,0);for(let wt=0;wt<4;wt++){const At=_skinWeight.getComponent(wt);if(At!==0){const Ct=_skinIndex.getComponent(wt);_matrix4.multiplyMatrices(_t.bones[Ct].matrixWorld,_t.boneInverses[Ct]),xt.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),At)}}return xt.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(ht=null,xt=1,_t=1,St,wt,At,Ct,Rt,It=NearestFilter,Lt=NearestFilter,kt,Dt){super(null,At,Ct,Rt,It,Lt,St,wt,kt,Dt),this.isDataTexture=!0,this.image={data:ht,width:xt,height:_t},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(ht=[],xt=[]){this.uuid=generateUUID(),this.bones=ht.slice(0),this.boneInverses=xt,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const ht=this.bones,xt=this.boneInverses;if(this.boneMatrices=new Float32Array(ht.length*16),xt.length===0)this.calculateInverses();else if(ht.length!==xt.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let _t=0,St=this.bones.length;_t<St;_t++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let ht=0,xt=this.bones.length;ht<xt;ht++){const _t=new Matrix4;this.bones[ht]&&_t.copy(this.bones[ht].matrixWorld).invert(),this.boneInverses.push(_t)}}pose(){for(let ht=0,xt=this.bones.length;ht<xt;ht++){const _t=this.bones[ht];_t&&_t.matrixWorld.copy(this.boneInverses[ht]).invert()}for(let ht=0,xt=this.bones.length;ht<xt;ht++){const _t=this.bones[ht];_t&&(_t.parent&&_t.parent.isBone?(_t.matrix.copy(_t.parent.matrixWorld).invert(),_t.matrix.multiply(_t.matrixWorld)):_t.matrix.copy(_t.matrixWorld),_t.matrix.decompose(_t.position,_t.quaternion,_t.scale))}}update(){const ht=this.bones,xt=this.boneInverses,_t=this.boneMatrices,St=this.boneTexture;for(let wt=0,At=ht.length;wt<At;wt++){const Ct=ht[wt]?ht[wt].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(Ct,xt[wt]),_offsetMatrix.toArray(_t,wt*16)}St!==null&&(St.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let ht=Math.sqrt(this.bones.length*4);ht=Math.ceil(ht/4)*4,ht=Math.max(ht,4);const xt=new Float32Array(ht*ht*4);xt.set(this.boneMatrices);const _t=new DataTexture(xt,ht,ht,RGBAFormat,FloatType);return _t.needsUpdate=!0,this.boneMatrices=xt,this.boneTexture=_t,this}getBoneByName(ht){for(let xt=0,_t=this.bones.length;xt<_t;xt++){const St=this.bones[xt];if(St.name===ht)return St}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(ht,xt){this.uuid=ht.uuid;for(let _t=0,St=ht.bones.length;_t<St;_t++){const wt=ht.bones[_t];let At=xt[wt];At===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",wt),At=new Bone),this.bones.push(At),this.boneInverses.push(new Matrix4().fromArray(ht.boneInverses[_t]))}return this.init(),this}toJSON(){const ht={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};ht.uuid=this.uuid;const xt=this.bones,_t=this.boneInverses;for(let St=0,wt=xt.length;St<wt;St++){const At=xt[St];ht.bones.push(At.uuid);const Ct=_t[St];ht.boneInverses.push(Ct.toArray())}return ht}}class InstancedBufferAttribute extends BufferAttribute{constructor(ht,xt,_t,St=1){super(ht,xt,_t),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=St}copy(ht){return super.copy(ht),this.meshPerAttribute=ht.meshPerAttribute,this}toJSON(){const ht=super.toJSON();return ht.meshPerAttribute=this.meshPerAttribute,ht.isInstancedBufferAttribute=!0,ht}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$3=new Sphere$1;class InstancedMesh extends Mesh{constructor(ht,xt,_t){super(ht,xt),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(_t*16),16),this.instanceColor=null,this.morphTexture=null,this.count=_t,this.boundingBox=null,this.boundingSphere=null;for(let St=0;St<_t;St++)this.setMatrixAt(St,_identity)}computeBoundingBox(){const ht=this.geometry,xt=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),ht.boundingBox===null&&ht.computeBoundingBox(),this.boundingBox.makeEmpty();for(let _t=0;_t<xt;_t++)this.getMatrixAt(_t,_instanceLocalMatrix),_box3.copy(ht.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const ht=this.geometry,xt=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere$1),ht.boundingSphere===null&&ht.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let _t=0;_t<xt;_t++)this.getMatrixAt(_t,_instanceLocalMatrix),_sphere$3.copy(ht.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$3)}copy(ht,xt){return super.copy(ht,xt),this.instanceMatrix.copy(ht.instanceMatrix),ht.morphTexture!==null&&(this.morphTexture=ht.morphTexture.clone()),ht.instanceColor!==null&&(this.instanceColor=ht.instanceColor.clone()),this.count=ht.count,ht.boundingBox!==null&&(this.boundingBox=ht.boundingBox.clone()),ht.boundingSphere!==null&&(this.boundingSphere=ht.boundingSphere.clone()),this}getColorAt(ht,xt){xt.fromArray(this.instanceColor.array,ht*3)}getMatrixAt(ht,xt){xt.fromArray(this.instanceMatrix.array,ht*16)}getMorphAt(ht,xt){const _t=xt.morphTargetInfluences,St=this.morphTexture.source.data.data,wt=_t.length+1,At=ht*wt+1;for(let Ct=0;Ct<_t.length;Ct++)_t[Ct]=St[At+Ct]}raycast(ht,xt){const _t=this.matrixWorld,St=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$3.copy(this.boundingSphere),_sphere$3.applyMatrix4(_t),ht.ray.intersectsSphere(_sphere$3)!==!1))for(let wt=0;wt<St;wt++){this.getMatrixAt(wt,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(_t,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(ht,_instanceIntersects);for(let At=0,Ct=_instanceIntersects.length;At<Ct;At++){const Rt=_instanceIntersects[At];Rt.instanceId=wt,Rt.object=this,xt.push(Rt)}_instanceIntersects.length=0}}setColorAt(ht,xt){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),xt.toArray(this.instanceColor.array,ht*3)}setMatrixAt(ht,xt){xt.toArray(this.instanceMatrix.array,ht*16)}setMorphAt(ht,xt){const _t=xt.morphTargetInfluences,St=_t.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(St*this.count),St,this.count,RedFormat,FloatType));const wt=this.morphTexture.source.data.data;let At=0;for(let It=0;It<_t.length;It++)At+=_t[It];const Ct=this.geometry.morphTargetsRelative?1:1-At,Rt=St*ht;wt[Rt]=Ct,wt.set(_t,Rt+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function sortOpaque(vt,ht){return vt.z-ht.z}function sortTransparent(vt,ht){return ht.z-vt.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(ht,xt,_t){const St=this.pool,wt=this.list;this.index>=St.length&&St.push({start:-1,count:-1,z:-1,index:-1});const At=St[this.index];wt.push(At),this.index++,At.start=ht.start,At.count=ht.count,At.z=xt,At.index=_t}reset(){this.list.length=0,this.index=0}}const _matrix$1=new Matrix4,_invMatrixWorld=new Matrix4,_identityMatrix=new Matrix4,_whiteColor=new Color(1,1,1),_projScreenMatrix$2=new Matrix4,_frustum=new Frustum,_box$1=new Box3,_sphere$2=new Sphere$1,_vector$5=new Vector3,_forward=new Vector3,_temp=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(vt,ht,xt=0){const _t=ht.itemSize;if(vt.isInterleavedBufferAttribute||vt.array.constructor!==ht.array.constructor){const St=vt.count;for(let wt=0;wt<St;wt++)for(let At=0;At<_t;At++)ht.setComponent(wt+xt,At,vt.getComponent(wt,At))}else ht.array.set(vt.array,xt*_t);ht.needsUpdate=!0}class BatchedMesh extends Mesh{get maxInstanceCount(){return this._maxInstanceCount}constructor(ht,xt,_t=xt*2,St){super(new BufferGeometry,St),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=ht,this._maxVertexCount=xt,this._maxIndexCount=_t,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(ht),this._multiDrawStarts=new Int32Array(ht),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let ht=Math.sqrt(this._maxInstanceCount*4);ht=Math.ceil(ht/4)*4,ht=Math.max(ht,4);const xt=new Float32Array(ht*ht*4),_t=new DataTexture(xt,ht,ht,RGBAFormat,FloatType);this._matricesTexture=_t}_initIndirectTexture(){let ht=Math.sqrt(this._maxInstanceCount);ht=Math.ceil(ht);const xt=new Uint32Array(ht*ht),_t=new DataTexture(xt,ht,ht,RedIntegerFormat,UnsignedIntType);this._indirectTexture=_t}_initColorsTexture(){let ht=Math.sqrt(this._maxIndexCount);ht=Math.ceil(ht);const xt=new Float32Array(ht*ht*4).fill(1),_t=new DataTexture(xt,ht,ht,RGBAFormat,FloatType);_t.colorSpace=ColorManagement.workingColorSpace,this._colorsTexture=_t}_initializeGeometry(ht){const xt=this.geometry,_t=this._maxVertexCount,St=this._maxIndexCount;if(this._geometryInitialized===!1){for(const wt in ht.attributes){const At=ht.getAttribute(wt),{array:Ct,itemSize:Rt,normalized:It}=At,Lt=new Ct.constructor(_t*Rt),kt=new BufferAttribute(Lt,Rt,It);xt.setAttribute(wt,kt)}if(ht.getIndex()!==null){const wt=_t>65535?new Uint32Array(St):new Uint16Array(St);xt.setIndex(new BufferAttribute(wt,1))}this._geometryInitialized=!0}}_validateGeometry(ht){const xt=this.geometry;if(!!ht.getIndex()!=!!xt.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const _t in xt.attributes){if(!ht.hasAttribute(_t))throw new Error(`BatchedMesh: Added geometry missing "${_t}". All geometries must have consistent attributes.`);const St=ht.getAttribute(_t),wt=xt.getAttribute(_t);if(St.itemSize!==wt.itemSize||St.normalized!==wt.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(ht){return this.customSort=ht,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const ht=this._geometryCount,xt=this.boundingBox,_t=this._drawInfo;xt.makeEmpty();for(let St=0;St<ht;St++){if(_t[St].active===!1)continue;const wt=_t[St].geometryIndex;this.getMatrixAt(St,_matrix$1),this.getBoundingBoxAt(wt,_box$1).applyMatrix4(_matrix$1),xt.union(_box$1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1);const ht=this.boundingSphere,xt=this._drawInfo;ht.makeEmpty();for(let _t=0,St=xt.length;_t<St;_t++){if(xt[_t].active===!1)continue;const wt=xt[_t].geometryIndex;this.getMatrixAt(_t,_matrix$1),this.getBoundingSphereAt(wt,_sphere$2).applyMatrix4(_matrix$1),ht.union(_sphere$2)}}addInstance(ht){if(this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,geometryIndex:ht});const xt=this._drawInfo.length-1,_t=this._matricesTexture,St=_t.image.data;_identityMatrix.toArray(St,xt*16),_t.needsUpdate=!0;const wt=this._colorsTexture;return wt&&(_whiteColor.toArray(wt.image.data,xt*4),wt.needsUpdate=!0),xt}addGeometry(ht,xt=-1,_t=-1){if(this._initializeGeometry(ht),this._validateGeometry(ht),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const St={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let wt=null;const At=this._reservedRanges,Ct=this._drawRanges,Rt=this._bounds;this._geometryCount!==0&&(wt=At[At.length-1]),xt===-1?St.vertexCount=ht.getAttribute("position").count:St.vertexCount=xt,wt===null?St.vertexStart=0:St.vertexStart=wt.vertexStart+wt.vertexCount;const It=ht.getIndex(),Lt=It!==null;if(Lt&&(_t===-1?St.indexCount=It.count:St.indexCount=_t,wt===null?St.indexStart=0:St.indexStart=wt.indexStart+wt.indexCount),St.indexStart!==-1&&St.indexStart+St.indexCount>this._maxIndexCount||St.vertexStart+St.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const kt=this._geometryCount;return this._geometryCount++,At.push(St),Ct.push({start:Lt?St.indexStart:St.vertexStart,count:-1}),Rt.push({boxInitialized:!1,box:new Box3,sphereInitialized:!1,sphere:new Sphere$1}),this.setGeometryAt(kt,ht),kt}setGeometryAt(ht,xt){if(ht>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(xt);const _t=this.geometry,St=_t.getIndex()!==null,wt=_t.getIndex(),At=xt.getIndex(),Ct=this._reservedRanges[ht];if(St&&At.count>Ct.indexCount||xt.attributes.position.count>Ct.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const Rt=Ct.vertexStart,It=Ct.vertexCount;for(const $t in _t.attributes){const Ot=xt.getAttribute($t),zt=_t.getAttribute($t);copyAttributeData(Ot,zt,Rt);const Gt=Ot.itemSize;for(let Bt=Ot.count,Ut=It;Bt<Ut;Bt++){const Vt=Rt+Bt;for(let Ht=0;Ht<Gt;Ht++)zt.setComponent(Vt,Ht,0)}zt.needsUpdate=!0,zt.addUpdateRange(Rt*Gt,It*Gt)}if(St){const $t=Ct.indexStart;for(let Ot=0;Ot<At.count;Ot++)wt.setX($t+Ot,Rt+At.getX(Ot));for(let Ot=At.count,zt=Ct.indexCount;Ot<zt;Ot++)wt.setX($t+Ot,Rt);wt.needsUpdate=!0,wt.addUpdateRange($t,Ct.indexCount)}const Lt=this._bounds[ht];xt.boundingBox!==null?(Lt.box.copy(xt.boundingBox),Lt.boxInitialized=!0):Lt.boxInitialized=!1,xt.boundingSphere!==null?(Lt.sphere.copy(xt.boundingSphere),Lt.sphereInitialized=!0):Lt.sphereInitialized=!1;const kt=this._drawRanges[ht],Dt=xt.getAttribute("position");return kt.count=St?At.count:Dt.count,this._visibilityChanged=!0,ht}getBoundingBoxAt(ht,xt){if(ht>=this._geometryCount)return null;const _t=this._bounds[ht],St=_t.box,wt=this.geometry;if(_t.boxInitialized===!1){St.makeEmpty();const At=wt.index,Ct=wt.attributes.position,Rt=this._drawRanges[ht];for(let It=Rt.start,Lt=Rt.start+Rt.count;It<Lt;It++){let kt=It;At&&(kt=At.getX(kt)),St.expandByPoint(_vector$5.fromBufferAttribute(Ct,kt))}_t.boxInitialized=!0}return xt.copy(St),xt}getBoundingSphereAt(ht,xt){if(ht>=this._geometryCount)return null;const _t=this._bounds[ht],St=_t.sphere,wt=this.geometry;if(_t.sphereInitialized===!1){St.makeEmpty(),this.getBoundingBoxAt(ht,_box$1),_box$1.getCenter(St.center);const At=wt.index,Ct=wt.attributes.position,Rt=this._drawRanges[ht];let It=0;for(let Lt=Rt.start,kt=Rt.start+Rt.count;Lt<kt;Lt++){let Dt=Lt;At&&(Dt=At.getX(Dt)),_vector$5.fromBufferAttribute(Ct,Dt),It=Math.max(It,St.center.distanceToSquared(_vector$5))}St.radius=Math.sqrt(It),_t.sphereInitialized=!0}return xt.copy(St),xt}setMatrixAt(ht,xt){const _t=this._drawInfo,St=this._matricesTexture,wt=this._matricesTexture.image.data;return ht>=_t.length||_t[ht].active===!1?this:(xt.toArray(wt,ht*16),St.needsUpdate=!0,this)}getMatrixAt(ht,xt){const _t=this._drawInfo,St=this._matricesTexture.image.data;return ht>=_t.length||_t[ht].active===!1?null:xt.fromArray(St,ht*16)}setColorAt(ht,xt){this._colorsTexture===null&&this._initColorsTexture();const _t=this._colorsTexture,St=this._colorsTexture.image.data,wt=this._drawInfo;return ht>=wt.length||wt[ht].active===!1?this:(xt.toArray(St,ht*4),_t.needsUpdate=!0,this)}getColorAt(ht,xt){const _t=this._colorsTexture.image.data,St=this._drawInfo;return ht>=St.length||St[ht].active===!1?null:xt.fromArray(_t,ht*4)}setVisibleAt(ht,xt){const _t=this._drawInfo;return ht>=_t.length||_t[ht].active===!1||_t[ht].visible===xt?this:(_t[ht].visible=xt,this._visibilityChanged=!0,this)}getVisibleAt(ht){const xt=this._drawInfo;return ht>=xt.length||xt[ht].active===!1?!1:xt[ht].visible}raycast(ht,xt){const _t=this._drawInfo,St=this._drawRanges,wt=this.matrixWorld,At=this.geometry;_mesh.material=this.material,_mesh.geometry.index=At.index,_mesh.geometry.attributes=At.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere$1);for(let Ct=0,Rt=_t.length;Ct<Rt;Ct++){if(!_t[Ct].visible||!_t[Ct].active)continue;const It=_t[Ct].geometryIndex,Lt=St[It];_mesh.geometry.setDrawRange(Lt.start,Lt.count),this.getMatrixAt(Ct,_mesh.matrixWorld).premultiply(wt),this.getBoundingBoxAt(It,_mesh.geometry.boundingBox),this.getBoundingSphereAt(It,_mesh.geometry.boundingSphere),_mesh.raycast(ht,_batchIntersects);for(let kt=0,Dt=_batchIntersects.length;kt<Dt;kt++){const $t=_batchIntersects[kt];$t.object=this,$t.batchId=Ct,xt.push($t)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(ht){return super.copy(ht),this.geometry=ht.geometry.clone(),this.perObjectFrustumCulled=ht.perObjectFrustumCulled,this.sortObjects=ht.sortObjects,this.boundingBox=ht.boundingBox!==null?ht.boundingBox.clone():null,this.boundingSphere=ht.boundingSphere!==null?ht.boundingSphere.clone():null,this._drawRanges=ht._drawRanges.map(xt=>({...xt})),this._reservedRanges=ht._reservedRanges.map(xt=>({...xt})),this._drawInfo=ht._drawInfo.map(xt=>({...xt})),this._bounds=ht._bounds.map(xt=>({boxInitialized:xt.boxInitialized,box:xt.box.clone(),sphereInitialized:xt.sphereInitialized,sphere:xt.sphere.clone()})),this._maxInstanceCount=ht._maxInstanceCount,this._maxVertexCount=ht._maxVertexCount,this._maxIndexCount=ht._maxIndexCount,this._geometryInitialized=ht._geometryInitialized,this._geometryCount=ht._geometryCount,this._multiDrawCounts=ht._multiDrawCounts.slice(),this._multiDrawStarts=ht._multiDrawStarts.slice(),this._matricesTexture=ht._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=ht._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(ht,xt,_t,St,wt){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const At=St.getIndex(),Ct=At===null?1:At.array.BYTES_PER_ELEMENT,Rt=this._drawInfo,It=this._multiDrawStarts,Lt=this._multiDrawCounts,kt=this._drawRanges,Dt=this.perObjectFrustumCulled,$t=this._indirectTexture,Ot=$t.image.data;Dt&&(_projScreenMatrix$2.multiplyMatrices(_t.projectionMatrix,_t.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_projScreenMatrix$2,ht.coordinateSystem));let zt=0;if(this.sortObjects){_invMatrixWorld.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(_t.matrixWorld).applyMatrix4(_invMatrixWorld),_forward.set(0,0,-1).transformDirection(_t.matrixWorld).transformDirection(_invMatrixWorld);for(let Ut=0,Vt=Rt.length;Ut<Vt;Ut++)if(Rt[Ut].visible&&Rt[Ut].active){const Ht=Rt[Ut].geometryIndex;this.getMatrixAt(Ut,_matrix$1),this.getBoundingSphereAt(Ht,_sphere$2).applyMatrix4(_matrix$1);let Xt=!1;if(Dt&&(Xt=!_frustum.intersectsSphere(_sphere$2)),!Xt){const qt=_temp.subVectors(_sphere$2.center,_vector$5).dot(_forward);_renderList.push(kt[Ht],qt,Ut)}}const Gt=_renderList.list,Bt=this.customSort;Bt===null?Gt.sort(wt.transparent?sortTransparent:sortOpaque):Bt.call(this,Gt,_t);for(let Ut=0,Vt=Gt.length;Ut<Vt;Ut++){const Ht=Gt[Ut];It[zt]=Ht.start*Ct,Lt[zt]=Ht.count,Ot[zt]=Ht.index,zt++}_renderList.reset()}else for(let Gt=0,Bt=Rt.length;Gt<Bt;Gt++)if(Rt[Gt].visible&&Rt[Gt].active){const Ut=Rt[Gt].geometryIndex;let Vt=!1;if(Dt&&(this.getMatrixAt(Gt,_matrix$1),this.getBoundingSphereAt(Ut,_sphere$2).applyMatrix4(_matrix$1),Vt=!_frustum.intersectsSphere(_sphere$2)),!Vt){const Ht=kt[Ut];It[zt]=Ht.start*Ct,Lt[zt]=Ht.count,Ot[zt]=Gt,zt++}}$t.needsUpdate=!0,this._multiDrawCount=zt,this._visibilityChanged=!1}onBeforeShadow(ht,xt,_t,St,wt,At){this.onBeforeRender(ht,null,St,wt,At)}}class LineBasicMaterial extends Material{constructor(ht){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(ht)}copy(ht){return super.copy(ht),this.color.copy(ht.color),this.map=ht.map,this.linewidth=ht.linewidth,this.linecap=ht.linecap,this.linejoin=ht.linejoin,this.fog=ht.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere$1,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;class Line extends Object3D{constructor(ht=new BufferGeometry,xt=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=ht,this.material=xt,this.updateMorphTargets()}copy(ht,xt){return super.copy(ht,xt),this.material=Array.isArray(ht.material)?ht.material.slice():ht.material,this.geometry=ht.geometry,this}computeLineDistances(){const ht=this.geometry;if(ht.index===null){const xt=ht.attributes.position,_t=[0];for(let St=1,wt=xt.count;St<wt;St++)_vStart.fromBufferAttribute(xt,St-1),_vEnd.fromBufferAttribute(xt,St),_t[St]=_t[St-1],_t[St]+=_vStart.distanceTo(_vEnd);ht.setAttribute("lineDistance",new Float32BufferAttribute(_t,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(ht,xt){const _t=this.geometry,St=this.matrixWorld,wt=ht.params.Line.threshold,At=_t.drawRange;if(_t.boundingSphere===null&&_t.computeBoundingSphere(),_sphere$1.copy(_t.boundingSphere),_sphere$1.applyMatrix4(St),_sphere$1.radius+=wt,ht.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(St).invert(),_ray$1.copy(ht.ray).applyMatrix4(_inverseMatrix$1);const Ct=wt/((this.scale.x+this.scale.y+this.scale.z)/3),Rt=Ct*Ct,It=this.isLineSegments?2:1,Lt=_t.index,Dt=_t.attributes.position;if(Lt!==null){const $t=Math.max(0,At.start),Ot=Math.min(Lt.count,At.start+At.count);for(let zt=$t,Gt=Ot-1;zt<Gt;zt+=It){const Bt=Lt.getX(zt),Ut=Lt.getX(zt+1),Vt=checkIntersection(this,ht,_ray$1,Rt,Bt,Ut);Vt&&xt.push(Vt)}if(this.isLineLoop){const zt=Lt.getX(Ot-1),Gt=Lt.getX($t),Bt=checkIntersection(this,ht,_ray$1,Rt,zt,Gt);Bt&&xt.push(Bt)}}else{const $t=Math.max(0,At.start),Ot=Math.min(Dt.count,At.start+At.count);for(let zt=$t,Gt=Ot-1;zt<Gt;zt+=It){const Bt=checkIntersection(this,ht,_ray$1,Rt,zt,zt+1);Bt&&xt.push(Bt)}if(this.isLineLoop){const zt=checkIntersection(this,ht,_ray$1,Rt,Ot-1,$t);zt&&xt.push(zt)}}}updateMorphTargets(){const xt=this.geometry.morphAttributes,_t=Object.keys(xt);if(_t.length>0){const St=xt[_t[0]];if(St!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let wt=0,At=St.length;wt<At;wt++){const Ct=St[wt].name||String(wt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Ct]=wt}}}}}function checkIntersection(vt,ht,xt,_t,St,wt){const At=vt.geometry.attributes.position;if(_vStart.fromBufferAttribute(At,St),_vEnd.fromBufferAttribute(At,wt),xt.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>_t)return;_intersectPointOnRay.applyMatrix4(vt.matrixWorld);const Rt=ht.ray.origin.distanceTo(_intersectPointOnRay);if(!(Rt<ht.near||Rt>ht.far))return{distance:Rt,point:_intersectPointOnSegment.clone().applyMatrix4(vt.matrixWorld),index:St,face:null,faceIndex:null,object:vt}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(ht,xt){super(ht,xt),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const ht=this.geometry;if(ht.index===null){const xt=ht.attributes.position,_t=[];for(let St=0,wt=xt.count;St<wt;St+=2)_start.fromBufferAttribute(xt,St),_end.fromBufferAttribute(xt,St+1),_t[St]=St===0?0:_t[St-1],_t[St+1]=_t[St]+_start.distanceTo(_end);ht.setAttribute("lineDistance",new Float32BufferAttribute(_t,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(ht,xt){super(ht,xt),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(ht){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(ht)}copy(ht){return super.copy(ht),this.color.copy(ht.color),this.map=ht.map,this.alphaMap=ht.alphaMap,this.size=ht.size,this.sizeAttenuation=ht.sizeAttenuation,this.fog=ht.fog,this}}const _inverseMatrix=new Matrix4,_ray$4=new Ray,_sphere=new Sphere$1,_position$2=new Vector3;class Points extends Object3D{constructor(ht=new BufferGeometry,xt=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=ht,this.material=xt,this.updateMorphTargets()}copy(ht,xt){return super.copy(ht,xt),this.material=Array.isArray(ht.material)?ht.material.slice():ht.material,this.geometry=ht.geometry,this}raycast(ht,xt){const _t=this.geometry,St=this.matrixWorld,wt=ht.params.Points.threshold,At=_t.drawRange;if(_t.boundingSphere===null&&_t.computeBoundingSphere(),_sphere.copy(_t.boundingSphere),_sphere.applyMatrix4(St),_sphere.radius+=wt,ht.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(St).invert(),_ray$4.copy(ht.ray).applyMatrix4(_inverseMatrix);const Ct=wt/((this.scale.x+this.scale.y+this.scale.z)/3),Rt=Ct*Ct,It=_t.index,kt=_t.attributes.position;if(It!==null){const Dt=Math.max(0,At.start),$t=Math.min(It.count,At.start+At.count);for(let Ot=Dt,zt=$t;Ot<zt;Ot++){const Gt=It.getX(Ot);_position$2.fromBufferAttribute(kt,Gt),testPoint(_position$2,Gt,Rt,St,ht,xt,this)}}else{const Dt=Math.max(0,At.start),$t=Math.min(kt.count,At.start+At.count);for(let Ot=Dt,zt=$t;Ot<zt;Ot++)_position$2.fromBufferAttribute(kt,Ot),testPoint(_position$2,Ot,Rt,St,ht,xt,this)}}updateMorphTargets(){const xt=this.geometry.morphAttributes,_t=Object.keys(xt);if(_t.length>0){const St=xt[_t[0]];if(St!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let wt=0,At=St.length;wt<At;wt++){const Ct=St[wt].name||String(wt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Ct]=wt}}}}}function testPoint(vt,ht,xt,_t,St,wt,At){const Ct=_ray$4.distanceSqToPoint(vt);if(Ct<xt){const Rt=new Vector3;_ray$4.closestPointToPoint(vt,Rt),Rt.applyMatrix4(_t);const It=St.ray.origin.distanceTo(Rt);if(It<St.near||It>St.far)return;wt.push({distance:It,distanceToRay:Math.sqrt(Ct),point:Rt,index:ht,face:null,object:At})}}class VideoTexture extends Texture{constructor(ht,xt,_t,St,wt,At,Ct,Rt,It){super(ht,xt,_t,St,wt,At,Ct,Rt,It),this.isVideoTexture=!0,this.minFilter=At!==void 0?At:LinearFilter,this.magFilter=wt!==void 0?wt:LinearFilter,this.generateMipmaps=!1;const Lt=this;function kt(){Lt.needsUpdate=!0,ht.requestVideoFrameCallback(kt)}"requestVideoFrameCallback"in ht&&ht.requestVideoFrameCallback(kt)}clone(){return new this.constructor(this.image).copy(this)}update(){const ht=this.image;"requestVideoFrameCallback"in ht===!1&&ht.readyState>=ht.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(ht,xt){super({width:ht,height:xt}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(ht,xt,_t,St,wt,At,Ct,Rt,It,Lt,kt,Dt){super(null,At,Ct,Rt,It,Lt,St,wt,kt,Dt),this.isCompressedTexture=!0,this.image={width:xt,height:_t},this.mipmaps=ht,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(ht,xt,_t,St,wt,At){super(ht,xt,_t,wt,At),this.isCompressedArrayTexture=!0,this.image.depth=St,this.wrapR=ClampToEdgeWrapping,this.layerUpdates=new Set}addLayerUpdate(ht){this.layerUpdates.add(ht)}clearLayerUpdates(){this.layerUpdates.clear()}}class CompressedCubeTexture extends CompressedTexture{constructor(ht,xt,_t){super(void 0,ht[0].width,ht[0].height,xt,_t,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=ht}}class CanvasTexture extends Texture{constructor(ht,xt,_t,St,wt,At,Ct,Rt,It){super(ht,xt,_t,St,wt,At,Ct,Rt,It),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(ht,xt){const _t=this.getUtoTmapping(ht);return this.getPoint(_t,xt)}getPoints(ht=5){const xt=[];for(let _t=0;_t<=ht;_t++)xt.push(this.getPoint(_t/ht));return xt}getSpacedPoints(ht=5){const xt=[];for(let _t=0;_t<=ht;_t++)xt.push(this.getPointAt(_t/ht));return xt}getLength(){const ht=this.getLengths();return ht[ht.length-1]}getLengths(ht=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===ht+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const xt=[];let _t,St=this.getPoint(0),wt=0;xt.push(0);for(let At=1;At<=ht;At++)_t=this.getPoint(At/ht),wt+=_t.distanceTo(St),xt.push(wt),St=_t;return this.cacheArcLengths=xt,xt}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(ht,xt){const _t=this.getLengths();let St=0;const wt=_t.length;let At;xt?At=xt:At=ht*_t[wt-1];let Ct=0,Rt=wt-1,It;for(;Ct<=Rt;)if(St=Math.floor(Ct+(Rt-Ct)/2),It=_t[St]-At,It<0)Ct=St+1;else if(It>0)Rt=St-1;else{Rt=St;break}if(St=Rt,_t[St]===At)return St/(wt-1);const Lt=_t[St],Dt=_t[St+1]-Lt,$t=(At-Lt)/Dt;return(St+$t)/(wt-1)}getTangent(ht,xt){let St=ht-1e-4,wt=ht+1e-4;St<0&&(St=0),wt>1&&(wt=1);const At=this.getPoint(St),Ct=this.getPoint(wt),Rt=xt||(At.isVector2?new Vector2:new Vector3);return Rt.copy(Ct).sub(At).normalize(),Rt}getTangentAt(ht,xt){const _t=this.getUtoTmapping(ht);return this.getTangent(_t,xt)}computeFrenetFrames(ht,xt){const _t=new Vector3,St=[],wt=[],At=[],Ct=new Vector3,Rt=new Matrix4;for(let $t=0;$t<=ht;$t++){const Ot=$t/ht;St[$t]=this.getTangentAt(Ot,new Vector3)}wt[0]=new Vector3,At[0]=new Vector3;let It=Number.MAX_VALUE;const Lt=Math.abs(St[0].x),kt=Math.abs(St[0].y),Dt=Math.abs(St[0].z);Lt<=It&&(It=Lt,_t.set(1,0,0)),kt<=It&&(It=kt,_t.set(0,1,0)),Dt<=It&&_t.set(0,0,1),Ct.crossVectors(St[0],_t).normalize(),wt[0].crossVectors(St[0],Ct),At[0].crossVectors(St[0],wt[0]);for(let $t=1;$t<=ht;$t++){if(wt[$t]=wt[$t-1].clone(),At[$t]=At[$t-1].clone(),Ct.crossVectors(St[$t-1],St[$t]),Ct.length()>Number.EPSILON){Ct.normalize();const Ot=Math.acos(clamp(St[$t-1].dot(St[$t]),-1,1));wt[$t].applyMatrix4(Rt.makeRotationAxis(Ct,Ot))}At[$t].crossVectors(St[$t],wt[$t])}if(xt===!0){let $t=Math.acos(clamp(wt[0].dot(wt[ht]),-1,1));$t/=ht,St[0].dot(Ct.crossVectors(wt[0],wt[ht]))>0&&($t=-$t);for(let Ot=1;Ot<=ht;Ot++)wt[Ot].applyMatrix4(Rt.makeRotationAxis(St[Ot],$t*Ot)),At[Ot].crossVectors(St[Ot],wt[Ot])}return{tangents:St,normals:wt,binormals:At}}clone(){return new this.constructor().copy(this)}copy(ht){return this.arcLengthDivisions=ht.arcLengthDivisions,this}toJSON(){const ht={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return ht.arcLengthDivisions=this.arcLengthDivisions,ht.type=this.type,ht}fromJSON(ht){return this.arcLengthDivisions=ht.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(ht=0,xt=0,_t=1,St=1,wt=0,At=Math.PI*2,Ct=!1,Rt=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=ht,this.aY=xt,this.xRadius=_t,this.yRadius=St,this.aStartAngle=wt,this.aEndAngle=At,this.aClockwise=Ct,this.aRotation=Rt}getPoint(ht,xt=new Vector2){const _t=xt,St=Math.PI*2;let wt=this.aEndAngle-this.aStartAngle;const At=Math.abs(wt)<Number.EPSILON;for(;wt<0;)wt+=St;for(;wt>St;)wt-=St;wt<Number.EPSILON&&(At?wt=0:wt=St),this.aClockwise===!0&&!At&&(wt===St?wt=-St:wt=wt-St);const Ct=this.aStartAngle+ht*wt;let Rt=this.aX+this.xRadius*Math.cos(Ct),It=this.aY+this.yRadius*Math.sin(Ct);if(this.aRotation!==0){const Lt=Math.cos(this.aRotation),kt=Math.sin(this.aRotation),Dt=Rt-this.aX,$t=It-this.aY;Rt=Dt*Lt-$t*kt+this.aX,It=Dt*kt+$t*Lt+this.aY}return _t.set(Rt,It)}copy(ht){return super.copy(ht),this.aX=ht.aX,this.aY=ht.aY,this.xRadius=ht.xRadius,this.yRadius=ht.yRadius,this.aStartAngle=ht.aStartAngle,this.aEndAngle=ht.aEndAngle,this.aClockwise=ht.aClockwise,this.aRotation=ht.aRotation,this}toJSON(){const ht=super.toJSON();return ht.aX=this.aX,ht.aY=this.aY,ht.xRadius=this.xRadius,ht.yRadius=this.yRadius,ht.aStartAngle=this.aStartAngle,ht.aEndAngle=this.aEndAngle,ht.aClockwise=this.aClockwise,ht.aRotation=this.aRotation,ht}fromJSON(ht){return super.fromJSON(ht),this.aX=ht.aX,this.aY=ht.aY,this.xRadius=ht.xRadius,this.yRadius=ht.yRadius,this.aStartAngle=ht.aStartAngle,this.aEndAngle=ht.aEndAngle,this.aClockwise=ht.aClockwise,this.aRotation=ht.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(ht,xt,_t,St,wt,At){super(ht,xt,_t,_t,St,wt,At),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let vt=0,ht=0,xt=0,_t=0;function St(wt,At,Ct,Rt){vt=wt,ht=Ct,xt=-3*wt+3*At-2*Ct-Rt,_t=2*wt-2*At+Ct+Rt}return{initCatmullRom:function(wt,At,Ct,Rt,It){St(At,Ct,It*(Ct-wt),It*(Rt-At))},initNonuniformCatmullRom:function(wt,At,Ct,Rt,It,Lt,kt){let Dt=(At-wt)/It-(Ct-wt)/(It+Lt)+(Ct-At)/Lt,$t=(Ct-At)/Lt-(Rt-At)/(Lt+kt)+(Rt-Ct)/kt;Dt*=Lt,$t*=Lt,St(At,Ct,Dt,$t)},calc:function(wt){const At=wt*wt,Ct=At*wt;return vt+ht*wt+xt*At+_t*Ct}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(ht=[],xt=!1,_t="centripetal",St=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=ht,this.closed=xt,this.curveType=_t,this.tension=St}getPoint(ht,xt=new Vector3){const _t=xt,St=this.points,wt=St.length,At=(wt-(this.closed?0:1))*ht;let Ct=Math.floor(At),Rt=At-Ct;this.closed?Ct+=Ct>0?0:(Math.floor(Math.abs(Ct)/wt)+1)*wt:Rt===0&&Ct===wt-1&&(Ct=wt-2,Rt=1);let It,Lt;this.closed||Ct>0?It=St[(Ct-1)%wt]:(tmp.subVectors(St[0],St[1]).add(St[0]),It=tmp);const kt=St[Ct%wt],Dt=St[(Ct+1)%wt];if(this.closed||Ct+2<wt?Lt=St[(Ct+2)%wt]:(tmp.subVectors(St[wt-1],St[wt-2]).add(St[wt-1]),Lt=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const $t=this.curveType==="chordal"?.5:.25;let Ot=Math.pow(It.distanceToSquared(kt),$t),zt=Math.pow(kt.distanceToSquared(Dt),$t),Gt=Math.pow(Dt.distanceToSquared(Lt),$t);zt<1e-4&&(zt=1),Ot<1e-4&&(Ot=zt),Gt<1e-4&&(Gt=zt),px.initNonuniformCatmullRom(It.x,kt.x,Dt.x,Lt.x,Ot,zt,Gt),py.initNonuniformCatmullRom(It.y,kt.y,Dt.y,Lt.y,Ot,zt,Gt),pz.initNonuniformCatmullRom(It.z,kt.z,Dt.z,Lt.z,Ot,zt,Gt)}else this.curveType==="catmullrom"&&(px.initCatmullRom(It.x,kt.x,Dt.x,Lt.x,this.tension),py.initCatmullRom(It.y,kt.y,Dt.y,Lt.y,this.tension),pz.initCatmullRom(It.z,kt.z,Dt.z,Lt.z,this.tension));return _t.set(px.calc(Rt),py.calc(Rt),pz.calc(Rt)),_t}copy(ht){super.copy(ht),this.points=[];for(let xt=0,_t=ht.points.length;xt<_t;xt++){const St=ht.points[xt];this.points.push(St.clone())}return this.closed=ht.closed,this.curveType=ht.curveType,this.tension=ht.tension,this}toJSON(){const ht=super.toJSON();ht.points=[];for(let xt=0,_t=this.points.length;xt<_t;xt++){const St=this.points[xt];ht.points.push(St.toArray())}return ht.closed=this.closed,ht.curveType=this.curveType,ht.tension=this.tension,ht}fromJSON(ht){super.fromJSON(ht),this.points=[];for(let xt=0,_t=ht.points.length;xt<_t;xt++){const St=ht.points[xt];this.points.push(new Vector3().fromArray(St))}return this.closed=ht.closed,this.curveType=ht.curveType,this.tension=ht.tension,this}}function CatmullRom(vt,ht,xt,_t,St){const wt=(_t-ht)*.5,At=(St-xt)*.5,Ct=vt*vt,Rt=vt*Ct;return(2*xt-2*_t+wt+At)*Rt+(-3*xt+3*_t-2*wt-At)*Ct+wt*vt+xt}function QuadraticBezierP0(vt,ht){const xt=1-vt;return xt*xt*ht}function QuadraticBezierP1(vt,ht){return 2*(1-vt)*vt*ht}function QuadraticBezierP2(vt,ht){return vt*vt*ht}function QuadraticBezier(vt,ht,xt,_t){return QuadraticBezierP0(vt,ht)+QuadraticBezierP1(vt,xt)+QuadraticBezierP2(vt,_t)}function CubicBezierP0(vt,ht){const xt=1-vt;return xt*xt*xt*ht}function CubicBezierP1(vt,ht){const xt=1-vt;return 3*xt*xt*vt*ht}function CubicBezierP2(vt,ht){return 3*(1-vt)*vt*vt*ht}function CubicBezierP3(vt,ht){return vt*vt*vt*ht}function CubicBezier(vt,ht,xt,_t,St){return CubicBezierP0(vt,ht)+CubicBezierP1(vt,xt)+CubicBezierP2(vt,_t)+CubicBezierP3(vt,St)}class CubicBezierCurve extends Curve{constructor(ht=new Vector2,xt=new Vector2,_t=new Vector2,St=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=ht,this.v1=xt,this.v2=_t,this.v3=St}getPoint(ht,xt=new Vector2){const _t=xt,St=this.v0,wt=this.v1,At=this.v2,Ct=this.v3;return _t.set(CubicBezier(ht,St.x,wt.x,At.x,Ct.x),CubicBezier(ht,St.y,wt.y,At.y,Ct.y)),_t}copy(ht){return super.copy(ht),this.v0.copy(ht.v0),this.v1.copy(ht.v1),this.v2.copy(ht.v2),this.v3.copy(ht.v3),this}toJSON(){const ht=super.toJSON();return ht.v0=this.v0.toArray(),ht.v1=this.v1.toArray(),ht.v2=this.v2.toArray(),ht.v3=this.v3.toArray(),ht}fromJSON(ht){return super.fromJSON(ht),this.v0.fromArray(ht.v0),this.v1.fromArray(ht.v1),this.v2.fromArray(ht.v2),this.v3.fromArray(ht.v3),this}}class CubicBezierCurve3 extends Curve{constructor(ht=new Vector3,xt=new Vector3,_t=new Vector3,St=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=ht,this.v1=xt,this.v2=_t,this.v3=St}getPoint(ht,xt=new Vector3){const _t=xt,St=this.v0,wt=this.v1,At=this.v2,Ct=this.v3;return _t.set(CubicBezier(ht,St.x,wt.x,At.x,Ct.x),CubicBezier(ht,St.y,wt.y,At.y,Ct.y),CubicBezier(ht,St.z,wt.z,At.z,Ct.z)),_t}copy(ht){return super.copy(ht),this.v0.copy(ht.v0),this.v1.copy(ht.v1),this.v2.copy(ht.v2),this.v3.copy(ht.v3),this}toJSON(){const ht=super.toJSON();return ht.v0=this.v0.toArray(),ht.v1=this.v1.toArray(),ht.v2=this.v2.toArray(),ht.v3=this.v3.toArray(),ht}fromJSON(ht){return super.fromJSON(ht),this.v0.fromArray(ht.v0),this.v1.fromArray(ht.v1),this.v2.fromArray(ht.v2),this.v3.fromArray(ht.v3),this}}class LineCurve extends Curve{constructor(ht=new Vector2,xt=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=ht,this.v2=xt}getPoint(ht,xt=new Vector2){const _t=xt;return ht===1?_t.copy(this.v2):(_t.copy(this.v2).sub(this.v1),_t.multiplyScalar(ht).add(this.v1)),_t}getPointAt(ht,xt){return this.getPoint(ht,xt)}getTangent(ht,xt=new Vector2){return xt.subVectors(this.v2,this.v1).normalize()}getTangentAt(ht,xt){return this.getTangent(ht,xt)}copy(ht){return super.copy(ht),this.v1.copy(ht.v1),this.v2.copy(ht.v2),this}toJSON(){const ht=super.toJSON();return ht.v1=this.v1.toArray(),ht.v2=this.v2.toArray(),ht}fromJSON(ht){return super.fromJSON(ht),this.v1.fromArray(ht.v1),this.v2.fromArray(ht.v2),this}}class LineCurve3 extends Curve{constructor(ht=new Vector3,xt=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=ht,this.v2=xt}getPoint(ht,xt=new Vector3){const _t=xt;return ht===1?_t.copy(this.v2):(_t.copy(this.v2).sub(this.v1),_t.multiplyScalar(ht).add(this.v1)),_t}getPointAt(ht,xt){return this.getPoint(ht,xt)}getTangent(ht,xt=new Vector3){return xt.subVectors(this.v2,this.v1).normalize()}getTangentAt(ht,xt){return this.getTangent(ht,xt)}copy(ht){return super.copy(ht),this.v1.copy(ht.v1),this.v2.copy(ht.v2),this}toJSON(){const ht=super.toJSON();return ht.v1=this.v1.toArray(),ht.v2=this.v2.toArray(),ht}fromJSON(ht){return super.fromJSON(ht),this.v1.fromArray(ht.v1),this.v2.fromArray(ht.v2),this}}class QuadraticBezierCurve extends Curve{constructor(ht=new Vector2,xt=new Vector2,_t=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=ht,this.v1=xt,this.v2=_t}getPoint(ht,xt=new Vector2){const _t=xt,St=this.v0,wt=this.v1,At=this.v2;return _t.set(QuadraticBezier(ht,St.x,wt.x,At.x),QuadraticBezier(ht,St.y,wt.y,At.y)),_t}copy(ht){return super.copy(ht),this.v0.copy(ht.v0),this.v1.copy(ht.v1),this.v2.copy(ht.v2),this}toJSON(){const ht=super.toJSON();return ht.v0=this.v0.toArray(),ht.v1=this.v1.toArray(),ht.v2=this.v2.toArray(),ht}fromJSON(ht){return super.fromJSON(ht),this.v0.fromArray(ht.v0),this.v1.fromArray(ht.v1),this.v2.fromArray(ht.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(ht=new Vector3,xt=new Vector3,_t=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=ht,this.v1=xt,this.v2=_t}getPoint(ht,xt=new Vector3){const _t=xt,St=this.v0,wt=this.v1,At=this.v2;return _t.set(QuadraticBezier(ht,St.x,wt.x,At.x),QuadraticBezier(ht,St.y,wt.y,At.y),QuadraticBezier(ht,St.z,wt.z,At.z)),_t}copy(ht){return super.copy(ht),this.v0.copy(ht.v0),this.v1.copy(ht.v1),this.v2.copy(ht.v2),this}toJSON(){const ht=super.toJSON();return ht.v0=this.v0.toArray(),ht.v1=this.v1.toArray(),ht.v2=this.v2.toArray(),ht}fromJSON(ht){return super.fromJSON(ht),this.v0.fromArray(ht.v0),this.v1.fromArray(ht.v1),this.v2.fromArray(ht.v2),this}}class SplineCurve extends Curve{constructor(ht=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=ht}getPoint(ht,xt=new Vector2){const _t=xt,St=this.points,wt=(St.length-1)*ht,At=Math.floor(wt),Ct=wt-At,Rt=St[At===0?At:At-1],It=St[At],Lt=St[At>St.length-2?St.length-1:At+1],kt=St[At>St.length-3?St.length-1:At+2];return _t.set(CatmullRom(Ct,Rt.x,It.x,Lt.x,kt.x),CatmullRom(Ct,Rt.y,It.y,Lt.y,kt.y)),_t}copy(ht){super.copy(ht),this.points=[];for(let xt=0,_t=ht.points.length;xt<_t;xt++){const St=ht.points[xt];this.points.push(St.clone())}return this}toJSON(){const ht=super.toJSON();ht.points=[];for(let xt=0,_t=this.points.length;xt<_t;xt++){const St=this.points[xt];ht.points.push(St.toArray())}return ht}fromJSON(ht){super.fromJSON(ht),this.points=[];for(let xt=0,_t=ht.points.length;xt<_t;xt++){const St=ht.points[xt];this.points.push(new Vector2().fromArray(St))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(ht){this.curves.push(ht)}closePath(){const ht=this.curves[0].getPoint(0),xt=this.curves[this.curves.length-1].getPoint(1);if(!ht.equals(xt)){const _t=ht.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[_t](xt,ht))}return this}getPoint(ht,xt){const _t=ht*this.getLength(),St=this.getCurveLengths();let wt=0;for(;wt<St.length;){if(St[wt]>=_t){const At=St[wt]-_t,Ct=this.curves[wt],Rt=Ct.getLength(),It=Rt===0?0:1-At/Rt;return Ct.getPointAt(It,xt)}wt++}return null}getLength(){const ht=this.getCurveLengths();return ht[ht.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const ht=[];let xt=0;for(let _t=0,St=this.curves.length;_t<St;_t++)xt+=this.curves[_t].getLength(),ht.push(xt);return this.cacheLengths=ht,ht}getSpacedPoints(ht=40){const xt=[];for(let _t=0;_t<=ht;_t++)xt.push(this.getPoint(_t/ht));return this.autoClose&&xt.push(xt[0]),xt}getPoints(ht=12){const xt=[];let _t;for(let St=0,wt=this.curves;St<wt.length;St++){const At=wt[St],Ct=At.isEllipseCurve?ht*2:At.isLineCurve||At.isLineCurve3?1:At.isSplineCurve?ht*At.points.length:ht,Rt=At.getPoints(Ct);for(let It=0;It<Rt.length;It++){const Lt=Rt[It];_t&&_t.equals(Lt)||(xt.push(Lt),_t=Lt)}}return this.autoClose&&xt.length>1&&!xt[xt.length-1].equals(xt[0])&&xt.push(xt[0]),xt}copy(ht){super.copy(ht),this.curves=[];for(let xt=0,_t=ht.curves.length;xt<_t;xt++){const St=ht.curves[xt];this.curves.push(St.clone())}return this.autoClose=ht.autoClose,this}toJSON(){const ht=super.toJSON();ht.autoClose=this.autoClose,ht.curves=[];for(let xt=0,_t=this.curves.length;xt<_t;xt++){const St=this.curves[xt];ht.curves.push(St.toJSON())}return ht}fromJSON(ht){super.fromJSON(ht),this.autoClose=ht.autoClose,this.curves=[];for(let xt=0,_t=ht.curves.length;xt<_t;xt++){const St=ht.curves[xt];this.curves.push(new Curves[St.type]().fromJSON(St))}return this}}class Path extends CurvePath{constructor(ht){super(),this.type="Path",this.currentPoint=new Vector2,ht&&this.setFromPoints(ht)}setFromPoints(ht){this.moveTo(ht[0].x,ht[0].y);for(let xt=1,_t=ht.length;xt<_t;xt++)this.lineTo(ht[xt].x,ht[xt].y);return this}moveTo(ht,xt){return this.currentPoint.set(ht,xt),this}lineTo(ht,xt){const _t=new LineCurve(this.currentPoint.clone(),new Vector2(ht,xt));return this.curves.push(_t),this.currentPoint.set(ht,xt),this}quadraticCurveTo(ht,xt,_t,St){const wt=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(ht,xt),new Vector2(_t,St));return this.curves.push(wt),this.currentPoint.set(_t,St),this}bezierCurveTo(ht,xt,_t,St,wt,At){const Ct=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(ht,xt),new Vector2(_t,St),new Vector2(wt,At));return this.curves.push(Ct),this.currentPoint.set(wt,At),this}splineThru(ht){const xt=[this.currentPoint.clone()].concat(ht),_t=new SplineCurve(xt);return this.curves.push(_t),this.currentPoint.copy(ht[ht.length-1]),this}arc(ht,xt,_t,St,wt,At){const Ct=this.currentPoint.x,Rt=this.currentPoint.y;return this.absarc(ht+Ct,xt+Rt,_t,St,wt,At),this}absarc(ht,xt,_t,St,wt,At){return this.absellipse(ht,xt,_t,_t,St,wt,At),this}ellipse(ht,xt,_t,St,wt,At,Ct,Rt){const It=this.currentPoint.x,Lt=this.currentPoint.y;return this.absellipse(ht+It,xt+Lt,_t,St,wt,At,Ct,Rt),this}absellipse(ht,xt,_t,St,wt,At,Ct,Rt){const It=new EllipseCurve(ht,xt,_t,St,wt,At,Ct,Rt);if(this.curves.length>0){const kt=It.getPoint(0);kt.equals(this.currentPoint)||this.lineTo(kt.x,kt.y)}this.curves.push(It);const Lt=It.getPoint(1);return this.currentPoint.copy(Lt),this}copy(ht){return super.copy(ht),this.currentPoint.copy(ht.currentPoint),this}toJSON(){const ht=super.toJSON();return ht.currentPoint=this.currentPoint.toArray(),ht}fromJSON(ht){return super.fromJSON(ht),this.currentPoint.fromArray(ht.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(ht=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],xt=12,_t=0,St=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:ht,segments:xt,phiStart:_t,phiLength:St},xt=Math.floor(xt),St=clamp(St,0,Math.PI*2);const wt=[],At=[],Ct=[],Rt=[],It=[],Lt=1/xt,kt=new Vector3,Dt=new Vector2,$t=new Vector3,Ot=new Vector3,zt=new Vector3;let Gt=0,Bt=0;for(let Ut=0;Ut<=ht.length-1;Ut++)switch(Ut){case 0:Gt=ht[Ut+1].x-ht[Ut].x,Bt=ht[Ut+1].y-ht[Ut].y,$t.x=Bt*1,$t.y=-Gt,$t.z=Bt*0,zt.copy($t),$t.normalize(),Rt.push($t.x,$t.y,$t.z);break;case ht.length-1:Rt.push(zt.x,zt.y,zt.z);break;default:Gt=ht[Ut+1].x-ht[Ut].x,Bt=ht[Ut+1].y-ht[Ut].y,$t.x=Bt*1,$t.y=-Gt,$t.z=Bt*0,Ot.copy($t),$t.x+=zt.x,$t.y+=zt.y,$t.z+=zt.z,$t.normalize(),Rt.push($t.x,$t.y,$t.z),zt.copy(Ot)}for(let Ut=0;Ut<=xt;Ut++){const Vt=_t+Ut*Lt*St,Ht=Math.sin(Vt),Xt=Math.cos(Vt);for(let qt=0;qt<=ht.length-1;qt++){kt.x=ht[qt].x*Ht,kt.y=ht[qt].y,kt.z=ht[qt].x*Xt,At.push(kt.x,kt.y,kt.z),Dt.x=Ut/xt,Dt.y=qt/(ht.length-1),Ct.push(Dt.x,Dt.y);const Kt=Rt[3*qt+0]*Ht,en=Rt[3*qt+1],tn=Rt[3*qt+0]*Xt;It.push(Kt,en,tn)}}for(let Ut=0;Ut<xt;Ut++)for(let Vt=0;Vt<ht.length-1;Vt++){const Ht=Vt+Ut*ht.length,Xt=Ht,qt=Ht+ht.length,Kt=Ht+ht.length+1,en=Ht+1;wt.push(Xt,qt,en),wt.push(Kt,en,qt)}this.setIndex(wt),this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("uv",new Float32BufferAttribute(Ct,2)),this.setAttribute("normal",new Float32BufferAttribute(It,3))}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}static fromJSON(ht){return new LatheGeometry(ht.points,ht.segments,ht.phiStart,ht.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(ht=1,xt=1,_t=4,St=8){const wt=new Path;wt.absarc(0,-xt/2,ht,Math.PI*1.5,0),wt.absarc(0,xt/2,ht,0,Math.PI*.5),super(wt.getPoints(_t),St),this.type="CapsuleGeometry",this.parameters={radius:ht,length:xt,capSegments:_t,radialSegments:St}}static fromJSON(ht){return new CapsuleGeometry(ht.radius,ht.length,ht.capSegments,ht.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(ht=1,xt=32,_t=0,St=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:ht,segments:xt,thetaStart:_t,thetaLength:St},xt=Math.max(3,xt);const wt=[],At=[],Ct=[],Rt=[],It=new Vector3,Lt=new Vector2;At.push(0,0,0),Ct.push(0,0,1),Rt.push(.5,.5);for(let kt=0,Dt=3;kt<=xt;kt++,Dt+=3){const $t=_t+kt/xt*St;It.x=ht*Math.cos($t),It.y=ht*Math.sin($t),At.push(It.x,It.y,It.z),Ct.push(0,0,1),Lt.x=(At[Dt]/ht+1)/2,Lt.y=(At[Dt+1]/ht+1)/2,Rt.push(Lt.x,Lt.y)}for(let kt=1;kt<=xt;kt++)wt.push(kt,kt+1,0);this.setIndex(wt),this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("normal",new Float32BufferAttribute(Ct,3)),this.setAttribute("uv",new Float32BufferAttribute(Rt,2))}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}static fromJSON(ht){return new CircleGeometry(ht.radius,ht.segments,ht.thetaStart,ht.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(ht=1,xt=1,_t=1,St=32,wt=1,At=!1,Ct=0,Rt=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:ht,radiusBottom:xt,height:_t,radialSegments:St,heightSegments:wt,openEnded:At,thetaStart:Ct,thetaLength:Rt};const It=this;St=Math.floor(St),wt=Math.floor(wt);const Lt=[],kt=[],Dt=[],$t=[];let Ot=0;const zt=[],Gt=_t/2;let Bt=0;Ut(),At===!1&&(ht>0&&Vt(!0),xt>0&&Vt(!1)),this.setIndex(Lt),this.setAttribute("position",new Float32BufferAttribute(kt,3)),this.setAttribute("normal",new Float32BufferAttribute(Dt,3)),this.setAttribute("uv",new Float32BufferAttribute($t,2));function Ut(){const Ht=new Vector3,Xt=new Vector3;let qt=0;const Kt=(xt-ht)/_t;for(let en=0;en<=wt;en++){const tn=[],Qt=en/wt,sn=Qt*(xt-ht)+ht;for(let un=0;un<=St;un++){const dn=un/St,vn=dn*Rt+Ct,pn=Math.sin(vn),rn=Math.cos(vn);Xt.x=sn*pn,Xt.y=-Qt*_t+Gt,Xt.z=sn*rn,kt.push(Xt.x,Xt.y,Xt.z),Ht.set(pn,Kt,rn).normalize(),Dt.push(Ht.x,Ht.y,Ht.z),$t.push(dn,1-Qt),tn.push(Ot++)}zt.push(tn)}for(let en=0;en<St;en++)for(let tn=0;tn<wt;tn++){const Qt=zt[tn][en],sn=zt[tn+1][en],un=zt[tn+1][en+1],dn=zt[tn][en+1];Lt.push(Qt,sn,dn),Lt.push(sn,un,dn),qt+=6}It.addGroup(Bt,qt,0),Bt+=qt}function Vt(Ht){const Xt=Ot,qt=new Vector2,Kt=new Vector3;let en=0;const tn=Ht===!0?ht:xt,Qt=Ht===!0?1:-1;for(let un=1;un<=St;un++)kt.push(0,Gt*Qt,0),Dt.push(0,Qt,0),$t.push(.5,.5),Ot++;const sn=Ot;for(let un=0;un<=St;un++){const vn=un/St*Rt+Ct,pn=Math.cos(vn),rn=Math.sin(vn);Kt.x=tn*rn,Kt.y=Gt*Qt,Kt.z=tn*pn,kt.push(Kt.x,Kt.y,Kt.z),Dt.push(0,Qt,0),qt.x=pn*.5+.5,qt.y=rn*.5*Qt+.5,$t.push(qt.x,qt.y),Ot++}for(let un=0;un<St;un++){const dn=Xt+un,vn=sn+un;Ht===!0?Lt.push(vn,vn+1,dn):Lt.push(vn+1,vn,dn),en+=3}It.addGroup(Bt,en,Ht===!0?1:2),Bt+=en}}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}static fromJSON(ht){return new CylinderGeometry(ht.radiusTop,ht.radiusBottom,ht.height,ht.radialSegments,ht.heightSegments,ht.openEnded,ht.thetaStart,ht.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(ht=1,xt=1,_t=32,St=1,wt=!1,At=0,Ct=Math.PI*2){super(0,ht,xt,_t,St,wt,At,Ct),this.type="ConeGeometry",this.parameters={radius:ht,height:xt,radialSegments:_t,heightSegments:St,openEnded:wt,thetaStart:At,thetaLength:Ct}}static fromJSON(ht){return new ConeGeometry(ht.radius,ht.height,ht.radialSegments,ht.heightSegments,ht.openEnded,ht.thetaStart,ht.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(ht=[],xt=[],_t=1,St=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:ht,indices:xt,radius:_t,detail:St};const wt=[],At=[];Ct(St),It(_t),Lt(),this.setAttribute("position",new Float32BufferAttribute(wt,3)),this.setAttribute("normal",new Float32BufferAttribute(wt.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(At,2)),St===0?this.computeVertexNormals():this.normalizeNormals();function Ct(Ut){const Vt=new Vector3,Ht=new Vector3,Xt=new Vector3;for(let qt=0;qt<xt.length;qt+=3)$t(xt[qt+0],Vt),$t(xt[qt+1],Ht),$t(xt[qt+2],Xt),Rt(Vt,Ht,Xt,Ut)}function Rt(Ut,Vt,Ht,Xt){const qt=Xt+1,Kt=[];for(let en=0;en<=qt;en++){Kt[en]=[];const tn=Ut.clone().lerp(Ht,en/qt),Qt=Vt.clone().lerp(Ht,en/qt),sn=qt-en;for(let un=0;un<=sn;un++)un===0&&en===qt?Kt[en][un]=tn:Kt[en][un]=tn.clone().lerp(Qt,un/sn)}for(let en=0;en<qt;en++)for(let tn=0;tn<2*(qt-en)-1;tn++){const Qt=Math.floor(tn/2);tn%2===0?(Dt(Kt[en][Qt+1]),Dt(Kt[en+1][Qt]),Dt(Kt[en][Qt])):(Dt(Kt[en][Qt+1]),Dt(Kt[en+1][Qt+1]),Dt(Kt[en+1][Qt]))}}function It(Ut){const Vt=new Vector3;for(let Ht=0;Ht<wt.length;Ht+=3)Vt.x=wt[Ht+0],Vt.y=wt[Ht+1],Vt.z=wt[Ht+2],Vt.normalize().multiplyScalar(Ut),wt[Ht+0]=Vt.x,wt[Ht+1]=Vt.y,wt[Ht+2]=Vt.z}function Lt(){const Ut=new Vector3;for(let Vt=0;Vt<wt.length;Vt+=3){Ut.x=wt[Vt+0],Ut.y=wt[Vt+1],Ut.z=wt[Vt+2];const Ht=Gt(Ut)/2/Math.PI+.5,Xt=Bt(Ut)/Math.PI+.5;At.push(Ht,1-Xt)}Ot(),kt()}function kt(){for(let Ut=0;Ut<At.length;Ut+=6){const Vt=At[Ut+0],Ht=At[Ut+2],Xt=At[Ut+4],qt=Math.max(Vt,Ht,Xt),Kt=Math.min(Vt,Ht,Xt);qt>.9&&Kt<.1&&(Vt<.2&&(At[Ut+0]+=1),Ht<.2&&(At[Ut+2]+=1),Xt<.2&&(At[Ut+4]+=1))}}function Dt(Ut){wt.push(Ut.x,Ut.y,Ut.z)}function $t(Ut,Vt){const Ht=Ut*3;Vt.x=ht[Ht+0],Vt.y=ht[Ht+1],Vt.z=ht[Ht+2]}function Ot(){const Ut=new Vector3,Vt=new Vector3,Ht=new Vector3,Xt=new Vector3,qt=new Vector2,Kt=new Vector2,en=new Vector2;for(let tn=0,Qt=0;tn<wt.length;tn+=9,Qt+=6){Ut.set(wt[tn+0],wt[tn+1],wt[tn+2]),Vt.set(wt[tn+3],wt[tn+4],wt[tn+5]),Ht.set(wt[tn+6],wt[tn+7],wt[tn+8]),qt.set(At[Qt+0],At[Qt+1]),Kt.set(At[Qt+2],At[Qt+3]),en.set(At[Qt+4],At[Qt+5]),Xt.copy(Ut).add(Vt).add(Ht).divideScalar(3);const sn=Gt(Xt);zt(qt,Qt+0,Ut,sn),zt(Kt,Qt+2,Vt,sn),zt(en,Qt+4,Ht,sn)}}function zt(Ut,Vt,Ht,Xt){Xt<0&&Ut.x===1&&(At[Vt]=Ut.x-1),Ht.x===0&&Ht.z===0&&(At[Vt]=Xt/2/Math.PI+.5)}function Gt(Ut){return Math.atan2(Ut.z,-Ut.x)}function Bt(Ut){return Math.atan2(-Ut.y,Math.sqrt(Ut.x*Ut.x+Ut.z*Ut.z))}}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}static fromJSON(ht){return new PolyhedronGeometry(ht.vertices,ht.indices,ht.radius,ht.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(ht=1,xt=0){const _t=(1+Math.sqrt(5))/2,St=1/_t,wt=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-St,-_t,0,-St,_t,0,St,-_t,0,St,_t,-St,-_t,0,-St,_t,0,St,-_t,0,St,_t,0,-_t,0,-St,_t,0,-St,-_t,0,St,_t,0,St],At=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(wt,At,ht,xt),this.type="DodecahedronGeometry",this.parameters={radius:ht,detail:xt}}static fromJSON(ht){return new DodecahedronGeometry(ht.radius,ht.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(ht=null,xt=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:ht,thresholdAngle:xt},ht!==null){const St=Math.pow(10,4),wt=Math.cos(DEG2RAD*xt),At=ht.getIndex(),Ct=ht.getAttribute("position"),Rt=At?At.count:Ct.count,It=[0,0,0],Lt=["a","b","c"],kt=new Array(3),Dt={},$t=[];for(let Ot=0;Ot<Rt;Ot+=3){At?(It[0]=At.getX(Ot),It[1]=At.getX(Ot+1),It[2]=At.getX(Ot+2)):(It[0]=Ot,It[1]=Ot+1,It[2]=Ot+2);const{a:zt,b:Gt,c:Bt}=_triangle;if(zt.fromBufferAttribute(Ct,It[0]),Gt.fromBufferAttribute(Ct,It[1]),Bt.fromBufferAttribute(Ct,It[2]),_triangle.getNormal(_normal),kt[0]=`${Math.round(zt.x*St)},${Math.round(zt.y*St)},${Math.round(zt.z*St)}`,kt[1]=`${Math.round(Gt.x*St)},${Math.round(Gt.y*St)},${Math.round(Gt.z*St)}`,kt[2]=`${Math.round(Bt.x*St)},${Math.round(Bt.y*St)},${Math.round(Bt.z*St)}`,!(kt[0]===kt[1]||kt[1]===kt[2]||kt[2]===kt[0]))for(let Ut=0;Ut<3;Ut++){const Vt=(Ut+1)%3,Ht=kt[Ut],Xt=kt[Vt],qt=_triangle[Lt[Ut]],Kt=_triangle[Lt[Vt]],en=`${Ht}_${Xt}`,tn=`${Xt}_${Ht}`;tn in Dt&&Dt[tn]?(_normal.dot(Dt[tn].normal)<=wt&&($t.push(qt.x,qt.y,qt.z),$t.push(Kt.x,Kt.y,Kt.z)),Dt[tn]=null):en in Dt||(Dt[en]={index0:It[Ut],index1:It[Vt],normal:_normal.clone()})}}for(const Ot in Dt)if(Dt[Ot]){const{index0:zt,index1:Gt}=Dt[Ot];_v0.fromBufferAttribute(Ct,zt),_v1$1.fromBufferAttribute(Ct,Gt),$t.push(_v0.x,_v0.y,_v0.z),$t.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute($t,3))}}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}}class Shape extends Path{constructor(ht){super(ht),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(ht){const xt=[];for(let _t=0,St=this.holes.length;_t<St;_t++)xt[_t]=this.holes[_t].getPoints(ht);return xt}extractPoints(ht){return{shape:this.getPoints(ht),holes:this.getPointsHoles(ht)}}copy(ht){super.copy(ht),this.holes=[];for(let xt=0,_t=ht.holes.length;xt<_t;xt++){const St=ht.holes[xt];this.holes.push(St.clone())}return this}toJSON(){const ht=super.toJSON();ht.uuid=this.uuid,ht.holes=[];for(let xt=0,_t=this.holes.length;xt<_t;xt++){const St=this.holes[xt];ht.holes.push(St.toJSON())}return ht}fromJSON(ht){super.fromJSON(ht),this.uuid=ht.uuid,this.holes=[];for(let xt=0,_t=ht.holes.length;xt<_t;xt++){const St=ht.holes[xt];this.holes.push(new Path().fromJSON(St))}return this}}const Earcut={triangulate:function(vt,ht,xt=2){const _t=ht&&ht.length,St=_t?ht[0]*xt:vt.length;let wt=linkedList(vt,0,St,xt,!0);const At=[];if(!wt||wt.next===wt.prev)return At;let Ct,Rt,It,Lt,kt,Dt,$t;if(_t&&(wt=eliminateHoles(vt,ht,wt,xt)),vt.length>80*xt){Ct=It=vt[0],Rt=Lt=vt[1];for(let Ot=xt;Ot<St;Ot+=xt)kt=vt[Ot],Dt=vt[Ot+1],kt<Ct&&(Ct=kt),Dt<Rt&&(Rt=Dt),kt>It&&(It=kt),Dt>Lt&&(Lt=Dt);$t=Math.max(It-Ct,Lt-Rt),$t=$t!==0?32767/$t:0}return earcutLinked(wt,At,xt,Ct,Rt,$t,0),At}};function linkedList(vt,ht,xt,_t,St){let wt,At;if(St===signedArea(vt,ht,xt,_t)>0)for(wt=ht;wt<xt;wt+=_t)At=insertNode(wt,vt[wt],vt[wt+1],At);else for(wt=xt-_t;wt>=ht;wt-=_t)At=insertNode(wt,vt[wt],vt[wt+1],At);return At&&equals(At,At.next)&&(removeNode(At),At=At.next),At}function filterPoints(vt,ht){if(!vt)return vt;ht||(ht=vt);let xt=vt,_t;do if(_t=!1,!xt.steiner&&(equals(xt,xt.next)||area(xt.prev,xt,xt.next)===0)){if(removeNode(xt),xt=ht=xt.prev,xt===xt.next)break;_t=!0}else xt=xt.next;while(_t||xt!==ht);return ht}function earcutLinked(vt,ht,xt,_t,St,wt,At){if(!vt)return;!At&&wt&&indexCurve(vt,_t,St,wt);let Ct=vt,Rt,It;for(;vt.prev!==vt.next;){if(Rt=vt.prev,It=vt.next,wt?isEarHashed(vt,_t,St,wt):isEar(vt)){ht.push(Rt.i/xt|0),ht.push(vt.i/xt|0),ht.push(It.i/xt|0),removeNode(vt),vt=It.next,Ct=It.next;continue}if(vt=It,vt===Ct){At?At===1?(vt=cureLocalIntersections(filterPoints(vt),ht,xt),earcutLinked(vt,ht,xt,_t,St,wt,2)):At===2&&splitEarcut(vt,ht,xt,_t,St,wt):earcutLinked(filterPoints(vt),ht,xt,_t,St,wt,1);break}}}function isEar(vt){const ht=vt.prev,xt=vt,_t=vt.next;if(area(ht,xt,_t)>=0)return!1;const St=ht.x,wt=xt.x,At=_t.x,Ct=ht.y,Rt=xt.y,It=_t.y,Lt=St<wt?St<At?St:At:wt<At?wt:At,kt=Ct<Rt?Ct<It?Ct:It:Rt<It?Rt:It,Dt=St>wt?St>At?St:At:wt>At?wt:At,$t=Ct>Rt?Ct>It?Ct:It:Rt>It?Rt:It;let Ot=_t.next;for(;Ot!==ht;){if(Ot.x>=Lt&&Ot.x<=Dt&&Ot.y>=kt&&Ot.y<=$t&&pointInTriangle(St,Ct,wt,Rt,At,It,Ot.x,Ot.y)&&area(Ot.prev,Ot,Ot.next)>=0)return!1;Ot=Ot.next}return!0}function isEarHashed(vt,ht,xt,_t){const St=vt.prev,wt=vt,At=vt.next;if(area(St,wt,At)>=0)return!1;const Ct=St.x,Rt=wt.x,It=At.x,Lt=St.y,kt=wt.y,Dt=At.y,$t=Ct<Rt?Ct<It?Ct:It:Rt<It?Rt:It,Ot=Lt<kt?Lt<Dt?Lt:Dt:kt<Dt?kt:Dt,zt=Ct>Rt?Ct>It?Ct:It:Rt>It?Rt:It,Gt=Lt>kt?Lt>Dt?Lt:Dt:kt>Dt?kt:Dt,Bt=zOrder($t,Ot,ht,xt,_t),Ut=zOrder(zt,Gt,ht,xt,_t);let Vt=vt.prevZ,Ht=vt.nextZ;for(;Vt&&Vt.z>=Bt&&Ht&&Ht.z<=Ut;){if(Vt.x>=$t&&Vt.x<=zt&&Vt.y>=Ot&&Vt.y<=Gt&&Vt!==St&&Vt!==At&&pointInTriangle(Ct,Lt,Rt,kt,It,Dt,Vt.x,Vt.y)&&area(Vt.prev,Vt,Vt.next)>=0||(Vt=Vt.prevZ,Ht.x>=$t&&Ht.x<=zt&&Ht.y>=Ot&&Ht.y<=Gt&&Ht!==St&&Ht!==At&&pointInTriangle(Ct,Lt,Rt,kt,It,Dt,Ht.x,Ht.y)&&area(Ht.prev,Ht,Ht.next)>=0))return!1;Ht=Ht.nextZ}for(;Vt&&Vt.z>=Bt;){if(Vt.x>=$t&&Vt.x<=zt&&Vt.y>=Ot&&Vt.y<=Gt&&Vt!==St&&Vt!==At&&pointInTriangle(Ct,Lt,Rt,kt,It,Dt,Vt.x,Vt.y)&&area(Vt.prev,Vt,Vt.next)>=0)return!1;Vt=Vt.prevZ}for(;Ht&&Ht.z<=Ut;){if(Ht.x>=$t&&Ht.x<=zt&&Ht.y>=Ot&&Ht.y<=Gt&&Ht!==St&&Ht!==At&&pointInTriangle(Ct,Lt,Rt,kt,It,Dt,Ht.x,Ht.y)&&area(Ht.prev,Ht,Ht.next)>=0)return!1;Ht=Ht.nextZ}return!0}function cureLocalIntersections(vt,ht,xt){let _t=vt;do{const St=_t.prev,wt=_t.next.next;!equals(St,wt)&&intersects(St,_t,_t.next,wt)&&locallyInside(St,wt)&&locallyInside(wt,St)&&(ht.push(St.i/xt|0),ht.push(_t.i/xt|0),ht.push(wt.i/xt|0),removeNode(_t),removeNode(_t.next),_t=vt=wt),_t=_t.next}while(_t!==vt);return filterPoints(_t)}function splitEarcut(vt,ht,xt,_t,St,wt){let At=vt;do{let Ct=At.next.next;for(;Ct!==At.prev;){if(At.i!==Ct.i&&isValidDiagonal(At,Ct)){let Rt=splitPolygon(At,Ct);At=filterPoints(At,At.next),Rt=filterPoints(Rt,Rt.next),earcutLinked(At,ht,xt,_t,St,wt,0),earcutLinked(Rt,ht,xt,_t,St,wt,0);return}Ct=Ct.next}At=At.next}while(At!==vt)}function eliminateHoles(vt,ht,xt,_t){const St=[];let wt,At,Ct,Rt,It;for(wt=0,At=ht.length;wt<At;wt++)Ct=ht[wt]*_t,Rt=wt<At-1?ht[wt+1]*_t:vt.length,It=linkedList(vt,Ct,Rt,_t,!1),It===It.next&&(It.steiner=!0),St.push(getLeftmost(It));for(St.sort(compareX),wt=0;wt<St.length;wt++)xt=eliminateHole(St[wt],xt);return xt}function compareX(vt,ht){return vt.x-ht.x}function eliminateHole(vt,ht){const xt=findHoleBridge(vt,ht);if(!xt)return ht;const _t=splitPolygon(xt,vt);return filterPoints(_t,_t.next),filterPoints(xt,xt.next)}function findHoleBridge(vt,ht){let xt=ht,_t=-1/0,St;const wt=vt.x,At=vt.y;do{if(At<=xt.y&&At>=xt.next.y&&xt.next.y!==xt.y){const Dt=xt.x+(At-xt.y)*(xt.next.x-xt.x)/(xt.next.y-xt.y);if(Dt<=wt&&Dt>_t&&(_t=Dt,St=xt.x<xt.next.x?xt:xt.next,Dt===wt))return St}xt=xt.next}while(xt!==ht);if(!St)return null;const Ct=St,Rt=St.x,It=St.y;let Lt=1/0,kt;xt=St;do wt>=xt.x&&xt.x>=Rt&&wt!==xt.x&&pointInTriangle(At<It?wt:_t,At,Rt,It,At<It?_t:wt,At,xt.x,xt.y)&&(kt=Math.abs(At-xt.y)/(wt-xt.x),locallyInside(xt,vt)&&(kt<Lt||kt===Lt&&(xt.x>St.x||xt.x===St.x&&sectorContainsSector(St,xt)))&&(St=xt,Lt=kt)),xt=xt.next;while(xt!==Ct);return St}function sectorContainsSector(vt,ht){return area(vt.prev,vt,ht.prev)<0&&area(ht.next,vt,vt.next)<0}function indexCurve(vt,ht,xt,_t){let St=vt;do St.z===0&&(St.z=zOrder(St.x,St.y,ht,xt,_t)),St.prevZ=St.prev,St.nextZ=St.next,St=St.next;while(St!==vt);St.prevZ.nextZ=null,St.prevZ=null,sortLinked(St)}function sortLinked(vt){let ht,xt,_t,St,wt,At,Ct,Rt,It=1;do{for(xt=vt,vt=null,wt=null,At=0;xt;){for(At++,_t=xt,Ct=0,ht=0;ht<It&&(Ct++,_t=_t.nextZ,!!_t);ht++);for(Rt=It;Ct>0||Rt>0&&_t;)Ct!==0&&(Rt===0||!_t||xt.z<=_t.z)?(St=xt,xt=xt.nextZ,Ct--):(St=_t,_t=_t.nextZ,Rt--),wt?wt.nextZ=St:vt=St,St.prevZ=wt,wt=St;xt=_t}wt.nextZ=null,It*=2}while(At>1);return vt}function zOrder(vt,ht,xt,_t,St){return vt=(vt-xt)*St|0,ht=(ht-_t)*St|0,vt=(vt|vt<<8)&16711935,vt=(vt|vt<<4)&252645135,vt=(vt|vt<<2)&858993459,vt=(vt|vt<<1)&1431655765,ht=(ht|ht<<8)&16711935,ht=(ht|ht<<4)&252645135,ht=(ht|ht<<2)&858993459,ht=(ht|ht<<1)&1431655765,vt|ht<<1}function getLeftmost(vt){let ht=vt,xt=vt;do(ht.x<xt.x||ht.x===xt.x&&ht.y<xt.y)&&(xt=ht),ht=ht.next;while(ht!==vt);return xt}function pointInTriangle(vt,ht,xt,_t,St,wt,At,Ct){return(St-At)*(ht-Ct)>=(vt-At)*(wt-Ct)&&(vt-At)*(_t-Ct)>=(xt-At)*(ht-Ct)&&(xt-At)*(wt-Ct)>=(St-At)*(_t-Ct)}function isValidDiagonal(vt,ht){return vt.next.i!==ht.i&&vt.prev.i!==ht.i&&!intersectsPolygon(vt,ht)&&(locallyInside(vt,ht)&&locallyInside(ht,vt)&&middleInside(vt,ht)&&(area(vt.prev,vt,ht.prev)||area(vt,ht.prev,ht))||equals(vt,ht)&&area(vt.prev,vt,vt.next)>0&&area(ht.prev,ht,ht.next)>0)}function area(vt,ht,xt){return(ht.y-vt.y)*(xt.x-ht.x)-(ht.x-vt.x)*(xt.y-ht.y)}function equals(vt,ht){return vt.x===ht.x&&vt.y===ht.y}function intersects(vt,ht,xt,_t){const St=sign(area(vt,ht,xt)),wt=sign(area(vt,ht,_t)),At=sign(area(xt,_t,vt)),Ct=sign(area(xt,_t,ht));return!!(St!==wt&&At!==Ct||St===0&&onSegment(vt,xt,ht)||wt===0&&onSegment(vt,_t,ht)||At===0&&onSegment(xt,vt,_t)||Ct===0&&onSegment(xt,ht,_t))}function onSegment(vt,ht,xt){return ht.x<=Math.max(vt.x,xt.x)&&ht.x>=Math.min(vt.x,xt.x)&&ht.y<=Math.max(vt.y,xt.y)&&ht.y>=Math.min(vt.y,xt.y)}function sign(vt){return vt>0?1:vt<0?-1:0}function intersectsPolygon(vt,ht){let xt=vt;do{if(xt.i!==vt.i&&xt.next.i!==vt.i&&xt.i!==ht.i&&xt.next.i!==ht.i&&intersects(xt,xt.next,vt,ht))return!0;xt=xt.next}while(xt!==vt);return!1}function locallyInside(vt,ht){return area(vt.prev,vt,vt.next)<0?area(vt,ht,vt.next)>=0&&area(vt,vt.prev,ht)>=0:area(vt,ht,vt.prev)<0||area(vt,vt.next,ht)<0}function middleInside(vt,ht){let xt=vt,_t=!1;const St=(vt.x+ht.x)/2,wt=(vt.y+ht.y)/2;do xt.y>wt!=xt.next.y>wt&&xt.next.y!==xt.y&&St<(xt.next.x-xt.x)*(wt-xt.y)/(xt.next.y-xt.y)+xt.x&&(_t=!_t),xt=xt.next;while(xt!==vt);return _t}function splitPolygon(vt,ht){const xt=new Node$1(vt.i,vt.x,vt.y),_t=new Node$1(ht.i,ht.x,ht.y),St=vt.next,wt=ht.prev;return vt.next=ht,ht.prev=vt,xt.next=St,St.prev=xt,_t.next=xt,xt.prev=_t,wt.next=_t,_t.prev=wt,_t}function insertNode(vt,ht,xt,_t){const St=new Node$1(vt,ht,xt);return _t?(St.next=_t.next,St.prev=_t,_t.next.prev=St,_t.next=St):(St.prev=St,St.next=St),St}function removeNode(vt){vt.next.prev=vt.prev,vt.prev.next=vt.next,vt.prevZ&&(vt.prevZ.nextZ=vt.nextZ),vt.nextZ&&(vt.nextZ.prevZ=vt.prevZ)}function Node$1(vt,ht,xt){this.i=vt,this.x=ht,this.y=xt,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(vt,ht,xt,_t){let St=0;for(let wt=ht,At=xt-_t;wt<xt;wt+=_t)St+=(vt[At]-vt[wt])*(vt[wt+1]+vt[At+1]),At=wt;return St}class ShapeUtils{static area(ht){const xt=ht.length;let _t=0;for(let St=xt-1,wt=0;wt<xt;St=wt++)_t+=ht[St].x*ht[wt].y-ht[wt].x*ht[St].y;return _t*.5}static isClockWise(ht){return ShapeUtils.area(ht)<0}static triangulateShape(ht,xt){const _t=[],St=[],wt=[];removeDupEndPts(ht),addContour(_t,ht);let At=ht.length;xt.forEach(removeDupEndPts);for(let Rt=0;Rt<xt.length;Rt++)St.push(At),At+=xt[Rt].length,addContour(_t,xt[Rt]);const Ct=Earcut.triangulate(_t,St);for(let Rt=0;Rt<Ct.length;Rt+=3)wt.push(Ct.slice(Rt,Rt+3));return wt}}function removeDupEndPts(vt){const ht=vt.length;ht>2&&vt[ht-1].equals(vt[0])&&vt.pop()}function addContour(vt,ht){for(let xt=0;xt<ht.length;xt++)vt.push(ht[xt].x),vt.push(ht[xt].y)}class ExtrudeGeometry extends BufferGeometry{constructor(ht=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),xt={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:ht,options:xt},ht=Array.isArray(ht)?ht:[ht];const _t=this,St=[],wt=[];for(let Ct=0,Rt=ht.length;Ct<Rt;Ct++){const It=ht[Ct];At(It)}this.setAttribute("position",new Float32BufferAttribute(St,3)),this.setAttribute("uv",new Float32BufferAttribute(wt,2)),this.computeVertexNormals();function At(Ct){const Rt=[],It=xt.curveSegments!==void 0?xt.curveSegments:12,Lt=xt.steps!==void 0?xt.steps:1,kt=xt.depth!==void 0?xt.depth:1;let Dt=xt.bevelEnabled!==void 0?xt.bevelEnabled:!0,$t=xt.bevelThickness!==void 0?xt.bevelThickness:.2,Ot=xt.bevelSize!==void 0?xt.bevelSize:$t-.1,zt=xt.bevelOffset!==void 0?xt.bevelOffset:0,Gt=xt.bevelSegments!==void 0?xt.bevelSegments:3;const Bt=xt.extrudePath,Ut=xt.UVGenerator!==void 0?xt.UVGenerator:WorldUVGenerator;let Vt,Ht=!1,Xt,qt,Kt,en;Bt&&(Vt=Bt.getSpacedPoints(Lt),Ht=!0,Dt=!1,Xt=Bt.computeFrenetFrames(Lt,!1),qt=new Vector3,Kt=new Vector3,en=new Vector3),Dt||(Gt=0,$t=0,Ot=0,zt=0);const tn=Ct.extractPoints(It);let Qt=tn.shape;const sn=tn.holes;if(!ShapeUtils.isClockWise(Qt)){Qt=Qt.reverse();for(let hn=0,Dn=sn.length;hn<Dn;hn++){const An=sn[hn];ShapeUtils.isClockWise(An)&&(sn[hn]=An.reverse())}}const dn=ShapeUtils.triangulateShape(Qt,sn),vn=Qt;for(let hn=0,Dn=sn.length;hn<Dn;hn++){const An=sn[hn];Qt=Qt.concat(An)}function pn(hn,Dn,An){return Dn||console.error("THREE.ExtrudeGeometry: vec does not exist"),hn.clone().addScaledVector(Dn,An)}const rn=Qt.length,an=dn.length;function Yt(hn,Dn,An){let Zn,$n,ur;const qn=hn.x-Dn.x,er=hn.y-Dn.y,mn=An.x-hn.x,cn=An.y-hn.y,Cn=qn*qn+er*er,Gn=qn*cn-er*mn;if(Math.abs(Gn)>Number.EPSILON){const On=Math.sqrt(Cn),zn=Math.sqrt(mn*mn+cn*cn),ar=Dn.x-er/On,Yn=Dn.y+qn/On,tr=An.x-cn/zn,br=An.y+mn/zn,Wn=((tr-ar)*cn-(br-Yn)*mn)/(qn*cn-er*mn);Zn=ar+qn*Wn-hn.x,$n=Yn+er*Wn-hn.y;const rr=Zn*Zn+$n*$n;if(rr<=2)return new Vector2(Zn,$n);ur=Math.sqrt(rr/2)}else{let On=!1;qn>Number.EPSILON?mn>Number.EPSILON&&(On=!0):qn<-Number.EPSILON?mn<-Number.EPSILON&&(On=!0):Math.sign(er)===Math.sign(cn)&&(On=!0),On?(Zn=-er,$n=qn,ur=Math.sqrt(Cn)):(Zn=qn,$n=er,ur=Math.sqrt(Cn/2))}return new Vector2(Zn/ur,$n/ur)}const Jt=[];for(let hn=0,Dn=vn.length,An=Dn-1,Zn=hn+1;hn<Dn;hn++,An++,Zn++)An===Dn&&(An=0),Zn===Dn&&(Zn=0),Jt[hn]=Yt(vn[hn],vn[An],vn[Zn]);const on=[];let ln,_n=Jt.concat();for(let hn=0,Dn=sn.length;hn<Dn;hn++){const An=sn[hn];ln=[];for(let Zn=0,$n=An.length,ur=$n-1,qn=Zn+1;Zn<$n;Zn++,ur++,qn++)ur===$n&&(ur=0),qn===$n&&(qn=0),ln[Zn]=Yt(An[Zn],An[ur],An[qn]);on.push(ln),_n=_n.concat(ln)}for(let hn=0;hn<Gt;hn++){const Dn=hn/Gt,An=$t*Math.cos(Dn*Math.PI/2),Zn=Ot*Math.sin(Dn*Math.PI/2)+zt;for(let $n=0,ur=vn.length;$n<ur;$n++){const qn=pn(vn[$n],Jt[$n],Zn);Hn(qn.x,qn.y,-An)}for(let $n=0,ur=sn.length;$n<ur;$n++){const qn=sn[$n];ln=on[$n];for(let er=0,mn=qn.length;er<mn;er++){const cn=pn(qn[er],ln[er],Zn);Hn(cn.x,cn.y,-An)}}}const wn=Ot+zt;for(let hn=0;hn<rn;hn++){const Dn=Dt?pn(Qt[hn],_n[hn],wn):Qt[hn];Ht?(Kt.copy(Xt.normals[0]).multiplyScalar(Dn.x),qt.copy(Xt.binormals[0]).multiplyScalar(Dn.y),en.copy(Vt[0]).add(Kt).add(qt),Hn(en.x,en.y,en.z)):Hn(Dn.x,Dn.y,0)}for(let hn=1;hn<=Lt;hn++)for(let Dn=0;Dn<rn;Dn++){const An=Dt?pn(Qt[Dn],_n[Dn],wn):Qt[Dn];Ht?(Kt.copy(Xt.normals[hn]).multiplyScalar(An.x),qt.copy(Xt.binormals[hn]).multiplyScalar(An.y),en.copy(Vt[hn]).add(Kt).add(qt),Hn(en.x,en.y,en.z)):Hn(An.x,An.y,kt/Lt*hn)}for(let hn=Gt-1;hn>=0;hn--){const Dn=hn/Gt,An=$t*Math.cos(Dn*Math.PI/2),Zn=Ot*Math.sin(Dn*Math.PI/2)+zt;for(let $n=0,ur=vn.length;$n<ur;$n++){const qn=pn(vn[$n],Jt[$n],Zn);Hn(qn.x,qn.y,kt+An)}for(let $n=0,ur=sn.length;$n<ur;$n++){const qn=sn[$n];ln=on[$n];for(let er=0,mn=qn.length;er<mn;er++){const cn=pn(qn[er],ln[er],Zn);Ht?Hn(cn.x,cn.y+Vt[Lt-1].y,Vt[Lt-1].x+An):Hn(cn.x,cn.y,kt+An)}}}xn(),Pn();function xn(){const hn=St.length/3;if(Dt){let Dn=0,An=rn*Dn;for(let Zn=0;Zn<an;Zn++){const $n=dn[Zn];or($n[2]+An,$n[1]+An,$n[0]+An)}Dn=Lt+Gt*2,An=rn*Dn;for(let Zn=0;Zn<an;Zn++){const $n=dn[Zn];or($n[0]+An,$n[1]+An,$n[2]+An)}}else{for(let Dn=0;Dn<an;Dn++){const An=dn[Dn];or(An[2],An[1],An[0])}for(let Dn=0;Dn<an;Dn++){const An=dn[Dn];or(An[0]+rn*Lt,An[1]+rn*Lt,An[2]+rn*Lt)}}_t.addGroup(hn,St.length/3-hn,0)}function Pn(){const hn=St.length/3;let Dn=0;Bn(vn,Dn),Dn+=vn.length;for(let An=0,Zn=sn.length;An<Zn;An++){const $n=sn[An];Bn($n,Dn),Dn+=$n.length}_t.addGroup(hn,St.length/3-hn,1)}function Bn(hn,Dn){let An=hn.length;for(;--An>=0;){const Zn=An;let $n=An-1;$n<0&&($n=hn.length-1);for(let ur=0,qn=Lt+Gt*2;ur<qn;ur++){const er=rn*ur,mn=rn*(ur+1),cn=Dn+Zn+er,Cn=Dn+$n+er,Gn=Dn+$n+mn,On=Dn+Zn+mn;mr(cn,Cn,Gn,On)}}}function Hn(hn,Dn,An){Rt.push(hn),Rt.push(Dn),Rt.push(An)}function or(hn,Dn,An){lr(hn),lr(Dn),lr(An);const Zn=St.length/3,$n=Ut.generateTopUV(_t,St,Zn-3,Zn-2,Zn-1);dr($n[0]),dr($n[1]),dr($n[2])}function mr(hn,Dn,An,Zn){lr(hn),lr(Dn),lr(Zn),lr(Dn),lr(An),lr(Zn);const $n=St.length/3,ur=Ut.generateSideWallUV(_t,St,$n-6,$n-3,$n-2,$n-1);dr(ur[0]),dr(ur[1]),dr(ur[3]),dr(ur[1]),dr(ur[2]),dr(ur[3])}function lr(hn){St.push(Rt[hn*3+0]),St.push(Rt[hn*3+1]),St.push(Rt[hn*3+2])}function dr(hn){wt.push(hn.x),wt.push(hn.y)}}}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}toJSON(){const ht=super.toJSON(),xt=this.parameters.shapes,_t=this.parameters.options;return toJSON$1(xt,_t,ht)}static fromJSON(ht,xt){const _t=[];for(let wt=0,At=ht.shapes.length;wt<At;wt++){const Ct=xt[ht.shapes[wt]];_t.push(Ct)}const St=ht.options.extrudePath;return St!==void 0&&(ht.options.extrudePath=new Curves[St.type]().fromJSON(St)),new ExtrudeGeometry(_t,ht.options)}}const WorldUVGenerator={generateTopUV:function(vt,ht,xt,_t,St){const wt=ht[xt*3],At=ht[xt*3+1],Ct=ht[_t*3],Rt=ht[_t*3+1],It=ht[St*3],Lt=ht[St*3+1];return[new Vector2(wt,At),new Vector2(Ct,Rt),new Vector2(It,Lt)]},generateSideWallUV:function(vt,ht,xt,_t,St,wt){const At=ht[xt*3],Ct=ht[xt*3+1],Rt=ht[xt*3+2],It=ht[_t*3],Lt=ht[_t*3+1],kt=ht[_t*3+2],Dt=ht[St*3],$t=ht[St*3+1],Ot=ht[St*3+2],zt=ht[wt*3],Gt=ht[wt*3+1],Bt=ht[wt*3+2];return Math.abs(Ct-Lt)<Math.abs(At-It)?[new Vector2(At,1-Rt),new Vector2(It,1-kt),new Vector2(Dt,1-Ot),new Vector2(zt,1-Bt)]:[new Vector2(Ct,1-Rt),new Vector2(Lt,1-kt),new Vector2($t,1-Ot),new Vector2(Gt,1-Bt)]}};function toJSON$1(vt,ht,xt){if(xt.shapes=[],Array.isArray(vt))for(let _t=0,St=vt.length;_t<St;_t++){const wt=vt[_t];xt.shapes.push(wt.uuid)}else xt.shapes.push(vt.uuid);return xt.options=Object.assign({},ht),ht.extrudePath!==void 0&&(xt.options.extrudePath=ht.extrudePath.toJSON()),xt}class IcosahedronGeometry extends PolyhedronGeometry{constructor(ht=1,xt=0){const _t=(1+Math.sqrt(5))/2,St=[-1,_t,0,1,_t,0,-1,-_t,0,1,-_t,0,0,-1,_t,0,1,_t,0,-1,-_t,0,1,-_t,_t,0,-1,_t,0,1,-_t,0,-1,-_t,0,1],wt=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(St,wt,ht,xt),this.type="IcosahedronGeometry",this.parameters={radius:ht,detail:xt}}static fromJSON(ht){return new IcosahedronGeometry(ht.radius,ht.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(ht=1,xt=0){const _t=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],St=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(_t,St,ht,xt),this.type="OctahedronGeometry",this.parameters={radius:ht,detail:xt}}static fromJSON(ht){return new OctahedronGeometry(ht.radius,ht.detail)}}class RingGeometry extends BufferGeometry{constructor(ht=.5,xt=1,_t=32,St=1,wt=0,At=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:ht,outerRadius:xt,thetaSegments:_t,phiSegments:St,thetaStart:wt,thetaLength:At},_t=Math.max(3,_t),St=Math.max(1,St);const Ct=[],Rt=[],It=[],Lt=[];let kt=ht;const Dt=(xt-ht)/St,$t=new Vector3,Ot=new Vector2;for(let zt=0;zt<=St;zt++){for(let Gt=0;Gt<=_t;Gt++){const Bt=wt+Gt/_t*At;$t.x=kt*Math.cos(Bt),$t.y=kt*Math.sin(Bt),Rt.push($t.x,$t.y,$t.z),It.push(0,0,1),Ot.x=($t.x/xt+1)/2,Ot.y=($t.y/xt+1)/2,Lt.push(Ot.x,Ot.y)}kt+=Dt}for(let zt=0;zt<St;zt++){const Gt=zt*(_t+1);for(let Bt=0;Bt<_t;Bt++){const Ut=Bt+Gt,Vt=Ut,Ht=Ut+_t+1,Xt=Ut+_t+2,qt=Ut+1;Ct.push(Vt,Ht,qt),Ct.push(Ht,Xt,qt)}}this.setIndex(Ct),this.setAttribute("position",new Float32BufferAttribute(Rt,3)),this.setAttribute("normal",new Float32BufferAttribute(It,3)),this.setAttribute("uv",new Float32BufferAttribute(Lt,2))}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}static fromJSON(ht){return new RingGeometry(ht.innerRadius,ht.outerRadius,ht.thetaSegments,ht.phiSegments,ht.thetaStart,ht.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(ht=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),xt=12){super(),this.type="ShapeGeometry",this.parameters={shapes:ht,curveSegments:xt};const _t=[],St=[],wt=[],At=[];let Ct=0,Rt=0;if(Array.isArray(ht)===!1)It(ht);else for(let Lt=0;Lt<ht.length;Lt++)It(ht[Lt]),this.addGroup(Ct,Rt,Lt),Ct+=Rt,Rt=0;this.setIndex(_t),this.setAttribute("position",new Float32BufferAttribute(St,3)),this.setAttribute("normal",new Float32BufferAttribute(wt,3)),this.setAttribute("uv",new Float32BufferAttribute(At,2));function It(Lt){const kt=St.length/3,Dt=Lt.extractPoints(xt);let $t=Dt.shape;const Ot=Dt.holes;ShapeUtils.isClockWise($t)===!1&&($t=$t.reverse());for(let Gt=0,Bt=Ot.length;Gt<Bt;Gt++){const Ut=Ot[Gt];ShapeUtils.isClockWise(Ut)===!0&&(Ot[Gt]=Ut.reverse())}const zt=ShapeUtils.triangulateShape($t,Ot);for(let Gt=0,Bt=Ot.length;Gt<Bt;Gt++){const Ut=Ot[Gt];$t=$t.concat(Ut)}for(let Gt=0,Bt=$t.length;Gt<Bt;Gt++){const Ut=$t[Gt];St.push(Ut.x,Ut.y,0),wt.push(0,0,1),At.push(Ut.x,Ut.y)}for(let Gt=0,Bt=zt.length;Gt<Bt;Gt++){const Ut=zt[Gt],Vt=Ut[0]+kt,Ht=Ut[1]+kt,Xt=Ut[2]+kt;_t.push(Vt,Ht,Xt),Rt+=3}}}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}toJSON(){const ht=super.toJSON(),xt=this.parameters.shapes;return toJSON(xt,ht)}static fromJSON(ht,xt){const _t=[];for(let St=0,wt=ht.shapes.length;St<wt;St++){const At=xt[ht.shapes[St]];_t.push(At)}return new ShapeGeometry(_t,ht.curveSegments)}}function toJSON(vt,ht){if(ht.shapes=[],Array.isArray(vt))for(let xt=0,_t=vt.length;xt<_t;xt++){const St=vt[xt];ht.shapes.push(St.uuid)}else ht.shapes.push(vt.uuid);return ht}class SphereGeometry extends BufferGeometry{constructor(ht=1,xt=32,_t=16,St=0,wt=Math.PI*2,At=0,Ct=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:ht,widthSegments:xt,heightSegments:_t,phiStart:St,phiLength:wt,thetaStart:At,thetaLength:Ct},xt=Math.max(3,Math.floor(xt)),_t=Math.max(2,Math.floor(_t));const Rt=Math.min(At+Ct,Math.PI);let It=0;const Lt=[],kt=new Vector3,Dt=new Vector3,$t=[],Ot=[],zt=[],Gt=[];for(let Bt=0;Bt<=_t;Bt++){const Ut=[],Vt=Bt/_t;let Ht=0;Bt===0&&At===0?Ht=.5/xt:Bt===_t&&Rt===Math.PI&&(Ht=-.5/xt);for(let Xt=0;Xt<=xt;Xt++){const qt=Xt/xt;kt.x=-ht*Math.cos(St+qt*wt)*Math.sin(At+Vt*Ct),kt.y=ht*Math.cos(At+Vt*Ct),kt.z=ht*Math.sin(St+qt*wt)*Math.sin(At+Vt*Ct),Ot.push(kt.x,kt.y,kt.z),Dt.copy(kt).normalize(),zt.push(Dt.x,Dt.y,Dt.z),Gt.push(qt+Ht,1-Vt),Ut.push(It++)}Lt.push(Ut)}for(let Bt=0;Bt<_t;Bt++)for(let Ut=0;Ut<xt;Ut++){const Vt=Lt[Bt][Ut+1],Ht=Lt[Bt][Ut],Xt=Lt[Bt+1][Ut],qt=Lt[Bt+1][Ut+1];(Bt!==0||At>0)&&$t.push(Vt,Ht,qt),(Bt!==_t-1||Rt<Math.PI)&&$t.push(Ht,Xt,qt)}this.setIndex($t),this.setAttribute("position",new Float32BufferAttribute(Ot,3)),this.setAttribute("normal",new Float32BufferAttribute(zt,3)),this.setAttribute("uv",new Float32BufferAttribute(Gt,2))}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}static fromJSON(ht){return new SphereGeometry(ht.radius,ht.widthSegments,ht.heightSegments,ht.phiStart,ht.phiLength,ht.thetaStart,ht.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(ht=1,xt=0){const _t=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],St=[2,1,0,0,3,2,1,3,0,2,3,1];super(_t,St,ht,xt),this.type="TetrahedronGeometry",this.parameters={radius:ht,detail:xt}}static fromJSON(ht){return new TetrahedronGeometry(ht.radius,ht.detail)}}class TorusGeometry extends BufferGeometry{constructor(ht=1,xt=.4,_t=12,St=48,wt=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:ht,tube:xt,radialSegments:_t,tubularSegments:St,arc:wt},_t=Math.floor(_t),St=Math.floor(St);const At=[],Ct=[],Rt=[],It=[],Lt=new Vector3,kt=new Vector3,Dt=new Vector3;for(let $t=0;$t<=_t;$t++)for(let Ot=0;Ot<=St;Ot++){const zt=Ot/St*wt,Gt=$t/_t*Math.PI*2;kt.x=(ht+xt*Math.cos(Gt))*Math.cos(zt),kt.y=(ht+xt*Math.cos(Gt))*Math.sin(zt),kt.z=xt*Math.sin(Gt),Ct.push(kt.x,kt.y,kt.z),Lt.x=ht*Math.cos(zt),Lt.y=ht*Math.sin(zt),Dt.subVectors(kt,Lt).normalize(),Rt.push(Dt.x,Dt.y,Dt.z),It.push(Ot/St),It.push($t/_t)}for(let $t=1;$t<=_t;$t++)for(let Ot=1;Ot<=St;Ot++){const zt=(St+1)*$t+Ot-1,Gt=(St+1)*($t-1)+Ot-1,Bt=(St+1)*($t-1)+Ot,Ut=(St+1)*$t+Ot;At.push(zt,Gt,Ut),At.push(Gt,Bt,Ut)}this.setIndex(At),this.setAttribute("position",new Float32BufferAttribute(Ct,3)),this.setAttribute("normal",new Float32BufferAttribute(Rt,3)),this.setAttribute("uv",new Float32BufferAttribute(It,2))}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}static fromJSON(ht){return new TorusGeometry(ht.radius,ht.tube,ht.radialSegments,ht.tubularSegments,ht.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(ht=1,xt=.4,_t=64,St=8,wt=2,At=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:ht,tube:xt,tubularSegments:_t,radialSegments:St,p:wt,q:At},_t=Math.floor(_t),St=Math.floor(St);const Ct=[],Rt=[],It=[],Lt=[],kt=new Vector3,Dt=new Vector3,$t=new Vector3,Ot=new Vector3,zt=new Vector3,Gt=new Vector3,Bt=new Vector3;for(let Vt=0;Vt<=_t;++Vt){const Ht=Vt/_t*wt*Math.PI*2;Ut(Ht,wt,At,ht,$t),Ut(Ht+.01,wt,At,ht,Ot),Gt.subVectors(Ot,$t),Bt.addVectors(Ot,$t),zt.crossVectors(Gt,Bt),Bt.crossVectors(zt,Gt),zt.normalize(),Bt.normalize();for(let Xt=0;Xt<=St;++Xt){const qt=Xt/St*Math.PI*2,Kt=-xt*Math.cos(qt),en=xt*Math.sin(qt);kt.x=$t.x+(Kt*Bt.x+en*zt.x),kt.y=$t.y+(Kt*Bt.y+en*zt.y),kt.z=$t.z+(Kt*Bt.z+en*zt.z),Rt.push(kt.x,kt.y,kt.z),Dt.subVectors(kt,$t).normalize(),It.push(Dt.x,Dt.y,Dt.z),Lt.push(Vt/_t),Lt.push(Xt/St)}}for(let Vt=1;Vt<=_t;Vt++)for(let Ht=1;Ht<=St;Ht++){const Xt=(St+1)*(Vt-1)+(Ht-1),qt=(St+1)*Vt+(Ht-1),Kt=(St+1)*Vt+Ht,en=(St+1)*(Vt-1)+Ht;Ct.push(Xt,qt,en),Ct.push(qt,Kt,en)}this.setIndex(Ct),this.setAttribute("position",new Float32BufferAttribute(Rt,3)),this.setAttribute("normal",new Float32BufferAttribute(It,3)),this.setAttribute("uv",new Float32BufferAttribute(Lt,2));function Ut(Vt,Ht,Xt,qt,Kt){const en=Math.cos(Vt),tn=Math.sin(Vt),Qt=Xt/Ht*Vt,sn=Math.cos(Qt);Kt.x=qt*(2+sn)*.5*en,Kt.y=qt*(2+sn)*tn*.5,Kt.z=qt*Math.sin(Qt)*.5}}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}static fromJSON(ht){return new TorusKnotGeometry(ht.radius,ht.tube,ht.tubularSegments,ht.radialSegments,ht.p,ht.q)}}class TubeGeometry extends BufferGeometry{constructor(ht=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),xt=64,_t=1,St=8,wt=!1){super(),this.type="TubeGeometry",this.parameters={path:ht,tubularSegments:xt,radius:_t,radialSegments:St,closed:wt};const At=ht.computeFrenetFrames(xt,wt);this.tangents=At.tangents,this.normals=At.normals,this.binormals=At.binormals;const Ct=new Vector3,Rt=new Vector3,It=new Vector2;let Lt=new Vector3;const kt=[],Dt=[],$t=[],Ot=[];zt(),this.setIndex(Ot),this.setAttribute("position",new Float32BufferAttribute(kt,3)),this.setAttribute("normal",new Float32BufferAttribute(Dt,3)),this.setAttribute("uv",new Float32BufferAttribute($t,2));function zt(){for(let Vt=0;Vt<xt;Vt++)Gt(Vt);Gt(wt===!1?xt:0),Ut(),Bt()}function Gt(Vt){Lt=ht.getPointAt(Vt/xt,Lt);const Ht=At.normals[Vt],Xt=At.binormals[Vt];for(let qt=0;qt<=St;qt++){const Kt=qt/St*Math.PI*2,en=Math.sin(Kt),tn=-Math.cos(Kt);Rt.x=tn*Ht.x+en*Xt.x,Rt.y=tn*Ht.y+en*Xt.y,Rt.z=tn*Ht.z+en*Xt.z,Rt.normalize(),Dt.push(Rt.x,Rt.y,Rt.z),Ct.x=Lt.x+_t*Rt.x,Ct.y=Lt.y+_t*Rt.y,Ct.z=Lt.z+_t*Rt.z,kt.push(Ct.x,Ct.y,Ct.z)}}function Bt(){for(let Vt=1;Vt<=xt;Vt++)for(let Ht=1;Ht<=St;Ht++){const Xt=(St+1)*(Vt-1)+(Ht-1),qt=(St+1)*Vt+(Ht-1),Kt=(St+1)*Vt+Ht,en=(St+1)*(Vt-1)+Ht;Ot.push(Xt,qt,en),Ot.push(qt,Kt,en)}}function Ut(){for(let Vt=0;Vt<=xt;Vt++)for(let Ht=0;Ht<=St;Ht++)It.x=Vt/xt,It.y=Ht/St,$t.push(It.x,It.y)}}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}toJSON(){const ht=super.toJSON();return ht.path=this.parameters.path.toJSON(),ht}static fromJSON(ht){return new TubeGeometry(new Curves[ht.path.type]().fromJSON(ht.path),ht.tubularSegments,ht.radius,ht.radialSegments,ht.closed)}}class WireframeGeometry extends BufferGeometry{constructor(ht=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:ht},ht!==null){const xt=[],_t=new Set,St=new Vector3,wt=new Vector3;if(ht.index!==null){const At=ht.attributes.position,Ct=ht.index;let Rt=ht.groups;Rt.length===0&&(Rt=[{start:0,count:Ct.count,materialIndex:0}]);for(let It=0,Lt=Rt.length;It<Lt;++It){const kt=Rt[It],Dt=kt.start,$t=kt.count;for(let Ot=Dt,zt=Dt+$t;Ot<zt;Ot+=3)for(let Gt=0;Gt<3;Gt++){const Bt=Ct.getX(Ot+Gt),Ut=Ct.getX(Ot+(Gt+1)%3);St.fromBufferAttribute(At,Bt),wt.fromBufferAttribute(At,Ut),isUniqueEdge(St,wt,_t)===!0&&(xt.push(St.x,St.y,St.z),xt.push(wt.x,wt.y,wt.z))}}}else{const At=ht.attributes.position;for(let Ct=0,Rt=At.count/3;Ct<Rt;Ct++)for(let It=0;It<3;It++){const Lt=3*Ct+It,kt=3*Ct+(It+1)%3;St.fromBufferAttribute(At,Lt),wt.fromBufferAttribute(At,kt),isUniqueEdge(St,wt,_t)===!0&&(xt.push(St.x,St.y,St.z),xt.push(wt.x,wt.y,wt.z))}}this.setAttribute("position",new Float32BufferAttribute(xt,3))}}copy(ht){return super.copy(ht),this.parameters=Object.assign({},ht.parameters),this}}function isUniqueEdge(vt,ht,xt){const _t=`${vt.x},${vt.y},${vt.z}-${ht.x},${ht.y},${ht.z}`,St=`${ht.x},${ht.y},${ht.z}-${vt.x},${vt.y},${vt.z}`;return xt.has(_t)===!0||xt.has(St)===!0?!1:(xt.add(_t),xt.add(St),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(ht){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(ht)}copy(ht){return super.copy(ht),this.color.copy(ht.color),this.fog=ht.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(ht){super(ht),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(ht){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(ht)}copy(ht){return super.copy(ht),this.defines={STANDARD:""},this.color.copy(ht.color),this.roughness=ht.roughness,this.metalness=ht.metalness,this.map=ht.map,this.lightMap=ht.lightMap,this.lightMapIntensity=ht.lightMapIntensity,this.aoMap=ht.aoMap,this.aoMapIntensity=ht.aoMapIntensity,this.emissive.copy(ht.emissive),this.emissiveMap=ht.emissiveMap,this.emissiveIntensity=ht.emissiveIntensity,this.bumpMap=ht.bumpMap,this.bumpScale=ht.bumpScale,this.normalMap=ht.normalMap,this.normalMapType=ht.normalMapType,this.normalScale.copy(ht.normalScale),this.displacementMap=ht.displacementMap,this.displacementScale=ht.displacementScale,this.displacementBias=ht.displacementBias,this.roughnessMap=ht.roughnessMap,this.metalnessMap=ht.metalnessMap,this.alphaMap=ht.alphaMap,this.envMap=ht.envMap,this.envMapRotation.copy(ht.envMapRotation),this.envMapIntensity=ht.envMapIntensity,this.wireframe=ht.wireframe,this.wireframeLinewidth=ht.wireframeLinewidth,this.wireframeLinecap=ht.wireframeLinecap,this.wireframeLinejoin=ht.wireframeLinejoin,this.flatShading=ht.flatShading,this.fog=ht.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(ht){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(xt){this.ior=(1+.4*xt)/(1-.4*xt)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(ht)}get anisotropy(){return this._anisotropy}set anisotropy(ht){this._anisotropy>0!=ht>0&&this.version++,this._anisotropy=ht}get clearcoat(){return this._clearcoat}set clearcoat(ht){this._clearcoat>0!=ht>0&&this.version++,this._clearcoat=ht}get iridescence(){return this._iridescence}set iridescence(ht){this._iridescence>0!=ht>0&&this.version++,this._iridescence=ht}get dispersion(){return this._dispersion}set dispersion(ht){this._dispersion>0!=ht>0&&this.version++,this._dispersion=ht}get sheen(){return this._sheen}set sheen(ht){this._sheen>0!=ht>0&&this.version++,this._sheen=ht}get transmission(){return this._transmission}set transmission(ht){this._transmission>0!=ht>0&&this.version++,this._transmission=ht}copy(ht){return super.copy(ht),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=ht.anisotropy,this.anisotropyRotation=ht.anisotropyRotation,this.anisotropyMap=ht.anisotropyMap,this.clearcoat=ht.clearcoat,this.clearcoatMap=ht.clearcoatMap,this.clearcoatRoughness=ht.clearcoatRoughness,this.clearcoatRoughnessMap=ht.clearcoatRoughnessMap,this.clearcoatNormalMap=ht.clearcoatNormalMap,this.clearcoatNormalScale.copy(ht.clearcoatNormalScale),this.dispersion=ht.dispersion,this.ior=ht.ior,this.iridescence=ht.iridescence,this.iridescenceMap=ht.iridescenceMap,this.iridescenceIOR=ht.iridescenceIOR,this.iridescenceThicknessRange=[...ht.iridescenceThicknessRange],this.iridescenceThicknessMap=ht.iridescenceThicknessMap,this.sheen=ht.sheen,this.sheenColor.copy(ht.sheenColor),this.sheenColorMap=ht.sheenColorMap,this.sheenRoughness=ht.sheenRoughness,this.sheenRoughnessMap=ht.sheenRoughnessMap,this.transmission=ht.transmission,this.transmissionMap=ht.transmissionMap,this.thickness=ht.thickness,this.thicknessMap=ht.thicknessMap,this.attenuationDistance=ht.attenuationDistance,this.attenuationColor.copy(ht.attenuationColor),this.specularIntensity=ht.specularIntensity,this.specularIntensityMap=ht.specularIntensityMap,this.specularColor.copy(ht.specularColor),this.specularColorMap=ht.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(ht){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(ht)}copy(ht){return super.copy(ht),this.color.copy(ht.color),this.specular.copy(ht.specular),this.shininess=ht.shininess,this.map=ht.map,this.lightMap=ht.lightMap,this.lightMapIntensity=ht.lightMapIntensity,this.aoMap=ht.aoMap,this.aoMapIntensity=ht.aoMapIntensity,this.emissive.copy(ht.emissive),this.emissiveMap=ht.emissiveMap,this.emissiveIntensity=ht.emissiveIntensity,this.bumpMap=ht.bumpMap,this.bumpScale=ht.bumpScale,this.normalMap=ht.normalMap,this.normalMapType=ht.normalMapType,this.normalScale.copy(ht.normalScale),this.displacementMap=ht.displacementMap,this.displacementScale=ht.displacementScale,this.displacementBias=ht.displacementBias,this.specularMap=ht.specularMap,this.alphaMap=ht.alphaMap,this.envMap=ht.envMap,this.envMapRotation.copy(ht.envMapRotation),this.combine=ht.combine,this.reflectivity=ht.reflectivity,this.refractionRatio=ht.refractionRatio,this.wireframe=ht.wireframe,this.wireframeLinewidth=ht.wireframeLinewidth,this.wireframeLinecap=ht.wireframeLinecap,this.wireframeLinejoin=ht.wireframeLinejoin,this.flatShading=ht.flatShading,this.fog=ht.fog,this}}class MeshToonMaterial extends Material{constructor(ht){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(ht)}copy(ht){return super.copy(ht),this.color.copy(ht.color),this.map=ht.map,this.gradientMap=ht.gradientMap,this.lightMap=ht.lightMap,this.lightMapIntensity=ht.lightMapIntensity,this.aoMap=ht.aoMap,this.aoMapIntensity=ht.aoMapIntensity,this.emissive.copy(ht.emissive),this.emissiveMap=ht.emissiveMap,this.emissiveIntensity=ht.emissiveIntensity,this.bumpMap=ht.bumpMap,this.bumpScale=ht.bumpScale,this.normalMap=ht.normalMap,this.normalMapType=ht.normalMapType,this.normalScale.copy(ht.normalScale),this.displacementMap=ht.displacementMap,this.displacementScale=ht.displacementScale,this.displacementBias=ht.displacementBias,this.alphaMap=ht.alphaMap,this.wireframe=ht.wireframe,this.wireframeLinewidth=ht.wireframeLinewidth,this.wireframeLinecap=ht.wireframeLinecap,this.wireframeLinejoin=ht.wireframeLinejoin,this.fog=ht.fog,this}}class MeshNormalMaterial extends Material{constructor(ht){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(ht)}copy(ht){return super.copy(ht),this.bumpMap=ht.bumpMap,this.bumpScale=ht.bumpScale,this.normalMap=ht.normalMap,this.normalMapType=ht.normalMapType,this.normalScale.copy(ht.normalScale),this.displacementMap=ht.displacementMap,this.displacementScale=ht.displacementScale,this.displacementBias=ht.displacementBias,this.wireframe=ht.wireframe,this.wireframeLinewidth=ht.wireframeLinewidth,this.flatShading=ht.flatShading,this}}class MeshLambertMaterial extends Material{constructor(ht){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(ht)}copy(ht){return super.copy(ht),this.color.copy(ht.color),this.map=ht.map,this.lightMap=ht.lightMap,this.lightMapIntensity=ht.lightMapIntensity,this.aoMap=ht.aoMap,this.aoMapIntensity=ht.aoMapIntensity,this.emissive.copy(ht.emissive),this.emissiveMap=ht.emissiveMap,this.emissiveIntensity=ht.emissiveIntensity,this.bumpMap=ht.bumpMap,this.bumpScale=ht.bumpScale,this.normalMap=ht.normalMap,this.normalMapType=ht.normalMapType,this.normalScale.copy(ht.normalScale),this.displacementMap=ht.displacementMap,this.displacementScale=ht.displacementScale,this.displacementBias=ht.displacementBias,this.specularMap=ht.specularMap,this.alphaMap=ht.alphaMap,this.envMap=ht.envMap,this.envMapRotation.copy(ht.envMapRotation),this.combine=ht.combine,this.reflectivity=ht.reflectivity,this.refractionRatio=ht.refractionRatio,this.wireframe=ht.wireframe,this.wireframeLinewidth=ht.wireframeLinewidth,this.wireframeLinecap=ht.wireframeLinecap,this.wireframeLinejoin=ht.wireframeLinejoin,this.flatShading=ht.flatShading,this.fog=ht.fog,this}}class MeshMatcapMaterial extends Material{constructor(ht){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(ht)}copy(ht){return super.copy(ht),this.defines={MATCAP:""},this.color.copy(ht.color),this.matcap=ht.matcap,this.map=ht.map,this.bumpMap=ht.bumpMap,this.bumpScale=ht.bumpScale,this.normalMap=ht.normalMap,this.normalMapType=ht.normalMapType,this.normalScale.copy(ht.normalScale),this.displacementMap=ht.displacementMap,this.displacementScale=ht.displacementScale,this.displacementBias=ht.displacementBias,this.alphaMap=ht.alphaMap,this.flatShading=ht.flatShading,this.fog=ht.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(ht){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(ht)}copy(ht){return super.copy(ht),this.scale=ht.scale,this.dashSize=ht.dashSize,this.gapSize=ht.gapSize,this}}function convertArray(vt,ht,xt){return!vt||!xt&&vt.constructor===ht?vt:typeof ht.BYTES_PER_ELEMENT=="number"?new ht(vt):Array.prototype.slice.call(vt)}function isTypedArray(vt){return ArrayBuffer.isView(vt)&&!(vt instanceof DataView)}function getKeyframeOrder(vt){function ht(St,wt){return vt[St]-vt[wt]}const xt=vt.length,_t=new Array(xt);for(let St=0;St!==xt;++St)_t[St]=St;return _t.sort(ht),_t}function sortedArray(vt,ht,xt){const _t=vt.length,St=new vt.constructor(_t);for(let wt=0,At=0;At!==_t;++wt){const Ct=xt[wt]*ht;for(let Rt=0;Rt!==ht;++Rt)St[At++]=vt[Ct+Rt]}return St}function flattenJSON(vt,ht,xt,_t){let St=1,wt=vt[0];for(;wt!==void 0&&wt[_t]===void 0;)wt=vt[St++];if(wt===void 0)return;let At=wt[_t];if(At!==void 0)if(Array.isArray(At))do At=wt[_t],At!==void 0&&(ht.push(wt.time),xt.push.apply(xt,At)),wt=vt[St++];while(wt!==void 0);else if(At.toArray!==void 0)do At=wt[_t],At!==void 0&&(ht.push(wt.time),At.toArray(xt,xt.length)),wt=vt[St++];while(wt!==void 0);else do At=wt[_t],At!==void 0&&(ht.push(wt.time),xt.push(At)),wt=vt[St++];while(wt!==void 0)}function subclip(vt,ht,xt,_t,St=30){const wt=vt.clone();wt.name=ht;const At=[];for(let Rt=0;Rt<wt.tracks.length;++Rt){const It=wt.tracks[Rt],Lt=It.getValueSize(),kt=[],Dt=[];for(let $t=0;$t<It.times.length;++$t){const Ot=It.times[$t]*St;if(!(Ot<xt||Ot>=_t)){kt.push(It.times[$t]);for(let zt=0;zt<Lt;++zt)Dt.push(It.values[$t*Lt+zt])}}kt.length!==0&&(It.times=convertArray(kt,It.times.constructor),It.values=convertArray(Dt,It.values.constructor),At.push(It))}wt.tracks=At;let Ct=1/0;for(let Rt=0;Rt<wt.tracks.length;++Rt)Ct>wt.tracks[Rt].times[0]&&(Ct=wt.tracks[Rt].times[0]);for(let Rt=0;Rt<wt.tracks.length;++Rt)wt.tracks[Rt].shift(-1*Ct);return wt.resetDuration(),wt}function makeClipAdditive(vt,ht=0,xt=vt,_t=30){_t<=0&&(_t=30);const St=xt.tracks.length,wt=ht/_t;for(let At=0;At<St;++At){const Ct=xt.tracks[At],Rt=Ct.ValueTypeName;if(Rt==="bool"||Rt==="string")continue;const It=vt.tracks.find(function(Bt){return Bt.name===Ct.name&&Bt.ValueTypeName===Rt});if(It===void 0)continue;let Lt=0;const kt=Ct.getValueSize();Ct.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Lt=kt/3);let Dt=0;const $t=It.getValueSize();It.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Dt=$t/3);const Ot=Ct.times.length-1;let zt;if(wt<=Ct.times[0]){const Bt=Lt,Ut=kt-Lt;zt=Ct.values.slice(Bt,Ut)}else if(wt>=Ct.times[Ot]){const Bt=Ot*kt+Lt,Ut=Bt+kt-Lt;zt=Ct.values.slice(Bt,Ut)}else{const Bt=Ct.createInterpolant(),Ut=Lt,Vt=kt-Lt;Bt.evaluate(wt),zt=Bt.resultBuffer.slice(Ut,Vt)}Rt==="quaternion"&&new Quaternion().fromArray(zt).normalize().conjugate().toArray(zt);const Gt=It.times.length;for(let Bt=0;Bt<Gt;++Bt){const Ut=Bt*$t+Dt;if(Rt==="quaternion")Quaternion.multiplyQuaternionsFlat(It.values,Ut,zt,0,It.values,Ut);else{const Vt=$t-Dt*2;for(let Ht=0;Ht<Vt;++Ht)It.values[Ut+Ht]-=zt[Ht]}}}return vt.blendMode=AdditiveAnimationBlendMode,vt}const AnimationUtils={convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(ht,xt,_t,St){this.parameterPositions=ht,this._cachedIndex=0,this.resultBuffer=St!==void 0?St:new xt.constructor(_t),this.sampleValues=xt,this.valueSize=_t,this.settings=null,this.DefaultSettings_={}}evaluate(ht){const xt=this.parameterPositions;let _t=this._cachedIndex,St=xt[_t],wt=xt[_t-1];e:{t:{let At;n:{r:if(!(ht<St)){for(let Ct=_t+2;;){if(St===void 0){if(ht<wt)break r;return _t=xt.length,this._cachedIndex=_t,this.copySampleValue_(_t-1)}if(_t===Ct)break;if(wt=St,St=xt[++_t],ht<St)break t}At=xt.length;break n}if(!(ht>=wt)){const Ct=xt[1];ht<Ct&&(_t=2,wt=Ct);for(let Rt=_t-2;;){if(wt===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(_t===Rt)break;if(St=wt,wt=xt[--_t-1],ht>=wt)break t}At=_t,_t=0;break n}break e}for(;_t<At;){const Ct=_t+At>>>1;ht<xt[Ct]?At=Ct:_t=Ct+1}if(St=xt[_t],wt=xt[_t-1],wt===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(St===void 0)return _t=xt.length,this._cachedIndex=_t,this.copySampleValue_(_t-1)}this._cachedIndex=_t,this.intervalChanged_(_t,wt,St)}return this.interpolate_(_t,wt,ht,St)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(ht){const xt=this.resultBuffer,_t=this.sampleValues,St=this.valueSize,wt=ht*St;for(let At=0;At!==St;++At)xt[At]=_t[wt+At];return xt}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(ht,xt,_t,St){super(ht,xt,_t,St),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(ht,xt,_t){const St=this.parameterPositions;let wt=ht-2,At=ht+1,Ct=St[wt],Rt=St[At];if(Ct===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:wt=ht,Ct=2*xt-_t;break;case WrapAroundEnding:wt=St.length-2,Ct=xt+St[wt]-St[wt+1];break;default:wt=ht,Ct=_t}if(Rt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:At=ht,Rt=2*_t-xt;break;case WrapAroundEnding:At=1,Rt=_t+St[1]-St[0];break;default:At=ht-1,Rt=xt}const It=(_t-xt)*.5,Lt=this.valueSize;this._weightPrev=It/(xt-Ct),this._weightNext=It/(Rt-_t),this._offsetPrev=wt*Lt,this._offsetNext=At*Lt}interpolate_(ht,xt,_t,St){const wt=this.resultBuffer,At=this.sampleValues,Ct=this.valueSize,Rt=ht*Ct,It=Rt-Ct,Lt=this._offsetPrev,kt=this._offsetNext,Dt=this._weightPrev,$t=this._weightNext,Ot=(_t-xt)/(St-xt),zt=Ot*Ot,Gt=zt*Ot,Bt=-Dt*Gt+2*Dt*zt-Dt*Ot,Ut=(1+Dt)*Gt+(-1.5-2*Dt)*zt+(-.5+Dt)*Ot+1,Vt=(-1-$t)*Gt+(1.5+$t)*zt+.5*Ot,Ht=$t*Gt-$t*zt;for(let Xt=0;Xt!==Ct;++Xt)wt[Xt]=Bt*At[Lt+Xt]+Ut*At[It+Xt]+Vt*At[Rt+Xt]+Ht*At[kt+Xt];return wt}}class LinearInterpolant extends Interpolant{constructor(ht,xt,_t,St){super(ht,xt,_t,St)}interpolate_(ht,xt,_t,St){const wt=this.resultBuffer,At=this.sampleValues,Ct=this.valueSize,Rt=ht*Ct,It=Rt-Ct,Lt=(_t-xt)/(St-xt),kt=1-Lt;for(let Dt=0;Dt!==Ct;++Dt)wt[Dt]=At[It+Dt]*kt+At[Rt+Dt]*Lt;return wt}}class DiscreteInterpolant extends Interpolant{constructor(ht,xt,_t,St){super(ht,xt,_t,St)}interpolate_(ht){return this.copySampleValue_(ht-1)}}class KeyframeTrack{constructor(ht,xt,_t,St){if(ht===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(xt===void 0||xt.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+ht);this.name=ht,this.times=convertArray(xt,this.TimeBufferType),this.values=convertArray(_t,this.ValueBufferType),this.setInterpolation(St||this.DefaultInterpolation)}static toJSON(ht){const xt=ht.constructor;let _t;if(xt.toJSON!==this.toJSON)_t=xt.toJSON(ht);else{_t={name:ht.name,times:convertArray(ht.times,Array),values:convertArray(ht.values,Array)};const St=ht.getInterpolation();St!==ht.DefaultInterpolation&&(_t.interpolation=St)}return _t.type=ht.ValueTypeName,_t}InterpolantFactoryMethodDiscrete(ht){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),ht)}InterpolantFactoryMethodLinear(ht){return new LinearInterpolant(this.times,this.values,this.getValueSize(),ht)}InterpolantFactoryMethodSmooth(ht){return new CubicInterpolant(this.times,this.values,this.getValueSize(),ht)}setInterpolation(ht){let xt;switch(ht){case InterpolateDiscrete:xt=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:xt=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:xt=this.InterpolantFactoryMethodSmooth;break}if(xt===void 0){const _t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(ht!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(_t);return console.warn("THREE.KeyframeTrack:",_t),this}return this.createInterpolant=xt,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(ht){if(ht!==0){const xt=this.times;for(let _t=0,St=xt.length;_t!==St;++_t)xt[_t]+=ht}return this}scale(ht){if(ht!==1){const xt=this.times;for(let _t=0,St=xt.length;_t!==St;++_t)xt[_t]*=ht}return this}trim(ht,xt){const _t=this.times,St=_t.length;let wt=0,At=St-1;for(;wt!==St&&_t[wt]<ht;)++wt;for(;At!==-1&&_t[At]>xt;)--At;if(++At,wt!==0||At!==St){wt>=At&&(At=Math.max(At,1),wt=At-1);const Ct=this.getValueSize();this.times=_t.slice(wt,At),this.values=this.values.slice(wt*Ct,At*Ct)}return this}validate(){let ht=!0;const xt=this.getValueSize();xt-Math.floor(xt)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),ht=!1);const _t=this.times,St=this.values,wt=_t.length;wt===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),ht=!1);let At=null;for(let Ct=0;Ct!==wt;Ct++){const Rt=_t[Ct];if(typeof Rt=="number"&&isNaN(Rt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,Ct,Rt),ht=!1;break}if(At!==null&&At>Rt){console.error("THREE.KeyframeTrack: Out of order keys.",this,Ct,Rt,At),ht=!1;break}At=Rt}if(St!==void 0&&isTypedArray(St))for(let Ct=0,Rt=St.length;Ct!==Rt;++Ct){const It=St[Ct];if(isNaN(It)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,Ct,It),ht=!1;break}}return ht}optimize(){const ht=this.times.slice(),xt=this.values.slice(),_t=this.getValueSize(),St=this.getInterpolation()===InterpolateSmooth,wt=ht.length-1;let At=1;for(let Ct=1;Ct<wt;++Ct){let Rt=!1;const It=ht[Ct],Lt=ht[Ct+1];if(It!==Lt&&(Ct!==1||It!==ht[0]))if(St)Rt=!0;else{const kt=Ct*_t,Dt=kt-_t,$t=kt+_t;for(let Ot=0;Ot!==_t;++Ot){const zt=xt[kt+Ot];if(zt!==xt[Dt+Ot]||zt!==xt[$t+Ot]){Rt=!0;break}}}if(Rt){if(Ct!==At){ht[At]=ht[Ct];const kt=Ct*_t,Dt=At*_t;for(let $t=0;$t!==_t;++$t)xt[Dt+$t]=xt[kt+$t]}++At}}if(wt>0){ht[At]=ht[wt];for(let Ct=wt*_t,Rt=At*_t,It=0;It!==_t;++It)xt[Rt+It]=xt[Ct+It];++At}return At!==ht.length?(this.times=ht.slice(0,At),this.values=xt.slice(0,At*_t)):(this.times=ht,this.values=xt),this}clone(){const ht=this.times.slice(),xt=this.values.slice(),_t=this.constructor,St=new _t(this.name,ht,xt);return St.createInterpolant=this.createInterpolant,St}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{constructor(ht,xt,_t){super(ht,xt,_t)}}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(ht,xt,_t,St){super(ht,xt,_t,St)}interpolate_(ht,xt,_t,St){const wt=this.resultBuffer,At=this.sampleValues,Ct=this.valueSize,Rt=(_t-xt)/(St-xt);let It=ht*Ct;for(let Lt=It+Ct;It!==Lt;It+=4)Quaternion.slerpFlat(wt,0,At,It-Ct,At,It,Rt);return wt}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(ht){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),ht)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{constructor(ht,xt,_t){super(ht,xt,_t)}}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(ht="",xt=-1,_t=[],St=NormalAnimationBlendMode){this.name=ht,this.tracks=_t,this.duration=xt,this.blendMode=St,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(ht){const xt=[],_t=ht.tracks,St=1/(ht.fps||1);for(let At=0,Ct=_t.length;At!==Ct;++At)xt.push(parseKeyframeTrack(_t[At]).scale(St));const wt=new this(ht.name,ht.duration,xt,ht.blendMode);return wt.uuid=ht.uuid,wt}static toJSON(ht){const xt=[],_t=ht.tracks,St={name:ht.name,duration:ht.duration,tracks:xt,uuid:ht.uuid,blendMode:ht.blendMode};for(let wt=0,At=_t.length;wt!==At;++wt)xt.push(KeyframeTrack.toJSON(_t[wt]));return St}static CreateFromMorphTargetSequence(ht,xt,_t,St){const wt=xt.length,At=[];for(let Ct=0;Ct<wt;Ct++){let Rt=[],It=[];Rt.push((Ct+wt-1)%wt,Ct,(Ct+1)%wt),It.push(0,1,0);const Lt=getKeyframeOrder(Rt);Rt=sortedArray(Rt,1,Lt),It=sortedArray(It,1,Lt),!St&&Rt[0]===0&&(Rt.push(wt),It.push(It[0])),At.push(new NumberKeyframeTrack(".morphTargetInfluences["+xt[Ct].name+"]",Rt,It).scale(1/_t))}return new this(ht,-1,At)}static findByName(ht,xt){let _t=ht;if(!Array.isArray(ht)){const St=ht;_t=St.geometry&&St.geometry.animations||St.animations}for(let St=0;St<_t.length;St++)if(_t[St].name===xt)return _t[St];return null}static CreateClipsFromMorphTargetSequences(ht,xt,_t){const St={},wt=/^([\w-]*?)([\d]+)$/;for(let Ct=0,Rt=ht.length;Ct<Rt;Ct++){const It=ht[Ct],Lt=It.name.match(wt);if(Lt&&Lt.length>1){const kt=Lt[1];let Dt=St[kt];Dt||(St[kt]=Dt=[]),Dt.push(It)}}const At=[];for(const Ct in St)At.push(this.CreateFromMorphTargetSequence(Ct,St[Ct],xt,_t));return At}static parseAnimation(ht,xt){if(!ht)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const _t=function(kt,Dt,$t,Ot,zt){if($t.length!==0){const Gt=[],Bt=[];flattenJSON($t,Gt,Bt,Ot),Gt.length!==0&&zt.push(new kt(Dt,Gt,Bt))}},St=[],wt=ht.name||"default",At=ht.fps||30,Ct=ht.blendMode;let Rt=ht.length||-1;const It=ht.hierarchy||[];for(let kt=0;kt<It.length;kt++){const Dt=It[kt].keys;if(!(!Dt||Dt.length===0))if(Dt[0].morphTargets){const $t={};let Ot;for(Ot=0;Ot<Dt.length;Ot++)if(Dt[Ot].morphTargets)for(let zt=0;zt<Dt[Ot].morphTargets.length;zt++)$t[Dt[Ot].morphTargets[zt]]=-1;for(const zt in $t){const Gt=[],Bt=[];for(let Ut=0;Ut!==Dt[Ot].morphTargets.length;++Ut){const Vt=Dt[Ot];Gt.push(Vt.time),Bt.push(Vt.morphTarget===zt?1:0)}St.push(new NumberKeyframeTrack(".morphTargetInfluence["+zt+"]",Gt,Bt))}Rt=$t.length*At}else{const $t=".bones["+xt[kt].name+"]";_t(VectorKeyframeTrack,$t+".position",Dt,"pos",St),_t(QuaternionKeyframeTrack,$t+".quaternion",Dt,"rot",St),_t(VectorKeyframeTrack,$t+".scale",Dt,"scl",St)}}return St.length===0?null:new this(wt,Rt,St,Ct)}resetDuration(){const ht=this.tracks;let xt=0;for(let _t=0,St=ht.length;_t!==St;++_t){const wt=this.tracks[_t];xt=Math.max(xt,wt.times[wt.times.length-1])}return this.duration=xt,this}trim(){for(let ht=0;ht<this.tracks.length;ht++)this.tracks[ht].trim(0,this.duration);return this}validate(){let ht=!0;for(let xt=0;xt<this.tracks.length;xt++)ht=ht&&this.tracks[xt].validate();return ht}optimize(){for(let ht=0;ht<this.tracks.length;ht++)this.tracks[ht].optimize();return this}clone(){const ht=[];for(let xt=0;xt<this.tracks.length;xt++)ht.push(this.tracks[xt].clone());return new this.constructor(this.name,this.duration,ht,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(vt){switch(vt.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+vt)}function parseKeyframeTrack(vt){if(vt.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const ht=getTrackTypeForValueTypeName(vt.type);if(vt.times===void 0){const xt=[],_t=[];flattenJSON(vt.keys,xt,_t,"value"),vt.times=xt,vt.values=_t}return ht.parse!==void 0?ht.parse(vt):new ht(vt.name,vt.times,vt.values,vt.interpolation)}const Cache={enabled:!1,files:{},add:function(vt,ht){this.enabled!==!1&&(this.files[vt]=ht)},get:function(vt){if(this.enabled!==!1)return this.files[vt]},remove:function(vt){delete this.files[vt]},clear:function(){this.files={}}};class LoadingManager{constructor(ht,xt,_t){const St=this;let wt=!1,At=0,Ct=0,Rt;const It=[];this.onStart=void 0,this.onLoad=ht,this.onProgress=xt,this.onError=_t,this.itemStart=function(Lt){Ct++,wt===!1&&St.onStart!==void 0&&St.onStart(Lt,At,Ct),wt=!0},this.itemEnd=function(Lt){At++,St.onProgress!==void 0&&St.onProgress(Lt,At,Ct),At===Ct&&(wt=!1,St.onLoad!==void 0&&St.onLoad())},this.itemError=function(Lt){St.onError!==void 0&&St.onError(Lt)},this.resolveURL=function(Lt){return Rt?Rt(Lt):Lt},this.setURLModifier=function(Lt){return Rt=Lt,this},this.addHandler=function(Lt,kt){return It.push(Lt,kt),this},this.removeHandler=function(Lt){const kt=It.indexOf(Lt);return kt!==-1&&It.splice(kt,2),this},this.getHandler=function(Lt){for(let kt=0,Dt=It.length;kt<Dt;kt+=2){const $t=It[kt],Ot=It[kt+1];if($t.global&&($t.lastIndex=0),$t.test(Lt))return Ot}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(ht){this.manager=ht!==void 0?ht:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(ht,xt){const _t=this;return new Promise(function(St,wt){_t.load(ht,St,xt,wt)})}parse(){}setCrossOrigin(ht){return this.crossOrigin=ht,this}setWithCredentials(ht){return this.withCredentials=ht,this}setPath(ht){return this.path=ht,this}setResourcePath(ht){return this.resourcePath=ht,this}setRequestHeader(ht){return this.requestHeader=ht,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(ht,xt){super(ht),this.response=xt}}class FileLoader extends Loader{constructor(ht){super(ht)}load(ht,xt,_t,St){ht===void 0&&(ht=""),this.path!==void 0&&(ht=this.path+ht),ht=this.manager.resolveURL(ht);const wt=Cache.get(ht);if(wt!==void 0)return this.manager.itemStart(ht),setTimeout(()=>{xt&&xt(wt),this.manager.itemEnd(ht)},0),wt;if(loading[ht]!==void 0){loading[ht].push({onLoad:xt,onProgress:_t,onError:St});return}loading[ht]=[],loading[ht].push({onLoad:xt,onProgress:_t,onError:St});const At=new Request(ht,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),Ct=this.mimeType,Rt=this.responseType;fetch(At).then(It=>{if(It.status===200||It.status===0){if(It.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||It.body===void 0||It.body.getReader===void 0)return It;const Lt=loading[ht],kt=It.body.getReader(),Dt=It.headers.get("X-File-Size")||It.headers.get("Content-Length"),$t=Dt?parseInt(Dt):0,Ot=$t!==0;let zt=0;const Gt=new ReadableStream({start(Bt){Ut();function Ut(){kt.read().then(({done:Vt,value:Ht})=>{if(Vt)Bt.close();else{zt+=Ht.byteLength;const Xt=new ProgressEvent("progress",{lengthComputable:Ot,loaded:zt,total:$t});for(let qt=0,Kt=Lt.length;qt<Kt;qt++){const en=Lt[qt];en.onProgress&&en.onProgress(Xt)}Bt.enqueue(Ht),Ut()}},Vt=>{Bt.error(Vt)})}}});return new Response(Gt)}else throw new HttpError(`fetch for "${It.url}" responded with ${It.status}: ${It.statusText}`,It)}).then(It=>{switch(Rt){case"arraybuffer":return It.arrayBuffer();case"blob":return It.blob();case"document":return It.text().then(Lt=>new DOMParser().parseFromString(Lt,Ct));case"json":return It.json();default:if(Ct===void 0)return It.text();{const kt=/charset="?([^;"\s]*)"?/i.exec(Ct),Dt=kt&&kt[1]?kt[1].toLowerCase():void 0,$t=new TextDecoder(Dt);return It.arrayBuffer().then(Ot=>$t.decode(Ot))}}}).then(It=>{Cache.add(ht,It);const Lt=loading[ht];delete loading[ht];for(let kt=0,Dt=Lt.length;kt<Dt;kt++){const $t=Lt[kt];$t.onLoad&&$t.onLoad(It)}}).catch(It=>{const Lt=loading[ht];if(Lt===void 0)throw this.manager.itemError(ht),It;delete loading[ht];for(let kt=0,Dt=Lt.length;kt<Dt;kt++){const $t=Lt[kt];$t.onError&&$t.onError(It)}this.manager.itemError(ht)}).finally(()=>{this.manager.itemEnd(ht)}),this.manager.itemStart(ht)}setResponseType(ht){return this.responseType=ht,this}setMimeType(ht){return this.mimeType=ht,this}}class AnimationLoader extends Loader{constructor(ht){super(ht)}load(ht,xt,_t,St){const wt=this,At=new FileLoader(this.manager);At.setPath(this.path),At.setRequestHeader(this.requestHeader),At.setWithCredentials(this.withCredentials),At.load(ht,function(Ct){try{xt(wt.parse(JSON.parse(Ct)))}catch(Rt){St?St(Rt):console.error(Rt),wt.manager.itemError(ht)}},_t,St)}parse(ht){const xt=[];for(let _t=0;_t<ht.length;_t++){const St=AnimationClip.parse(ht[_t]);xt.push(St)}return xt}}class CompressedTextureLoader extends Loader{constructor(ht){super(ht)}load(ht,xt,_t,St){const wt=this,At=[],Ct=new CompressedTexture,Rt=new FileLoader(this.manager);Rt.setPath(this.path),Rt.setResponseType("arraybuffer"),Rt.setRequestHeader(this.requestHeader),Rt.setWithCredentials(wt.withCredentials);let It=0;function Lt(kt){Rt.load(ht[kt],function(Dt){const $t=wt.parse(Dt,!0);At[kt]={width:$t.width,height:$t.height,format:$t.format,mipmaps:$t.mipmaps},It+=1,It===6&&($t.mipmapCount===1&&(Ct.minFilter=LinearFilter),Ct.image=At,Ct.format=$t.format,Ct.needsUpdate=!0,xt&&xt(Ct))},_t,St)}if(Array.isArray(ht))for(let kt=0,Dt=ht.length;kt<Dt;++kt)Lt(kt);else Rt.load(ht,function(kt){const Dt=wt.parse(kt,!0);if(Dt.isCubemap){const $t=Dt.mipmaps.length/Dt.mipmapCount;for(let Ot=0;Ot<$t;Ot++){At[Ot]={mipmaps:[]};for(let zt=0;zt<Dt.mipmapCount;zt++)At[Ot].mipmaps.push(Dt.mipmaps[Ot*Dt.mipmapCount+zt]),At[Ot].format=Dt.format,At[Ot].width=Dt.width,At[Ot].height=Dt.height}Ct.image=At}else Ct.image.width=Dt.width,Ct.image.height=Dt.height,Ct.mipmaps=Dt.mipmaps;Dt.mipmapCount===1&&(Ct.minFilter=LinearFilter),Ct.format=Dt.format,Ct.needsUpdate=!0,xt&&xt(Ct)},_t,St);return Ct}}class ImageLoader extends Loader{constructor(ht){super(ht)}load(ht,xt,_t,St){this.path!==void 0&&(ht=this.path+ht),ht=this.manager.resolveURL(ht);const wt=this,At=Cache.get(ht);if(At!==void 0)return wt.manager.itemStart(ht),setTimeout(function(){xt&&xt(At),wt.manager.itemEnd(ht)},0),At;const Ct=createElementNS("img");function Rt(){Lt(),Cache.add(ht,this),xt&&xt(this),wt.manager.itemEnd(ht)}function It(kt){Lt(),St&&St(kt),wt.manager.itemError(ht),wt.manager.itemEnd(ht)}function Lt(){Ct.removeEventListener("load",Rt,!1),Ct.removeEventListener("error",It,!1)}return Ct.addEventListener("load",Rt,!1),Ct.addEventListener("error",It,!1),ht.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(Ct.crossOrigin=this.crossOrigin),wt.manager.itemStart(ht),Ct.src=ht,Ct}}class CubeTextureLoader extends Loader{constructor(ht){super(ht)}load(ht,xt,_t,St){const wt=new CubeTexture;wt.colorSpace=SRGBColorSpace;const At=new ImageLoader(this.manager);At.setCrossOrigin(this.crossOrigin),At.setPath(this.path);let Ct=0;function Rt(It){At.load(ht[It],function(Lt){wt.images[It]=Lt,Ct++,Ct===6&&(wt.needsUpdate=!0,xt&&xt(wt))},void 0,St)}for(let It=0;It<ht.length;++It)Rt(It);return wt}}class DataTextureLoader extends Loader{constructor(ht){super(ht)}load(ht,xt,_t,St){const wt=this,At=new DataTexture,Ct=new FileLoader(this.manager);return Ct.setResponseType("arraybuffer"),Ct.setRequestHeader(this.requestHeader),Ct.setPath(this.path),Ct.setWithCredentials(wt.withCredentials),Ct.load(ht,function(Rt){let It;try{It=wt.parse(Rt)}catch(Lt){if(St!==void 0)St(Lt);else{console.error(Lt);return}}It.image!==void 0?At.image=It.image:It.data!==void 0&&(At.image.width=It.width,At.image.height=It.height,At.image.data=It.data),At.wrapS=It.wrapS!==void 0?It.wrapS:ClampToEdgeWrapping,At.wrapT=It.wrapT!==void 0?It.wrapT:ClampToEdgeWrapping,At.magFilter=It.magFilter!==void 0?It.magFilter:LinearFilter,At.minFilter=It.minFilter!==void 0?It.minFilter:LinearFilter,At.anisotropy=It.anisotropy!==void 0?It.anisotropy:1,It.colorSpace!==void 0&&(At.colorSpace=It.colorSpace),It.flipY!==void 0&&(At.flipY=It.flipY),It.format!==void 0&&(At.format=It.format),It.type!==void 0&&(At.type=It.type),It.mipmaps!==void 0&&(At.mipmaps=It.mipmaps,At.minFilter=LinearMipmapLinearFilter),It.mipmapCount===1&&(At.minFilter=LinearFilter),It.generateMipmaps!==void 0&&(At.generateMipmaps=It.generateMipmaps),At.needsUpdate=!0,xt&&xt(At,It)},_t,St),At}}class TextureLoader extends Loader{constructor(ht){super(ht)}load(ht,xt,_t,St){const wt=new Texture,At=new ImageLoader(this.manager);return At.setCrossOrigin(this.crossOrigin),At.setPath(this.path),At.load(ht,function(Ct){wt.image=Ct,wt.needsUpdate=!0,xt!==void 0&&xt(wt)},_t,St),wt}}class Light extends Object3D{constructor(ht,xt=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(ht),this.intensity=xt}dispose(){}copy(ht,xt){return super.copy(ht,xt),this.color.copy(ht.color),this.intensity=ht.intensity,this}toJSON(ht){const xt=super.toJSON(ht);return xt.object.color=this.color.getHex(),xt.object.intensity=this.intensity,this.groundColor!==void 0&&(xt.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(xt.object.distance=this.distance),this.angle!==void 0&&(xt.object.angle=this.angle),this.decay!==void 0&&(xt.object.decay=this.decay),this.penumbra!==void 0&&(xt.object.penumbra=this.penumbra),this.shadow!==void 0&&(xt.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(xt.object.target=this.target.uuid),xt}}class HemisphereLight extends Light{constructor(ht,xt,_t){super(ht,_t),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(xt)}copy(ht,xt){return super.copy(ht,xt),this.groundColor.copy(ht.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(ht){this.camera=ht,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(ht){const xt=this.camera,_t=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(ht.matrixWorld),xt.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(ht.target.matrixWorld),xt.lookAt(_lookTarget$1),xt.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(xt.projectionMatrix,xt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),_t.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),_t.multiply(_projScreenMatrix$1)}getViewport(ht){return this._viewports[ht]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(ht){return this.camera=ht.camera.clone(),this.intensity=ht.intensity,this.bias=ht.bias,this.radius=ht.radius,this.mapSize.copy(ht.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const ht={};return this.intensity!==1&&(ht.intensity=this.intensity),this.bias!==0&&(ht.bias=this.bias),this.normalBias!==0&&(ht.normalBias=this.normalBias),this.radius!==1&&(ht.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(ht.mapSize=this.mapSize.toArray()),ht.camera=this.camera.toJSON(!1).object,delete ht.camera.matrix,ht}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(ht){const xt=this.camera,_t=RAD2DEG*2*ht.angle*this.focus,St=this.mapSize.width/this.mapSize.height,wt=ht.distance||xt.far;(_t!==xt.fov||St!==xt.aspect||wt!==xt.far)&&(xt.fov=_t,xt.aspect=St,xt.far=wt,xt.updateProjectionMatrix()),super.updateMatrices(ht)}copy(ht){return super.copy(ht),this.focus=ht.focus,this}}class SpotLight extends Light{constructor(ht,xt,_t=0,St=Math.PI/3,wt=0,At=2){super(ht,xt),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=_t,this.angle=St,this.penumbra=wt,this.decay=At,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(ht){this.intensity=ht/Math.PI}dispose(){this.shadow.dispose()}copy(ht,xt){return super.copy(ht,xt),this.distance=ht.distance,this.angle=ht.angle,this.penumbra=ht.penumbra,this.decay=ht.decay,this.target=ht.target.clone(),this.shadow=ht.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(ht,xt=0){const _t=this.camera,St=this.matrix,wt=ht.distance||_t.far;wt!==_t.far&&(_t.far=wt,_t.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(ht.matrixWorld),_t.position.copy(_lightPositionWorld),_lookTarget.copy(_t.position),_lookTarget.add(this._cubeDirections[xt]),_t.up.copy(this._cubeUps[xt]),_t.lookAt(_lookTarget),_t.updateMatrixWorld(),St.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(_t.projectionMatrix,_t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(ht,xt,_t=0,St=2){super(ht,xt),this.isPointLight=!0,this.type="PointLight",this.distance=_t,this.decay=St,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(ht){this.intensity=ht/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(ht,xt){return super.copy(ht,xt),this.distance=ht.distance,this.decay=ht.decay,this.shadow=ht.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(ht,xt){super(ht,xt),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(ht){return super.copy(ht),this.target=ht.target.clone(),this.shadow=ht.shadow.clone(),this}}class AmbientLight extends Light{constructor(ht,xt){super(ht,xt),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(ht,xt,_t=10,St=10){super(ht,xt),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=_t,this.height=St}get power(){return this.intensity*this.width*this.height*Math.PI}set power(ht){this.intensity=ht/(this.width*this.height*Math.PI)}copy(ht){return super.copy(ht),this.width=ht.width,this.height=ht.height,this}toJSON(ht){const xt=super.toJSON(ht);return xt.object.width=this.width,xt.object.height=this.height,xt}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let ht=0;ht<9;ht++)this.coefficients.push(new Vector3)}set(ht){for(let xt=0;xt<9;xt++)this.coefficients[xt].copy(ht[xt]);return this}zero(){for(let ht=0;ht<9;ht++)this.coefficients[ht].set(0,0,0);return this}getAt(ht,xt){const _t=ht.x,St=ht.y,wt=ht.z,At=this.coefficients;return xt.copy(At[0]).multiplyScalar(.282095),xt.addScaledVector(At[1],.488603*St),xt.addScaledVector(At[2],.488603*wt),xt.addScaledVector(At[3],.488603*_t),xt.addScaledVector(At[4],1.092548*(_t*St)),xt.addScaledVector(At[5],1.092548*(St*wt)),xt.addScaledVector(At[6],.315392*(3*wt*wt-1)),xt.addScaledVector(At[7],1.092548*(_t*wt)),xt.addScaledVector(At[8],.546274*(_t*_t-St*St)),xt}getIrradianceAt(ht,xt){const _t=ht.x,St=ht.y,wt=ht.z,At=this.coefficients;return xt.copy(At[0]).multiplyScalar(.886227),xt.addScaledVector(At[1],2*.511664*St),xt.addScaledVector(At[2],2*.511664*wt),xt.addScaledVector(At[3],2*.511664*_t),xt.addScaledVector(At[4],2*.429043*_t*St),xt.addScaledVector(At[5],2*.429043*St*wt),xt.addScaledVector(At[6],.743125*wt*wt-.247708),xt.addScaledVector(At[7],2*.429043*_t*wt),xt.addScaledVector(At[8],.429043*(_t*_t-St*St)),xt}add(ht){for(let xt=0;xt<9;xt++)this.coefficients[xt].add(ht.coefficients[xt]);return this}addScaledSH(ht,xt){for(let _t=0;_t<9;_t++)this.coefficients[_t].addScaledVector(ht.coefficients[_t],xt);return this}scale(ht){for(let xt=0;xt<9;xt++)this.coefficients[xt].multiplyScalar(ht);return this}lerp(ht,xt){for(let _t=0;_t<9;_t++)this.coefficients[_t].lerp(ht.coefficients[_t],xt);return this}equals(ht){for(let xt=0;xt<9;xt++)if(!this.coefficients[xt].equals(ht.coefficients[xt]))return!1;return!0}copy(ht){return this.set(ht.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(ht,xt=0){const _t=this.coefficients;for(let St=0;St<9;St++)_t[St].fromArray(ht,xt+St*3);return this}toArray(ht=[],xt=0){const _t=this.coefficients;for(let St=0;St<9;St++)_t[St].toArray(ht,xt+St*3);return ht}static getBasisAt(ht,xt){const _t=ht.x,St=ht.y,wt=ht.z;xt[0]=.282095,xt[1]=.488603*St,xt[2]=.488603*wt,xt[3]=.488603*_t,xt[4]=1.092548*_t*St,xt[5]=1.092548*St*wt,xt[6]=.315392*(3*wt*wt-1),xt[7]=1.092548*_t*wt,xt[8]=.546274*(_t*_t-St*St)}}class LightProbe extends Light{constructor(ht=new SphericalHarmonics3,xt=1){super(void 0,xt),this.isLightProbe=!0,this.sh=ht}copy(ht){return super.copy(ht),this.sh.copy(ht.sh),this}fromJSON(ht){return this.intensity=ht.intensity,this.sh.fromArray(ht.sh),this}toJSON(ht){const xt=super.toJSON(ht);return xt.object.sh=this.sh.toArray(),xt}}class MaterialLoader extends Loader{constructor(ht){super(ht),this.textures={}}load(ht,xt,_t,St){const wt=this,At=new FileLoader(wt.manager);At.setPath(wt.path),At.setRequestHeader(wt.requestHeader),At.setWithCredentials(wt.withCredentials),At.load(ht,function(Ct){try{xt(wt.parse(JSON.parse(Ct)))}catch(Rt){St?St(Rt):console.error(Rt),wt.manager.itemError(ht)}},_t,St)}parse(ht){const xt=this.textures;function _t(wt){return xt[wt]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",wt),xt[wt]}const St=MaterialLoader.createMaterialFromType(ht.type);if(ht.uuid!==void 0&&(St.uuid=ht.uuid),ht.name!==void 0&&(St.name=ht.name),ht.color!==void 0&&St.color!==void 0&&St.color.setHex(ht.color),ht.roughness!==void 0&&(St.roughness=ht.roughness),ht.metalness!==void 0&&(St.metalness=ht.metalness),ht.sheen!==void 0&&(St.sheen=ht.sheen),ht.sheenColor!==void 0&&(St.sheenColor=new Color().setHex(ht.sheenColor)),ht.sheenRoughness!==void 0&&(St.sheenRoughness=ht.sheenRoughness),ht.emissive!==void 0&&St.emissive!==void 0&&St.emissive.setHex(ht.emissive),ht.specular!==void 0&&St.specular!==void 0&&St.specular.setHex(ht.specular),ht.specularIntensity!==void 0&&(St.specularIntensity=ht.specularIntensity),ht.specularColor!==void 0&&St.specularColor!==void 0&&St.specularColor.setHex(ht.specularColor),ht.shininess!==void 0&&(St.shininess=ht.shininess),ht.clearcoat!==void 0&&(St.clearcoat=ht.clearcoat),ht.clearcoatRoughness!==void 0&&(St.clearcoatRoughness=ht.clearcoatRoughness),ht.dispersion!==void 0&&(St.dispersion=ht.dispersion),ht.iridescence!==void 0&&(St.iridescence=ht.iridescence),ht.iridescenceIOR!==void 0&&(St.iridescenceIOR=ht.iridescenceIOR),ht.iridescenceThicknessRange!==void 0&&(St.iridescenceThicknessRange=ht.iridescenceThicknessRange),ht.transmission!==void 0&&(St.transmission=ht.transmission),ht.thickness!==void 0&&(St.thickness=ht.thickness),ht.attenuationDistance!==void 0&&(St.attenuationDistance=ht.attenuationDistance),ht.attenuationColor!==void 0&&St.attenuationColor!==void 0&&St.attenuationColor.setHex(ht.attenuationColor),ht.anisotropy!==void 0&&(St.anisotropy=ht.anisotropy),ht.anisotropyRotation!==void 0&&(St.anisotropyRotation=ht.anisotropyRotation),ht.fog!==void 0&&(St.fog=ht.fog),ht.flatShading!==void 0&&(St.flatShading=ht.flatShading),ht.blending!==void 0&&(St.blending=ht.blending),ht.combine!==void 0&&(St.combine=ht.combine),ht.side!==void 0&&(St.side=ht.side),ht.shadowSide!==void 0&&(St.shadowSide=ht.shadowSide),ht.opacity!==void 0&&(St.opacity=ht.opacity),ht.transparent!==void 0&&(St.transparent=ht.transparent),ht.alphaTest!==void 0&&(St.alphaTest=ht.alphaTest),ht.alphaHash!==void 0&&(St.alphaHash=ht.alphaHash),ht.depthFunc!==void 0&&(St.depthFunc=ht.depthFunc),ht.depthTest!==void 0&&(St.depthTest=ht.depthTest),ht.depthWrite!==void 0&&(St.depthWrite=ht.depthWrite),ht.colorWrite!==void 0&&(St.colorWrite=ht.colorWrite),ht.blendSrc!==void 0&&(St.blendSrc=ht.blendSrc),ht.blendDst!==void 0&&(St.blendDst=ht.blendDst),ht.blendEquation!==void 0&&(St.blendEquation=ht.blendEquation),ht.blendSrcAlpha!==void 0&&(St.blendSrcAlpha=ht.blendSrcAlpha),ht.blendDstAlpha!==void 0&&(St.blendDstAlpha=ht.blendDstAlpha),ht.blendEquationAlpha!==void 0&&(St.blendEquationAlpha=ht.blendEquationAlpha),ht.blendColor!==void 0&&St.blendColor!==void 0&&St.blendColor.setHex(ht.blendColor),ht.blendAlpha!==void 0&&(St.blendAlpha=ht.blendAlpha),ht.stencilWriteMask!==void 0&&(St.stencilWriteMask=ht.stencilWriteMask),ht.stencilFunc!==void 0&&(St.stencilFunc=ht.stencilFunc),ht.stencilRef!==void 0&&(St.stencilRef=ht.stencilRef),ht.stencilFuncMask!==void 0&&(St.stencilFuncMask=ht.stencilFuncMask),ht.stencilFail!==void 0&&(St.stencilFail=ht.stencilFail),ht.stencilZFail!==void 0&&(St.stencilZFail=ht.stencilZFail),ht.stencilZPass!==void 0&&(St.stencilZPass=ht.stencilZPass),ht.stencilWrite!==void 0&&(St.stencilWrite=ht.stencilWrite),ht.wireframe!==void 0&&(St.wireframe=ht.wireframe),ht.wireframeLinewidth!==void 0&&(St.wireframeLinewidth=ht.wireframeLinewidth),ht.wireframeLinecap!==void 0&&(St.wireframeLinecap=ht.wireframeLinecap),ht.wireframeLinejoin!==void 0&&(St.wireframeLinejoin=ht.wireframeLinejoin),ht.rotation!==void 0&&(St.rotation=ht.rotation),ht.linewidth!==void 0&&(St.linewidth=ht.linewidth),ht.dashSize!==void 0&&(St.dashSize=ht.dashSize),ht.gapSize!==void 0&&(St.gapSize=ht.gapSize),ht.scale!==void 0&&(St.scale=ht.scale),ht.polygonOffset!==void 0&&(St.polygonOffset=ht.polygonOffset),ht.polygonOffsetFactor!==void 0&&(St.polygonOffsetFactor=ht.polygonOffsetFactor),ht.polygonOffsetUnits!==void 0&&(St.polygonOffsetUnits=ht.polygonOffsetUnits),ht.dithering!==void 0&&(St.dithering=ht.dithering),ht.alphaToCoverage!==void 0&&(St.alphaToCoverage=ht.alphaToCoverage),ht.premultipliedAlpha!==void 0&&(St.premultipliedAlpha=ht.premultipliedAlpha),ht.forceSinglePass!==void 0&&(St.forceSinglePass=ht.forceSinglePass),ht.visible!==void 0&&(St.visible=ht.visible),ht.toneMapped!==void 0&&(St.toneMapped=ht.toneMapped),ht.userData!==void 0&&(St.userData=ht.userData),ht.vertexColors!==void 0&&(typeof ht.vertexColors=="number"?St.vertexColors=ht.vertexColors>0:St.vertexColors=ht.vertexColors),ht.uniforms!==void 0)for(const wt in ht.uniforms){const At=ht.uniforms[wt];switch(St.uniforms[wt]={},At.type){case"t":St.uniforms[wt].value=_t(At.value);break;case"c":St.uniforms[wt].value=new Color().setHex(At.value);break;case"v2":St.uniforms[wt].value=new Vector2().fromArray(At.value);break;case"v3":St.uniforms[wt].value=new Vector3().fromArray(At.value);break;case"v4":St.uniforms[wt].value=new Vector4().fromArray(At.value);break;case"m3":St.uniforms[wt].value=new Matrix3().fromArray(At.value);break;case"m4":St.uniforms[wt].value=new Matrix4().fromArray(At.value);break;default:St.uniforms[wt].value=At.value}}if(ht.defines!==void 0&&(St.defines=ht.defines),ht.vertexShader!==void 0&&(St.vertexShader=ht.vertexShader),ht.fragmentShader!==void 0&&(St.fragmentShader=ht.fragmentShader),ht.glslVersion!==void 0&&(St.glslVersion=ht.glslVersion),ht.extensions!==void 0)for(const wt in ht.extensions)St.extensions[wt]=ht.extensions[wt];if(ht.lights!==void 0&&(St.lights=ht.lights),ht.clipping!==void 0&&(St.clipping=ht.clipping),ht.size!==void 0&&(St.size=ht.size),ht.sizeAttenuation!==void 0&&(St.sizeAttenuation=ht.sizeAttenuation),ht.map!==void 0&&(St.map=_t(ht.map)),ht.matcap!==void 0&&(St.matcap=_t(ht.matcap)),ht.alphaMap!==void 0&&(St.alphaMap=_t(ht.alphaMap)),ht.bumpMap!==void 0&&(St.bumpMap=_t(ht.bumpMap)),ht.bumpScale!==void 0&&(St.bumpScale=ht.bumpScale),ht.normalMap!==void 0&&(St.normalMap=_t(ht.normalMap)),ht.normalMapType!==void 0&&(St.normalMapType=ht.normalMapType),ht.normalScale!==void 0){let wt=ht.normalScale;Array.isArray(wt)===!1&&(wt=[wt,wt]),St.normalScale=new Vector2().fromArray(wt)}return ht.displacementMap!==void 0&&(St.displacementMap=_t(ht.displacementMap)),ht.displacementScale!==void 0&&(St.displacementScale=ht.displacementScale),ht.displacementBias!==void 0&&(St.displacementBias=ht.displacementBias),ht.roughnessMap!==void 0&&(St.roughnessMap=_t(ht.roughnessMap)),ht.metalnessMap!==void 0&&(St.metalnessMap=_t(ht.metalnessMap)),ht.emissiveMap!==void 0&&(St.emissiveMap=_t(ht.emissiveMap)),ht.emissiveIntensity!==void 0&&(St.emissiveIntensity=ht.emissiveIntensity),ht.specularMap!==void 0&&(St.specularMap=_t(ht.specularMap)),ht.specularIntensityMap!==void 0&&(St.specularIntensityMap=_t(ht.specularIntensityMap)),ht.specularColorMap!==void 0&&(St.specularColorMap=_t(ht.specularColorMap)),ht.envMap!==void 0&&(St.envMap=_t(ht.envMap)),ht.envMapRotation!==void 0&&St.envMapRotation.fromArray(ht.envMapRotation),ht.envMapIntensity!==void 0&&(St.envMapIntensity=ht.envMapIntensity),ht.reflectivity!==void 0&&(St.reflectivity=ht.reflectivity),ht.refractionRatio!==void 0&&(St.refractionRatio=ht.refractionRatio),ht.lightMap!==void 0&&(St.lightMap=_t(ht.lightMap)),ht.lightMapIntensity!==void 0&&(St.lightMapIntensity=ht.lightMapIntensity),ht.aoMap!==void 0&&(St.aoMap=_t(ht.aoMap)),ht.aoMapIntensity!==void 0&&(St.aoMapIntensity=ht.aoMapIntensity),ht.gradientMap!==void 0&&(St.gradientMap=_t(ht.gradientMap)),ht.clearcoatMap!==void 0&&(St.clearcoatMap=_t(ht.clearcoatMap)),ht.clearcoatRoughnessMap!==void 0&&(St.clearcoatRoughnessMap=_t(ht.clearcoatRoughnessMap)),ht.clearcoatNormalMap!==void 0&&(St.clearcoatNormalMap=_t(ht.clearcoatNormalMap)),ht.clearcoatNormalScale!==void 0&&(St.clearcoatNormalScale=new Vector2().fromArray(ht.clearcoatNormalScale)),ht.iridescenceMap!==void 0&&(St.iridescenceMap=_t(ht.iridescenceMap)),ht.iridescenceThicknessMap!==void 0&&(St.iridescenceThicknessMap=_t(ht.iridescenceThicknessMap)),ht.transmissionMap!==void 0&&(St.transmissionMap=_t(ht.transmissionMap)),ht.thicknessMap!==void 0&&(St.thicknessMap=_t(ht.thicknessMap)),ht.anisotropyMap!==void 0&&(St.anisotropyMap=_t(ht.anisotropyMap)),ht.sheenColorMap!==void 0&&(St.sheenColorMap=_t(ht.sheenColorMap)),ht.sheenRoughnessMap!==void 0&&(St.sheenRoughnessMap=_t(ht.sheenRoughnessMap)),St}setTextures(ht){return this.textures=ht,this}static createMaterialFromType(ht){const xt={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new xt[ht]}}class LoaderUtils{static decodeText(ht){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(ht);let xt="";for(let _t=0,St=ht.length;_t<St;_t++)xt+=String.fromCharCode(ht[_t]);try{return decodeURIComponent(escape(xt))}catch{return xt}}static extractUrlBase(ht){const xt=ht.lastIndexOf("/");return xt===-1?"./":ht.slice(0,xt+1)}static resolveURL(ht,xt){return typeof ht!="string"||ht===""?"":(/^https?:\/\//i.test(xt)&&/^\//.test(ht)&&(xt=xt.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(ht)||/^data:.*,.*$/i.test(ht)||/^blob:.*$/i.test(ht)?ht:xt+ht)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(ht){return super.copy(ht),this.instanceCount=ht.instanceCount,this}toJSON(){const ht=super.toJSON();return ht.instanceCount=this.instanceCount,ht.isInstancedBufferGeometry=!0,ht}}class BufferGeometryLoader extends Loader{constructor(ht){super(ht)}load(ht,xt,_t,St){const wt=this,At=new FileLoader(wt.manager);At.setPath(wt.path),At.setRequestHeader(wt.requestHeader),At.setWithCredentials(wt.withCredentials),At.load(ht,function(Ct){try{xt(wt.parse(JSON.parse(Ct)))}catch(Rt){St?St(Rt):console.error(Rt),wt.manager.itemError(ht)}},_t,St)}parse(ht){const xt={},_t={};function St($t,Ot){if(xt[Ot]!==void 0)return xt[Ot];const Gt=$t.interleavedBuffers[Ot],Bt=wt($t,Gt.buffer),Ut=getTypedArray(Gt.type,Bt),Vt=new InterleavedBuffer(Ut,Gt.stride);return Vt.uuid=Gt.uuid,xt[Ot]=Vt,Vt}function wt($t,Ot){if(_t[Ot]!==void 0)return _t[Ot];const Gt=$t.arrayBuffers[Ot],Bt=new Uint32Array(Gt).buffer;return _t[Ot]=Bt,Bt}const At=ht.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,Ct=ht.data.index;if(Ct!==void 0){const $t=getTypedArray(Ct.type,Ct.array);At.setIndex(new BufferAttribute($t,1))}const Rt=ht.data.attributes;for(const $t in Rt){const Ot=Rt[$t];let zt;if(Ot.isInterleavedBufferAttribute){const Gt=St(ht.data,Ot.data);zt=new InterleavedBufferAttribute(Gt,Ot.itemSize,Ot.offset,Ot.normalized)}else{const Gt=getTypedArray(Ot.type,Ot.array),Bt=Ot.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;zt=new Bt(Gt,Ot.itemSize,Ot.normalized)}Ot.name!==void 0&&(zt.name=Ot.name),Ot.usage!==void 0&&zt.setUsage(Ot.usage),At.setAttribute($t,zt)}const It=ht.data.morphAttributes;if(It)for(const $t in It){const Ot=It[$t],zt=[];for(let Gt=0,Bt=Ot.length;Gt<Bt;Gt++){const Ut=Ot[Gt];let Vt;if(Ut.isInterleavedBufferAttribute){const Ht=St(ht.data,Ut.data);Vt=new InterleavedBufferAttribute(Ht,Ut.itemSize,Ut.offset,Ut.normalized)}else{const Ht=getTypedArray(Ut.type,Ut.array);Vt=new BufferAttribute(Ht,Ut.itemSize,Ut.normalized)}Ut.name!==void 0&&(Vt.name=Ut.name),zt.push(Vt)}At.morphAttributes[$t]=zt}ht.data.morphTargetsRelative&&(At.morphTargetsRelative=!0);const kt=ht.data.groups||ht.data.drawcalls||ht.data.offsets;if(kt!==void 0)for(let $t=0,Ot=kt.length;$t!==Ot;++$t){const zt=kt[$t];At.addGroup(zt.start,zt.count,zt.materialIndex)}const Dt=ht.data.boundingSphere;if(Dt!==void 0){const $t=new Vector3;Dt.center!==void 0&&$t.fromArray(Dt.center),At.boundingSphere=new Sphere$1($t,Dt.radius)}return ht.name&&(At.name=ht.name),ht.userData&&(At.userData=ht.userData),At}}class ObjectLoader extends Loader{constructor(ht){super(ht)}load(ht,xt,_t,St){const wt=this,At=this.path===""?LoaderUtils.extractUrlBase(ht):this.path;this.resourcePath=this.resourcePath||At;const Ct=new FileLoader(this.manager);Ct.setPath(this.path),Ct.setRequestHeader(this.requestHeader),Ct.setWithCredentials(this.withCredentials),Ct.load(ht,function(Rt){let It=null;try{It=JSON.parse(Rt)}catch(kt){St!==void 0&&St(kt),console.error("THREE:ObjectLoader: Can't parse "+ht+".",kt.message);return}const Lt=It.metadata;if(Lt===void 0||Lt.type===void 0||Lt.type.toLowerCase()==="geometry"){St!==void 0&&St(new Error("THREE.ObjectLoader: Can't load "+ht)),console.error("THREE.ObjectLoader: Can't load "+ht);return}wt.parse(It,xt)},_t,St)}async loadAsync(ht,xt){const _t=this,St=this.path===""?LoaderUtils.extractUrlBase(ht):this.path;this.resourcePath=this.resourcePath||St;const wt=new FileLoader(this.manager);wt.setPath(this.path),wt.setRequestHeader(this.requestHeader),wt.setWithCredentials(this.withCredentials);const At=await wt.loadAsync(ht,xt),Ct=JSON.parse(At),Rt=Ct.metadata;if(Rt===void 0||Rt.type===void 0||Rt.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+ht);return await _t.parseAsync(Ct)}parse(ht,xt){const _t=this.parseAnimations(ht.animations),St=this.parseShapes(ht.shapes),wt=this.parseGeometries(ht.geometries,St),At=this.parseImages(ht.images,function(){xt!==void 0&&xt(It)}),Ct=this.parseTextures(ht.textures,At),Rt=this.parseMaterials(ht.materials,Ct),It=this.parseObject(ht.object,wt,Rt,Ct,_t),Lt=this.parseSkeletons(ht.skeletons,It);if(this.bindSkeletons(It,Lt),this.bindLightTargets(It),xt!==void 0){let kt=!1;for(const Dt in At)if(At[Dt].data instanceof HTMLImageElement){kt=!0;break}kt===!1&&xt(It)}return It}async parseAsync(ht){const xt=this.parseAnimations(ht.animations),_t=this.parseShapes(ht.shapes),St=this.parseGeometries(ht.geometries,_t),wt=await this.parseImagesAsync(ht.images),At=this.parseTextures(ht.textures,wt),Ct=this.parseMaterials(ht.materials,At),Rt=this.parseObject(ht.object,St,Ct,At,xt),It=this.parseSkeletons(ht.skeletons,Rt);return this.bindSkeletons(Rt,It),this.bindLightTargets(Rt),Rt}parseShapes(ht){const xt={};if(ht!==void 0)for(let _t=0,St=ht.length;_t<St;_t++){const wt=new Shape().fromJSON(ht[_t]);xt[wt.uuid]=wt}return xt}parseSkeletons(ht,xt){const _t={},St={};if(xt.traverse(function(wt){wt.isBone&&(St[wt.uuid]=wt)}),ht!==void 0)for(let wt=0,At=ht.length;wt<At;wt++){const Ct=new Skeleton().fromJSON(ht[wt],St);_t[Ct.uuid]=Ct}return _t}parseGeometries(ht,xt){const _t={};if(ht!==void 0){const St=new BufferGeometryLoader;for(let wt=0,At=ht.length;wt<At;wt++){let Ct;const Rt=ht[wt];switch(Rt.type){case"BufferGeometry":case"InstancedBufferGeometry":Ct=St.parse(Rt);break;default:Rt.type in Geometries?Ct=Geometries[Rt.type].fromJSON(Rt,xt):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${Rt.type}"`)}Ct.uuid=Rt.uuid,Rt.name!==void 0&&(Ct.name=Rt.name),Rt.userData!==void 0&&(Ct.userData=Rt.userData),_t[Rt.uuid]=Ct}}return _t}parseMaterials(ht,xt){const _t={},St={};if(ht!==void 0){const wt=new MaterialLoader;wt.setTextures(xt);for(let At=0,Ct=ht.length;At<Ct;At++){const Rt=ht[At];_t[Rt.uuid]===void 0&&(_t[Rt.uuid]=wt.parse(Rt)),St[Rt.uuid]=_t[Rt.uuid]}}return St}parseAnimations(ht){const xt={};if(ht!==void 0)for(let _t=0;_t<ht.length;_t++){const St=ht[_t],wt=AnimationClip.parse(St);xt[wt.uuid]=wt}return xt}parseImages(ht,xt){const _t=this,St={};let wt;function At(Rt){return _t.manager.itemStart(Rt),wt.load(Rt,function(){_t.manager.itemEnd(Rt)},void 0,function(){_t.manager.itemError(Rt),_t.manager.itemEnd(Rt)})}function Ct(Rt){if(typeof Rt=="string"){const It=Rt,Lt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(It)?It:_t.resourcePath+It;return At(Lt)}else return Rt.data?{data:getTypedArray(Rt.type,Rt.data),width:Rt.width,height:Rt.height}:null}if(ht!==void 0&&ht.length>0){const Rt=new LoadingManager(xt);wt=new ImageLoader(Rt),wt.setCrossOrigin(this.crossOrigin);for(let It=0,Lt=ht.length;It<Lt;It++){const kt=ht[It],Dt=kt.url;if(Array.isArray(Dt)){const $t=[];for(let Ot=0,zt=Dt.length;Ot<zt;Ot++){const Gt=Dt[Ot],Bt=Ct(Gt);Bt!==null&&(Bt instanceof HTMLImageElement?$t.push(Bt):$t.push(new DataTexture(Bt.data,Bt.width,Bt.height)))}St[kt.uuid]=new Source($t)}else{const $t=Ct(kt.url);St[kt.uuid]=new Source($t)}}}return St}async parseImagesAsync(ht){const xt=this,_t={};let St;async function wt(At){if(typeof At=="string"){const Ct=At,Rt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(Ct)?Ct:xt.resourcePath+Ct;return await St.loadAsync(Rt)}else return At.data?{data:getTypedArray(At.type,At.data),width:At.width,height:At.height}:null}if(ht!==void 0&&ht.length>0){St=new ImageLoader(this.manager),St.setCrossOrigin(this.crossOrigin);for(let At=0,Ct=ht.length;At<Ct;At++){const Rt=ht[At],It=Rt.url;if(Array.isArray(It)){const Lt=[];for(let kt=0,Dt=It.length;kt<Dt;kt++){const $t=It[kt],Ot=await wt($t);Ot!==null&&(Ot instanceof HTMLImageElement?Lt.push(Ot):Lt.push(new DataTexture(Ot.data,Ot.width,Ot.height)))}_t[Rt.uuid]=new Source(Lt)}else{const Lt=await wt(Rt.url);_t[Rt.uuid]=new Source(Lt)}}}return _t}parseTextures(ht,xt){function _t(wt,At){return typeof wt=="number"?wt:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",wt),At[wt])}const St={};if(ht!==void 0)for(let wt=0,At=ht.length;wt<At;wt++){const Ct=ht[wt];Ct.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',Ct.uuid),xt[Ct.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",Ct.image);const Rt=xt[Ct.image],It=Rt.data;let Lt;Array.isArray(It)?(Lt=new CubeTexture,It.length===6&&(Lt.needsUpdate=!0)):(It&&It.data?Lt=new DataTexture:Lt=new Texture,It&&(Lt.needsUpdate=!0)),Lt.source=Rt,Lt.uuid=Ct.uuid,Ct.name!==void 0&&(Lt.name=Ct.name),Ct.mapping!==void 0&&(Lt.mapping=_t(Ct.mapping,TEXTURE_MAPPING)),Ct.channel!==void 0&&(Lt.channel=Ct.channel),Ct.offset!==void 0&&Lt.offset.fromArray(Ct.offset),Ct.repeat!==void 0&&Lt.repeat.fromArray(Ct.repeat),Ct.center!==void 0&&Lt.center.fromArray(Ct.center),Ct.rotation!==void 0&&(Lt.rotation=Ct.rotation),Ct.wrap!==void 0&&(Lt.wrapS=_t(Ct.wrap[0],TEXTURE_WRAPPING),Lt.wrapT=_t(Ct.wrap[1],TEXTURE_WRAPPING)),Ct.format!==void 0&&(Lt.format=Ct.format),Ct.internalFormat!==void 0&&(Lt.internalFormat=Ct.internalFormat),Ct.type!==void 0&&(Lt.type=Ct.type),Ct.colorSpace!==void 0&&(Lt.colorSpace=Ct.colorSpace),Ct.minFilter!==void 0&&(Lt.minFilter=_t(Ct.minFilter,TEXTURE_FILTER)),Ct.magFilter!==void 0&&(Lt.magFilter=_t(Ct.magFilter,TEXTURE_FILTER)),Ct.anisotropy!==void 0&&(Lt.anisotropy=Ct.anisotropy),Ct.flipY!==void 0&&(Lt.flipY=Ct.flipY),Ct.generateMipmaps!==void 0&&(Lt.generateMipmaps=Ct.generateMipmaps),Ct.premultiplyAlpha!==void 0&&(Lt.premultiplyAlpha=Ct.premultiplyAlpha),Ct.unpackAlignment!==void 0&&(Lt.unpackAlignment=Ct.unpackAlignment),Ct.compareFunction!==void 0&&(Lt.compareFunction=Ct.compareFunction),Ct.userData!==void 0&&(Lt.userData=Ct.userData),St[Ct.uuid]=Lt}return St}parseObject(ht,xt,_t,St,wt){let At;function Ct(Dt){return xt[Dt]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",Dt),xt[Dt]}function Rt(Dt){if(Dt!==void 0){if(Array.isArray(Dt)){const $t=[];for(let Ot=0,zt=Dt.length;Ot<zt;Ot++){const Gt=Dt[Ot];_t[Gt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Gt),$t.push(_t[Gt])}return $t}return _t[Dt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Dt),_t[Dt]}}function It(Dt){return St[Dt]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",Dt),St[Dt]}let Lt,kt;switch(ht.type){case"Scene":At=new Scene,ht.background!==void 0&&(Number.isInteger(ht.background)?At.background=new Color(ht.background):At.background=It(ht.background)),ht.environment!==void 0&&(At.environment=It(ht.environment)),ht.fog!==void 0&&(ht.fog.type==="Fog"?At.fog=new Fog(ht.fog.color,ht.fog.near,ht.fog.far):ht.fog.type==="FogExp2"&&(At.fog=new FogExp2(ht.fog.color,ht.fog.density)),ht.fog.name!==""&&(At.fog.name=ht.fog.name)),ht.backgroundBlurriness!==void 0&&(At.backgroundBlurriness=ht.backgroundBlurriness),ht.backgroundIntensity!==void 0&&(At.backgroundIntensity=ht.backgroundIntensity),ht.backgroundRotation!==void 0&&At.backgroundRotation.fromArray(ht.backgroundRotation),ht.environmentIntensity!==void 0&&(At.environmentIntensity=ht.environmentIntensity),ht.environmentRotation!==void 0&&At.environmentRotation.fromArray(ht.environmentRotation);break;case"PerspectiveCamera":At=new PerspectiveCamera(ht.fov,ht.aspect,ht.near,ht.far),ht.focus!==void 0&&(At.focus=ht.focus),ht.zoom!==void 0&&(At.zoom=ht.zoom),ht.filmGauge!==void 0&&(At.filmGauge=ht.filmGauge),ht.filmOffset!==void 0&&(At.filmOffset=ht.filmOffset),ht.view!==void 0&&(At.view=Object.assign({},ht.view));break;case"OrthographicCamera":At=new OrthographicCamera(ht.left,ht.right,ht.top,ht.bottom,ht.near,ht.far),ht.zoom!==void 0&&(At.zoom=ht.zoom),ht.view!==void 0&&(At.view=Object.assign({},ht.view));break;case"AmbientLight":At=new AmbientLight(ht.color,ht.intensity);break;case"DirectionalLight":At=new DirectionalLight(ht.color,ht.intensity),At.target=ht.target||"";break;case"PointLight":At=new PointLight(ht.color,ht.intensity,ht.distance,ht.decay);break;case"RectAreaLight":At=new RectAreaLight(ht.color,ht.intensity,ht.width,ht.height);break;case"SpotLight":At=new SpotLight(ht.color,ht.intensity,ht.distance,ht.angle,ht.penumbra,ht.decay),At.target=ht.target||"";break;case"HemisphereLight":At=new HemisphereLight(ht.color,ht.groundColor,ht.intensity);break;case"LightProbe":At=new LightProbe().fromJSON(ht);break;case"SkinnedMesh":Lt=Ct(ht.geometry),kt=Rt(ht.material),At=new SkinnedMesh(Lt,kt),ht.bindMode!==void 0&&(At.bindMode=ht.bindMode),ht.bindMatrix!==void 0&&At.bindMatrix.fromArray(ht.bindMatrix),ht.skeleton!==void 0&&(At.skeleton=ht.skeleton);break;case"Mesh":Lt=Ct(ht.geometry),kt=Rt(ht.material),At=new Mesh(Lt,kt);break;case"InstancedMesh":Lt=Ct(ht.geometry),kt=Rt(ht.material);const Dt=ht.count,$t=ht.instanceMatrix,Ot=ht.instanceColor;At=new InstancedMesh(Lt,kt,Dt),At.instanceMatrix=new InstancedBufferAttribute(new Float32Array($t.array),16),Ot!==void 0&&(At.instanceColor=new InstancedBufferAttribute(new Float32Array(Ot.array),Ot.itemSize));break;case"BatchedMesh":Lt=Ct(ht.geometry),kt=Rt(ht.material),At=new BatchedMesh(ht.maxInstanceCount,ht.maxVertexCount,ht.maxIndexCount,kt),At.geometry=Lt,At.perObjectFrustumCulled=ht.perObjectFrustumCulled,At.sortObjects=ht.sortObjects,At._drawRanges=ht.drawRanges,At._reservedRanges=ht.reservedRanges,At._visibility=ht.visibility,At._active=ht.active,At._bounds=ht.bounds.map(zt=>{const Gt=new Box3;Gt.min.fromArray(zt.boxMin),Gt.max.fromArray(zt.boxMax);const Bt=new Sphere$1;return Bt.radius=zt.sphereRadius,Bt.center.fromArray(zt.sphereCenter),{boxInitialized:zt.boxInitialized,box:Gt,sphereInitialized:zt.sphereInitialized,sphere:Bt}}),At._maxInstanceCount=ht.maxInstanceCount,At._maxVertexCount=ht.maxVertexCount,At._maxIndexCount=ht.maxIndexCount,At._geometryInitialized=ht.geometryInitialized,At._geometryCount=ht.geometryCount,At._matricesTexture=It(ht.matricesTexture.uuid),ht.colorsTexture!==void 0&&(At._colorsTexture=It(ht.colorsTexture.uuid));break;case"LOD":At=new LOD;break;case"Line":At=new Line(Ct(ht.geometry),Rt(ht.material));break;case"LineLoop":At=new LineLoop(Ct(ht.geometry),Rt(ht.material));break;case"LineSegments":At=new LineSegments(Ct(ht.geometry),Rt(ht.material));break;case"PointCloud":case"Points":At=new Points(Ct(ht.geometry),Rt(ht.material));break;case"Sprite":At=new Sprite(Rt(ht.material));break;case"Group":At=new Group;break;case"Bone":At=new Bone;break;default:At=new Object3D}if(At.uuid=ht.uuid,ht.name!==void 0&&(At.name=ht.name),ht.matrix!==void 0?(At.matrix.fromArray(ht.matrix),ht.matrixAutoUpdate!==void 0&&(At.matrixAutoUpdate=ht.matrixAutoUpdate),At.matrixAutoUpdate&&At.matrix.decompose(At.position,At.quaternion,At.scale)):(ht.position!==void 0&&At.position.fromArray(ht.position),ht.rotation!==void 0&&At.rotation.fromArray(ht.rotation),ht.quaternion!==void 0&&At.quaternion.fromArray(ht.quaternion),ht.scale!==void 0&&At.scale.fromArray(ht.scale)),ht.up!==void 0&&At.up.fromArray(ht.up),ht.castShadow!==void 0&&(At.castShadow=ht.castShadow),ht.receiveShadow!==void 0&&(At.receiveShadow=ht.receiveShadow),ht.shadow&&(ht.shadow.intensity!==void 0&&(At.shadow.intensity=ht.shadow.intensity),ht.shadow.bias!==void 0&&(At.shadow.bias=ht.shadow.bias),ht.shadow.normalBias!==void 0&&(At.shadow.normalBias=ht.shadow.normalBias),ht.shadow.radius!==void 0&&(At.shadow.radius=ht.shadow.radius),ht.shadow.mapSize!==void 0&&At.shadow.mapSize.fromArray(ht.shadow.mapSize),ht.shadow.camera!==void 0&&(At.shadow.camera=this.parseObject(ht.shadow.camera))),ht.visible!==void 0&&(At.visible=ht.visible),ht.frustumCulled!==void 0&&(At.frustumCulled=ht.frustumCulled),ht.renderOrder!==void 0&&(At.renderOrder=ht.renderOrder),ht.userData!==void 0&&(At.userData=ht.userData),ht.layers!==void 0&&(At.layers.mask=ht.layers),ht.children!==void 0){const Dt=ht.children;for(let $t=0;$t<Dt.length;$t++)At.add(this.parseObject(Dt[$t],xt,_t,St,wt))}if(ht.animations!==void 0){const Dt=ht.animations;for(let $t=0;$t<Dt.length;$t++){const Ot=Dt[$t];At.animations.push(wt[Ot])}}if(ht.type==="LOD"){ht.autoUpdate!==void 0&&(At.autoUpdate=ht.autoUpdate);const Dt=ht.levels;for(let $t=0;$t<Dt.length;$t++){const Ot=Dt[$t],zt=At.getObjectByProperty("uuid",Ot.object);zt!==void 0&&At.addLevel(zt,Ot.distance,Ot.hysteresis)}}return At}bindSkeletons(ht,xt){Object.keys(xt).length!==0&&ht.traverse(function(_t){if(_t.isSkinnedMesh===!0&&_t.skeleton!==void 0){const St=xt[_t.skeleton];St===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",_t.skeleton):_t.bind(St,_t.bindMatrix)}})}bindLightTargets(ht){ht.traverse(function(xt){if(xt.isDirectionalLight||xt.isSpotLight){const _t=xt.target,St=ht.getObjectByProperty("uuid",_t);St!==void 0?xt.target=St:xt.target=new Object3D}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(ht){super(ht),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(ht){return this.options=ht,this}load(ht,xt,_t,St){ht===void 0&&(ht=""),this.path!==void 0&&(ht=this.path+ht),ht=this.manager.resolveURL(ht);const wt=this,At=Cache.get(ht);if(At!==void 0){if(wt.manager.itemStart(ht),At.then){At.then(It=>{xt&&xt(It),wt.manager.itemEnd(ht)}).catch(It=>{St&&St(It)});return}return setTimeout(function(){xt&&xt(At),wt.manager.itemEnd(ht)},0),At}const Ct={};Ct.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",Ct.headers=this.requestHeader;const Rt=fetch(ht,Ct).then(function(It){return It.blob()}).then(function(It){return createImageBitmap(It,Object.assign(wt.options,{colorSpaceConversion:"none"}))}).then(function(It){return Cache.add(ht,It),xt&&xt(It),wt.manager.itemEnd(ht),It}).catch(function(It){St&&St(It),Cache.remove(ht),wt.manager.itemError(ht),wt.manager.itemEnd(ht)});Cache.add(ht,Rt),wt.manager.itemStart(ht)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(ht){_context=ht}}class AudioLoader extends Loader{constructor(ht){super(ht)}load(ht,xt,_t,St){const wt=this,At=new FileLoader(this.manager);At.setResponseType("arraybuffer"),At.setPath(this.path),At.setRequestHeader(this.requestHeader),At.setWithCredentials(this.withCredentials),At.load(ht,function(Rt){try{const It=Rt.slice(0);AudioContext.getContext().decodeAudioData(It,function(kt){xt(kt)}).catch(Ct)}catch(It){Ct(It)}},_t,St);function Ct(Rt){St?St(Rt):console.error(Rt),wt.manager.itemError(ht)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(ht){const xt=this._cache;if(xt.focus!==ht.focus||xt.fov!==ht.fov||xt.aspect!==ht.aspect*this.aspect||xt.near!==ht.near||xt.far!==ht.far||xt.zoom!==ht.zoom||xt.eyeSep!==this.eyeSep){xt.focus=ht.focus,xt.fov=ht.fov,xt.aspect=ht.aspect*this.aspect,xt.near=ht.near,xt.far=ht.far,xt.zoom=ht.zoom,xt.eyeSep=this.eyeSep,_projectionMatrix.copy(ht.projectionMatrix);const St=xt.eyeSep/2,wt=St*xt.near/xt.focus,At=xt.near*Math.tan(DEG2RAD*xt.fov*.5)/xt.zoom;let Ct,Rt;_eyeLeft.elements[12]=-St,_eyeRight.elements[12]=St,Ct=-At*xt.aspect+wt,Rt=At*xt.aspect+wt,_projectionMatrix.elements[0]=2*xt.near/(Rt-Ct),_projectionMatrix.elements[8]=(Rt+Ct)/(Rt-Ct),this.cameraL.projectionMatrix.copy(_projectionMatrix),Ct=-At*xt.aspect-wt,Rt=At*xt.aspect-wt,_projectionMatrix.elements[0]=2*xt.near/(Rt-Ct),_projectionMatrix.elements[8]=(Rt+Ct)/(Rt-Ct),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(ht.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(ht.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(ht=!0){this.autoStart=ht,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let ht=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const xt=now();ht=(xt-this.oldTime)/1e3,this.oldTime=xt,this.elapsedTime+=ht}return ht}}function now(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(ht){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=ht,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(ht){return this.gain.gain.setTargetAtTime(ht,this.context.currentTime,.01),this}updateMatrixWorld(ht){super.updateMatrixWorld(ht);const xt=this.context.listener,_t=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),xt.positionX){const St=this.context.currentTime+this.timeDelta;xt.positionX.linearRampToValueAtTime(_position$1.x,St),xt.positionY.linearRampToValueAtTime(_position$1.y,St),xt.positionZ.linearRampToValueAtTime(_position$1.z,St),xt.forwardX.linearRampToValueAtTime(_orientation$1.x,St),xt.forwardY.linearRampToValueAtTime(_orientation$1.y,St),xt.forwardZ.linearRampToValueAtTime(_orientation$1.z,St),xt.upX.linearRampToValueAtTime(_t.x,St),xt.upY.linearRampToValueAtTime(_t.y,St),xt.upZ.linearRampToValueAtTime(_t.z,St)}else xt.setPosition(_position$1.x,_position$1.y,_position$1.z),xt.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,_t.x,_t.y,_t.z)}}class Audio extends Object3D{constructor(ht){super(),this.type="Audio",this.listener=ht,this.context=ht.context,this.gain=this.context.createGain(),this.gain.connect(ht.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(ht){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=ht,this.connect(),this}setMediaElementSource(ht){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(ht),this.connect(),this}setMediaStreamSource(ht){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(ht),this.connect(),this}setBuffer(ht){return this.buffer=ht,this.sourceType="buffer",this.autoplay&&this.play(),this}play(ht=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+ht;const xt=this.context.createBufferSource();return xt.buffer=this.buffer,xt.loop=this.loop,xt.loopStart=this.loopStart,xt.loopEnd=this.loopEnd,xt.onended=this.onEnded.bind(this),xt.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=xt,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let ht=1,xt=this.filters.length;ht<xt;ht++)this.filters[ht-1].connect(this.filters[ht]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let ht=1,xt=this.filters.length;ht<xt;ht++)this.filters[ht-1].disconnect(this.filters[ht]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(ht){return ht||(ht=[]),this._connected===!0?(this.disconnect(),this.filters=ht.slice(),this.connect()):this.filters=ht.slice(),this}setDetune(ht){return this.detune=ht,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(ht){return this.setFilters(ht?[ht]:[])}setPlaybackRate(ht){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=ht,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(ht){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=ht,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(ht){return this.loopStart=ht,this}setLoopEnd(ht){return this.loopEnd=ht,this}getVolume(){return this.gain.gain.value}setVolume(ht){return this.gain.gain.setTargetAtTime(ht,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(ht){super(ht),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(ht){return this.panner.refDistance=ht,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(ht){return this.panner.rolloffFactor=ht,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(ht){return this.panner.distanceModel=ht,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(ht){return this.panner.maxDistance=ht,this}setDirectionalCone(ht,xt,_t){return this.panner.coneInnerAngle=ht,this.panner.coneOuterAngle=xt,this.panner.coneOuterGain=_t,this}updateMatrixWorld(ht){if(super.updateMatrixWorld(ht),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const xt=this.panner;if(xt.positionX){const _t=this.context.currentTime+this.listener.timeDelta;xt.positionX.linearRampToValueAtTime(_position.x,_t),xt.positionY.linearRampToValueAtTime(_position.y,_t),xt.positionZ.linearRampToValueAtTime(_position.z,_t),xt.orientationX.linearRampToValueAtTime(_orientation.x,_t),xt.orientationY.linearRampToValueAtTime(_orientation.y,_t),xt.orientationZ.linearRampToValueAtTime(_orientation.z,_t)}else xt.setPosition(_position.x,_position.y,_position.z),xt.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(ht,xt=2048){this.analyser=ht.context.createAnalyser(),this.analyser.fftSize=xt,this.data=new Uint8Array(this.analyser.frequencyBinCount),ht.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let ht=0;const xt=this.getFrequencyData();for(let _t=0;_t<xt.length;_t++)ht+=xt[_t];return ht/xt.length}}class PropertyMixer{constructor(ht,xt,_t){this.binding=ht,this.valueSize=_t;let St,wt,At;switch(xt){case"quaternion":St=this._slerp,wt=this._slerpAdditive,At=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(_t*6),this._workIndex=5;break;case"string":case"bool":St=this._select,wt=this._select,At=this._setAdditiveIdentityOther,this.buffer=new Array(_t*5);break;default:St=this._lerp,wt=this._lerpAdditive,At=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(_t*5)}this._mixBufferRegion=St,this._mixBufferRegionAdditive=wt,this._setIdentity=At,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(ht,xt){const _t=this.buffer,St=this.valueSize,wt=ht*St+St;let At=this.cumulativeWeight;if(At===0){for(let Ct=0;Ct!==St;++Ct)_t[wt+Ct]=_t[Ct];At=xt}else{At+=xt;const Ct=xt/At;this._mixBufferRegion(_t,wt,0,Ct,St)}this.cumulativeWeight=At}accumulateAdditive(ht){const xt=this.buffer,_t=this.valueSize,St=_t*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(xt,St,0,ht,_t),this.cumulativeWeightAdditive+=ht}apply(ht){const xt=this.valueSize,_t=this.buffer,St=ht*xt+xt,wt=this.cumulativeWeight,At=this.cumulativeWeightAdditive,Ct=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,wt<1){const Rt=xt*this._origIndex;this._mixBufferRegion(_t,St,Rt,1-wt,xt)}At>0&&this._mixBufferRegionAdditive(_t,St,this._addIndex*xt,1,xt);for(let Rt=xt,It=xt+xt;Rt!==It;++Rt)if(_t[Rt]!==_t[Rt+xt]){Ct.setValue(_t,St);break}}saveOriginalState(){const ht=this.binding,xt=this.buffer,_t=this.valueSize,St=_t*this._origIndex;ht.getValue(xt,St);for(let wt=_t,At=St;wt!==At;++wt)xt[wt]=xt[St+wt%_t];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const ht=this.valueSize*3;this.binding.setValue(this.buffer,ht)}_setAdditiveIdentityNumeric(){const ht=this._addIndex*this.valueSize,xt=ht+this.valueSize;for(let _t=ht;_t<xt;_t++)this.buffer[_t]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const ht=this._origIndex*this.valueSize,xt=this._addIndex*this.valueSize;for(let _t=0;_t<this.valueSize;_t++)this.buffer[xt+_t]=this.buffer[ht+_t]}_select(ht,xt,_t,St,wt){if(St>=.5)for(let At=0;At!==wt;++At)ht[xt+At]=ht[_t+At]}_slerp(ht,xt,_t,St){Quaternion.slerpFlat(ht,xt,ht,xt,ht,_t,St)}_slerpAdditive(ht,xt,_t,St,wt){const At=this._workIndex*wt;Quaternion.multiplyQuaternionsFlat(ht,At,ht,xt,ht,_t),Quaternion.slerpFlat(ht,xt,ht,xt,ht,At,St)}_lerp(ht,xt,_t,St,wt){const At=1-St;for(let Ct=0;Ct!==wt;++Ct){const Rt=xt+Ct;ht[Rt]=ht[Rt]*At+ht[_t+Ct]*St}}_lerpAdditive(ht,xt,_t,St,wt){for(let At=0;At!==wt;++At){const Ct=xt+At;ht[Ct]=ht[Ct]+ht[_t+At]*St}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(ht,xt,_t){const St=_t||PropertyBinding.parseTrackName(xt);this._targetGroup=ht,this._bindings=ht.subscribe_(xt,St)}getValue(ht,xt){this.bind();const _t=this._targetGroup.nCachedObjects_,St=this._bindings[_t];St!==void 0&&St.getValue(ht,xt)}setValue(ht,xt){const _t=this._bindings;for(let St=this._targetGroup.nCachedObjects_,wt=_t.length;St!==wt;++St)_t[St].setValue(ht,xt)}bind(){const ht=this._bindings;for(let xt=this._targetGroup.nCachedObjects_,_t=ht.length;xt!==_t;++xt)ht[xt].bind()}unbind(){const ht=this._bindings;for(let xt=this._targetGroup.nCachedObjects_,_t=ht.length;xt!==_t;++xt)ht[xt].unbind()}}class PropertyBinding{constructor(ht,xt,_t){this.path=xt,this.parsedPath=_t||PropertyBinding.parseTrackName(xt),this.node=PropertyBinding.findNode(ht,this.parsedPath.nodeName),this.rootNode=ht,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(ht,xt,_t){return ht&&ht.isAnimationObjectGroup?new PropertyBinding.Composite(ht,xt,_t):new PropertyBinding(ht,xt,_t)}static sanitizeNodeName(ht){return ht.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(ht){const xt=_trackRe.exec(ht);if(xt===null)throw new Error("PropertyBinding: Cannot parse trackName: "+ht);const _t={nodeName:xt[2],objectName:xt[3],objectIndex:xt[4],propertyName:xt[5],propertyIndex:xt[6]},St=_t.nodeName&&_t.nodeName.lastIndexOf(".");if(St!==void 0&&St!==-1){const wt=_t.nodeName.substring(St+1);_supportedObjectNames.indexOf(wt)!==-1&&(_t.nodeName=_t.nodeName.substring(0,St),_t.objectName=wt)}if(_t.propertyName===null||_t.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+ht);return _t}static findNode(ht,xt){if(xt===void 0||xt===""||xt==="."||xt===-1||xt===ht.name||xt===ht.uuid)return ht;if(ht.skeleton){const _t=ht.skeleton.getBoneByName(xt);if(_t!==void 0)return _t}if(ht.children){const _t=function(wt){for(let At=0;At<wt.length;At++){const Ct=wt[At];if(Ct.name===xt||Ct.uuid===xt)return Ct;const Rt=_t(Ct.children);if(Rt)return Rt}return null},St=_t(ht.children);if(St)return St}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(ht,xt){ht[xt]=this.targetObject[this.propertyName]}_getValue_array(ht,xt){const _t=this.resolvedProperty;for(let St=0,wt=_t.length;St!==wt;++St)ht[xt++]=_t[St]}_getValue_arrayElement(ht,xt){ht[xt]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(ht,xt){this.resolvedProperty.toArray(ht,xt)}_setValue_direct(ht,xt){this.targetObject[this.propertyName]=ht[xt]}_setValue_direct_setNeedsUpdate(ht,xt){this.targetObject[this.propertyName]=ht[xt],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(ht,xt){this.targetObject[this.propertyName]=ht[xt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(ht,xt){const _t=this.resolvedProperty;for(let St=0,wt=_t.length;St!==wt;++St)_t[St]=ht[xt++]}_setValue_array_setNeedsUpdate(ht,xt){const _t=this.resolvedProperty;for(let St=0,wt=_t.length;St!==wt;++St)_t[St]=ht[xt++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(ht,xt){const _t=this.resolvedProperty;for(let St=0,wt=_t.length;St!==wt;++St)_t[St]=ht[xt++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(ht,xt){this.resolvedProperty[this.propertyIndex]=ht[xt]}_setValue_arrayElement_setNeedsUpdate(ht,xt){this.resolvedProperty[this.propertyIndex]=ht[xt],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(ht,xt){this.resolvedProperty[this.propertyIndex]=ht[xt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(ht,xt){this.resolvedProperty.fromArray(ht,xt)}_setValue_fromArray_setNeedsUpdate(ht,xt){this.resolvedProperty.fromArray(ht,xt),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(ht,xt){this.resolvedProperty.fromArray(ht,xt),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(ht,xt){this.bind(),this.getValue(ht,xt)}_setValue_unbound(ht,xt){this.bind(),this.setValue(ht,xt)}bind(){let ht=this.node;const xt=this.parsedPath,_t=xt.objectName,St=xt.propertyName;let wt=xt.propertyIndex;if(ht||(ht=PropertyBinding.findNode(this.rootNode,xt.nodeName),this.node=ht),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!ht){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(_t){let It=xt.objectIndex;switch(_t){case"materials":if(!ht.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!ht.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}ht=ht.material.materials;break;case"bones":if(!ht.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}ht=ht.skeleton.bones;for(let Lt=0;Lt<ht.length;Lt++)if(ht[Lt].name===It){It=Lt;break}break;case"map":if("map"in ht){ht=ht.map;break}if(!ht.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!ht.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}ht=ht.material.map;break;default:if(ht[_t]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}ht=ht[_t]}if(It!==void 0){if(ht[It]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,ht);return}ht=ht[It]}}const At=ht[St];if(At===void 0){const It=xt.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+It+"."+St+" but it wasn't found.",ht);return}let Ct=this.Versioning.None;this.targetObject=ht,ht.needsUpdate!==void 0?Ct=this.Versioning.NeedsUpdate:ht.matrixWorldNeedsUpdate!==void 0&&(Ct=this.Versioning.MatrixWorldNeedsUpdate);let Rt=this.BindingType.Direct;if(wt!==void 0){if(St==="morphTargetInfluences"){if(!ht.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!ht.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}ht.morphTargetDictionary[wt]!==void 0&&(wt=ht.morphTargetDictionary[wt])}Rt=this.BindingType.ArrayElement,this.resolvedProperty=At,this.propertyIndex=wt}else At.fromArray!==void 0&&At.toArray!==void 0?(Rt=this.BindingType.HasFromToArray,this.resolvedProperty=At):Array.isArray(At)?(Rt=this.BindingType.EntireArray,this.resolvedProperty=At):this.propertyName=St;this.getValue=this.GetterByBindingType[Rt],this.setValue=this.SetterByBindingTypeAndVersioning[Rt][Ct]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const ht={};this._indicesByUUID=ht;for(let _t=0,St=arguments.length;_t!==St;++_t)ht[arguments[_t].uuid]=_t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const xt=this;this.stats={objects:{get total(){return xt._objects.length},get inUse(){return this.total-xt.nCachedObjects_}},get bindingsPerObject(){return xt._bindings.length}}}add(){const ht=this._objects,xt=this._indicesByUUID,_t=this._paths,St=this._parsedPaths,wt=this._bindings,At=wt.length;let Ct,Rt=ht.length,It=this.nCachedObjects_;for(let Lt=0,kt=arguments.length;Lt!==kt;++Lt){const Dt=arguments[Lt],$t=Dt.uuid;let Ot=xt[$t];if(Ot===void 0){Ot=Rt++,xt[$t]=Ot,ht.push(Dt);for(let zt=0,Gt=At;zt!==Gt;++zt)wt[zt].push(new PropertyBinding(Dt,_t[zt],St[zt]))}else if(Ot<It){Ct=ht[Ot];const zt=--It,Gt=ht[zt];xt[Gt.uuid]=Ot,ht[Ot]=Gt,xt[$t]=zt,ht[zt]=Dt;for(let Bt=0,Ut=At;Bt!==Ut;++Bt){const Vt=wt[Bt],Ht=Vt[zt];let Xt=Vt[Ot];Vt[Ot]=Ht,Xt===void 0&&(Xt=new PropertyBinding(Dt,_t[Bt],St[Bt])),Vt[zt]=Xt}}else ht[Ot]!==Ct&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=It}remove(){const ht=this._objects,xt=this._indicesByUUID,_t=this._bindings,St=_t.length;let wt=this.nCachedObjects_;for(let At=0,Ct=arguments.length;At!==Ct;++At){const Rt=arguments[At],It=Rt.uuid,Lt=xt[It];if(Lt!==void 0&&Lt>=wt){const kt=wt++,Dt=ht[kt];xt[Dt.uuid]=Lt,ht[Lt]=Dt,xt[It]=kt,ht[kt]=Rt;for(let $t=0,Ot=St;$t!==Ot;++$t){const zt=_t[$t],Gt=zt[kt],Bt=zt[Lt];zt[Lt]=Gt,zt[kt]=Bt}}}this.nCachedObjects_=wt}uncache(){const ht=this._objects,xt=this._indicesByUUID,_t=this._bindings,St=_t.length;let wt=this.nCachedObjects_,At=ht.length;for(let Ct=0,Rt=arguments.length;Ct!==Rt;++Ct){const It=arguments[Ct],Lt=It.uuid,kt=xt[Lt];if(kt!==void 0)if(delete xt[Lt],kt<wt){const Dt=--wt,$t=ht[Dt],Ot=--At,zt=ht[Ot];xt[$t.uuid]=kt,ht[kt]=$t,xt[zt.uuid]=Dt,ht[Dt]=zt,ht.pop();for(let Gt=0,Bt=St;Gt!==Bt;++Gt){const Ut=_t[Gt],Vt=Ut[Dt],Ht=Ut[Ot];Ut[kt]=Vt,Ut[Dt]=Ht,Ut.pop()}}else{const Dt=--At,$t=ht[Dt];Dt>0&&(xt[$t.uuid]=kt),ht[kt]=$t,ht.pop();for(let Ot=0,zt=St;Ot!==zt;++Ot){const Gt=_t[Ot];Gt[kt]=Gt[Dt],Gt.pop()}}}this.nCachedObjects_=wt}subscribe_(ht,xt){const _t=this._bindingsIndicesByPath;let St=_t[ht];const wt=this._bindings;if(St!==void 0)return wt[St];const At=this._paths,Ct=this._parsedPaths,Rt=this._objects,It=Rt.length,Lt=this.nCachedObjects_,kt=new Array(It);St=wt.length,_t[ht]=St,At.push(ht),Ct.push(xt),wt.push(kt);for(let Dt=Lt,$t=Rt.length;Dt!==$t;++Dt){const Ot=Rt[Dt];kt[Dt]=new PropertyBinding(Ot,ht,xt)}return kt}unsubscribe_(ht){const xt=this._bindingsIndicesByPath,_t=xt[ht];if(_t!==void 0){const St=this._paths,wt=this._parsedPaths,At=this._bindings,Ct=At.length-1,Rt=At[Ct],It=ht[Ct];xt[It]=_t,At[_t]=Rt,At.pop(),wt[_t]=wt[Ct],wt.pop(),St[_t]=St[Ct],St.pop()}}}class AnimationAction{constructor(ht,xt,_t=null,St=xt.blendMode){this._mixer=ht,this._clip=xt,this._localRoot=_t,this.blendMode=St;const wt=xt.tracks,At=wt.length,Ct=new Array(At),Rt={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let It=0;It!==At;++It){const Lt=wt[It].createInterpolant(null);Ct[It]=Lt,Lt.settings=Rt}this._interpolantSettings=Rt,this._interpolants=Ct,this._propertyBindings=new Array(At),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(ht){return this._startTime=ht,this}setLoop(ht,xt){return this.loop=ht,this.repetitions=xt,this}setEffectiveWeight(ht){return this.weight=ht,this._effectiveWeight=this.enabled?ht:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(ht){return this._scheduleFading(ht,0,1)}fadeOut(ht){return this._scheduleFading(ht,1,0)}crossFadeFrom(ht,xt,_t){if(ht.fadeOut(xt),this.fadeIn(xt),_t){const St=this._clip.duration,wt=ht._clip.duration,At=wt/St,Ct=St/wt;ht.warp(1,At,xt),this.warp(Ct,1,xt)}return this}crossFadeTo(ht,xt,_t){return ht.crossFadeFrom(this,xt,_t)}stopFading(){const ht=this._weightInterpolant;return ht!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(ht)),this}setEffectiveTimeScale(ht){return this.timeScale=ht,this._effectiveTimeScale=this.paused?0:ht,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(ht){return this.timeScale=this._clip.duration/ht,this.stopWarping()}syncWith(ht){return this.time=ht.time,this.timeScale=ht.timeScale,this.stopWarping()}halt(ht){return this.warp(this._effectiveTimeScale,0,ht)}warp(ht,xt,_t){const St=this._mixer,wt=St.time,At=this.timeScale;let Ct=this._timeScaleInterpolant;Ct===null&&(Ct=St._lendControlInterpolant(),this._timeScaleInterpolant=Ct);const Rt=Ct.parameterPositions,It=Ct.sampleValues;return Rt[0]=wt,Rt[1]=wt+_t,It[0]=ht/At,It[1]=xt/At,this}stopWarping(){const ht=this._timeScaleInterpolant;return ht!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(ht)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(ht,xt,_t,St){if(!this.enabled){this._updateWeight(ht);return}const wt=this._startTime;if(wt!==null){const Rt=(ht-wt)*_t;Rt<0||_t===0?xt=0:(this._startTime=null,xt=_t*Rt)}xt*=this._updateTimeScale(ht);const At=this._updateTime(xt),Ct=this._updateWeight(ht);if(Ct>0){const Rt=this._interpolants,It=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let Lt=0,kt=Rt.length;Lt!==kt;++Lt)Rt[Lt].evaluate(At),It[Lt].accumulateAdditive(Ct);break;case NormalAnimationBlendMode:default:for(let Lt=0,kt=Rt.length;Lt!==kt;++Lt)Rt[Lt].evaluate(At),It[Lt].accumulate(St,Ct)}}}_updateWeight(ht){let xt=0;if(this.enabled){xt=this.weight;const _t=this._weightInterpolant;if(_t!==null){const St=_t.evaluate(ht)[0];xt*=St,ht>_t.parameterPositions[1]&&(this.stopFading(),St===0&&(this.enabled=!1))}}return this._effectiveWeight=xt,xt}_updateTimeScale(ht){let xt=0;if(!this.paused){xt=this.timeScale;const _t=this._timeScaleInterpolant;if(_t!==null){const St=_t.evaluate(ht)[0];xt*=St,ht>_t.parameterPositions[1]&&(this.stopWarping(),xt===0?this.paused=!0:this.timeScale=xt)}}return this._effectiveTimeScale=xt,xt}_updateTime(ht){const xt=this._clip.duration,_t=this.loop;let St=this.time+ht,wt=this._loopCount;const At=_t===LoopPingPong;if(ht===0)return wt===-1?St:At&&(wt&1)===1?xt-St:St;if(_t===LoopOnce){wt===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(St>=xt)St=xt;else if(St<0)St=0;else{this.time=St;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=St,this._mixer.dispatchEvent({type:"finished",action:this,direction:ht<0?-1:1})}}else{if(wt===-1&&(ht>=0?(wt=0,this._setEndings(!0,this.repetitions===0,At)):this._setEndings(this.repetitions===0,!0,At)),St>=xt||St<0){const Ct=Math.floor(St/xt);St-=xt*Ct,wt+=Math.abs(Ct);const Rt=this.repetitions-wt;if(Rt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,St=ht>0?xt:0,this.time=St,this._mixer.dispatchEvent({type:"finished",action:this,direction:ht>0?1:-1});else{if(Rt===1){const It=ht<0;this._setEndings(It,!It,At)}else this._setEndings(!1,!1,At);this._loopCount=wt,this.time=St,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:Ct})}}else this.time=St;if(At&&(wt&1)===1)return xt-St}return St}_setEndings(ht,xt,_t){const St=this._interpolantSettings;_t?(St.endingStart=ZeroSlopeEnding,St.endingEnd=ZeroSlopeEnding):(ht?St.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:St.endingStart=WrapAroundEnding,xt?St.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:St.endingEnd=WrapAroundEnding)}_scheduleFading(ht,xt,_t){const St=this._mixer,wt=St.time;let At=this._weightInterpolant;At===null&&(At=St._lendControlInterpolant(),this._weightInterpolant=At);const Ct=At.parameterPositions,Rt=At.sampleValues;return Ct[0]=wt,Rt[0]=xt,Ct[1]=wt+ht,Rt[1]=_t,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher$1{constructor(ht){super(),this._root=ht,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(ht,xt){const _t=ht._localRoot||this._root,St=ht._clip.tracks,wt=St.length,At=ht._propertyBindings,Ct=ht._interpolants,Rt=_t.uuid,It=this._bindingsByRootAndName;let Lt=It[Rt];Lt===void 0&&(Lt={},It[Rt]=Lt);for(let kt=0;kt!==wt;++kt){const Dt=St[kt],$t=Dt.name;let Ot=Lt[$t];if(Ot!==void 0)++Ot.referenceCount,At[kt]=Ot;else{if(Ot=At[kt],Ot!==void 0){Ot._cacheIndex===null&&(++Ot.referenceCount,this._addInactiveBinding(Ot,Rt,$t));continue}const zt=xt&&xt._propertyBindings[kt].binding.parsedPath;Ot=new PropertyMixer(PropertyBinding.create(_t,$t,zt),Dt.ValueTypeName,Dt.getValueSize()),++Ot.referenceCount,this._addInactiveBinding(Ot,Rt,$t),At[kt]=Ot}Ct[kt].resultBuffer=Ot.buffer}}_activateAction(ht){if(!this._isActiveAction(ht)){if(ht._cacheIndex===null){const _t=(ht._localRoot||this._root).uuid,St=ht._clip.uuid,wt=this._actionsByClip[St];this._bindAction(ht,wt&&wt.knownActions[0]),this._addInactiveAction(ht,St,_t)}const xt=ht._propertyBindings;for(let _t=0,St=xt.length;_t!==St;++_t){const wt=xt[_t];wt.useCount++===0&&(this._lendBinding(wt),wt.saveOriginalState())}this._lendAction(ht)}}_deactivateAction(ht){if(this._isActiveAction(ht)){const xt=ht._propertyBindings;for(let _t=0,St=xt.length;_t!==St;++_t){const wt=xt[_t];--wt.useCount===0&&(wt.restoreOriginalState(),this._takeBackBinding(wt))}this._takeBackAction(ht)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const ht=this;this.stats={actions:{get total(){return ht._actions.length},get inUse(){return ht._nActiveActions}},bindings:{get total(){return ht._bindings.length},get inUse(){return ht._nActiveBindings}},controlInterpolants:{get total(){return ht._controlInterpolants.length},get inUse(){return ht._nActiveControlInterpolants}}}}_isActiveAction(ht){const xt=ht._cacheIndex;return xt!==null&&xt<this._nActiveActions}_addInactiveAction(ht,xt,_t){const St=this._actions,wt=this._actionsByClip;let At=wt[xt];if(At===void 0)At={knownActions:[ht],actionByRoot:{}},ht._byClipCacheIndex=0,wt[xt]=At;else{const Ct=At.knownActions;ht._byClipCacheIndex=Ct.length,Ct.push(ht)}ht._cacheIndex=St.length,St.push(ht),At.actionByRoot[_t]=ht}_removeInactiveAction(ht){const xt=this._actions,_t=xt[xt.length-1],St=ht._cacheIndex;_t._cacheIndex=St,xt[St]=_t,xt.pop(),ht._cacheIndex=null;const wt=ht._clip.uuid,At=this._actionsByClip,Ct=At[wt],Rt=Ct.knownActions,It=Rt[Rt.length-1],Lt=ht._byClipCacheIndex;It._byClipCacheIndex=Lt,Rt[Lt]=It,Rt.pop(),ht._byClipCacheIndex=null;const kt=Ct.actionByRoot,Dt=(ht._localRoot||this._root).uuid;delete kt[Dt],Rt.length===0&&delete At[wt],this._removeInactiveBindingsForAction(ht)}_removeInactiveBindingsForAction(ht){const xt=ht._propertyBindings;for(let _t=0,St=xt.length;_t!==St;++_t){const wt=xt[_t];--wt.referenceCount===0&&this._removeInactiveBinding(wt)}}_lendAction(ht){const xt=this._actions,_t=ht._cacheIndex,St=this._nActiveActions++,wt=xt[St];ht._cacheIndex=St,xt[St]=ht,wt._cacheIndex=_t,xt[_t]=wt}_takeBackAction(ht){const xt=this._actions,_t=ht._cacheIndex,St=--this._nActiveActions,wt=xt[St];ht._cacheIndex=St,xt[St]=ht,wt._cacheIndex=_t,xt[_t]=wt}_addInactiveBinding(ht,xt,_t){const St=this._bindingsByRootAndName,wt=this._bindings;let At=St[xt];At===void 0&&(At={},St[xt]=At),At[_t]=ht,ht._cacheIndex=wt.length,wt.push(ht)}_removeInactiveBinding(ht){const xt=this._bindings,_t=ht.binding,St=_t.rootNode.uuid,wt=_t.path,At=this._bindingsByRootAndName,Ct=At[St],Rt=xt[xt.length-1],It=ht._cacheIndex;Rt._cacheIndex=It,xt[It]=Rt,xt.pop(),delete Ct[wt],Object.keys(Ct).length===0&&delete At[St]}_lendBinding(ht){const xt=this._bindings,_t=ht._cacheIndex,St=this._nActiveBindings++,wt=xt[St];ht._cacheIndex=St,xt[St]=ht,wt._cacheIndex=_t,xt[_t]=wt}_takeBackBinding(ht){const xt=this._bindings,_t=ht._cacheIndex,St=--this._nActiveBindings,wt=xt[St];ht._cacheIndex=St,xt[St]=ht,wt._cacheIndex=_t,xt[_t]=wt}_lendControlInterpolant(){const ht=this._controlInterpolants,xt=this._nActiveControlInterpolants++;let _t=ht[xt];return _t===void 0&&(_t=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),_t.__cacheIndex=xt,ht[xt]=_t),_t}_takeBackControlInterpolant(ht){const xt=this._controlInterpolants,_t=ht.__cacheIndex,St=--this._nActiveControlInterpolants,wt=xt[St];ht.__cacheIndex=St,xt[St]=ht,wt.__cacheIndex=_t,xt[_t]=wt}clipAction(ht,xt,_t){const St=xt||this._root,wt=St.uuid;let At=typeof ht=="string"?AnimationClip.findByName(St,ht):ht;const Ct=At!==null?At.uuid:ht,Rt=this._actionsByClip[Ct];let It=null;if(_t===void 0&&(At!==null?_t=At.blendMode:_t=NormalAnimationBlendMode),Rt!==void 0){const kt=Rt.actionByRoot[wt];if(kt!==void 0&&kt.blendMode===_t)return kt;It=Rt.knownActions[0],At===null&&(At=It._clip)}if(At===null)return null;const Lt=new AnimationAction(this,At,xt,_t);return this._bindAction(Lt,It),this._addInactiveAction(Lt,Ct,wt),Lt}existingAction(ht,xt){const _t=xt||this._root,St=_t.uuid,wt=typeof ht=="string"?AnimationClip.findByName(_t,ht):ht,At=wt?wt.uuid:ht,Ct=this._actionsByClip[At];return Ct!==void 0&&Ct.actionByRoot[St]||null}stopAllAction(){const ht=this._actions,xt=this._nActiveActions;for(let _t=xt-1;_t>=0;--_t)ht[_t].stop();return this}update(ht){ht*=this.timeScale;const xt=this._actions,_t=this._nActiveActions,St=this.time+=ht,wt=Math.sign(ht),At=this._accuIndex^=1;for(let It=0;It!==_t;++It)xt[It]._update(St,ht,wt,At);const Ct=this._bindings,Rt=this._nActiveBindings;for(let It=0;It!==Rt;++It)Ct[It].apply(At);return this}setTime(ht){this.time=0;for(let xt=0;xt<this._actions.length;xt++)this._actions[xt].time=0;return this.update(ht)}getRoot(){return this._root}uncacheClip(ht){const xt=this._actions,_t=ht.uuid,St=this._actionsByClip,wt=St[_t];if(wt!==void 0){const At=wt.knownActions;for(let Ct=0,Rt=At.length;Ct!==Rt;++Ct){const It=At[Ct];this._deactivateAction(It);const Lt=It._cacheIndex,kt=xt[xt.length-1];It._cacheIndex=null,It._byClipCacheIndex=null,kt._cacheIndex=Lt,xt[Lt]=kt,xt.pop(),this._removeInactiveBindingsForAction(It)}delete St[_t]}}uncacheRoot(ht){const xt=ht.uuid,_t=this._actionsByClip;for(const At in _t){const Ct=_t[At].actionByRoot,Rt=Ct[xt];Rt!==void 0&&(this._deactivateAction(Rt),this._removeInactiveAction(Rt))}const St=this._bindingsByRootAndName,wt=St[xt];if(wt!==void 0)for(const At in wt){const Ct=wt[At];Ct.restoreOriginalState(),this._removeInactiveBinding(Ct)}}uncacheAction(ht,xt){const _t=this.existingAction(ht,xt);_t!==null&&(this._deactivateAction(_t),this._removeInactiveAction(_t))}}class Uniform{constructor(ht){this.value=ht}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id=0;class UniformsGroup extends EventDispatcher$1{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(ht){return this.uniforms.push(ht),this}remove(ht){const xt=this.uniforms.indexOf(ht);return xt!==-1&&this.uniforms.splice(xt,1),this}setName(ht){return this.name=ht,this}setUsage(ht){return this.usage=ht,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(ht){this.name=ht.name,this.usage=ht.usage;const xt=ht.uniforms;this.uniforms.length=0;for(let _t=0,St=xt.length;_t<St;_t++){const wt=Array.isArray(xt[_t])?xt[_t]:[xt[_t]];for(let At=0;At<wt.length;At++)this.uniforms.push(wt[At].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(ht,xt,_t=1){super(ht,xt),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=_t}copy(ht){return super.copy(ht),this.meshPerAttribute=ht.meshPerAttribute,this}clone(ht){const xt=super.clone(ht);return xt.meshPerAttribute=this.meshPerAttribute,xt}toJSON(ht){const xt=super.toJSON(ht);return xt.isInstancedInterleavedBuffer=!0,xt.meshPerAttribute=this.meshPerAttribute,xt}}class GLBufferAttribute{constructor(ht,xt,_t,St,wt){this.isGLBufferAttribute=!0,this.name="",this.buffer=ht,this.type=xt,this.itemSize=_t,this.elementSize=St,this.count=wt,this.version=0}set needsUpdate(ht){ht===!0&&this.version++}setBuffer(ht){return this.buffer=ht,this}setType(ht,xt){return this.type=ht,this.elementSize=xt,this}setItemSize(ht){return this.itemSize=ht,this}setCount(ht){return this.count=ht,this}}const _matrix=new Matrix4;class Raycaster{constructor(ht,xt,_t=0,St=1/0){this.ray=new Ray(ht,xt),this.near=_t,this.far=St,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(ht,xt){this.ray.set(ht,xt)}setFromCamera(ht,xt){xt.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(xt.matrixWorld),this.ray.direction.set(ht.x,ht.y,.5).unproject(xt).sub(this.ray.origin).normalize(),this.camera=xt):xt.isOrthographicCamera?(this.ray.origin.set(ht.x,ht.y,(xt.near+xt.far)/(xt.near-xt.far)).unproject(xt),this.ray.direction.set(0,0,-1).transformDirection(xt.matrixWorld),this.camera=xt):console.error("THREE.Raycaster: Unsupported camera type: "+xt.type)}setFromXRController(ht){return _matrix.identity().extractRotation(ht.matrixWorld),this.ray.origin.setFromMatrixPosition(ht.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(ht,xt=!0,_t=[]){return intersect(ht,this,_t,xt),_t.sort(ascSort),_t}intersectObjects(ht,xt=!0,_t=[]){for(let St=0,wt=ht.length;St<wt;St++)intersect(ht[St],this,_t,xt);return _t.sort(ascSort),_t}}function ascSort(vt,ht){return vt.distance-ht.distance}function intersect(vt,ht,xt,_t){let St=!0;if(vt.layers.test(ht.layers)&&vt.raycast(ht,xt)===!1&&(St=!1),St===!0&&_t===!0){const wt=vt.children;for(let At=0,Ct=wt.length;At<Ct;At++)intersect(wt[At],ht,xt,!0)}}class Spherical{constructor(ht=1,xt=0,_t=0){return this.radius=ht,this.phi=xt,this.theta=_t,this}set(ht,xt,_t){return this.radius=ht,this.phi=xt,this.theta=_t,this}copy(ht){return this.radius=ht.radius,this.phi=ht.phi,this.theta=ht.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(ht){return this.setFromCartesianCoords(ht.x,ht.y,ht.z)}setFromCartesianCoords(ht,xt,_t){return this.radius=Math.sqrt(ht*ht+xt*xt+_t*_t),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(ht,_t),this.phi=Math.acos(clamp(xt/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(ht=1,xt=0,_t=0){return this.radius=ht,this.theta=xt,this.y=_t,this}set(ht,xt,_t){return this.radius=ht,this.theta=xt,this.y=_t,this}copy(ht){return this.radius=ht.radius,this.theta=ht.theta,this.y=ht.y,this}setFromVector3(ht){return this.setFromCartesianCoords(ht.x,ht.y,ht.z)}setFromCartesianCoords(ht,xt,_t){return this.radius=Math.sqrt(ht*ht+_t*_t),this.theta=Math.atan2(ht,_t),this.y=xt,this}clone(){return new this.constructor().copy(this)}}class Matrix2{constructor(ht,xt,_t,St){Matrix2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],ht!==void 0&&this.set(ht,xt,_t,St)}identity(){return this.set(1,0,0,1),this}fromArray(ht,xt=0){for(let _t=0;_t<4;_t++)this.elements[_t]=ht[_t+xt];return this}set(ht,xt,_t,St){const wt=this.elements;return wt[0]=ht,wt[2]=xt,wt[1]=_t,wt[3]=St,this}}const _vector$4=new Vector2;class Box2{constructor(ht=new Vector2(1/0,1/0),xt=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=ht,this.max=xt}set(ht,xt){return this.min.copy(ht),this.max.copy(xt),this}setFromPoints(ht){this.makeEmpty();for(let xt=0,_t=ht.length;xt<_t;xt++)this.expandByPoint(ht[xt]);return this}setFromCenterAndSize(ht,xt){const _t=_vector$4.copy(xt).multiplyScalar(.5);return this.min.copy(ht).sub(_t),this.max.copy(ht).add(_t),this}clone(){return new this.constructor().copy(this)}copy(ht){return this.min.copy(ht.min),this.max.copy(ht.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(ht){return this.isEmpty()?ht.set(0,0):ht.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(ht){return this.isEmpty()?ht.set(0,0):ht.subVectors(this.max,this.min)}expandByPoint(ht){return this.min.min(ht),this.max.max(ht),this}expandByVector(ht){return this.min.sub(ht),this.max.add(ht),this}expandByScalar(ht){return this.min.addScalar(-ht),this.max.addScalar(ht),this}containsPoint(ht){return ht.x>=this.min.x&&ht.x<=this.max.x&&ht.y>=this.min.y&&ht.y<=this.max.y}containsBox(ht){return this.min.x<=ht.min.x&&ht.max.x<=this.max.x&&this.min.y<=ht.min.y&&ht.max.y<=this.max.y}getParameter(ht,xt){return xt.set((ht.x-this.min.x)/(this.max.x-this.min.x),(ht.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(ht){return ht.max.x>=this.min.x&&ht.min.x<=this.max.x&&ht.max.y>=this.min.y&&ht.min.y<=this.max.y}clampPoint(ht,xt){return xt.copy(ht).clamp(this.min,this.max)}distanceToPoint(ht){return this.clampPoint(ht,_vector$4).distanceTo(ht)}intersect(ht){return this.min.max(ht.min),this.max.min(ht.max),this.isEmpty()&&this.makeEmpty(),this}union(ht){return this.min.min(ht.min),this.max.max(ht.max),this}translate(ht){return this.min.add(ht),this.max.add(ht),this}equals(ht){return ht.min.equals(this.min)&&ht.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(ht=new Vector3,xt=new Vector3){this.start=ht,this.end=xt}set(ht,xt){return this.start.copy(ht),this.end.copy(xt),this}copy(ht){return this.start.copy(ht.start),this.end.copy(ht.end),this}getCenter(ht){return ht.addVectors(this.start,this.end).multiplyScalar(.5)}delta(ht){return ht.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(ht,xt){return this.delta(xt).multiplyScalar(ht).add(this.start)}closestPointToPointParameter(ht,xt){_startP.subVectors(ht,this.start),_startEnd.subVectors(this.end,this.start);const _t=_startEnd.dot(_startEnd);let wt=_startEnd.dot(_startP)/_t;return xt&&(wt=clamp(wt,0,1)),wt}closestPointToPoint(ht,xt,_t){const St=this.closestPointToPointParameter(ht,xt);return this.delta(_t).multiplyScalar(St).add(this.start)}applyMatrix4(ht){return this.start.applyMatrix4(ht),this.end.applyMatrix4(ht),this}equals(ht){return ht.start.equals(this.start)&&ht.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(ht,xt){super(),this.light=ht,this.matrixAutoUpdate=!1,this.color=xt,this.type="SpotLightHelper";const _t=new BufferGeometry,St=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let At=0,Ct=1,Rt=32;At<Rt;At++,Ct++){const It=At/Rt*Math.PI*2,Lt=Ct/Rt*Math.PI*2;St.push(Math.cos(It),Math.sin(It),1,Math.cos(Lt),Math.sin(Lt),1)}_t.setAttribute("position",new Float32BufferAttribute(St,3));const wt=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(_t,wt),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const ht=this.light.distance?this.light.distance:1e3,xt=ht*Math.tan(this.light.angle);this.cone.scale.set(xt,xt,ht),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(ht){const xt=getBoneList(ht),_t=new BufferGeometry,St=[],wt=[],At=new Color(0,0,1),Ct=new Color(0,1,0);for(let It=0;It<xt.length;It++){const Lt=xt[It];Lt.parent&&Lt.parent.isBone&&(St.push(0,0,0),St.push(0,0,0),wt.push(At.r,At.g,At.b),wt.push(Ct.r,Ct.g,Ct.b))}_t.setAttribute("position",new Float32BufferAttribute(St,3)),_t.setAttribute("color",new Float32BufferAttribute(wt,3));const Rt=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(_t,Rt),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=ht,this.bones=xt,this.matrix=ht.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(ht){const xt=this.bones,_t=this.geometry,St=_t.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let wt=0,At=0;wt<xt.length;wt++){const Ct=xt[wt];Ct.parent&&Ct.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,Ct.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),St.setXYZ(At,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,Ct.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),St.setXYZ(At+1,_vector$2.x,_vector$2.y,_vector$2.z),At+=2)}_t.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(ht)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(vt){const ht=[];vt.isBone===!0&&ht.push(vt);for(let xt=0;xt<vt.children.length;xt++)ht.push.apply(ht,getBoneList(vt.children[xt]));return ht}class PointLightHelper extends Mesh{constructor(ht,xt,_t){const St=new SphereGeometry(xt,4,2),wt=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(St,wt),this.light=ht,this.color=_t,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(ht,xt,_t){super(),this.light=ht,this.matrix=ht.matrixWorld,this.matrixAutoUpdate=!1,this.color=_t,this.type="HemisphereLightHelper";const St=new OctahedronGeometry(xt);St.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const wt=St.getAttribute("position"),At=new Float32Array(wt.count*3);St.setAttribute("color",new BufferAttribute(At,3)),this.add(new Mesh(St,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const ht=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const xt=ht.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let _t=0,St=xt.count;_t<St;_t++){const wt=_t<St/2?_color1:_color2;xt.setXYZ(_t,wt.r,wt.g,wt.b)}xt.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),ht.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(ht=10,xt=10,_t=4473924,St=8947848){_t=new Color(_t),St=new Color(St);const wt=xt/2,At=ht/xt,Ct=ht/2,Rt=[],It=[];for(let Dt=0,$t=0,Ot=-Ct;Dt<=xt;Dt++,Ot+=At){Rt.push(-Ct,0,Ot,Ct,0,Ot),Rt.push(Ot,0,-Ct,Ot,0,Ct);const zt=Dt===wt?_t:St;zt.toArray(It,$t),$t+=3,zt.toArray(It,$t),$t+=3,zt.toArray(It,$t),$t+=3,zt.toArray(It,$t),$t+=3}const Lt=new BufferGeometry;Lt.setAttribute("position",new Float32BufferAttribute(Rt,3)),Lt.setAttribute("color",new Float32BufferAttribute(It,3));const kt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(Lt,kt),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(ht=10,xt=16,_t=8,St=64,wt=4473924,At=8947848){wt=new Color(wt),At=new Color(At);const Ct=[],Rt=[];if(xt>1)for(let kt=0;kt<xt;kt++){const Dt=kt/xt*(Math.PI*2),$t=Math.sin(Dt)*ht,Ot=Math.cos(Dt)*ht;Ct.push(0,0,0),Ct.push($t,0,Ot);const zt=kt&1?wt:At;Rt.push(zt.r,zt.g,zt.b),Rt.push(zt.r,zt.g,zt.b)}for(let kt=0;kt<_t;kt++){const Dt=kt&1?wt:At,$t=ht-ht/_t*kt;for(let Ot=0;Ot<St;Ot++){let zt=Ot/St*(Math.PI*2),Gt=Math.sin(zt)*$t,Bt=Math.cos(zt)*$t;Ct.push(Gt,0,Bt),Rt.push(Dt.r,Dt.g,Dt.b),zt=(Ot+1)/St*(Math.PI*2),Gt=Math.sin(zt)*$t,Bt=Math.cos(zt)*$t,Ct.push(Gt,0,Bt),Rt.push(Dt.r,Dt.g,Dt.b)}}const It=new BufferGeometry;It.setAttribute("position",new Float32BufferAttribute(Ct,3)),It.setAttribute("color",new Float32BufferAttribute(Rt,3));const Lt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(It,Lt),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(ht,xt,_t){super(),this.light=ht,this.matrix=ht.matrixWorld,this.matrixAutoUpdate=!1,this.color=_t,this.type="DirectionalLightHelper",xt===void 0&&(xt=1);let St=new BufferGeometry;St.setAttribute("position",new Float32BufferAttribute([-xt,xt,0,xt,xt,0,xt,-xt,0,-xt,-xt,0,-xt,xt,0],3));const wt=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(St,wt),this.add(this.lightPlane),St=new BufferGeometry,St.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(St,wt),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(ht){const xt=new BufferGeometry,_t=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),St=[],wt=[],At={};Ct("n1","n2"),Ct("n2","n4"),Ct("n4","n3"),Ct("n3","n1"),Ct("f1","f2"),Ct("f2","f4"),Ct("f4","f3"),Ct("f3","f1"),Ct("n1","f1"),Ct("n2","f2"),Ct("n3","f3"),Ct("n4","f4"),Ct("p","n1"),Ct("p","n2"),Ct("p","n3"),Ct("p","n4"),Ct("u1","u2"),Ct("u2","u3"),Ct("u3","u1"),Ct("c","t"),Ct("p","c"),Ct("cn1","cn2"),Ct("cn3","cn4"),Ct("cf1","cf2"),Ct("cf3","cf4");function Ct(Ot,zt){Rt(Ot),Rt(zt)}function Rt(Ot){St.push(0,0,0),wt.push(0,0,0),At[Ot]===void 0&&(At[Ot]=[]),At[Ot].push(St.length/3-1)}xt.setAttribute("position",new Float32BufferAttribute(St,3)),xt.setAttribute("color",new Float32BufferAttribute(wt,3)),super(xt,_t),this.type="CameraHelper",this.camera=ht,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=ht.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=At,this.update();const It=new Color(16755200),Lt=new Color(16711680),kt=new Color(43775),Dt=new Color(16777215),$t=new Color(3355443);this.setColors(It,Lt,kt,Dt,$t)}setColors(ht,xt,_t,St,wt){const Ct=this.geometry.getAttribute("color");Ct.setXYZ(0,ht.r,ht.g,ht.b),Ct.setXYZ(1,ht.r,ht.g,ht.b),Ct.setXYZ(2,ht.r,ht.g,ht.b),Ct.setXYZ(3,ht.r,ht.g,ht.b),Ct.setXYZ(4,ht.r,ht.g,ht.b),Ct.setXYZ(5,ht.r,ht.g,ht.b),Ct.setXYZ(6,ht.r,ht.g,ht.b),Ct.setXYZ(7,ht.r,ht.g,ht.b),Ct.setXYZ(8,ht.r,ht.g,ht.b),Ct.setXYZ(9,ht.r,ht.g,ht.b),Ct.setXYZ(10,ht.r,ht.g,ht.b),Ct.setXYZ(11,ht.r,ht.g,ht.b),Ct.setXYZ(12,ht.r,ht.g,ht.b),Ct.setXYZ(13,ht.r,ht.g,ht.b),Ct.setXYZ(14,ht.r,ht.g,ht.b),Ct.setXYZ(15,ht.r,ht.g,ht.b),Ct.setXYZ(16,ht.r,ht.g,ht.b),Ct.setXYZ(17,ht.r,ht.g,ht.b),Ct.setXYZ(18,ht.r,ht.g,ht.b),Ct.setXYZ(19,ht.r,ht.g,ht.b),Ct.setXYZ(20,ht.r,ht.g,ht.b),Ct.setXYZ(21,ht.r,ht.g,ht.b),Ct.setXYZ(22,ht.r,ht.g,ht.b),Ct.setXYZ(23,ht.r,ht.g,ht.b),Ct.setXYZ(24,xt.r,xt.g,xt.b),Ct.setXYZ(25,xt.r,xt.g,xt.b),Ct.setXYZ(26,xt.r,xt.g,xt.b),Ct.setXYZ(27,xt.r,xt.g,xt.b),Ct.setXYZ(28,xt.r,xt.g,xt.b),Ct.setXYZ(29,xt.r,xt.g,xt.b),Ct.setXYZ(30,xt.r,xt.g,xt.b),Ct.setXYZ(31,xt.r,xt.g,xt.b),Ct.setXYZ(32,_t.r,_t.g,_t.b),Ct.setXYZ(33,_t.r,_t.g,_t.b),Ct.setXYZ(34,_t.r,_t.g,_t.b),Ct.setXYZ(35,_t.r,_t.g,_t.b),Ct.setXYZ(36,_t.r,_t.g,_t.b),Ct.setXYZ(37,_t.r,_t.g,_t.b),Ct.setXYZ(38,St.r,St.g,St.b),Ct.setXYZ(39,St.r,St.g,St.b),Ct.setXYZ(40,wt.r,wt.g,wt.b),Ct.setXYZ(41,wt.r,wt.g,wt.b),Ct.setXYZ(42,wt.r,wt.g,wt.b),Ct.setXYZ(43,wt.r,wt.g,wt.b),Ct.setXYZ(44,wt.r,wt.g,wt.b),Ct.setXYZ(45,wt.r,wt.g,wt.b),Ct.setXYZ(46,wt.r,wt.g,wt.b),Ct.setXYZ(47,wt.r,wt.g,wt.b),Ct.setXYZ(48,wt.r,wt.g,wt.b),Ct.setXYZ(49,wt.r,wt.g,wt.b),Ct.needsUpdate=!0}update(){const ht=this.geometry,xt=this.pointMap,_t=1,St=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",xt,ht,_camera,0,0,-1),setPoint("t",xt,ht,_camera,0,0,1),setPoint("n1",xt,ht,_camera,-_t,-St,-1),setPoint("n2",xt,ht,_camera,_t,-St,-1),setPoint("n3",xt,ht,_camera,-_t,St,-1),setPoint("n4",xt,ht,_camera,_t,St,-1),setPoint("f1",xt,ht,_camera,-_t,-St,1),setPoint("f2",xt,ht,_camera,_t,-St,1),setPoint("f3",xt,ht,_camera,-_t,St,1),setPoint("f4",xt,ht,_camera,_t,St,1),setPoint("u1",xt,ht,_camera,_t*.7,St*1.1,-1),setPoint("u2",xt,ht,_camera,-_t*.7,St*1.1,-1),setPoint("u3",xt,ht,_camera,0,St*2,-1),setPoint("cf1",xt,ht,_camera,-_t,0,1),setPoint("cf2",xt,ht,_camera,_t,0,1),setPoint("cf3",xt,ht,_camera,0,-St,1),setPoint("cf4",xt,ht,_camera,0,St,1),setPoint("cn1",xt,ht,_camera,-_t,0,-1),setPoint("cn2",xt,ht,_camera,_t,0,-1),setPoint("cn3",xt,ht,_camera,0,-St,-1),setPoint("cn4",xt,ht,_camera,0,St,-1),ht.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(vt,ht,xt,_t,St,wt,At){_vector.set(St,wt,At).unproject(_t);const Ct=ht[vt];if(Ct!==void 0){const Rt=xt.getAttribute("position");for(let It=0,Lt=Ct.length;It<Lt;It++)Rt.setXYZ(Ct[It],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(ht,xt=16776960){const _t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),St=new Float32Array(8*3),wt=new BufferGeometry;wt.setIndex(new BufferAttribute(_t,1)),wt.setAttribute("position",new BufferAttribute(St,3)),super(wt,new LineBasicMaterial({color:xt,toneMapped:!1})),this.object=ht,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(ht){if(ht!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const xt=_box.min,_t=_box.max,St=this.geometry.attributes.position,wt=St.array;wt[0]=_t.x,wt[1]=_t.y,wt[2]=_t.z,wt[3]=xt.x,wt[4]=_t.y,wt[5]=_t.z,wt[6]=xt.x,wt[7]=xt.y,wt[8]=_t.z,wt[9]=_t.x,wt[10]=xt.y,wt[11]=_t.z,wt[12]=_t.x,wt[13]=_t.y,wt[14]=xt.z,wt[15]=xt.x,wt[16]=_t.y,wt[17]=xt.z,wt[18]=xt.x,wt[19]=xt.y,wt[20]=xt.z,wt[21]=_t.x,wt[22]=xt.y,wt[23]=xt.z,St.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(ht){return this.object=ht,this.update(),this}copy(ht,xt){return super.copy(ht,xt),this.object=ht.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(ht,xt=16776960){const _t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),St=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],wt=new BufferGeometry;wt.setIndex(new BufferAttribute(_t,1)),wt.setAttribute("position",new Float32BufferAttribute(St,3)),super(wt,new LineBasicMaterial({color:xt,toneMapped:!1})),this.box=ht,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(ht){const xt=this.box;xt.isEmpty()||(xt.getCenter(this.position),xt.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(ht))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(ht,xt=1,_t=16776960){const St=_t,wt=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],At=new BufferGeometry;At.setAttribute("position",new Float32BufferAttribute(wt,3)),At.computeBoundingSphere(),super(At,new LineBasicMaterial({color:St,toneMapped:!1})),this.type="PlaneHelper",this.plane=ht,this.size=xt;const Ct=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],Rt=new BufferGeometry;Rt.setAttribute("position",new Float32BufferAttribute(Ct,3)),Rt.computeBoundingSphere(),this.add(new Mesh(Rt,new MeshBasicMaterial({color:St,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(ht){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(ht)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(ht=new Vector3(0,0,1),xt=new Vector3(0,0,0),_t=1,St=16776960,wt=_t*.2,At=wt*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(xt),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:St,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:St,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(ht),this.setLength(_t,wt,At)}setDirection(ht){if(ht.y>.99999)this.quaternion.set(0,0,0,1);else if(ht.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(ht.z,0,-ht.x).normalize();const xt=Math.acos(ht.y);this.quaternion.setFromAxisAngle(_axis,xt)}}setLength(ht,xt=ht*.2,_t=xt*.2){this.line.scale.set(1,Math.max(1e-4,ht-xt),1),this.line.updateMatrix(),this.cone.scale.set(_t,xt,_t),this.cone.position.y=ht,this.cone.updateMatrix()}setColor(ht){this.line.material.color.set(ht),this.cone.material.color.set(ht)}copy(ht){return super.copy(ht,!1),this.line.copy(ht.line),this.cone.copy(ht.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(ht=1){const xt=[0,0,0,ht,0,0,0,0,0,0,ht,0,0,0,0,0,0,ht],_t=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],St=new BufferGeometry;St.setAttribute("position",new Float32BufferAttribute(xt,3)),St.setAttribute("color",new Float32BufferAttribute(_t,3));const wt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(St,wt),this.type="AxesHelper"}setColors(ht,xt,_t){const St=new Color,wt=this.geometry.attributes.color.array;return St.set(ht),St.toArray(wt,0),St.toArray(wt,3),St.set(xt),St.toArray(wt,6),St.toArray(wt,9),St.set(_t),St.toArray(wt,12),St.toArray(wt,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(ht,xt){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(ht,xt),this}lineTo(ht,xt){return this.currentPath.lineTo(ht,xt),this}quadraticCurveTo(ht,xt,_t,St){return this.currentPath.quadraticCurveTo(ht,xt,_t,St),this}bezierCurveTo(ht,xt,_t,St,wt,At){return this.currentPath.bezierCurveTo(ht,xt,_t,St,wt,At),this}splineThru(ht){return this.currentPath.splineThru(ht),this}toShapes(ht){function xt(Bt){const Ut=[];for(let Vt=0,Ht=Bt.length;Vt<Ht;Vt++){const Xt=Bt[Vt],qt=new Shape;qt.curves=Xt.curves,Ut.push(qt)}return Ut}function _t(Bt,Ut){const Vt=Ut.length;let Ht=!1;for(let Xt=Vt-1,qt=0;qt<Vt;Xt=qt++){let Kt=Ut[Xt],en=Ut[qt],tn=en.x-Kt.x,Qt=en.y-Kt.y;if(Math.abs(Qt)>Number.EPSILON){if(Qt<0&&(Kt=Ut[qt],tn=-tn,en=Ut[Xt],Qt=-Qt),Bt.y<Kt.y||Bt.y>en.y)continue;if(Bt.y===Kt.y){if(Bt.x===Kt.x)return!0}else{const sn=Qt*(Bt.x-Kt.x)-tn*(Bt.y-Kt.y);if(sn===0)return!0;if(sn<0)continue;Ht=!Ht}}else{if(Bt.y!==Kt.y)continue;if(en.x<=Bt.x&&Bt.x<=Kt.x||Kt.x<=Bt.x&&Bt.x<=en.x)return!0}}return Ht}const St=ShapeUtils.isClockWise,wt=this.subPaths;if(wt.length===0)return[];let At,Ct,Rt;const It=[];if(wt.length===1)return Ct=wt[0],Rt=new Shape,Rt.curves=Ct.curves,It.push(Rt),It;let Lt=!St(wt[0].getPoints());Lt=ht?!Lt:Lt;const kt=[],Dt=[];let $t=[],Ot=0,zt;Dt[Ot]=void 0,$t[Ot]=[];for(let Bt=0,Ut=wt.length;Bt<Ut;Bt++)Ct=wt[Bt],zt=Ct.getPoints(),At=St(zt),At=ht?!At:At,At?(!Lt&&Dt[Ot]&&Ot++,Dt[Ot]={s:new Shape,p:zt},Dt[Ot].s.curves=Ct.curves,Lt&&Ot++,$t[Ot]=[]):$t[Ot].push({h:Ct,p:zt[0]});if(!Dt[0])return xt(wt);if(Dt.length>1){let Bt=!1,Ut=0;for(let Vt=0,Ht=Dt.length;Vt<Ht;Vt++)kt[Vt]=[];for(let Vt=0,Ht=Dt.length;Vt<Ht;Vt++){const Xt=$t[Vt];for(let qt=0;qt<Xt.length;qt++){const Kt=Xt[qt];let en=!0;for(let tn=0;tn<Dt.length;tn++)_t(Kt.p,Dt[tn].p)&&(Vt!==tn&&Ut++,en?(en=!1,kt[tn].push(Kt)):Bt=!0);en&&kt[Vt].push(Kt)}}Ut>0&&Bt===!1&&($t=kt)}let Gt;for(let Bt=0,Ut=Dt.length;Bt<Ut;Bt++){Rt=Dt[Bt].s,It.push(Rt),Gt=$t[Bt];for(let Vt=0,Ht=Gt.length;Vt<Ht;Vt++)Rt.holes.push(Gt[Vt].h)}return It}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(ht=1,xt=1,_t=1,St={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(ht,xt,{...St,count:_t}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DisplayP3ColorSpace,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher:EventDispatcher$1,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearDisplayP3ColorSpace,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix2,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,P3Primaries,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBDepthPacking,RGBFormat,RGBIntegerFormat,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGDepthPacking,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,Rec709Primaries,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere:Sphere$1,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TextureUtils,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedInt5999Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;function createStore$1(vt){let ht;const xt=new Set,_t=(It,Lt)=>{const kt=typeof It=="function"?It(ht):It;if(kt!==ht){const Dt=ht;ht=Lt?kt:Object.assign({},ht,kt),xt.forEach($t=>$t(ht,Dt))}},St=()=>ht,wt=(It,Lt=St,kt=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let Dt=Lt(ht);function $t(){const Ot=Lt(ht);if(!kt(Dt,Ot)){const zt=Dt;It(Dt=Ot,zt)}}return xt.add($t),()=>xt.delete($t)},Rt={setState:_t,getState:St,subscribe:(It,Lt,kt)=>Lt||kt?wt(It,Lt,kt):(xt.add(It),()=>xt.delete(It)),destroy:()=>xt.clear()};return ht=vt(_t,St,Rt),Rt}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create$1(vt){const ht=typeof vt=="function"?createStore$1(vt):vt,xt=(_t=ht.getState,St=Object.is)=>{const[,wt]=reactExports.useReducer(Gt=>Gt+1,0),At=ht.getState(),Ct=reactExports.useRef(At),Rt=reactExports.useRef(_t),It=reactExports.useRef(St),Lt=reactExports.useRef(!1),kt=reactExports.useRef();kt.current===void 0&&(kt.current=_t(At));let Dt,$t=!1;(Ct.current!==At||Rt.current!==_t||It.current!==St||Lt.current)&&(Dt=_t(At),$t=!St(kt.current,Dt)),useIsomorphicLayoutEffect$1(()=>{$t&&(kt.current=Dt),Ct.current=At,Rt.current=_t,It.current=St,Lt.current=!1});const Ot=reactExports.useRef(At);useIsomorphicLayoutEffect$1(()=>{const Gt=()=>{try{const Ut=ht.getState(),Vt=Rt.current(Ut);It.current(kt.current,Vt)||(Ct.current=Ut,kt.current=Vt,wt())}catch{Lt.current=!0,wt()}},Bt=ht.subscribe(Gt);return ht.getState()!==Ot.current&&Gt(),Bt},[]);const zt=$t?Dt:kt.current;return reactExports.useDebugValue(zt),zt};return Object.assign(xt,ht),xt[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const _t=[xt,ht];return{next(){const St=_t.length<=0;return{value:_t.shift(),done:St}}}},xt}var reactReconciler={exports:{}},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(vt){function ht(Yt,Jt){var on=Yt.length;Yt.push(Jt);e:for(;0<on;){var ln=on-1>>>1,_n=Yt[ln];if(0<St(_n,Jt))Yt[ln]=Jt,Yt[on]=_n,on=ln;else break e}}function xt(Yt){return Yt.length===0?null:Yt[0]}function _t(Yt){if(Yt.length===0)return null;var Jt=Yt[0],on=Yt.pop();if(on!==Jt){Yt[0]=on;e:for(var ln=0,_n=Yt.length,wn=_n>>>1;ln<wn;){var xn=2*(ln+1)-1,Pn=Yt[xn],Bn=xn+1,Hn=Yt[Bn];if(0>St(Pn,on))Bn<_n&&0>St(Hn,Pn)?(Yt[ln]=Hn,Yt[Bn]=on,ln=Bn):(Yt[ln]=Pn,Yt[xn]=on,ln=xn);else if(Bn<_n&&0>St(Hn,on))Yt[ln]=Hn,Yt[Bn]=on,ln=Bn;else break e}}return Jt}function St(Yt,Jt){var on=Yt.sortIndex-Jt.sortIndex;return on!==0?on:Yt.id-Jt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var wt=performance;vt.unstable_now=function(){return wt.now()}}else{var At=Date,Ct=At.now();vt.unstable_now=function(){return At.now()-Ct}}var Rt=[],It=[],Lt=1,kt=null,Dt=3,$t=!1,Ot=!1,zt=!1,Gt=typeof setTimeout=="function"?setTimeout:null,Bt=typeof clearTimeout=="function"?clearTimeout:null,Ut=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Vt(Yt){for(var Jt=xt(It);Jt!==null;){if(Jt.callback===null)_t(It);else if(Jt.startTime<=Yt)_t(It),Jt.sortIndex=Jt.expirationTime,ht(Rt,Jt);else break;Jt=xt(It)}}function Ht(Yt){if(zt=!1,Vt(Yt),!Ot)if(xt(Rt)!==null)Ot=!0,rn(Xt);else{var Jt=xt(It);Jt!==null&&an(Ht,Jt.startTime-Yt)}}function Xt(Yt,Jt){Ot=!1,zt&&(zt=!1,Bt(en),en=-1),$t=!0;var on=Dt;try{for(Vt(Jt),kt=xt(Rt);kt!==null&&(!(kt.expirationTime>Jt)||Yt&&!sn());){var ln=kt.callback;if(typeof ln=="function"){kt.callback=null,Dt=kt.priorityLevel;var _n=ln(kt.expirationTime<=Jt);Jt=vt.unstable_now(),typeof _n=="function"?kt.callback=_n:kt===xt(Rt)&&_t(Rt),Vt(Jt)}else _t(Rt);kt=xt(Rt)}if(kt!==null)var wn=!0;else{var xn=xt(It);xn!==null&&an(Ht,xn.startTime-Jt),wn=!1}return wn}finally{kt=null,Dt=on,$t=!1}}var qt=!1,Kt=null,en=-1,tn=5,Qt=-1;function sn(){return!(vt.unstable_now()-Qt<tn)}function un(){if(Kt!==null){var Yt=vt.unstable_now();Qt=Yt;var Jt=!0;try{Jt=Kt(!0,Yt)}finally{Jt?dn():(qt=!1,Kt=null)}}else qt=!1}var dn;if(typeof Ut=="function")dn=function(){Ut(un)};else if(typeof MessageChannel<"u"){var vn=new MessageChannel,pn=vn.port2;vn.port1.onmessage=un,dn=function(){pn.postMessage(null)}}else dn=function(){Gt(un,0)};function rn(Yt){Kt=Yt,qt||(qt=!0,dn())}function an(Yt,Jt){en=Gt(function(){Yt(vt.unstable_now())},Jt)}vt.unstable_IdlePriority=5,vt.unstable_ImmediatePriority=1,vt.unstable_LowPriority=4,vt.unstable_NormalPriority=3,vt.unstable_Profiling=null,vt.unstable_UserBlockingPriority=2,vt.unstable_cancelCallback=function(Yt){Yt.callback=null},vt.unstable_continueExecution=function(){Ot||$t||(Ot=!0,rn(Xt))},vt.unstable_forceFrameRate=function(Yt){0>Yt||125<Yt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):tn=0<Yt?Math.floor(1e3/Yt):5},vt.unstable_getCurrentPriorityLevel=function(){return Dt},vt.unstable_getFirstCallbackNode=function(){return xt(Rt)},vt.unstable_next=function(Yt){switch(Dt){case 1:case 2:case 3:var Jt=3;break;default:Jt=Dt}var on=Dt;Dt=Jt;try{return Yt()}finally{Dt=on}},vt.unstable_pauseExecution=function(){},vt.unstable_requestPaint=function(){},vt.unstable_runWithPriority=function(Yt,Jt){switch(Yt){case 1:case 2:case 3:case 4:case 5:break;default:Yt=3}var on=Dt;Dt=Yt;try{return Jt()}finally{Dt=on}},vt.unstable_scheduleCallback=function(Yt,Jt,on){var ln=vt.unstable_now();switch(typeof on=="object"&&on!==null?(on=on.delay,on=typeof on=="number"&&0<on?ln+on:ln):on=ln,Yt){case 1:var _n=-1;break;case 2:_n=250;break;case 5:_n=1073741823;break;case 4:_n=1e4;break;default:_n=5e3}return _n=on+_n,Yt={id:Lt++,callback:Jt,priorityLevel:Yt,startTime:on,expirationTime:_n,sortIndex:-1},on>ln?(Yt.sortIndex=on,ht(It,Yt),xt(Rt)===null&&Yt===xt(It)&&(zt?(Bt(en),en=-1):zt=!0,an(Ht,on-ln))):(Yt.sortIndex=_n,ht(Rt,Yt),Ot||$t||(Ot=!0,rn(Xt))),Yt},vt.unstable_shouldYield=sn,vt.unstable_wrapCallback=function(Yt){var Jt=Dt;return function(){var on=Dt;Dt=Jt;try{return Yt.apply(this,arguments)}finally{Dt=on}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function(ht){var xt={},_t=reactExports,St=schedulerExports,wt=Object.assign;function At(Ft){for(var Nt="https://reactjs.org/docs/error-decoder.html?invariant="+Ft,jt=1;jt<arguments.length;jt++)Nt+="&args[]="+encodeURIComponent(arguments[jt]);return"Minified React error #"+Ft+"; visit "+Nt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ct=_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rt=Symbol.for("react.element"),It=Symbol.for("react.portal"),Lt=Symbol.for("react.fragment"),kt=Symbol.for("react.strict_mode"),Dt=Symbol.for("react.profiler"),$t=Symbol.for("react.provider"),Ot=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),Gt=Symbol.for("react.suspense"),Bt=Symbol.for("react.suspense_list"),Ut=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Ht=Symbol.for("react.offscreen"),Xt=Symbol.iterator;function qt(Ft){return Ft===null||typeof Ft!="object"?null:(Ft=Xt&&Ft[Xt]||Ft["@@iterator"],typeof Ft=="function"?Ft:null)}function Kt(Ft){if(Ft==null)return null;if(typeof Ft=="function")return Ft.displayName||Ft.name||null;if(typeof Ft=="string")return Ft;switch(Ft){case Lt:return"Fragment";case It:return"Portal";case Dt:return"Profiler";case kt:return"StrictMode";case Gt:return"Suspense";case Bt:return"SuspenseList"}if(typeof Ft=="object")switch(Ft.$$typeof){case Ot:return(Ft.displayName||"Context")+".Consumer";case $t:return(Ft._context.displayName||"Context")+".Provider";case zt:var Nt=Ft.render;return Ft=Ft.displayName,Ft||(Ft=Nt.displayName||Nt.name||"",Ft=Ft!==""?"ForwardRef("+Ft+")":"ForwardRef"),Ft;case Ut:return Nt=Ft.displayName||null,Nt!==null?Nt:Kt(Ft.type)||"Memo";case Vt:Nt=Ft._payload,Ft=Ft._init;try{return Kt(Ft(Nt))}catch{}}return null}function en(Ft){var Nt=Ft.type;switch(Ft.tag){case 24:return"Cache";case 9:return(Nt.displayName||"Context")+".Consumer";case 10:return(Nt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Ft=Nt.render,Ft=Ft.displayName||Ft.name||"",Nt.displayName||(Ft!==""?"ForwardRef("+Ft+")":"ForwardRef");case 7:return"Fragment";case 5:return Nt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kt(Nt);case 8:return Nt===kt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Nt=="function")return Nt.displayName||Nt.name||null;if(typeof Nt=="string")return Nt}return null}function tn(Ft){var Nt=Ft,jt=Ft;if(Ft.alternate)for(;Nt.return;)Nt=Nt.return;else{Ft=Nt;do Nt=Ft,Nt.flags&4098&&(jt=Nt.return),Ft=Nt.return;while(Ft)}return Nt.tag===3?jt:null}function Qt(Ft){if(tn(Ft)!==Ft)throw Error(At(188))}function sn(Ft){var Nt=Ft.alternate;if(!Nt){if(Nt=tn(Ft),Nt===null)throw Error(At(188));return Nt!==Ft?null:Ft}for(var jt=Ft,Wt=Nt;;){var Zt=jt.return;if(Zt===null)break;var nn=Zt.alternate;if(nn===null){if(Wt=Zt.return,Wt!==null){jt=Wt;continue}break}if(Zt.child===nn.child){for(nn=Zt.child;nn;){if(nn===jt)return Qt(Zt),Ft;if(nn===Wt)return Qt(Zt),Nt;nn=nn.sibling}throw Error(At(188))}if(jt.return!==Wt.return)jt=Zt,Wt=nn;else{for(var gn=!1,En=Zt.child;En;){if(En===jt){gn=!0,jt=Zt,Wt=nn;break}if(En===Wt){gn=!0,Wt=Zt,jt=nn;break}En=En.sibling}if(!gn){for(En=nn.child;En;){if(En===jt){gn=!0,jt=nn,Wt=Zt;break}if(En===Wt){gn=!0,Wt=nn,jt=Zt;break}En=En.sibling}if(!gn)throw Error(At(189))}}if(jt.alternate!==Wt)throw Error(At(190))}if(jt.tag!==3)throw Error(At(188));return jt.stateNode.current===jt?Ft:Nt}function un(Ft){return Ft=sn(Ft),Ft!==null?dn(Ft):null}function dn(Ft){if(Ft.tag===5||Ft.tag===6)return Ft;for(Ft=Ft.child;Ft!==null;){var Nt=dn(Ft);if(Nt!==null)return Nt;Ft=Ft.sibling}return null}function vn(Ft){if(Ft.tag===5||Ft.tag===6)return Ft;for(Ft=Ft.child;Ft!==null;){if(Ft.tag!==4){var Nt=vn(Ft);if(Nt!==null)return Nt}Ft=Ft.sibling}return null}var pn=Array.isArray,rn=ht.getPublicInstance,an=ht.getRootHostContext,Yt=ht.getChildHostContext,Jt=ht.prepareForCommit,on=ht.resetAfterCommit,ln=ht.createInstance,_n=ht.appendInitialChild,wn=ht.finalizeInitialChildren,xn=ht.prepareUpdate,Pn=ht.shouldSetTextContent,Bn=ht.createTextInstance,Hn=ht.scheduleTimeout,or=ht.cancelTimeout,mr=ht.noTimeout,lr=ht.isPrimaryRenderer,dr=ht.supportsMutation,hn=ht.supportsPersistence,Dn=ht.supportsHydration,An=ht.getInstanceFromNode,Zn=ht.preparePortalMount,$n=ht.getCurrentEventPriority,ur=ht.detachDeletedInstance,qn=ht.supportsMicrotasks,er=ht.scheduleMicrotask,mn=ht.supportsTestSelectors,cn=ht.findFiberRoot,Cn=ht.getBoundingRect,Gn=ht.getTextContent,On=ht.isHiddenSubtree,zn=ht.matchAccessibilityRole,ar=ht.setFocusIfFocusable,Yn=ht.setupIntersectionObserver,tr=ht.appendChild,br=ht.appendChildToContainer,Wn=ht.commitTextUpdate,rr=ht.commitMount,kr=ht.commitUpdate,Tr=ht.insertBefore,cr=ht.insertInContainerBefore,Ar=ht.removeChild,Sn=ht.removeChildFromContainer,jn=ht.resetTextContent,yn=ht.hideInstance,Vn=ht.hideTextInstance,kn=ht.unhideInstance,Un=ht.unhideTextInstance,Xn=ht.clearContainer,Mr=ht.cloneInstance,Lr=ht.createContainerChildSet,Nr=ht.appendChildToContainerChildSet,Ur=ht.finalizeContainerChildren,Fr=ht.replaceContainerChildren,rs=ht.cloneHiddenInstance,ts=ht.cloneHiddenTextInstance,Hs=ht.canHydrateInstance,js=ht.canHydrateTextInstance,Bo=ht.canHydrateSuspenseInstance,$o=ht.isSuspenseInstancePending,_o=ht.isSuspenseInstanceFallback,So=ht.registerSuspenseInstanceRetry,Qs=ht.getNextHydratableSibling,Eo=ht.getFirstHydratableChild,$a=ht.getFirstHydratableChildWithinContainer,yl=ht.getFirstHydratableChildWithinSuspenseInstance,mu=ht.hydrateInstance,gu=ht.hydrateTextInstance,vu=ht.hydrateSuspenseInstance,fn=ht.getNextHydratableInstanceAfterSuspenseInstance,bn=ht.commitHydratedContainer,In=ht.commitHydratedSuspenseInstance,Ln=ht.clearSuspenseBoundary,Tn=ht.clearSuspenseBoundaryFromContainer,Qn=ht.shouldDeleteUnhydratedTailInstances,sr=ht.didNotMatchHydratedContainerTextInstance,gr=ht.didNotMatchHydratedTextInstance,pr;function Sr(Ft){if(pr===void 0)try{throw Error()}catch(jt){var Nt=jt.stack.trim().match(/\n( *(at )?)/);pr=Nt&&Nt[1]||""}return`
`+pr+Ft}var wr=!1;function _r(Ft,Nt){if(!Ft||wr)return"";wr=!0;var jt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Nt)if(Nt=function(){throw Error()},Object.defineProperty(Nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Nt,[])}catch(Kn){var Wt=Kn}Reflect.construct(Ft,[],Nt)}else{try{Nt.call()}catch(Kn){Wt=Kn}Ft.call(Nt.prototype)}else{try{throw Error()}catch(Kn){Wt=Kn}Ft()}}catch(Kn){if(Kn&&Wt&&typeof Kn.stack=="string"){for(var Zt=Kn.stack.split(`
`),nn=Wt.stack.split(`
`),gn=Zt.length-1,En=nn.length-1;1<=gn&&0<=En&&Zt[gn]!==nn[En];)En--;for(;1<=gn&&0<=En;gn--,En--)if(Zt[gn]!==nn[En]){if(gn!==1||En!==1)do if(gn--,En--,0>En||Zt[gn]!==nn[En]){var Nn=`
`+Zt[gn].replace(" at new "," at ");return Ft.displayName&&Nn.includes("<anonymous>")&&(Nn=Nn.replace("<anonymous>",Ft.displayName)),Nn}while(1<=gn&&0<=En);break}}}finally{wr=!1,Error.prepareStackTrace=jt}return(Ft=Ft?Ft.displayName||Ft.name:"")?Sr(Ft):""}var Br=Object.prototype.hasOwnProperty,Hr=[],zr=-1;function Kr(Ft){return{current:Ft}}function xr(Ft){0>zr||(Ft.current=Hr[zr],Hr[zr]=null,zr--)}function Jn(Ft,Nt){zr++,Hr[zr]=Ft.current,Ft.current=Nt}var jr={},Cr=Kr(jr),Wr=Kr(!1),vs=jr;function Jr(Ft,Nt){var jt=Ft.type.contextTypes;if(!jt)return jr;var Wt=Ft.stateNode;if(Wt&&Wt.__reactInternalMemoizedUnmaskedChildContext===Nt)return Wt.__reactInternalMemoizedMaskedChildContext;var Zt={},nn;for(nn in jt)Zt[nn]=Nt[nn];return Wt&&(Ft=Ft.stateNode,Ft.__reactInternalMemoizedUnmaskedChildContext=Nt,Ft.__reactInternalMemoizedMaskedChildContext=Zt),Zt}function ss(Ft){return Ft=Ft.childContextTypes,Ft!=null}function Xr(){xr(Wr),xr(Cr)}function Ds(Ft,Nt,jt){if(Cr.current!==jr)throw Error(At(168));Jn(Cr,Nt),Jn(Wr,jt)}function bo(Ft,Nt,jt){var Wt=Ft.stateNode;if(Nt=Nt.childContextTypes,typeof Wt.getChildContext!="function")return jt;Wt=Wt.getChildContext();for(var Zt in Wt)if(!(Zt in Nt))throw Error(At(108,en(Ft)||"Unknown",Zt));return wt({},jt,Wt)}function cs(Ft){return Ft=(Ft=Ft.stateNode)&&Ft.__reactInternalMemoizedMergedChildContext||jr,vs=Cr.current,Jn(Cr,Ft),Jn(Wr,Wr.current),!0}function Mo(Ft,Nt,jt){var Wt=Ft.stateNode;if(!Wt)throw Error(At(169));jt?(Ft=bo(Ft,Nt,vs),Wt.__reactInternalMemoizedMergedChildContext=Ft,xr(Wr),xr(Cr),Jn(Cr,Ft)):xr(Wr),Jn(Wr,jt)}var Ss=Math.clz32?Math.clz32:ev,xl=Math.log,_g=Math.LN2;function ev(Ft){return Ft>>>=0,Ft===0?32:31-(xl(Ft)/_g|0)|0}var _l=64,Sl=4194304;function Oo(Ft){switch(Ft&-Ft){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ft&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Ft&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Ft}}function El(Ft,Nt){var jt=Ft.pendingLanes;if(jt===0)return 0;var Wt=0,Zt=Ft.suspendedLanes,nn=Ft.pingedLanes,gn=jt&268435455;if(gn!==0){var En=gn&~Zt;En!==0?Wt=Oo(En):(nn&=gn,nn!==0&&(Wt=Oo(nn)))}else gn=jt&~Zt,gn!==0?Wt=Oo(gn):nn!==0&&(Wt=Oo(nn));if(Wt===0)return 0;if(Nt!==0&&Nt!==Wt&&!(Nt&Zt)&&(Zt=Wt&-Wt,nn=Nt&-Nt,Zt>=nn||Zt===16&&(nn&4194240)!==0))return Nt;if(Wt&4&&(Wt|=jt&16),Nt=Ft.entangledLanes,Nt!==0)for(Ft=Ft.entanglements,Nt&=Wt;0<Nt;)jt=31-Ss(Nt),Zt=1<<jt,Wt|=Ft[jt],Nt&=~Zt;return Wt}function tv(Ft,Nt){switch(Ft){case 1:case 2:case 4:return Nt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Nt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nv(Ft,Nt){for(var jt=Ft.suspendedLanes,Wt=Ft.pingedLanes,Zt=Ft.expirationTimes,nn=Ft.pendingLanes;0<nn;){var gn=31-Ss(nn),En=1<<gn,Nn=Zt[gn];Nn===-1?(!(En&jt)||En&Wt)&&(Zt[gn]=tv(En,Nt)):Nn<=Nt&&(Ft.expiredLanes|=En),nn&=~En}}function yu(Ft){return Ft=Ft.pendingLanes&-1073741825,Ft!==0?Ft:Ft&1073741824?1073741824:0}function xu(Ft){for(var Nt=[],jt=0;31>jt;jt++)Nt.push(Ft);return Nt}function Vo(Ft,Nt,jt){Ft.pendingLanes|=Nt,Nt!==536870912&&(Ft.suspendedLanes=0,Ft.pingedLanes=0),Ft=Ft.eventTimes,Nt=31-Ss(Nt),Ft[Nt]=jt}function rv(Ft,Nt){var jt=Ft.pendingLanes&~Nt;Ft.pendingLanes=Nt,Ft.suspendedLanes=0,Ft.pingedLanes=0,Ft.expiredLanes&=Nt,Ft.mutableReadLanes&=Nt,Ft.entangledLanes&=Nt,Nt=Ft.entanglements;var Wt=Ft.eventTimes;for(Ft=Ft.expirationTimes;0<jt;){var Zt=31-Ss(jt),nn=1<<Zt;Nt[Zt]=0,Wt[Zt]=-1,Ft[Zt]=-1,jt&=~nn}}function _u(Ft,Nt){var jt=Ft.entangledLanes|=Nt;for(Ft=Ft.entanglements;jt;){var Wt=31-Ss(jt),Zt=1<<Wt;Zt&Nt|Ft[Wt]&Nt&&(Ft[Wt]|=Nt),jt&=~Zt}}var $r=0;function Sp(Ft){return Ft&=-Ft,1<Ft?4<Ft?Ft&268435455?16:536870912:4:1}var Su=St.unstable_scheduleCallback,Ep=St.unstable_cancelCallback,iv=St.unstable_shouldYield,sv=St.unstable_requestPaint,os=St.unstable_now,Eu=St.unstable_ImmediatePriority,ov=St.unstable_UserBlockingPriority,bu=St.unstable_NormalPriority,av=St.unstable_IdlePriority,Ml=null,Bs=null;function lv(Ft){if(Bs&&typeof Bs.onCommitFiberRoot=="function")try{Bs.onCommitFiberRoot(Ml,Ft,void 0,(Ft.current.flags&128)===128)}catch{}}function cv(Ft,Nt){return Ft===Nt&&(Ft!==0||1/Ft===1/Nt)||Ft!==Ft&&Nt!==Nt}var $s=typeof Object.is=="function"?Object.is:cv,Ws=null,wl=!1,Mu=!1;function bp(Ft){Ws===null?Ws=[Ft]:Ws.push(Ft)}function uv(Ft){wl=!0,bp(Ft)}function Os(){if(!Mu&&Ws!==null){Mu=!0;var Ft=0,Nt=$r;try{var jt=Ws;for($r=1;Ft<jt.length;Ft++){var Wt=jt[Ft];do Wt=Wt(!0);while(Wt!==null)}Ws=null,wl=!1}catch(Zt){throw Ws!==null&&(Ws=Ws.slice(Ft+1)),Su(Eu,Os),Zt}finally{$r=Nt,Mu=!1}}return null}var fv=Ct.ReactCurrentBatchConfig;function Tl(Ft,Nt){if($s(Ft,Nt))return!0;if(typeof Ft!="object"||Ft===null||typeof Nt!="object"||Nt===null)return!1;var jt=Object.keys(Ft),Wt=Object.keys(Nt);if(jt.length!==Wt.length)return!1;for(Wt=0;Wt<jt.length;Wt++){var Zt=jt[Wt];if(!Br.call(Nt,Zt)||!$s(Ft[Zt],Nt[Zt]))return!1}return!0}function hv(Ft){switch(Ft.tag){case 5:return Sr(Ft.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 2:case 15:return Ft=_r(Ft.type,!1),Ft;case 11:return Ft=_r(Ft.type.render,!1),Ft;case 1:return Ft=_r(Ft.type,!0),Ft;default:return""}}function ks(Ft,Nt){if(Ft&&Ft.defaultProps){Nt=wt({},Nt),Ft=Ft.defaultProps;for(var jt in Ft)Nt[jt]===void 0&&(Nt[jt]=Ft[jt]);return Nt}return Nt}var Al=Kr(null),Cl=null,wo=null,wu=null;function Tu(){wu=wo=Cl=null}function Mp(Ft,Nt,jt){lr?(Jn(Al,Nt._currentValue),Nt._currentValue=jt):(Jn(Al,Nt._currentValue2),Nt._currentValue2=jt)}function Au(Ft){var Nt=Al.current;xr(Al),lr?Ft._currentValue=Nt:Ft._currentValue2=Nt}function Cu(Ft,Nt,jt){for(;Ft!==null;){var Wt=Ft.alternate;if((Ft.childLanes&Nt)!==Nt?(Ft.childLanes|=Nt,Wt!==null&&(Wt.childLanes|=Nt)):Wt!==null&&(Wt.childLanes&Nt)!==Nt&&(Wt.childLanes|=Nt),Ft===jt)break;Ft=Ft.return}}function To(Ft,Nt){Cl=Ft,wu=wo=null,Ft=Ft.dependencies,Ft!==null&&Ft.firstContext!==null&&(Ft.lanes&Nt&&(Ms=!0),Ft.firstContext=null)}function Ts(Ft){var Nt=lr?Ft._currentValue:Ft._currentValue2;if(wu!==Ft)if(Ft={context:Ft,memoizedValue:Nt,next:null},wo===null){if(Cl===null)throw Error(At(308));wo=Ft,Cl.dependencies={lanes:0,firstContext:Ft}}else wo=wo.next=Ft;return Nt}var Vs=null,Js=!1;function Pu(Ft){Ft.updateQueue={baseState:Ft.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wp(Ft,Nt){Ft=Ft.updateQueue,Nt.updateQueue===Ft&&(Nt.updateQueue={baseState:Ft.baseState,firstBaseUpdate:Ft.firstBaseUpdate,lastBaseUpdate:Ft.lastBaseUpdate,shared:Ft.shared,effects:Ft.effects})}function Xs(Ft,Nt){return{eventTime:Ft,lane:Nt,tag:0,payload:null,callback:null,next:null}}function eo(Ft,Nt){var jt=Ft.updateQueue;jt!==null&&(jt=jt.shared,_i!==null&&Ft.mode&1&&!(Dr&2)?(Ft=jt.interleaved,Ft===null?(Nt.next=Nt,Vs===null?Vs=[jt]:Vs.push(jt)):(Nt.next=Ft.next,Ft.next=Nt),jt.interleaved=Nt):(Ft=jt.pending,Ft===null?Nt.next=Nt:(Nt.next=Ft.next,Ft.next=Nt),jt.pending=Nt))}function Pl(Ft,Nt,jt){if(Nt=Nt.updateQueue,Nt!==null&&(Nt=Nt.shared,(jt&4194240)!==0)){var Wt=Nt.lanes;Wt&=Ft.pendingLanes,jt|=Wt,Nt.lanes=jt,_u(Ft,jt)}}function Tp(Ft,Nt){var jt=Ft.updateQueue,Wt=Ft.alternate;if(Wt!==null&&(Wt=Wt.updateQueue,jt===Wt)){var Zt=null,nn=null;if(jt=jt.firstBaseUpdate,jt!==null){do{var gn={eventTime:jt.eventTime,lane:jt.lane,tag:jt.tag,payload:jt.payload,callback:jt.callback,next:null};nn===null?Zt=nn=gn:nn=nn.next=gn,jt=jt.next}while(jt!==null);nn===null?Zt=nn=Nt:nn=nn.next=Nt}else Zt=nn=Nt;jt={baseState:Wt.baseState,firstBaseUpdate:Zt,lastBaseUpdate:nn,shared:Wt.shared,effects:Wt.effects},Ft.updateQueue=jt;return}Ft=jt.lastBaseUpdate,Ft===null?jt.firstBaseUpdate=Nt:Ft.next=Nt,jt.lastBaseUpdate=Nt}function Rl(Ft,Nt,jt,Wt){var Zt=Ft.updateQueue;Js=!1;var nn=Zt.firstBaseUpdate,gn=Zt.lastBaseUpdate,En=Zt.shared.pending;if(En!==null){Zt.shared.pending=null;var Nn=En,Kn=Nn.next;Nn.next=null,gn===null?nn=Kn:gn.next=Kn,gn=Nn;var hr=Ft.alternate;hr!==null&&(hr=hr.updateQueue,En=hr.lastBaseUpdate,En!==gn&&(En===null?hr.firstBaseUpdate=Kn:En.next=Kn,hr.lastBaseUpdate=Nn))}if(nn!==null){var Pr=Zt.baseState;gn=0,hr=Kn=Nn=null,En=nn;do{var Er=En.lane,Gr=En.eventTime;if((Wt&Er)===Er){hr!==null&&(hr=hr.next={eventTime:Gr,lane:0,tag:En.tag,payload:En.payload,callback:En.callback,next:null});e:{var yr=Ft,ps=En;switch(Er=Nt,Gr=jt,ps.tag){case 1:if(yr=ps.payload,typeof yr=="function"){Pr=yr.call(Gr,Pr,Er);break e}Pr=yr;break e;case 3:yr.flags=yr.flags&-65537|128;case 0:if(yr=ps.payload,Er=typeof yr=="function"?yr.call(Gr,Pr,Er):yr,Er==null)break e;Pr=wt({},Pr,Er);break e;case 2:Js=!0}}En.callback!==null&&En.lane!==0&&(Ft.flags|=64,Er=Zt.effects,Er===null?Zt.effects=[En]:Er.push(En))}else Gr={eventTime:Gr,lane:Er,tag:En.tag,payload:En.payload,callback:En.callback,next:null},hr===null?(Kn=hr=Gr,Nn=Pr):hr=hr.next=Gr,gn|=Er;if(En=En.next,En===null){if(En=Zt.shared.pending,En===null)break;Er=En,En=Er.next,Er.next=null,Zt.lastBaseUpdate=Er,Zt.shared.pending=null}}while(!0);if(hr===null&&(Nn=Pr),Zt.baseState=Nn,Zt.firstBaseUpdate=Kn,Zt.lastBaseUpdate=hr,Nt=Zt.shared.interleaved,Nt!==null){Zt=Nt;do gn|=Zt.lane,Zt=Zt.next;while(Zt!==Nt)}else nn===null&&(Zt.shared.lanes=0);ko|=gn,Ft.lanes=gn,Ft.memoizedState=Pr}}function Ap(Ft,Nt,jt){if(Ft=Nt.effects,Nt.effects=null,Ft!==null)for(Nt=0;Nt<Ft.length;Nt++){var Wt=Ft[Nt],Zt=Wt.callback;if(Zt!==null){if(Wt.callback=null,Wt=jt,typeof Zt!="function")throw Error(At(191,Zt));Zt.call(Wt)}}}var Cp=new _t.Component().refs;function Ru(Ft,Nt,jt,Wt){Nt=Ft.memoizedState,jt=jt(Wt,Nt),jt=jt==null?Nt:wt({},Nt,jt),Ft.memoizedState=jt,Ft.lanes===0&&(Ft.updateQueue.baseState=jt)}var Il={isMounted:function(Ft){return(Ft=Ft._reactInternals)?tn(Ft)===Ft:!1},enqueueSetState:function(Ft,Nt,jt){Ft=Ft._reactInternals;var Wt=gs(),Zt=ro(Ft),nn=Xs(Wt,Zt);nn.payload=Nt,jt!=null&&(nn.callback=jt),eo(Ft,nn),Nt=Is(Ft,Zt,Wt),Nt!==null&&Pl(Nt,Ft,Zt)},enqueueReplaceState:function(Ft,Nt,jt){Ft=Ft._reactInternals;var Wt=gs(),Zt=ro(Ft),nn=Xs(Wt,Zt);nn.tag=1,nn.payload=Nt,jt!=null&&(nn.callback=jt),eo(Ft,nn),Nt=Is(Ft,Zt,Wt),Nt!==null&&Pl(Nt,Ft,Zt)},enqueueForceUpdate:function(Ft,Nt){Ft=Ft._reactInternals;var jt=gs(),Wt=ro(Ft),Zt=Xs(jt,Wt);Zt.tag=2,Nt!=null&&(Zt.callback=Nt),eo(Ft,Zt),Nt=Is(Ft,Wt,jt),Nt!==null&&Pl(Nt,Ft,Wt)}};function Pp(Ft,Nt,jt,Wt,Zt,nn,gn){return Ft=Ft.stateNode,typeof Ft.shouldComponentUpdate=="function"?Ft.shouldComponentUpdate(Wt,nn,gn):Nt.prototype&&Nt.prototype.isPureReactComponent?!Tl(jt,Wt)||!Tl(Zt,nn):!0}function Rp(Ft,Nt,jt){var Wt=!1,Zt=jr,nn=Nt.contextType;return typeof nn=="object"&&nn!==null?nn=Ts(nn):(Zt=ss(Nt)?vs:Cr.current,Wt=Nt.contextTypes,nn=(Wt=Wt!=null)?Jr(Ft,Zt):jr),Nt=new Nt(jt,nn),Ft.memoizedState=Nt.state!==null&&Nt.state!==void 0?Nt.state:null,Nt.updater=Il,Ft.stateNode=Nt,Nt._reactInternals=Ft,Wt&&(Ft=Ft.stateNode,Ft.__reactInternalMemoizedUnmaskedChildContext=Zt,Ft.__reactInternalMemoizedMaskedChildContext=nn),Nt}function Ip(Ft,Nt,jt,Wt){Ft=Nt.state,typeof Nt.componentWillReceiveProps=="function"&&Nt.componentWillReceiveProps(jt,Wt),typeof Nt.UNSAFE_componentWillReceiveProps=="function"&&Nt.UNSAFE_componentWillReceiveProps(jt,Wt),Nt.state!==Ft&&Il.enqueueReplaceState(Nt,Nt.state,null)}function Iu(Ft,Nt,jt,Wt){var Zt=Ft.stateNode;Zt.props=jt,Zt.state=Ft.memoizedState,Zt.refs=Cp,Pu(Ft);var nn=Nt.contextType;typeof nn=="object"&&nn!==null?Zt.context=Ts(nn):(nn=ss(Nt)?vs:Cr.current,Zt.context=Jr(Ft,nn)),Zt.state=Ft.memoizedState,nn=Nt.getDerivedStateFromProps,typeof nn=="function"&&(Ru(Ft,Nt,nn,jt),Zt.state=Ft.memoizedState),typeof Nt.getDerivedStateFromProps=="function"||typeof Zt.getSnapshotBeforeUpdate=="function"||typeof Zt.UNSAFE_componentWillMount!="function"&&typeof Zt.componentWillMount!="function"||(Nt=Zt.state,typeof Zt.componentWillMount=="function"&&Zt.componentWillMount(),typeof Zt.UNSAFE_componentWillMount=="function"&&Zt.UNSAFE_componentWillMount(),Nt!==Zt.state&&Il.enqueueReplaceState(Zt,Zt.state,null),Rl(Ft,jt,Zt,Wt),Zt.state=Ft.memoizedState),typeof Zt.componentDidMount=="function"&&(Ft.flags|=4194308)}var Ao=[],Co=0,Ll=null,Fl=0,As=[],Cs=0,ao=null,qs=1,Ys="";function co(Ft,Nt){Ao[Co++]=Fl,Ao[Co++]=Ll,Ll=Ft,Fl=Nt}function Lp(Ft,Nt,jt){As[Cs++]=qs,As[Cs++]=Ys,As[Cs++]=ao,ao=Ft;var Wt=qs;Ft=Ys;var Zt=32-Ss(Wt)-1;Wt&=~(1<<Zt),jt+=1;var nn=32-Ss(Nt)+Zt;if(30<nn){var gn=Zt-Zt%5;nn=(Wt&(1<<gn)-1).toString(32),Wt>>=gn,Zt-=gn,qs=1<<32-Ss(Nt)+Zt|jt<<Zt|Wt,Ys=nn+Ft}else qs=1<<nn|jt<<Zt|Wt,Ys=Ft}function Lu(Ft){Ft.return!==null&&(co(Ft,1),Lp(Ft,1,0))}function Fu(Ft){for(;Ft===Ll;)Ll=Ao[--Co],Ao[Co]=null,Fl=Ao[--Co],Ao[Co]=null;for(;Ft===ao;)ao=As[--Cs],As[Cs]=null,Ys=As[--Cs],As[Cs]=null,qs=As[--Cs],As[Cs]=null}var Es=null,bs=null,qr=!1,Uo=!1,Ns=null;function Fp(Ft,Nt){var jt=Ls(5,null,null,0);jt.elementType="DELETED",jt.stateNode=Nt,jt.return=Ft,Nt=Ft.deletions,Nt===null?(Ft.deletions=[jt],Ft.flags|=16):Nt.push(jt)}function Dp(Ft,Nt){switch(Ft.tag){case 5:return Nt=Hs(Nt,Ft.type,Ft.pendingProps),Nt!==null?(Ft.stateNode=Nt,Es=Ft,bs=Eo(Nt),!0):!1;case 6:return Nt=js(Nt,Ft.pendingProps),Nt!==null?(Ft.stateNode=Nt,Es=Ft,bs=null,!0):!1;case 13:if(Nt=Bo(Nt),Nt!==null){var jt=ao!==null?{id:qs,overflow:Ys}:null;return Ft.memoizedState={dehydrated:Nt,treeContext:jt,retryLane:1073741824},jt=Ls(18,null,null,0),jt.stateNode=Nt,jt.return=Ft,Ft.child=jt,Es=Ft,bs=null,!0}return!1;default:return!1}}function Du(Ft){return(Ft.mode&1)!==0&&(Ft.flags&128)===0}function ku(Ft){if(qr){var Nt=bs;if(Nt){var jt=Nt;if(!Dp(Ft,Nt)){if(Du(Ft))throw Error(At(418));Nt=Qs(jt);var Wt=Es;Nt&&Dp(Ft,Nt)?Fp(Wt,jt):(Ft.flags=Ft.flags&-4097|2,qr=!1,Es=Ft)}}else{if(Du(Ft))throw Error(At(418));Ft.flags=Ft.flags&-4097|2,qr=!1,Es=Ft}}}function kp(Ft){for(Ft=Ft.return;Ft!==null&&Ft.tag!==5&&Ft.tag!==3&&Ft.tag!==13;)Ft=Ft.return;Es=Ft}function zo(Ft){if(!Dn||Ft!==Es)return!1;if(!qr)return kp(Ft),qr=!0,!1;if(Ft.tag!==3&&(Ft.tag!==5||Qn(Ft.type)&&!Pn(Ft.type,Ft.memoizedProps))){var Nt=bs;if(Nt){if(Du(Ft)){for(Ft=bs;Ft;)Ft=Qs(Ft);throw Error(At(418))}for(;Nt;)Fp(Ft,Nt),Nt=Qs(Nt)}}if(kp(Ft),Ft.tag===13){if(!Dn)throw Error(At(316));if(Ft=Ft.memoizedState,Ft=Ft!==null?Ft.dehydrated:null,!Ft)throw Error(At(317));bs=fn(Ft)}else bs=Es?Qs(Ft.stateNode):null;return!0}function Po(){Dn&&(bs=Es=null,Uo=qr=!1)}function Nu(Ft){Ns===null?Ns=[Ft]:Ns.push(Ft)}function Go(Ft,Nt,jt){if(Ft=jt.ref,Ft!==null&&typeof Ft!="function"&&typeof Ft!="object"){if(jt._owner){if(jt=jt._owner,jt){if(jt.tag!==1)throw Error(At(309));var Wt=jt.stateNode}if(!Wt)throw Error(At(147,Ft));var Zt=Wt,nn=""+Ft;return Nt!==null&&Nt.ref!==null&&typeof Nt.ref=="function"&&Nt.ref._stringRef===nn?Nt.ref:(Nt=function(gn){var En=Zt.refs;En===Cp&&(En=Zt.refs={}),gn===null?delete En[nn]:En[nn]=gn},Nt._stringRef=nn,Nt)}if(typeof Ft!="string")throw Error(At(284));if(!jt._owner)throw Error(At(290,Ft))}return Ft}function Dl(Ft,Nt){throw Ft=Object.prototype.toString.call(Nt),Error(At(31,Ft==="[object Object]"?"object with keys {"+Object.keys(Nt).join(", ")+"}":Ft))}function Np(Ft){var Nt=Ft._init;return Nt(Ft._payload)}function Bp(Ft){function Nt(Rn,Mn){if(Ft){var Fn=Rn.deletions;Fn===null?(Rn.deletions=[Mn],Rn.flags|=16):Fn.push(Mn)}}function jt(Rn,Mn){if(!Ft)return null;for(;Mn!==null;)Nt(Rn,Mn),Mn=Mn.sibling;return null}function Wt(Rn,Mn){for(Rn=new Map;Mn!==null;)Mn.key!==null?Rn.set(Mn.key,Mn):Rn.set(Mn.index,Mn),Mn=Mn.sibling;return Rn}function Zt(Rn,Mn){return Rn=so(Rn,Mn),Rn.index=0,Rn.sibling=null,Rn}function nn(Rn,Mn,Fn){return Rn.index=Fn,Ft?(Fn=Rn.alternate,Fn!==null?(Fn=Fn.index,Fn<Mn?(Rn.flags|=2,Mn):Fn):(Rn.flags|=2,Mn)):(Rn.flags|=1048576,Mn)}function gn(Rn){return Ft&&Rn.alternate===null&&(Rn.flags|=2),Rn}function En(Rn,Mn,Fn,ir){return Mn===null||Mn.tag!==6?(Mn=yp(Fn,Rn.mode,ir),Mn.return=Rn,Mn):(Mn=Zt(Mn,Fn),Mn.return=Rn,Mn)}function Nn(Rn,Mn,Fn,ir){var vr=Fn.type;return vr===Lt?hr(Rn,Mn,Fn.props.children,ir,Fn.key):Mn!==null&&(Mn.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===Vt&&Np(vr)===Mn.type)?(ir=Zt(Mn,Fn.props),ir.ref=Go(Rn,Mn,Fn),ir.return=Rn,ir):(ir=du(Fn.type,Fn.key,Fn.props,null,Rn.mode,ir),ir.ref=Go(Rn,Mn,Fn),ir.return=Rn,ir)}function Kn(Rn,Mn,Fn,ir){return Mn===null||Mn.tag!==4||Mn.stateNode.containerInfo!==Fn.containerInfo||Mn.stateNode.implementation!==Fn.implementation?(Mn=xp(Fn,Rn.mode,ir),Mn.return=Rn,Mn):(Mn=Zt(Mn,Fn.children||[]),Mn.return=Rn,Mn)}function hr(Rn,Mn,Fn,ir,vr){return Mn===null||Mn.tag!==7?(Mn=vo(Fn,Rn.mode,ir,vr),Mn.return=Rn,Mn):(Mn=Zt(Mn,Fn),Mn.return=Rn,Mn)}function Pr(Rn,Mn,Fn){if(typeof Mn=="string"&&Mn!==""||typeof Mn=="number")return Mn=yp(""+Mn,Rn.mode,Fn),Mn.return=Rn,Mn;if(typeof Mn=="object"&&Mn!==null){switch(Mn.$$typeof){case Rt:return Fn=du(Mn.type,Mn.key,Mn.props,null,Rn.mode,Fn),Fn.ref=Go(Rn,null,Mn),Fn.return=Rn,Fn;case It:return Mn=xp(Mn,Rn.mode,Fn),Mn.return=Rn,Mn;case Vt:var ir=Mn._init;return Pr(Rn,ir(Mn._payload),Fn)}if(pn(Mn)||qt(Mn))return Mn=vo(Mn,Rn.mode,Fn,null),Mn.return=Rn,Mn;Dl(Rn,Mn)}return null}function Er(Rn,Mn,Fn,ir){var vr=Mn!==null?Mn.key:null;if(typeof Fn=="string"&&Fn!==""||typeof Fn=="number")return vr!==null?null:En(Rn,Mn,""+Fn,ir);if(typeof Fn=="object"&&Fn!==null){switch(Fn.$$typeof){case Rt:return Fn.key===vr?Nn(Rn,Mn,Fn,ir):null;case It:return Fn.key===vr?Kn(Rn,Mn,Fn,ir):null;case Vt:return vr=Fn._init,Er(Rn,Mn,vr(Fn._payload),ir)}if(pn(Fn)||qt(Fn))return vr!==null?null:hr(Rn,Mn,Fn,ir,null);Dl(Rn,Fn)}return null}function Gr(Rn,Mn,Fn,ir,vr){if(typeof ir=="string"&&ir!==""||typeof ir=="number")return Rn=Rn.get(Fn)||null,En(Mn,Rn,""+ir,vr);if(typeof ir=="object"&&ir!==null){switch(ir.$$typeof){case Rt:return Rn=Rn.get(ir.key===null?Fn:ir.key)||null,Nn(Mn,Rn,ir,vr);case It:return Rn=Rn.get(ir.key===null?Fn:ir.key)||null,Kn(Mn,Rn,ir,vr);case Vt:var Ir=ir._init;return Gr(Rn,Mn,Fn,Ir(ir._payload),vr)}if(pn(ir)||qt(ir))return Rn=Rn.get(Fn)||null,hr(Mn,Rn,ir,vr,null);Dl(Mn,ir)}return null}function yr(Rn,Mn,Fn,ir){for(var vr=null,Ir=null,Rr=Mn,Or=Mn=0,ls=null;Rr!==null&&Or<Fn.length;Or++){Rr.index>Or?(ls=Rr,Rr=null):ls=Rr.sibling;var Vr=Er(Rn,Rr,Fn[Or],ir);if(Vr===null){Rr===null&&(Rr=ls);break}Ft&&Rr&&Vr.alternate===null&&Nt(Rn,Rr),Mn=nn(Vr,Mn,Or),Ir===null?vr=Vr:Ir.sibling=Vr,Ir=Vr,Rr=ls}if(Or===Fn.length)return jt(Rn,Rr),qr&&co(Rn,Or),vr;if(Rr===null){for(;Or<Fn.length;Or++)Rr=Pr(Rn,Fn[Or],ir),Rr!==null&&(Mn=nn(Rr,Mn,Or),Ir===null?vr=Rr:Ir.sibling=Rr,Ir=Rr);return qr&&co(Rn,Or),vr}for(Rr=Wt(Rn,Rr);Or<Fn.length;Or++)ls=Gr(Rr,Rn,Or,Fn[Or],ir),ls!==null&&(Ft&&ls.alternate!==null&&Rr.delete(ls.key===null?Or:ls.key),Mn=nn(ls,Mn,Or),Ir===null?vr=ls:Ir.sibling=ls,Ir=ls);return Ft&&Rr.forEach(function(oo){return Nt(Rn,oo)}),qr&&co(Rn,Or),vr}function ps(Rn,Mn,Fn,ir){var vr=qt(Fn);if(typeof vr!="function")throw Error(At(150));if(Fn=vr.call(Fn),Fn==null)throw Error(At(151));for(var Ir=vr=null,Rr=Mn,Or=Mn=0,ls=null,Vr=Fn.next();Rr!==null&&!Vr.done;Or++,Vr=Fn.next()){Rr.index>Or?(ls=Rr,Rr=null):ls=Rr.sibling;var oo=Er(Rn,Rr,Vr.value,ir);if(oo===null){Rr===null&&(Rr=ls);break}Ft&&Rr&&oo.alternate===null&&Nt(Rn,Rr),Mn=nn(oo,Mn,Or),Ir===null?vr=oo:Ir.sibling=oo,Ir=oo,Rr=ls}if(Vr.done)return jt(Rn,Rr),qr&&co(Rn,Or),vr;if(Rr===null){for(;!Vr.done;Or++,Vr=Fn.next())Vr=Pr(Rn,Vr.value,ir),Vr!==null&&(Mn=nn(Vr,Mn,Or),Ir===null?vr=Vr:Ir.sibling=Vr,Ir=Vr);return qr&&co(Rn,Or),vr}for(Rr=Wt(Rn,Rr);!Vr.done;Or++,Vr=Fn.next())Vr=Gr(Rr,Rn,Or,Vr.value,ir),Vr!==null&&(Ft&&Vr.alternate!==null&&Rr.delete(Vr.key===null?Or:Vr.key),Mn=nn(Vr,Mn,Or),Ir===null?vr=Vr:Ir.sibling=Vr,Ir=Vr);return Ft&&Rr.forEach(function(zv){return Nt(Rn,zv)}),qr&&co(Rn,Or),vr}function Fs(Rn,Mn,Fn,ir){if(typeof Fn=="object"&&Fn!==null&&Fn.type===Lt&&Fn.key===null&&(Fn=Fn.props.children),typeof Fn=="object"&&Fn!==null){switch(Fn.$$typeof){case Rt:e:{for(var vr=Fn.key,Ir=Mn;Ir!==null;){if(Ir.key===vr){if(vr=Fn.type,vr===Lt){if(Ir.tag===7){jt(Rn,Ir.sibling),Mn=Zt(Ir,Fn.props.children),Mn.return=Rn,Rn=Mn;break e}}else if(Ir.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===Vt&&Np(vr)===Ir.type){jt(Rn,Ir.sibling),Mn=Zt(Ir,Fn.props),Mn.ref=Go(Rn,Ir,Fn),Mn.return=Rn,Rn=Mn;break e}jt(Rn,Ir);break}else Nt(Rn,Ir);Ir=Ir.sibling}Fn.type===Lt?(Mn=vo(Fn.props.children,Rn.mode,ir,Fn.key),Mn.return=Rn,Rn=Mn):(ir=du(Fn.type,Fn.key,Fn.props,null,Rn.mode,ir),ir.ref=Go(Rn,Mn,Fn),ir.return=Rn,Rn=ir)}return gn(Rn);case It:e:{for(Ir=Fn.key;Mn!==null;){if(Mn.key===Ir)if(Mn.tag===4&&Mn.stateNode.containerInfo===Fn.containerInfo&&Mn.stateNode.implementation===Fn.implementation){jt(Rn,Mn.sibling),Mn=Zt(Mn,Fn.children||[]),Mn.return=Rn,Rn=Mn;break e}else{jt(Rn,Mn);break}else Nt(Rn,Mn);Mn=Mn.sibling}Mn=xp(Fn,Rn.mode,ir),Mn.return=Rn,Rn=Mn}return gn(Rn);case Vt:return Ir=Fn._init,Fs(Rn,Mn,Ir(Fn._payload),ir)}if(pn(Fn))return yr(Rn,Mn,Fn,ir);if(qt(Fn))return ps(Rn,Mn,Fn,ir);Dl(Rn,Fn)}return typeof Fn=="string"&&Fn!==""||typeof Fn=="number"?(Fn=""+Fn,Mn!==null&&Mn.tag===6?(jt(Rn,Mn.sibling),Mn=Zt(Mn,Fn),Mn.return=Rn,Rn=Mn):(jt(Rn,Mn),Mn=yp(Fn,Rn.mode,ir),Mn.return=Rn,Rn=Mn),gn(Rn)):jt(Rn,Mn)}return Fs}var Ro=Bp(!0),$p=Bp(!1),Ho={},Ps=Kr(Ho),jo=Kr(Ho),Io=Kr(Ho);function Us(Ft){if(Ft===Ho)throw Error(At(174));return Ft}function Bu(Ft,Nt){Jn(Io,Nt),Jn(jo,Ft),Jn(Ps,Ho),Ft=an(Nt),xr(Ps),Jn(Ps,Ft)}function Lo(){xr(Ps),xr(jo),xr(Io)}function Op(Ft){var Nt=Us(Io.current),jt=Us(Ps.current);Nt=Yt(jt,Ft.type,Nt),jt!==Nt&&(Jn(jo,Ft),Jn(Ps,Nt))}function $u(Ft){jo.current===Ft&&(xr(Ps),xr(jo))}var Yr=Kr(0);function Nl(Ft){for(var Nt=Ft;Nt!==null;){if(Nt.tag===13){var jt=Nt.memoizedState;if(jt!==null&&(jt=jt.dehydrated,jt===null||$o(jt)||_o(jt)))return Nt}else if(Nt.tag===19&&Nt.memoizedProps.revealOrder!==void 0){if(Nt.flags&128)return Nt}else if(Nt.child!==null){Nt.child.return=Nt,Nt=Nt.child;continue}if(Nt===Ft)break;for(;Nt.sibling===null;){if(Nt.return===null||Nt.return===Ft)return null;Nt=Nt.return}Nt.sibling.return=Nt.return,Nt=Nt.sibling}return null}var Ou=[];function Vu(){for(var Ft=0;Ft<Ou.length;Ft++){var Nt=Ou[Ft];lr?Nt._workInProgressVersionPrimary=null:Nt._workInProgressVersionSecondary=null}Ou.length=0}var Bl=Ct.ReactCurrentDispatcher,Rs=Ct.ReactCurrentBatchConfig,Fo=0,Zr=null,fs=null,as=null,$l=!1,Wo=!1,Xo=0,dv=0;function hs(){throw Error(At(321))}function Uu(Ft,Nt){if(Nt===null)return!1;for(var jt=0;jt<Nt.length&&jt<Ft.length;jt++)if(!$s(Ft[jt],Nt[jt]))return!1;return!0}function zu(Ft,Nt,jt,Wt,Zt,nn){if(Fo=nn,Zr=Nt,Nt.memoizedState=null,Nt.updateQueue=null,Nt.lanes=0,Bl.current=Ft===null||Ft.memoizedState===null?vv:yv,Ft=jt(Wt,Zt),Wo){nn=0;do{if(Wo=!1,Xo=0,25<=nn)throw Error(At(301));nn+=1,as=fs=null,Nt.updateQueue=null,Bl.current=xv,Ft=jt(Wt,Zt)}while(Wo)}if(Bl.current=Gl,Nt=fs!==null&&fs.next!==null,Fo=0,as=fs=Zr=null,$l=!1,Nt)throw Error(At(300));return Ft}function Gu(){var Ft=Xo!==0;return Xo=0,Ft}function Ks(){var Ft={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return as===null?Zr.memoizedState=as=Ft:as=as.next=Ft,as}function zs(){if(fs===null){var Ft=Zr.alternate;Ft=Ft!==null?Ft.memoizedState:null}else Ft=fs.next;var Nt=as===null?Zr.memoizedState:as.next;if(Nt!==null)as=Nt,fs=Ft;else{if(Ft===null)throw Error(At(310));fs=Ft,Ft={memoizedState:fs.memoizedState,baseState:fs.baseState,baseQueue:fs.baseQueue,queue:fs.queue,next:null},as===null?Zr.memoizedState=as=Ft:as=as.next=Ft}return as}function uo(Ft,Nt){return typeof Nt=="function"?Nt(Ft):Nt}function Ol(Ft){var Nt=zs(),jt=Nt.queue;if(jt===null)throw Error(At(311));jt.lastRenderedReducer=Ft;var Wt=fs,Zt=Wt.baseQueue,nn=jt.pending;if(nn!==null){if(Zt!==null){var gn=Zt.next;Zt.next=nn.next,nn.next=gn}Wt.baseQueue=Zt=nn,jt.pending=null}if(Zt!==null){nn=Zt.next,Wt=Wt.baseState;var En=gn=null,Nn=null,Kn=nn;do{var hr=Kn.lane;if((Fo&hr)===hr)Nn!==null&&(Nn=Nn.next={lane:0,action:Kn.action,hasEagerState:Kn.hasEagerState,eagerState:Kn.eagerState,next:null}),Wt=Kn.hasEagerState?Kn.eagerState:Ft(Wt,Kn.action);else{var Pr={lane:hr,action:Kn.action,hasEagerState:Kn.hasEagerState,eagerState:Kn.eagerState,next:null};Nn===null?(En=Nn=Pr,gn=Wt):Nn=Nn.next=Pr,Zr.lanes|=hr,ko|=hr}Kn=Kn.next}while(Kn!==null&&Kn!==nn);Nn===null?gn=Wt:Nn.next=En,$s(Wt,Nt.memoizedState)||(Ms=!0),Nt.memoizedState=Wt,Nt.baseState=gn,Nt.baseQueue=Nn,jt.lastRenderedState=Wt}if(Ft=jt.interleaved,Ft!==null){Zt=Ft;do nn=Zt.lane,Zr.lanes|=nn,ko|=nn,Zt=Zt.next;while(Zt!==Ft)}else Zt===null&&(jt.lanes=0);return[Nt.memoizedState,jt.dispatch]}function Vl(Ft){var Nt=zs(),jt=Nt.queue;if(jt===null)throw Error(At(311));jt.lastRenderedReducer=Ft;var Wt=jt.dispatch,Zt=jt.pending,nn=Nt.memoizedState;if(Zt!==null){jt.pending=null;var gn=Zt=Zt.next;do nn=Ft(nn,gn.action),gn=gn.next;while(gn!==Zt);$s(nn,Nt.memoizedState)||(Ms=!0),Nt.memoizedState=nn,Nt.baseQueue===null&&(Nt.baseState=nn),jt.lastRenderedState=nn}return[nn,Wt]}function Vp(){}function Up(Ft,Nt){var jt=Zr,Wt=zs(),Zt=Nt(),nn=!$s(Wt.memoizedState,Zt);if(nn&&(Wt.memoizedState=Zt,Ms=!0),Wt=Wt.queue,Yo(Hp.bind(null,jt,Wt,Ft),[Ft]),Wt.getSnapshot!==Nt||nn||as!==null&&as.memoizedState.tag&1){if(jt.flags|=2048,qo(9,Gp.bind(null,jt,Wt,Zt,Nt),void 0,null),_i===null)throw Error(At(349));Fo&30||zp(jt,Nt,Zt)}return Zt}function zp(Ft,Nt,jt){Ft.flags|=16384,Ft={getSnapshot:Nt,value:jt},Nt=Zr.updateQueue,Nt===null?(Nt={lastEffect:null,stores:null},Zr.updateQueue=Nt,Nt.stores=[Ft]):(jt=Nt.stores,jt===null?Nt.stores=[Ft]:jt.push(Ft))}function Gp(Ft,Nt,jt,Wt){Nt.value=jt,Nt.getSnapshot=Wt,jp(Nt)&&Is(Ft,1,-1)}function Hp(Ft,Nt,jt){return jt(function(){jp(Nt)&&Is(Ft,1,-1)})}function jp(Ft){var Nt=Ft.getSnapshot;Ft=Ft.value;try{var jt=Nt();return!$s(Ft,jt)}catch{return!0}}function Hu(Ft){var Nt=Ks();return typeof Ft=="function"&&(Ft=Ft()),Nt.memoizedState=Nt.baseState=Ft,Ft={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:Ft},Nt.queue=Ft,Ft=Ft.dispatch=gv.bind(null,Zr,Ft),[Nt.memoizedState,Ft]}function qo(Ft,Nt,jt,Wt){return Ft={tag:Ft,create:Nt,destroy:jt,deps:Wt,next:null},Nt=Zr.updateQueue,Nt===null?(Nt={lastEffect:null,stores:null},Zr.updateQueue=Nt,Nt.lastEffect=Ft.next=Ft):(jt=Nt.lastEffect,jt===null?Nt.lastEffect=Ft.next=Ft:(Wt=jt.next,jt.next=Ft,Ft.next=Wt,Nt.lastEffect=Ft)),Ft}function Wp(){return zs().memoizedState}function Ul(Ft,Nt,jt,Wt){var Zt=Ks();Zr.flags|=Ft,Zt.memoizedState=qo(1|Nt,jt,void 0,Wt===void 0?null:Wt)}function zl(Ft,Nt,jt,Wt){var Zt=zs();Wt=Wt===void 0?null:Wt;var nn=void 0;if(fs!==null){var gn=fs.memoizedState;if(nn=gn.destroy,Wt!==null&&Uu(Wt,gn.deps)){Zt.memoizedState=qo(Nt,jt,nn,Wt);return}}Zr.flags|=Ft,Zt.memoizedState=qo(1|Nt,jt,nn,Wt)}function ju(Ft,Nt){return Ul(8390656,8,Ft,Nt)}function Yo(Ft,Nt){return zl(2048,8,Ft,Nt)}function Xp(Ft,Nt){return zl(4,2,Ft,Nt)}function qp(Ft,Nt){return zl(4,4,Ft,Nt)}function Yp(Ft,Nt){if(typeof Nt=="function")return Ft=Ft(),Nt(Ft),function(){Nt(null)};if(Nt!=null)return Ft=Ft(),Nt.current=Ft,function(){Nt.current=null}}function Kp(Ft,Nt,jt){return jt=jt!=null?jt.concat([Ft]):null,zl(4,4,Yp.bind(null,Nt,Ft),jt)}function Wu(){}function Zp(Ft,Nt){var jt=zs();Nt=Nt===void 0?null:Nt;var Wt=jt.memoizedState;return Wt!==null&&Nt!==null&&Uu(Nt,Wt[1])?Wt[0]:(jt.memoizedState=[Ft,Nt],Ft)}function Qp(Ft,Nt){var jt=zs();Nt=Nt===void 0?null:Nt;var Wt=jt.memoizedState;return Wt!==null&&Nt!==null&&Uu(Nt,Wt[1])?Wt[0]:(Ft=Ft(),jt.memoizedState=[Ft,Nt],Ft)}function pv(Ft,Nt){var jt=$r;$r=jt!==0&&4>jt?jt:4,Ft(!0);var Wt=Rs.transition;Rs.transition={};try{Ft(!1),Nt()}finally{$r=jt,Rs.transition=Wt}}function Jp(){return zs().memoizedState}function mv(Ft,Nt,jt){var Wt=ro(Ft);jt={lane:Wt,action:jt,hasEagerState:!1,eagerState:null,next:null},em(Ft)?tm(Nt,jt):(rm(Ft,Nt,jt),jt=gs(),Ft=Is(Ft,Wt,jt),Ft!==null&&im(Ft,Nt,Wt))}function gv(Ft,Nt,jt){var Wt=ro(Ft),Zt={lane:Wt,action:jt,hasEagerState:!1,eagerState:null,next:null};if(em(Ft))tm(Nt,Zt);else{rm(Ft,Nt,Zt);var nn=Ft.alternate;if(Ft.lanes===0&&(nn===null||nn.lanes===0)&&(nn=Nt.lastRenderedReducer,nn!==null))try{var gn=Nt.lastRenderedState,En=nn(gn,jt);if(Zt.hasEagerState=!0,Zt.eagerState=En,$s(En,gn))return}catch{}finally{}jt=gs(),Ft=Is(Ft,Wt,jt),Ft!==null&&im(Ft,Nt,Wt)}}function em(Ft){var Nt=Ft.alternate;return Ft===Zr||Nt!==null&&Nt===Zr}function tm(Ft,Nt){Wo=$l=!0;var jt=Ft.pending;jt===null?Nt.next=Nt:(Nt.next=jt.next,jt.next=Nt),Ft.pending=Nt}function rm(Ft,Nt,jt){_i!==null&&Ft.mode&1&&!(Dr&2)?(Ft=Nt.interleaved,Ft===null?(jt.next=jt,Vs===null?Vs=[Nt]:Vs.push(Nt)):(jt.next=Ft.next,Ft.next=jt),Nt.interleaved=jt):(Ft=Nt.pending,Ft===null?jt.next=jt:(jt.next=Ft.next,Ft.next=jt),Nt.pending=jt)}function im(Ft,Nt,jt){if(jt&4194240){var Wt=Nt.lanes;Wt&=Ft.pendingLanes,jt|=Wt,Nt.lanes=jt,_u(Ft,jt)}}var Gl={readContext:Ts,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},vv={readContext:Ts,useCallback:function(Ft,Nt){return Ks().memoizedState=[Ft,Nt===void 0?null:Nt],Ft},useContext:Ts,useEffect:ju,useImperativeHandle:function(Ft,Nt,jt){return jt=jt!=null?jt.concat([Ft]):null,Ul(4194308,4,Yp.bind(null,Nt,Ft),jt)},useLayoutEffect:function(Ft,Nt){return Ul(4194308,4,Ft,Nt)},useInsertionEffect:function(Ft,Nt){return Ul(4,2,Ft,Nt)},useMemo:function(Ft,Nt){var jt=Ks();return Nt=Nt===void 0?null:Nt,Ft=Ft(),jt.memoizedState=[Ft,Nt],Ft},useReducer:function(Ft,Nt,jt){var Wt=Ks();return Nt=jt!==void 0?jt(Nt):Nt,Wt.memoizedState=Wt.baseState=Nt,Ft={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:Nt},Wt.queue=Ft,Ft=Ft.dispatch=mv.bind(null,Zr,Ft),[Wt.memoizedState,Ft]},useRef:function(Ft){var Nt=Ks();return Ft={current:Ft},Nt.memoizedState=Ft},useState:Hu,useDebugValue:Wu,useDeferredValue:function(Ft){var Nt=Hu(Ft),jt=Nt[0],Wt=Nt[1];return ju(function(){var Zt=Rs.transition;Rs.transition={};try{Wt(Ft)}finally{Rs.transition=Zt}},[Ft]),jt},useTransition:function(){var Ft=Hu(!1),Nt=Ft[0];return Ft=pv.bind(null,Ft[1]),Ks().memoizedState=Ft,[Nt,Ft]},useMutableSource:function(){},useSyncExternalStore:function(Ft,Nt,jt){var Wt=Zr,Zt=Ks();if(qr){if(jt===void 0)throw Error(At(407));jt=jt()}else{if(jt=Nt(),_i===null)throw Error(At(349));Fo&30||zp(Wt,Nt,jt)}Zt.memoizedState=jt;var nn={value:jt,getSnapshot:Nt};return Zt.queue=nn,ju(Hp.bind(null,Wt,nn,Ft),[Ft]),Wt.flags|=2048,qo(9,Gp.bind(null,Wt,nn,jt,Nt),void 0,null),jt},useId:function(){var Ft=Ks(),Nt=_i.identifierPrefix;if(qr){var jt=Ys,Wt=qs;jt=(Wt&~(1<<32-Ss(Wt)-1)).toString(32)+jt,Nt=":"+Nt+"R"+jt,jt=Xo++,0<jt&&(Nt+="H"+jt.toString(32)),Nt+=":"}else jt=dv++,Nt=":"+Nt+"r"+jt.toString(32)+":";return Ft.memoizedState=Nt},unstable_isNewReconciler:!1},yv={readContext:Ts,useCallback:Zp,useContext:Ts,useEffect:Yo,useImperativeHandle:Kp,useInsertionEffect:Xp,useLayoutEffect:qp,useMemo:Qp,useReducer:Ol,useRef:Wp,useState:function(){return Ol(uo)},useDebugValue:Wu,useDeferredValue:function(Ft){var Nt=Ol(uo),jt=Nt[0],Wt=Nt[1];return Yo(function(){var Zt=Rs.transition;Rs.transition={};try{Wt(Ft)}finally{Rs.transition=Zt}},[Ft]),jt},useTransition:function(){var Ft=Ol(uo)[0],Nt=zs().memoizedState;return[Ft,Nt]},useMutableSource:Vp,useSyncExternalStore:Up,useId:Jp,unstable_isNewReconciler:!1},xv={readContext:Ts,useCallback:Zp,useContext:Ts,useEffect:Yo,useImperativeHandle:Kp,useInsertionEffect:Xp,useLayoutEffect:qp,useMemo:Qp,useReducer:Vl,useRef:Wp,useState:function(){return Vl(uo)},useDebugValue:Wu,useDeferredValue:function(Ft){var Nt=Vl(uo),jt=Nt[0],Wt=Nt[1];return Yo(function(){var Zt=Rs.transition;Rs.transition={};try{Wt(Ft)}finally{Rs.transition=Zt}},[Ft]),jt},useTransition:function(){var Ft=Vl(uo)[0],Nt=zs().memoizedState;return[Ft,Nt]},useMutableSource:Vp,useSyncExternalStore:Up,useId:Jp,unstable_isNewReconciler:!1};function Xu(Ft,Nt){try{var jt="",Wt=Nt;do jt+=hv(Wt),Wt=Wt.return;while(Wt);var Zt=jt}catch(nn){Zt=`
Error generating stack: `+nn.message+`
`+nn.stack}return{value:Ft,source:Nt,stack:Zt}}function qu(Ft,Nt){try{console.error(Nt.value)}catch(jt){setTimeout(function(){throw jt})}}var _v=typeof WeakMap=="function"?WeakMap:Map;function sm(Ft,Nt,jt){jt=Xs(-1,jt),jt.tag=3,jt.payload={element:null};var Wt=Nt.value;return jt.callback=function(){ou||(ou=!0,fp=Wt),qu(Ft,Nt)},jt}function om(Ft,Nt,jt){jt=Xs(-1,jt),jt.tag=3;var Wt=Ft.type.getDerivedStateFromError;if(typeof Wt=="function"){var Zt=Nt.value;jt.payload=function(){return Wt(Zt)},jt.callback=function(){qu(Ft,Nt)}}var nn=Ft.stateNode;return nn!==null&&typeof nn.componentDidCatch=="function"&&(jt.callback=function(){qu(Ft,Nt),typeof Wt!="function"&&(to===null?to=new Set([this]):to.add(this));var gn=Nt.stack;this.componentDidCatch(Nt.value,{componentStack:gn!==null?gn:""})}),jt}function am(Ft,Nt,jt){var Wt=Ft.pingCache;if(Wt===null){Wt=Ft.pingCache=new _v;var Zt=new Set;Wt.set(Nt,Zt)}else Zt=Wt.get(Nt),Zt===void 0&&(Zt=new Set,Wt.set(Nt,Zt));Zt.has(jt)||(Zt.add(jt),Ft=Dv.bind(null,Ft,Nt,jt),Nt.then(Ft,Ft))}function lm(Ft){do{var Nt;if((Nt=Ft.tag===13)&&(Nt=Ft.memoizedState,Nt=Nt!==null?Nt.dehydrated!==null:!0),Nt)return Ft;Ft=Ft.return}while(Ft!==null);return null}function cm(Ft,Nt,jt,Wt,Zt){return Ft.mode&1?(Ft.flags|=65536,Ft.lanes=Zt,Ft):(Ft===Nt?Ft.flags|=65536:(Ft.flags|=128,jt.flags|=131072,jt.flags&=-52805,jt.tag===1&&(jt.alternate===null?jt.tag=17:(Nt=Xs(-1,1),Nt.tag=2,eo(jt,Nt))),jt.lanes|=1),Ft)}function Gs(Ft){Ft.flags|=4}function um(Ft,Nt){if(Ft!==null&&Ft.child===Nt.child)return!0;if(Nt.flags&16)return!1;for(Ft=Nt.child;Ft!==null;){if(Ft.flags&12854||Ft.subtreeFlags&12854)return!1;Ft=Ft.sibling}return!0}var Ko,Zo,Hl,Wl;if(dr)Ko=function(Ft,Nt){for(var jt=Nt.child;jt!==null;){if(jt.tag===5||jt.tag===6)_n(Ft,jt.stateNode);else if(jt.tag!==4&&jt.child!==null){jt.child.return=jt,jt=jt.child;continue}if(jt===Nt)break;for(;jt.sibling===null;){if(jt.return===null||jt.return===Nt)return;jt=jt.return}jt.sibling.return=jt.return,jt=jt.sibling}},Zo=function(){},Hl=function(Ft,Nt,jt,Wt,Zt){if(Ft=Ft.memoizedProps,Ft!==Wt){var nn=Nt.stateNode,gn=Us(Ps.current);jt=xn(nn,jt,Ft,Wt,Zt,gn),(Nt.updateQueue=jt)&&Gs(Nt)}},Wl=function(Ft,Nt,jt,Wt){jt!==Wt&&Gs(Nt)};else if(hn){Ko=function(Ft,Nt,jt,Wt){for(var Zt=Nt.child;Zt!==null;){if(Zt.tag===5){var nn=Zt.stateNode;jt&&Wt&&(nn=rs(nn,Zt.type,Zt.memoizedProps,Zt)),_n(Ft,nn)}else if(Zt.tag===6)nn=Zt.stateNode,jt&&Wt&&(nn=ts(nn,Zt.memoizedProps,Zt)),_n(Ft,nn);else if(Zt.tag!==4){if(Zt.tag===22&&Zt.memoizedState!==null)nn=Zt.child,nn!==null&&(nn.return=Zt),Ko(Ft,Zt,!0,!0);else if(Zt.child!==null){Zt.child.return=Zt,Zt=Zt.child;continue}}if(Zt===Nt)break;for(;Zt.sibling===null;){if(Zt.return===null||Zt.return===Nt)return;Zt=Zt.return}Zt.sibling.return=Zt.return,Zt=Zt.sibling}};var fm=function(Ft,Nt,jt,Wt){for(var Zt=Nt.child;Zt!==null;){if(Zt.tag===5){var nn=Zt.stateNode;jt&&Wt&&(nn=rs(nn,Zt.type,Zt.memoizedProps,Zt)),Nr(Ft,nn)}else if(Zt.tag===6)nn=Zt.stateNode,jt&&Wt&&(nn=ts(nn,Zt.memoizedProps,Zt)),Nr(Ft,nn);else if(Zt.tag!==4){if(Zt.tag===22&&Zt.memoizedState!==null)nn=Zt.child,nn!==null&&(nn.return=Zt),fm(Ft,Zt,!0,!0);else if(Zt.child!==null){Zt.child.return=Zt,Zt=Zt.child;continue}}if(Zt===Nt)break;for(;Zt.sibling===null;){if(Zt.return===null||Zt.return===Nt)return;Zt=Zt.return}Zt.sibling.return=Zt.return,Zt=Zt.sibling}};Zo=function(Ft,Nt){var jt=Nt.stateNode;if(!um(Ft,Nt)){Ft=jt.containerInfo;var Wt=Lr(Ft);fm(Wt,Nt,!1,!1),jt.pendingChildren=Wt,Gs(Nt),Ur(Ft,Wt)}},Hl=function(Ft,Nt,jt,Wt,Zt){var nn=Ft.stateNode,gn=Ft.memoizedProps;if((Ft=um(Ft,Nt))&&gn===Wt)Nt.stateNode=nn;else{var En=Nt.stateNode,Nn=Us(Ps.current),Kn=null;gn!==Wt&&(Kn=xn(En,jt,gn,Wt,Zt,Nn)),Ft&&Kn===null?Nt.stateNode=nn:(nn=Mr(nn,Kn,jt,gn,Wt,Nt,Ft,En),wn(nn,jt,Wt,Zt,Nn)&&Gs(Nt),Nt.stateNode=nn,Ft?Gs(Nt):Ko(nn,Nt,!1,!1))}},Wl=function(Ft,Nt,jt,Wt){jt!==Wt?(Ft=Us(Io.current),jt=Us(Ps.current),Nt.stateNode=Bn(Wt,Ft,jt,Nt),Gs(Nt)):Nt.stateNode=Ft.stateNode}}else Zo=function(){},Hl=function(){},Wl=function(){};function Qo(Ft,Nt){if(!qr)switch(Ft.tailMode){case"hidden":Nt=Ft.tail;for(var jt=null;Nt!==null;)Nt.alternate!==null&&(jt=Nt),Nt=Nt.sibling;jt===null?Ft.tail=null:jt.sibling=null;break;case"collapsed":jt=Ft.tail;for(var Wt=null;jt!==null;)jt.alternate!==null&&(Wt=jt),jt=jt.sibling;Wt===null?Nt||Ft.tail===null?Ft.tail=null:Ft.tail.sibling=null:Wt.sibling=null}}function ds(Ft){var Nt=Ft.alternate!==null&&Ft.alternate.child===Ft.child,jt=0,Wt=0;if(Nt)for(var Zt=Ft.child;Zt!==null;)jt|=Zt.lanes|Zt.childLanes,Wt|=Zt.subtreeFlags&14680064,Wt|=Zt.flags&14680064,Zt.return=Ft,Zt=Zt.sibling;else for(Zt=Ft.child;Zt!==null;)jt|=Zt.lanes|Zt.childLanes,Wt|=Zt.subtreeFlags,Wt|=Zt.flags,Zt.return=Ft,Zt=Zt.sibling;return Ft.subtreeFlags|=Wt,Ft.childLanes=jt,Nt}function Sv(Ft,Nt,jt){var Wt=Nt.pendingProps;switch(Fu(Nt),Nt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ds(Nt),null;case 1:return ss(Nt.type)&&Xr(),ds(Nt),null;case 3:return Wt=Nt.stateNode,Lo(),xr(Wr),xr(Cr),Vu(),Wt.pendingContext&&(Wt.context=Wt.pendingContext,Wt.pendingContext=null),(Ft===null||Ft.child===null)&&(zo(Nt)?Gs(Nt):Ft===null||Ft.memoizedState.isDehydrated&&!(Nt.flags&256)||(Nt.flags|=1024,Ns!==null&&(pp(Ns),Ns=null))),Zo(Ft,Nt),ds(Nt),null;case 5:$u(Nt),jt=Us(Io.current);var Zt=Nt.type;if(Ft!==null&&Nt.stateNode!=null)Hl(Ft,Nt,Zt,Wt,jt),Ft.ref!==Nt.ref&&(Nt.flags|=512,Nt.flags|=2097152);else{if(!Wt){if(Nt.stateNode===null)throw Error(At(166));return ds(Nt),null}if(Ft=Us(Ps.current),zo(Nt)){if(!Dn)throw Error(At(175));Ft=mu(Nt.stateNode,Nt.type,Nt.memoizedProps,jt,Ft,Nt,!Uo),Nt.updateQueue=Ft,Ft!==null&&Gs(Nt)}else{var nn=ln(Zt,Wt,jt,Ft,Nt);Ko(nn,Nt,!1,!1),Nt.stateNode=nn,wn(nn,Zt,Wt,jt,Ft)&&Gs(Nt)}Nt.ref!==null&&(Nt.flags|=512,Nt.flags|=2097152)}return ds(Nt),null;case 6:if(Ft&&Nt.stateNode!=null)Wl(Ft,Nt,Ft.memoizedProps,Wt);else{if(typeof Wt!="string"&&Nt.stateNode===null)throw Error(At(166));if(Ft=Us(Io.current),jt=Us(Ps.current),zo(Nt)){if(!Dn)throw Error(At(176));if(Ft=Nt.stateNode,Wt=Nt.memoizedProps,(jt=gu(Ft,Wt,Nt,!Uo))&&(Zt=Es,Zt!==null))switch(nn=(Zt.mode&1)!==0,Zt.tag){case 3:sr(Zt.stateNode.containerInfo,Ft,Wt,nn);break;case 5:gr(Zt.type,Zt.memoizedProps,Zt.stateNode,Ft,Wt,nn)}jt&&Gs(Nt)}else Nt.stateNode=Bn(Wt,Ft,jt,Nt)}return ds(Nt),null;case 13:if(xr(Yr),Wt=Nt.memoizedState,qr&&bs!==null&&Nt.mode&1&&!(Nt.flags&128)){for(Ft=bs;Ft;)Ft=Qs(Ft);return Po(),Nt.flags|=98560,Nt}if(Wt!==null&&Wt.dehydrated!==null){if(Wt=zo(Nt),Ft===null){if(!Wt)throw Error(At(318));if(!Dn)throw Error(At(344));if(Ft=Nt.memoizedState,Ft=Ft!==null?Ft.dehydrated:null,!Ft)throw Error(At(317));vu(Ft,Nt)}else Po(),!(Nt.flags&128)&&(Nt.memoizedState=null),Nt.flags|=4;return ds(Nt),null}return Ns!==null&&(pp(Ns),Ns=null),Nt.flags&128?(Nt.lanes=jt,Nt):(Wt=Wt!==null,jt=!1,Ft===null?zo(Nt):jt=Ft.memoizedState!==null,Wt&&!jt&&(Nt.child.flags|=8192,Nt.mode&1&&(Ft===null||Yr.current&1?ns===0&&(ns=3):gp())),Nt.updateQueue!==null&&(Nt.flags|=4),ds(Nt),null);case 4:return Lo(),Zo(Ft,Nt),Ft===null&&Zn(Nt.stateNode.containerInfo),ds(Nt),null;case 10:return Au(Nt.type._context),ds(Nt),null;case 17:return ss(Nt.type)&&Xr(),ds(Nt),null;case 19:if(xr(Yr),Zt=Nt.memoizedState,Zt===null)return ds(Nt),null;if(Wt=(Nt.flags&128)!==0,nn=Zt.rendering,nn===null)if(Wt)Qo(Zt,!1);else{if(ns!==0||Ft!==null&&Ft.flags&128)for(Ft=Nt.child;Ft!==null;){if(nn=Nl(Ft),nn!==null){for(Nt.flags|=128,Qo(Zt,!1),Ft=nn.updateQueue,Ft!==null&&(Nt.updateQueue=Ft,Nt.flags|=4),Nt.subtreeFlags=0,Ft=jt,Wt=Nt.child;Wt!==null;)jt=Wt,Zt=Ft,jt.flags&=14680066,nn=jt.alternate,nn===null?(jt.childLanes=0,jt.lanes=Zt,jt.child=null,jt.subtreeFlags=0,jt.memoizedProps=null,jt.memoizedState=null,jt.updateQueue=null,jt.dependencies=null,jt.stateNode=null):(jt.childLanes=nn.childLanes,jt.lanes=nn.lanes,jt.child=nn.child,jt.subtreeFlags=0,jt.deletions=null,jt.memoizedProps=nn.memoizedProps,jt.memoizedState=nn.memoizedState,jt.updateQueue=nn.updateQueue,jt.type=nn.type,Zt=nn.dependencies,jt.dependencies=Zt===null?null:{lanes:Zt.lanes,firstContext:Zt.firstContext}),Wt=Wt.sibling;return Jn(Yr,Yr.current&1|2),Nt.child}Ft=Ft.sibling}Zt.tail!==null&&os()>up&&(Nt.flags|=128,Wt=!0,Qo(Zt,!1),Nt.lanes=4194304)}else{if(!Wt)if(Ft=Nl(nn),Ft!==null){if(Nt.flags|=128,Wt=!0,Ft=Ft.updateQueue,Ft!==null&&(Nt.updateQueue=Ft,Nt.flags|=4),Qo(Zt,!0),Zt.tail===null&&Zt.tailMode==="hidden"&&!nn.alternate&&!qr)return ds(Nt),null}else 2*os()-Zt.renderingStartTime>up&&jt!==1073741824&&(Nt.flags|=128,Wt=!0,Qo(Zt,!1),Nt.lanes=4194304);Zt.isBackwards?(nn.sibling=Nt.child,Nt.child=nn):(Ft=Zt.last,Ft!==null?Ft.sibling=nn:Nt.child=nn,Zt.last=nn)}return Zt.tail!==null?(Nt=Zt.tail,Zt.rendering=Nt,Zt.tail=Nt.sibling,Zt.renderingStartTime=os(),Nt.sibling=null,Ft=Yr.current,Jn(Yr,Wt?Ft&1|2:Ft&1),Nt):(ds(Nt),null);case 22:case 23:return mp(),Wt=Nt.memoizedState!==null,Ft!==null&&Ft.memoizedState!==null!==Wt&&(Nt.flags|=8192),Wt&&Nt.mode&1?ws&1073741824&&(ds(Nt),dr&&Nt.subtreeFlags&6&&(Nt.flags|=8192)):ds(Nt),null;case 24:return null;case 25:return null}throw Error(At(156,Nt.tag))}var Ev=Ct.ReactCurrentOwner,Ms=!1;function ms(Ft,Nt,jt,Wt){Nt.child=Ft===null?$p(Nt,null,jt,Wt):Ro(Nt,Ft.child,jt,Wt)}function hm(Ft,Nt,jt,Wt,Zt){jt=jt.render;var nn=Nt.ref;return To(Nt,Zt),Wt=zu(Ft,Nt,jt,Wt,nn,Zt),jt=Gu(),Ft!==null&&!Ms?(Nt.updateQueue=Ft.updateQueue,Nt.flags&=-2053,Ft.lanes&=~Zt,Zs(Ft,Nt,Zt)):(qr&&jt&&Lu(Nt),Nt.flags|=1,ms(Ft,Nt,Wt,Zt),Nt.child)}function dm(Ft,Nt,jt,Wt,Zt){if(Ft===null){var nn=jt.type;return typeof nn=="function"&&!vp(nn)&&nn.defaultProps===void 0&&jt.compare===null&&jt.defaultProps===void 0?(Nt.tag=15,Nt.type=nn,pm(Ft,Nt,nn,Wt,Zt)):(Ft=du(jt.type,null,Wt,Nt,Nt.mode,Zt),Ft.ref=Nt.ref,Ft.return=Nt,Nt.child=Ft)}if(nn=Ft.child,!(Ft.lanes&Zt)){var gn=nn.memoizedProps;if(jt=jt.compare,jt=jt!==null?jt:Tl,jt(gn,Wt)&&Ft.ref===Nt.ref)return Zs(Ft,Nt,Zt)}return Nt.flags|=1,Ft=so(nn,Wt),Ft.ref=Nt.ref,Ft.return=Nt,Nt.child=Ft}function pm(Ft,Nt,jt,Wt,Zt){if(Ft!==null&&Tl(Ft.memoizedProps,Wt)&&Ft.ref===Nt.ref)if(Ms=!1,(Ft.lanes&Zt)!==0)Ft.flags&131072&&(Ms=!0);else return Nt.lanes=Ft.lanes,Zs(Ft,Nt,Zt);return Yu(Ft,Nt,jt,Wt,Zt)}function mm(Ft,Nt,jt){var Wt=Nt.pendingProps,Zt=Wt.children,nn=Ft!==null?Ft.memoizedState:null;if(Wt.mode==="hidden")if(!(Nt.mode&1))Nt.memoizedState={baseLanes:0,cachePool:null},Jn(Do,ws),ws|=jt;else if(jt&1073741824)Nt.memoizedState={baseLanes:0,cachePool:null},Wt=nn!==null?nn.baseLanes:jt,Jn(Do,ws),ws|=Wt;else return Ft=nn!==null?nn.baseLanes|jt:jt,Nt.lanes=Nt.childLanes=1073741824,Nt.memoizedState={baseLanes:Ft,cachePool:null},Nt.updateQueue=null,Jn(Do,ws),ws|=Ft,null;else nn!==null?(Wt=nn.baseLanes|jt,Nt.memoizedState=null):Wt=jt,Jn(Do,ws),ws|=Wt;return ms(Ft,Nt,Zt,jt),Nt.child}function gm(Ft,Nt){var jt=Nt.ref;(Ft===null&&jt!==null||Ft!==null&&Ft.ref!==jt)&&(Nt.flags|=512,Nt.flags|=2097152)}function Yu(Ft,Nt,jt,Wt,Zt){var nn=ss(jt)?vs:Cr.current;return nn=Jr(Nt,nn),To(Nt,Zt),jt=zu(Ft,Nt,jt,Wt,nn,Zt),Wt=Gu(),Ft!==null&&!Ms?(Nt.updateQueue=Ft.updateQueue,Nt.flags&=-2053,Ft.lanes&=~Zt,Zs(Ft,Nt,Zt)):(qr&&Wt&&Lu(Nt),Nt.flags|=1,ms(Ft,Nt,jt,Zt),Nt.child)}function vm(Ft,Nt,jt,Wt,Zt){if(ss(jt)){var nn=!0;cs(Nt)}else nn=!1;if(To(Nt,Zt),Nt.stateNode===null)Ft!==null&&(Ft.alternate=null,Nt.alternate=null,Nt.flags|=2),Rp(Nt,jt,Wt),Iu(Nt,jt,Wt,Zt),Wt=!0;else if(Ft===null){var gn=Nt.stateNode,En=Nt.memoizedProps;gn.props=En;var Nn=gn.context,Kn=jt.contextType;typeof Kn=="object"&&Kn!==null?Kn=Ts(Kn):(Kn=ss(jt)?vs:Cr.current,Kn=Jr(Nt,Kn));var hr=jt.getDerivedStateFromProps,Pr=typeof hr=="function"||typeof gn.getSnapshotBeforeUpdate=="function";Pr||typeof gn.UNSAFE_componentWillReceiveProps!="function"&&typeof gn.componentWillReceiveProps!="function"||(En!==Wt||Nn!==Kn)&&Ip(Nt,gn,Wt,Kn),Js=!1;var Er=Nt.memoizedState;gn.state=Er,Rl(Nt,Wt,gn,Zt),Nn=Nt.memoizedState,En!==Wt||Er!==Nn||Wr.current||Js?(typeof hr=="function"&&(Ru(Nt,jt,hr,Wt),Nn=Nt.memoizedState),(En=Js||Pp(Nt,jt,En,Wt,Er,Nn,Kn))?(Pr||typeof gn.UNSAFE_componentWillMount!="function"&&typeof gn.componentWillMount!="function"||(typeof gn.componentWillMount=="function"&&gn.componentWillMount(),typeof gn.UNSAFE_componentWillMount=="function"&&gn.UNSAFE_componentWillMount()),typeof gn.componentDidMount=="function"&&(Nt.flags|=4194308)):(typeof gn.componentDidMount=="function"&&(Nt.flags|=4194308),Nt.memoizedProps=Wt,Nt.memoizedState=Nn),gn.props=Wt,gn.state=Nn,gn.context=Kn,Wt=En):(typeof gn.componentDidMount=="function"&&(Nt.flags|=4194308),Wt=!1)}else{gn=Nt.stateNode,wp(Ft,Nt),En=Nt.memoizedProps,Kn=Nt.type===Nt.elementType?En:ks(Nt.type,En),gn.props=Kn,Pr=Nt.pendingProps,Er=gn.context,Nn=jt.contextType,typeof Nn=="object"&&Nn!==null?Nn=Ts(Nn):(Nn=ss(jt)?vs:Cr.current,Nn=Jr(Nt,Nn));var Gr=jt.getDerivedStateFromProps;(hr=typeof Gr=="function"||typeof gn.getSnapshotBeforeUpdate=="function")||typeof gn.UNSAFE_componentWillReceiveProps!="function"&&typeof gn.componentWillReceiveProps!="function"||(En!==Pr||Er!==Nn)&&Ip(Nt,gn,Wt,Nn),Js=!1,Er=Nt.memoizedState,gn.state=Er,Rl(Nt,Wt,gn,Zt);var yr=Nt.memoizedState;En!==Pr||Er!==yr||Wr.current||Js?(typeof Gr=="function"&&(Ru(Nt,jt,Gr,Wt),yr=Nt.memoizedState),(Kn=Js||Pp(Nt,jt,Kn,Wt,Er,yr,Nn)||!1)?(hr||typeof gn.UNSAFE_componentWillUpdate!="function"&&typeof gn.componentWillUpdate!="function"||(typeof gn.componentWillUpdate=="function"&&gn.componentWillUpdate(Wt,yr,Nn),typeof gn.UNSAFE_componentWillUpdate=="function"&&gn.UNSAFE_componentWillUpdate(Wt,yr,Nn)),typeof gn.componentDidUpdate=="function"&&(Nt.flags|=4),typeof gn.getSnapshotBeforeUpdate=="function"&&(Nt.flags|=1024)):(typeof gn.componentDidUpdate!="function"||En===Ft.memoizedProps&&Er===Ft.memoizedState||(Nt.flags|=4),typeof gn.getSnapshotBeforeUpdate!="function"||En===Ft.memoizedProps&&Er===Ft.memoizedState||(Nt.flags|=1024),Nt.memoizedProps=Wt,Nt.memoizedState=yr),gn.props=Wt,gn.state=yr,gn.context=Nn,Wt=Kn):(typeof gn.componentDidUpdate!="function"||En===Ft.memoizedProps&&Er===Ft.memoizedState||(Nt.flags|=4),typeof gn.getSnapshotBeforeUpdate!="function"||En===Ft.memoizedProps&&Er===Ft.memoizedState||(Nt.flags|=1024),Wt=!1)}return Ku(Ft,Nt,jt,Wt,nn,Zt)}function Ku(Ft,Nt,jt,Wt,Zt,nn){gm(Ft,Nt);var gn=(Nt.flags&128)!==0;if(!Wt&&!gn)return Zt&&Mo(Nt,jt,!1),Zs(Ft,Nt,nn);Wt=Nt.stateNode,Ev.current=Nt;var En=gn&&typeof jt.getDerivedStateFromError!="function"?null:Wt.render();return Nt.flags|=1,Ft!==null&&gn?(Nt.child=Ro(Nt,Ft.child,null,nn),Nt.child=Ro(Nt,null,En,nn)):ms(Ft,Nt,En,nn),Nt.memoizedState=Wt.state,Zt&&Mo(Nt,jt,!0),Nt.child}function ym(Ft){var Nt=Ft.stateNode;Nt.pendingContext?Ds(Ft,Nt.pendingContext,Nt.pendingContext!==Nt.context):Nt.context&&Ds(Ft,Nt.context,!1),Bu(Ft,Nt.containerInfo)}function xm(Ft,Nt,jt,Wt,Zt){return Po(),Nu(Zt),Nt.flags|=256,ms(Ft,Nt,jt,Wt),Nt.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function Yl(Ft){return{baseLanes:Ft,cachePool:null}}function _m(Ft,Nt,jt){var Wt=Nt.pendingProps,Zt=Yr.current,nn=!1,gn=(Nt.flags&128)!==0,En;if((En=gn)||(En=Ft!==null&&Ft.memoizedState===null?!1:(Zt&2)!==0),En?(nn=!0,Nt.flags&=-129):(Ft===null||Ft.memoizedState!==null)&&(Zt|=1),Jn(Yr,Zt&1),Ft===null)return ku(Nt),Ft=Nt.memoizedState,Ft!==null&&(Ft=Ft.dehydrated,Ft!==null)?(Nt.mode&1?_o(Ft)?Nt.lanes=8:Nt.lanes=1073741824:Nt.lanes=1,null):(Zt=Wt.children,Ft=Wt.fallback,nn?(Wt=Nt.mode,nn=Nt.child,Zt={mode:"hidden",children:Zt},!(Wt&1)&&nn!==null?(nn.childLanes=0,nn.pendingProps=Zt):nn=pu(Zt,Wt,0,null),Ft=vo(Ft,Wt,jt,null),nn.return=Nt,Ft.return=Nt,nn.sibling=Ft,Nt.child=nn,Nt.child.memoizedState=Yl(jt),Nt.memoizedState=Xl,Ft):Zu(Nt,Zt));if(Zt=Ft.memoizedState,Zt!==null){if(En=Zt.dehydrated,En!==null){if(gn)return Nt.flags&256?(Nt.flags&=-257,Kl(Ft,Nt,jt,Error(At(422)))):Nt.memoizedState!==null?(Nt.child=Ft.child,Nt.flags|=128,null):(nn=Wt.fallback,Zt=Nt.mode,Wt=pu({mode:"visible",children:Wt.children},Zt,0,null),nn=vo(nn,Zt,jt,null),nn.flags|=2,Wt.return=Nt,nn.return=Nt,Wt.sibling=nn,Nt.child=Wt,Nt.mode&1&&Ro(Nt,Ft.child,null,jt),Nt.child.memoizedState=Yl(jt),Nt.memoizedState=Xl,nn);if(!(Nt.mode&1))Nt=Kl(Ft,Nt,jt,null);else if(_o(En))Nt=Kl(Ft,Nt,jt,Error(At(419)));else if(Wt=(jt&Ft.childLanes)!==0,Ms||Wt){if(Wt=_i,Wt!==null){switch(jt&-jt){case 4:nn=2;break;case 16:nn=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nn=32;break;case 536870912:nn=268435456;break;default:nn=0}Wt=nn&(Wt.suspendedLanes|jt)?0:nn,Wt!==0&&Wt!==Zt.retryLane&&(Zt.retryLane=Wt,Is(Ft,Wt,-1))}gp(),Nt=Kl(Ft,Nt,jt,Error(At(421)))}else $o(En)?(Nt.flags|=128,Nt.child=Ft.child,Nt=kv.bind(null,Ft),So(En,Nt),Nt=null):(jt=Zt.treeContext,Dn&&(bs=yl(En),Es=Nt,qr=!0,Ns=null,Uo=!1,jt!==null&&(As[Cs++]=qs,As[Cs++]=Ys,As[Cs++]=ao,qs=jt.id,Ys=jt.overflow,ao=Nt)),Nt=Zu(Nt,Nt.pendingProps.children),Nt.flags|=4096);return Nt}return nn?(Wt=Em(Ft,Nt,Wt.children,Wt.fallback,jt),nn=Nt.child,Zt=Ft.child.memoizedState,nn.memoizedState=Zt===null?Yl(jt):{baseLanes:Zt.baseLanes|jt,cachePool:null},nn.childLanes=Ft.childLanes&~jt,Nt.memoizedState=Xl,Wt):(jt=Sm(Ft,Nt,Wt.children,jt),Nt.memoizedState=null,jt)}return nn?(Wt=Em(Ft,Nt,Wt.children,Wt.fallback,jt),nn=Nt.child,Zt=Ft.child.memoizedState,nn.memoizedState=Zt===null?Yl(jt):{baseLanes:Zt.baseLanes|jt,cachePool:null},nn.childLanes=Ft.childLanes&~jt,Nt.memoizedState=Xl,Wt):(jt=Sm(Ft,Nt,Wt.children,jt),Nt.memoizedState=null,jt)}function Zu(Ft,Nt){return Nt=pu({mode:"visible",children:Nt},Ft.mode,0,null),Nt.return=Ft,Ft.child=Nt}function Sm(Ft,Nt,jt,Wt){var Zt=Ft.child;return Ft=Zt.sibling,jt=so(Zt,{mode:"visible",children:jt}),!(Nt.mode&1)&&(jt.lanes=Wt),jt.return=Nt,jt.sibling=null,Ft!==null&&(Wt=Nt.deletions,Wt===null?(Nt.deletions=[Ft],Nt.flags|=16):Wt.push(Ft)),Nt.child=jt}function Em(Ft,Nt,jt,Wt,Zt){var nn=Nt.mode;Ft=Ft.child;var gn=Ft.sibling,En={mode:"hidden",children:jt};return!(nn&1)&&Nt.child!==Ft?(jt=Nt.child,jt.childLanes=0,jt.pendingProps=En,Nt.deletions=null):(jt=so(Ft,En),jt.subtreeFlags=Ft.subtreeFlags&14680064),gn!==null?Wt=so(gn,Wt):(Wt=vo(Wt,nn,Zt,null),Wt.flags|=2),Wt.return=Nt,jt.return=Nt,jt.sibling=Wt,Nt.child=jt,Wt}function Kl(Ft,Nt,jt,Wt){return Wt!==null&&Nu(Wt),Ro(Nt,Ft.child,null,jt),Ft=Zu(Nt,Nt.pendingProps.children),Ft.flags|=2,Nt.memoizedState=null,Ft}function bm(Ft,Nt,jt){Ft.lanes|=Nt;var Wt=Ft.alternate;Wt!==null&&(Wt.lanes|=Nt),Cu(Ft.return,Nt,jt)}function Qu(Ft,Nt,jt,Wt,Zt){var nn=Ft.memoizedState;nn===null?Ft.memoizedState={isBackwards:Nt,rendering:null,renderingStartTime:0,last:Wt,tail:jt,tailMode:Zt}:(nn.isBackwards=Nt,nn.rendering=null,nn.renderingStartTime=0,nn.last=Wt,nn.tail=jt,nn.tailMode=Zt)}function Mm(Ft,Nt,jt){var Wt=Nt.pendingProps,Zt=Wt.revealOrder,nn=Wt.tail;if(ms(Ft,Nt,Wt.children,jt),Wt=Yr.current,Wt&2)Wt=Wt&1|2,Nt.flags|=128;else{if(Ft!==null&&Ft.flags&128)e:for(Ft=Nt.child;Ft!==null;){if(Ft.tag===13)Ft.memoizedState!==null&&bm(Ft,jt,Nt);else if(Ft.tag===19)bm(Ft,jt,Nt);else if(Ft.child!==null){Ft.child.return=Ft,Ft=Ft.child;continue}if(Ft===Nt)break e;for(;Ft.sibling===null;){if(Ft.return===null||Ft.return===Nt)break e;Ft=Ft.return}Ft.sibling.return=Ft.return,Ft=Ft.sibling}Wt&=1}if(Jn(Yr,Wt),!(Nt.mode&1))Nt.memoizedState=null;else switch(Zt){case"forwards":for(jt=Nt.child,Zt=null;jt!==null;)Ft=jt.alternate,Ft!==null&&Nl(Ft)===null&&(Zt=jt),jt=jt.sibling;jt=Zt,jt===null?(Zt=Nt.child,Nt.child=null):(Zt=jt.sibling,jt.sibling=null),Qu(Nt,!1,Zt,jt,nn);break;case"backwards":for(jt=null,Zt=Nt.child,Nt.child=null;Zt!==null;){if(Ft=Zt.alternate,Ft!==null&&Nl(Ft)===null){Nt.child=Zt;break}Ft=Zt.sibling,Zt.sibling=jt,jt=Zt,Zt=Ft}Qu(Nt,!0,jt,null,nn);break;case"together":Qu(Nt,!1,null,null,void 0);break;default:Nt.memoizedState=null}return Nt.child}function Zs(Ft,Nt,jt){if(Ft!==null&&(Nt.dependencies=Ft.dependencies),ko|=Nt.lanes,!(jt&Nt.childLanes))return null;if(Ft!==null&&Nt.child!==Ft.child)throw Error(At(153));if(Nt.child!==null){for(Ft=Nt.child,jt=so(Ft,Ft.pendingProps),Nt.child=jt,jt.return=Nt;Ft.sibling!==null;)Ft=Ft.sibling,jt=jt.sibling=so(Ft,Ft.pendingProps),jt.return=Nt;jt.sibling=null}return Nt.child}function bv(Ft,Nt,jt){switch(Nt.tag){case 3:ym(Nt),Po();break;case 5:Op(Nt);break;case 1:ss(Nt.type)&&cs(Nt);break;case 4:Bu(Nt,Nt.stateNode.containerInfo);break;case 10:Mp(Nt,Nt.type._context,Nt.memoizedProps.value);break;case 13:var Wt=Nt.memoizedState;if(Wt!==null)return Wt.dehydrated!==null?(Jn(Yr,Yr.current&1),Nt.flags|=128,null):jt&Nt.child.childLanes?_m(Ft,Nt,jt):(Jn(Yr,Yr.current&1),Ft=Zs(Ft,Nt,jt),Ft!==null?Ft.sibling:null);Jn(Yr,Yr.current&1);break;case 19:if(Wt=(jt&Nt.childLanes)!==0,Ft.flags&128){if(Wt)return Mm(Ft,Nt,jt);Nt.flags|=128}var Zt=Nt.memoizedState;if(Zt!==null&&(Zt.rendering=null,Zt.tail=null,Zt.lastEffect=null),Jn(Yr,Yr.current),Wt)break;return null;case 22:case 23:return Nt.lanes=0,mm(Ft,Nt,jt)}return Zs(Ft,Nt,jt)}function Mv(Ft,Nt){switch(Fu(Nt),Nt.tag){case 1:return ss(Nt.type)&&Xr(),Ft=Nt.flags,Ft&65536?(Nt.flags=Ft&-65537|128,Nt):null;case 3:return Lo(),xr(Wr),xr(Cr),Vu(),Ft=Nt.flags,Ft&65536&&!(Ft&128)?(Nt.flags=Ft&-65537|128,Nt):null;case 5:return $u(Nt),null;case 13:if(xr(Yr),Ft=Nt.memoizedState,Ft!==null&&Ft.dehydrated!==null){if(Nt.alternate===null)throw Error(At(340));Po()}return Ft=Nt.flags,Ft&65536?(Nt.flags=Ft&-65537|128,Nt):null;case 19:return xr(Yr),null;case 4:return Lo(),null;case 10:return Au(Nt.type._context),null;case 22:case 23:return mp(),null;case 24:return null;default:return null}}var Zl=!1,fo=!1,wv=typeof WeakSet=="function"?WeakSet:Set,nr=null;function Ql(Ft,Nt){var jt=Ft.ref;if(jt!==null)if(typeof jt=="function")try{jt(null)}catch(Wt){_s(Ft,Nt,Wt)}else jt.current=null}function Ju(Ft,Nt,jt){try{jt()}catch(Wt){_s(Ft,Nt,Wt)}}var wm=!1;function Tv(Ft,Nt){for(Jt(Ft.containerInfo),nr=Nt;nr!==null;)if(Ft=nr,Nt=Ft.child,(Ft.subtreeFlags&1028)!==0&&Nt!==null)Nt.return=Ft,nr=Nt;else for(;nr!==null;){Ft=nr;try{var jt=Ft.alternate;if(Ft.flags&1024)switch(Ft.tag){case 0:case 11:case 15:break;case 1:if(jt!==null){var Wt=jt.memoizedProps,Zt=jt.memoizedState,nn=Ft.stateNode,gn=nn.getSnapshotBeforeUpdate(Ft.elementType===Ft.type?Wt:ks(Ft.type,Wt),Zt);nn.__reactInternalSnapshotBeforeUpdate=gn}break;case 3:dr&&Xn(Ft.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(At(163))}}catch(En){_s(Ft,Ft.return,En)}if(Nt=Ft.sibling,Nt!==null){Nt.return=Ft.return,nr=Nt;break}nr=Ft.return}return jt=wm,wm=!1,jt}function ho(Ft,Nt,jt){var Wt=Nt.updateQueue;if(Wt=Wt!==null?Wt.lastEffect:null,Wt!==null){var Zt=Wt=Wt.next;do{if((Zt.tag&Ft)===Ft){var nn=Zt.destroy;Zt.destroy=void 0,nn!==void 0&&Ju(Nt,jt,nn)}Zt=Zt.next}while(Zt!==Wt)}}function Jo(Ft,Nt){if(Nt=Nt.updateQueue,Nt=Nt!==null?Nt.lastEffect:null,Nt!==null){var jt=Nt=Nt.next;do{if((jt.tag&Ft)===Ft){var Wt=jt.create;jt.destroy=Wt()}jt=jt.next}while(jt!==Nt)}}function _f(Ft){var Nt=Ft.ref;if(Nt!==null){var jt=Ft.stateNode;switch(Ft.tag){case 5:Ft=rn(jt);break;default:Ft=jt}typeof Nt=="function"?Nt(Ft):Nt.current=Ft}}function Tm(Ft,Nt,jt){if(Bs&&typeof Bs.onCommitFiberUnmount=="function")try{Bs.onCommitFiberUnmount(Ml,Nt)}catch{}switch(Nt.tag){case 0:case 11:case 14:case 15:if(Ft=Nt.updateQueue,Ft!==null&&(Ft=Ft.lastEffect,Ft!==null)){var Wt=Ft=Ft.next;do{var Zt=Wt,nn=Zt.destroy;Zt=Zt.tag,nn!==void 0&&(Zt&2||Zt&4)&&Ju(Nt,jt,nn),Wt=Wt.next}while(Wt!==Ft)}break;case 1:if(Ql(Nt,jt),Ft=Nt.stateNode,typeof Ft.componentWillUnmount=="function")try{Ft.props=Nt.memoizedProps,Ft.state=Nt.memoizedState,Ft.componentWillUnmount()}catch(gn){_s(Nt,jt,gn)}break;case 5:Ql(Nt,jt);break;case 4:dr?Lm(Ft,Nt,jt):hn&&hn&&(Nt=Nt.stateNode.containerInfo,jt=Lr(Nt),Fr(Nt,jt))}}function Am(Ft,Nt,jt){for(var Wt=Nt;;)if(Tm(Ft,Wt,jt),Wt.child===null||dr&&Wt.tag===4){if(Wt===Nt)break;for(;Wt.sibling===null;){if(Wt.return===null||Wt.return===Nt)return;Wt=Wt.return}Wt.sibling.return=Wt.return,Wt=Wt.sibling}else Wt.child.return=Wt,Wt=Wt.child}function Cm(Ft){var Nt=Ft.alternate;Nt!==null&&(Ft.alternate=null,Cm(Nt)),Ft.child=null,Ft.deletions=null,Ft.sibling=null,Ft.tag===5&&(Nt=Ft.stateNode,Nt!==null&&ur(Nt)),Ft.stateNode=null,Ft.return=null,Ft.dependencies=null,Ft.memoizedProps=null,Ft.memoizedState=null,Ft.pendingProps=null,Ft.stateNode=null,Ft.updateQueue=null}function Pm(Ft){return Ft.tag===5||Ft.tag===3||Ft.tag===4}function Rm(Ft){e:for(;;){for(;Ft.sibling===null;){if(Ft.return===null||Pm(Ft.return))return null;Ft=Ft.return}for(Ft.sibling.return=Ft.return,Ft=Ft.sibling;Ft.tag!==5&&Ft.tag!==6&&Ft.tag!==18;){if(Ft.flags&2||Ft.child===null||Ft.tag===4)continue e;Ft.child.return=Ft,Ft=Ft.child}if(!(Ft.flags&2))return Ft.stateNode}}function Im(Ft){if(dr){e:{for(var Nt=Ft.return;Nt!==null;){if(Pm(Nt))break e;Nt=Nt.return}throw Error(At(160))}var jt=Nt;switch(jt.tag){case 5:Nt=jt.stateNode,jt.flags&32&&(jn(Nt),jt.flags&=-33),jt=Rm(Ft),_d(Ft,jt,Nt);break;case 3:case 4:Nt=jt.stateNode.containerInfo,jt=Rm(Ft),_h(Ft,jt,Nt);break;default:throw Error(At(161))}}}function _h(Ft,Nt,jt){var Wt=Ft.tag;if(Wt===5||Wt===6)Ft=Ft.stateNode,Nt?cr(jt,Ft,Nt):br(jt,Ft);else if(Wt!==4&&(Ft=Ft.child,Ft!==null))for(_h(Ft,Nt,jt),Ft=Ft.sibling;Ft!==null;)_h(Ft,Nt,jt),Ft=Ft.sibling}function _d(Ft,Nt,jt){var Wt=Ft.tag;if(Wt===5||Wt===6)Ft=Ft.stateNode,Nt?Tr(jt,Ft,Nt):tr(jt,Ft);else if(Wt!==4&&(Ft=Ft.child,Ft!==null))for(_d(Ft,Nt,jt),Ft=Ft.sibling;Ft!==null;)_d(Ft,Nt,jt),Ft=Ft.sibling}function Lm(Ft,Nt,jt){for(var Wt=Nt,Zt=!1,nn,gn;;){if(!Zt){Zt=Wt.return;e:for(;;){if(Zt===null)throw Error(At(160));switch(nn=Zt.stateNode,Zt.tag){case 5:gn=!1;break e;case 3:nn=nn.containerInfo,gn=!0;break e;case 4:nn=nn.containerInfo,gn=!0;break e}Zt=Zt.return}Zt=!0}if(Wt.tag===5||Wt.tag===6)Am(Ft,Wt,jt),gn?Sn(nn,Wt.stateNode):Ar(nn,Wt.stateNode);else if(Wt.tag===18)gn?Tn(nn,Wt.stateNode):Ln(nn,Wt.stateNode);else if(Wt.tag===4){if(Wt.child!==null){nn=Wt.stateNode.containerInfo,gn=!0,Wt.child.return=Wt,Wt=Wt.child;continue}}else if(Tm(Ft,Wt,jt),Wt.child!==null){Wt.child.return=Wt,Wt=Wt.child;continue}if(Wt===Nt)break;for(;Wt.sibling===null;){if(Wt.return===null||Wt.return===Nt)return;Wt=Wt.return,Wt.tag===4&&(Zt=!1)}Wt.sibling.return=Wt.return,Wt=Wt.sibling}}function ep(Ft,Nt){if(dr){switch(Nt.tag){case 0:case 11:case 14:case 15:ho(3,Nt,Nt.return),Jo(3,Nt),ho(5,Nt,Nt.return);return;case 1:return;case 5:var jt=Nt.stateNode;if(jt!=null){var Wt=Nt.memoizedProps;Ft=Ft!==null?Ft.memoizedProps:Wt;var Zt=Nt.type,nn=Nt.updateQueue;Nt.updateQueue=null,nn!==null&&kr(jt,nn,Zt,Ft,Wt,Nt)}return;case 6:if(Nt.stateNode===null)throw Error(At(162));jt=Nt.memoizedProps,Wn(Nt.stateNode,Ft!==null?Ft.memoizedProps:jt,jt);return;case 3:Dn&&Ft!==null&&Ft.memoizedState.isDehydrated&&bn(Nt.stateNode.containerInfo);return;case 12:return;case 13:Jl(Nt);return;case 19:Jl(Nt);return;case 17:return}throw Error(At(163))}switch(Nt.tag){case 0:case 11:case 14:case 15:ho(3,Nt,Nt.return),Jo(3,Nt),ho(5,Nt,Nt.return);return;case 12:return;case 13:Jl(Nt);return;case 19:Jl(Nt);return;case 3:Dn&&Ft!==null&&Ft.memoizedState.isDehydrated&&bn(Nt.stateNode.containerInfo);break;case 22:case 23:return}e:if(hn){switch(Nt.tag){case 1:case 5:case 6:break e;case 3:case 4:Nt=Nt.stateNode,Fr(Nt.containerInfo,Nt.pendingChildren);break e}throw Error(At(163))}}function Jl(Ft){var Nt=Ft.updateQueue;if(Nt!==null){Ft.updateQueue=null;var jt=Ft.stateNode;jt===null&&(jt=Ft.stateNode=new wv),Nt.forEach(function(Wt){var Zt=Nv.bind(null,Ft,Wt);jt.has(Wt)||(jt.add(Wt),Wt.then(Zt,Zt))})}}function Av(Ft,Nt){for(nr=Nt;nr!==null;){Nt=nr;var jt=Nt.deletions;if(jt!==null)for(var Wt=0;Wt<jt.length;Wt++){var Zt=jt[Wt];try{var nn=Ft;dr?Lm(nn,Zt,Nt):Am(nn,Zt,Nt);var gn=Zt.alternate;gn!==null&&(gn.return=null),Zt.return=null}catch(vr){_s(Zt,Nt,vr)}}if(jt=Nt.child,Nt.subtreeFlags&12854&&jt!==null)jt.return=Nt,nr=jt;else for(;nr!==null;){Nt=nr;try{var En=Nt.flags;if(En&32&&dr&&jn(Nt.stateNode),En&512){var Nn=Nt.alternate;if(Nn!==null){var Kn=Nn.ref;Kn!==null&&(typeof Kn=="function"?Kn(null):Kn.current=null)}}if(En&8192)switch(Nt.tag){case 13:if(Nt.memoizedState!==null){var hr=Nt.alternate;(hr===null||hr.memoizedState===null)&&(cp=os())}break;case 22:var Pr=Nt.memoizedState!==null,Er=Nt.alternate,Gr=Er!==null&&Er.memoizedState!==null;if(jt=Nt,dr){e:if(Wt=jt,Zt=Pr,nn=null,dr)for(var yr=Wt;;){if(yr.tag===5){if(nn===null){nn=yr;var ps=yr.stateNode;Zt?yn(ps):kn(yr.stateNode,yr.memoizedProps)}}else if(yr.tag===6){if(nn===null){var Fs=yr.stateNode;Zt?Vn(Fs):Un(Fs,yr.memoizedProps)}}else if((yr.tag!==22&&yr.tag!==23||yr.memoizedState===null||yr===Wt)&&yr.child!==null){yr.child.return=yr,yr=yr.child;continue}if(yr===Wt)break;for(;yr.sibling===null;){if(yr.return===null||yr.return===Wt)break e;nn===yr&&(nn=null),yr=yr.return}nn===yr&&(nn=null),yr.sibling.return=yr.return,yr=yr.sibling}}if(Pr&&!Gr&&jt.mode&1){nr=jt;for(var Rn=jt.child;Rn!==null;){for(jt=nr=Rn;nr!==null;){Wt=nr;var Mn=Wt.child;switch(Wt.tag){case 0:case 11:case 14:case 15:ho(4,Wt,Wt.return);break;case 1:Ql(Wt,Wt.return);var Fn=Wt.stateNode;if(typeof Fn.componentWillUnmount=="function"){var ir=Wt.return;try{Fn.props=Wt.memoizedProps,Fn.state=Wt.memoizedState,Fn.componentWillUnmount()}catch(vr){_s(Wt,ir,vr)}}break;case 5:Ql(Wt,Wt.return);break;case 22:if(Wt.memoizedState!==null){km(jt);continue}}Mn!==null?(Mn.return=Wt,nr=Mn):km(jt)}Rn=Rn.sibling}}}switch(En&4102){case 2:Im(Nt),Nt.flags&=-3;break;case 6:Im(Nt),Nt.flags&=-3,ep(Nt.alternate,Nt);break;case 4096:Nt.flags&=-4097;break;case 4100:Nt.flags&=-4097,ep(Nt.alternate,Nt);break;case 4:ep(Nt.alternate,Nt)}}catch(vr){_s(Nt,Nt.return,vr)}if(jt=Nt.sibling,jt!==null){jt.return=Nt.return,nr=jt;break}nr=Nt.return}}}function Cv(Ft,Nt,jt){nr=Ft,Fm(Ft)}function Fm(Ft,Nt,jt){for(var Wt=(Ft.mode&1)!==0;nr!==null;){var Zt=nr,nn=Zt.child;if(Zt.tag===22&&Wt){var gn=Zt.memoizedState!==null||Zl;if(!gn){var En=Zt.alternate,Nn=En!==null&&En.memoizedState!==null||fo;En=Zl;var Kn=fo;if(Zl=gn,(fo=Nn)&&!Kn)for(nr=Zt;nr!==null;)gn=nr,Nn=gn.child,gn.tag===22&&gn.memoizedState!==null?Nm(Zt):Nn!==null?(Nn.return=gn,nr=Nn):Nm(Zt);for(;nn!==null;)nr=nn,Fm(nn),nn=nn.sibling;nr=Zt,Zl=En,fo=Kn}Dm(Ft)}else Zt.subtreeFlags&8772&&nn!==null?(nn.return=Zt,nr=nn):Dm(Ft)}}function Dm(Ft){for(;nr!==null;){var Nt=nr;if(Nt.flags&8772){var jt=Nt.alternate;try{if(Nt.flags&8772)switch(Nt.tag){case 0:case 11:case 15:fo||Jo(5,Nt);break;case 1:var Wt=Nt.stateNode;if(Nt.flags&4&&!fo)if(jt===null)Wt.componentDidMount();else{var Zt=Nt.elementType===Nt.type?jt.memoizedProps:ks(Nt.type,jt.memoizedProps);Wt.componentDidUpdate(Zt,jt.memoizedState,Wt.__reactInternalSnapshotBeforeUpdate)}var nn=Nt.updateQueue;nn!==null&&Ap(Nt,nn,Wt);break;case 3:var gn=Nt.updateQueue;if(gn!==null){if(jt=null,Nt.child!==null)switch(Nt.child.tag){case 5:jt=rn(Nt.child.stateNode);break;case 1:jt=Nt.child.stateNode}Ap(Nt,gn,jt)}break;case 5:var En=Nt.stateNode;jt===null&&Nt.flags&4&&rr(En,Nt.type,Nt.memoizedProps,Nt);break;case 6:break;case 4:break;case 12:break;case 13:if(Dn&&Nt.memoizedState===null){var Nn=Nt.alternate;if(Nn!==null){var Kn=Nn.memoizedState;if(Kn!==null){var hr=Kn.dehydrated;hr!==null&&In(hr)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(At(163))}fo||Nt.flags&512&&_f(Nt)}catch(Pr){_s(Nt,Nt.return,Pr)}}if(Nt===Ft){nr=null;break}if(jt=Nt.sibling,jt!==null){jt.return=Nt.return,nr=jt;break}nr=Nt.return}}function km(Ft){for(;nr!==null;){var Nt=nr;if(Nt===Ft){nr=null;break}var jt=Nt.sibling;if(jt!==null){jt.return=Nt.return,nr=jt;break}nr=Nt.return}}function Nm(Ft){for(;nr!==null;){var Nt=nr;try{switch(Nt.tag){case 0:case 11:case 15:var jt=Nt.return;try{Jo(4,Nt)}catch(Nn){_s(Nt,jt,Nn)}break;case 1:var Wt=Nt.stateNode;if(typeof Wt.componentDidMount=="function"){var Zt=Nt.return;try{Wt.componentDidMount()}catch(Nn){_s(Nt,Zt,Nn)}}var nn=Nt.return;try{_f(Nt)}catch(Nn){_s(Nt,nn,Nn)}break;case 5:var gn=Nt.return;try{_f(Nt)}catch(Nn){_s(Nt,gn,Nn)}}}catch(Nn){_s(Nt,Nt.return,Nn)}if(Nt===Ft){nr=null;break}var En=Nt.sibling;if(En!==null){En.return=Nt.return,nr=En;break}nr=Nt.return}}var _c=0,eu=1,tu=2,nu=3,ru=4;if(typeof Symbol=="function"&&Symbol.for){var na=Symbol.for;_c=na("selector.component"),eu=na("selector.has_pseudo_class"),tu=na("selector.role"),nu=na("selector.test_id"),ru=na("selector.text")}function tp(Ft){var Nt=An(Ft);if(Nt!=null){if(typeof Nt.memoizedProps["data-testname"]!="string")throw Error(At(364));return Nt}if(Ft=cn(Ft),Ft===null)throw Error(At(362));return Ft.stateNode.current}function np(Ft,Nt){switch(Nt.$$typeof){case _c:if(Ft.type===Nt.value)return!0;break;case eu:e:{Nt=Nt.value,Ft=[Ft,0];for(var jt=0;jt<Ft.length;){var Wt=Ft[jt++],Zt=Ft[jt++],nn=Nt[Zt];if(Wt.tag!==5||!On(Wt)){for(;nn!=null&&np(Wt,nn);)Zt++,nn=Nt[Zt];if(Zt===Nt.length){Nt=!0;break e}else for(Wt=Wt.child;Wt!==null;)Ft.push(Wt,Zt),Wt=Wt.sibling}}Nt=!1}return Nt;case tu:if(Ft.tag===5&&zn(Ft.stateNode,Nt.value))return!0;break;case ru:if((Ft.tag===5||Ft.tag===6)&&(Ft=Gn(Ft),Ft!==null&&0<=Ft.indexOf(Nt.value)))return!0;break;case nu:if(Ft.tag===5&&(Ft=Ft.memoizedProps["data-testname"],typeof Ft=="string"&&Ft.toLowerCase()===Nt.value.toLowerCase()))return!0;break;default:throw Error(At(365))}return!1}function rp(Ft){switch(Ft.$$typeof){case _c:return"<"+(Kt(Ft.value)||"Unknown")+">";case eu:return":has("+(rp(Ft)||"")+")";case tu:return'[role="'+Ft.value+'"]';case ru:return'"'+Ft.value+'"';case nu:return'[data-testname="'+Ft.value+'"]';default:throw Error(At(365))}}function Bm(Ft,Nt){var jt=[];Ft=[Ft,0];for(var Wt=0;Wt<Ft.length;){var Zt=Ft[Wt++],nn=Ft[Wt++],gn=Nt[nn];if(Zt.tag!==5||!On(Zt)){for(;gn!=null&&np(Zt,gn);)nn++,gn=Nt[nn];if(nn===Nt.length)jt.push(Zt);else for(Zt=Zt.child;Zt!==null;)Ft.push(Zt,nn),Zt=Zt.sibling}}return jt}function sp(Ft,Nt){if(!mn)throw Error(At(363));Ft=tp(Ft),Ft=Bm(Ft,Nt),Nt=[],Ft=Array.from(Ft);for(var jt=0;jt<Ft.length;){var Wt=Ft[jt++];if(Wt.tag===5)On(Wt)||Nt.push(Wt.stateNode);else for(Wt=Wt.child;Wt!==null;)Ft.push(Wt),Wt=Wt.sibling}return Nt}var Pv=Math.ceil,iu=Ct.ReactCurrentDispatcher,ap=Ct.ReactCurrentOwner,Qr=Ct.ReactCurrentBatchConfig,Dr=0,_i=null,es=null,us=0,ws=0,Do=Kr(0),ns=0,ga=null,ko=0,su=0,lp=0,xa=null,ys=null,cp=0,up=1/0;function No(){up=os()+500}var ou=!1,fp=null,to=null,au=!1,no=null,lu=0,ba=0,hp=null,cu=-1,uu=0;function gs(){return Dr&6?os():cu!==-1?cu:cu=os()}function ro(Ft){return Ft.mode&1?Dr&2&&us!==0?us&-us:fv.transition!==null?(uu===0&&(Ft=_l,_l<<=1,!(_l&4194240)&&(_l=64),uu=Ft),uu):(Ft=$r,Ft!==0?Ft:$n()):1}function Is(Ft,Nt,jt){if(50<ba)throw ba=0,hp=null,Error(At(185));var Wt=fu(Ft,Nt);return Wt===null?null:(Vo(Wt,Nt,jt),(!(Dr&2)||Wt!==_i)&&(Wt===_i&&(!(Dr&2)&&(su|=Nt),ns===4&&io(Wt,us)),xs(Wt,jt),Nt===1&&Dr===0&&!(Ft.mode&1)&&(No(),wl&&Os())),Wt)}function fu(Ft,Nt){Ft.lanes|=Nt;var jt=Ft.alternate;for(jt!==null&&(jt.lanes|=Nt),jt=Ft,Ft=Ft.return;Ft!==null;)Ft.childLanes|=Nt,jt=Ft.alternate,jt!==null&&(jt.childLanes|=Nt),jt=Ft,Ft=Ft.return;return jt.tag===3?jt.stateNode:null}function xs(Ft,Nt){var jt=Ft.callbackNode;nv(Ft,Nt);var Wt=El(Ft,Ft===_i?us:0);if(Wt===0)jt!==null&&Ep(jt),Ft.callbackNode=null,Ft.callbackPriority=0;else if(Nt=Wt&-Wt,Ft.callbackPriority!==Nt){if(jt!=null&&Ep(jt),Nt===1)Ft.tag===0?uv(Om.bind(null,Ft)):bp(Om.bind(null,Ft)),qn?er(function(){Dr===0&&Os()}):Su(Eu,Os),jt=null;else{switch(Sp(Wt)){case 1:jt=Eu;break;case 4:jt=ov;break;case 16:jt=bu;break;case 536870912:jt=av;break;default:jt=bu}jt=qm(jt,$m.bind(null,Ft))}Ft.callbackPriority=Nt,Ft.callbackNode=jt}}function $m(Ft,Nt){if(cu=-1,uu=0,Dr&6)throw Error(At(327));var jt=Ft.callbackNode;if(go()&&Ft.callbackNode!==jt)return null;var Wt=El(Ft,Ft===_i?us:0);if(Wt===0)return null;if(Wt&30||Wt&Ft.expiredLanes||Nt)Nt=hu(Ft,Wt);else{Nt=Wt;var Zt=Dr;Dr|=2;var nn=zm();(_i!==Ft||us!==Nt)&&(No(),po(Ft,Nt));do try{Lv();break}catch(En){Um(Ft,En)}while(!0);Tu(),iu.current=nn,Dr=Zt,es!==null?Nt=0:(_i=null,us=0,Nt=ns)}if(Nt!==0){if(Nt===2&&(Zt=yu(Ft),Zt!==0&&(Wt=Zt,Nt=dp(Ft,Zt))),Nt===1)throw jt=ga,po(Ft,0),io(Ft,Wt),xs(Ft,os()),jt;if(Nt===6)io(Ft,Wt);else{if(Zt=Ft.current.alternate,!(Wt&30)&&!Rv(Zt)&&(Nt=hu(Ft,Wt),Nt===2&&(nn=yu(Ft),nn!==0&&(Wt=nn,Nt=dp(Ft,nn))),Nt===1))throw jt=ga,po(Ft,0),io(Ft,Wt),xs(Ft,os()),jt;switch(Ft.finishedWork=Zt,Ft.finishedLanes=Wt,Nt){case 0:case 1:throw Error(At(345));case 2:mo(Ft,ys);break;case 3:if(io(Ft,Wt),(Wt&130023424)===Wt&&(Nt=cp+500-os(),10<Nt)){if(El(Ft,0)!==0)break;if(Zt=Ft.suspendedLanes,(Zt&Wt)!==Wt){gs(),Ft.pingedLanes|=Ft.suspendedLanes&Zt;break}Ft.timeoutHandle=Hn(mo.bind(null,Ft,ys),Nt);break}mo(Ft,ys);break;case 4:if(io(Ft,Wt),(Wt&4194240)===Wt)break;for(Nt=Ft.eventTimes,Zt=-1;0<Wt;){var gn=31-Ss(Wt);nn=1<<gn,gn=Nt[gn],gn>Zt&&(Zt=gn),Wt&=~nn}if(Wt=Zt,Wt=os()-Wt,Wt=(120>Wt?120:480>Wt?480:1080>Wt?1080:1920>Wt?1920:3e3>Wt?3e3:4320>Wt?4320:1960*Pv(Wt/1960))-Wt,10<Wt){Ft.timeoutHandle=Hn(mo.bind(null,Ft,ys),Wt);break}mo(Ft,ys);break;case 5:mo(Ft,ys);break;default:throw Error(At(329))}}}return xs(Ft,os()),Ft.callbackNode===jt?$m.bind(null,Ft):null}function dp(Ft,Nt){var jt=xa;return Ft.current.memoizedState.isDehydrated&&(po(Ft,Nt).flags|=256),Ft=hu(Ft,Nt),Ft!==2&&(Nt=ys,ys=jt,Nt!==null&&pp(Nt)),Ft}function pp(Ft){ys===null?ys=Ft:ys.push.apply(ys,Ft)}function Rv(Ft){for(var Nt=Ft;;){if(Nt.flags&16384){var jt=Nt.updateQueue;if(jt!==null&&(jt=jt.stores,jt!==null))for(var Wt=0;Wt<jt.length;Wt++){var Zt=jt[Wt],nn=Zt.getSnapshot;Zt=Zt.value;try{if(!$s(nn(),Zt))return!1}catch{return!1}}}if(jt=Nt.child,Nt.subtreeFlags&16384&&jt!==null)jt.return=Nt,Nt=jt;else{if(Nt===Ft)break;for(;Nt.sibling===null;){if(Nt.return===null||Nt.return===Ft)return!0;Nt=Nt.return}Nt.sibling.return=Nt.return,Nt=Nt.sibling}}return!0}function io(Ft,Nt){for(Nt&=~lp,Nt&=~su,Ft.suspendedLanes|=Nt,Ft.pingedLanes&=~Nt,Ft=Ft.expirationTimes;0<Nt;){var jt=31-Ss(Nt),Wt=1<<jt;Ft[jt]=-1,Nt&=~Wt}}function Om(Ft){if(Dr&6)throw Error(At(327));go();var Nt=El(Ft,0);if(!(Nt&1))return xs(Ft,os()),null;var jt=hu(Ft,Nt);if(Ft.tag!==0&&jt===2){var Wt=yu(Ft);Wt!==0&&(Nt=Wt,jt=dp(Ft,Wt))}if(jt===1)throw jt=ga,po(Ft,0),io(Ft,Nt),xs(Ft,os()),jt;if(jt===6)throw Error(At(345));return Ft.finishedWork=Ft.current.alternate,Ft.finishedLanes=Nt,mo(Ft,ys),xs(Ft,os()),null}function Vm(Ft){no!==null&&no.tag===0&&!(Dr&6)&&go();var Nt=Dr;Dr|=1;var jt=Qr.transition,Wt=$r;try{if(Qr.transition=null,$r=1,Ft)return Ft()}finally{$r=Wt,Qr.transition=jt,Dr=Nt,!(Dr&6)&&Os()}}function mp(){ws=Do.current,xr(Do)}function po(Ft,Nt){Ft.finishedWork=null,Ft.finishedLanes=0;var jt=Ft.timeoutHandle;if(jt!==mr&&(Ft.timeoutHandle=mr,or(jt)),es!==null)for(jt=es.return;jt!==null;){var Wt=jt;switch(Fu(Wt),Wt.tag){case 1:Wt=Wt.type.childContextTypes,Wt!=null&&Xr();break;case 3:Lo(),xr(Wr),xr(Cr),Vu();break;case 5:$u(Wt);break;case 4:Lo();break;case 13:xr(Yr);break;case 19:xr(Yr);break;case 10:Au(Wt.type._context);break;case 22:case 23:mp()}jt=jt.return}if(_i=Ft,es=Ft=so(Ft.current,null),us=ws=Nt,ns=0,ga=null,lp=su=ko=0,ys=xa=null,Vs!==null){for(Nt=0;Nt<Vs.length;Nt++)if(jt=Vs[Nt],Wt=jt.interleaved,Wt!==null){jt.interleaved=null;var Zt=Wt.next,nn=jt.pending;if(nn!==null){var gn=nn.next;nn.next=Zt,Wt.next=gn}jt.pending=Wt}Vs=null}return Ft}function Um(Ft,Nt){do{var jt=es;try{if(Tu(),Bl.current=Gl,$l){for(var Wt=Zr.memoizedState;Wt!==null;){var Zt=Wt.queue;Zt!==null&&(Zt.pending=null),Wt=Wt.next}$l=!1}if(Fo=0,as=fs=Zr=null,Wo=!1,Xo=0,ap.current=null,jt===null||jt.return===null){ns=1,ga=Nt,es=null;break}e:{var nn=Ft,gn=jt.return,En=jt,Nn=Nt;if(Nt=us,En.flags|=32768,Nn!==null&&typeof Nn=="object"&&typeof Nn.then=="function"){var Kn=Nn,hr=En,Pr=hr.tag;if(!(hr.mode&1)&&(Pr===0||Pr===11||Pr===15)){var Er=hr.alternate;Er?(hr.updateQueue=Er.updateQueue,hr.memoizedState=Er.memoizedState,hr.lanes=Er.lanes):(hr.updateQueue=null,hr.memoizedState=null)}var Gr=lm(gn);if(Gr!==null){Gr.flags&=-257,cm(Gr,gn,En,nn,Nt),Gr.mode&1&&am(nn,Kn,Nt),Nt=Gr,Nn=Kn;var yr=Nt.updateQueue;if(yr===null){var ps=new Set;ps.add(Nn),Nt.updateQueue=ps}else yr.add(Nn);break e}else{if(!(Nt&1)){am(nn,Kn,Nt),gp();break e}Nn=Error(At(426))}}else if(qr&&En.mode&1){var Fs=lm(gn);if(Fs!==null){!(Fs.flags&65536)&&(Fs.flags|=256),cm(Fs,gn,En,nn,Nt),Nu(Nn);break e}}nn=Nn,ns!==4&&(ns=2),xa===null?xa=[nn]:xa.push(nn),Nn=Xu(Nn,En),En=gn;do{switch(En.tag){case 3:En.flags|=65536,Nt&=-Nt,En.lanes|=Nt;var Rn=sm(En,Nn,Nt);Tp(En,Rn);break e;case 1:nn=Nn;var Mn=En.type,Fn=En.stateNode;if(!(En.flags&128)&&(typeof Mn.getDerivedStateFromError=="function"||Fn!==null&&typeof Fn.componentDidCatch=="function"&&(to===null||!to.has(Fn)))){En.flags|=65536,Nt&=-Nt,En.lanes|=Nt;var ir=om(En,nn,Nt);Tp(En,ir);break e}}En=En.return}while(En!==null)}Hm(jt)}catch(vr){Nt=vr,es===jt&&jt!==null&&(es=jt=jt.return);continue}break}while(!0)}function zm(){var Ft=iu.current;return iu.current=Gl,Ft===null?Gl:Ft}function gp(){(ns===0||ns===3||ns===2)&&(ns=4),_i===null||!(ko&268435455)&&!(su&268435455)||io(_i,us)}function hu(Ft,Nt){var jt=Dr;Dr|=2;var Wt=zm();_i===Ft&&us===Nt||po(Ft,Nt);do try{Iv();break}catch(Zt){Um(Ft,Zt)}while(!0);if(Tu(),Dr=jt,iu.current=Wt,es!==null)throw Error(At(261));return _i=null,us=0,ns}function Iv(){for(;es!==null;)Gm(es)}function Lv(){for(;es!==null&&!iv();)Gm(es)}function Gm(Ft){var Nt=Xm(Ft.alternate,Ft,ws);Ft.memoizedProps=Ft.pendingProps,Nt===null?Hm(Ft):es=Nt,ap.current=null}function Hm(Ft){var Nt=Ft;do{var jt=Nt.alternate;if(Ft=Nt.return,Nt.flags&32768){if(jt=Mv(jt,Nt),jt!==null){jt.flags&=32767,es=jt;return}if(Ft!==null)Ft.flags|=32768,Ft.subtreeFlags=0,Ft.deletions=null;else{ns=6,es=null;return}}else if(jt=Sv(jt,Nt,ws),jt!==null){es=jt;return}if(Nt=Nt.sibling,Nt!==null){es=Nt;return}es=Nt=Ft}while(Nt!==null);ns===0&&(ns=5)}function mo(Ft,Nt){var jt=$r,Wt=Qr.transition;try{Qr.transition=null,$r=1,Fv(Ft,Nt,jt)}finally{Qr.transition=Wt,$r=jt}return null}function Fv(Ft,Nt,jt){do go();while(no!==null);if(Dr&6)throw Error(At(327));var Wt=Ft.finishedWork,Zt=Ft.finishedLanes;if(Wt===null)return null;if(Ft.finishedWork=null,Ft.finishedLanes=0,Wt===Ft.current)throw Error(At(177));Ft.callbackNode=null,Ft.callbackPriority=0;var nn=Wt.lanes|Wt.childLanes;if(rv(Ft,nn),Ft===_i&&(es=_i=null,us=0),!(Wt.subtreeFlags&2064)&&!(Wt.flags&2064)||au||(au=!0,qm(bu,function(){return go(),null})),nn=(Wt.flags&15990)!==0,Wt.subtreeFlags&15990||nn){nn=Qr.transition,Qr.transition=null;var gn=$r;$r=1;var En=Dr;Dr|=4,ap.current=null,Tv(Ft,Wt),Av(Ft,Wt),on(Ft.containerInfo),Ft.current=Wt,Cv(Wt),sv(),Dr=En,$r=gn,Qr.transition=nn}else Ft.current=Wt;if(au&&(au=!1,no=Ft,lu=Zt),nn=Ft.pendingLanes,nn===0&&(to=null),lv(Wt.stateNode),xs(Ft,os()),Nt!==null)for(jt=Ft.onRecoverableError,Wt=0;Wt<Nt.length;Wt++)jt(Nt[Wt]);if(ou)throw ou=!1,Ft=fp,fp=null,Ft;return lu&1&&Ft.tag!==0&&go(),nn=Ft.pendingLanes,nn&1?Ft===hp?ba++:(ba=0,hp=Ft):ba=0,Os(),null}function go(){if(no!==null){var Ft=Sp(lu),Nt=Qr.transition,jt=$r;try{if(Qr.transition=null,$r=16>Ft?16:Ft,no===null)var Wt=!1;else{if(Ft=no,no=null,lu=0,Dr&6)throw Error(At(331));var Zt=Dr;for(Dr|=4,nr=Ft.current;nr!==null;){var nn=nr,gn=nn.child;if(nr.flags&16){var En=nn.deletions;if(En!==null){for(var Nn=0;Nn<En.length;Nn++){var Kn=En[Nn];for(nr=Kn;nr!==null;){var hr=nr;switch(hr.tag){case 0:case 11:case 15:ho(8,hr,nn)}var Pr=hr.child;if(Pr!==null)Pr.return=hr,nr=Pr;else for(;nr!==null;){hr=nr;var Er=hr.sibling,Gr=hr.return;if(Cm(hr),hr===Kn){nr=null;break}if(Er!==null){Er.return=Gr,nr=Er;break}nr=Gr}}}var yr=nn.alternate;if(yr!==null){var ps=yr.child;if(ps!==null){yr.child=null;do{var Fs=ps.sibling;ps.sibling=null,ps=Fs}while(ps!==null)}}nr=nn}}if(nn.subtreeFlags&2064&&gn!==null)gn.return=nn,nr=gn;else e:for(;nr!==null;){if(nn=nr,nn.flags&2048)switch(nn.tag){case 0:case 11:case 15:ho(9,nn,nn.return)}var Rn=nn.sibling;if(Rn!==null){Rn.return=nn.return,nr=Rn;break e}nr=nn.return}}var Mn=Ft.current;for(nr=Mn;nr!==null;){gn=nr;var Fn=gn.child;if(gn.subtreeFlags&2064&&Fn!==null)Fn.return=gn,nr=Fn;else e:for(gn=Mn;nr!==null;){if(En=nr,En.flags&2048)try{switch(En.tag){case 0:case 11:case 15:Jo(9,En)}}catch(vr){_s(En,En.return,vr)}if(En===gn){nr=null;break e}var ir=En.sibling;if(ir!==null){ir.return=En.return,nr=ir;break e}nr=En.return}}if(Dr=Zt,Os(),Bs&&typeof Bs.onPostCommitFiberRoot=="function")try{Bs.onPostCommitFiberRoot(Ml,Ft)}catch{}Wt=!0}return Wt}finally{$r=jt,Qr.transition=Nt}}return!1}function jm(Ft,Nt,jt){Nt=Xu(jt,Nt),Nt=sm(Ft,Nt,1),eo(Ft,Nt),Nt=gs(),Ft=fu(Ft,1),Ft!==null&&(Vo(Ft,1,Nt),xs(Ft,Nt))}function _s(Ft,Nt,jt){if(Ft.tag===3)jm(Ft,Ft,jt);else for(;Nt!==null;){if(Nt.tag===3){jm(Nt,Ft,jt);break}else if(Nt.tag===1){var Wt=Nt.stateNode;if(typeof Nt.type.getDerivedStateFromError=="function"||typeof Wt.componentDidCatch=="function"&&(to===null||!to.has(Wt))){Ft=Xu(jt,Ft),Ft=om(Nt,Ft,1),eo(Nt,Ft),Ft=gs(),Nt=fu(Nt,1),Nt!==null&&(Vo(Nt,1,Ft),xs(Nt,Ft));break}}Nt=Nt.return}}function Dv(Ft,Nt,jt){var Wt=Ft.pingCache;Wt!==null&&Wt.delete(Nt),Nt=gs(),Ft.pingedLanes|=Ft.suspendedLanes&jt,_i===Ft&&(us&jt)===jt&&(ns===4||ns===3&&(us&130023424)===us&&500>os()-cp?po(Ft,0):lp|=jt),xs(Ft,Nt)}function Wm(Ft,Nt){Nt===0&&(Ft.mode&1?(Nt=Sl,Sl<<=1,!(Sl&130023424)&&(Sl=4194304)):Nt=1);var jt=gs();Ft=fu(Ft,Nt),Ft!==null&&(Vo(Ft,Nt,jt),xs(Ft,jt))}function kv(Ft){var Nt=Ft.memoizedState,jt=0;Nt!==null&&(jt=Nt.retryLane),Wm(Ft,jt)}function Nv(Ft,Nt){var jt=0;switch(Ft.tag){case 13:var Wt=Ft.stateNode,Zt=Ft.memoizedState;Zt!==null&&(jt=Zt.retryLane);break;case 19:Wt=Ft.stateNode;break;default:throw Error(At(314))}Wt!==null&&Wt.delete(Nt),Wm(Ft,jt)}var Xm;Xm=function(Ft,Nt,jt){if(Ft!==null)if(Ft.memoizedProps!==Nt.pendingProps||Wr.current)Ms=!0;else{if(!(Ft.lanes&jt)&&!(Nt.flags&128))return Ms=!1,bv(Ft,Nt,jt);Ms=!!(Ft.flags&131072)}else Ms=!1,qr&&Nt.flags&1048576&&Lp(Nt,Fl,Nt.index);switch(Nt.lanes=0,Nt.tag){case 2:var Wt=Nt.type;Ft!==null&&(Ft.alternate=null,Nt.alternate=null,Nt.flags|=2),Ft=Nt.pendingProps;var Zt=Jr(Nt,Cr.current);To(Nt,jt),Zt=zu(null,Nt,Wt,Ft,Zt,jt);var nn=Gu();return Nt.flags|=1,typeof Zt=="object"&&Zt!==null&&typeof Zt.render=="function"&&Zt.$$typeof===void 0?(Nt.tag=1,Nt.memoizedState=null,Nt.updateQueue=null,ss(Wt)?(nn=!0,cs(Nt)):nn=!1,Nt.memoizedState=Zt.state!==null&&Zt.state!==void 0?Zt.state:null,Pu(Nt),Zt.updater=Il,Nt.stateNode=Zt,Zt._reactInternals=Nt,Iu(Nt,Wt,Ft,jt),Nt=Ku(null,Nt,Wt,!0,nn,jt)):(Nt.tag=0,qr&&nn&&Lu(Nt),ms(null,Nt,Zt,jt),Nt=Nt.child),Nt;case 16:Wt=Nt.elementType;e:{switch(Ft!==null&&(Ft.alternate=null,Nt.alternate=null,Nt.flags|=2),Ft=Nt.pendingProps,Zt=Wt._init,Wt=Zt(Wt._payload),Nt.type=Wt,Zt=Nt.tag=$v(Wt),Ft=ks(Wt,Ft),Zt){case 0:Nt=Yu(null,Nt,Wt,Ft,jt);break e;case 1:Nt=vm(null,Nt,Wt,Ft,jt);break e;case 11:Nt=hm(null,Nt,Wt,Ft,jt);break e;case 14:Nt=dm(null,Nt,Wt,ks(Wt.type,Ft),jt);break e}throw Error(At(306,Wt,""))}return Nt;case 0:return Wt=Nt.type,Zt=Nt.pendingProps,Zt=Nt.elementType===Wt?Zt:ks(Wt,Zt),Yu(Ft,Nt,Wt,Zt,jt);case 1:return Wt=Nt.type,Zt=Nt.pendingProps,Zt=Nt.elementType===Wt?Zt:ks(Wt,Zt),vm(Ft,Nt,Wt,Zt,jt);case 3:e:{if(ym(Nt),Ft===null)throw Error(At(387));Wt=Nt.pendingProps,nn=Nt.memoizedState,Zt=nn.element,wp(Ft,Nt),Rl(Nt,Wt,null,jt);var gn=Nt.memoizedState;if(Wt=gn.element,Dn&&nn.isDehydrated)if(nn={element:Wt,isDehydrated:!1,cache:gn.cache,transitions:gn.transitions},Nt.updateQueue.baseState=nn,Nt.memoizedState=nn,Nt.flags&256){Zt=Error(At(423)),Nt=xm(Ft,Nt,Wt,jt,Zt);break e}else if(Wt!==Zt){Zt=Error(At(424)),Nt=xm(Ft,Nt,Wt,jt,Zt);break e}else for(Dn&&(bs=$a(Nt.stateNode.containerInfo),Es=Nt,qr=!0,Ns=null,Uo=!1),jt=$p(Nt,null,Wt,jt),Nt.child=jt;jt;)jt.flags=jt.flags&-3|4096,jt=jt.sibling;else{if(Po(),Wt===Zt){Nt=Zs(Ft,Nt,jt);break e}ms(Ft,Nt,Wt,jt)}Nt=Nt.child}return Nt;case 5:return Op(Nt),Ft===null&&ku(Nt),Wt=Nt.type,Zt=Nt.pendingProps,nn=Ft!==null?Ft.memoizedProps:null,gn=Zt.children,Pn(Wt,Zt)?gn=null:nn!==null&&Pn(Wt,nn)&&(Nt.flags|=32),gm(Ft,Nt),ms(Ft,Nt,gn,jt),Nt.child;case 6:return Ft===null&&ku(Nt),null;case 13:return _m(Ft,Nt,jt);case 4:return Bu(Nt,Nt.stateNode.containerInfo),Wt=Nt.pendingProps,Ft===null?Nt.child=Ro(Nt,null,Wt,jt):ms(Ft,Nt,Wt,jt),Nt.child;case 11:return Wt=Nt.type,Zt=Nt.pendingProps,Zt=Nt.elementType===Wt?Zt:ks(Wt,Zt),hm(Ft,Nt,Wt,Zt,jt);case 7:return ms(Ft,Nt,Nt.pendingProps,jt),Nt.child;case 8:return ms(Ft,Nt,Nt.pendingProps.children,jt),Nt.child;case 12:return ms(Ft,Nt,Nt.pendingProps.children,jt),Nt.child;case 10:e:{if(Wt=Nt.type._context,Zt=Nt.pendingProps,nn=Nt.memoizedProps,gn=Zt.value,Mp(Nt,Wt,gn),nn!==null)if($s(nn.value,gn)){if(nn.children===Zt.children&&!Wr.current){Nt=Zs(Ft,Nt,jt);break e}}else for(nn=Nt.child,nn!==null&&(nn.return=Nt);nn!==null;){var En=nn.dependencies;if(En!==null){gn=nn.child;for(var Nn=En.firstContext;Nn!==null;){if(Nn.context===Wt){if(nn.tag===1){Nn=Xs(-1,jt&-jt),Nn.tag=2;var Kn=nn.updateQueue;if(Kn!==null){Kn=Kn.shared;var hr=Kn.pending;hr===null?Nn.next=Nn:(Nn.next=hr.next,hr.next=Nn),Kn.pending=Nn}}nn.lanes|=jt,Nn=nn.alternate,Nn!==null&&(Nn.lanes|=jt),Cu(nn.return,jt,Nt),En.lanes|=jt;break}Nn=Nn.next}}else if(nn.tag===10)gn=nn.type===Nt.type?null:nn.child;else if(nn.tag===18){if(gn=nn.return,gn===null)throw Error(At(341));gn.lanes|=jt,En=gn.alternate,En!==null&&(En.lanes|=jt),Cu(gn,jt,Nt),gn=nn.sibling}else gn=nn.child;if(gn!==null)gn.return=nn;else for(gn=nn;gn!==null;){if(gn===Nt){gn=null;break}if(nn=gn.sibling,nn!==null){nn.return=gn.return,gn=nn;break}gn=gn.return}nn=gn}ms(Ft,Nt,Zt.children,jt),Nt=Nt.child}return Nt;case 9:return Zt=Nt.type,Wt=Nt.pendingProps.children,To(Nt,jt),Zt=Ts(Zt),Wt=Wt(Zt),Nt.flags|=1,ms(Ft,Nt,Wt,jt),Nt.child;case 14:return Wt=Nt.type,Zt=ks(Wt,Nt.pendingProps),Zt=ks(Wt.type,Zt),dm(Ft,Nt,Wt,Zt,jt);case 15:return pm(Ft,Nt,Nt.type,Nt.pendingProps,jt);case 17:return Wt=Nt.type,Zt=Nt.pendingProps,Zt=Nt.elementType===Wt?Zt:ks(Wt,Zt),Ft!==null&&(Ft.alternate=null,Nt.alternate=null,Nt.flags|=2),Nt.tag=1,ss(Wt)?(Ft=!0,cs(Nt)):Ft=!1,To(Nt,jt),Rp(Nt,Wt,Zt),Iu(Nt,Wt,Zt,jt),Ku(null,Nt,Wt,!0,Ft,jt);case 19:return Mm(Ft,Nt,jt);case 22:return mm(Ft,Nt,jt)}throw Error(At(156,Nt.tag))};function qm(Ft,Nt){return Su(Ft,Nt)}function Bv(Ft,Nt,jt,Wt){this.tag=Ft,this.key=jt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Nt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Wt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(Ft,Nt,jt,Wt){return new Bv(Ft,Nt,jt,Wt)}function vp(Ft){return Ft=Ft.prototype,!(!Ft||!Ft.isReactComponent)}function $v(Ft){if(typeof Ft=="function")return vp(Ft)?1:0;if(Ft!=null){if(Ft=Ft.$$typeof,Ft===zt)return 11;if(Ft===Ut)return 14}return 2}function so(Ft,Nt){var jt=Ft.alternate;return jt===null?(jt=Ls(Ft.tag,Nt,Ft.key,Ft.mode),jt.elementType=Ft.elementType,jt.type=Ft.type,jt.stateNode=Ft.stateNode,jt.alternate=Ft,Ft.alternate=jt):(jt.pendingProps=Nt,jt.type=Ft.type,jt.flags=0,jt.subtreeFlags=0,jt.deletions=null),jt.flags=Ft.flags&14680064,jt.childLanes=Ft.childLanes,jt.lanes=Ft.lanes,jt.child=Ft.child,jt.memoizedProps=Ft.memoizedProps,jt.memoizedState=Ft.memoizedState,jt.updateQueue=Ft.updateQueue,Nt=Ft.dependencies,jt.dependencies=Nt===null?null:{lanes:Nt.lanes,firstContext:Nt.firstContext},jt.sibling=Ft.sibling,jt.index=Ft.index,jt.ref=Ft.ref,jt}function du(Ft,Nt,jt,Wt,Zt,nn){var gn=2;if(Wt=Ft,typeof Ft=="function")vp(Ft)&&(gn=1);else if(typeof Ft=="string")gn=5;else e:switch(Ft){case Lt:return vo(jt.children,Zt,nn,Nt);case kt:gn=8,Zt|=8;break;case Dt:return Ft=Ls(12,jt,Nt,Zt|2),Ft.elementType=Dt,Ft.lanes=nn,Ft;case Gt:return Ft=Ls(13,jt,Nt,Zt),Ft.elementType=Gt,Ft.lanes=nn,Ft;case Bt:return Ft=Ls(19,jt,Nt,Zt),Ft.elementType=Bt,Ft.lanes=nn,Ft;case Ht:return pu(jt,Zt,nn,Nt);default:if(typeof Ft=="object"&&Ft!==null)switch(Ft.$$typeof){case $t:gn=10;break e;case Ot:gn=9;break e;case zt:gn=11;break e;case Ut:gn=14;break e;case Vt:gn=16,Wt=null;break e}throw Error(At(130,Ft==null?Ft:typeof Ft,""))}return Nt=Ls(gn,jt,Nt,Zt),Nt.elementType=Ft,Nt.type=Wt,Nt.lanes=nn,Nt}function vo(Ft,Nt,jt,Wt){return Ft=Ls(7,Ft,Wt,Nt),Ft.lanes=jt,Ft}function pu(Ft,Nt,jt,Wt){return Ft=Ls(22,Ft,Wt,Nt),Ft.elementType=Ht,Ft.lanes=jt,Ft.stateNode={},Ft}function yp(Ft,Nt,jt){return Ft=Ls(6,Ft,null,Nt),Ft.lanes=jt,Ft}function xp(Ft,Nt,jt){return Nt=Ls(4,Ft.children!==null?Ft.children:[],Ft.key,Nt),Nt.lanes=jt,Nt.stateNode={containerInfo:Ft.containerInfo,pendingChildren:null,implementation:Ft.implementation},Nt}function Ov(Ft,Nt,jt,Wt,Zt){this.tag=Nt,this.containerInfo=Ft,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=mr,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xu(0),this.expirationTimes=xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.identifierPrefix=Wt,this.onRecoverableError=Zt,Dn&&(this.mutableSourceEagerHydrationData=null)}function Ym(Ft,Nt,jt,Wt,Zt,nn,gn,En,Nn){return Ft=new Ov(Ft,Nt,jt,En,Nn),Nt===1?(Nt=1,nn===!0&&(Nt|=8)):Nt=0,nn=Ls(3,null,null,Nt),Ft.current=nn,nn.stateNode=Ft,nn.memoizedState={element:Wt,isDehydrated:jt,cache:null,transitions:null},Pu(nn),Ft}function Km(Ft){if(!Ft)return jr;Ft=Ft._reactInternals;e:{if(tn(Ft)!==Ft||Ft.tag!==1)throw Error(At(170));var Nt=Ft;do{switch(Nt.tag){case 3:Nt=Nt.stateNode.context;break e;case 1:if(ss(Nt.type)){Nt=Nt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Nt=Nt.return}while(Nt!==null);throw Error(At(171))}if(Ft.tag===1){var jt=Ft.type;if(ss(jt))return bo(Ft,jt,Nt)}return Nt}function Zm(Ft){var Nt=Ft._reactInternals;if(Nt===void 0)throw typeof Ft.render=="function"?Error(At(188)):(Ft=Object.keys(Ft).join(","),Error(At(268,Ft)));return Ft=un(Nt),Ft===null?null:Ft.stateNode}function Qm(Ft,Nt){if(Ft=Ft.memoizedState,Ft!==null&&Ft.dehydrated!==null){var jt=Ft.retryLane;Ft.retryLane=jt!==0&&jt<Nt?jt:Nt}}function _p(Ft,Nt){Qm(Ft,Nt),(Ft=Ft.alternate)&&Qm(Ft,Nt)}function Vv(Ft){return Ft=un(Ft),Ft===null?null:Ft.stateNode}function Uv(){return null}return xt.attemptContinuousHydration=function(Ft){if(Ft.tag===13){var Nt=gs();Is(Ft,134217728,Nt),_p(Ft,134217728)}},xt.attemptHydrationAtCurrentPriority=function(Ft){if(Ft.tag===13){var Nt=gs(),jt=ro(Ft);Is(Ft,jt,Nt),_p(Ft,jt)}},xt.attemptSynchronousHydration=function(Ft){switch(Ft.tag){case 3:var Nt=Ft.stateNode;if(Nt.current.memoizedState.isDehydrated){var jt=Oo(Nt.pendingLanes);jt!==0&&(_u(Nt,jt|1),xs(Nt,os()),!(Dr&6)&&(No(),Os()))}break;case 13:var Wt=gs();Vm(function(){return Is(Ft,1,Wt)}),_p(Ft,1)}},xt.batchedUpdates=function(Ft,Nt){var jt=Dr;Dr|=1;try{return Ft(Nt)}finally{Dr=jt,Dr===0&&(No(),wl&&Os())}},xt.createComponentSelector=function(Ft){return{$$typeof:_c,value:Ft}},xt.createContainer=function(Ft,Nt,jt,Wt,Zt,nn,gn){return Ym(Ft,Nt,!1,null,jt,Wt,Zt,nn,gn)},xt.createHasPseudoClassSelector=function(Ft){return{$$typeof:eu,value:Ft}},xt.createHydrationContainer=function(Ft,Nt,jt,Wt,Zt,nn,gn,En,Nn){return Ft=Ym(jt,Wt,!0,Ft,Zt,nn,gn,En,Nn),Ft.context=Km(null),jt=Ft.current,Wt=gs(),Zt=ro(jt),nn=Xs(Wt,Zt),nn.callback=Nt??null,eo(jt,nn),Ft.current.lanes=Zt,Vo(Ft,Zt,Wt),xs(Ft,Wt),Ft},xt.createPortal=function(Ft,Nt,jt){var Wt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:It,key:Wt==null?null:""+Wt,children:Ft,containerInfo:Nt,implementation:jt}},xt.createRoleSelector=function(Ft){return{$$typeof:tu,value:Ft}},xt.createTestNameSelector=function(Ft){return{$$typeof:nu,value:Ft}},xt.createTextSelector=function(Ft){return{$$typeof:ru,value:Ft}},xt.deferredUpdates=function(Ft){var Nt=$r,jt=Qr.transition;try{return Qr.transition=null,$r=16,Ft()}finally{$r=Nt,Qr.transition=jt}},xt.discreteUpdates=function(Ft,Nt,jt,Wt,Zt){var nn=$r,gn=Qr.transition;try{return Qr.transition=null,$r=1,Ft(Nt,jt,Wt,Zt)}finally{$r=nn,Qr.transition=gn,Dr===0&&No()}},xt.findAllNodes=sp,xt.findBoundingRects=function(Ft,Nt){if(!mn)throw Error(At(363));Nt=sp(Ft,Nt),Ft=[];for(var jt=0;jt<Nt.length;jt++)Ft.push(Cn(Nt[jt]));for(Nt=Ft.length-1;0<Nt;Nt--){jt=Ft[Nt];for(var Wt=jt.x,Zt=Wt+jt.width,nn=jt.y,gn=nn+jt.height,En=Nt-1;0<=En;En--)if(Nt!==En){var Nn=Ft[En],Kn=Nn.x,hr=Kn+Nn.width,Pr=Nn.y,Er=Pr+Nn.height;if(Wt>=Kn&&nn>=Pr&&Zt<=hr&&gn<=Er){Ft.splice(Nt,1);break}else if(Wt!==Kn||jt.width!==Nn.width||Er<nn||Pr>gn){if(!(nn!==Pr||jt.height!==Nn.height||hr<Wt||Kn>Zt)){Kn>Wt&&(Nn.width+=Kn-Wt,Nn.x=Wt),hr<Zt&&(Nn.width=Zt-Kn),Ft.splice(Nt,1);break}}else{Pr>nn&&(Nn.height+=Pr-nn,Nn.y=nn),Er<gn&&(Nn.height=gn-Pr),Ft.splice(Nt,1);break}}}return Ft},xt.findHostInstance=Zm,xt.findHostInstanceWithNoPortals=function(Ft){return Ft=sn(Ft),Ft=Ft!==null?vn(Ft):null,Ft===null?null:Ft.stateNode},xt.findHostInstanceWithWarning=function(Ft){return Zm(Ft)},xt.flushControlled=function(Ft){var Nt=Dr;Dr|=1;var jt=Qr.transition,Wt=$r;try{Qr.transition=null,$r=1,Ft()}finally{$r=Wt,Qr.transition=jt,Dr=Nt,Dr===0&&(No(),Os())}},xt.flushPassiveEffects=go,xt.flushSync=Vm,xt.focusWithin=function(Ft,Nt){if(!mn)throw Error(At(363));for(Ft=tp(Ft),Nt=Bm(Ft,Nt),Nt=Array.from(Nt),Ft=0;Ft<Nt.length;){var jt=Nt[Ft++];if(!On(jt)){if(jt.tag===5&&ar(jt.stateNode))return!0;for(jt=jt.child;jt!==null;)Nt.push(jt),jt=jt.sibling}}return!1},xt.getCurrentUpdatePriority=function(){return $r},xt.getFindAllNodesFailureDescription=function(Ft,Nt){if(!mn)throw Error(At(363));var jt=0,Wt=[];Ft=[tp(Ft),0];for(var Zt=0;Zt<Ft.length;){var nn=Ft[Zt++],gn=Ft[Zt++],En=Nt[gn];if((nn.tag!==5||!On(nn))&&(np(nn,En)&&(Wt.push(rp(En)),gn++,gn>jt&&(jt=gn)),gn<Nt.length))for(nn=nn.child;nn!==null;)Ft.push(nn,gn),nn=nn.sibling}if(jt<Nt.length){for(Ft=[];jt<Nt.length;jt++)Ft.push(rp(Nt[jt]));return`findAllNodes was able to match part of the selector:
  `+(Wt.join(" > ")+`

No matching component was found for:
  `)+Ft.join(" > ")}return null},xt.getPublicRootInstance=function(Ft){if(Ft=Ft.current,!Ft.child)return null;switch(Ft.child.tag){case 5:return rn(Ft.child.stateNode);default:return Ft.child.stateNode}},xt.injectIntoDevTools=function(Ft){if(Ft={bundleType:Ft.bundleType,version:Ft.version,rendererPackageName:Ft.rendererPackageName,rendererConfig:Ft.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:Vv,findFiberByHostInstance:Ft.findFiberByHostInstance||Uv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")Ft=!1;else{var Nt=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(Nt.isDisabled||!Nt.supportsFiber)Ft=!0;else{try{Ml=Nt.inject(Ft),Bs=Nt}catch{}Ft=!!Nt.checkDCE}}return Ft},xt.isAlreadyRendering=function(){return!1},xt.observeVisibleRects=function(Ft,Nt,jt,Wt){if(!mn)throw Error(At(363));Ft=sp(Ft,Nt);var Zt=Yn(Ft,jt,Wt).disconnect;return{disconnect:function(){Zt()}}},xt.registerMutableSourceForHydration=function(Ft,Nt){var jt=Nt._getVersion;jt=jt(Nt._source),Ft.mutableSourceEagerHydrationData==null?Ft.mutableSourceEagerHydrationData=[Nt,jt]:Ft.mutableSourceEagerHydrationData.push(Nt,jt)},xt.runWithPriority=function(Ft,Nt){var jt=$r;try{return $r=Ft,Nt()}finally{$r=jt}},xt.shouldError=function(){return null},xt.shouldSuspend=function(){return!1},xt.updateContainer=function(Ft,Nt,jt,Wt){var Zt=Nt.current,nn=gs(),gn=ro(Zt);return jt=Km(jt),Nt.context===null?Nt.context=jt:Nt.pendingContext=jt,Nt=Xs(nn,gn),Nt.payload={element:Ft},Wt=Wt===void 0?null:Wt,Wt!==null&&(Nt.callback=Wt),eo(Zt,Nt),Ft=Is(Zt,gn,nn),Ft!==null&&Pl(Ft,Zt,gn),gn},xt};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs(reactReconcilerExports),catalogue={},extend=vt=>void Object.assign(catalogue,vt);function createRenderer(vt,ht){function xt(Lt,{args:kt=[],attach:Dt,...$t},Ot){let zt=`${Lt[0].toUpperCase()}${Lt.slice(1)}`,Gt;if(Lt==="primitive"){if($t.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const Bt=$t.object;Gt=prepare(Bt,{type:Lt,root:Ot,attach:Dt,primitive:!0})}else{const Bt=catalogue[zt];if(!Bt)throw new Error(`R3F: ${zt} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(kt))throw new Error("R3F: The args prop must be an array!");Gt=prepare(new Bt(...kt),{type:Lt,root:Ot,attach:Dt,memoizedProps:{args:kt}})}return Gt.__r3f.attach===void 0&&(Gt.isBufferGeometry?Gt.__r3f.attach="geometry":Gt.isMaterial&&(Gt.__r3f.attach="material")),zt!=="inject"&&applyProps$1(Gt,$t),Gt}function _t(Lt,kt){let Dt=!1;if(kt){var $t,Ot;($t=kt.__r3f)!=null&&$t.attach?attach(Lt,kt,kt.__r3f.attach):kt.isObject3D&&Lt.isObject3D&&(Lt.add(kt),Dt=!0),Dt||(Ot=Lt.__r3f)==null||Ot.objects.push(kt),kt.__r3f||prepare(kt,{}),kt.__r3f.parent=Lt,updateInstance(kt),invalidateInstance(kt)}}function St(Lt,kt,Dt){let $t=!1;if(kt){var Ot,zt;if((Ot=kt.__r3f)!=null&&Ot.attach)attach(Lt,kt,kt.__r3f.attach);else if(kt.isObject3D&&Lt.isObject3D){kt.parent=Lt,kt.dispatchEvent({type:"added"}),Lt.dispatchEvent({type:"childadded",child:kt});const Gt=Lt.children.filter(Ut=>Ut!==kt),Bt=Gt.indexOf(Dt);Lt.children=[...Gt.slice(0,Bt),kt,...Gt.slice(Bt)],$t=!0}$t||(zt=Lt.__r3f)==null||zt.objects.push(kt),kt.__r3f||prepare(kt,{}),kt.__r3f.parent=Lt,updateInstance(kt),invalidateInstance(kt)}}function wt(Lt,kt,Dt=!1){Lt&&[...Lt].forEach($t=>At(kt,$t,Dt))}function At(Lt,kt,Dt){if(kt){var $t,Ot,zt;if(kt.__r3f&&(kt.__r3f.parent=null),($t=Lt.__r3f)!=null&&$t.objects&&(Lt.__r3f.objects=Lt.__r3f.objects.filter(Ht=>Ht!==kt)),(Ot=kt.__r3f)!=null&&Ot.attach)detach(Lt,kt,kt.__r3f.attach);else if(kt.isObject3D&&Lt.isObject3D){var Gt;Lt.remove(kt),(Gt=kt.__r3f)!=null&&Gt.root&&removeInteractivity(findInitialRoot(kt),kt)}const Ut=(zt=kt.__r3f)==null?void 0:zt.primitive,Vt=!Ut&&(Dt===void 0?kt.dispose!==null:Dt);if(!Ut){var Bt;wt((Bt=kt.__r3f)==null?void 0:Bt.objects,kt,Vt),wt(kt.children,kt,Vt)}if(delete kt.__r3f,Vt&&kt.dispose&&kt.type!=="Scene"){const Ht=()=>{try{kt.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,Ht):Ht()}invalidateInstance(Lt)}}function Ct(Lt,kt,Dt,$t){var Ot;const zt=(Ot=Lt.__r3f)==null?void 0:Ot.parent;if(!zt)return;const Gt=xt(kt,Dt,Lt.__r3f.root);if(Lt.children){for(const Bt of Lt.children)Bt.__r3f&&_t(Gt,Bt);Lt.children=Lt.children.filter(Bt=>!Bt.__r3f)}Lt.__r3f.objects.forEach(Bt=>_t(Gt,Bt)),Lt.__r3f.objects=[],Lt.__r3f.autoRemovedBeforeAppend||At(zt,Lt),Gt.parent&&(Gt.__r3f.autoRemovedBeforeAppend=!0),_t(zt,Gt),Gt.raycast&&Gt.__r3f.eventCount&&findInitialRoot(Gt).getState().internal.interaction.push(Gt),[$t,$t.alternate].forEach(Bt=>{Bt!==null&&(Bt.stateNode=Gt,Bt.ref&&(typeof Bt.ref=="function"?Bt.ref(Gt):Bt.ref.current=Gt))})}const Rt=()=>{};return{reconciler:Reconciler({createInstance:xt,removeChild:At,appendChild:_t,appendInitialChild:_t,insertBefore:St,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(Lt,kt)=>{if(!kt)return;const Dt=Lt.getState().scene;Dt.__r3f&&(Dt.__r3f.root=Lt,_t(Dt,kt))},removeChildFromContainer:(Lt,kt)=>{kt&&At(Lt.getState().scene,kt)},insertInContainerBefore:(Lt,kt,Dt)=>{if(!kt||!Dt)return;const $t=Lt.getState().scene;$t.__r3f&&St($t,kt,Dt)},getRootHostContext:()=>null,getChildHostContext:Lt=>Lt,finalizeInitialChildren(Lt){var kt;return!!((kt=Lt==null?void 0:Lt.__r3f)!=null?kt:{}).handlers},prepareUpdate(Lt,kt,Dt,$t){var Ot;if(((Ot=Lt==null?void 0:Lt.__r3f)!=null?Ot:{}).primitive&&$t.object&&$t.object!==Lt)return[!0];{const{args:Gt=[],children:Bt,...Ut}=$t,{args:Vt=[],children:Ht,...Xt}=Dt;if(!Array.isArray(Gt))throw new Error("R3F: the args prop must be an array!");if(Gt.some((Kt,en)=>Kt!==Vt[en]))return[!0];const qt=diffProps(Lt,Ut,Xt,!0);return qt.changes.length?[!1,qt]:null}},commitUpdate(Lt,[kt,Dt],$t,Ot,zt,Gt){kt?Ct(Lt,$t,zt,Gt):applyProps$1(Lt,Dt)},commitMount(Lt,kt,Dt,$t){var Ot;const zt=(Ot=Lt.__r3f)!=null?Ot:{};Lt.raycast&&zt.handlers&&zt.eventCount&&findInitialRoot(Lt).getState().internal.interaction.push(Lt)},getPublicInstance:Lt=>Lt,prepareForCommit:()=>null,preparePortalMount:Lt=>prepare(Lt.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(Lt){var kt;const{attach:Dt,parent:$t}=(kt=Lt.__r3f)!=null?kt:{};Dt&&$t&&detach($t,Lt,Dt),Lt.isObject3D&&(Lt.visible=!1),invalidateInstance(Lt)},unhideInstance(Lt,kt){var Dt;const{attach:$t,parent:Ot}=(Dt=Lt.__r3f)!=null?Dt:{};$t&&Ot&&attach(Ot,Lt,$t),(Lt.isObject3D&&kt.visible==null||kt.visible)&&(Lt.visible=!0),invalidateInstance(Lt)},createTextInstance:Rt,hideTextInstance:Rt,unhideTextInstance:Rt,getCurrentEventPriority:()=>ht?ht():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=vt=>"colorSpace"in vt||"outputColorSpace"in vt,getColorManagement=()=>{var vt;return(vt=catalogue.ColorManagement)!=null?vt:null},isOrthographicCamera=vt=>vt&&vt.isOrthographicCamera,isRef=vt=>vt&&vt.hasOwnProperty("current"),useIsomorphicLayoutEffect=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(vt){const ht=reactExports.useRef(vt);return useIsomorphicLayoutEffect(()=>void(ht.current=vt),[vt]),ht}function Block({set:vt}){return useIsomorphicLayoutEffect(()=>(vt(new Promise(()=>null)),()=>vt(!1)),[vt]),null}class ErrorBoundary extends reactExports.Component{constructor(...ht){super(...ht),this.state={error:!1}}componentDidCatch(ht){this.props.set(ht)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=vt=>vt&&!!vt.memoized&&!!vt.changes;function calculateDpr(vt){var ht;const xt=typeof window<"u"?(ht=window.devicePixelRatio)!=null?ht:2:1;return Array.isArray(vt)?Math.min(Math.max(vt[0],xt),vt[1]):vt}const getRootState=vt=>{var ht;return(ht=vt.__r3f)==null?void 0:ht.root.getState()};function findInitialRoot(vt){let ht=vt.__r3f.root;for(;ht.getState().previousRoot;)ht=ht.getState().previousRoot;return ht}const is={obj:vt=>vt===Object(vt)&&!is.arr(vt)&&typeof vt!="function",fun:vt=>typeof vt=="function",str:vt=>typeof vt=="string",num:vt=>typeof vt=="number",boo:vt=>typeof vt=="boolean",und:vt=>vt===void 0,arr:vt=>Array.isArray(vt),equ(vt,ht,{arrays:xt="shallow",objects:_t="reference",strict:St=!0}={}){if(typeof vt!=typeof ht||!!vt!=!!ht)return!1;if(is.str(vt)||is.num(vt)||is.boo(vt))return vt===ht;const wt=is.obj(vt);if(wt&&_t==="reference")return vt===ht;const At=is.arr(vt);if(At&&xt==="reference")return vt===ht;if((At||wt)&&vt===ht)return!0;let Ct;for(Ct in vt)if(!(Ct in ht))return!1;if(wt&&xt==="shallow"&&_t==="shallow"){for(Ct in St?ht:vt)if(!is.equ(vt[Ct],ht[Ct],{strict:St,objects:"reference"}))return!1}else for(Ct in St?ht:vt)if(vt[Ct]!==ht[Ct])return!1;if(is.und(Ct)){if(At&&vt.length===0&&ht.length===0||wt&&Object.keys(vt).length===0&&Object.keys(ht).length===0)return!0;if(vt!==ht)return!1}return!0}};function dispose(vt){vt.dispose&&vt.type!=="Scene"&&vt.dispose();for(const ht in vt)ht.dispose==null||ht.dispose(),delete vt[ht]}function prepare(vt,ht){const xt=vt;return xt.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...ht},vt}function resolve(vt,ht){let xt=vt;if(ht.includes("-")){const _t=ht.split("-"),St=_t.pop();return xt=_t.reduce((wt,At)=>wt[At],vt),{target:xt,key:St}}else return{target:xt,key:ht}}const INDEX_REGEX=/-\d+$/;function attach(vt,ht,xt){if(is.str(xt)){if(INDEX_REGEX.test(xt)){const wt=xt.replace(INDEX_REGEX,""),{target:At,key:Ct}=resolve(vt,wt);Array.isArray(At[Ct])||(At[Ct]=[])}const{target:_t,key:St}=resolve(vt,xt);ht.__r3f.previousAttach=_t[St],_t[St]=ht}else ht.__r3f.previousAttach=xt(vt,ht)}function detach(vt,ht,xt){var _t,St;if(is.str(xt)){const{target:wt,key:At}=resolve(vt,xt),Ct=ht.__r3f.previousAttach;Ct===void 0?delete wt[At]:wt[At]=Ct}else(_t=ht.__r3f)==null||_t.previousAttach==null||_t.previousAttach(vt,ht);(St=ht.__r3f)==null||delete St.previousAttach}function diffProps(vt,{children:ht,key:xt,ref:_t,...St},{children:wt,key:At,ref:Ct,...Rt}={},It=!1){const Lt=vt.__r3f,kt=Object.entries(St),Dt=[];if(It){const Ot=Object.keys(Rt);for(let zt=0;zt<Ot.length;zt++)St.hasOwnProperty(Ot[zt])||kt.unshift([Ot[zt],DEFAULT+"remove"])}kt.forEach(([Ot,zt])=>{var Gt;if((Gt=vt.__r3f)!=null&&Gt.primitive&&Ot==="object"||is.equ(zt,Rt[Ot]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(Ot))return Dt.push([Ot,zt,!0,[]]);let Bt=[];Ot.includes("-")&&(Bt=Ot.split("-")),Dt.push([Ot,zt,!1,Bt]);for(const Ut in St){const Vt=St[Ut];Ut.startsWith(`${Ot}-`)&&Dt.push([Ut,Vt,!1,Ut.split("-")])}});const $t={...St};return Lt!=null&&Lt.memoizedProps&&Lt!=null&&Lt.memoizedProps.args&&($t.args=Lt.memoizedProps.args),Lt!=null&&Lt.memoizedProps&&Lt!=null&&Lt.memoizedProps.attach&&($t.attach=Lt.memoizedProps.attach),{memoized:$t,changes:Dt}}function applyProps$1(vt,ht){var xt;const _t=vt.__r3f,St=_t==null?void 0:_t.root,wt=St==null||St.getState==null?void 0:St.getState(),{memoized:At,changes:Ct}=isDiffSet(ht)?ht:diffProps(vt,ht),Rt=_t==null?void 0:_t.eventCount;vt.__r3f&&(vt.__r3f.memoizedProps=At);for(let Dt=0;Dt<Ct.length;Dt++){let[$t,Ot,zt,Gt]=Ct[Dt];if(hasColorSpace(vt)){const Ht="srgb",Xt="srgb-linear";$t==="encoding"?($t="colorSpace",Ot=Ot===3001?Ht:Xt):$t==="outputEncoding"&&($t="outputColorSpace",Ot=Ot===3001?Ht:Xt)}let Bt=vt,Ut=Bt[$t];if(Gt.length&&(Ut=Gt.reduce((Vt,Ht)=>Vt[Ht],vt),!(Ut&&Ut.set))){const[Vt,...Ht]=Gt.reverse();Bt=Ht.reverse().reduce((Xt,qt)=>Xt[qt],vt),$t=Vt}if(Ot===DEFAULT+"remove")if(Bt.constructor){let Vt=DEFAULTS.get(Bt.constructor);Vt||(Vt=new Bt.constructor,DEFAULTS.set(Bt.constructor,Vt)),Ot=Vt[$t]}else Ot=0;if(zt&&_t)Ot?_t.handlers[$t]=Ot:delete _t.handlers[$t],_t.eventCount=Object.keys(_t.handlers).length;else if(Ut&&Ut.set&&(Ut.copy||Ut instanceof Layers)){if(Array.isArray(Ot))Ut.fromArray?Ut.fromArray(Ot):Ut.set(...Ot);else if(Ut.copy&&Ot&&Ot.constructor&&Ut.constructor===Ot.constructor)Ut.copy(Ot);else if(Ot!==void 0){var It;const Vt=(It=Ut)==null?void 0:It.isColor;!Vt&&Ut.setScalar?Ut.setScalar(Ot):Ut instanceof Layers&&Ot instanceof Layers?Ut.mask=Ot.mask:Ut.set(Ot),!getColorManagement()&&wt&&!wt.linear&&Vt&&Ut.convertSRGBToLinear()}}else{var Lt;if(Bt[$t]=Ot,(Lt=Bt[$t])!=null&&Lt.isTexture&&Bt[$t].format===RGBAFormat&&Bt[$t].type===UnsignedByteType&&wt){const Vt=Bt[$t];hasColorSpace(Vt)&&hasColorSpace(wt.gl)?Vt.colorSpace=wt.gl.outputColorSpace:Vt.encoding=wt.gl.outputEncoding}}invalidateInstance(vt)}if(_t&&_t.parent&&vt.raycast&&Rt!==_t.eventCount){const Dt=findInitialRoot(vt).getState().internal,$t=Dt.interaction.indexOf(vt);$t>-1&&Dt.interaction.splice($t,1),_t.eventCount&&Dt.interaction.push(vt)}return!(Ct.length===1&&Ct[0][0]==="onUpdate")&&Ct.length&&(xt=vt.__r3f)!=null&&xt.parent&&updateInstance(vt),vt}function invalidateInstance(vt){var ht,xt;const _t=(ht=vt.__r3f)==null||(xt=ht.root)==null||xt.getState==null?void 0:xt.getState();_t&&_t.internal.frames===0&&_t.invalidate()}function updateInstance(vt){vt.onUpdate==null||vt.onUpdate(vt)}function updateCamera(vt,ht){vt.manual||(isOrthographicCamera(vt)?(vt.left=ht.width/-2,vt.right=ht.width/2,vt.top=ht.height/2,vt.bottom=ht.height/-2):vt.aspect=ht.width/ht.height,vt.updateProjectionMatrix(),vt.updateMatrixWorld())}function makeId(vt){return(vt.eventObject||vt.object).uuid+"/"+vt.index+vt.instanceId}function getEventPriority(){var vt;const ht=typeof self<"u"&&self||typeof window<"u"&&window;if(!ht)return constantsExports.DefaultEventPriority;switch((vt=ht.event)==null?void 0:vt.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(vt,ht,xt,_t){const St=xt.get(ht);St&&(xt.delete(ht),xt.size===0&&(vt.delete(_t),St.target.releasePointerCapture(_t)))}function removeInteractivity(vt,ht){const{internal:xt}=vt.getState();xt.interaction=xt.interaction.filter(_t=>_t!==ht),xt.initialHits=xt.initialHits.filter(_t=>_t!==ht),xt.hovered.forEach((_t,St)=>{(_t.eventObject===ht||_t.object===ht)&&xt.hovered.delete(St)}),xt.capturedMap.forEach((_t,St)=>{releaseInternalPointerCapture(xt.capturedMap,ht,_t,St)})}function createEvents(vt){function ht(Rt){const{internal:It}=vt.getState(),Lt=Rt.offsetX-It.initialClick[0],kt=Rt.offsetY-It.initialClick[1];return Math.round(Math.sqrt(Lt*Lt+kt*kt))}function xt(Rt){return Rt.filter(It=>["Move","Over","Enter","Out","Leave"].some(Lt=>{var kt;return(kt=It.__r3f)==null?void 0:kt.handlers["onPointer"+Lt]}))}function _t(Rt,It){const Lt=vt.getState(),kt=new Set,Dt=[],$t=It?It(Lt.internal.interaction):Lt.internal.interaction;for(let Bt=0;Bt<$t.length;Bt++){const Ut=getRootState($t[Bt]);Ut&&(Ut.raycaster.camera=void 0)}Lt.previousRoot||Lt.events.compute==null||Lt.events.compute(Rt,Lt);function Ot(Bt){const Ut=getRootState(Bt);if(!Ut||!Ut.events.enabled||Ut.raycaster.camera===null)return[];if(Ut.raycaster.camera===void 0){var Vt;Ut.events.compute==null||Ut.events.compute(Rt,Ut,(Vt=Ut.previousRoot)==null?void 0:Vt.getState()),Ut.raycaster.camera===void 0&&(Ut.raycaster.camera=null)}return Ut.raycaster.camera?Ut.raycaster.intersectObject(Bt,!0):[]}let zt=$t.flatMap(Ot).sort((Bt,Ut)=>{const Vt=getRootState(Bt.object),Ht=getRootState(Ut.object);return!Vt||!Ht?Bt.distance-Ut.distance:Ht.events.priority-Vt.events.priority||Bt.distance-Ut.distance}).filter(Bt=>{const Ut=makeId(Bt);return kt.has(Ut)?!1:(kt.add(Ut),!0)});Lt.events.filter&&(zt=Lt.events.filter(zt,Lt));for(const Bt of zt){let Ut=Bt.object;for(;Ut;){var Gt;(Gt=Ut.__r3f)!=null&&Gt.eventCount&&Dt.push({...Bt,eventObject:Ut}),Ut=Ut.parent}}if("pointerId"in Rt&&Lt.internal.capturedMap.has(Rt.pointerId))for(let Bt of Lt.internal.capturedMap.get(Rt.pointerId).values())kt.has(makeId(Bt.intersection))||Dt.push(Bt.intersection);return Dt}function St(Rt,It,Lt,kt){const Dt=vt.getState();if(Rt.length){const $t={stopped:!1};for(const Ot of Rt){const zt=getRootState(Ot.object)||Dt,{raycaster:Gt,pointer:Bt,camera:Ut,internal:Vt}=zt,Ht=new Vector3(Bt.x,Bt.y,0).unproject(Ut),Xt=Qt=>{var sn,un;return(sn=(un=Vt.capturedMap.get(Qt))==null?void 0:un.has(Ot.eventObject))!=null?sn:!1},qt=Qt=>{const sn={intersection:Ot,target:It.target};Vt.capturedMap.has(Qt)?Vt.capturedMap.get(Qt).set(Ot.eventObject,sn):Vt.capturedMap.set(Qt,new Map([[Ot.eventObject,sn]])),It.target.setPointerCapture(Qt)},Kt=Qt=>{const sn=Vt.capturedMap.get(Qt);sn&&releaseInternalPointerCapture(Vt.capturedMap,Ot.eventObject,sn,Qt)};let en={};for(let Qt in It){let sn=It[Qt];typeof sn!="function"&&(en[Qt]=sn)}let tn={...Ot,...en,pointer:Bt,intersections:Rt,stopped:$t.stopped,delta:Lt,unprojectedPoint:Ht,ray:Gt.ray,camera:Ut,stopPropagation(){const Qt="pointerId"in It&&Vt.capturedMap.get(It.pointerId);if((!Qt||Qt.has(Ot.eventObject))&&(tn.stopped=$t.stopped=!0,Vt.hovered.size&&Array.from(Vt.hovered.values()).find(sn=>sn.eventObject===Ot.eventObject))){const sn=Rt.slice(0,Rt.indexOf(Ot));wt([...sn,Ot])}},target:{hasPointerCapture:Xt,setPointerCapture:qt,releasePointerCapture:Kt},currentTarget:{hasPointerCapture:Xt,setPointerCapture:qt,releasePointerCapture:Kt},nativeEvent:It};if(kt(tn),$t.stopped===!0)break}}return Rt}function wt(Rt){const{internal:It}=vt.getState();for(const Lt of It.hovered.values())if(!Rt.length||!Rt.find(kt=>kt.object===Lt.object&&kt.index===Lt.index&&kt.instanceId===Lt.instanceId)){const Dt=Lt.eventObject.__r3f,$t=Dt==null?void 0:Dt.handlers;if(It.hovered.delete(makeId(Lt)),Dt!=null&&Dt.eventCount){const Ot={...Lt,intersections:Rt};$t.onPointerOut==null||$t.onPointerOut(Ot),$t.onPointerLeave==null||$t.onPointerLeave(Ot)}}}function At(Rt,It){for(let Lt=0;Lt<It.length;Lt++){const kt=It[Lt].__r3f;kt==null||kt.handlers.onPointerMissed==null||kt.handlers.onPointerMissed(Rt)}}function Ct(Rt){switch(Rt){case"onPointerLeave":case"onPointerCancel":return()=>wt([]);case"onLostPointerCapture":return It=>{const{internal:Lt}=vt.getState();"pointerId"in It&&Lt.capturedMap.has(It.pointerId)&&requestAnimationFrame(()=>{Lt.capturedMap.has(It.pointerId)&&(Lt.capturedMap.delete(It.pointerId),wt([]))})}}return function(Lt){const{onPointerMissed:kt,internal:Dt}=vt.getState();Dt.lastEvent.current=Lt;const $t=Rt==="onPointerMove",Ot=Rt==="onClick"||Rt==="onContextMenu"||Rt==="onDoubleClick",Gt=_t(Lt,$t?xt:void 0),Bt=Ot?ht(Lt):0;Rt==="onPointerDown"&&(Dt.initialClick=[Lt.offsetX,Lt.offsetY],Dt.initialHits=Gt.map(Vt=>Vt.eventObject)),Ot&&!Gt.length&&Bt<=2&&(At(Lt,Dt.interaction),kt&&kt(Lt)),$t&&wt(Gt);function Ut(Vt){const Ht=Vt.eventObject,Xt=Ht.__r3f,qt=Xt==null?void 0:Xt.handlers;if(Xt!=null&&Xt.eventCount)if($t){if(qt.onPointerOver||qt.onPointerEnter||qt.onPointerOut||qt.onPointerLeave){const Kt=makeId(Vt),en=Dt.hovered.get(Kt);en?en.stopped&&Vt.stopPropagation():(Dt.hovered.set(Kt,Vt),qt.onPointerOver==null||qt.onPointerOver(Vt),qt.onPointerEnter==null||qt.onPointerEnter(Vt))}qt.onPointerMove==null||qt.onPointerMove(Vt)}else{const Kt=qt[Rt];Kt?(!Ot||Dt.initialHits.includes(Ht))&&(At(Lt,Dt.interaction.filter(en=>!Dt.initialHits.includes(en))),Kt(Vt)):Ot&&Dt.initialHits.includes(Ht)&&At(Lt,Dt.interaction.filter(en=>!Dt.initialHits.includes(en)))}}St(Gt,Lt,Bt,Ut)}}return{handlePointer:Ct}}const isRenderer=vt=>!!(vt!=null&&vt.render),context=reactExports.createContext(null),createStore=(vt,ht)=>{const xt=create$1((Ct,Rt)=>{const It=new Vector3,Lt=new Vector3,kt=new Vector3;function Dt(Bt=Rt().camera,Ut=Lt,Vt=Rt().size){const{width:Ht,height:Xt,top:qt,left:Kt}=Vt,en=Ht/Xt;Ut.isVector3?kt.copy(Ut):kt.set(...Ut);const tn=Bt.getWorldPosition(It).distanceTo(kt);if(isOrthographicCamera(Bt))return{width:Ht/Bt.zoom,height:Xt/Bt.zoom,top:qt,left:Kt,factor:1,distance:tn,aspect:en};{const Qt=Bt.fov*Math.PI/180,sn=2*Math.tan(Qt/2)*tn,un=sn*(Ht/Xt);return{width:un,height:sn,top:qt,left:Kt,factor:Ht/un,distance:tn,aspect:en}}}let $t;const Ot=Bt=>Ct(Ut=>({performance:{...Ut.performance,current:Bt}})),zt=new Vector2;return{set:Ct,get:Rt,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(Bt=1)=>vt(Rt(),Bt),advance:(Bt,Ut)=>ht(Bt,Ut,Rt()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:zt,mouse:zt,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const Bt=Rt();$t&&clearTimeout($t),Bt.performance.current!==Bt.performance.min&&Ot(Bt.performance.min),$t=setTimeout(()=>Ot(Rt().performance.max),Bt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:Dt},setEvents:Bt=>Ct(Ut=>({...Ut,events:{...Ut.events,...Bt}})),setSize:(Bt,Ut,Vt,Ht,Xt)=>{const qt=Rt().camera,Kt={width:Bt,height:Ut,top:Ht||0,left:Xt||0,updateStyle:Vt};Ct(en=>({size:Kt,viewport:{...en.viewport,...Dt(qt,Lt,Kt)}}))},setDpr:Bt=>Ct(Ut=>{const Vt=calculateDpr(Bt);return{viewport:{...Ut.viewport,dpr:Vt,initialDpr:Ut.viewport.initialDpr||Vt}}}),setFrameloop:(Bt="always")=>{const Ut=Rt().clock;Ut.stop(),Ut.elapsedTime=0,Bt!=="never"&&(Ut.start(),Ut.elapsedTime=0),Ct(()=>({frameloop:Bt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(Bt,Ut,Vt)=>{const Ht=Rt().internal;return Ht.priority=Ht.priority+(Ut>0?1:0),Ht.subscribers.push({ref:Bt,priority:Ut,store:Vt}),Ht.subscribers=Ht.subscribers.sort((Xt,qt)=>Xt.priority-qt.priority),()=>{const Xt=Rt().internal;Xt!=null&&Xt.subscribers&&(Xt.priority=Xt.priority-(Ut>0?1:0),Xt.subscribers=Xt.subscribers.filter(qt=>qt.ref!==Bt))}}}}}),_t=xt.getState();let St=_t.size,wt=_t.viewport.dpr,At=_t.camera;return xt.subscribe(()=>{const{camera:Ct,size:Rt,viewport:It,gl:Lt,set:kt}=xt.getState();if(Rt.width!==St.width||Rt.height!==St.height||It.dpr!==wt){var Dt;St=Rt,wt=It.dpr,updateCamera(Ct,Rt),Lt.setPixelRatio(It.dpr);const $t=(Dt=Rt.updateStyle)!=null?Dt:typeof HTMLCanvasElement<"u"&&Lt.domElement instanceof HTMLCanvasElement;Lt.setSize(Rt.width,Rt.height,$t)}Ct!==At&&(At=Ct,kt($t=>({viewport:{...$t.viewport,...$t.viewport.getCurrentViewport(Ct)}})))}),xt.subscribe(Ct=>vt(Ct)),xt};let i,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(vt,ht){if(vt.size)for(const{callback:xt}of vt.values())xt(ht)}function flushGlobalEffects(vt,ht){switch(vt){case"before":return run(globalEffects,ht);case"after":return run(globalAfterEffects,ht);case"tail":return run(globalTailEffects,ht)}}let subscribers,subscription;function render$1(vt,ht,xt){let _t=ht.clock.getDelta();for(ht.frameloop==="never"&&typeof vt=="number"&&(_t=vt-ht.clock.elapsedTime,ht.clock.oldTime=ht.clock.elapsedTime,ht.clock.elapsedTime=vt),subscribers=ht.internal.subscribers,i=0;i<subscribers.length;i++)subscription=subscribers[i],subscription.ref.current(subscription.store.getState(),_t,xt);return!ht.internal.priority&&ht.gl.render&&ht.gl.render(ht.scene,ht.camera),ht.internal.frames=Math.max(0,ht.internal.frames-1),ht.frameloop==="always"?1:ht.internal.frames}function createLoop(vt){let ht=!1,xt=!1,_t,St,wt;function At(It){St=requestAnimationFrame(At),ht=!0,_t=0,flushGlobalEffects("before",It),xt=!0;for(const kt of vt.values()){var Lt;wt=kt.store.getState(),wt.internal.active&&(wt.frameloop==="always"||wt.internal.frames>0)&&!((Lt=wt.gl.xr)!=null&&Lt.isPresenting)&&(_t+=render$1(It,wt))}if(xt=!1,flushGlobalEffects("after",It),_t===0)return flushGlobalEffects("tail",It),ht=!1,cancelAnimationFrame(St)}function Ct(It,Lt=1){var kt;if(!It)return vt.forEach(Dt=>Ct(Dt.store.getState(),Lt));(kt=It.gl.xr)!=null&&kt.isPresenting||!It.internal.active||It.frameloop==="never"||(Lt>1?It.internal.frames=Math.min(60,It.internal.frames+Lt):xt?It.internal.frames=2:It.internal.frames=1,ht||(ht=!0,requestAnimationFrame(At)))}function Rt(It,Lt=!0,kt,Dt){if(Lt&&flushGlobalEffects("before",It),kt)render$1(It,kt,Dt);else for(const $t of vt.values())render$1(It,$t.store.getState());Lt&&flushGlobalEffects("after",It)}return{loop:At,invalidate:Ct,advance:Rt}}function useStore(){const vt=reactExports.useContext(context);if(!vt)throw new Error("R3F: Hooks can only be used within the Canvas component!");return vt}function useThree(vt=xt=>xt,ht){return useStore()(vt,ht)}function useFrame(vt,ht=0){const xt=useStore(),_t=xt.getState().internal.subscribe,St=useMutableCallback(vt);return useIsomorphicLayoutEffect(()=>_t(St,ht,xt),[ht,_t,xt]),null}const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(vt,ht)=>{const xt=typeof vt=="function"?vt(ht):vt;return isRenderer(xt)?xt:new WebGLRenderer({powerPreference:"high-performance",canvas:ht,antialias:!0,alpha:!0,...vt})};function computeInitialSize(vt,ht){const xt=typeof HTMLCanvasElement<"u"&&vt instanceof HTMLCanvasElement;if(ht){const{width:_t,height:St,top:wt,left:At,updateStyle:Ct=xt}=ht;return{width:_t,height:St,top:wt,left:At,updateStyle:Ct}}else if(typeof HTMLCanvasElement<"u"&&vt instanceof HTMLCanvasElement&&vt.parentElement){const{width:_t,height:St,top:wt,left:At}=vt.parentElement.getBoundingClientRect();return{width:_t,height:St,top:wt,left:At,updateStyle:xt}}else if(typeof OffscreenCanvas<"u"&&vt instanceof OffscreenCanvas)return{width:vt.width,height:vt.height,top:0,left:0,updateStyle:xt};return{width:0,height:0,top:0,left:0}}function createRoot(vt){const ht=roots.get(vt),xt=ht==null?void 0:ht.fiber,_t=ht==null?void 0:ht.store;ht&&console.warn("R3F.createRoot should only be called once!");const St=typeof reportError=="function"?reportError:console.error,wt=_t||createStore(invalidate,advance),At=xt||reconciler.createContainer(wt,constantsExports.ConcurrentRoot,null,!1,null,"",St,null);ht||roots.set(vt,{fiber:At,store:wt});let Ct,Rt=!1,It;return{configure(Lt={}){let{gl:kt,size:Dt,scene:$t,events:Ot,onCreated:zt,shadows:Gt=!1,linear:Bt=!1,flat:Ut=!1,legacy:Vt=!1,orthographic:Ht=!1,frameloop:Xt="always",dpr:qt=[1,2],performance:Kt,raycaster:en,camera:tn,onPointerMissed:Qt}=Lt,sn=wt.getState(),un=sn.gl;sn.gl||sn.set({gl:un=createRendererInstance(kt,vt)});let dn=sn.raycaster;dn||sn.set({raycaster:dn=new Raycaster});const{params:vn,...pn}=en||{};if(is.equ(pn,dn,shallowLoose)||applyProps(dn,{...pn}),is.equ(vn,dn.params,shallowLoose)||applyProps(dn,{params:{...dn.params,...vn}}),!sn.camera||sn.camera===It&&!is.equ(It,tn,shallowLoose)){It=tn;const on=tn instanceof Camera,ln=on?tn:Ht?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);on||(ln.position.z=5,tn&&(applyProps(ln,tn),("aspect"in tn||"left"in tn||"right"in tn||"bottom"in tn||"top"in tn)&&(ln.manual=!0,ln.updateProjectionMatrix())),!sn.camera&&!(tn!=null&&tn.rotation)&&ln.lookAt(0,0,0)),sn.set({camera:ln}),dn.camera=ln}if(!sn.scene){let on;$t!=null&&$t.isScene?on=$t:(on=new Scene,$t&&applyProps(on,$t)),sn.set({scene:prepare(on)})}if(!sn.xr){var rn;const on=(wn,xn)=>{const Pn=wt.getState();Pn.frameloop!=="never"&&advance(wn,!0,Pn,xn)},ln=()=>{const wn=wt.getState();wn.gl.xr.enabled=wn.gl.xr.isPresenting,wn.gl.xr.setAnimationLoop(wn.gl.xr.isPresenting?on:null),wn.gl.xr.isPresenting||invalidate(wn)},_n={connect(){const wn=wt.getState().gl;wn.xr.addEventListener("sessionstart",ln),wn.xr.addEventListener("sessionend",ln)},disconnect(){const wn=wt.getState().gl;wn.xr.removeEventListener("sessionstart",ln),wn.xr.removeEventListener("sessionend",ln)}};typeof((rn=un.xr)==null?void 0:rn.addEventListener)=="function"&&_n.connect(),sn.set({xr:_n})}if(un.shadowMap){const on=un.shadowMap.enabled,ln=un.shadowMap.type;if(un.shadowMap.enabled=!!Gt,is.boo(Gt))un.shadowMap.type=PCFSoftShadowMap;else if(is.str(Gt)){var an;const _n={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};un.shadowMap.type=(an=_n[Gt])!=null?an:PCFSoftShadowMap}else is.obj(Gt)&&Object.assign(un.shadowMap,Gt);(on!==un.shadowMap.enabled||ln!==un.shadowMap.type)&&(un.shadowMap.needsUpdate=!0)}const Yt=getColorManagement();Yt&&("enabled"in Yt?Yt.enabled=!Vt:"legacyMode"in Yt&&(Yt.legacyMode=Vt)),Rt||applyProps(un,{outputEncoding:Bt?3e3:3001,toneMapping:Ut?NoToneMapping:ACESFilmicToneMapping}),sn.legacy!==Vt&&sn.set(()=>({legacy:Vt})),sn.linear!==Bt&&sn.set(()=>({linear:Bt})),sn.flat!==Ut&&sn.set(()=>({flat:Ut})),kt&&!is.fun(kt)&&!isRenderer(kt)&&!is.equ(kt,un,shallowLoose)&&applyProps(un,kt),Ot&&!sn.events.handlers&&sn.set({events:Ot(wt)});const Jt=computeInitialSize(vt,Dt);return is.equ(Jt,sn.size,shallowLoose)||sn.setSize(Jt.width,Jt.height,Jt.updateStyle,Jt.top,Jt.left),qt&&sn.viewport.dpr!==calculateDpr(qt)&&sn.setDpr(qt),sn.frameloop!==Xt&&sn.setFrameloop(Xt),sn.onPointerMissed||sn.set({onPointerMissed:Qt}),Kt&&!is.equ(Kt,sn.performance,shallowLoose)&&sn.set(on=>({performance:{...on.performance,...Kt}})),Ct=zt,Rt=!0,this},render(Lt){return Rt||this.configure(),reconciler.updateContainer(jsxRuntimeExports.jsx(Provider,{store:wt,children:Lt,onCreated:Ct,rootElement:vt}),At,null,()=>{}),wt},unmount(){unmountComponentAtNode(vt)}}}function Provider({store:vt,children:ht,onCreated:xt,rootElement:_t}){return useIsomorphicLayoutEffect(()=>{const St=vt.getState();St.set(wt=>({internal:{...wt.internal,active:!0}})),xt&&xt(St),vt.getState().events.connected||St.events.connect==null||St.events.connect(_t)},[]),jsxRuntimeExports.jsx(context.Provider,{value:vt,children:ht})}function unmountComponentAtNode(vt,ht){const xt=roots.get(vt),_t=xt==null?void 0:xt.fiber;if(_t){const St=xt==null?void 0:xt.store.getState();St&&(St.internal.active=!1),reconciler.updateContainer(null,_t,null,()=>{St&&setTimeout(()=>{try{var wt,At,Ct,Rt;St.events.disconnect==null||St.events.disconnect(),(wt=St.gl)==null||(At=wt.renderLists)==null||At.dispose==null||At.dispose(),(Ct=St.gl)==null||Ct.forceContextLoss==null||Ct.forceContextLoss(),(Rt=St.gl)!=null&&Rt.xr&&St.xr.disconnect(),dispose(St),roots.delete(vt)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(vt){const{handlePointer:ht}=createEvents(vt);return{priority:1,enabled:!0,compute(xt,_t,St){_t.pointer.set(xt.offsetX/_t.size.width*2-1,-(xt.offsetY/_t.size.height)*2+1),_t.raycaster.setFromCamera(_t.pointer,_t.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((xt,_t)=>({...xt,[_t]:ht(_t)}),{}),update:()=>{var xt;const{events:_t,internal:St}=vt.getState();(xt=St.lastEvent)!=null&&xt.current&&_t.handlers&&_t.handlers.onPointerMove(St.lastEvent.current)},connect:xt=>{var _t;const{set:St,events:wt}=vt.getState();wt.disconnect==null||wt.disconnect(),St(At=>({events:{...At.events,connected:xt}})),Object.entries((_t=wt.handlers)!=null?_t:[]).forEach(([At,Ct])=>{const[Rt,It]=DOM_EVENTS[At];xt.addEventListener(Rt,Ct,{passive:It})})},disconnect:()=>{const{set:xt,events:_t}=vt.getState();if(_t.connected){var St;Object.entries((St=_t.handlers)!=null?St:[]).forEach(([wt,At])=>{if(_t&&_t.connected instanceof HTMLElement){const[Ct]=DOM_EVENTS[wt];_t.connected.removeEventListener(Ct,At)}}),xt(wt=>({events:{...wt.events,connected:void 0}}))}}}}function g(vt,ht){let xt;return(..._t)=>{window.clearTimeout(xt),xt=window.setTimeout(()=>vt(..._t),ht)}}function j({debounce:vt,scroll:ht,polyfill:xt,offsetSize:_t}={debounce:0,scroll:!1,offsetSize:!1}){const St=xt||(typeof window>"u"?class{}:window.ResizeObserver);if(!St)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[wt,At]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),Ct=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:wt,orientationHandler:null}),Rt=vt?typeof vt=="number"?vt:vt.scroll:null,It=vt?typeof vt=="number"?vt:vt.resize:null,Lt=reactExports.useRef(!1);reactExports.useEffect(()=>(Lt.current=!0,()=>void(Lt.current=!1)));const[kt,Dt,$t]=reactExports.useMemo(()=>{const Bt=()=>{if(!Ct.current.element)return;const{left:Ut,top:Vt,width:Ht,height:Xt,bottom:qt,right:Kt,x:en,y:tn}=Ct.current.element.getBoundingClientRect(),Qt={left:Ut,top:Vt,width:Ht,height:Xt,bottom:qt,right:Kt,x:en,y:tn};Ct.current.element instanceof HTMLElement&&_t&&(Qt.height=Ct.current.element.offsetHeight,Qt.width=Ct.current.element.offsetWidth),Object.freeze(Qt),Lt.current&&!D(Ct.current.lastBounds,Qt)&&At(Ct.current.lastBounds=Qt)};return[Bt,It?g(Bt,It):Bt,Rt?g(Bt,Rt):Bt]},[At,_t,Rt,It]);function Ot(){Ct.current.scrollContainers&&(Ct.current.scrollContainers.forEach(Bt=>Bt.removeEventListener("scroll",$t,!0)),Ct.current.scrollContainers=null),Ct.current.resizeObserver&&(Ct.current.resizeObserver.disconnect(),Ct.current.resizeObserver=null),Ct.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",Ct.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",Ct.current.orientationHandler))}function zt(){Ct.current.element&&(Ct.current.resizeObserver=new St($t),Ct.current.resizeObserver.observe(Ct.current.element),ht&&Ct.current.scrollContainers&&Ct.current.scrollContainers.forEach(Bt=>Bt.addEventListener("scroll",$t,{capture:!0,passive:!0})),Ct.current.orientationHandler=()=>{$t()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",Ct.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",Ct.current.orientationHandler))}const Gt=Bt=>{!Bt||Bt===Ct.current.element||(Ot(),Ct.current.element=Bt,Ct.current.scrollContainers=E(Bt),zt())};return X($t,!!ht),W(Dt),reactExports.useEffect(()=>{Ot(),zt()},[ht,$t,Dt]),reactExports.useEffect(()=>Ot,[]),[Gt,wt,kt]}function W(vt){reactExports.useEffect(()=>{const ht=vt;return window.addEventListener("resize",ht),()=>void window.removeEventListener("resize",ht)},[vt])}function X(vt,ht){reactExports.useEffect(()=>{if(ht){const xt=vt;return window.addEventListener("scroll",xt,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",xt,!0)}},[vt,ht])}function E(vt){const ht=[];if(!vt||vt===document.body)return ht;const{overflow:xt,overflowX:_t,overflowY:St}=window.getComputedStyle(vt);return[xt,_t,St].some(wt=>wt==="auto"||wt==="scroll")&&ht.push(vt),[...ht,...E(vt.parentElement)]}const k=["x","y","top","bottom","left","right","width","height"],D=(vt,ht)=>k.every(xt=>vt[xt]===ht[xt]);var __defProp$2=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(vt,ht,xt)=>ht in vt?__defProp$2(vt,ht,{enumerable:!0,configurable:!0,writable:!0,value:xt}):vt[ht]=xt,__spreadValues=(vt,ht)=>{for(var xt in ht||(ht={}))__hasOwnProp.call(ht,xt)&&__defNormalProp$2(vt,xt,ht[xt]);if(__getOwnPropSymbols)for(var xt of __getOwnPropSymbols(ht))__propIsEnum.call(ht,xt)&&__defNormalProp$2(vt,xt,ht[xt]);return vt},__spreadProps=(vt,ht)=>__defProps(vt,__getOwnPropDescs(ht)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(vt,ht,xt){if(!vt)return;if(xt(vt)===!0)return vt;let _t=vt.child;for(;_t;){const St=traverseFiber(_t,ht,xt);if(St)return St;_t=_t.sibling}}function wrapContext(vt){try{return Object.defineProperties(vt,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return vt}}const error=console.error;console.error=function(){const vt=[...arguments].join("");if(vt!=null&&vt.startsWith("Warning:")&&vt.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const vt=reactExports.useContext(FiberContext);if(vt===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const ht=reactExports.useId();return reactExports.useMemo(()=>{for(const _t of[vt,vt==null?void 0:vt.alternate]){if(!_t)continue;const St=traverseFiber(_t,!1,wt=>{let At=wt.memoizedState;for(;At;){if(At.memoizedState===ht)return!0;At=At.next}});if(St)return St}},[vt,ht])}function useContextMap(){const vt=useFiber(),[ht]=reactExports.useState(()=>new Map);ht.clear();let xt=vt;for(;xt;){if(xt.type&&typeof xt.type=="object"){const St=xt.type._context===void 0&&xt.type.Provider===xt.type?xt.type:xt.type._context;St&&St!==FiberContext&&!ht.has(St)&&ht.set(St,reactExports.useContext(wrapContext(St)))}xt=xt.return}return ht}function useContextBridge(){const vt=useContextMap();return reactExports.useMemo(()=>Array.from(vt.keys()).reduce((ht,xt)=>_t=>reactExports.createElement(ht,null,reactExports.createElement(xt.Provider,__spreadProps(__spreadValues({},_t),{value:vt.get(xt)}))),ht=>reactExports.createElement(FiberProvider,__spreadValues({},ht))),[vt])}const CanvasImpl=reactExports.forwardRef(function({children:ht,fallback:xt,resize:_t,style:St,gl:wt,events:At=createPointerEvents,eventSource:Ct,eventPrefix:Rt,shadows:It,linear:Lt,flat:kt,legacy:Dt,orthographic:$t,frameloop:Ot,dpr:zt,performance:Gt,raycaster:Bt,camera:Ut,scene:Vt,onPointerMissed:Ht,onCreated:Xt,...qt},Kt){reactExports.useMemo(()=>extend(THREE),[]);const en=useContextBridge(),[tn,Qt]=j({scroll:!0,debounce:{scroll:50,resize:0},..._t}),sn=reactExports.useRef(null),un=reactExports.useRef(null);reactExports.useImperativeHandle(Kt,()=>sn.current);const dn=useMutableCallback(Ht),[vn,pn]=reactExports.useState(!1),[rn,an]=reactExports.useState(!1);if(vn)throw vn;if(rn)throw rn;const Yt=reactExports.useRef(null);useIsomorphicLayoutEffect(()=>{const on=sn.current;Qt.width>0&&Qt.height>0&&on&&(Yt.current||(Yt.current=createRoot(on)),Yt.current.configure({gl:wt,events:At,shadows:It,linear:Lt,flat:kt,legacy:Dt,orthographic:$t,frameloop:Ot,dpr:zt,performance:Gt,raycaster:Bt,camera:Ut,scene:Vt,size:Qt,onPointerMissed:(...ln)=>dn.current==null?void 0:dn.current(...ln),onCreated:ln=>{ln.events.connect==null||ln.events.connect(Ct?isRef(Ct)?Ct.current:Ct:un.current),Rt&&ln.setEvents({compute:(_n,wn)=>{const xn=_n[Rt+"X"],Pn=_n[Rt+"Y"];wn.pointer.set(xn/wn.size.width*2-1,-(Pn/wn.size.height)*2+1),wn.raycaster.setFromCamera(wn.pointer,wn.camera)}}),Xt==null||Xt(ln)}}),Yt.current.render(jsxRuntimeExports.jsx(en,{children:jsxRuntimeExports.jsx(ErrorBoundary,{set:an,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Block,{set:pn}),children:ht??null})})})))}),reactExports.useEffect(()=>{const on=sn.current;if(on)return()=>unmountComponentAtNode(on)},[]);const Jt=Ct?"none":"auto";return jsxRuntimeExports.jsx("div",{ref:un,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Jt,...St},...qt,children:jsxRuntimeExports.jsx("div",{ref:tn,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx("canvas",{ref:sn,style:{display:"block"},children:xt})})})}),Canvas=reactExports.forwardRef(function(ht,xt){return jsxRuntimeExports.jsx(FiberProvider,{children:jsxRuntimeExports.jsx(CanvasImpl,{...ht,ref:xt})})});function _extends(){return _extends=Object.assign?Object.assign.bind():function(vt){for(var ht=1;ht<arguments.length;ht++){var xt=arguments[ht];for(var _t in xt)({}).hasOwnProperty.call(xt,_t)&&(vt[_t]=xt[_t])}return vt},_extends.apply(null,arguments)}var __defProp$1=Object.defineProperty,__defNormalProp$1=(vt,ht,xt)=>ht in vt?__defProp$1(vt,ht,{enumerable:!0,configurable:!0,writable:!0,value:xt}):vt[ht]=xt,__publicField$1=(vt,ht,xt)=>(__defNormalProp$1(vt,ht+"",xt),xt);class EventDispatcher{constructor(){__publicField$1(this,"_listeners")}addEventListener(ht,xt){this._listeners===void 0&&(this._listeners={});const _t=this._listeners;_t[ht]===void 0&&(_t[ht]=[]),_t[ht].indexOf(xt)===-1&&_t[ht].push(xt)}hasEventListener(ht,xt){if(this._listeners===void 0)return!1;const _t=this._listeners;return _t[ht]!==void 0&&_t[ht].indexOf(xt)!==-1}removeEventListener(ht,xt){if(this._listeners===void 0)return;const St=this._listeners[ht];if(St!==void 0){const wt=St.indexOf(xt);wt!==-1&&St.splice(wt,1)}}dispatchEvent(ht){if(this._listeners===void 0)return;const _t=this._listeners[ht.type];if(_t!==void 0){ht.target=this;const St=_t.slice(0);for(let wt=0,At=St.length;wt<At;wt++)St[wt].call(this,ht);ht.target=null}}}var __defProp=Object.defineProperty,__defNormalProp=(vt,ht,xt)=>ht in vt?__defProp(vt,ht,{enumerable:!0,configurable:!0,writable:!0,value:xt}):vt[ht]=xt,__publicField=(vt,ht,xt)=>(__defNormalProp(vt,typeof ht!="symbol"?ht+"":ht,xt),xt);const _ray=new Ray,_plane=new Plane,TILT_LIMIT=Math.cos(70*(Math.PI/180)),moduloWrapAround=(vt,ht)=>(vt%ht+ht)%ht;let OrbitControls$1=class extends EventDispatcher{constructor(ht,xt){super(),__publicField(this,"object"),__publicField(this,"domElement"),__publicField(this,"enabled",!0),__publicField(this,"target",new Vector3),__publicField(this,"minDistance",0),__publicField(this,"maxDistance",1/0),__publicField(this,"minZoom",0),__publicField(this,"maxZoom",1/0),__publicField(this,"minPolarAngle",0),__publicField(this,"maxPolarAngle",Math.PI),__publicField(this,"minAzimuthAngle",-1/0),__publicField(this,"maxAzimuthAngle",1/0),__publicField(this,"enableDamping",!1),__publicField(this,"dampingFactor",.05),__publicField(this,"enableZoom",!0),__publicField(this,"zoomSpeed",1),__publicField(this,"enableRotate",!0),__publicField(this,"rotateSpeed",1),__publicField(this,"enablePan",!0),__publicField(this,"panSpeed",1),__publicField(this,"screenSpacePanning",!0),__publicField(this,"keyPanSpeed",7),__publicField(this,"zoomToCursor",!1),__publicField(this,"autoRotate",!1),__publicField(this,"autoRotateSpeed",2),__publicField(this,"reverseOrbit",!1),__publicField(this,"reverseHorizontalOrbit",!1),__publicField(this,"reverseVerticalOrbit",!1),__publicField(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField(this,"target0"),__publicField(this,"position0"),__publicField(this,"zoom0"),__publicField(this,"_domElementKeyEvents",null),__publicField(this,"getPolarAngle"),__publicField(this,"getAzimuthalAngle"),__publicField(this,"setPolarAngle"),__publicField(this,"setAzimuthalAngle"),__publicField(this,"getDistance"),__publicField(this,"getZoomScale"),__publicField(this,"listenToKeyEvents"),__publicField(this,"stopListenToKeyEvents"),__publicField(this,"saveState"),__publicField(this,"reset"),__publicField(this,"update"),__publicField(this,"connect"),__publicField(this,"dispose"),__publicField(this,"dollyIn"),__publicField(this,"dollyOut"),__publicField(this,"getScale"),__publicField(this,"setScale"),this.object=ht,this.domElement=xt,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>Lt.phi,this.getAzimuthalAngle=()=>Lt.theta,this.setPolarAngle=Sn=>{let jn=moduloWrapAround(Sn,2*Math.PI),yn=Lt.phi;yn<0&&(yn+=2*Math.PI),jn<0&&(jn+=2*Math.PI);let Vn=Math.abs(jn-yn);2*Math.PI-Vn<Vn&&(jn<yn?jn+=2*Math.PI:yn+=2*Math.PI),kt.phi=jn-yn,_t.update()},this.setAzimuthalAngle=Sn=>{let jn=moduloWrapAround(Sn,2*Math.PI),yn=Lt.theta;yn<0&&(yn+=2*Math.PI),jn<0&&(jn+=2*Math.PI);let Vn=Math.abs(jn-yn);2*Math.PI-Vn<Vn&&(jn<yn?jn+=2*Math.PI:yn+=2*Math.PI),kt.theta=jn-yn,_t.update()},this.getDistance=()=>_t.object.position.distanceTo(_t.target),this.listenToKeyEvents=Sn=>{Sn.addEventListener("keydown",tr),this._domElementKeyEvents=Sn},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",tr),this._domElementKeyEvents=null},this.saveState=()=>{_t.target0.copy(_t.target),_t.position0.copy(_t.object.position),_t.zoom0=_t.object.zoom},this.reset=()=>{_t.target.copy(_t.target0),_t.object.position.copy(_t.position0),_t.object.zoom=_t.zoom0,_t.object.updateProjectionMatrix(),_t.dispatchEvent(St),_t.update(),Rt=Ct.NONE},this.update=(()=>{const Sn=new Vector3,jn=new Vector3(0,1,0),yn=new Quaternion().setFromUnitVectors(ht.up,jn),Vn=yn.clone().invert(),kn=new Vector3,Un=new Quaternion,Xn=2*Math.PI;return function(){const Lr=_t.object.position;yn.setFromUnitVectors(ht.up,jn),Vn.copy(yn).invert(),Sn.copy(Lr).sub(_t.target),Sn.applyQuaternion(yn),Lt.setFromVector3(Sn),_t.autoRotate&&Rt===Ct.NONE&&vn(un()),_t.enableDamping?(Lt.theta+=kt.theta*_t.dampingFactor,Lt.phi+=kt.phi*_t.dampingFactor):(Lt.theta+=kt.theta,Lt.phi+=kt.phi);let Nr=_t.minAzimuthAngle,Ur=_t.maxAzimuthAngle;isFinite(Nr)&&isFinite(Ur)&&(Nr<-Math.PI?Nr+=Xn:Nr>Math.PI&&(Nr-=Xn),Ur<-Math.PI?Ur+=Xn:Ur>Math.PI&&(Ur-=Xn),Nr<=Ur?Lt.theta=Math.max(Nr,Math.min(Ur,Lt.theta)):Lt.theta=Lt.theta>(Nr+Ur)/2?Math.max(Nr,Lt.theta):Math.min(Ur,Lt.theta)),Lt.phi=Math.max(_t.minPolarAngle,Math.min(_t.maxPolarAngle,Lt.phi)),Lt.makeSafe(),_t.enableDamping===!0?_t.target.addScaledVector($t,_t.dampingFactor):_t.target.add($t),_t.zoomToCursor&&tn||_t.object.isOrthographicCamera?Lt.radius=wn(Lt.radius):Lt.radius=wn(Lt.radius*Dt),Sn.setFromSpherical(Lt),Sn.applyQuaternion(Vn),Lr.copy(_t.target).add(Sn),_t.object.matrixAutoUpdate||_t.object.updateMatrix(),_t.object.lookAt(_t.target),_t.enableDamping===!0?(kt.theta*=1-_t.dampingFactor,kt.phi*=1-_t.dampingFactor,$t.multiplyScalar(1-_t.dampingFactor)):(kt.set(0,0,0),$t.set(0,0,0));let Fr=!1;if(_t.zoomToCursor&&tn){let rs=null;if(_t.object instanceof PerspectiveCamera&&_t.object.isPerspectiveCamera){const ts=Sn.length();rs=wn(ts*Dt);const Hs=ts-rs;_t.object.position.addScaledVector(Kt,Hs),_t.object.updateMatrixWorld()}else if(_t.object.isOrthographicCamera){const ts=new Vector3(en.x,en.y,0);ts.unproject(_t.object),_t.object.zoom=Math.max(_t.minZoom,Math.min(_t.maxZoom,_t.object.zoom/Dt)),_t.object.updateProjectionMatrix(),Fr=!0;const Hs=new Vector3(en.x,en.y,0);Hs.unproject(_t.object),_t.object.position.sub(Hs).add(ts),_t.object.updateMatrixWorld(),rs=Sn.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),_t.zoomToCursor=!1;rs!==null&&(_t.screenSpacePanning?_t.target.set(0,0,-1).transformDirection(_t.object.matrix).multiplyScalar(rs).add(_t.object.position):(_ray.origin.copy(_t.object.position),_ray.direction.set(0,0,-1).transformDirection(_t.object.matrix),Math.abs(_t.object.up.dot(_ray.direction))<TILT_LIMIT?ht.lookAt(_t.target):(_plane.setFromNormalAndCoplanarPoint(_t.object.up,_t.target),_ray.intersectPlane(_plane,_t.target))))}else _t.object instanceof OrthographicCamera&&_t.object.isOrthographicCamera&&(Fr=Dt!==1,Fr&&(_t.object.zoom=Math.max(_t.minZoom,Math.min(_t.maxZoom,_t.object.zoom/Dt)),_t.object.updateProjectionMatrix()));return Dt=1,tn=!1,Fr||kn.distanceToSquared(_t.object.position)>It||8*(1-Un.dot(_t.object.quaternion))>It?(_t.dispatchEvent(St),kn.copy(_t.object.position),Un.copy(_t.object.quaternion),Fr=!1,!0):!1}})(),this.connect=Sn=>{_t.domElement=Sn,_t.domElement.style.touchAction="none",_t.domElement.addEventListener("contextmenu",rr),_t.domElement.addEventListener("pointerdown",Cn),_t.domElement.addEventListener("pointercancel",On),_t.domElement.addEventListener("wheel",Yn)},this.dispose=()=>{var Sn,jn,yn,Vn,kn,Un;_t.domElement&&(_t.domElement.style.touchAction="auto"),(Sn=_t.domElement)==null||Sn.removeEventListener("contextmenu",rr),(jn=_t.domElement)==null||jn.removeEventListener("pointerdown",Cn),(yn=_t.domElement)==null||yn.removeEventListener("pointercancel",On),(Vn=_t.domElement)==null||Vn.removeEventListener("wheel",Yn),(kn=_t.domElement)==null||kn.ownerDocument.removeEventListener("pointermove",Gn),(Un=_t.domElement)==null||Un.ownerDocument.removeEventListener("pointerup",On),_t._domElementKeyEvents!==null&&_t._domElementKeyEvents.removeEventListener("keydown",tr)};const _t=this,St={type:"change"},wt={type:"start"},At={type:"end"},Ct={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let Rt=Ct.NONE;const It=1e-6,Lt=new Spherical,kt=new Spherical;let Dt=1;const $t=new Vector3,Ot=new Vector2,zt=new Vector2,Gt=new Vector2,Bt=new Vector2,Ut=new Vector2,Vt=new Vector2,Ht=new Vector2,Xt=new Vector2,qt=new Vector2,Kt=new Vector3,en=new Vector2;let tn=!1;const Qt=[],sn={};function un(){return 2*Math.PI/60/60*_t.autoRotateSpeed}function dn(){return Math.pow(.95,_t.zoomSpeed)}function vn(Sn){_t.reverseOrbit||_t.reverseHorizontalOrbit?kt.theta+=Sn:kt.theta-=Sn}function pn(Sn){_t.reverseOrbit||_t.reverseVerticalOrbit?kt.phi+=Sn:kt.phi-=Sn}const rn=(()=>{const Sn=new Vector3;return function(yn,Vn){Sn.setFromMatrixColumn(Vn,0),Sn.multiplyScalar(-yn),$t.add(Sn)}})(),an=(()=>{const Sn=new Vector3;return function(yn,Vn){_t.screenSpacePanning===!0?Sn.setFromMatrixColumn(Vn,1):(Sn.setFromMatrixColumn(Vn,0),Sn.crossVectors(_t.object.up,Sn)),Sn.multiplyScalar(yn),$t.add(Sn)}})(),Yt=(()=>{const Sn=new Vector3;return function(yn,Vn){const kn=_t.domElement;if(kn&&_t.object instanceof PerspectiveCamera&&_t.object.isPerspectiveCamera){const Un=_t.object.position;Sn.copy(Un).sub(_t.target);let Xn=Sn.length();Xn*=Math.tan(_t.object.fov/2*Math.PI/180),rn(2*yn*Xn/kn.clientHeight,_t.object.matrix),an(2*Vn*Xn/kn.clientHeight,_t.object.matrix)}else kn&&_t.object instanceof OrthographicCamera&&_t.object.isOrthographicCamera?(rn(yn*(_t.object.right-_t.object.left)/_t.object.zoom/kn.clientWidth,_t.object.matrix),an(Vn*(_t.object.top-_t.object.bottom)/_t.object.zoom/kn.clientHeight,_t.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),_t.enablePan=!1)}})();function Jt(Sn){_t.object instanceof PerspectiveCamera&&_t.object.isPerspectiveCamera||_t.object instanceof OrthographicCamera&&_t.object.isOrthographicCamera?Dt=Sn:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),_t.enableZoom=!1)}function on(Sn){Jt(Dt/Sn)}function ln(Sn){Jt(Dt*Sn)}function _n(Sn){if(!_t.zoomToCursor||!_t.domElement)return;tn=!0;const jn=_t.domElement.getBoundingClientRect(),yn=Sn.clientX-jn.left,Vn=Sn.clientY-jn.top,kn=jn.width,Un=jn.height;en.x=yn/kn*2-1,en.y=-(Vn/Un)*2+1,Kt.set(en.x,en.y,1).unproject(_t.object).sub(_t.object.position).normalize()}function wn(Sn){return Math.max(_t.minDistance,Math.min(_t.maxDistance,Sn))}function xn(Sn){Ot.set(Sn.clientX,Sn.clientY)}function Pn(Sn){_n(Sn),Ht.set(Sn.clientX,Sn.clientY)}function Bn(Sn){Bt.set(Sn.clientX,Sn.clientY)}function Hn(Sn){zt.set(Sn.clientX,Sn.clientY),Gt.subVectors(zt,Ot).multiplyScalar(_t.rotateSpeed);const jn=_t.domElement;jn&&(vn(2*Math.PI*Gt.x/jn.clientHeight),pn(2*Math.PI*Gt.y/jn.clientHeight)),Ot.copy(zt),_t.update()}function or(Sn){Xt.set(Sn.clientX,Sn.clientY),qt.subVectors(Xt,Ht),qt.y>0?on(dn()):qt.y<0&&ln(dn()),Ht.copy(Xt),_t.update()}function mr(Sn){Ut.set(Sn.clientX,Sn.clientY),Vt.subVectors(Ut,Bt).multiplyScalar(_t.panSpeed),Yt(Vt.x,Vt.y),Bt.copy(Ut),_t.update()}function lr(Sn){_n(Sn),Sn.deltaY<0?ln(dn()):Sn.deltaY>0&&on(dn()),_t.update()}function dr(Sn){let jn=!1;switch(Sn.code){case _t.keys.UP:Yt(0,_t.keyPanSpeed),jn=!0;break;case _t.keys.BOTTOM:Yt(0,-_t.keyPanSpeed),jn=!0;break;case _t.keys.LEFT:Yt(_t.keyPanSpeed,0),jn=!0;break;case _t.keys.RIGHT:Yt(-_t.keyPanSpeed,0),jn=!0;break}jn&&(Sn.preventDefault(),_t.update())}function hn(){if(Qt.length==1)Ot.set(Qt[0].pageX,Qt[0].pageY);else{const Sn=.5*(Qt[0].pageX+Qt[1].pageX),jn=.5*(Qt[0].pageY+Qt[1].pageY);Ot.set(Sn,jn)}}function Dn(){if(Qt.length==1)Bt.set(Qt[0].pageX,Qt[0].pageY);else{const Sn=.5*(Qt[0].pageX+Qt[1].pageX),jn=.5*(Qt[0].pageY+Qt[1].pageY);Bt.set(Sn,jn)}}function An(){const Sn=Qt[0].pageX-Qt[1].pageX,jn=Qt[0].pageY-Qt[1].pageY,yn=Math.sqrt(Sn*Sn+jn*jn);Ht.set(0,yn)}function Zn(){_t.enableZoom&&An(),_t.enablePan&&Dn()}function $n(){_t.enableZoom&&An(),_t.enableRotate&&hn()}function ur(Sn){if(Qt.length==1)zt.set(Sn.pageX,Sn.pageY);else{const yn=Ar(Sn),Vn=.5*(Sn.pageX+yn.x),kn=.5*(Sn.pageY+yn.y);zt.set(Vn,kn)}Gt.subVectors(zt,Ot).multiplyScalar(_t.rotateSpeed);const jn=_t.domElement;jn&&(vn(2*Math.PI*Gt.x/jn.clientHeight),pn(2*Math.PI*Gt.y/jn.clientHeight)),Ot.copy(zt)}function qn(Sn){if(Qt.length==1)Ut.set(Sn.pageX,Sn.pageY);else{const jn=Ar(Sn),yn=.5*(Sn.pageX+jn.x),Vn=.5*(Sn.pageY+jn.y);Ut.set(yn,Vn)}Vt.subVectors(Ut,Bt).multiplyScalar(_t.panSpeed),Yt(Vt.x,Vt.y),Bt.copy(Ut)}function er(Sn){const jn=Ar(Sn),yn=Sn.pageX-jn.x,Vn=Sn.pageY-jn.y,kn=Math.sqrt(yn*yn+Vn*Vn);Xt.set(0,kn),qt.set(0,Math.pow(Xt.y/Ht.y,_t.zoomSpeed)),on(qt.y),Ht.copy(Xt)}function mn(Sn){_t.enableZoom&&er(Sn),_t.enablePan&&qn(Sn)}function cn(Sn){_t.enableZoom&&er(Sn),_t.enableRotate&&ur(Sn)}function Cn(Sn){var jn,yn;_t.enabled!==!1&&(Qt.length===0&&((jn=_t.domElement)==null||jn.ownerDocument.addEventListener("pointermove",Gn),(yn=_t.domElement)==null||yn.ownerDocument.addEventListener("pointerup",On)),kr(Sn),Sn.pointerType==="touch"?br(Sn):zn(Sn))}function Gn(Sn){_t.enabled!==!1&&(Sn.pointerType==="touch"?Wn(Sn):ar(Sn))}function On(Sn){var jn,yn,Vn;Tr(Sn),Qt.length===0&&((jn=_t.domElement)==null||jn.releasePointerCapture(Sn.pointerId),(yn=_t.domElement)==null||yn.ownerDocument.removeEventListener("pointermove",Gn),(Vn=_t.domElement)==null||Vn.ownerDocument.removeEventListener("pointerup",On)),_t.dispatchEvent(At),Rt=Ct.NONE}function zn(Sn){let jn;switch(Sn.button){case 0:jn=_t.mouseButtons.LEFT;break;case 1:jn=_t.mouseButtons.MIDDLE;break;case 2:jn=_t.mouseButtons.RIGHT;break;default:jn=-1}switch(jn){case MOUSE.DOLLY:if(_t.enableZoom===!1)return;Pn(Sn),Rt=Ct.DOLLY;break;case MOUSE.ROTATE:if(Sn.ctrlKey||Sn.metaKey||Sn.shiftKey){if(_t.enablePan===!1)return;Bn(Sn),Rt=Ct.PAN}else{if(_t.enableRotate===!1)return;xn(Sn),Rt=Ct.ROTATE}break;case MOUSE.PAN:if(Sn.ctrlKey||Sn.metaKey||Sn.shiftKey){if(_t.enableRotate===!1)return;xn(Sn),Rt=Ct.ROTATE}else{if(_t.enablePan===!1)return;Bn(Sn),Rt=Ct.PAN}break;default:Rt=Ct.NONE}Rt!==Ct.NONE&&_t.dispatchEvent(wt)}function ar(Sn){if(_t.enabled!==!1)switch(Rt){case Ct.ROTATE:if(_t.enableRotate===!1)return;Hn(Sn);break;case Ct.DOLLY:if(_t.enableZoom===!1)return;or(Sn);break;case Ct.PAN:if(_t.enablePan===!1)return;mr(Sn);break}}function Yn(Sn){_t.enabled===!1||_t.enableZoom===!1||Rt!==Ct.NONE&&Rt!==Ct.ROTATE||(Sn.preventDefault(),_t.dispatchEvent(wt),lr(Sn),_t.dispatchEvent(At))}function tr(Sn){_t.enabled===!1||_t.enablePan===!1||dr(Sn)}function br(Sn){switch(cr(Sn),Qt.length){case 1:switch(_t.touches.ONE){case TOUCH.ROTATE:if(_t.enableRotate===!1)return;hn(),Rt=Ct.TOUCH_ROTATE;break;case TOUCH.PAN:if(_t.enablePan===!1)return;Dn(),Rt=Ct.TOUCH_PAN;break;default:Rt=Ct.NONE}break;case 2:switch(_t.touches.TWO){case TOUCH.DOLLY_PAN:if(_t.enableZoom===!1&&_t.enablePan===!1)return;Zn(),Rt=Ct.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(_t.enableZoom===!1&&_t.enableRotate===!1)return;$n(),Rt=Ct.TOUCH_DOLLY_ROTATE;break;default:Rt=Ct.NONE}break;default:Rt=Ct.NONE}Rt!==Ct.NONE&&_t.dispatchEvent(wt)}function Wn(Sn){switch(cr(Sn),Rt){case Ct.TOUCH_ROTATE:if(_t.enableRotate===!1)return;ur(Sn),_t.update();break;case Ct.TOUCH_PAN:if(_t.enablePan===!1)return;qn(Sn),_t.update();break;case Ct.TOUCH_DOLLY_PAN:if(_t.enableZoom===!1&&_t.enablePan===!1)return;mn(Sn),_t.update();break;case Ct.TOUCH_DOLLY_ROTATE:if(_t.enableZoom===!1&&_t.enableRotate===!1)return;cn(Sn),_t.update();break;default:Rt=Ct.NONE}}function rr(Sn){_t.enabled!==!1&&Sn.preventDefault()}function kr(Sn){Qt.push(Sn)}function Tr(Sn){delete sn[Sn.pointerId];for(let jn=0;jn<Qt.length;jn++)if(Qt[jn].pointerId==Sn.pointerId){Qt.splice(jn,1);return}}function cr(Sn){let jn=sn[Sn.pointerId];jn===void 0&&(jn=new Vector2,sn[Sn.pointerId]=jn),jn.set(Sn.pageX,Sn.pageY)}function Ar(Sn){const jn=Sn.pointerId===Qt[0].pointerId?Qt[1]:Qt[0];return sn[jn.pointerId]}this.dollyIn=(Sn=dn())=>{ln(Sn),_t.update()},this.dollyOut=(Sn=dn())=>{on(Sn),_t.update()},this.getScale=()=>Dt,this.setScale=Sn=>{Jt(Sn),_t.update()},this.getZoomScale=()=>dn(),xt!==void 0&&this.connect(xt),this.update()}};const OrbitControls=reactExports.forwardRef(({makeDefault:vt,camera:ht,regress:xt,domElement:_t,enableDamping:St=!0,keyEvents:wt=!1,onChange:At,onStart:Ct,onEnd:Rt,...It},Lt)=>{const kt=useThree(qt=>qt.invalidate),Dt=useThree(qt=>qt.camera),$t=useThree(qt=>qt.gl),Ot=useThree(qt=>qt.events),zt=useThree(qt=>qt.setEvents),Gt=useThree(qt=>qt.set),Bt=useThree(qt=>qt.get),Ut=useThree(qt=>qt.performance),Vt=ht||Dt,Ht=_t||Ot.connected||$t.domElement,Xt=reactExports.useMemo(()=>new OrbitControls$1(Vt),[Vt]);return useFrame(()=>{Xt.enabled&&Xt.update()},-1),reactExports.useEffect(()=>(wt&&Xt.connect(wt===!0?Ht:wt),Xt.connect(Ht),()=>void Xt.dispose()),[wt,Ht,xt,Xt,kt]),reactExports.useEffect(()=>{const qt=tn=>{kt(),xt&&Ut.regress(),At&&At(tn)},Kt=tn=>{Ct&&Ct(tn)},en=tn=>{Rt&&Rt(tn)};return Xt.addEventListener("change",qt),Xt.addEventListener("start",Kt),Xt.addEventListener("end",en),()=>{Xt.removeEventListener("start",Kt),Xt.removeEventListener("end",en),Xt.removeEventListener("change",qt)}},[At,Ct,Rt,Xt,kt,zt]),reactExports.useEffect(()=>{if(vt){const qt=Bt().controls;return Gt({controls:Xt}),()=>Gt({controls:qt})}},[vt,Xt]),reactExports.createElement("primitive",_extends({ref:Lt,object:Xt,enableDamping:St},It))});var distort=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class DistortMaterialImpl extends MeshPhysicalMaterial{constructor(ht={}){super(ht),this.setValues(ht),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(ht){ht.uniforms.time=this._time,ht.uniforms.radius=this._radius,ht.uniforms.distort=this._distort,ht.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${distort}
      ${ht.vertexShader}
    `,ht.vertexShader=ht.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(ht){this._time.value=ht}get distort(){return this._distort.value}set distort(ht){this._distort.value=ht}get radius(){return this._radius.value}set radius(ht){this._radius.value=ht}}const MeshDistortMaterial=reactExports.forwardRef(({speed:vt=1,...ht},xt)=>{const[_t]=reactExports.useState(()=>new DistortMaterialImpl);return useFrame(St=>_t&&(_t.time=St.clock.elapsedTime*vt)),reactExports.createElement("primitive",_extends({object:_t,ref:xt,attach:"material"},ht))});function create(vt,ht){const xt=vt+"Geometry";return reactExports.forwardRef(({args:_t,children:St,...wt},At)=>{const Ct=reactExports.useRef(null);return reactExports.useImperativeHandle(At,()=>Ct.current),reactExports.useLayoutEffect(()=>void(ht==null?void 0:ht(Ct.current))),reactExports.createElement("mesh",_extends({ref:Ct},wt),reactExports.createElement(xt,{attach:"geometry",args:_t}),St)})}const Sphere=create("sphere"),SectionWrapper=({children:vt,className:ht="",id:xt})=>jsxRuntimeExports.jsx(motion.section,{id:xt,className:`container px-4 sm:px-6 lg:px-8 py-12 sm:py-16 md:py-20 lg:py-24 ${ht}`,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6},children:vt}),AnimatedBlob=()=>jsxRuntimeExports.jsx(Canvas,{"aria-label":"An abstract, rotating 3D blue blob",children:jsxRuntimeExports.jsxs(reactExports.Suspense,{fallback:null,children:[jsxRuntimeExports.jsx(OrbitControls,{enableZoom:!1,autoRotate:!0,autoRotateSpeed:2}),jsxRuntimeExports.jsx("ambientLight",{intensity:1}),jsxRuntimeExports.jsx("directionalLight",{position:[3,2,1]}),jsxRuntimeExports.jsx(Sphere,{args:[1,100,200],scale:2.5,children:jsxRuntimeExports.jsx(MeshDistortMaterial,{color:"#1a66ff",attach:"material",distort:.5,speed:2,metalness:.8,roughness:.2})})]})}),HeroSection=()=>jsxRuntimeExports.jsxs(SectionWrapper,{id:"hero",className:"relative overflow-hidden min-h-[100dvh] flex items-center pt-16 sm:pt-20",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-0 opacity-20 sm:opacity-30 md:opacity-100 md:w-1/2 md:right-0 md:left-auto",children:jsxRuntimeExports.jsx(AnimatedBlob,{})}),jsxRuntimeExports.jsx("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 items-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"text-center md:text-left px-4 sm:px-0",children:[jsxRuntimeExports.jsx("h1",{className:"mb-4 sm:mb-6 font-satoshi font-bold text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl leading-tight tracking-tight bg-gradient-to-r from-primary via-accent-blue to-accent-purple bg-clip-text text-transparent",children:copy.hero.headline}),jsxRuntimeExports.jsx("h2",{className:"mt-4 sm:mt-6 max-w-2xl mx-auto md:mx-0 text-text-white-80 font-inter text-base sm:text-lg md:text-xl lg:text-2xl leading-relaxed px-2 sm:px-0",children:copy.hero.subheadline}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"mt-6 sm:mt-8 flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center md:justify-start px-4 sm:px-0",children:[jsxRuntimeExports.jsx(CTAButton,{variant:"primary",className:"w-full sm:w-auto !px-6 sm:!px-8 !py-3 sm:!py-4 text-sm sm:text-base",onClick:()=>{const vt=document.getElementById("capabilities");vt==null||vt.scrollIntoView({behavior:"smooth"})},children:copy.hero.cta}),jsxRuntimeExports.jsx(CTAButton,{variant:"secondary",className:"w-full sm:w-auto !px-6 sm:!px-8 !py-3 sm:!py-4 text-sm sm:text-base",children:"Request a Demo"})]})]})})]}),FeatureCard=({icon:vt,title:ht,description:xt})=>jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},className:"glass-card glass-card-hover p-6 hover:shadow-glow transition-all duration-300 cursor-pointer group",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary/10 backdrop-blur-sm p-4 rounded-xl mb-4 group-hover:bg-primary/20 transition-colors duration-300",children:jsxRuntimeExports.jsx(vt,{className:"h-8 w-8 text-primary"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-satoshi font-semibold text-text-white mb-2",children:ht}),jsxRuntimeExports.jsx("p",{className:"text-text-white-60 font-inter text-sm leading-relaxed",children:xt})]}),icons=[BrainCircuit,Lock,Monitor,Users,Zap,ShieldCheck],CapabilitiesSection=()=>jsxRuntimeExports.jsxs(SectionWrapper,{id:"capabilities",className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff05_1px,transparent_1px),linear-gradient(to_bottom,#ffffff05_1px,transparent_1px)] bg-[size:64px_64px] pointer-events-none"}),jsxRuntimeExports.jsxs("div",{className:"text-center relative z-10",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-2xl sm:text-3xl md:text-4xl lg:text-5xl leading-tight px-4 sm:px-0",children:"Build Smarter, Sell Faster, Support Instantly"}),jsxRuntimeExports.jsx("p",{className:"mt-3 sm:mt-4 max-w-3xl mx-auto font-inter text-base sm:text-lg text-text-white-80 px-4 sm:px-6 lg:px-0",children:"Transform your enterprise with LOG_ON's autonomous agents - intelligent AI partners that understand your business, automate complex workflows, and scale with your growth. From customer support to data analysis, deploy specialized agents that work 24/7 to amplify your team's capabilities."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 mt-8 sm:mt-12 relative z-10",children:copy.capabilities.map((vt,ht)=>jsxRuntimeExports.jsx(FeatureCard,{...vt,icon:icons[ht]},ht))})]}),ProductCard=({title:vt,description:ht,price:xt,thumbnail:_t})=>jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.02,y:-5},className:"glass-card glass-card-hover overflow-hidden group cursor-pointer",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-48 overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:_t,alt:vt,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-bg-dark/80 to-transparent"})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-semibold text-xl text-text-white mb-2",children:vt}),jsxRuntimeExports.jsx("p",{className:"text-text-white-60 font-inter text-sm mb-4 line-clamp-2",children:ht}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-primary font-medium",children:xt}),jsxRuntimeExports.jsx(CTAButton,{variant:"secondary",className:"!py-2 !px-4 text-sm",children:"Learn More"})]})]})]}),AssessmentCard=({title:vt,description:ht,duration:xt,icon:_t})=>jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.02,y:-5},className:"glass-card glass-card-hover p-6 cursor-pointer group",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-4",children:_t}),jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-semibold text-xl text-text-white mb-2",children:vt}),jsxRuntimeExports.jsx("p",{className:"text-text-white-60 font-inter text-sm mb-4",children:ht}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-text-white-80",children:[jsxRuntimeExports.jsx(Clock$1,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:xt})]}),jsxRuntimeExports.jsx("button",{className:"text-primary hover:text-primary-light font-medium text-sm transition-colors",children:"Start Free "})]})]}),marketplaceProducts=[{id:1,title:"Customer Support Pro",description:"AI agent that handles customer inquiries 24/7 with human-like empathy and accuracy",price:"From $299/mo",thumbnail:"https://images.unsplash.com/photo-1553877522-43269d4ea984?w=400&h=300&fit=crop"},{id:2,title:"Sales Intelligence Agent",description:"Automatically qualify leads, schedule meetings, and provide real-time sales insights",price:"From $499/mo",thumbnail:"https://images.unsplash.com/photo-1552664730-d307ca884978?w=400&h=300&fit=crop"},{id:3,title:"Content Creator Suite",description:"Generate, optimize, and schedule content across all your marketing channels",price:"From $399/mo",thumbnail:"https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=400&h=300&fit=crop"},{id:4,title:"Data Analytics Engine",description:"Transform raw data into actionable insights with automated reporting and predictions",price:"From $599/mo",thumbnail:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=300&fit=crop"}],assessmentTools=[{id:1,title:"AI Readiness Assessment",description:"Evaluate your organization's preparedness for AI adoption across all departments",duration:"15 min",icon:""},{id:2,title:"Workflow Automation Audit",description:"Identify processes that can be automated to save time and reduce costs",duration:"20 min",icon:""},{id:3,title:"ROI Calculator",description:"Calculate potential savings and efficiency gains from AI agent deployment",duration:"10 min",icon:""},{id:4,title:"Security & Compliance Check",description:"Ensure your AI implementation meets industry standards and regulations",duration:"25 min",icon:""}],MarketplaceSection=()=>jsxRuntimeExports.jsxs(SectionWrapper,{id:"marketplace",className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-2xl sm:text-3xl md:text-4xl lg:text-5xl leading-tight mb-3 sm:mb-4 px-4 sm:px-0",children:"Pay What Your Economy Can Afford"}),jsxRuntimeExports.jsx("p",{className:"max-w-3xl mx-auto font-inter text-base sm:text-lg text-text-white-80 px-4 sm:px-6 lg:px-0",children:"Access enterprise-grade AI agents with regional pricing. Choose from our marketplace of pre-built solutions or assess your organization's AI readiness with our free tools."})]}),jsxRuntimeExports.jsxs(Tt.Group,{children:[jsxRuntimeExports.jsxs(Tt.List,{className:"flex justify-center space-x-1 rounded-xl bg-bg-white-5 p-1 max-w-md mx-auto mb-12",children:[jsxRuntimeExports.jsx(Tt,{className:({selected:vt})=>`w-full rounded-lg py-2.5 text-sm font-medium leading-5 transition-all duration-200
              ${vt?"bg-primary text-white shadow":"text-text-white-80 hover:bg-bg-white-10 hover:text-white"}`,children:"Marketplace"}),jsxRuntimeExports.jsx(Tt,{className:({selected:vt})=>`w-full rounded-lg py-2.5 text-sm font-medium leading-5 transition-all duration-200
              ${vt?"bg-primary text-white shadow":"text-text-white-80 hover:bg-bg-white-10 hover:text-white"}`,children:"Business Assessment Tools"})]}),jsxRuntimeExports.jsxs(Tt.Panels,{children:[jsxRuntimeExports.jsx(Tt.Panel,{children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:marketplaceProducts.map(vt=>jsxRuntimeExports.jsx(ProductCard,{...vt},vt.id))})}),jsxRuntimeExports.jsx(Tt.Panel,{children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:assessmentTools.map(vt=>jsxRuntimeExports.jsx(AssessmentCard,{...vt},vt.id))})})]})]})]}),industries=[{name:"Customer Support",icon:Headphones,problem:"Long response times, overwhelmed support teams, and inconsistent customer experiences across channels",solutions:["24/7 instant response to customer inquiries","Intelligent ticket routing and prioritization","Multi-language support with real-time translation","Sentiment analysis for proactive issue resolution"],workflow:[{step:"Receive Inquiry",desc:"Agent captures customer message"},{step:"Analyze Intent",desc:"AI understands context and urgency"},{step:"Provide Solution",desc:"Instant resolution or smart escalation"},{step:"Learn & Improve",desc:"Continuous learning from interactions"}]},{name:"Sales & CRM",icon:TrendingUp,problem:"Missed opportunities, manual data entry, and lack of real-time insights into customer behavior",solutions:["Automated lead scoring and qualification","Intelligent meeting scheduling and follow-ups","Real-time sales pipeline analytics","Personalized outreach at scale"],workflow:[{step:"Lead Capture",desc:"Automatically collect and enrich leads"},{step:"Qualify & Score",desc:"AI evaluates lead quality and intent"},{step:"Engage & Nurture",desc:"Personalized outreach campaigns"},{step:"Close & Optimize",desc:"Data-driven sales strategies"}]},{name:"HR & Recruiting",icon:Users,problem:"Time-consuming screening processes, bias in hiring, and poor candidate experience",solutions:["Resume screening and candidate matching","Automated interview scheduling","Skills assessment and cultural fit analysis","Onboarding workflow automation"],workflow:[{step:"Source Candidates",desc:"AI searches across platforms"},{step:"Screen & Match",desc:"Intelligent resume analysis"},{step:"Interview & Assess",desc:"Automated scheduling and evaluation"},{step:"Hire & Onboard",desc:"Seamless onboarding experience"}]},{name:"Content & Marketing",icon:FileText,problem:"Content creation bottlenecks, inconsistent brand voice, and poor SEO performance",solutions:["AI-powered content generation and optimization","Social media scheduling and engagement","SEO analysis and recommendations","Performance tracking and reporting"],workflow:[{step:"Plan Content",desc:"AI suggests topics and keywords"},{step:"Create & Optimize",desc:"Generate SEO-friendly content"},{step:"Distribute",desc:"Multi-channel publishing"},{step:"Analyze Impact",desc:"Track performance and iterate"}]},{name:"E-commerce",icon:ShoppingCart,problem:"Cart abandonment, poor product discovery, and lack of personalization",solutions:["Personalized product recommendations","Dynamic pricing optimization","Inventory management and forecasting","Customer journey mapping"],workflow:[{step:"Attract Visitors",desc:"Targeted marketing campaigns"},{step:"Personalize Experience",desc:"AI-driven recommendations"},{step:"Convert to Sale",desc:"Optimize checkout process"},{step:"Retain & Grow",desc:"Post-purchase engagement"}]},{name:"Data Analytics",icon:ChartColumn,problem:"Data silos, manual reporting, and delayed insights affecting decision-making",solutions:["Automated data collection and cleaning","Real-time dashboard generation","Predictive analytics and forecasting","Natural language data querying"],workflow:[{step:"Collect Data",desc:"Aggregate from all sources"},{step:"Process & Clean",desc:"AI ensures data quality"},{step:"Analyze & Visualize",desc:"Generate actionable insights"},{step:"Predict & Advise",desc:"Forecast trends and opportunities"}]}],UseCasesByIndustry=()=>jsxRuntimeExports.jsxs(SectionWrapper,{id:"use-cases",className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-2xl sm:text-3xl md:text-4xl lg:text-5xl leading-tight mb-3 sm:mb-4 px-4 sm:px-0",children:"Transform Every Department with AI"}),jsxRuntimeExports.jsx("p",{className:"max-w-3xl mx-auto font-inter text-base sm:text-lg text-text-white-80 px-4 sm:px-6 lg:px-0",children:"Discover how LOG_ON agents solve real business challenges across industries and departments"})]}),jsxRuntimeExports.jsxs(Tt.Group,{children:[jsxRuntimeExports.jsx("div",{className:"sticky top-16 sm:top-20 z-20 bg-bg-dark/80 backdrop-blur-xl pb-2 sm:pb-4 mb-6 sm:mb-8 -mx-4 sm:mx-0 px-4 sm:px-0",children:jsxRuntimeExports.jsx(Tt.List,{className:"flex overflow-x-auto scrollbar-hide gap-2 pb-2",role:"tablist","aria-label":"Industry use cases",children:industries.map(vt=>{const ht=vt.icon;return jsxRuntimeExports.jsxs(Tt,{className:({selected:xt})=>`flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-lg font-medium whitespace-nowrap transition-all duration-200 text-xs sm:text-sm md:text-base
                    ${xt?"bg-primary text-white shadow-lg":"bg-bg-white-5 text-text-white-80 hover:bg-bg-white-10 hover:text-white"}`,role:"tab",children:[jsxRuntimeExports.jsx(ht,{className:"h-4 w-4 sm:h-5 sm:w-5"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:vt.name}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:vt.name.split(" ")[0]})]},vt.name)})})}),jsxRuntimeExports.jsx(Tt.Panels,{children:industries.map((vt,ht)=>{const xt=vt.icon;return jsxRuntimeExports.jsx(Tt.Panel,{children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"glass-card p-8 mb-6",children:[jsxRuntimeExports.jsxs("h3",{className:"font-satoshi font-semibold text-2xl mb-4 flex items-center gap-3",children:[jsxRuntimeExports.jsx(xt,{className:"h-8 w-8 text-primary"}),"The Challenge"]}),jsxRuntimeExports.jsx("p",{className:"text-text-white-80 leading-relaxed",children:vt.problem})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card p-8",children:[jsxRuntimeExports.jsx("h4",{className:"font-satoshi font-semibold text-xl mb-4",children:"AI-Powered Solutions"}),jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:vt.solutions.map((_t,St)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"h-2 w-2 rounded-full bg-primary mt-2 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-text-white-80",children:_t})]},St))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-satoshi font-semibold text-xl mb-6",children:"How It Works"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:vt.workflow.map((_t,St)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:St*.1},className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/20 flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"font-bold text-primary",children:St+1})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 glass-card p-4",children:[jsxRuntimeExports.jsx("h5",{className:"font-semibold text-text-white mb-1",children:_t.step}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-white-60",children:_t.desc})]}),St<vt.workflow.length-1&&jsxRuntimeExports.jsx("div",{className:"absolute left-6 top-16 h-4 w-0.5 bg-border-white-20"})]},St))}),jsxRuntimeExports.jsxs("div",{className:"mt-6 sm:mt-8 flex flex-col sm:flex-row gap-3 sm:gap-4",children:[jsxRuntimeExports.jsxs(CTAButton,{variant:"primary",className:"w-full sm:w-auto",children:["Deploy ",vt.name," Agent"]}),jsxRuntimeExports.jsx(CTAButton,{variant:"secondary",className:"w-full sm:w-auto",children:"View Demo"})]})]})]})},ht)})})]})]}),popularUseCases=[{icon:MessageSquare,title:"Customer Service Automation",description:"Handle support tickets, live chat, and email inquiries with AI agents that understand context and provide accurate solutions.",examples:["Resolve 80% of tickets automatically","24/7 multilingual support","Sentiment-based routing"]},{icon:CodeXml,title:"Code Generation & Review",description:"Accelerate development with AI that writes, reviews, and optimizes code across multiple languages and frameworks.",examples:["Generate boilerplate code instantly","Automated code reviews","Bug detection and fixes"]},{icon:ChartNoAxesColumnIncreasing,title:"Data Analysis & Reporting",description:"Transform raw data into actionable insights with automated analysis, visualization, and report generation.",examples:["Real-time dashboard creation","Predictive analytics","Natural language queries"]},{icon:Sparkles,title:"Content Creation at Scale",description:"Generate high-quality content for blogs, social media, and marketing campaigns while maintaining brand voice.",examples:["SEO-optimized articles","Social media campaigns","Product descriptions"]},{icon:Calendar,title:"Meeting & Calendar Management",description:"Automate scheduling, meeting prep, and follow-ups with AI that understands priorities and preferences.",examples:["Smart meeting scheduling","Automated meeting notes","Action item tracking"]},{icon:Shield,title:"Security & Compliance",description:"Monitor systems, detect anomalies, and ensure compliance with AI agents trained on security best practices.",examples:["Real-time threat detection","Compliance monitoring","Automated incident response"]}],AgentsUseCasesSection=()=>jsxRuntimeExports.jsxs(SectionWrapper,{id:"popular-use-cases",className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"font-satoshi font-bold text-2xl sm:text-3xl md:text-4xl lg:text-5xl leading-tight mb-3 sm:mb-4 px-4 sm:px-0",children:"Popular Use Cases"}),jsxRuntimeExports.jsx("p",{className:"max-w-3xl mx-auto font-inter text-base sm:text-lg text-text-white-80 px-4 sm:px-6 lg:px-0",children:"See how businesses are using LOG_ON agents to automate workflows and accelerate growth"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:popularUseCases.map((vt,ht)=>{const xt=vt.icon;return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:ht*.1},whileHover:{scale:1.02,y:-5},className:"glass-card glass-card-hover p-6 cursor-pointer group",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary/10 backdrop-blur-sm p-4 rounded-xl mb-4 group-hover:bg-primary/20 transition-colors duration-300",children:jsxRuntimeExports.jsx(xt,{className:"h-8 w-8 text-primary"})}),jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-semibold text-xl text-text-white mb-3",children:vt.title}),jsxRuntimeExports.jsx("p",{className:"text-text-white-60 font-inter text-sm mb-4 leading-relaxed",children:vt.description}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-text-white-80 uppercase tracking-wide",children:"Examples:"}),jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:vt.examples.map((_t,St)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2 text-sm text-text-white-60",children:[jsxRuntimeExports.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary/60"}),_t]},St))})]})]},ht)})})]});var lottie$1={exports:{}};(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&function(vt,ht){module.exports=ht()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(ht){_useWebWorker=!!ht},getWebWorker=function(){return _useWebWorker},setLocationHref=function(ht){locationHref=ht},getLocationHref=function(){return locationHref};function createTag(vt){return document.createElement(vt)}function extendPrototype(vt,ht){var xt,_t=vt.length,St;for(xt=0;xt<_t;xt+=1){St=vt[xt].prototype;for(var wt in St)Object.prototype.hasOwnProperty.call(St,wt)&&(ht.prototype[wt]=St[wt])}}function getDescriptor(vt,ht){return Object.getOwnPropertyDescriptor(vt,ht)}function createProxyFunction(vt){function ht(){}return ht.prototype=vt,ht}var audioControllerFactory=function(){function vt(ht){this.audios=[],this.audioFactory=ht,this._volume=1,this._isMuted=!1}return vt.prototype={addAudio:function(xt){this.audios.push(xt)},pause:function(){var xt,_t=this.audios.length;for(xt=0;xt<_t;xt+=1)this.audios[xt].pause()},resume:function(){var xt,_t=this.audios.length;for(xt=0;xt<_t;xt+=1)this.audios[xt].resume()},setRate:function(xt){var _t,St=this.audios.length;for(_t=0;_t<St;_t+=1)this.audios[_t].setRate(xt)},createAudio:function(xt){return this.audioFactory?this.audioFactory(xt):window.Howl?new window.Howl({src:[xt]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(xt){this.audioFactory=xt},setVolume:function(xt){this._volume=xt,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var xt,_t=this.audios.length;for(xt=0;xt<_t;xt+=1)this.audios[xt].volume(this._volume*(this._isMuted?0:1))}},function(){return new vt}}(),createTypedArray=function(){function vt(xt,_t){var St=0,wt=[],At;switch(xt){case"int16":case"uint8c":At=1;break;default:At=1.1;break}for(St=0;St<_t;St+=1)wt.push(At);return wt}function ht(xt,_t){return xt==="float32"?new Float32Array(_t):xt==="int16"?new Int16Array(_t):xt==="uint8c"?new Uint8ClampedArray(_t):vt(xt,_t)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?ht:vt}();function createSizedArray(vt){return Array.apply(null,{length:vt})}function _typeof$6(vt){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht},_typeof$6(vt)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var vt=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],ht,xt=vt.length;for(ht=0;ht<xt;ht+=1)BMMath[vt[ht]]=Math[vt[ht]]})(),BMMath.random=Math.random,BMMath.abs=function(vt){var ht=_typeof$6(vt);if(ht==="object"&&vt.length){var xt=createSizedArray(vt.length),_t,St=vt.length;for(_t=0;_t<St;_t+=1)xt[_t]=Math.abs(vt[_t]);return xt}return Math.abs(vt)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(vt){vt.style.position="absolute",vt.style.top=0,vt.style.left=0,vt.style.display="block",vt.style.transformOrigin="0 0",vt.style.webkitTransformOrigin="0 0",vt.style.backfaceVisibility="visible",vt.style.webkitBackfaceVisibility="visible",vt.style.transformStyle="preserve-3d",vt.style.webkitTransformStyle="preserve-3d",vt.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(vt,ht,xt,_t){this.type=vt,this.currentTime=ht,this.totalTime=xt,this.direction=_t<0?-1:1}function BMCompleteEvent(vt,ht){this.type=vt,this.direction=ht<0?-1:1}function BMCompleteLoopEvent(vt,ht,xt,_t){this.type=vt,this.currentLoop=xt,this.totalLoops=ht,this.direction=_t<0?-1:1}function BMSegmentStartEvent(vt,ht,xt){this.type=vt,this.firstFrame=ht,this.totalFrames=xt}function BMDestroyEvent(vt,ht){this.type=vt,this.target=ht}function BMRenderFrameErrorEvent(vt,ht){this.type="renderFrameError",this.nativeError=vt,this.currentTime=ht}function BMConfigErrorEvent(vt){this.type="configError",this.nativeError=vt}var createElementID=function(){var vt=0;return function(){return vt+=1,idPrefix$1+"__lottie_element_"+vt}}();function HSVtoRGB(vt,ht,xt){var _t,St,wt,At,Ct,Rt,It,Lt;switch(At=Math.floor(vt*6),Ct=vt*6-At,Rt=xt*(1-ht),It=xt*(1-Ct*ht),Lt=xt*(1-(1-Ct)*ht),At%6){case 0:_t=xt,St=Lt,wt=Rt;break;case 1:_t=It,St=xt,wt=Rt;break;case 2:_t=Rt,St=xt,wt=Lt;break;case 3:_t=Rt,St=It,wt=xt;break;case 4:_t=Lt,St=Rt,wt=xt;break;case 5:_t=xt,St=Rt,wt=It;break}return[_t,St,wt]}function RGBtoHSV(vt,ht,xt){var _t=Math.max(vt,ht,xt),St=Math.min(vt,ht,xt),wt=_t-St,At,Ct=_t===0?0:wt/_t,Rt=_t/255;switch(_t){case St:At=0;break;case vt:At=ht-xt+wt*(ht<xt?6:0),At/=6*wt;break;case ht:At=xt-vt+wt*2,At/=6*wt;break;case xt:At=vt-ht+wt*4,At/=6*wt;break}return[At,Ct,Rt]}function addSaturationToRGB(vt,ht){var xt=RGBtoHSV(vt[0]*255,vt[1]*255,vt[2]*255);return xt[1]+=ht,xt[1]>1?xt[1]=1:xt[1]<=0&&(xt[1]=0),HSVtoRGB(xt[0],xt[1],xt[2])}function addBrightnessToRGB(vt,ht){var xt=RGBtoHSV(vt[0]*255,vt[1]*255,vt[2]*255);return xt[2]+=ht,xt[2]>1?xt[2]=1:xt[2]<0&&(xt[2]=0),HSVtoRGB(xt[0],xt[1],xt[2])}function addHueToRGB(vt,ht){var xt=RGBtoHSV(vt[0]*255,vt[1]*255,vt[2]*255);return xt[0]+=ht/360,xt[0]>1?xt[0]-=1:xt[0]<0&&(xt[0]+=1),HSVtoRGB(xt[0],xt[1],xt[2])}var rgbToHex=function(){var vt=[],ht,xt;for(ht=0;ht<256;ht+=1)xt=ht.toString(16),vt[ht]=xt.length===1?"0"+xt:xt;return function(_t,St,wt){return _t<0&&(_t=0),St<0&&(St=0),wt<0&&(wt=0),"#"+vt[_t]+vt[St]+vt[wt]}}(),setSubframeEnabled=function(ht){subframeEnabled=!!ht},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(ht){expressionsPlugin=ht},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(ht){expressionsInterfaces=ht},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(ht){defaultCurveSegments=ht},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(ht){idPrefix$1=ht};function createNS(vt){return document.createElementNS(svgNS,vt)}function _typeof$5(vt){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht},_typeof$5(vt)}var dataManager=function(){var vt=1,ht=[],xt,_t,St={onmessage:function(){},postMessage:function($t){xt({data:$t})}},wt={postMessage:function($t){St.onmessage({data:$t})}};function At(Dt){if(window.Worker&&window.Blob&&getWebWorker()){var $t=new Blob(["var _workerSelf = self; self.onmessage = ",Dt.toString()],{type:"text/javascript"}),Ot=URL.createObjectURL($t);return new Worker(Ot)}return xt=Dt,St}function Ct(){_t||(_t=At(function($t){function Ot(){function Gt(pn,rn){var an,Yt,Jt=pn.length,on,ln,_n,wn;for(Yt=0;Yt<Jt;Yt+=1)if(an=pn[Yt],"ks"in an&&!an.completed){if(an.completed=!0,an.hasMask){var xn=an.masksProperties;for(ln=xn.length,on=0;on<ln;on+=1)if(xn[on].pt.k.i)Xt(xn[on].pt.k);else for(wn=xn[on].pt.k.length,_n=0;_n<wn;_n+=1)xn[on].pt.k[_n].s&&Xt(xn[on].pt.k[_n].s[0]),xn[on].pt.k[_n].e&&Xt(xn[on].pt.k[_n].e[0])}an.ty===0?(an.layers=Vt(an.refId,rn),Gt(an.layers,rn)):an.ty===4?Ht(an.shapes):an.ty===5&&dn(an)}}function Bt(pn,rn){if(pn){var an=0,Yt=pn.length;for(an=0;an<Yt;an+=1)pn[an].t===1&&(pn[an].data.layers=Vt(pn[an].data.refId,rn),Gt(pn[an].data.layers,rn))}}function Ut(pn,rn){for(var an=0,Yt=rn.length;an<Yt;){if(rn[an].id===pn)return rn[an];an+=1}return null}function Vt(pn,rn){var an=Ut(pn,rn);return an?an.layers.__used?JSON.parse(JSON.stringify(an.layers)):(an.layers.__used=!0,an.layers):null}function Ht(pn){var rn,an=pn.length,Yt,Jt;for(rn=an-1;rn>=0;rn-=1)if(pn[rn].ty==="sh")if(pn[rn].ks.k.i)Xt(pn[rn].ks.k);else for(Jt=pn[rn].ks.k.length,Yt=0;Yt<Jt;Yt+=1)pn[rn].ks.k[Yt].s&&Xt(pn[rn].ks.k[Yt].s[0]),pn[rn].ks.k[Yt].e&&Xt(pn[rn].ks.k[Yt].e[0]);else pn[rn].ty==="gr"&&Ht(pn[rn].it)}function Xt(pn){var rn,an=pn.i.length;for(rn=0;rn<an;rn+=1)pn.i[rn][0]+=pn.v[rn][0],pn.i[rn][1]+=pn.v[rn][1],pn.o[rn][0]+=pn.v[rn][0],pn.o[rn][1]+=pn.v[rn][1]}function qt(pn,rn){var an=rn?rn.split("."):[100,100,100];return pn[0]>an[0]?!0:an[0]>pn[0]?!1:pn[1]>an[1]?!0:an[1]>pn[1]?!1:pn[2]>an[2]?!0:an[2]>pn[2]?!1:null}var Kt=function(){var pn=[4,4,14];function rn(Yt){var Jt=Yt.t.d;Yt.t.d={k:[{s:Jt,t:0}]}}function an(Yt){var Jt,on=Yt.length;for(Jt=0;Jt<on;Jt+=1)Yt[Jt].ty===5&&rn(Yt[Jt])}return function(Yt){if(qt(pn,Yt.v)&&(an(Yt.layers),Yt.assets)){var Jt,on=Yt.assets.length;for(Jt=0;Jt<on;Jt+=1)Yt.assets[Jt].layers&&an(Yt.assets[Jt].layers)}}}(),en=function(){var pn=[4,7,99];return function(rn){if(rn.chars&&!qt(pn,rn.v)){var an,Yt=rn.chars.length;for(an=0;an<Yt;an+=1){var Jt=rn.chars[an];Jt.data&&Jt.data.shapes&&(Ht(Jt.data.shapes),Jt.data.ip=0,Jt.data.op=99999,Jt.data.st=0,Jt.data.sr=1,Jt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},rn.chars[an].t||(Jt.data.shapes.push({ty:"no"}),Jt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),tn=function(){var pn=[5,7,15];function rn(Yt){var Jt=Yt.t.p;typeof Jt.a=="number"&&(Jt.a={a:0,k:Jt.a}),typeof Jt.p=="number"&&(Jt.p={a:0,k:Jt.p}),typeof Jt.r=="number"&&(Jt.r={a:0,k:Jt.r})}function an(Yt){var Jt,on=Yt.length;for(Jt=0;Jt<on;Jt+=1)Yt[Jt].ty===5&&rn(Yt[Jt])}return function(Yt){if(qt(pn,Yt.v)&&(an(Yt.layers),Yt.assets)){var Jt,on=Yt.assets.length;for(Jt=0;Jt<on;Jt+=1)Yt.assets[Jt].layers&&an(Yt.assets[Jt].layers)}}}(),Qt=function(){var pn=[4,1,9];function rn(Yt){var Jt,on=Yt.length,ln,_n;for(Jt=0;Jt<on;Jt+=1)if(Yt[Jt].ty==="gr")rn(Yt[Jt].it);else if(Yt[Jt].ty==="fl"||Yt[Jt].ty==="st")if(Yt[Jt].c.k&&Yt[Jt].c.k[0].i)for(_n=Yt[Jt].c.k.length,ln=0;ln<_n;ln+=1)Yt[Jt].c.k[ln].s&&(Yt[Jt].c.k[ln].s[0]/=255,Yt[Jt].c.k[ln].s[1]/=255,Yt[Jt].c.k[ln].s[2]/=255,Yt[Jt].c.k[ln].s[3]/=255),Yt[Jt].c.k[ln].e&&(Yt[Jt].c.k[ln].e[0]/=255,Yt[Jt].c.k[ln].e[1]/=255,Yt[Jt].c.k[ln].e[2]/=255,Yt[Jt].c.k[ln].e[3]/=255);else Yt[Jt].c.k[0]/=255,Yt[Jt].c.k[1]/=255,Yt[Jt].c.k[2]/=255,Yt[Jt].c.k[3]/=255}function an(Yt){var Jt,on=Yt.length;for(Jt=0;Jt<on;Jt+=1)Yt[Jt].ty===4&&rn(Yt[Jt].shapes)}return function(Yt){if(qt(pn,Yt.v)&&(an(Yt.layers),Yt.assets)){var Jt,on=Yt.assets.length;for(Jt=0;Jt<on;Jt+=1)Yt.assets[Jt].layers&&an(Yt.assets[Jt].layers)}}}(),sn=function(){var pn=[4,4,18];function rn(Yt){var Jt,on=Yt.length,ln,_n;for(Jt=on-1;Jt>=0;Jt-=1)if(Yt[Jt].ty==="sh")if(Yt[Jt].ks.k.i)Yt[Jt].ks.k.c=Yt[Jt].closed;else for(_n=Yt[Jt].ks.k.length,ln=0;ln<_n;ln+=1)Yt[Jt].ks.k[ln].s&&(Yt[Jt].ks.k[ln].s[0].c=Yt[Jt].closed),Yt[Jt].ks.k[ln].e&&(Yt[Jt].ks.k[ln].e[0].c=Yt[Jt].closed);else Yt[Jt].ty==="gr"&&rn(Yt[Jt].it)}function an(Yt){var Jt,on,ln=Yt.length,_n,wn,xn,Pn;for(on=0;on<ln;on+=1){if(Jt=Yt[on],Jt.hasMask){var Bn=Jt.masksProperties;for(wn=Bn.length,_n=0;_n<wn;_n+=1)if(Bn[_n].pt.k.i)Bn[_n].pt.k.c=Bn[_n].cl;else for(Pn=Bn[_n].pt.k.length,xn=0;xn<Pn;xn+=1)Bn[_n].pt.k[xn].s&&(Bn[_n].pt.k[xn].s[0].c=Bn[_n].cl),Bn[_n].pt.k[xn].e&&(Bn[_n].pt.k[xn].e[0].c=Bn[_n].cl)}Jt.ty===4&&rn(Jt.shapes)}}return function(Yt){if(qt(pn,Yt.v)&&(an(Yt.layers),Yt.assets)){var Jt,on=Yt.assets.length;for(Jt=0;Jt<on;Jt+=1)Yt.assets[Jt].layers&&an(Yt.assets[Jt].layers)}}}();function un(pn){pn.__complete||(Qt(pn),Kt(pn),en(pn),tn(pn),sn(pn),Gt(pn.layers,pn.assets),Bt(pn.chars,pn.assets),pn.__complete=!0)}function dn(pn){pn.t.a.length===0&&"m"in pn.t.p}var vn={};return vn.completeData=un,vn.checkColors=Qt,vn.checkChars=en,vn.checkPathProperties=tn,vn.checkShapes=sn,vn.completeLayers=Gt,vn}if(wt.dataManager||(wt.dataManager=Ot()),wt.assetLoader||(wt.assetLoader=function(){function Gt(Ut){var Vt=Ut.getResponseHeader("content-type");return Vt&&Ut.responseType==="json"&&Vt.indexOf("json")!==-1||Ut.response&&_typeof$5(Ut.response)==="object"?Ut.response:Ut.response&&typeof Ut.response=="string"?JSON.parse(Ut.response):Ut.responseText?JSON.parse(Ut.responseText):null}function Bt(Ut,Vt,Ht,Xt){var qt,Kt=new XMLHttpRequest;try{Kt.responseType="json"}catch{}Kt.onreadystatechange=function(){if(Kt.readyState===4)if(Kt.status===200)qt=Gt(Kt),Ht(qt);else try{qt=Gt(Kt),Ht(qt)}catch(en){Xt&&Xt(en)}};try{Kt.open(["G","E","T"].join(""),Ut,!0)}catch{Kt.open(["G","E","T"].join(""),Vt+"/"+Ut,!0)}Kt.send()}return{load:Bt}}()),$t.data.type==="loadAnimation")wt.assetLoader.load($t.data.path,$t.data.fullPath,function(Gt){wt.dataManager.completeData(Gt),wt.postMessage({id:$t.data.id,payload:Gt,status:"success"})},function(){wt.postMessage({id:$t.data.id,status:"error"})});else if($t.data.type==="complete"){var zt=$t.data.animation;wt.dataManager.completeData(zt),wt.postMessage({id:$t.data.id,payload:zt,status:"success"})}else $t.data.type==="loadData"&&wt.assetLoader.load($t.data.path,$t.data.fullPath,function(Gt){wt.postMessage({id:$t.data.id,payload:Gt,status:"success"})},function(){wt.postMessage({id:$t.data.id,status:"error"})})}),_t.onmessage=function(Dt){var $t=Dt.data,Ot=$t.id,zt=ht[Ot];ht[Ot]=null,$t.status==="success"?zt.onComplete($t.payload):zt.onError&&zt.onError()})}function Rt(Dt,$t){vt+=1;var Ot="processId_"+vt;return ht[Ot]={onComplete:Dt,onError:$t},Ot}function It(Dt,$t,Ot){Ct();var zt=Rt($t,Ot);_t.postMessage({type:"loadAnimation",path:Dt,fullPath:window.location.origin+window.location.pathname,id:zt})}function Lt(Dt,$t,Ot){Ct();var zt=Rt($t,Ot);_t.postMessage({type:"loadData",path:Dt,fullPath:window.location.origin+window.location.pathname,id:zt})}function kt(Dt,$t,Ot){Ct();var zt=Rt($t,Ot);_t.postMessage({type:"complete",animation:Dt,id:zt})}return{loadAnimation:It,loadData:Lt,completeAnimation:kt}}(),ImagePreloader=function(){var vt=function(){var Bt=createTag("canvas");Bt.width=1,Bt.height=1;var Ut=Bt.getContext("2d");return Ut.fillStyle="rgba(0,0,0,0)",Ut.fillRect(0,0,1,1),Bt}();function ht(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function xt(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function _t(Bt,Ut,Vt){var Ht="";if(Bt.e)Ht=Bt.p;else if(Ut){var Xt=Bt.p;Xt.indexOf("images/")!==-1&&(Xt=Xt.split("/")[1]),Ht=Ut+Xt}else Ht=Vt,Ht+=Bt.u?Bt.u:"",Ht+=Bt.p;return Ht}function St(Bt){var Ut=0,Vt=setInterval((function(){var Ht=Bt.getBBox();(Ht.width||Ut>500)&&(this._imageLoaded(),clearInterval(Vt)),Ut+=1}).bind(this),50)}function wt(Bt){var Ut=_t(Bt,this.assetsPath,this.path),Vt=createNS("image");isSafari?this.testImageLoaded(Vt):Vt.addEventListener("load",this._imageLoaded,!1),Vt.addEventListener("error",(function(){Ht.img=vt,this._imageLoaded()}).bind(this),!1),Vt.setAttributeNS("http://www.w3.org/1999/xlink","href",Ut),this._elementHelper.append?this._elementHelper.append(Vt):this._elementHelper.appendChild(Vt);var Ht={img:Vt,assetData:Bt};return Ht}function At(Bt){var Ut=_t(Bt,this.assetsPath,this.path),Vt=createTag("img");Vt.crossOrigin="anonymous",Vt.addEventListener("load",this._imageLoaded,!1),Vt.addEventListener("error",(function(){Ht.img=vt,this._imageLoaded()}).bind(this),!1),Vt.src=Ut;var Ht={img:Vt,assetData:Bt};return Ht}function Ct(Bt){var Ut={assetData:Bt},Vt=_t(Bt,this.assetsPath,this.path);return dataManager.loadData(Vt,(function(Ht){Ut.img=Ht,this._footageLoaded()}).bind(this),(function(){Ut.img={},this._footageLoaded()}).bind(this)),Ut}function Rt(Bt,Ut){this.imagesLoadedCb=Ut;var Vt,Ht=Bt.length;for(Vt=0;Vt<Ht;Vt+=1)Bt[Vt].layers||(!Bt[Vt].t||Bt[Vt].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Bt[Vt]))):Bt[Vt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Bt[Vt]))))}function It(Bt){this.path=Bt||""}function Lt(Bt){this.assetsPath=Bt||""}function kt(Bt){for(var Ut=0,Vt=this.images.length;Ut<Vt;){if(this.images[Ut].assetData===Bt)return this.images[Ut].img;Ut+=1}return null}function Dt(){this.imagesLoadedCb=null,this.images.length=0}function $t(){return this.totalImages===this.loadedAssets}function Ot(){return this.totalFootages===this.loadedFootagesCount}function zt(Bt,Ut){Bt==="svg"?(this._elementHelper=Ut,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Gt(){this._imageLoaded=ht.bind(this),this._footageLoaded=xt.bind(this),this.testImageLoaded=St.bind(this),this.createFootageData=Ct.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Gt.prototype={loadAssets:Rt,setAssetsPath:Lt,setPath:It,loadedImages:$t,loadedFootages:Ot,destroy:Dt,getAsset:kt,createImgData:At,createImageData:wt,imageLoaded:ht,footageLoaded:xt,setCacheType:zt},Gt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(ht,xt){if(this._cbs[ht])for(var _t=this._cbs[ht],St=0;St<_t.length;St+=1)_t[St](xt)},addEventListener:function(ht,xt){return this._cbs[ht]||(this._cbs[ht]=[]),this._cbs[ht].push(xt),(function(){this.removeEventListener(ht,xt)}).bind(this)},removeEventListener:function(ht,xt){if(!xt)this._cbs[ht]=null;else if(this._cbs[ht]){for(var _t=0,St=this._cbs[ht].length;_t<St;)this._cbs[ht][_t]===xt&&(this._cbs[ht].splice(_t,1),_t-=1,St-=1),_t+=1;this._cbs[ht].length||(this._cbs[ht]=null)}}};var markerParser=function(){function vt(ht){for(var xt=ht.split(`\r
`),_t={},St,wt=0,At=0;At<xt.length;At+=1)St=xt[At].split(":"),St.length===2&&(_t[St[0]]=St[1].trim(),wt+=1);if(wt===0)throw new Error;return _t}return function(ht){for(var xt=[],_t=0;_t<ht.length;_t+=1){var St=ht[_t],wt={time:St.tm,duration:St.dr};try{wt.payload=JSON.parse(ht[_t].cm)}catch{try{wt.payload=vt(ht[_t].cm)}catch{wt.payload={name:ht[_t].cm}}}xt.push(wt)}return xt}}(),ProjectInterface=function(){function vt(ht){this.compositions.push(ht)}return function(){function ht(xt){for(var _t=0,St=this.compositions.length;_t<St;){if(this.compositions[_t].data&&this.compositions[_t].data.nm===xt)return this.compositions[_t].prepareFrame&&this.compositions[_t].data.xt&&this.compositions[_t].prepareFrame(this.currentFrame),this.compositions[_t].compInterface;_t+=1}return null}return ht.compositions=[],ht.currentFrame=0,ht.registerComposition=vt,ht}}(),renderers={},registerRenderer=function(ht,xt){renderers[ht]=xt};function getRenderer(vt){return renderers[vt]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var vt in renderers)if(renderers[vt])return vt;return""}function _typeof$4(vt){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht},_typeof$4(vt)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(vt){(vt.wrapper||vt.container)&&(this.wrapper=vt.wrapper||vt.container);var ht="svg";vt.animType?ht=vt.animType:vt.renderer&&(ht=vt.renderer);var xt=getRenderer(ht);this.renderer=new xt(this,vt.rendererSettings),this.imagePreloader.setCacheType(ht,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=ht,vt.loop===""||vt.loop===null||vt.loop===void 0||vt.loop===!0?this.loop=!0:vt.loop===!1?this.loop=!1:this.loop=parseInt(vt.loop,10),this.autoplay="autoplay"in vt?vt.autoplay:!0,this.name=vt.name?vt.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(vt,"autoloadSegments")?vt.autoloadSegments:!0,this.assetsPath=vt.assetsPath,this.initialSegment=vt.initialSegment,vt.audioFactory&&this.audioController.setAudioFactory(vt.audioFactory),vt.animationData?this.setupAnimation(vt.animationData):vt.path&&(vt.path.lastIndexOf("\\")!==-1?this.path=vt.path.substr(0,vt.path.lastIndexOf("\\")+1):this.path=vt.path.substr(0,vt.path.lastIndexOf("/")+1),this.fileName=vt.path.substr(vt.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(vt.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(vt){dataManager.completeAnimation(vt,this.configAnimation)},AnimationItem.prototype.setData=function(vt,ht){ht&&_typeof$4(ht)!=="object"&&(ht=JSON.parse(ht));var xt={wrapper:vt,animationData:ht},_t=vt.attributes;xt.path=_t.getNamedItem("data-animation-path")?_t.getNamedItem("data-animation-path").value:_t.getNamedItem("data-bm-path")?_t.getNamedItem("data-bm-path").value:_t.getNamedItem("bm-path")?_t.getNamedItem("bm-path").value:"",xt.animType=_t.getNamedItem("data-anim-type")?_t.getNamedItem("data-anim-type").value:_t.getNamedItem("data-bm-type")?_t.getNamedItem("data-bm-type").value:_t.getNamedItem("bm-type")?_t.getNamedItem("bm-type").value:_t.getNamedItem("data-bm-renderer")?_t.getNamedItem("data-bm-renderer").value:_t.getNamedItem("bm-renderer")?_t.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var St=_t.getNamedItem("data-anim-loop")?_t.getNamedItem("data-anim-loop").value:_t.getNamedItem("data-bm-loop")?_t.getNamedItem("data-bm-loop").value:_t.getNamedItem("bm-loop")?_t.getNamedItem("bm-loop").value:"";St==="false"?xt.loop=!1:St==="true"?xt.loop=!0:St!==""&&(xt.loop=parseInt(St,10));var wt=_t.getNamedItem("data-anim-autoplay")?_t.getNamedItem("data-anim-autoplay").value:_t.getNamedItem("data-bm-autoplay")?_t.getNamedItem("data-bm-autoplay").value:_t.getNamedItem("bm-autoplay")?_t.getNamedItem("bm-autoplay").value:!0;xt.autoplay=wt!=="false",xt.name=_t.getNamedItem("data-name")?_t.getNamedItem("data-name").value:_t.getNamedItem("data-bm-name")?_t.getNamedItem("data-bm-name").value:_t.getNamedItem("bm-name")?_t.getNamedItem("bm-name").value:"";var At=_t.getNamedItem("data-anim-prerender")?_t.getNamedItem("data-anim-prerender").value:_t.getNamedItem("data-bm-prerender")?_t.getNamedItem("data-bm-prerender").value:_t.getNamedItem("bm-prerender")?_t.getNamedItem("bm-prerender").value:"";At==="false"&&(xt.prerender=!1),xt.path?this.setParams(xt):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(vt){vt.op>this.animationData.op&&(this.animationData.op=vt.op,this.totalFrames=Math.floor(vt.op-this.animationData.ip));var ht=this.animationData.layers,xt,_t=ht.length,St=vt.layers,wt,At=St.length;for(wt=0;wt<At;wt+=1)for(xt=0;xt<_t;){if(ht[xt].id===St[wt].id){ht[xt]=St[wt];break}xt+=1}if((vt.chars||vt.fonts)&&(this.renderer.globalData.fontManager.addChars(vt.chars),this.renderer.globalData.fontManager.addFonts(vt.fonts,this.renderer.globalData.defs)),vt.assets)for(_t=vt.assets.length,xt=0;xt<_t;xt+=1)this.animationData.assets.push(vt.assets[xt]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(vt){this.animationData=vt;var ht=getExpressionsPlugin();ht&&ht.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var vt=this.animationData.segments;if(!vt||vt.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var ht=vt.shift();this.timeCompleted=ht.time*this.frameRate;var xt=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(xt,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var vt=this.animationData.segments;vt||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(vt){if(this.renderer)try{this.animationData=vt,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(vt),vt.assets||(vt.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(vt.assets),this.markers=markerParser(vt.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(ht){this.triggerConfigError(ht)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var vt=getExpressionsPlugin();vt&&vt.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(vt,ht){var xt=typeof vt=="number"?vt:void 0,_t=typeof ht=="number"?ht:void 0;this.renderer.updateContainerSize(xt,_t)},AnimationItem.prototype.setSubframe=function(vt){this.isSubframeEnabled=!!vt},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(vt){this.triggerRenderFrameError(vt)}},AnimationItem.prototype.play=function(vt){vt&&this.name!==vt||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(vt){vt&&this.name!==vt||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(vt){vt&&this.name!==vt||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(vt){vt&&this.name!==vt||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(vt){for(var ht,xt=0;xt<this.markers.length;xt+=1)if(ht=this.markers[xt],ht.payload&&ht.payload.name===vt)return ht;return null},AnimationItem.prototype.goToAndStop=function(vt,ht,xt){if(!(xt&&this.name!==xt)){var _t=Number(vt);if(isNaN(_t)){var St=this.getMarkerData(vt);St&&this.goToAndStop(St.time,!0)}else ht?this.setCurrentRawFrameValue(vt):this.setCurrentRawFrameValue(vt*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(vt,ht,xt){if(!(xt&&this.name!==xt)){var _t=Number(vt);if(isNaN(_t)){var St=this.getMarkerData(vt);St&&(St.duration?this.playSegments([St.time,St.time+St.duration],!0):this.goToAndStop(St.time,!0))}else this.goToAndStop(_t,ht,xt);this.play()}},AnimationItem.prototype.advanceTime=function(vt){if(!(this.isPaused===!0||this.isLoaded===!1)){var ht=this.currentRawFrame+vt*this.frameModifier,xt=!1;ht>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(ht>this.totalFrames?ht%this.totalFrames:0)||(xt=!0,ht=this.totalFrames-1):ht>=this.totalFrames?(this.playCount+=1,this.checkSegments(ht%this.totalFrames)||(this.setCurrentRawFrameValue(ht%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(ht):ht<0?this.checkSegments(ht%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+ht%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(xt=!0,ht=0)):this.setCurrentRawFrameValue(ht),xt&&(this.setCurrentRawFrameValue(ht),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(vt,ht){this.playCount=0,vt[1]<vt[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=vt[0]-vt[1],this.timeCompleted=this.totalFrames,this.firstFrame=vt[1],this.setCurrentRawFrameValue(this.totalFrames-.001-ht)):vt[1]>vt[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=vt[1]-vt[0],this.timeCompleted=this.totalFrames,this.firstFrame=vt[0],this.setCurrentRawFrameValue(.001+ht)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(vt,ht){var xt=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<vt?xt=vt:this.currentRawFrame+this.firstFrame>ht&&(xt=ht-vt)),this.firstFrame=vt,this.totalFrames=ht-vt,this.timeCompleted=this.totalFrames,xt!==-1&&this.goToAndStop(xt,!0)},AnimationItem.prototype.playSegments=function(vt,ht){if(ht&&(this.segments.length=0),_typeof$4(vt[0])==="object"){var xt,_t=vt.length;for(xt=0;xt<_t;xt+=1)this.segments.push(vt[xt])}else this.segments.push(vt);this.segments.length&&ht&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(vt){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),vt&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(vt){return this.segments.length?(this.adjustSegment(this.segments.shift(),vt),!0):!1},AnimationItem.prototype.destroy=function(vt){vt&&this.name!==vt||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(vt){this.currentRawFrame=vt,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(vt){this.playSpeed=vt,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(vt){this.playDirection=vt<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(vt){this.loop=vt},AnimationItem.prototype.setVolume=function(vt,ht){ht&&this.name!==ht||this.audioController.setVolume(vt)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(vt){vt&&this.name!==vt||this.audioController.mute()},AnimationItem.prototype.unmute=function(vt){vt&&this.name!==vt||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(vt){var ht="";if(vt.e)ht=vt.p;else if(this.assetsPath){var xt=vt.p;xt.indexOf("images/")!==-1&&(xt=xt.split("/")[1]),ht=this.assetsPath+xt}else ht=this.path,ht+=vt.u?vt.u:"",ht+=vt.p;return ht},AnimationItem.prototype.getAssetData=function(vt){for(var ht=0,xt=this.assets.length;ht<xt;){if(vt===this.assets[ht].id)return this.assets[ht];ht+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(vt){return vt?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(vt,ht,xt){try{var _t=this.renderer.getElementByPath(vt);_t.updateDocumentData(ht,xt)}catch{}},AnimationItem.prototype.trigger=function(vt){if(this._cbs&&this._cbs[vt])switch(vt){case"enterFrame":this.triggerEvent(vt,new BMEnterFrameEvent(vt,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(vt,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(vt,new BMCompleteLoopEvent(vt,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(vt,new BMCompleteEvent(vt,this.frameMult));break;case"segmentStart":this.triggerEvent(vt,new BMSegmentStartEvent(vt,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(vt,new BMDestroyEvent(vt,this));break;default:this.triggerEvent(vt)}vt==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(vt,this.currentFrame,this.totalFrames,this.frameMult)),vt==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(vt,this.loop,this.playCount,this.frameMult)),vt==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(vt,this.frameMult)),vt==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(vt,this.firstFrame,this.totalFrames)),vt==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(vt,this))},AnimationItem.prototype.triggerRenderFrameError=function(vt){var ht=new BMRenderFrameErrorEvent(vt,this.currentFrame);this.triggerEvent("error",ht),this.onError&&this.onError.call(this,ht)},AnimationItem.prototype.triggerConfigError=function(vt){var ht=new BMConfigErrorEvent(vt,this.currentFrame);this.triggerEvent("error",ht),this.onError&&this.onError.call(this,ht)};var animationManager=function(){var vt={},ht=[],xt=0,_t=0,St=0,wt=!0,At=!1;function Ct(rn){for(var an=0,Yt=rn.target;an<_t;)ht[an].animation===Yt&&(ht.splice(an,1),an-=1,_t-=1,Yt.isPaused||kt()),an+=1}function Rt(rn,an){if(!rn)return null;for(var Yt=0;Yt<_t;){if(ht[Yt].elem===rn&&ht[Yt].elem!==null)return ht[Yt].animation;Yt+=1}var Jt=new AnimationItem;return Dt(Jt,rn),Jt.setData(rn,an),Jt}function It(){var rn,an=ht.length,Yt=[];for(rn=0;rn<an;rn+=1)Yt.push(ht[rn].animation);return Yt}function Lt(){St+=1,Qt()}function kt(){St-=1}function Dt(rn,an){rn.addEventListener("destroy",Ct),rn.addEventListener("_active",Lt),rn.addEventListener("_idle",kt),ht.push({elem:an,animation:rn}),_t+=1}function $t(rn){var an=new AnimationItem;return Dt(an,null),an.setParams(rn),an}function Ot(rn,an){var Yt;for(Yt=0;Yt<_t;Yt+=1)ht[Yt].animation.setSpeed(rn,an)}function zt(rn,an){var Yt;for(Yt=0;Yt<_t;Yt+=1)ht[Yt].animation.setDirection(rn,an)}function Gt(rn){var an;for(an=0;an<_t;an+=1)ht[an].animation.play(rn)}function Bt(rn){var an=rn-xt,Yt;for(Yt=0;Yt<_t;Yt+=1)ht[Yt].animation.advanceTime(an);xt=rn,St&&!At?window.requestAnimationFrame(Bt):wt=!0}function Ut(rn){xt=rn,window.requestAnimationFrame(Bt)}function Vt(rn){var an;for(an=0;an<_t;an+=1)ht[an].animation.pause(rn)}function Ht(rn,an,Yt){var Jt;for(Jt=0;Jt<_t;Jt+=1)ht[Jt].animation.goToAndStop(rn,an,Yt)}function Xt(rn){var an;for(an=0;an<_t;an+=1)ht[an].animation.stop(rn)}function qt(rn){var an;for(an=0;an<_t;an+=1)ht[an].animation.togglePause(rn)}function Kt(rn){var an;for(an=_t-1;an>=0;an-=1)ht[an].animation.destroy(rn)}function en(rn,an,Yt){var Jt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),on,ln=Jt.length;for(on=0;on<ln;on+=1)Yt&&Jt[on].setAttribute("data-bm-type",Yt),Rt(Jt[on],rn);if(an&&ln===0){Yt||(Yt="svg");var _n=document.getElementsByTagName("body")[0];_n.innerText="";var wn=createTag("div");wn.style.width="100%",wn.style.height="100%",wn.setAttribute("data-bm-type",Yt),_n.appendChild(wn),Rt(wn,rn)}}function tn(){var rn;for(rn=0;rn<_t;rn+=1)ht[rn].animation.resize()}function Qt(){!At&&St&&wt&&(window.requestAnimationFrame(Ut),wt=!1)}function sn(){At=!0}function un(){At=!1,Qt()}function dn(rn,an){var Yt;for(Yt=0;Yt<_t;Yt+=1)ht[Yt].animation.setVolume(rn,an)}function vn(rn){var an;for(an=0;an<_t;an+=1)ht[an].animation.mute(rn)}function pn(rn){var an;for(an=0;an<_t;an+=1)ht[an].animation.unmute(rn)}return vt.registerAnimation=Rt,vt.loadAnimation=$t,vt.setSpeed=Ot,vt.setDirection=zt,vt.play=Gt,vt.pause=Vt,vt.stop=Xt,vt.togglePause=qt,vt.searchAnimations=en,vt.resize=tn,vt.goToAndStop=Ht,vt.destroy=Kt,vt.freeze=sn,vt.unfreeze=un,vt.setVolume=dn,vt.mute=vn,vt.unmute=pn,vt.getRegisteredAnimations=It,vt}(),BezierFactory=function(){var vt={};vt.getBezierEasing=xt;var ht={};function xt(Ut,Vt,Ht,Xt,qt){var Kt=qt||("bez_"+Ut+"_"+Vt+"_"+Ht+"_"+Xt).replace(/\./g,"p");if(ht[Kt])return ht[Kt];var en=new Bt([Ut,Vt,Ht,Xt]);return ht[Kt]=en,en}var _t=4,St=.001,wt=1e-7,At=10,Ct=11,Rt=1/(Ct-1),It=typeof Float32Array=="function";function Lt(Ut,Vt){return 1-3*Vt+3*Ut}function kt(Ut,Vt){return 3*Vt-6*Ut}function Dt(Ut){return 3*Ut}function $t(Ut,Vt,Ht){return((Lt(Vt,Ht)*Ut+kt(Vt,Ht))*Ut+Dt(Vt))*Ut}function Ot(Ut,Vt,Ht){return 3*Lt(Vt,Ht)*Ut*Ut+2*kt(Vt,Ht)*Ut+Dt(Vt)}function zt(Ut,Vt,Ht,Xt,qt){var Kt,en,tn=0;do en=Vt+(Ht-Vt)/2,Kt=$t(en,Xt,qt)-Ut,Kt>0?Ht=en:Vt=en;while(Math.abs(Kt)>wt&&++tn<At);return en}function Gt(Ut,Vt,Ht,Xt){for(var qt=0;qt<_t;++qt){var Kt=Ot(Vt,Ht,Xt);if(Kt===0)return Vt;var en=$t(Vt,Ht,Xt)-Ut;Vt-=en/Kt}return Vt}function Bt(Ut){this._p=Ut,this._mSampleValues=It?new Float32Array(Ct):new Array(Ct),this._precomputed=!1,this.get=this.get.bind(this)}return Bt.prototype={get:function(Vt){var Ht=this._p[0],Xt=this._p[1],qt=this._p[2],Kt=this._p[3];return this._precomputed||this._precompute(),Ht===Xt&&qt===Kt?Vt:Vt===0?0:Vt===1?1:$t(this._getTForX(Vt),Xt,Kt)},_precompute:function(){var Vt=this._p[0],Ht=this._p[1],Xt=this._p[2],qt=this._p[3];this._precomputed=!0,(Vt!==Ht||Xt!==qt)&&this._calcSampleValues()},_calcSampleValues:function(){for(var Vt=this._p[0],Ht=this._p[2],Xt=0;Xt<Ct;++Xt)this._mSampleValues[Xt]=$t(Xt*Rt,Vt,Ht)},_getTForX:function(Vt){for(var Ht=this._p[0],Xt=this._p[2],qt=this._mSampleValues,Kt=0,en=1,tn=Ct-1;en!==tn&&qt[en]<=Vt;++en)Kt+=Rt;--en;var Qt=(Vt-qt[en])/(qt[en+1]-qt[en]),sn=Kt+Qt*Rt,un=Ot(sn,Ht,Xt);return un>=St?Gt(Vt,sn,Ht,Xt):un===0?sn:zt(Vt,Kt,Kt+Rt,Ht,Xt)}},vt}(),pooling=function(){function vt(ht){return ht.concat(createSizedArray(ht.length))}return{double:vt}}(),poolFactory=function(){return function(vt,ht,xt){var _t=0,St=vt,wt=createSizedArray(St),At={newElement:Ct,release:Rt};function Ct(){var It;return _t?(_t-=1,It=wt[_t]):It=ht(),It}function Rt(It){_t===St&&(wt=pooling.double(wt),St*=2),xt&&xt(It),wt[_t]=It,_t+=1}return At}}(),bezierLengthPool=function(){function vt(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,vt)}(),segmentsLengthPool=function(){function vt(){return{lengths:[],totalLength:0}}function ht(xt){var _t,St=xt.lengths.length;for(_t=0;_t<St;_t+=1)bezierLengthPool.release(xt.lengths[_t]);xt.lengths.length=0}return poolFactory(8,vt,ht)}();function bezFunction(){var vt=Math;function ht(Dt,$t,Ot,zt,Gt,Bt){var Ut=Dt*zt+$t*Gt+Ot*Bt-Gt*zt-Bt*Dt-Ot*$t;return Ut>-.001&&Ut<.001}function xt(Dt,$t,Ot,zt,Gt,Bt,Ut,Vt,Ht){if(Ot===0&&Bt===0&&Ht===0)return ht(Dt,$t,zt,Gt,Ut,Vt);var Xt=vt.sqrt(vt.pow(zt-Dt,2)+vt.pow(Gt-$t,2)+vt.pow(Bt-Ot,2)),qt=vt.sqrt(vt.pow(Ut-Dt,2)+vt.pow(Vt-$t,2)+vt.pow(Ht-Ot,2)),Kt=vt.sqrt(vt.pow(Ut-zt,2)+vt.pow(Vt-Gt,2)+vt.pow(Ht-Bt,2)),en;return Xt>qt?Xt>Kt?en=Xt-qt-Kt:en=Kt-qt-Xt:Kt>qt?en=Kt-qt-Xt:en=qt-Xt-Kt,en>-1e-4&&en<1e-4}var _t=function(){return function(Dt,$t,Ot,zt){var Gt=getDefaultCurveSegments(),Bt,Ut,Vt,Ht,Xt,qt=0,Kt,en=[],tn=[],Qt=bezierLengthPool.newElement();for(Vt=Ot.length,Bt=0;Bt<Gt;Bt+=1){for(Xt=Bt/(Gt-1),Kt=0,Ut=0;Ut<Vt;Ut+=1)Ht=bmPow(1-Xt,3)*Dt[Ut]+3*bmPow(1-Xt,2)*Xt*Ot[Ut]+3*(1-Xt)*bmPow(Xt,2)*zt[Ut]+bmPow(Xt,3)*$t[Ut],en[Ut]=Ht,tn[Ut]!==null&&(Kt+=bmPow(en[Ut]-tn[Ut],2)),tn[Ut]=en[Ut];Kt&&(Kt=bmSqrt(Kt),qt+=Kt),Qt.percents[Bt]=Xt,Qt.lengths[Bt]=qt}return Qt.addedLength=qt,Qt}}();function St(Dt){var $t=segmentsLengthPool.newElement(),Ot=Dt.c,zt=Dt.v,Gt=Dt.o,Bt=Dt.i,Ut,Vt=Dt._length,Ht=$t.lengths,Xt=0;for(Ut=0;Ut<Vt-1;Ut+=1)Ht[Ut]=_t(zt[Ut],zt[Ut+1],Gt[Ut],Bt[Ut+1]),Xt+=Ht[Ut].addedLength;return Ot&&Vt&&(Ht[Ut]=_t(zt[Ut],zt[0],Gt[Ut],Bt[0]),Xt+=Ht[Ut].addedLength),$t.totalLength=Xt,$t}function wt(Dt){this.segmentLength=0,this.points=new Array(Dt)}function At(Dt,$t){this.partialLength=Dt,this.point=$t}var Ct=function(){var Dt={};return function($t,Ot,zt,Gt){var Bt=($t[0]+"_"+$t[1]+"_"+Ot[0]+"_"+Ot[1]+"_"+zt[0]+"_"+zt[1]+"_"+Gt[0]+"_"+Gt[1]).replace(/\./g,"p");if(!Dt[Bt]){var Ut=getDefaultCurveSegments(),Vt,Ht,Xt,qt,Kt,en=0,tn,Qt,sn=null;$t.length===2&&($t[0]!==Ot[0]||$t[1]!==Ot[1])&&ht($t[0],$t[1],Ot[0],Ot[1],$t[0]+zt[0],$t[1]+zt[1])&&ht($t[0],$t[1],Ot[0],Ot[1],Ot[0]+Gt[0],Ot[1]+Gt[1])&&(Ut=2);var un=new wt(Ut);for(Xt=zt.length,Vt=0;Vt<Ut;Vt+=1){for(Qt=createSizedArray(Xt),Kt=Vt/(Ut-1),tn=0,Ht=0;Ht<Xt;Ht+=1)qt=bmPow(1-Kt,3)*$t[Ht]+3*bmPow(1-Kt,2)*Kt*($t[Ht]+zt[Ht])+3*(1-Kt)*bmPow(Kt,2)*(Ot[Ht]+Gt[Ht])+bmPow(Kt,3)*Ot[Ht],Qt[Ht]=qt,sn!==null&&(tn+=bmPow(Qt[Ht]-sn[Ht],2));tn=bmSqrt(tn),en+=tn,un.points[Vt]=new At(tn,Qt),sn=Qt}un.segmentLength=en,Dt[Bt]=un}return Dt[Bt]}}();function Rt(Dt,$t){var Ot=$t.percents,zt=$t.lengths,Gt=Ot.length,Bt=bmFloor((Gt-1)*Dt),Ut=Dt*$t.addedLength,Vt=0;if(Bt===Gt-1||Bt===0||Ut===zt[Bt])return Ot[Bt];for(var Ht=zt[Bt]>Ut?-1:1,Xt=!0;Xt;)if(zt[Bt]<=Ut&&zt[Bt+1]>Ut?(Vt=(Ut-zt[Bt])/(zt[Bt+1]-zt[Bt]),Xt=!1):Bt+=Ht,Bt<0||Bt>=Gt-1){if(Bt===Gt-1)return Ot[Bt];Xt=!1}return Ot[Bt]+(Ot[Bt+1]-Ot[Bt])*Vt}function It(Dt,$t,Ot,zt,Gt,Bt){var Ut=Rt(Gt,Bt),Vt=1-Ut,Ht=vt.round((Vt*Vt*Vt*Dt[0]+(Ut*Vt*Vt+Vt*Ut*Vt+Vt*Vt*Ut)*Ot[0]+(Ut*Ut*Vt+Vt*Ut*Ut+Ut*Vt*Ut)*zt[0]+Ut*Ut*Ut*$t[0])*1e3)/1e3,Xt=vt.round((Vt*Vt*Vt*Dt[1]+(Ut*Vt*Vt+Vt*Ut*Vt+Vt*Vt*Ut)*Ot[1]+(Ut*Ut*Vt+Vt*Ut*Ut+Ut*Vt*Ut)*zt[1]+Ut*Ut*Ut*$t[1])*1e3)/1e3;return[Ht,Xt]}var Lt=createTypedArray("float32",8);function kt(Dt,$t,Ot,zt,Gt,Bt,Ut){Gt<0?Gt=0:Gt>1&&(Gt=1);var Vt=Rt(Gt,Ut);Bt=Bt>1?1:Bt;var Ht=Rt(Bt,Ut),Xt,qt=Dt.length,Kt=1-Vt,en=1-Ht,tn=Kt*Kt*Kt,Qt=Vt*Kt*Kt*3,sn=Vt*Vt*Kt*3,un=Vt*Vt*Vt,dn=Kt*Kt*en,vn=Vt*Kt*en+Kt*Vt*en+Kt*Kt*Ht,pn=Vt*Vt*en+Kt*Vt*Ht+Vt*Kt*Ht,rn=Vt*Vt*Ht,an=Kt*en*en,Yt=Vt*en*en+Kt*Ht*en+Kt*en*Ht,Jt=Vt*Ht*en+Kt*Ht*Ht+Vt*en*Ht,on=Vt*Ht*Ht,ln=en*en*en,_n=Ht*en*en+en*Ht*en+en*en*Ht,wn=Ht*Ht*en+en*Ht*Ht+Ht*en*Ht,xn=Ht*Ht*Ht;for(Xt=0;Xt<qt;Xt+=1)Lt[Xt*4]=vt.round((tn*Dt[Xt]+Qt*Ot[Xt]+sn*zt[Xt]+un*$t[Xt])*1e3)/1e3,Lt[Xt*4+1]=vt.round((dn*Dt[Xt]+vn*Ot[Xt]+pn*zt[Xt]+rn*$t[Xt])*1e3)/1e3,Lt[Xt*4+2]=vt.round((an*Dt[Xt]+Yt*Ot[Xt]+Jt*zt[Xt]+on*$t[Xt])*1e3)/1e3,Lt[Xt*4+3]=vt.round((ln*Dt[Xt]+_n*Ot[Xt]+wn*zt[Xt]+xn*$t[Xt])*1e3)/1e3;return Lt}return{getSegmentsLength:St,getNewSegment:kt,getPointInSegment:It,buildBezierData:Ct,pointOnLine2D:ht,pointOnLine3D:xt}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(vt,ht){var xt=this.offsetTime,_t;this.propType==="multidimensional"&&(_t=createTypedArray("float32",this.pv.length));for(var St=ht.lastIndex,wt=St,At=this.keyframes.length-1,Ct=!0,Rt,It,Lt;Ct;){if(Rt=this.keyframes[wt],It=this.keyframes[wt+1],wt===At-1&&vt>=It.t-xt){Rt.h&&(Rt=It),St=0;break}if(It.t-xt>vt){St=wt;break}wt<At-1?wt+=1:(St=0,Ct=!1)}Lt=this.keyframesMetadata[wt]||{};var kt,Dt,$t,Ot,zt,Gt,Bt=It.t-xt,Ut=Rt.t-xt,Vt;if(Rt.to){Lt.bezierData||(Lt.bezierData=bez.buildBezierData(Rt.s,It.s||Rt.e,Rt.to,Rt.ti));var Ht=Lt.bezierData;if(vt>=Bt||vt<Ut){var Xt=vt>=Bt?Ht.points.length-1:0;for(Dt=Ht.points[Xt].point.length,kt=0;kt<Dt;kt+=1)_t[kt]=Ht.points[Xt].point[kt]}else{Lt.__fnct?Gt=Lt.__fnct:(Gt=BezierFactory.getBezierEasing(Rt.o.x,Rt.o.y,Rt.i.x,Rt.i.y,Rt.n).get,Lt.__fnct=Gt),$t=Gt((vt-Ut)/(Bt-Ut));var qt=Ht.segmentLength*$t,Kt,en=ht.lastFrame<vt&&ht._lastKeyframeIndex===wt?ht._lastAddedLength:0;for(zt=ht.lastFrame<vt&&ht._lastKeyframeIndex===wt?ht._lastPoint:0,Ct=!0,Ot=Ht.points.length;Ct;){if(en+=Ht.points[zt].partialLength,qt===0||$t===0||zt===Ht.points.length-1){for(Dt=Ht.points[zt].point.length,kt=0;kt<Dt;kt+=1)_t[kt]=Ht.points[zt].point[kt];break}else if(qt>=en&&qt<en+Ht.points[zt+1].partialLength){for(Kt=(qt-en)/Ht.points[zt+1].partialLength,Dt=Ht.points[zt].point.length,kt=0;kt<Dt;kt+=1)_t[kt]=Ht.points[zt].point[kt]+(Ht.points[zt+1].point[kt]-Ht.points[zt].point[kt])*Kt;break}zt<Ot-1?zt+=1:Ct=!1}ht._lastPoint=zt,ht._lastAddedLength=en-Ht.points[zt].partialLength,ht._lastKeyframeIndex=wt}}else{var tn,Qt,sn,un,dn;if(At=Rt.s.length,Vt=It.s||Rt.e,this.sh&&Rt.h!==1)if(vt>=Bt)_t[0]=Vt[0],_t[1]=Vt[1],_t[2]=Vt[2];else if(vt<=Ut)_t[0]=Rt.s[0],_t[1]=Rt.s[1],_t[2]=Rt.s[2];else{var vn=createQuaternion(Rt.s),pn=createQuaternion(Vt),rn=(vt-Ut)/(Bt-Ut);quaternionToEuler(_t,slerp(vn,pn,rn))}else for(wt=0;wt<At;wt+=1)Rt.h!==1&&(vt>=Bt?$t=1:vt<Ut?$t=0:(Rt.o.x.constructor===Array?(Lt.__fnct||(Lt.__fnct=[]),Lt.__fnct[wt]?Gt=Lt.__fnct[wt]:(tn=Rt.o.x[wt]===void 0?Rt.o.x[0]:Rt.o.x[wt],Qt=Rt.o.y[wt]===void 0?Rt.o.y[0]:Rt.o.y[wt],sn=Rt.i.x[wt]===void 0?Rt.i.x[0]:Rt.i.x[wt],un=Rt.i.y[wt]===void 0?Rt.i.y[0]:Rt.i.y[wt],Gt=BezierFactory.getBezierEasing(tn,Qt,sn,un).get,Lt.__fnct[wt]=Gt)):Lt.__fnct?Gt=Lt.__fnct:(tn=Rt.o.x,Qt=Rt.o.y,sn=Rt.i.x,un=Rt.i.y,Gt=BezierFactory.getBezierEasing(tn,Qt,sn,un).get,Rt.keyframeMetadata=Gt),$t=Gt((vt-Ut)/(Bt-Ut)))),Vt=It.s||Rt.e,dn=Rt.h===1?Rt.s[wt]:Rt.s[wt]+(Vt[wt]-Rt.s[wt])*$t,this.propType==="multidimensional"?_t[wt]=dn:_t=dn}return ht.lastIndex=St,_t}function slerp(vt,ht,xt){var _t=[],St=vt[0],wt=vt[1],At=vt[2],Ct=vt[3],Rt=ht[0],It=ht[1],Lt=ht[2],kt=ht[3],Dt,$t,Ot,zt,Gt;return $t=St*Rt+wt*It+At*Lt+Ct*kt,$t<0&&($t=-$t,Rt=-Rt,It=-It,Lt=-Lt,kt=-kt),1-$t>1e-6?(Dt=Math.acos($t),Ot=Math.sin(Dt),zt=Math.sin((1-xt)*Dt)/Ot,Gt=Math.sin(xt*Dt)/Ot):(zt=1-xt,Gt=xt),_t[0]=zt*St+Gt*Rt,_t[1]=zt*wt+Gt*It,_t[2]=zt*At+Gt*Lt,_t[3]=zt*Ct+Gt*kt,_t}function quaternionToEuler(vt,ht){var xt=ht[0],_t=ht[1],St=ht[2],wt=ht[3],At=Math.atan2(2*_t*wt-2*xt*St,1-2*_t*_t-2*St*St),Ct=Math.asin(2*xt*_t+2*St*wt),Rt=Math.atan2(2*xt*wt-2*_t*St,1-2*xt*xt-2*St*St);vt[0]=At/degToRads,vt[1]=Ct/degToRads,vt[2]=Rt/degToRads}function createQuaternion(vt){var ht=vt[0]*degToRads,xt=vt[1]*degToRads,_t=vt[2]*degToRads,St=Math.cos(ht/2),wt=Math.cos(xt/2),At=Math.cos(_t/2),Ct=Math.sin(ht/2),Rt=Math.sin(xt/2),It=Math.sin(_t/2),Lt=St*wt*At-Ct*Rt*It,kt=Ct*Rt*At+St*wt*It,Dt=Ct*wt*At+St*Rt*It,$t=St*Rt*At-Ct*wt*It;return[kt,Dt,$t,Lt]}function getValueAtCurrentTime(){var vt=this.comp.renderedFrame-this.offsetTime,ht=this.keyframes[0].t-this.offsetTime,xt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(vt===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=xt&&vt>=xt||this._caching.lastFrame<ht&&vt<ht))){this._caching.lastFrame>=vt&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var _t=this.interpolateValue(vt,this._caching);this.pv=_t}return this._caching.lastFrame=vt,this.pv}function setVValue(vt){var ht;if(this.propType==="unidimensional")ht=vt*this.mult,mathAbs(this.v-ht)>1e-5&&(this.v=ht,this._mdf=!0);else for(var xt=0,_t=this.v.length;xt<_t;)ht=vt[xt]*this.mult,mathAbs(this.v[xt]-ht)>1e-5&&(this.v[xt]=ht,this._mdf=!0),xt+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var vt,ht=this.effectsSequence.length,xt=this.kf?this.pv:this.data.k;for(vt=0;vt<ht;vt+=1)xt=this.effectsSequence[vt](xt);this.setVValue(xt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(vt){this.effectsSequence.push(vt),this.container.addDynamicProperty(this)}function ValueProperty(vt,ht,xt,_t){this.propType="unidimensional",this.mult=xt||1,this.data=ht,this.v=xt?ht.k*xt:ht.k,this.pv=ht.k,this._mdf=!1,this.elem=vt,this.container=_t,this.comp=vt.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(vt,ht,xt,_t){this.propType="multidimensional",this.mult=xt||1,this.data=ht,this._mdf=!1,this.elem=vt,this.container=_t,this.comp=vt.comp,this.k=!1,this.kf=!1,this.frameId=-1;var St,wt=ht.k.length;for(this.v=createTypedArray("float32",wt),this.pv=createTypedArray("float32",wt),this.vel=createTypedArray("float32",wt),St=0;St<wt;St+=1)this.v[St]=ht.k[St]*this.mult,this.pv[St]=ht.k[St];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(vt,ht,xt,_t){this.propType="unidimensional",this.keyframes=ht.k,this.keyframesMetadata=[],this.offsetTime=vt.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=ht,this.mult=xt||1,this.elem=vt,this.container=_t,this.comp=vt.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(vt,ht,xt,_t){this.propType="multidimensional";var St,wt=ht.k.length,At,Ct,Rt,It;for(St=0;St<wt-1;St+=1)ht.k[St].to&&ht.k[St].s&&ht.k[St+1]&&ht.k[St+1].s&&(At=ht.k[St].s,Ct=ht.k[St+1].s,Rt=ht.k[St].to,It=ht.k[St].ti,(At.length===2&&!(At[0]===Ct[0]&&At[1]===Ct[1])&&bez.pointOnLine2D(At[0],At[1],Ct[0],Ct[1],At[0]+Rt[0],At[1]+Rt[1])&&bez.pointOnLine2D(At[0],At[1],Ct[0],Ct[1],Ct[0]+It[0],Ct[1]+It[1])||At.length===3&&!(At[0]===Ct[0]&&At[1]===Ct[1]&&At[2]===Ct[2])&&bez.pointOnLine3D(At[0],At[1],At[2],Ct[0],Ct[1],Ct[2],At[0]+Rt[0],At[1]+Rt[1],At[2]+Rt[2])&&bez.pointOnLine3D(At[0],At[1],At[2],Ct[0],Ct[1],Ct[2],Ct[0]+It[0],Ct[1]+It[1],Ct[2]+It[2]))&&(ht.k[St].to=null,ht.k[St].ti=null),At[0]===Ct[0]&&At[1]===Ct[1]&&Rt[0]===0&&Rt[1]===0&&It[0]===0&&It[1]===0&&(At.length===2||At[2]===Ct[2]&&Rt[2]===0&&It[2]===0)&&(ht.k[St].to=null,ht.k[St].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=ht,this.keyframes=ht.k,this.keyframesMetadata=[],this.offsetTime=vt.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=xt||1,this.elem=vt,this.container=_t,this.comp=vt.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var Lt=ht.k[0].s.length;for(this.v=createTypedArray("float32",Lt),this.pv=createTypedArray("float32",Lt),St=0;St<Lt;St+=1)this.v[St]=initFrame,this.pv[St]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",Lt)},this.addEffect=addEffect}var PropertyFactory=function(){function vt(xt,_t,St,wt,At){_t.sid&&(_t=xt.globalData.slotManager.getProp(_t));var Ct;if(!_t.k.length)Ct=new ValueProperty(xt,_t,wt,At);else if(typeof _t.k[0]=="number")Ct=new MultiDimensionalProperty(xt,_t,wt,At);else switch(St){case 0:Ct=new KeyframedValueProperty(xt,_t,wt,At);break;case 1:Ct=new KeyframedMultidimensionalProperty(xt,_t,wt,At);break}return Ct.effectsSequence.length&&At.addDynamicProperty(Ct),Ct}var ht={getProp:vt};return ht}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(ht){this.dynamicProperties.indexOf(ht)===-1&&(this.dynamicProperties.push(ht),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var ht,xt=this.dynamicProperties.length;for(ht=0;ht<xt;ht+=1)this.dynamicProperties[ht].getValue(),this.dynamicProperties[ht]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(ht){this.container=ht,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function vt(){return createTypedArray("float32",2)}return poolFactory(8,vt)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(vt,ht){this.c=vt,this.setLength(ht);for(var xt=0;xt<ht;)this.v[xt]=pointPool.newElement(),this.o[xt]=pointPool.newElement(),this.i[xt]=pointPool.newElement(),xt+=1},ShapePath.prototype.setLength=function(vt){for(;this._maxLength<vt;)this.doubleArrayLength();this._length=vt},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(vt,ht,xt,_t,St){var wt;switch(this._length=Math.max(this._length,_t+1),this._length>=this._maxLength&&this.doubleArrayLength(),xt){case"v":wt=this.v;break;case"i":wt=this.i;break;case"o":wt=this.o;break;default:wt=[];break}(!wt[_t]||wt[_t]&&!St)&&(wt[_t]=pointPool.newElement()),wt[_t][0]=vt,wt[_t][1]=ht},ShapePath.prototype.setTripleAt=function(vt,ht,xt,_t,St,wt,At,Ct){this.setXYAt(vt,ht,"v",At,Ct),this.setXYAt(xt,_t,"o",At,Ct),this.setXYAt(St,wt,"i",At,Ct)},ShapePath.prototype.reverse=function(){var vt=new ShapePath;vt.setPathData(this.c,this._length);var ht=this.v,xt=this.o,_t=this.i,St=0;this.c&&(vt.setTripleAt(ht[0][0],ht[0][1],_t[0][0],_t[0][1],xt[0][0],xt[0][1],0,!1),St=1);var wt=this._length-1,At=this._length,Ct;for(Ct=St;Ct<At;Ct+=1)vt.setTripleAt(ht[wt][0],ht[wt][1],_t[wt][0],_t[wt][1],xt[wt][0],xt[wt][1],Ct,!1),wt-=1;return vt},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function vt(){return new ShapePath}function ht(St){var wt=St._length,At;for(At=0;At<wt;At+=1)pointPool.release(St.v[At]),pointPool.release(St.i[At]),pointPool.release(St.o[At]),St.v[At]=null,St.i[At]=null,St.o[At]=null;St._length=0,St.c=!1}function xt(St){var wt=_t.newElement(),At,Ct=St._length===void 0?St.v.length:St._length;for(wt.setLength(Ct),wt.c=St.c,At=0;At<Ct;At+=1)wt.setTripleAt(St.v[At][0],St.v[At][1],St.o[At][0],St.o[At][1],St.i[At][0],St.i[At][1],At);return wt}var _t=poolFactory(4,vt,ht);return _t.clone=xt,_t}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(vt){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=vt,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var vt;for(vt=0;vt<this._length;vt+=1)shapePool.release(this.shapes[vt]);this._length=0};var shapeCollectionPool=function(){var vt={newShapeCollection:St,release:wt},ht=0,xt=4,_t=createSizedArray(xt);function St(){var At;return ht?(ht-=1,At=_t[ht]):At=new ShapeCollection,At}function wt(At){var Ct,Rt=At._length;for(Ct=0;Ct<Rt;Ct+=1)shapePool.release(At.shapes[Ct]);At._length=0,ht===xt&&(_t=pooling.double(_t),xt*=2),_t[ht]=At,ht+=1}return vt}(),ShapePropertyFactory=function(){var vt=-999999;function ht(Bt,Ut,Vt){var Ht=Vt.lastIndex,Xt,qt,Kt,en,tn,Qt,sn,un,dn,vn=this.keyframes;if(Bt<vn[0].t-this.offsetTime)Xt=vn[0].s[0],Kt=!0,Ht=0;else if(Bt>=vn[vn.length-1].t-this.offsetTime)Xt=vn[vn.length-1].s?vn[vn.length-1].s[0]:vn[vn.length-2].e[0],Kt=!0;else{for(var pn=Ht,rn=vn.length-1,an=!0,Yt,Jt,on;an&&(Yt=vn[pn],Jt=vn[pn+1],!(Jt.t-this.offsetTime>Bt));)pn<rn-1?pn+=1:an=!1;if(on=this.keyframesMetadata[pn]||{},Kt=Yt.h===1,Ht=pn,!Kt){if(Bt>=Jt.t-this.offsetTime)un=1;else if(Bt<Yt.t-this.offsetTime)un=0;else{var ln;on.__fnct?ln=on.__fnct:(ln=BezierFactory.getBezierEasing(Yt.o.x,Yt.o.y,Yt.i.x,Yt.i.y).get,on.__fnct=ln),un=ln((Bt-(Yt.t-this.offsetTime))/(Jt.t-this.offsetTime-(Yt.t-this.offsetTime)))}qt=Jt.s?Jt.s[0]:Yt.e[0]}Xt=Yt.s[0]}for(Qt=Ut._length,sn=Xt.i[0].length,Vt.lastIndex=Ht,en=0;en<Qt;en+=1)for(tn=0;tn<sn;tn+=1)dn=Kt?Xt.i[en][tn]:Xt.i[en][tn]+(qt.i[en][tn]-Xt.i[en][tn])*un,Ut.i[en][tn]=dn,dn=Kt?Xt.o[en][tn]:Xt.o[en][tn]+(qt.o[en][tn]-Xt.o[en][tn])*un,Ut.o[en][tn]=dn,dn=Kt?Xt.v[en][tn]:Xt.v[en][tn]+(qt.v[en][tn]-Xt.v[en][tn])*un,Ut.v[en][tn]=dn}function xt(){var Bt=this.comp.renderedFrame-this.offsetTime,Ut=this.keyframes[0].t-this.offsetTime,Vt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Ht=this._caching.lastFrame;return Ht!==vt&&(Ht<Ut&&Bt<Ut||Ht>Vt&&Bt>Vt)||(this._caching.lastIndex=Ht<Bt?this._caching.lastIndex:0,this.interpolateShape(Bt,this.pv,this._caching)),this._caching.lastFrame=Bt,this.pv}function _t(){this.paths=this.localShapeCollection}function St(Bt,Ut){if(Bt._length!==Ut._length||Bt.c!==Ut.c)return!1;var Vt,Ht=Bt._length;for(Vt=0;Vt<Ht;Vt+=1)if(Bt.v[Vt][0]!==Ut.v[Vt][0]||Bt.v[Vt][1]!==Ut.v[Vt][1]||Bt.o[Vt][0]!==Ut.o[Vt][0]||Bt.o[Vt][1]!==Ut.o[Vt][1]||Bt.i[Vt][0]!==Ut.i[Vt][0]||Bt.i[Vt][1]!==Ut.i[Vt][1])return!1;return!0}function wt(Bt){St(this.v,Bt)||(this.v=shapePool.clone(Bt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function At(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Bt;this.kf?Bt=this.pv:this.data.ks?Bt=this.data.ks.k:Bt=this.data.pt.k;var Ut,Vt=this.effectsSequence.length;for(Ut=0;Ut<Vt;Ut+=1)Bt=this.effectsSequence[Ut](Bt);this.setVValue(Bt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Ct(Bt,Ut,Vt){this.propType="shape",this.comp=Bt.comp,this.container=Bt,this.elem=Bt,this.data=Ut,this.k=!1,this.kf=!1,this._mdf=!1;var Ht=Vt===3?Ut.pt.k:Ut.ks.k;this.v=shapePool.clone(Ht),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=_t,this.effectsSequence=[]}function Rt(Bt){this.effectsSequence.push(Bt),this.container.addDynamicProperty(this)}Ct.prototype.interpolateShape=ht,Ct.prototype.getValue=At,Ct.prototype.setVValue=wt,Ct.prototype.addEffect=Rt;function It(Bt,Ut,Vt){this.propType="shape",this.comp=Bt.comp,this.elem=Bt,this.container=Bt,this.offsetTime=Bt.data.st,this.keyframes=Vt===3?Ut.pt.k:Ut.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Ht=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Ht),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=vt,this.reset=_t,this._caching={lastFrame:vt,lastIndex:0},this.effectsSequence=[xt.bind(this)]}It.prototype.getValue=At,It.prototype.interpolateShape=ht,It.prototype.setVValue=wt,It.prototype.addEffect=Rt;var Lt=function(){var Bt=roundCorner;function Ut(Vt,Ht){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Ht.d,this.elem=Vt,this.comp=Vt.comp,this.frameId=-1,this.initDynamicPropertyContainer(Vt),this.p=PropertyFactory.getProp(Vt,Ht.p,1,0,this),this.s=PropertyFactory.getProp(Vt,Ht.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Ut.prototype={reset:_t,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Ht=this.p.v[0],Xt=this.p.v[1],qt=this.s.v[0]/2,Kt=this.s.v[1]/2,en=this.d!==3,tn=this.v;tn.v[0][0]=Ht,tn.v[0][1]=Xt-Kt,tn.v[1][0]=en?Ht+qt:Ht-qt,tn.v[1][1]=Xt,tn.v[2][0]=Ht,tn.v[2][1]=Xt+Kt,tn.v[3][0]=en?Ht-qt:Ht+qt,tn.v[3][1]=Xt,tn.i[0][0]=en?Ht-qt*Bt:Ht+qt*Bt,tn.i[0][1]=Xt-Kt,tn.i[1][0]=en?Ht+qt:Ht-qt,tn.i[1][1]=Xt-Kt*Bt,tn.i[2][0]=en?Ht+qt*Bt:Ht-qt*Bt,tn.i[2][1]=Xt+Kt,tn.i[3][0]=en?Ht-qt:Ht+qt,tn.i[3][1]=Xt+Kt*Bt,tn.o[0][0]=en?Ht+qt*Bt:Ht-qt*Bt,tn.o[0][1]=Xt-Kt,tn.o[1][0]=en?Ht+qt:Ht-qt,tn.o[1][1]=Xt+Kt*Bt,tn.o[2][0]=en?Ht-qt*Bt:Ht+qt*Bt,tn.o[2][1]=Xt+Kt,tn.o[3][0]=en?Ht-qt:Ht+qt,tn.o[3][1]=Xt-Kt*Bt}},extendPrototype([DynamicPropertyContainer],Ut),Ut}(),kt=function(){function Bt(Ut,Vt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Ut,this.comp=Ut.comp,this.data=Vt,this.frameId=-1,this.d=Vt.d,this.initDynamicPropertyContainer(Ut),Vt.sy===1?(this.ir=PropertyFactory.getProp(Ut,Vt.ir,0,0,this),this.is=PropertyFactory.getProp(Ut,Vt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Ut,Vt.pt,0,0,this),this.p=PropertyFactory.getProp(Ut,Vt.p,1,0,this),this.r=PropertyFactory.getProp(Ut,Vt.r,0,degToRads,this),this.or=PropertyFactory.getProp(Ut,Vt.or,0,0,this),this.os=PropertyFactory.getProp(Ut,Vt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Bt.prototype={reset:_t,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Vt=Math.floor(this.pt.v)*2,Ht=Math.PI*2/Vt,Xt=!0,qt=this.or.v,Kt=this.ir.v,en=this.os.v,tn=this.is.v,Qt=2*Math.PI*qt/(Vt*2),sn=2*Math.PI*Kt/(Vt*2),un,dn,vn,pn,rn=-Math.PI/2;rn+=this.r.v;var an=this.data.d===3?-1:1;for(this.v._length=0,un=0;un<Vt;un+=1){dn=Xt?qt:Kt,vn=Xt?en:tn,pn=Xt?Qt:sn;var Yt=dn*Math.cos(rn),Jt=dn*Math.sin(rn),on=Yt===0&&Jt===0?0:Jt/Math.sqrt(Yt*Yt+Jt*Jt),ln=Yt===0&&Jt===0?0:-Yt/Math.sqrt(Yt*Yt+Jt*Jt);Yt+=+this.p.v[0],Jt+=+this.p.v[1],this.v.setTripleAt(Yt,Jt,Yt-on*pn*vn*an,Jt-ln*pn*vn*an,Yt+on*pn*vn*an,Jt+ln*pn*vn*an,un,!0),Xt=!Xt,rn+=Ht*an}},convertPolygonToPath:function(){var Vt=Math.floor(this.pt.v),Ht=Math.PI*2/Vt,Xt=this.or.v,qt=this.os.v,Kt=2*Math.PI*Xt/(Vt*4),en,tn=-Math.PI*.5,Qt=this.data.d===3?-1:1;for(tn+=this.r.v,this.v._length=0,en=0;en<Vt;en+=1){var sn=Xt*Math.cos(tn),un=Xt*Math.sin(tn),dn=sn===0&&un===0?0:un/Math.sqrt(sn*sn+un*un),vn=sn===0&&un===0?0:-sn/Math.sqrt(sn*sn+un*un);sn+=+this.p.v[0],un+=+this.p.v[1],this.v.setTripleAt(sn,un,sn-dn*Kt*qt*Qt,un-vn*Kt*qt*Qt,sn+dn*Kt*qt*Qt,un+vn*Kt*qt*Qt,en,!0),tn+=Ht*Qt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Bt),Bt}(),Dt=function(){function Bt(Ut,Vt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Ut,this.comp=Ut.comp,this.frameId=-1,this.d=Vt.d,this.initDynamicPropertyContainer(Ut),this.p=PropertyFactory.getProp(Ut,Vt.p,1,0,this),this.s=PropertyFactory.getProp(Ut,Vt.s,1,0,this),this.r=PropertyFactory.getProp(Ut,Vt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Bt.prototype={convertRectToPath:function(){var Vt=this.p.v[0],Ht=this.p.v[1],Xt=this.s.v[0]/2,qt=this.s.v[1]/2,Kt=bmMin(Xt,qt,this.r.v),en=Kt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Vt+Xt,Ht-qt+Kt,Vt+Xt,Ht-qt+Kt,Vt+Xt,Ht-qt+en,0,!0),this.v.setTripleAt(Vt+Xt,Ht+qt-Kt,Vt+Xt,Ht+qt-en,Vt+Xt,Ht+qt-Kt,1,!0),Kt!==0?(this.v.setTripleAt(Vt+Xt-Kt,Ht+qt,Vt+Xt-Kt,Ht+qt,Vt+Xt-en,Ht+qt,2,!0),this.v.setTripleAt(Vt-Xt+Kt,Ht+qt,Vt-Xt+en,Ht+qt,Vt-Xt+Kt,Ht+qt,3,!0),this.v.setTripleAt(Vt-Xt,Ht+qt-Kt,Vt-Xt,Ht+qt-Kt,Vt-Xt,Ht+qt-en,4,!0),this.v.setTripleAt(Vt-Xt,Ht-qt+Kt,Vt-Xt,Ht-qt+en,Vt-Xt,Ht-qt+Kt,5,!0),this.v.setTripleAt(Vt-Xt+Kt,Ht-qt,Vt-Xt+Kt,Ht-qt,Vt-Xt+en,Ht-qt,6,!0),this.v.setTripleAt(Vt+Xt-Kt,Ht-qt,Vt+Xt-en,Ht-qt,Vt+Xt-Kt,Ht-qt,7,!0)):(this.v.setTripleAt(Vt-Xt,Ht+qt,Vt-Xt+en,Ht+qt,Vt-Xt,Ht+qt,2),this.v.setTripleAt(Vt-Xt,Ht-qt,Vt-Xt,Ht-qt+en,Vt-Xt,Ht-qt,3))):(this.v.setTripleAt(Vt+Xt,Ht-qt+Kt,Vt+Xt,Ht-qt+en,Vt+Xt,Ht-qt+Kt,0,!0),Kt!==0?(this.v.setTripleAt(Vt+Xt-Kt,Ht-qt,Vt+Xt-Kt,Ht-qt,Vt+Xt-en,Ht-qt,1,!0),this.v.setTripleAt(Vt-Xt+Kt,Ht-qt,Vt-Xt+en,Ht-qt,Vt-Xt+Kt,Ht-qt,2,!0),this.v.setTripleAt(Vt-Xt,Ht-qt+Kt,Vt-Xt,Ht-qt+Kt,Vt-Xt,Ht-qt+en,3,!0),this.v.setTripleAt(Vt-Xt,Ht+qt-Kt,Vt-Xt,Ht+qt-en,Vt-Xt,Ht+qt-Kt,4,!0),this.v.setTripleAt(Vt-Xt+Kt,Ht+qt,Vt-Xt+Kt,Ht+qt,Vt-Xt+en,Ht+qt,5,!0),this.v.setTripleAt(Vt+Xt-Kt,Ht+qt,Vt+Xt-en,Ht+qt,Vt+Xt-Kt,Ht+qt,6,!0),this.v.setTripleAt(Vt+Xt,Ht+qt-Kt,Vt+Xt,Ht+qt-Kt,Vt+Xt,Ht+qt-en,7,!0)):(this.v.setTripleAt(Vt-Xt,Ht-qt,Vt-Xt+en,Ht-qt,Vt-Xt,Ht-qt,1,!0),this.v.setTripleAt(Vt-Xt,Ht+qt,Vt-Xt,Ht+qt-en,Vt-Xt,Ht+qt,2,!0),this.v.setTripleAt(Vt+Xt,Ht+qt,Vt+Xt-en,Ht+qt,Vt+Xt,Ht+qt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:_t},extendPrototype([DynamicPropertyContainer],Bt),Bt}();function $t(Bt,Ut,Vt){var Ht;if(Vt===3||Vt===4){var Xt=Vt===3?Ut.pt:Ut.ks,qt=Xt.k;qt.length?Ht=new It(Bt,Ut,Vt):Ht=new Ct(Bt,Ut,Vt)}else Vt===5?Ht=new Dt(Bt,Ut):Vt===6?Ht=new Lt(Bt,Ut):Vt===7&&(Ht=new kt(Bt,Ut));return Ht.k&&Bt.addDynamicProperty(Ht),Ht}function Ot(){return Ct}function zt(){return It}var Gt={};return Gt.getShapeProp=$t,Gt.getConstructorFunction=Ot,Gt.getKeyframedConstructorFunction=zt,Gt}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var vt=Math.cos,ht=Math.sin,xt=Math.tan,_t=Math.round;function St(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function wt(Yt){if(Yt===0)return this;var Jt=vt(Yt),on=ht(Yt);return this._t(Jt,-on,0,0,on,Jt,0,0,0,0,1,0,0,0,0,1)}function At(Yt){if(Yt===0)return this;var Jt=vt(Yt),on=ht(Yt);return this._t(1,0,0,0,0,Jt,-on,0,0,on,Jt,0,0,0,0,1)}function Ct(Yt){if(Yt===0)return this;var Jt=vt(Yt),on=ht(Yt);return this._t(Jt,0,on,0,0,1,0,0,-on,0,Jt,0,0,0,0,1)}function Rt(Yt){if(Yt===0)return this;var Jt=vt(Yt),on=ht(Yt);return this._t(Jt,-on,0,0,on,Jt,0,0,0,0,1,0,0,0,0,1)}function It(Yt,Jt){return this._t(1,Jt,Yt,1,0,0)}function Lt(Yt,Jt){return this.shear(xt(Yt),xt(Jt))}function kt(Yt,Jt){var on=vt(Jt),ln=ht(Jt);return this._t(on,ln,0,0,-ln,on,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,xt(Yt),1,0,0,0,0,1,0,0,0,0,1)._t(on,-ln,0,0,ln,on,0,0,0,0,1,0,0,0,0,1)}function Dt(Yt,Jt,on){return!on&&on!==0&&(on=1),Yt===1&&Jt===1&&on===1?this:this._t(Yt,0,0,0,0,Jt,0,0,0,0,on,0,0,0,0,1)}function $t(Yt,Jt,on,ln,_n,wn,xn,Pn,Bn,Hn,or,mr,lr,dr,hn,Dn){return this.props[0]=Yt,this.props[1]=Jt,this.props[2]=on,this.props[3]=ln,this.props[4]=_n,this.props[5]=wn,this.props[6]=xn,this.props[7]=Pn,this.props[8]=Bn,this.props[9]=Hn,this.props[10]=or,this.props[11]=mr,this.props[12]=lr,this.props[13]=dr,this.props[14]=hn,this.props[15]=Dn,this}function Ot(Yt,Jt,on){return on=on||0,Yt!==0||Jt!==0||on!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Yt,Jt,on,1):this}function zt(Yt,Jt,on,ln,_n,wn,xn,Pn,Bn,Hn,or,mr,lr,dr,hn,Dn){var An=this.props;if(Yt===1&&Jt===0&&on===0&&ln===0&&_n===0&&wn===1&&xn===0&&Pn===0&&Bn===0&&Hn===0&&or===1&&mr===0)return An[12]=An[12]*Yt+An[15]*lr,An[13]=An[13]*wn+An[15]*dr,An[14]=An[14]*or+An[15]*hn,An[15]*=Dn,this._identityCalculated=!1,this;var Zn=An[0],$n=An[1],ur=An[2],qn=An[3],er=An[4],mn=An[5],cn=An[6],Cn=An[7],Gn=An[8],On=An[9],zn=An[10],ar=An[11],Yn=An[12],tr=An[13],br=An[14],Wn=An[15];return An[0]=Zn*Yt+$n*_n+ur*Bn+qn*lr,An[1]=Zn*Jt+$n*wn+ur*Hn+qn*dr,An[2]=Zn*on+$n*xn+ur*or+qn*hn,An[3]=Zn*ln+$n*Pn+ur*mr+qn*Dn,An[4]=er*Yt+mn*_n+cn*Bn+Cn*lr,An[5]=er*Jt+mn*wn+cn*Hn+Cn*dr,An[6]=er*on+mn*xn+cn*or+Cn*hn,An[7]=er*ln+mn*Pn+cn*mr+Cn*Dn,An[8]=Gn*Yt+On*_n+zn*Bn+ar*lr,An[9]=Gn*Jt+On*wn+zn*Hn+ar*dr,An[10]=Gn*on+On*xn+zn*or+ar*hn,An[11]=Gn*ln+On*Pn+zn*mr+ar*Dn,An[12]=Yn*Yt+tr*_n+br*Bn+Wn*lr,An[13]=Yn*Jt+tr*wn+br*Hn+Wn*dr,An[14]=Yn*on+tr*xn+br*or+Wn*hn,An[15]=Yn*ln+tr*Pn+br*mr+Wn*Dn,this._identityCalculated=!1,this}function Gt(Yt){var Jt=Yt.props;return this.transform(Jt[0],Jt[1],Jt[2],Jt[3],Jt[4],Jt[5],Jt[6],Jt[7],Jt[8],Jt[9],Jt[10],Jt[11],Jt[12],Jt[13],Jt[14],Jt[15])}function Bt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Ut(Yt){for(var Jt=0;Jt<16;){if(Yt.props[Jt]!==this.props[Jt])return!1;Jt+=1}return!0}function Vt(Yt){var Jt;for(Jt=0;Jt<16;Jt+=1)Yt.props[Jt]=this.props[Jt];return Yt}function Ht(Yt){var Jt;for(Jt=0;Jt<16;Jt+=1)this.props[Jt]=Yt[Jt]}function Xt(Yt,Jt,on){return{x:Yt*this.props[0]+Jt*this.props[4]+on*this.props[8]+this.props[12],y:Yt*this.props[1]+Jt*this.props[5]+on*this.props[9]+this.props[13],z:Yt*this.props[2]+Jt*this.props[6]+on*this.props[10]+this.props[14]}}function qt(Yt,Jt,on){return Yt*this.props[0]+Jt*this.props[4]+on*this.props[8]+this.props[12]}function Kt(Yt,Jt,on){return Yt*this.props[1]+Jt*this.props[5]+on*this.props[9]+this.props[13]}function en(Yt,Jt,on){return Yt*this.props[2]+Jt*this.props[6]+on*this.props[10]+this.props[14]}function tn(){var Yt=this.props[0]*this.props[5]-this.props[1]*this.props[4],Jt=this.props[5]/Yt,on=-this.props[1]/Yt,ln=-this.props[4]/Yt,_n=this.props[0]/Yt,wn=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Yt,xn=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Yt,Pn=new Matrix;return Pn.props[0]=Jt,Pn.props[1]=on,Pn.props[4]=ln,Pn.props[5]=_n,Pn.props[12]=wn,Pn.props[13]=xn,Pn}function Qt(Yt){var Jt=this.getInverseMatrix();return Jt.applyToPointArray(Yt[0],Yt[1],Yt[2]||0)}function sn(Yt){var Jt,on=Yt.length,ln=[];for(Jt=0;Jt<on;Jt+=1)ln[Jt]=Qt(Yt[Jt]);return ln}function un(Yt,Jt,on){var ln=createTypedArray("float32",6);if(this.isIdentity())ln[0]=Yt[0],ln[1]=Yt[1],ln[2]=Jt[0],ln[3]=Jt[1],ln[4]=on[0],ln[5]=on[1];else{var _n=this.props[0],wn=this.props[1],xn=this.props[4],Pn=this.props[5],Bn=this.props[12],Hn=this.props[13];ln[0]=Yt[0]*_n+Yt[1]*xn+Bn,ln[1]=Yt[0]*wn+Yt[1]*Pn+Hn,ln[2]=Jt[0]*_n+Jt[1]*xn+Bn,ln[3]=Jt[0]*wn+Jt[1]*Pn+Hn,ln[4]=on[0]*_n+on[1]*xn+Bn,ln[5]=on[0]*wn+on[1]*Pn+Hn}return ln}function dn(Yt,Jt,on){var ln;return this.isIdentity()?ln=[Yt,Jt,on]:ln=[Yt*this.props[0]+Jt*this.props[4]+on*this.props[8]+this.props[12],Yt*this.props[1]+Jt*this.props[5]+on*this.props[9]+this.props[13],Yt*this.props[2]+Jt*this.props[6]+on*this.props[10]+this.props[14]],ln}function vn(Yt,Jt){if(this.isIdentity())return Yt+","+Jt;var on=this.props;return Math.round((Yt*on[0]+Jt*on[4]+on[12])*100)/100+","+Math.round((Yt*on[1]+Jt*on[5]+on[13])*100)/100}function pn(){for(var Yt=0,Jt=this.props,on="matrix3d(",ln=1e4;Yt<16;)on+=_t(Jt[Yt]*ln)/ln,on+=Yt===15?")":",",Yt+=1;return on}function rn(Yt){var Jt=1e4;return Yt<1e-6&&Yt>0||Yt>-1e-6&&Yt<0?_t(Yt*Jt)/Jt:Yt}function an(){var Yt=this.props,Jt=rn(Yt[0]),on=rn(Yt[1]),ln=rn(Yt[4]),_n=rn(Yt[5]),wn=rn(Yt[12]),xn=rn(Yt[13]);return"matrix("+Jt+","+on+","+ln+","+_n+","+wn+","+xn+")"}return function(){this.reset=St,this.rotate=wt,this.rotateX=At,this.rotateY=Ct,this.rotateZ=Rt,this.skew=Lt,this.skewFromAxis=kt,this.shear=It,this.scale=Dt,this.setTransform=$t,this.translate=Ot,this.transform=zt,this.multiply=Gt,this.applyToPoint=Xt,this.applyToX=qt,this.applyToY=Kt,this.applyToZ=en,this.applyToPointArray=dn,this.applyToTriplePoints=un,this.applyToPointStringified=vn,this.toCSS=pn,this.to2dCSS=an,this.clone=Vt,this.cloneFromProps=Ht,this.equals=Ut,this.inversePoints=sn,this.inversePoint=Qt,this.getInverseMatrix=tn,this._t=this.transform,this.isIdentity=Bt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(vt){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht},_typeof$3(vt)}var lottie={};function setLocation(vt){setLocationHref(vt)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(vt){setSubframeEnabled(vt)}function setPrefix(vt){setIdPrefix(vt)}function loadAnimation(vt){return animationManager.loadAnimation(vt)}function setQuality(vt){if(typeof vt=="string")switch(vt){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(vt)&&vt>1&&setDefaultCurveSegments(vt)}function inBrowser(){return typeof navigator<"u"}function installPlugin(vt,ht){vt==="expressions"&&setExpressionsPlugin(ht)}function getFactory(vt){switch(vt){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(vt){for(var ht=queryString.split("&"),xt=0;xt<ht.length;xt+=1){var _t=ht[xt].split("=");if(decodeURIComponent(_t[0])==vt)return decodeURIComponent(_t[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(vt){}var ShapeModifiers=function(){var vt={},ht={};vt.registerModifier=xt,vt.getModifier=_t;function xt(St,wt){ht[St]||(ht[St]=wt)}function _t(St,wt,At){return new ht[St](wt,At)}return vt}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(vt){if(!this.closed){vt.sh.container.addDynamicProperty(vt.sh);var ht={shape:vt.sh,data:vt,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(ht),this.addShapeToModifier(ht),this._isAnimated&&vt.setAsAnimated()}},ShapeModifier.prototype.init=function(vt,ht){this.shapes=[],this.elem=vt,this.initDynamicPropertyContainer(vt),this.initModifierProperties(vt,ht),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(vt,ht){this.s=PropertyFactory.getProp(vt,ht.s,0,.01,this),this.e=PropertyFactory.getProp(vt,ht.e,0,.01,this),this.o=PropertyFactory.getProp(vt,ht.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=ht.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(vt){vt.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(vt,ht,xt,_t,St){var wt=[];ht<=1?wt.push({s:vt,e:ht}):vt>=1?wt.push({s:vt-1,e:ht-1}):(wt.push({s:vt,e:1}),wt.push({s:0,e:ht-1}));var At=[],Ct,Rt=wt.length,It;for(Ct=0;Ct<Rt;Ct+=1)if(It=wt[Ct],!(It.e*St<_t||It.s*St>_t+xt)){var Lt,kt;It.s*St<=_t?Lt=0:Lt=(It.s*St-_t)/xt,It.e*St>=_t+xt?kt=1:kt=(It.e*St-_t)/xt,At.push([Lt,kt])}return At.length||At.push([0,0]),At},TrimModifier.prototype.releasePathsData=function(vt){var ht,xt=vt.length;for(ht=0;ht<xt;ht+=1)segmentsLengthPool.release(vt[ht]);return vt.length=0,vt},TrimModifier.prototype.processShapes=function(vt){var ht,xt;if(this._mdf||vt){var _t=this.o.v%360/360;if(_t<0&&(_t+=1),this.s.v>1?ht=1+_t:this.s.v<0?ht=0+_t:ht=this.s.v+_t,this.e.v>1?xt=1+_t:this.e.v<0?xt=0+_t:xt=this.e.v+_t,ht>xt){var St=ht;ht=xt,xt=St}ht=Math.round(ht*1e4)*1e-4,xt=Math.round(xt*1e4)*1e-4,this.sValue=ht,this.eValue=xt}else ht=this.sValue,xt=this.eValue;var wt,At,Ct=this.shapes.length,Rt,It,Lt,kt,Dt,$t=0;if(xt===ht)for(At=0;At<Ct;At+=1)this.shapes[At].localShapeCollection.releaseShapes(),this.shapes[At].shape._mdf=!0,this.shapes[At].shape.paths=this.shapes[At].localShapeCollection,this._mdf&&(this.shapes[At].pathsData.length=0);else if(xt===1&&ht===0||xt===0&&ht===1){if(this._mdf)for(At=0;At<Ct;At+=1)this.shapes[At].pathsData.length=0,this.shapes[At].shape._mdf=!0}else{var Ot=[],zt,Gt;for(At=0;At<Ct;At+=1)if(zt=this.shapes[At],!zt.shape._mdf&&!this._mdf&&!vt&&this.m!==2)zt.shape.paths=zt.localShapeCollection;else{if(wt=zt.shape.paths,It=wt._length,Dt=0,!zt.shape._mdf&&zt.pathsData.length)Dt=zt.totalShapeLength;else{for(Lt=this.releasePathsData(zt.pathsData),Rt=0;Rt<It;Rt+=1)kt=bez.getSegmentsLength(wt.shapes[Rt]),Lt.push(kt),Dt+=kt.totalLength;zt.totalShapeLength=Dt,zt.pathsData=Lt}$t+=Dt,zt.shape._mdf=!0}var Bt=ht,Ut=xt,Vt=0,Ht;for(At=Ct-1;At>=0;At-=1)if(zt=this.shapes[At],zt.shape._mdf){for(Gt=zt.localShapeCollection,Gt.releaseShapes(),this.m===2&&Ct>1?(Ht=this.calculateShapeEdges(ht,xt,zt.totalShapeLength,Vt,$t),Vt+=zt.totalShapeLength):Ht=[[Bt,Ut]],It=Ht.length,Rt=0;Rt<It;Rt+=1){Bt=Ht[Rt][0],Ut=Ht[Rt][1],Ot.length=0,Ut<=1?Ot.push({s:zt.totalShapeLength*Bt,e:zt.totalShapeLength*Ut}):Bt>=1?Ot.push({s:zt.totalShapeLength*(Bt-1),e:zt.totalShapeLength*(Ut-1)}):(Ot.push({s:zt.totalShapeLength*Bt,e:zt.totalShapeLength}),Ot.push({s:0,e:zt.totalShapeLength*(Ut-1)}));var Xt=this.addShapes(zt,Ot[0]);if(Ot[0].s!==Ot[0].e){if(Ot.length>1){var qt=zt.shape.paths.shapes[zt.shape.paths._length-1];if(qt.c){var Kt=Xt.pop();this.addPaths(Xt,Gt),Xt=this.addShapes(zt,Ot[1],Kt)}else this.addPaths(Xt,Gt),Xt=this.addShapes(zt,Ot[1])}this.addPaths(Xt,Gt)}}zt.shape.paths=Gt}}},TrimModifier.prototype.addPaths=function(vt,ht){var xt,_t=vt.length;for(xt=0;xt<_t;xt+=1)ht.addShape(vt[xt])},TrimModifier.prototype.addSegment=function(vt,ht,xt,_t,St,wt,At){St.setXYAt(ht[0],ht[1],"o",wt),St.setXYAt(xt[0],xt[1],"i",wt+1),At&&St.setXYAt(vt[0],vt[1],"v",wt),St.setXYAt(_t[0],_t[1],"v",wt+1)},TrimModifier.prototype.addSegmentFromArray=function(vt,ht,xt,_t){ht.setXYAt(vt[1],vt[5],"o",xt),ht.setXYAt(vt[2],vt[6],"i",xt+1),_t&&ht.setXYAt(vt[0],vt[4],"v",xt),ht.setXYAt(vt[3],vt[7],"v",xt+1)},TrimModifier.prototype.addShapes=function(vt,ht,xt){var _t=vt.pathsData,St=vt.shape.paths.shapes,wt,At=vt.shape.paths._length,Ct,Rt,It=0,Lt,kt,Dt,$t,Ot=[],zt,Gt=!0;for(xt?(kt=xt._length,zt=xt._length):(xt=shapePool.newElement(),kt=0,zt=0),Ot.push(xt),wt=0;wt<At;wt+=1){for(Dt=_t[wt].lengths,xt.c=St[wt].c,Rt=St[wt].c?Dt.length:Dt.length+1,Ct=1;Ct<Rt;Ct+=1)if(Lt=Dt[Ct-1],It+Lt.addedLength<ht.s)It+=Lt.addedLength,xt.c=!1;else if(It>ht.e){xt.c=!1;break}else ht.s<=It&&ht.e>=It+Lt.addedLength?(this.addSegment(St[wt].v[Ct-1],St[wt].o[Ct-1],St[wt].i[Ct],St[wt].v[Ct],xt,kt,Gt),Gt=!1):($t=bez.getNewSegment(St[wt].v[Ct-1],St[wt].v[Ct],St[wt].o[Ct-1],St[wt].i[Ct],(ht.s-It)/Lt.addedLength,(ht.e-It)/Lt.addedLength,Dt[Ct-1]),this.addSegmentFromArray($t,xt,kt,Gt),Gt=!1,xt.c=!1),It+=Lt.addedLength,kt+=1;if(St[wt].c&&Dt.length){if(Lt=Dt[Ct-1],It<=ht.e){var Bt=Dt[Ct-1].addedLength;ht.s<=It&&ht.e>=It+Bt?(this.addSegment(St[wt].v[Ct-1],St[wt].o[Ct-1],St[wt].i[0],St[wt].v[0],xt,kt,Gt),Gt=!1):($t=bez.getNewSegment(St[wt].v[Ct-1],St[wt].v[0],St[wt].o[Ct-1],St[wt].i[0],(ht.s-It)/Bt,(ht.e-It)/Bt,Dt[Ct-1]),this.addSegmentFromArray($t,xt,kt,Gt),Gt=!1,xt.c=!1)}else xt.c=!1;It+=Lt.addedLength,kt+=1}if(xt._length&&(xt.setXYAt(xt.v[zt][0],xt.v[zt][1],"i",zt),xt.setXYAt(xt.v[xt._length-1][0],xt.v[xt._length-1][1],"o",xt._length-1)),It>ht.e)break;wt<At-1&&(xt=shapePool.newElement(),Gt=!0,Ot.push(xt),kt=0)}return Ot};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(vt,ht){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(vt,ht.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(vt,ht){var xt=ht/100,_t=[0,0],St=vt._length,wt=0;for(wt=0;wt<St;wt+=1)_t[0]+=vt.v[wt][0],_t[1]+=vt.v[wt][1];_t[0]/=St,_t[1]/=St;var At=shapePool.newElement();At.c=vt.c;var Ct,Rt,It,Lt,kt,Dt;for(wt=0;wt<St;wt+=1)Ct=vt.v[wt][0]+(_t[0]-vt.v[wt][0])*xt,Rt=vt.v[wt][1]+(_t[1]-vt.v[wt][1])*xt,It=vt.o[wt][0]+(_t[0]-vt.o[wt][0])*-xt,Lt=vt.o[wt][1]+(_t[1]-vt.o[wt][1])*-xt,kt=vt.i[wt][0]+(_t[0]-vt.i[wt][0])*-xt,Dt=vt.i[wt][1]+(_t[1]-vt.i[wt][1])*-xt,At.setTripleAt(Ct,Rt,It,Lt,kt,Dt,wt);return At},PuckerAndBloatModifier.prototype.processShapes=function(vt){var ht,xt,_t=this.shapes.length,St,wt,At=this.amount.v;if(At!==0){var Ct,Rt;for(xt=0;xt<_t;xt+=1){if(Ct=this.shapes[xt],Rt=Ct.localShapeCollection,!(!Ct.shape._mdf&&!this._mdf&&!vt))for(Rt.releaseShapes(),Ct.shape._mdf=!0,ht=Ct.shape.paths.shapes,wt=Ct.shape.paths._length,St=0;St<wt;St+=1)Rt.addShape(this.processPath(ht[St],At));Ct.shape.paths=Ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var vt=[0,0];function ht(Rt){var It=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||It,this.a&&Rt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Rt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Rt.skewFromAxis(-this.sk.v,this.sa.v),this.r?Rt.rotate(-this.r.v):Rt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Rt.translate(this.px.v,this.py.v,-this.pz.v):Rt.translate(this.px.v,this.py.v,0):Rt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function xt(Rt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Rt){var It;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Lt,kt;if(It=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Lt=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/It,0),kt=this.p.getValueAtTime(this.p.keyframes[0].t/It,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Lt=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/It,0),kt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/It,0)):(Lt=this.p.pv,kt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/It,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Lt=[],kt=[];var Dt=this.px,$t=this.py;Dt._caching.lastFrame+Dt.offsetTime<=Dt.keyframes[0].t?(Lt[0]=Dt.getValueAtTime((Dt.keyframes[0].t+.01)/It,0),Lt[1]=$t.getValueAtTime(($t.keyframes[0].t+.01)/It,0),kt[0]=Dt.getValueAtTime(Dt.keyframes[0].t/It,0),kt[1]=$t.getValueAtTime($t.keyframes[0].t/It,0)):Dt._caching.lastFrame+Dt.offsetTime>=Dt.keyframes[Dt.keyframes.length-1].t?(Lt[0]=Dt.getValueAtTime(Dt.keyframes[Dt.keyframes.length-1].t/It,0),Lt[1]=$t.getValueAtTime($t.keyframes[$t.keyframes.length-1].t/It,0),kt[0]=Dt.getValueAtTime((Dt.keyframes[Dt.keyframes.length-1].t-.01)/It,0),kt[1]=$t.getValueAtTime(($t.keyframes[$t.keyframes.length-1].t-.01)/It,0)):(Lt=[Dt.pv,$t.pv],kt[0]=Dt.getValueAtTime((Dt._caching.lastFrame+Dt.offsetTime-.01)/It,Dt.offsetTime),kt[1]=$t.getValueAtTime(($t._caching.lastFrame+$t.offsetTime-.01)/It,$t.offsetTime))}else kt=vt,Lt=kt;this.v.rotate(-Math.atan2(Lt[1]-kt[1],Lt[0]-kt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function _t(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function St(){}function wt(Rt){this._addDynamicProperty(Rt),this.elem.addDynamicProperty(Rt),this._isDirty=!0}function At(Rt,It,Lt){if(this.elem=Rt,this.frameId=-1,this.propType="transform",this.data=It,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Lt||Rt),It.p&&It.p.s?(this.px=PropertyFactory.getProp(Rt,It.p.x,0,0,this),this.py=PropertyFactory.getProp(Rt,It.p.y,0,0,this),It.p.z&&(this.pz=PropertyFactory.getProp(Rt,It.p.z,0,0,this))):this.p=PropertyFactory.getProp(Rt,It.p||{k:[0,0,0]},1,0,this),It.rx){if(this.rx=PropertyFactory.getProp(Rt,It.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(Rt,It.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(Rt,It.rz,0,degToRads,this),It.or.k[0].ti){var kt,Dt=It.or.k.length;for(kt=0;kt<Dt;kt+=1)It.or.k[kt].to=null,It.or.k[kt].ti=null}this.or=PropertyFactory.getProp(Rt,It.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(Rt,It.r||{k:0},0,degToRads,this);It.sk&&(this.sk=PropertyFactory.getProp(Rt,It.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(Rt,It.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(Rt,It.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(Rt,It.s||{k:[100,100,100]},1,.01,this),It.o?this.o=PropertyFactory.getProp(Rt,It.o,0,.01,Rt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}At.prototype={applyToMatrix:ht,getValue:xt,precalculateMatrix:_t,autoOrient:St},extendPrototype([DynamicPropertyContainer],At),At.prototype.addDynamicProperty=wt,At.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function Ct(Rt,It,Lt){return new At(Rt,It,Lt)}return{getTransformProperty:Ct}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(vt,ht){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(vt,ht.c,0,null,this),this.o=PropertyFactory.getProp(vt,ht.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(vt,ht.tr,this),this.so=PropertyFactory.getProp(vt,ht.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(vt,ht.tr.eo,0,.01,this),this.data=ht,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(vt,ht,xt,_t,St,wt){var At=wt?-1:1,Ct=_t.s.v[0]+(1-_t.s.v[0])*(1-St),Rt=_t.s.v[1]+(1-_t.s.v[1])*(1-St);vt.translate(_t.p.v[0]*At*St,_t.p.v[1]*At*St,_t.p.v[2]),ht.translate(-_t.a.v[0],-_t.a.v[1],_t.a.v[2]),ht.rotate(-_t.r.v*At*St),ht.translate(_t.a.v[0],_t.a.v[1],_t.a.v[2]),xt.translate(-_t.a.v[0],-_t.a.v[1],_t.a.v[2]),xt.scale(wt?1/Ct:Ct,wt?1/Rt:Rt),xt.translate(_t.a.v[0],_t.a.v[1],_t.a.v[2])},RepeaterModifier.prototype.init=function(vt,ht,xt,_t){for(this.elem=vt,this.arr=ht,this.pos=xt,this.elemsData=_t,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(vt),this.initModifierProperties(vt,ht[xt]);xt>0;)xt-=1,this._elements.unshift(ht[xt]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(vt){var ht,xt=vt.length;for(ht=0;ht<xt;ht+=1)vt[ht]._processed=!1,vt[ht].ty==="gr"&&this.resetElements(vt[ht].it)},RepeaterModifier.prototype.cloneElements=function(vt){var ht=JSON.parse(JSON.stringify(vt));return this.resetElements(ht),ht},RepeaterModifier.prototype.changeGroupRender=function(vt,ht){var xt,_t=vt.length;for(xt=0;xt<_t;xt+=1)vt[xt]._render=ht,vt[xt].ty==="gr"&&this.changeGroupRender(vt[xt].it,ht)},RepeaterModifier.prototype.processShapes=function(vt){var ht,xt,_t,St,wt,At=!1;if(this._mdf||vt){var Ct=Math.ceil(this.c.v);if(this._groups.length<Ct){for(;this._groups.length<Ct;){var Rt={it:this.cloneElements(this._elements),ty:"gr"};Rt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Rt),this._groups.splice(0,0,Rt),this._currentCopies+=1}this.elem.reloadShapes(),At=!0}wt=0;var It;for(_t=0;_t<=this._groups.length-1;_t+=1){if(It=wt<Ct,this._groups[_t]._render=It,this.changeGroupRender(this._groups[_t].it,It),!It){var Lt=this.elemsData[_t].it,kt=Lt[Lt.length-1];kt.transform.op.v!==0?(kt.transform.op._mdf=!0,kt.transform.op.v=0):kt.transform.op._mdf=!1}wt+=1}this._currentCopies=Ct;var Dt=this.o.v,$t=Dt%1,Ot=Dt>0?Math.floor(Dt):Math.ceil(Dt),zt=this.pMatrix.props,Gt=this.rMatrix.props,Bt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Ut=0;if(Dt>0){for(;Ut<Ot;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Ut+=1;$t&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,$t,!1),Ut+=$t)}else if(Dt<0){for(;Ut>Ot;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Ut-=1;$t&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-$t,!0),Ut-=$t)}_t=this.data.m===1?0:this._currentCopies-1,St=this.data.m===1?1:-1,wt=this._currentCopies;for(var Vt,Ht;wt;){if(ht=this.elemsData[_t].it,xt=ht[ht.length-1].transform.mProps.v.props,Ht=xt.length,ht[ht.length-1].transform.mProps._mdf=!0,ht[ht.length-1].transform.op._mdf=!0,ht[ht.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(_t/(this._currentCopies-1)),Ut!==0){for((_t!==0&&St===1||_t!==this._currentCopies-1&&St===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Gt[0],Gt[1],Gt[2],Gt[3],Gt[4],Gt[5],Gt[6],Gt[7],Gt[8],Gt[9],Gt[10],Gt[11],Gt[12],Gt[13],Gt[14],Gt[15]),this.matrix.transform(Bt[0],Bt[1],Bt[2],Bt[3],Bt[4],Bt[5],Bt[6],Bt[7],Bt[8],Bt[9],Bt[10],Bt[11],Bt[12],Bt[13],Bt[14],Bt[15]),this.matrix.transform(zt[0],zt[1],zt[2],zt[3],zt[4],zt[5],zt[6],zt[7],zt[8],zt[9],zt[10],zt[11],zt[12],zt[13],zt[14],zt[15]),Vt=0;Vt<Ht;Vt+=1)xt[Vt]=this.matrix.props[Vt];this.matrix.reset()}else for(this.matrix.reset(),Vt=0;Vt<Ht;Vt+=1)xt[Vt]=this.matrix.props[Vt];Ut+=1,wt-=1,_t+=St}}else for(wt=this._currentCopies,_t=0,St=1;wt;)ht=this.elemsData[_t].it,xt=ht[ht.length-1].transform.mProps.v.props,ht[ht.length-1].transform.mProps._mdf=!1,ht[ht.length-1].transform.op._mdf=!1,wt-=1,_t+=St;return At},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(vt,ht){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(vt,ht.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(vt,ht){var xt=shapePool.newElement();xt.c=vt.c;var _t,St=vt._length,wt,At,Ct,Rt,It,Lt,kt=0,Dt,$t,Ot,zt,Gt,Bt;for(_t=0;_t<St;_t+=1)wt=vt.v[_t],Ct=vt.o[_t],At=vt.i[_t],wt[0]===Ct[0]&&wt[1]===Ct[1]&&wt[0]===At[0]&&wt[1]===At[1]?(_t===0||_t===St-1)&&!vt.c?(xt.setTripleAt(wt[0],wt[1],Ct[0],Ct[1],At[0],At[1],kt),kt+=1):(_t===0?Rt=vt.v[St-1]:Rt=vt.v[_t-1],It=Math.sqrt(Math.pow(wt[0]-Rt[0],2)+Math.pow(wt[1]-Rt[1],2)),Lt=It?Math.min(It/2,ht)/It:0,Gt=wt[0]+(Rt[0]-wt[0])*Lt,Dt=Gt,Bt=wt[1]-(wt[1]-Rt[1])*Lt,$t=Bt,Ot=Dt-(Dt-wt[0])*roundCorner,zt=$t-($t-wt[1])*roundCorner,xt.setTripleAt(Dt,$t,Ot,zt,Gt,Bt,kt),kt+=1,_t===St-1?Rt=vt.v[0]:Rt=vt.v[_t+1],It=Math.sqrt(Math.pow(wt[0]-Rt[0],2)+Math.pow(wt[1]-Rt[1],2)),Lt=It?Math.min(It/2,ht)/It:0,Ot=wt[0]+(Rt[0]-wt[0])*Lt,Dt=Ot,zt=wt[1]+(Rt[1]-wt[1])*Lt,$t=zt,Gt=Dt-(Dt-wt[0])*roundCorner,Bt=$t-($t-wt[1])*roundCorner,xt.setTripleAt(Dt,$t,Ot,zt,Gt,Bt,kt),kt+=1):(xt.setTripleAt(vt.v[_t][0],vt.v[_t][1],vt.o[_t][0],vt.o[_t][1],vt.i[_t][0],vt.i[_t][1],kt),kt+=1);return xt},RoundCornersModifier.prototype.processShapes=function(vt){var ht,xt,_t=this.shapes.length,St,wt,At=this.rd.v;if(At!==0){var Ct,Rt;for(xt=0;xt<_t;xt+=1){if(Ct=this.shapes[xt],Rt=Ct.localShapeCollection,!(!Ct.shape._mdf&&!this._mdf&&!vt))for(Rt.releaseShapes(),Ct.shape._mdf=!0,ht=Ct.shape.paths.shapes,wt=Ct.shape.paths._length,St=0;St<wt;St+=1)Rt.addShape(this.processPath(ht[St],At));Ct.shape.paths=Ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(vt,ht){return Math.abs(vt-ht)*1e5<=Math.min(Math.abs(vt),Math.abs(ht))}function floatZero(vt){return Math.abs(vt)<=1e-5}function lerp(vt,ht,xt){return vt*(1-xt)+ht*xt}function lerpPoint(vt,ht,xt){return[lerp(vt[0],ht[0],xt),lerp(vt[1],ht[1],xt)]}function quadRoots(vt,ht,xt){if(vt===0)return[];var _t=ht*ht-4*vt*xt;if(_t<0)return[];var St=-ht/(2*vt);if(_t===0)return[St];var wt=Math.sqrt(_t)/(2*vt);return[St-wt,St+wt]}function polynomialCoefficients(vt,ht,xt,_t){return[-vt+3*ht-3*xt+_t,3*vt-6*ht+3*xt,-3*vt+3*ht,vt]}function singlePoint(vt){return new PolynomialBezier(vt,vt,vt,vt,!1)}function PolynomialBezier(vt,ht,xt,_t,St){St&&pointEqual(vt,ht)&&(ht=lerpPoint(vt,_t,1/3)),St&&pointEqual(xt,_t)&&(xt=lerpPoint(vt,_t,2/3));var wt=polynomialCoefficients(vt[0],ht[0],xt[0],_t[0]),At=polynomialCoefficients(vt[1],ht[1],xt[1],_t[1]);this.a=[wt[0],At[0]],this.b=[wt[1],At[1]],this.c=[wt[2],At[2]],this.d=[wt[3],At[3]],this.points=[vt,ht,xt,_t]}PolynomialBezier.prototype.point=function(vt){return[((this.a[0]*vt+this.b[0])*vt+this.c[0])*vt+this.d[0],((this.a[1]*vt+this.b[1])*vt+this.c[1])*vt+this.d[1]]},PolynomialBezier.prototype.derivative=function(vt){return[(3*vt*this.a[0]+2*this.b[0])*vt+this.c[0],(3*vt*this.a[1]+2*this.b[1])*vt+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(vt){var ht=this.derivative(vt);return Math.atan2(ht[1],ht[0])},PolynomialBezier.prototype.normalAngle=function(vt){var ht=this.derivative(vt);return Math.atan2(ht[0],ht[1])},PolynomialBezier.prototype.inflectionPoints=function(){var vt=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(vt))return[];var ht=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/vt,xt=ht*ht-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/vt;if(xt<0)return[];var _t=Math.sqrt(xt);return floatZero(_t)?_t>0&&_t<1?[ht]:[]:[ht-_t,ht+_t].filter(function(St){return St>0&&St<1})},PolynomialBezier.prototype.split=function(vt){if(vt<=0)return[singlePoint(this.points[0]),this];if(vt>=1)return[this,singlePoint(this.points[this.points.length-1])];var ht=lerpPoint(this.points[0],this.points[1],vt),xt=lerpPoint(this.points[1],this.points[2],vt),_t=lerpPoint(this.points[2],this.points[3],vt),St=lerpPoint(ht,xt,vt),wt=lerpPoint(xt,_t,vt),At=lerpPoint(St,wt,vt);return[new PolynomialBezier(this.points[0],ht,St,At,!0),new PolynomialBezier(At,wt,_t,this.points[3],!0)]};function extrema(vt,ht){var xt=vt.points[0][ht],_t=vt.points[vt.points.length-1][ht];if(xt>_t){var St=_t;_t=xt,xt=St}for(var wt=quadRoots(3*vt.a[ht],2*vt.b[ht],vt.c[ht]),At=0;At<wt.length;At+=1)if(wt[At]>0&&wt[At]<1){var Ct=vt.point(wt[At])[ht];Ct<xt?xt=Ct:Ct>_t&&(_t=Ct)}return{min:xt,max:_t}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var vt=this.bounds();return{left:vt.x.min,right:vt.x.max,top:vt.y.min,bottom:vt.y.max,width:vt.x.max-vt.x.min,height:vt.y.max-vt.y.min,cx:(vt.x.max+vt.x.min)/2,cy:(vt.y.max+vt.y.min)/2}};function intersectData(vt,ht,xt){var _t=vt.boundingBox();return{cx:_t.cx,cy:_t.cy,width:_t.width,height:_t.height,bez:vt,t:(ht+xt)/2,t1:ht,t2:xt}}function splitData(vt){var ht=vt.bez.split(.5);return[intersectData(ht[0],vt.t1,vt.t),intersectData(ht[1],vt.t,vt.t2)]}function boxIntersect(vt,ht){return Math.abs(vt.cx-ht.cx)*2<vt.width+ht.width&&Math.abs(vt.cy-ht.cy)*2<vt.height+ht.height}function intersectsImpl(vt,ht,xt,_t,St,wt){if(boxIntersect(vt,ht)){if(xt>=wt||vt.width<=_t&&vt.height<=_t&&ht.width<=_t&&ht.height<=_t){St.push([vt.t,ht.t]);return}var At=splitData(vt),Ct=splitData(ht);intersectsImpl(At[0],Ct[0],xt+1,_t,St,wt),intersectsImpl(At[0],Ct[1],xt+1,_t,St,wt),intersectsImpl(At[1],Ct[0],xt+1,_t,St,wt),intersectsImpl(At[1],Ct[1],xt+1,_t,St,wt)}}PolynomialBezier.prototype.intersections=function(vt,ht,xt){ht===void 0&&(ht=2),xt===void 0&&(xt=7);var _t=[];return intersectsImpl(intersectData(this,0,1),intersectData(vt,0,1),0,ht,_t,xt),_t},PolynomialBezier.shapeSegment=function(vt,ht){var xt=(ht+1)%vt.length();return new PolynomialBezier(vt.v[ht],vt.o[ht],vt.i[xt],vt.v[xt],!0)},PolynomialBezier.shapeSegmentInverted=function(vt,ht){var xt=(ht+1)%vt.length();return new PolynomialBezier(vt.v[xt],vt.i[xt],vt.o[ht],vt.v[ht],!0)};function crossProduct(vt,ht){return[vt[1]*ht[2]-vt[2]*ht[1],vt[2]*ht[0]-vt[0]*ht[2],vt[0]*ht[1]-vt[1]*ht[0]]}function lineIntersection(vt,ht,xt,_t){var St=[vt[0],vt[1],1],wt=[ht[0],ht[1],1],At=[xt[0],xt[1],1],Ct=[_t[0],_t[1],1],Rt=crossProduct(crossProduct(St,wt),crossProduct(At,Ct));return floatZero(Rt[2])?null:[Rt[0]/Rt[2],Rt[1]/Rt[2]]}function polarOffset(vt,ht,xt){return[vt[0]+Math.cos(ht)*xt,vt[1]-Math.sin(ht)*xt]}function pointDistance(vt,ht){return Math.hypot(vt[0]-ht[0],vt[1]-ht[1])}function pointEqual(vt,ht){return floatEqual(vt[0],ht[0])&&floatEqual(vt[1],ht[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(vt,ht){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(vt,ht.s,0,null,this),this.frequency=PropertyFactory.getProp(vt,ht.r,0,null,this),this.pointsType=PropertyFactory.getProp(vt,ht.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(vt,ht,xt,_t,St,wt,At){var Ct=xt-Math.PI/2,Rt=xt+Math.PI/2,It=ht[0]+Math.cos(xt)*_t*St,Lt=ht[1]-Math.sin(xt)*_t*St;vt.setTripleAt(It,Lt,It+Math.cos(Ct)*wt,Lt-Math.sin(Ct)*wt,It+Math.cos(Rt)*At,Lt-Math.sin(Rt)*At,vt.length())}function getPerpendicularVector(vt,ht){var xt=[ht[0]-vt[0],ht[1]-vt[1]],_t=-Math.PI*.5,St=[Math.cos(_t)*xt[0]-Math.sin(_t)*xt[1],Math.sin(_t)*xt[0]+Math.cos(_t)*xt[1]];return St}function getProjectingAngle(vt,ht){var xt=ht===0?vt.length()-1:ht-1,_t=(ht+1)%vt.length(),St=vt.v[xt],wt=vt.v[_t],At=getPerpendicularVector(St,wt);return Math.atan2(0,1)-Math.atan2(At[1],At[0])}function zigZagCorner(vt,ht,xt,_t,St,wt,At){var Ct=getProjectingAngle(ht,xt),Rt=ht.v[xt%ht._length],It=ht.v[xt===0?ht._length-1:xt-1],Lt=ht.v[(xt+1)%ht._length],kt=wt===2?Math.sqrt(Math.pow(Rt[0]-It[0],2)+Math.pow(Rt[1]-It[1],2)):0,Dt=wt===2?Math.sqrt(Math.pow(Rt[0]-Lt[0],2)+Math.pow(Rt[1]-Lt[1],2)):0;setPoint(vt,ht.v[xt%ht._length],Ct,At,_t,Dt/((St+1)*2),kt/((St+1)*2))}function zigZagSegment(vt,ht,xt,_t,St,wt){for(var At=0;At<_t;At+=1){var Ct=(At+1)/(_t+1),Rt=St===2?Math.sqrt(Math.pow(ht.points[3][0]-ht.points[0][0],2)+Math.pow(ht.points[3][1]-ht.points[0][1],2)):0,It=ht.normalAngle(Ct),Lt=ht.point(Ct);setPoint(vt,Lt,It,wt,xt,Rt/((_t+1)*2),Rt/((_t+1)*2)),wt=-wt}return wt}ZigZagModifier.prototype.processPath=function(vt,ht,xt,_t){var St=vt._length,wt=shapePool.newElement();if(wt.c=vt.c,vt.c||(St-=1),St===0)return wt;var At=-1,Ct=PolynomialBezier.shapeSegment(vt,0);zigZagCorner(wt,vt,0,ht,xt,_t,At);for(var Rt=0;Rt<St;Rt+=1)At=zigZagSegment(wt,Ct,ht,xt,_t,-At),Rt===St-1&&!vt.c?Ct=null:Ct=PolynomialBezier.shapeSegment(vt,(Rt+1)%St),zigZagCorner(wt,vt,Rt+1,ht,xt,_t,At);return wt},ZigZagModifier.prototype.processShapes=function(vt){var ht,xt,_t=this.shapes.length,St,wt,At=this.amplitude.v,Ct=Math.max(0,Math.round(this.frequency.v)),Rt=this.pointsType.v;if(At!==0){var It,Lt;for(xt=0;xt<_t;xt+=1){if(It=this.shapes[xt],Lt=It.localShapeCollection,!(!It.shape._mdf&&!this._mdf&&!vt))for(Lt.releaseShapes(),It.shape._mdf=!0,ht=It.shape.paths.shapes,wt=It.shape.paths._length,St=0;St<wt;St+=1)Lt.addShape(this.processPath(ht[St],At,Ct,Rt));It.shape.paths=It.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(vt,ht,xt){var _t=Math.atan2(ht[0]-vt[0],ht[1]-vt[1]);return[polarOffset(vt,_t,xt),polarOffset(ht,_t,xt)]}function offsetSegment(vt,ht){var xt,_t,St,wt,At,Ct,Rt;Rt=linearOffset(vt.points[0],vt.points[1],ht),xt=Rt[0],_t=Rt[1],Rt=linearOffset(vt.points[1],vt.points[2],ht),St=Rt[0],wt=Rt[1],Rt=linearOffset(vt.points[2],vt.points[3],ht),At=Rt[0],Ct=Rt[1];var It=lineIntersection(xt,_t,St,wt);It===null&&(It=_t);var Lt=lineIntersection(At,Ct,St,wt);return Lt===null&&(Lt=At),new PolynomialBezier(xt,It,Lt,Ct)}function joinLines(vt,ht,xt,_t,St){var wt=ht.points[3],At=xt.points[0];if(_t===3||pointEqual(wt,At))return wt;if(_t===2){var Ct=-ht.tangentAngle(1),Rt=-xt.tangentAngle(0)+Math.PI,It=lineIntersection(wt,polarOffset(wt,Ct+Math.PI/2,100),At,polarOffset(At,Ct+Math.PI/2,100)),Lt=It?pointDistance(It,wt):pointDistance(wt,At)/2,kt=polarOffset(wt,Ct,2*Lt*roundCorner);return vt.setXYAt(kt[0],kt[1],"o",vt.length()-1),kt=polarOffset(At,Rt,2*Lt*roundCorner),vt.setTripleAt(At[0],At[1],At[0],At[1],kt[0],kt[1],vt.length()),At}var Dt=pointEqual(wt,ht.points[2])?ht.points[0]:ht.points[2],$t=pointEqual(At,xt.points[1])?xt.points[3]:xt.points[1],Ot=lineIntersection(Dt,wt,At,$t);return Ot&&pointDistance(Ot,wt)<St?(vt.setTripleAt(Ot[0],Ot[1],Ot[0],Ot[1],Ot[0],Ot[1],vt.length()),Ot):wt}function getIntersection(vt,ht){var xt=vt.intersections(ht);return xt.length&&floatEqual(xt[0][0],1)&&xt.shift(),xt.length?xt[0]:null}function pruneSegmentIntersection(vt,ht){var xt=vt.slice(),_t=ht.slice(),St=getIntersection(vt[vt.length-1],ht[0]);return St&&(xt[vt.length-1]=vt[vt.length-1].split(St[0])[0],_t[0]=ht[0].split(St[1])[1]),vt.length>1&&ht.length>1&&(St=getIntersection(vt[0],ht[ht.length-1]),St)?[[vt[0].split(St[0])[0]],[ht[ht.length-1].split(St[1])[1]]]:[xt,_t]}function pruneIntersections(vt){for(var ht,xt=1;xt<vt.length;xt+=1)ht=pruneSegmentIntersection(vt[xt-1],vt[xt]),vt[xt-1]=ht[0],vt[xt]=ht[1];return vt.length>1&&(ht=pruneSegmentIntersection(vt[vt.length-1],vt[0]),vt[vt.length-1]=ht[0],vt[0]=ht[1]),vt}function offsetSegmentSplit(vt,ht){var xt=vt.inflectionPoints(),_t,St,wt,At;if(xt.length===0)return[offsetSegment(vt,ht)];if(xt.length===1||floatEqual(xt[1],1))return wt=vt.split(xt[0]),_t=wt[0],St=wt[1],[offsetSegment(_t,ht),offsetSegment(St,ht)];wt=vt.split(xt[0]),_t=wt[0];var Ct=(xt[1]-xt[0])/(1-xt[0]);return wt=wt[1].split(Ct),At=wt[0],St=wt[1],[offsetSegment(_t,ht),offsetSegment(At,ht),offsetSegment(St,ht)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(vt,ht){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(vt,ht.a,0,null,this),this.miterLimit=PropertyFactory.getProp(vt,ht.ml,0,null,this),this.lineJoin=ht.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(vt,ht,xt,_t){var St=shapePool.newElement();St.c=vt.c;var wt=vt.length();vt.c||(wt-=1);var At,Ct,Rt,It=[];for(At=0;At<wt;At+=1)Rt=PolynomialBezier.shapeSegment(vt,At),It.push(offsetSegmentSplit(Rt,ht));if(!vt.c)for(At=wt-1;At>=0;At-=1)Rt=PolynomialBezier.shapeSegmentInverted(vt,At),It.push(offsetSegmentSplit(Rt,ht));It=pruneIntersections(It);var Lt=null,kt=null;for(At=0;At<It.length;At+=1){var Dt=It[At];for(kt&&(Lt=joinLines(St,kt,Dt[0],xt,_t)),kt=Dt[Dt.length-1],Ct=0;Ct<Dt.length;Ct+=1)Rt=Dt[Ct],Lt&&pointEqual(Rt.points[0],Lt)?St.setXYAt(Rt.points[1][0],Rt.points[1][1],"o",St.length()-1):St.setTripleAt(Rt.points[0][0],Rt.points[0][1],Rt.points[1][0],Rt.points[1][1],Rt.points[0][0],Rt.points[0][1],St.length()),St.setTripleAt(Rt.points[3][0],Rt.points[3][1],Rt.points[3][0],Rt.points[3][1],Rt.points[2][0],Rt.points[2][1],St.length()),Lt=Rt.points[3]}return It.length&&joinLines(St,kt,It[0][0],xt,_t),St},OffsetPathModifier.prototype.processShapes=function(vt){var ht,xt,_t=this.shapes.length,St,wt,At=this.amount.v,Ct=this.miterLimit.v,Rt=this.lineJoin;if(At!==0){var It,Lt;for(xt=0;xt<_t;xt+=1){if(It=this.shapes[xt],Lt=It.localShapeCollection,!(!It.shape._mdf&&!this._mdf&&!vt))for(Lt.releaseShapes(),It.shape._mdf=!0,ht=It.shape.paths.shapes,wt=It.shape.paths._length,St=0;St<wt;St+=1)Lt.addShape(this.processPath(ht[St],At,Rt,Ct));It.shape.paths=It.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(vt){for(var ht=vt.fStyle?vt.fStyle.split(" "):[],xt="normal",_t="normal",St=ht.length,wt,At=0;At<St;At+=1)switch(wt=ht[At].toLowerCase(),wt){case"italic":_t="italic";break;case"bold":xt="700";break;case"black":xt="900";break;case"medium":xt="500";break;case"regular":case"normal":xt="400";break;case"light":case"thin":xt="200";break}return{style:_t,weight:vt.fWeight||xt}}var FontManager=function(){var vt=5e3,ht={w:0,size:0,shapes:[],data:{shapes:[]}},xt=[];xt=xt.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var _t=127988,St=917631,wt=917601,At=917626,Ct=65039,Rt=8205,It=127462,Lt=127487,kt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function Dt(rn){var an=rn.split(","),Yt,Jt=an.length,on=[];for(Yt=0;Yt<Jt;Yt+=1)an[Yt]!=="sans-serif"&&an[Yt]!=="monospace"&&on.push(an[Yt]);return on.join(",")}function $t(rn,an){var Yt=createTag("span");Yt.setAttribute("aria-hidden",!0),Yt.style.fontFamily=an;var Jt=createTag("span");Jt.innerText="giItT1WQy@!-/#",Yt.style.position="absolute",Yt.style.left="-10000px",Yt.style.top="-10000px",Yt.style.fontSize="300px",Yt.style.fontVariant="normal",Yt.style.fontStyle="normal",Yt.style.fontWeight="normal",Yt.style.letterSpacing="0",Yt.appendChild(Jt),document.body.appendChild(Yt);var on=Jt.offsetWidth;return Jt.style.fontFamily=Dt(rn)+", "+an,{node:Jt,w:on,parent:Yt}}function Ot(){var rn,an=this.fonts.length,Yt,Jt,on=an;for(rn=0;rn<an;rn+=1)this.fonts[rn].loaded?on-=1:this.fonts[rn].fOrigin==="n"||this.fonts[rn].origin===0?this.fonts[rn].loaded=!0:(Yt=this.fonts[rn].monoCase.node,Jt=this.fonts[rn].monoCase.w,Yt.offsetWidth!==Jt?(on-=1,this.fonts[rn].loaded=!0):(Yt=this.fonts[rn].sansCase.node,Jt=this.fonts[rn].sansCase.w,Yt.offsetWidth!==Jt&&(on-=1,this.fonts[rn].loaded=!0)),this.fonts[rn].loaded&&(this.fonts[rn].sansCase.parent.parentNode.removeChild(this.fonts[rn].sansCase.parent),this.fonts[rn].monoCase.parent.parentNode.removeChild(this.fonts[rn].monoCase.parent)));on!==0&&Date.now()-this.initTime<vt?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function zt(rn,an){var Yt=document.body&&an?"svg":"canvas",Jt,on=getFontProperties(rn);if(Yt==="svg"){var ln=createNS("text");ln.style.fontSize="100px",ln.setAttribute("font-family",rn.fFamily),ln.setAttribute("font-style",on.style),ln.setAttribute("font-weight",on.weight),ln.textContent="1",rn.fClass?(ln.style.fontFamily="inherit",ln.setAttribute("class",rn.fClass)):ln.style.fontFamily=rn.fFamily,an.appendChild(ln),Jt=ln}else{var _n=new OffscreenCanvas(500,500).getContext("2d");_n.font=on.style+" "+on.weight+" 100px "+rn.fFamily,Jt=_n}function wn(xn){return Yt==="svg"?(Jt.textContent=xn,Jt.getComputedTextLength()):Jt.measureText(xn).width}return{measureText:wn}}function Gt(rn,an){if(!rn){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=rn.list;return}if(!document.body){this.isLoaded=!0,rn.list.forEach(function(or){or.helper=zt(or),or.cache={}}),this.fonts=rn.list;return}var Yt=rn.list,Jt,on=Yt.length,ln=on;for(Jt=0;Jt<on;Jt+=1){var _n=!0,wn,xn;if(Yt[Jt].loaded=!1,Yt[Jt].monoCase=$t(Yt[Jt].fFamily,"monospace"),Yt[Jt].sansCase=$t(Yt[Jt].fFamily,"sans-serif"),!Yt[Jt].fPath)Yt[Jt].loaded=!0,ln-=1;else if(Yt[Jt].fOrigin==="p"||Yt[Jt].origin===3){if(wn=document.querySelectorAll('style[f-forigin="p"][f-family="'+Yt[Jt].fFamily+'"], style[f-origin="3"][f-family="'+Yt[Jt].fFamily+'"]'),wn.length>0&&(_n=!1),_n){var Pn=createTag("style");Pn.setAttribute("f-forigin",Yt[Jt].fOrigin),Pn.setAttribute("f-origin",Yt[Jt].origin),Pn.setAttribute("f-family",Yt[Jt].fFamily),Pn.type="text/css",Pn.innerText="@font-face {font-family: "+Yt[Jt].fFamily+"; font-style: normal; src: url('"+Yt[Jt].fPath+"');}",an.appendChild(Pn)}}else if(Yt[Jt].fOrigin==="g"||Yt[Jt].origin===1){for(wn=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),xn=0;xn<wn.length;xn+=1)wn[xn].href.indexOf(Yt[Jt].fPath)!==-1&&(_n=!1);if(_n){var Bn=createTag("link");Bn.setAttribute("f-forigin",Yt[Jt].fOrigin),Bn.setAttribute("f-origin",Yt[Jt].origin),Bn.type="text/css",Bn.rel="stylesheet",Bn.href=Yt[Jt].fPath,document.body.appendChild(Bn)}}else if(Yt[Jt].fOrigin==="t"||Yt[Jt].origin===2){for(wn=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),xn=0;xn<wn.length;xn+=1)Yt[Jt].fPath===wn[xn].src&&(_n=!1);if(_n){var Hn=createTag("link");Hn.setAttribute("f-forigin",Yt[Jt].fOrigin),Hn.setAttribute("f-origin",Yt[Jt].origin),Hn.setAttribute("rel","stylesheet"),Hn.setAttribute("href",Yt[Jt].fPath),an.appendChild(Hn)}}Yt[Jt].helper=zt(Yt[Jt],an),Yt[Jt].cache={},this.fonts.push(Yt[Jt])}ln===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Bt(rn){if(rn){this.chars||(this.chars=[]);var an,Yt=rn.length,Jt,on=this.chars.length,ln;for(an=0;an<Yt;an+=1){for(Jt=0,ln=!1;Jt<on;)this.chars[Jt].style===rn[an].style&&this.chars[Jt].fFamily===rn[an].fFamily&&this.chars[Jt].ch===rn[an].ch&&(ln=!0),Jt+=1;ln||(this.chars.push(rn[an]),on+=1)}}}function Ut(rn,an,Yt){for(var Jt=0,on=this.chars.length;Jt<on;){if(this.chars[Jt].ch===rn&&this.chars[Jt].style===an&&this.chars[Jt].fFamily===Yt)return this.chars[Jt];Jt+=1}return(typeof rn=="string"&&rn.charCodeAt(0)!==13||!rn)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",rn,an,Yt)),ht}function Vt(rn,an,Yt){var Jt=this.getFontByName(an),on=rn;if(!Jt.cache[on]){var ln=Jt.helper;if(rn===" "){var _n=ln.measureText("|"+rn+"|"),wn=ln.measureText("||");Jt.cache[on]=(_n-wn)/100}else Jt.cache[on]=ln.measureText(rn)/100}return Jt.cache[on]*Yt}function Ht(rn){for(var an=0,Yt=this.fonts.length;an<Yt;){if(this.fonts[an].fName===rn)return this.fonts[an];an+=1}return this.fonts[0]}function Xt(rn){var an=0,Yt=rn.charCodeAt(0);if(Yt>=55296&&Yt<=56319){var Jt=rn.charCodeAt(1);Jt>=56320&&Jt<=57343&&(an=(Yt-55296)*1024+Jt-56320+65536)}return an}function qt(rn,an){var Yt=rn.toString(16)+an.toString(16);return kt.indexOf(Yt)!==-1}function Kt(rn){return rn===Rt}function en(rn){return rn===Ct}function tn(rn){var an=Xt(rn);return an>=It&&an<=Lt}function Qt(rn){return tn(rn.substr(0,2))&&tn(rn.substr(2,2))}function sn(rn){return xt.indexOf(rn)!==-1}function un(rn,an){var Yt=Xt(rn.substr(an,2));if(Yt!==_t)return!1;var Jt=0;for(an+=2;Jt<5;){if(Yt=Xt(rn.substr(an,2)),Yt<wt||Yt>At)return!1;Jt+=1,an+=2}return Xt(rn.substr(an,2))===St}function dn(){this.isLoaded=!0}var vn=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};vn.isModifier=qt,vn.isZeroWidthJoiner=Kt,vn.isFlagEmoji=Qt,vn.isRegionalCode=tn,vn.isCombinedCharacter=sn,vn.isRegionalFlag=un,vn.isVariationSelector=en,vn.BLACK_FLAG_CODE_POINT=_t;var pn={addChars:Bt,addFonts:Gt,getCharData:Ut,getFontByName:Ht,measureText:Vt,checkLoadedFonts:Ot,setIsLoaded:dn};return vn.prototype=pn,vn}();function SlotManager(vt){this.animationData=vt}SlotManager.prototype.getProp=function(vt){return this.animationData.slots&&this.animationData.slots[vt.sid]?Object.assign(vt,this.animationData.slots[vt.sid].p):vt};function slotFactory(vt){return new SlotManager(vt)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(ht){this.renderableComponents.indexOf(ht)===-1&&this.renderableComponents.push(ht)},removeRenderableComponent:function(ht){this.renderableComponents.indexOf(ht)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(ht),1)},prepareRenderableFrame:function(ht){this.checkLayerLimits(ht)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(ht){this.data.ip-this.data.st<=ht&&this.data.op-this.data.st>ht?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var ht,xt=this.renderableComponents.length;for(ht=0;ht<xt;ht+=1)this.renderableComponents[ht].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var vt={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(ht){return vt[ht]||""}}();function SliderEffect(vt,ht,xt){this.p=PropertyFactory.getProp(ht,vt.v,0,0,xt)}function AngleEffect(vt,ht,xt){this.p=PropertyFactory.getProp(ht,vt.v,0,0,xt)}function ColorEffect(vt,ht,xt){this.p=PropertyFactory.getProp(ht,vt.v,1,0,xt)}function PointEffect(vt,ht,xt){this.p=PropertyFactory.getProp(ht,vt.v,1,0,xt)}function LayerIndexEffect(vt,ht,xt){this.p=PropertyFactory.getProp(ht,vt.v,0,0,xt)}function MaskIndexEffect(vt,ht,xt){this.p=PropertyFactory.getProp(ht,vt.v,0,0,xt)}function CheckboxEffect(vt,ht,xt){this.p=PropertyFactory.getProp(ht,vt.v,0,0,xt)}function NoValueEffect(){this.p={}}function EffectsManager(vt,ht){var xt=vt.ef||[];this.effectElements=[];var _t,St=xt.length,wt;for(_t=0;_t<St;_t+=1)wt=new GroupEffect(xt[_t],ht),this.effectElements.push(wt)}function GroupEffect(vt,ht){this.init(vt,ht)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(vt,ht){this.data=vt,this.effectElements=[],this.initDynamicPropertyContainer(ht);var xt,_t=this.data.ef.length,St,wt=this.data.ef;for(xt=0;xt<_t;xt+=1){switch(St=null,wt[xt].ty){case 0:St=new SliderEffect(wt[xt],ht,this);break;case 1:St=new AngleEffect(wt[xt],ht,this);break;case 2:St=new ColorEffect(wt[xt],ht,this);break;case 3:St=new PointEffect(wt[xt],ht,this);break;case 4:case 7:St=new CheckboxEffect(wt[xt],ht,this);break;case 10:St=new LayerIndexEffect(wt[xt],ht,this);break;case 11:St=new MaskIndexEffect(wt[xt],ht,this);break;case 5:St=new EffectsManager(wt[xt],ht);break;default:St=new NoValueEffect(wt[xt]);break}St&&this.effectElements.push(St)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var ht=0,xt=this.data.masksProperties.length;ht<xt;){if(this.data.masksProperties[ht].mode!=="n"&&this.data.masksProperties[ht].cl!==!1)return!0;ht+=1}return!1},initExpressions:function(){var ht=getExpressionInterfaces();if(ht){var xt=ht("layer"),_t=ht("effects"),St=ht("shape"),wt=ht("text"),At=ht("comp");this.layerInterface=xt(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var Ct=_t.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(Ct),this.data.ty===0||this.data.xt?this.compInterface=At(this):this.data.ty===4?(this.layerInterface.shapeInterface=St(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=wt(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var ht=getBlendMode(this.data.bm),xt=this.baseElement||this.layerElement;xt.style["mix-blend-mode"]=ht},initBaseData:function(ht,xt,_t){this.globalData=xt,this.comp=_t,this.data=ht,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(ht,xt){var _t,St=this.dynamicProperties.length;for(_t=0;_t<St;_t+=1)(xt||this._isParent&&this.dynamicProperties[_t].propType==="transform")&&(this.dynamicProperties[_t].getValue(),this.dynamicProperties[_t]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(ht){this.dynamicProperties.indexOf(ht)===-1&&this.dynamicProperties.push(ht)}};function FootageElement(vt,ht,xt){this.initFrame(),this.initRenderable(),this.assetData=ht.getAssetData(vt.refId),this.footageData=ht.imageLoader.getAsset(this.assetData),this.initBaseData(vt,ht,xt)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var vt=getExpressionInterfaces();if(vt){var ht=vt("footage");this.layerInterface=ht(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(vt,ht,xt){this.initFrame(),this.initRenderable(),this.assetData=ht.getAssetData(vt.refId),this.initBaseData(vt,ht,xt),this._isPlaying=!1,this._canPlay=!1;var _t=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(_t),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=vt.tm?PropertyFactory.getProp(this,vt.tm,0,ht.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,vt.au&&vt.au.lv?vt.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(vt){if(this.prepareRenderableFrame(vt,!0),this.prepareProperties(vt,!0),this.tm._placeholder)this._currentTime=vt/this.data.sr;else{var ht=this.tm.v;this._currentTime=ht}this._volume=this.lv.v[0];var xt=this._volume*this._volumeMultiplier;this._previousVolume!==xt&&(this._previousVolume=xt,this.audio.volume(xt))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(vt){this.audio.rate(vt)},AudioElement.prototype.volume=function(vt){this._volumeMultiplier=vt,this._previousVolume=vt*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(vt){var ht,xt=this.layers.length,_t;for(this.completeLayers=!0,ht=xt-1;ht>=0;ht-=1)this.elements[ht]||(_t=this.layers[ht],_t.ip-_t.st<=vt-this.layers[ht].st&&_t.op-_t.st>vt-this.layers[ht].st&&this.buildItem(ht)),this.completeLayers=this.elements[ht]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(vt){switch(vt.ty){case 2:return this.createImage(vt);case 0:return this.createComp(vt);case 1:return this.createSolid(vt);case 3:return this.createNull(vt);case 4:return this.createShape(vt);case 5:return this.createText(vt);case 6:return this.createAudio(vt);case 13:return this.createCamera(vt);case 15:return this.createFootage(vt);default:return this.createNull(vt)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(vt){return new AudioElement(vt,this.globalData,this)},BaseRenderer.prototype.createFootage=function(vt){return new FootageElement(vt,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var vt,ht=this.layers.length;for(vt=0;vt<ht;vt+=1)this.buildItem(vt);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(vt){this.completeLayers=!1;var ht,xt=vt.length,_t,St=this.layers.length;for(ht=0;ht<xt;ht+=1)for(_t=0;_t<St;){if(this.layers[_t].id===vt[ht].id){this.layers[_t]=vt[ht];break}_t+=1}},BaseRenderer.prototype.setProjectInterface=function(vt){this.globalData.projectInterface=vt},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(vt,ht,xt){for(var _t=this.elements,St=this.layers,wt=0,At=St.length;wt<At;)St[wt].ind==ht&&(!_t[wt]||_t[wt]===!0?(this.buildItem(wt),this.addPendingElement(vt)):(xt.push(_t[wt]),_t[wt].setAsParent(),St[wt].parent!==void 0?this.buildElementParenting(vt,St[wt].parent,xt):vt.setHierarchy(xt))),wt+=1},BaseRenderer.prototype.addPendingElement=function(vt){this.pendingElements.push(vt)},BaseRenderer.prototype.searchExtraCompositions=function(vt){var ht,xt=vt.length;for(ht=0;ht<xt;ht+=1)if(vt[ht].xt){var _t=this.createComp(vt[ht]);_t.initExpressions(),this.globalData.projectInterface.registerComposition(_t)}},BaseRenderer.prototype.getElementById=function(vt){var ht,xt=this.elements.length;for(ht=0;ht<xt;ht+=1)if(this.elements[ht].data.ind===vt)return this.elements[ht];return null},BaseRenderer.prototype.getElementByPath=function(vt){var ht=vt.shift(),xt;if(typeof ht=="number")xt=this.elements[ht];else{var _t,St=this.elements.length;for(_t=0;_t<St;_t+=1)if(this.elements[_t].data.nm===ht){xt=this.elements[_t];break}}return vt.length===0?xt:xt.getElementByPath(vt)},BaseRenderer.prototype.setupGlobalData=function(vt,ht){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(vt),this.globalData.fontManager.addChars(vt.chars),this.globalData.fontManager.addFonts(vt.fonts,ht),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=vt.fr,this.globalData.nm=vt.nm,this.globalData.compSize={w:vt.w,h:vt.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var ht=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:ht,localMat:ht,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var ht,xt=this.finalTransform.mat,_t=0,St=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;_t<St;){if(this.hierarchy[_t].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}_t+=1}if(this.finalTransform._matMdf)for(ht=this.finalTransform.mProp.v.props,xt.cloneFromProps(ht),_t=0;_t<St;_t+=1)xt.multiply(this.hierarchy[_t].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var ht=0,xt=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;ht<xt;)this.localTransforms[ht]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[ht]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),ht+=1;if(this.finalTransform._localMatMdf){var _t=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(_t),ht=1;ht<xt;ht+=1){var St=this.localTransforms[ht].matrix;_t.multiply(St)}_t.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var wt=this.finalTransform.localOpacity;for(ht=0;ht<xt;ht+=1)wt*=this.localTransforms[ht].opacity*.01;this.finalTransform.localOpacity=wt}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var ht=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(ht.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var xt=0,_t=ht.length;for(xt=0;xt<_t;xt+=1)this.localTransforms.push(ht[xt])}}},globalToLocal:function(ht){var xt=[];xt.push(this.finalTransform);for(var _t=!0,St=this.comp;_t;)St.finalTransform?(St.data.hasMask&&xt.splice(0,0,St.finalTransform),St=St.comp):_t=!1;var wt,At=xt.length,Ct;for(wt=0;wt<At;wt+=1)Ct=xt[wt].mat.applyToPointArray(0,0,0),ht=[ht[0]-Ct[0],ht[1]-Ct[1],0];return ht},mHelper:new Matrix};function MaskElement(vt,ht,xt){this.data=vt,this.element=ht,this.globalData=xt,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var _t=this.globalData.defs,St,wt=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(wt),this.solidPath="";var At,Ct=this.masksProperties,Rt=0,It=[],Lt,kt,Dt=createElementID(),$t,Ot,zt,Gt,Bt="clipPath",Ut="clip-path";for(St=0;St<wt;St+=1)if((Ct[St].mode!=="a"&&Ct[St].mode!=="n"||Ct[St].inv||Ct[St].o.k!==100||Ct[St].o.x)&&(Bt="mask",Ut="mask"),(Ct[St].mode==="s"||Ct[St].mode==="i")&&Rt===0?($t=createNS("rect"),$t.setAttribute("fill","#ffffff"),$t.setAttribute("width",this.element.comp.data.w||0),$t.setAttribute("height",this.element.comp.data.h||0),It.push($t)):$t=null,At=createNS("path"),Ct[St].mode==="n")this.viewData[St]={op:PropertyFactory.getProp(this.element,Ct[St].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ct[St],3),elem:At,lastPath:""},_t.appendChild(At);else{Rt+=1,At.setAttribute("fill",Ct[St].mode==="s"?"#000000":"#ffffff"),At.setAttribute("clip-rule","nonzero");var Vt;if(Ct[St].x.k!==0?(Bt="mask",Ut="mask",Gt=PropertyFactory.getProp(this.element,Ct[St].x,0,null,this.element),Vt=createElementID(),Ot=createNS("filter"),Ot.setAttribute("id",Vt),zt=createNS("feMorphology"),zt.setAttribute("operator","erode"),zt.setAttribute("in","SourceGraphic"),zt.setAttribute("radius","0"),Ot.appendChild(zt),_t.appendChild(Ot),At.setAttribute("stroke",Ct[St].mode==="s"?"#000000":"#ffffff")):(zt=null,Gt=null),this.storedData[St]={elem:At,x:Gt,expan:zt,lastPath:"",lastOperator:"",filterId:Vt,lastRadius:0},Ct[St].mode==="i"){kt=It.length;var Ht=createNS("g");for(Lt=0;Lt<kt;Lt+=1)Ht.appendChild(It[Lt]);var Xt=createNS("mask");Xt.setAttribute("mask-type","alpha"),Xt.setAttribute("id",Dt+"_"+Rt),Xt.appendChild(At),_t.appendChild(Xt),Ht.setAttribute("mask","url("+getLocationHref()+"#"+Dt+"_"+Rt+")"),It.length=0,It.push(Ht)}else It.push(At);Ct[St].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[St]={elem:At,lastPath:"",op:PropertyFactory.getProp(this.element,Ct[St].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ct[St],3),invRect:$t},this.viewData[St].prop.k||this.drawPath(Ct[St],this.viewData[St].prop.v,this.viewData[St])}for(this.maskElement=createNS(Bt),wt=It.length,St=0;St<wt;St+=1)this.maskElement.appendChild(It[St]);Rt>0&&(this.maskElement.setAttribute("id",Dt),this.element.maskedElement.setAttribute(Ut,"url("+getLocationHref()+"#"+Dt+")"),_t.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(vt){return this.viewData[vt].prop},MaskElement.prototype.renderFrame=function(vt){var ht=this.element.finalTransform.mat,xt,_t=this.masksProperties.length;for(xt=0;xt<_t;xt+=1)if((this.viewData[xt].prop._mdf||vt)&&this.drawPath(this.masksProperties[xt],this.viewData[xt].prop.v,this.viewData[xt]),(this.viewData[xt].op._mdf||vt)&&this.viewData[xt].elem.setAttribute("fill-opacity",this.viewData[xt].op.v),this.masksProperties[xt].mode!=="n"&&(this.viewData[xt].invRect&&(this.element.finalTransform.mProp._mdf||vt)&&this.viewData[xt].invRect.setAttribute("transform",ht.getInverseMatrix().to2dCSS()),this.storedData[xt].x&&(this.storedData[xt].x._mdf||vt))){var St=this.storedData[xt].expan;this.storedData[xt].x.v<0?(this.storedData[xt].lastOperator!=="erode"&&(this.storedData[xt].lastOperator="erode",this.storedData[xt].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[xt].filterId+")")),St.setAttribute("radius",-this.storedData[xt].x.v)):(this.storedData[xt].lastOperator!=="dilate"&&(this.storedData[xt].lastOperator="dilate",this.storedData[xt].elem.setAttribute("filter",null)),this.storedData[xt].elem.setAttribute("stroke-width",this.storedData[xt].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var vt="M0,0 ";return vt+=" h"+this.globalData.compSize.w,vt+=" v"+this.globalData.compSize.h,vt+=" h-"+this.globalData.compSize.w,vt+=" v-"+this.globalData.compSize.h+" ",vt},MaskElement.prototype.drawPath=function(vt,ht,xt){var _t=" M"+ht.v[0][0]+","+ht.v[0][1],St,wt;for(wt=ht._length,St=1;St<wt;St+=1)_t+=" C"+ht.o[St-1][0]+","+ht.o[St-1][1]+" "+ht.i[St][0]+","+ht.i[St][1]+" "+ht.v[St][0]+","+ht.v[St][1];if(ht.c&&wt>1&&(_t+=" C"+ht.o[St-1][0]+","+ht.o[St-1][1]+" "+ht.i[0][0]+","+ht.i[0][1]+" "+ht.v[0][0]+","+ht.v[0][1]),xt.lastPath!==_t){var At="";xt.elem&&(ht.c&&(At=vt.inv?this.solidPath+_t:_t),xt.elem.setAttribute("d",At)),xt.lastPath=_t}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var vt={};vt.createFilter=ht,vt.createAlphaToLuminanceFilter=xt;function ht(_t,St){var wt=createNS("filter");return wt.setAttribute("id",_t),St!==!0&&(wt.setAttribute("filterUnits","objectBoundingBox"),wt.setAttribute("x","0%"),wt.setAttribute("y","0%"),wt.setAttribute("width","100%"),wt.setAttribute("height","100%")),wt}function xt(){var _t=createNS("feColorMatrix");return _t.setAttribute("type","matrix"),_t.setAttribute("color-interpolation-filters","sRGB"),_t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),_t}return vt}(),featureSupport=function(){var vt={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(vt.maskType=!1),/firefox/i.test(navigator.userAgent)&&(vt.svgLumaHidden=!1),vt}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(vt){var ht,xt="SourceGraphic",_t=vt.data.ef?vt.data.ef.length:0,St=createElementID(),wt=filtersFactory.createFilter(St,!0),At=0;this.filters=[];var Ct;for(ht=0;ht<_t;ht+=1){Ct=null;var Rt=vt.data.ef[ht].ty;if(registeredEffects$1[Rt]){var It=registeredEffects$1[Rt].effect;Ct=new It(wt,vt.effectsManager.effectElements[ht],vt,idPrefix+At,xt),xt=idPrefix+At,registeredEffects$1[Rt].countsAsEffect&&(At+=1)}Ct&&this.filters.push(Ct)}At&&(vt.globalData.defs.appendChild(wt),vt.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+St+")")),this.filters.length&&vt.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(vt){var ht,xt=this.filters.length;for(ht=0;ht<xt;ht+=1)this.filters[ht].renderFrame(vt)},SVGEffects.prototype.getEffects=function(vt){var ht,xt=this.filters.length,_t=[];for(ht=0;ht<xt;ht+=1)this.filters[ht].type===vt&&_t.push(this.filters[ht]);return _t};function registerEffect$1(vt,ht,xt){registeredEffects$1[vt]={effect:ht,countsAsEffect:xt}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var ht=null;if(this.data.td){this.matteMasks={};var xt=createNS("g");xt.setAttribute("id",this.layerId),xt.appendChild(this.layerElement),ht=xt,this.globalData.defs.appendChild(xt)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),ht=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var _t=createNS("clipPath"),St=createNS("path");St.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var wt=createElementID();if(_t.setAttribute("id",wt),_t.appendChild(St),this.globalData.defs.appendChild(_t),this.checkMasks()){var At=createNS("g");At.setAttribute("clip-path","url("+getLocationHref()+"#"+wt+")"),At.appendChild(this.layerElement),this.transformedElement=At,ht?ht.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+wt+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(ht){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[ht]){var xt=this.layerId+"_"+ht,_t,St,wt,At;if(ht===1||ht===3){var Ct=createNS("mask");Ct.setAttribute("id",xt),Ct.setAttribute("mask-type",ht===3?"luminance":"alpha"),wt=createNS("use"),wt.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Ct.appendChild(wt),this.globalData.defs.appendChild(Ct),!featureSupport.maskType&&ht===1&&(Ct.setAttribute("mask-type","luminance"),_t=createElementID(),St=filtersFactory.createFilter(_t),this.globalData.defs.appendChild(St),St.appendChild(filtersFactory.createAlphaToLuminanceFilter()),At=createNS("g"),At.appendChild(wt),Ct.appendChild(At),At.setAttribute("filter","url("+getLocationHref()+"#"+_t+")"))}else if(ht===2){var Rt=createNS("mask");Rt.setAttribute("id",xt),Rt.setAttribute("mask-type","alpha");var It=createNS("g");Rt.appendChild(It),_t=createElementID(),St=filtersFactory.createFilter(_t);var Lt=createNS("feComponentTransfer");Lt.setAttribute("in","SourceGraphic"),St.appendChild(Lt);var kt=createNS("feFuncA");kt.setAttribute("type","table"),kt.setAttribute("tableValues","1.0 0.0"),Lt.appendChild(kt),this.globalData.defs.appendChild(St);var Dt=createNS("rect");Dt.setAttribute("width",this.comp.data.w),Dt.setAttribute("height",this.comp.data.h),Dt.setAttribute("x","0"),Dt.setAttribute("y","0"),Dt.setAttribute("fill","#ffffff"),Dt.setAttribute("opacity","0"),It.setAttribute("filter","url("+getLocationHref()+"#"+_t+")"),It.appendChild(Dt),wt=createNS("use"),wt.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),It.appendChild(wt),featureSupport.maskType||(Rt.setAttribute("mask-type","luminance"),St.appendChild(filtersFactory.createAlphaToLuminanceFilter()),At=createNS("g"),It.appendChild(Dt),At.appendChild(this.layerElement),It.appendChild(At)),this.globalData.defs.appendChild(Rt)}this.matteMasks[ht]=xt}return this.matteMasks[ht]},setMatte:function(ht){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+ht+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(ht){this.hierarchy=ht},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var vt={initElement:function(xt,_t,St){this.initFrame(),this.initBaseData(xt,_t,St),this.initTransform(xt,_t,St),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var xt=this.baseElement||this.layerElement;xt.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var xt=this.baseElement||this.layerElement;xt.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(xt){this._mdf=!1,this.prepareRenderableFrame(xt),this.prepareProperties(xt,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(vt)],RenderableDOMElement)})();function IImageElement(vt,ht,xt){this.assetData=ht.getAssetData(vt.refId),this.assetData&&this.assetData.sid&&(this.assetData=ht.slotManager.getProp(this.assetData)),this.initElement(vt,ht,xt),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var vt=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",vt),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(vt,ht){this.elem=vt,this.pos=ht}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(ht){var xt,_t=this.shapeModifiers.length;for(xt=0;xt<_t;xt+=1)this.shapeModifiers[xt].addShape(ht)},isShapeInAnimatedModifiers:function(ht){for(var xt=0,_t=this.shapeModifiers.length;xt<_t;)if(this.shapeModifiers[xt].isAnimatedWithShape(ht))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var ht,xt=this.shapes.length;for(ht=0;ht<xt;ht+=1)this.shapes[ht].sh.reset();xt=this.shapeModifiers.length;var _t;for(ht=xt-1;ht>=0&&(_t=this.shapeModifiers[ht].processShapes(this._isFirstFrame),!_t);ht-=1);}},searchProcessedElement:function(ht){for(var xt=this.processedElements,_t=0,St=xt.length;_t<St;){if(xt[_t].elem===ht)return xt[_t].pos;_t+=1}return 0},addProcessedElement:function(ht,xt){for(var _t=this.processedElements,St=_t.length;St;)if(St-=1,_t[St].elem===ht){_t[St].pos=xt;return}_t.push(new ProcessedElement(ht,xt))},prepareFrame:function(ht){this.prepareRenderableFrame(ht),this.prepareProperties(ht,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(vt,ht,xt){this.caches=[],this.styles=[],this.transformers=vt,this.lStr="",this.sh=xt,this.lvl=ht,this._isAnimated=!!xt.k;for(var _t=0,St=vt.length;_t<St;){if(vt[_t].mProps.dynamicProperties.length){this._isAnimated=!0;break}_t+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(vt,ht){this.data=vt,this.type=vt.ty,this.d="",this.lvl=ht,this._mdf=!1,this.closed=vt.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(vt,ht,xt,_t){this.elem=vt,this.frameId=-1,this.dataProps=createSizedArray(ht.length),this.renderer=xt,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",ht.length?ht.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(_t);var St,wt=ht.length||0,At;for(St=0;St<wt;St+=1)At=PropertyFactory.getProp(vt,ht[St].v,0,0,this),this.k=At.k||this.k,this.dataProps[St]={n:ht[St].n,p:At};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(vt){if(!(this.elem.globalData.frameId===this.frameId&&!vt)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||vt,this._mdf)){var ht=0,xt=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),ht=0;ht<xt;ht+=1)this.dataProps[ht].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[ht].p.v:this.dashArray[ht]=this.dataProps[ht].p.v:this.dashoffset[0]=this.dataProps[ht].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(vt,ht,xt){this.initDynamicPropertyContainer(vt),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(vt,ht.o,0,.01,this),this.w=PropertyFactory.getProp(vt,ht.w,0,null,this),this.d=new DashProperty(vt,ht.d||{},"svg",this),this.c=PropertyFactory.getProp(vt,ht.c,1,255,this),this.style=xt,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(vt,ht,xt){this.initDynamicPropertyContainer(vt),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(vt,ht.o,0,.01,this),this.c=PropertyFactory.getProp(vt,ht.c,1,255,this),this.style=xt}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(vt,ht,xt){this.initDynamicPropertyContainer(vt),this.getValue=this.iterateDynamicProperties,this.style=xt}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(vt,ht,xt){this.data=ht,this.c=createTypedArray("uint8c",ht.p*4);var _t=ht.k.k[0].s?ht.k.k[0].s.length-ht.p*4:ht.k.k.length-ht.p*4;this.o=createTypedArray("float32",_t),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=_t,this.initDynamicPropertyContainer(xt),this.prop=PropertyFactory.getProp(vt,ht.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(vt,ht){for(var xt=0,_t=this.o.length/2,St;xt<_t;){if(St=Math.abs(vt[xt*4]-vt[ht*4+xt*2]),St>.01)return!1;xt+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var vt=0,ht=this.data.k.k.length;vt<ht;){if(!this.comparePoints(this.data.k.k[vt].s,this.data.p))return!1;vt+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(vt){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||vt){var ht,xt=this.data.p*4,_t,St;for(ht=0;ht<xt;ht+=1)_t=ht%4===0?100:255,St=Math.round(this.prop.v[ht]*_t),this.c[ht]!==St&&(this.c[ht]=St,this._cmdf=!vt);if(this.o.length)for(xt=this.prop.v.length,ht=this.data.p*4;ht<xt;ht+=1)_t=ht%2===0?100:1,St=ht%2===0?Math.round(this.prop.v[ht]*100):this.prop.v[ht],this.o[ht-this.data.p*4]!==St&&(this.o[ht-this.data.p*4]=St,this._omdf=!vt);this._mdf=!vt}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(vt,ht,xt){this.initDynamicPropertyContainer(vt),this.getValue=this.iterateDynamicProperties,this.initGradientData(vt,ht,xt)}SVGGradientFillStyleData.prototype.initGradientData=function(vt,ht,xt){this.o=PropertyFactory.getProp(vt,ht.o,0,.01,this),this.s=PropertyFactory.getProp(vt,ht.s,1,null,this),this.e=PropertyFactory.getProp(vt,ht.e,1,null,this),this.h=PropertyFactory.getProp(vt,ht.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(vt,ht.a||{k:0},0,degToRads,this),this.g=new GradientProperty(vt,ht.g,this),this.style=xt,this.stops=[],this.setGradientData(xt.pElem,ht),this.setGradientOpacity(ht,xt),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(vt,ht){var xt=createElementID(),_t=createNS(ht.t===1?"linearGradient":"radialGradient");_t.setAttribute("id",xt),_t.setAttribute("spreadMethod","pad"),_t.setAttribute("gradientUnits","userSpaceOnUse");var St=[],wt,At,Ct;for(Ct=ht.g.p*4,At=0;At<Ct;At+=4)wt=createNS("stop"),_t.appendChild(wt),St.push(wt);vt.setAttribute(ht.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+xt+")"),this.gf=_t,this.cst=St},SVGGradientFillStyleData.prototype.setGradientOpacity=function(vt,ht){if(this.g._hasOpacity&&!this.g._collapsable){var xt,_t,St,wt=createNS("mask"),At=createNS("path");wt.appendChild(At);var Ct=createElementID(),Rt=createElementID();wt.setAttribute("id",Rt);var It=createNS(vt.t===1?"linearGradient":"radialGradient");It.setAttribute("id",Ct),It.setAttribute("spreadMethod","pad"),It.setAttribute("gradientUnits","userSpaceOnUse"),St=vt.g.k.k[0].s?vt.g.k.k[0].s.length:vt.g.k.k.length;var Lt=this.stops;for(_t=vt.g.p*4;_t<St;_t+=2)xt=createNS("stop"),xt.setAttribute("stop-color","rgb(255,255,255)"),It.appendChild(xt),Lt.push(xt);At.setAttribute(vt.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Ct+")"),vt.ty==="gs"&&(At.setAttribute("stroke-linecap",lineCapEnum[vt.lc||2]),At.setAttribute("stroke-linejoin",lineJoinEnum[vt.lj||2]),vt.lj===1&&At.setAttribute("stroke-miterlimit",vt.ml)),this.of=It,this.ms=wt,this.ost=Lt,this.maskId=Rt,ht.msElem=At}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(vt,ht,xt){this.initDynamicPropertyContainer(vt),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(vt,ht.w,0,null,this),this.d=new DashProperty(vt,ht.d||{},"svg",this),this.initGradientData(vt,ht,xt),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(vt,ht,xt){this.transform={mProps:vt,op:ht,container:xt},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(ht,xt,_t,St){if(xt===0)return"";var wt=ht.o,At=ht.i,Ct=ht.v,Rt,It=" M"+St.applyToPointStringified(Ct[0][0],Ct[0][1]);for(Rt=1;Rt<xt;Rt+=1)It+=" C"+St.applyToPointStringified(wt[Rt-1][0],wt[Rt-1][1])+" "+St.applyToPointStringified(At[Rt][0],At[Rt][1])+" "+St.applyToPointStringified(Ct[Rt][0],Ct[Rt][1]);return _t&&xt&&(It+=" C"+St.applyToPointStringified(wt[Rt-1][0],wt[Rt-1][1])+" "+St.applyToPointStringified(At[0][0],At[0][1])+" "+St.applyToPointStringified(Ct[0][0],Ct[0][1]),It+="z"),It},SVGElementsRenderer=function(){var vt=new Matrix,ht=new Matrix,xt={createRenderFunction:_t};function _t(kt){switch(kt.ty){case"fl":return Ct;case"gf":return It;case"gs":return Rt;case"st":return Lt;case"sh":case"el":case"rc":case"sr":return At;case"tr":return St;case"no":return wt;default:return null}}function St(kt,Dt,$t){($t||Dt.transform.op._mdf)&&Dt.transform.container.setAttribute("opacity",Dt.transform.op.v),($t||Dt.transform.mProps._mdf)&&Dt.transform.container.setAttribute("transform",Dt.transform.mProps.v.to2dCSS())}function wt(){}function At(kt,Dt,$t){var Ot,zt,Gt,Bt,Ut,Vt,Ht=Dt.styles.length,Xt=Dt.lvl,qt,Kt,en,tn;for(Vt=0;Vt<Ht;Vt+=1){if(Bt=Dt.sh._mdf||$t,Dt.styles[Vt].lvl<Xt){for(Kt=ht.reset(),en=Xt-Dt.styles[Vt].lvl,tn=Dt.transformers.length-1;!Bt&&en>0;)Bt=Dt.transformers[tn].mProps._mdf||Bt,en-=1,tn-=1;if(Bt)for(en=Xt-Dt.styles[Vt].lvl,tn=Dt.transformers.length-1;en>0;)Kt.multiply(Dt.transformers[tn].mProps.v),en-=1,tn-=1}else Kt=vt;if(qt=Dt.sh.paths,zt=qt._length,Bt){for(Gt="",Ot=0;Ot<zt;Ot+=1)Ut=qt.shapes[Ot],Ut&&Ut._length&&(Gt+=buildShapeString(Ut,Ut._length,Ut.c,Kt));Dt.caches[Vt]=Gt}else Gt=Dt.caches[Vt];Dt.styles[Vt].d+=kt.hd===!0?"":Gt,Dt.styles[Vt]._mdf=Bt||Dt.styles[Vt]._mdf}}function Ct(kt,Dt,$t){var Ot=Dt.style;(Dt.c._mdf||$t)&&Ot.pElem.setAttribute("fill","rgb("+bmFloor(Dt.c.v[0])+","+bmFloor(Dt.c.v[1])+","+bmFloor(Dt.c.v[2])+")"),(Dt.o._mdf||$t)&&Ot.pElem.setAttribute("fill-opacity",Dt.o.v)}function Rt(kt,Dt,$t){It(kt,Dt,$t),Lt(kt,Dt,$t)}function It(kt,Dt,$t){var Ot=Dt.gf,zt=Dt.g._hasOpacity,Gt=Dt.s.v,Bt=Dt.e.v;if(Dt.o._mdf||$t){var Ut=kt.ty==="gf"?"fill-opacity":"stroke-opacity";Dt.style.pElem.setAttribute(Ut,Dt.o.v)}if(Dt.s._mdf||$t){var Vt=kt.t===1?"x1":"cx",Ht=Vt==="x1"?"y1":"cy";Ot.setAttribute(Vt,Gt[0]),Ot.setAttribute(Ht,Gt[1]),zt&&!Dt.g._collapsable&&(Dt.of.setAttribute(Vt,Gt[0]),Dt.of.setAttribute(Ht,Gt[1]))}var Xt,qt,Kt,en;if(Dt.g._cmdf||$t){Xt=Dt.cst;var tn=Dt.g.c;for(Kt=Xt.length,qt=0;qt<Kt;qt+=1)en=Xt[qt],en.setAttribute("offset",tn[qt*4]+"%"),en.setAttribute("stop-color","rgb("+tn[qt*4+1]+","+tn[qt*4+2]+","+tn[qt*4+3]+")")}if(zt&&(Dt.g._omdf||$t)){var Qt=Dt.g.o;for(Dt.g._collapsable?Xt=Dt.cst:Xt=Dt.ost,Kt=Xt.length,qt=0;qt<Kt;qt+=1)en=Xt[qt],Dt.g._collapsable||en.setAttribute("offset",Qt[qt*2]+"%"),en.setAttribute("stop-opacity",Qt[qt*2+1])}if(kt.t===1)(Dt.e._mdf||$t)&&(Ot.setAttribute("x2",Bt[0]),Ot.setAttribute("y2",Bt[1]),zt&&!Dt.g._collapsable&&(Dt.of.setAttribute("x2",Bt[0]),Dt.of.setAttribute("y2",Bt[1])));else{var sn;if((Dt.s._mdf||Dt.e._mdf||$t)&&(sn=Math.sqrt(Math.pow(Gt[0]-Bt[0],2)+Math.pow(Gt[1]-Bt[1],2)),Ot.setAttribute("r",sn),zt&&!Dt.g._collapsable&&Dt.of.setAttribute("r",sn)),Dt.s._mdf||Dt.e._mdf||Dt.h._mdf||Dt.a._mdf||$t){sn||(sn=Math.sqrt(Math.pow(Gt[0]-Bt[0],2)+Math.pow(Gt[1]-Bt[1],2)));var un=Math.atan2(Bt[1]-Gt[1],Bt[0]-Gt[0]),dn=Dt.h.v;dn>=1?dn=.99:dn<=-1&&(dn=-.99);var vn=sn*dn,pn=Math.cos(un+Dt.a.v)*vn+Gt[0],rn=Math.sin(un+Dt.a.v)*vn+Gt[1];Ot.setAttribute("fx",pn),Ot.setAttribute("fy",rn),zt&&!Dt.g._collapsable&&(Dt.of.setAttribute("fx",pn),Dt.of.setAttribute("fy",rn))}}}function Lt(kt,Dt,$t){var Ot=Dt.style,zt=Dt.d;zt&&(zt._mdf||$t)&&zt.dashStr&&(Ot.pElem.setAttribute("stroke-dasharray",zt.dashStr),Ot.pElem.setAttribute("stroke-dashoffset",zt.dashoffset[0])),Dt.c&&(Dt.c._mdf||$t)&&Ot.pElem.setAttribute("stroke","rgb("+bmFloor(Dt.c.v[0])+","+bmFloor(Dt.c.v[1])+","+bmFloor(Dt.c.v[2])+")"),(Dt.o._mdf||$t)&&Ot.pElem.setAttribute("stroke-opacity",Dt.o.v),(Dt.w._mdf||$t)&&(Ot.pElem.setAttribute("stroke-width",Dt.w.v),Ot.msElem&&Ot.msElem.setAttribute("stroke-width",Dt.w.v))}return xt}();function SVGShapeElement(vt,ht,xt){this.shapes=[],this.shapesData=vt.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(vt,ht,xt),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var vt,ht=this.shapes.length,xt,_t,St=this.stylesList.length,wt,At=[],Ct=!1;for(_t=0;_t<St;_t+=1){for(wt=this.stylesList[_t],Ct=!1,At.length=0,vt=0;vt<ht;vt+=1)xt=this.shapes[vt],xt.styles.indexOf(wt)!==-1&&(At.push(xt),Ct=xt._isAnimated||Ct);At.length>1&&Ct&&this.setShapesAsAnimated(At)}},SVGShapeElement.prototype.setShapesAsAnimated=function(vt){var ht,xt=vt.length;for(ht=0;ht<xt;ht+=1)vt[ht].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(vt,ht){var xt,_t=new SVGStyleData(vt,ht),St=_t.pElem;if(vt.ty==="st")xt=new SVGStrokeStyleData(this,vt,_t);else if(vt.ty==="fl")xt=new SVGFillStyleData(this,vt,_t);else if(vt.ty==="gf"||vt.ty==="gs"){var wt=vt.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;xt=new wt(this,vt,_t),this.globalData.defs.appendChild(xt.gf),xt.maskId&&(this.globalData.defs.appendChild(xt.ms),this.globalData.defs.appendChild(xt.of),St.setAttribute("mask","url("+getLocationHref()+"#"+xt.maskId+")"))}else vt.ty==="no"&&(xt=new SVGNoStyleData(this,vt,_t));return(vt.ty==="st"||vt.ty==="gs")&&(St.setAttribute("stroke-linecap",lineCapEnum[vt.lc||2]),St.setAttribute("stroke-linejoin",lineJoinEnum[vt.lj||2]),St.setAttribute("fill-opacity","0"),vt.lj===1&&St.setAttribute("stroke-miterlimit",vt.ml)),vt.r===2&&St.setAttribute("fill-rule","evenodd"),vt.ln&&St.setAttribute("id",vt.ln),vt.cl&&St.setAttribute("class",vt.cl),vt.bm&&(St.style["mix-blend-mode"]=getBlendMode(vt.bm)),this.stylesList.push(_t),this.addToAnimatedContents(vt,xt),xt},SVGShapeElement.prototype.createGroupElement=function(vt){var ht=new ShapeGroupData;return vt.ln&&ht.gr.setAttribute("id",vt.ln),vt.cl&&ht.gr.setAttribute("class",vt.cl),vt.bm&&(ht.gr.style["mix-blend-mode"]=getBlendMode(vt.bm)),ht},SVGShapeElement.prototype.createTransformElement=function(vt,ht){var xt=TransformPropertyFactory.getTransformProperty(this,vt,this),_t=new SVGTransformData(xt,xt.o,ht);return this.addToAnimatedContents(vt,_t),_t},SVGShapeElement.prototype.createShapeElement=function(vt,ht,xt){var _t=4;vt.ty==="rc"?_t=5:vt.ty==="el"?_t=6:vt.ty==="sr"&&(_t=7);var St=ShapePropertyFactory.getShapeProp(this,vt,_t,this),wt=new SVGShapeData(ht,xt,St);return this.shapes.push(wt),this.addShapeToModifiers(wt),this.addToAnimatedContents(vt,wt),wt},SVGShapeElement.prototype.addToAnimatedContents=function(vt,ht){for(var xt=0,_t=this.animatedContents.length;xt<_t;){if(this.animatedContents[xt].element===ht)return;xt+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(vt),element:ht,data:vt})},SVGShapeElement.prototype.setElementStyles=function(vt){var ht=vt.styles,xt,_t=this.stylesList.length;for(xt=0;xt<_t;xt+=1)ht.indexOf(this.stylesList[xt])===-1&&!this.stylesList[xt].closed&&ht.push(this.stylesList[xt])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var vt,ht=this.itemsData.length;for(vt=0;vt<ht;vt+=1)this.prevViewData[vt]=this.itemsData[vt];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),ht=this.dynamicProperties.length,vt=0;vt<ht;vt+=1)this.dynamicProperties[vt].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(vt,ht,xt,_t,St,wt,At){var Ct=[].concat(wt),Rt,It=vt.length-1,Lt,kt,Dt=[],$t=[],Ot,zt,Gt;for(Rt=It;Rt>=0;Rt-=1){if(Gt=this.searchProcessedElement(vt[Rt]),Gt?ht[Rt]=xt[Gt-1]:vt[Rt]._render=At,vt[Rt].ty==="fl"||vt[Rt].ty==="st"||vt[Rt].ty==="gf"||vt[Rt].ty==="gs"||vt[Rt].ty==="no")Gt?ht[Rt].style.closed=vt[Rt].hd:ht[Rt]=this.createStyleElement(vt[Rt],St),vt[Rt]._render&&ht[Rt].style.pElem.parentNode!==_t&&_t.appendChild(ht[Rt].style.pElem),Dt.push(ht[Rt].style);else if(vt[Rt].ty==="gr"){if(!Gt)ht[Rt]=this.createGroupElement(vt[Rt]);else for(kt=ht[Rt].it.length,Lt=0;Lt<kt;Lt+=1)ht[Rt].prevViewData[Lt]=ht[Rt].it[Lt];this.searchShapes(vt[Rt].it,ht[Rt].it,ht[Rt].prevViewData,ht[Rt].gr,St+1,Ct,At),vt[Rt]._render&&ht[Rt].gr.parentNode!==_t&&_t.appendChild(ht[Rt].gr)}else vt[Rt].ty==="tr"?(Gt||(ht[Rt]=this.createTransformElement(vt[Rt],_t)),Ot=ht[Rt].transform,Ct.push(Ot)):vt[Rt].ty==="sh"||vt[Rt].ty==="rc"||vt[Rt].ty==="el"||vt[Rt].ty==="sr"?(Gt||(ht[Rt]=this.createShapeElement(vt[Rt],Ct,St)),this.setElementStyles(ht[Rt])):vt[Rt].ty==="tm"||vt[Rt].ty==="rd"||vt[Rt].ty==="ms"||vt[Rt].ty==="pb"||vt[Rt].ty==="zz"||vt[Rt].ty==="op"?(Gt?(zt=ht[Rt],zt.closed=!1):(zt=ShapeModifiers.getModifier(vt[Rt].ty),zt.init(this,vt[Rt]),ht[Rt]=zt,this.shapeModifiers.push(zt)),$t.push(zt)):vt[Rt].ty==="rp"&&(Gt?(zt=ht[Rt],zt.closed=!0):(zt=ShapeModifiers.getModifier(vt[Rt].ty),ht[Rt]=zt,zt.init(this,vt,Rt,ht),this.shapeModifiers.push(zt),At=!1),$t.push(zt));this.addProcessedElement(vt[Rt],Rt+1)}for(It=Dt.length,Rt=0;Rt<It;Rt+=1)Dt[Rt].closed=!0;for(It=$t.length,Rt=0;Rt<It;Rt+=1)$t[Rt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var vt,ht=this.stylesList.length;for(vt=0;vt<ht;vt+=1)this.stylesList[vt].reset();for(this.renderShape(),vt=0;vt<ht;vt+=1)(this.stylesList[vt]._mdf||this._isFirstFrame)&&(this.stylesList[vt].msElem&&(this.stylesList[vt].msElem.setAttribute("d",this.stylesList[vt].d),this.stylesList[vt].d="M0 0"+this.stylesList[vt].d),this.stylesList[vt].pElem.setAttribute("d",this.stylesList[vt].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var vt,ht=this.animatedContents.length,xt;for(vt=0;vt<ht;vt+=1)xt=this.animatedContents[vt],(this._isFirstFrame||xt.element._isAnimated)&&xt.data!==!0&&xt.fn(xt.data,xt.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(vt,ht,xt,_t,St,wt){this.o=vt,this.sw=ht,this.sc=xt,this.fc=_t,this.m=St,this.p=wt,this._mdf={o:!0,sw:!!ht,sc:!!xt,fc:!!_t,m:!0,p:!0}}LetterProps.prototype.update=function(vt,ht,xt,_t,St,wt){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var At=!1;return this.o!==vt&&(this.o=vt,this._mdf.o=!0,At=!0),this.sw!==ht&&(this.sw=ht,this._mdf.sw=!0,At=!0),this.sc!==xt&&(this.sc=xt,this._mdf.sc=!0,At=!0),this.fc!==_t&&(this.fc=_t,this._mdf.fc=!0,At=!0),this.m!==St&&(this.m=St,this._mdf.m=!0,At=!0),wt.length&&(this.p[0]!==wt[0]||this.p[1]!==wt[1]||this.p[4]!==wt[4]||this.p[5]!==wt[5]||this.p[12]!==wt[12]||this.p[13]!==wt[13])&&(this.p=wt,this._mdf.p=!0,At=!0),At};function TextProperty(vt,ht){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,ht.d&&ht.d.sid&&(ht.d=vt.globalData.slotManager.getProp(ht.d)),this.data=ht,this.elem=vt,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(vt,ht){for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt]);return vt},TextProperty.prototype.setCurrentData=function(vt){vt.__complete||this.completeTextData(vt),this.currentData=vt,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(vt){this.effectsSequence.push(vt),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(vt){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!vt)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var ht=this.currentData,xt=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var _t,St=this.effectsSequence.length,wt=vt||this.data.d.k[this.keysIndex].s;for(_t=0;_t<St;_t+=1)xt!==this.keysIndex?wt=this.effectsSequence[_t](wt,wt.t):wt=this.effectsSequence[_t](this.currentData,wt.t);ht!==wt&&this.setCurrentData(wt),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var vt=this.data.d.k,ht=this.elem.comp.renderedFrame,xt=0,_t=vt.length;xt<=_t-1&&!(xt===_t-1||vt[xt+1].t>ht);)xt+=1;return this.keysIndex!==xt&&(this.keysIndex=xt),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(vt){for(var ht=[],xt=0,_t=vt.length,St,wt,At=!1,Ct=!1,Rt="";xt<_t;)At=Ct,Ct=!1,St=vt.charCodeAt(xt),Rt=vt.charAt(xt),FontManager.isCombinedCharacter(St)?At=!0:St>=55296&&St<=56319?FontManager.isRegionalFlag(vt,xt)?Rt=vt.substr(xt,14):(wt=vt.charCodeAt(xt+1),wt>=56320&&wt<=57343&&(FontManager.isModifier(St,wt)?(Rt=vt.substr(xt,2),At=!0):FontManager.isFlagEmoji(vt.substr(xt,4))?Rt=vt.substr(xt,4):Rt=vt.substr(xt,2))):St>56319?(wt=vt.charCodeAt(xt+1),FontManager.isVariationSelector(St)&&(At=!0)):FontManager.isZeroWidthJoiner(St)&&(At=!0,Ct=!0),At?(ht[ht.length-1]+=Rt,At=!1):ht.push(Rt),xt+=Rt.length;return ht},TextProperty.prototype.completeTextData=function(vt){vt.__complete=!0;var ht=this.elem.globalData.fontManager,xt=this.data,_t=[],St,wt,At,Ct=0,Rt,It=xt.m.g,Lt=0,kt=0,Dt=0,$t=[],Ot=0,zt=0,Gt,Bt,Ut=ht.getFontByName(vt.f),Vt,Ht=0,Xt=getFontProperties(Ut);vt.fWeight=Xt.weight,vt.fStyle=Xt.style,vt.finalSize=vt.s,vt.finalText=this.buildFinalText(vt.t),wt=vt.finalText.length,vt.finalLineHeight=vt.lh;var qt=vt.tr/1e3*vt.finalSize,Kt;if(vt.sz)for(var en=!0,tn=vt.sz[0],Qt=vt.sz[1],sn,un;en;){un=this.buildFinalText(vt.t),sn=0,Ot=0,wt=un.length,qt=vt.tr/1e3*vt.finalSize;var dn=-1;for(St=0;St<wt;St+=1)Kt=un[St].charCodeAt(0),At=!1,un[St]===" "?dn=St:(Kt===13||Kt===3)&&(Ot=0,At=!0,sn+=vt.finalLineHeight||vt.finalSize*1.2),ht.chars?(Vt=ht.getCharData(un[St],Ut.fStyle,Ut.fFamily),Ht=At?0:Vt.w*vt.finalSize/100):Ht=ht.measureText(un[St],vt.f,vt.finalSize),Ot+Ht>tn&&un[St]!==" "?(dn===-1?wt+=1:St=dn,sn+=vt.finalLineHeight||vt.finalSize*1.2,un.splice(St,dn===St?1:0,"\r"),dn=-1,Ot=0):(Ot+=Ht,Ot+=qt);sn+=Ut.ascent*vt.finalSize/100,this.canResize&&vt.finalSize>this.minimumFontSize&&Qt<sn?(vt.finalSize-=1,vt.finalLineHeight=vt.finalSize*vt.lh/vt.s):(vt.finalText=un,wt=vt.finalText.length,en=!1)}Ot=-qt,Ht=0;var vn=0,pn;for(St=0;St<wt;St+=1)if(At=!1,pn=vt.finalText[St],Kt=pn.charCodeAt(0),Kt===13||Kt===3?(vn=0,$t.push(Ot),zt=Ot>zt?Ot:zt,Ot=-2*qt,Rt="",At=!0,Dt+=1):Rt=pn,ht.chars?(Vt=ht.getCharData(pn,Ut.fStyle,ht.getFontByName(vt.f).fFamily),Ht=At?0:Vt.w*vt.finalSize/100):Ht=ht.measureText(Rt,vt.f,vt.finalSize),pn===" "?vn+=Ht+qt:(Ot+=Ht+qt+vn,vn=0),_t.push({l:Ht,an:Ht,add:Lt,n:At,anIndexes:[],val:Rt,line:Dt,animatorJustifyOffset:0}),It==2){if(Lt+=Ht,Rt===""||Rt===" "||St===wt-1){for((Rt===""||Rt===" ")&&(Lt-=Ht);kt<=St;)_t[kt].an=Lt,_t[kt].ind=Ct,_t[kt].extra=Ht,kt+=1;Ct+=1,Lt=0}}else if(It==3){if(Lt+=Ht,Rt===""||St===wt-1){for(Rt===""&&(Lt-=Ht);kt<=St;)_t[kt].an=Lt,_t[kt].ind=Ct,_t[kt].extra=Ht,kt+=1;Lt=0,Ct+=1}}else _t[Ct].ind=Ct,_t[Ct].extra=0,Ct+=1;if(vt.l=_t,zt=Ot>zt?Ot:zt,$t.push(Ot),vt.sz)vt.boxWidth=vt.sz[0],vt.justifyOffset=0;else switch(vt.boxWidth=zt,vt.j){case 1:vt.justifyOffset=-vt.boxWidth;break;case 2:vt.justifyOffset=-vt.boxWidth/2;break;default:vt.justifyOffset=0}vt.lineWidths=$t;var rn=xt.a,an,Yt;Bt=rn.length;var Jt,on,ln=[];for(Gt=0;Gt<Bt;Gt+=1){for(an=rn[Gt],an.a.sc&&(vt.strokeColorAnim=!0),an.a.sw&&(vt.strokeWidthAnim=!0),(an.a.fc||an.a.fh||an.a.fs||an.a.fb)&&(vt.fillColorAnim=!0),on=0,Jt=an.s.b,St=0;St<wt;St+=1)Yt=_t[St],Yt.anIndexes[Gt]=on,(Jt==1&&Yt.val!==""||Jt==2&&Yt.val!==""&&Yt.val!==" "||Jt==3&&(Yt.n||Yt.val==" "||St==wt-1)||Jt==4&&(Yt.n||St==wt-1))&&(an.s.rn===1&&ln.push(on),on+=1);xt.a[Gt].s.totalChars=on;var _n=-1,wn;if(an.s.rn===1)for(St=0;St<wt;St+=1)Yt=_t[St],_n!=Yt.anIndexes[Gt]&&(_n=Yt.anIndexes[Gt],wn=ln.splice(Math.floor(Math.random()*ln.length),1)[0]),Yt.anIndexes[Gt]=wn}vt.yOffset=vt.finalLineHeight||vt.finalSize*1.2,vt.ls=vt.ls||0,vt.ascent=Ut.ascent*vt.finalSize/100},TextProperty.prototype.updateDocumentData=function(vt,ht){ht=ht===void 0?this.keysIndex:ht;var xt=this.copyData({},this.data.d.k[ht].s);xt=this.copyData(xt,vt),this.data.d.k[ht].s=xt,this.recalculate(ht),this.setCurrentData(xt),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(vt){var ht=this.data.d.k[vt].s;ht.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(ht)},TextProperty.prototype.canResizeFont=function(vt){this.canResize=vt,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(vt){this.minimumFontSize=Math.floor(vt)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var vt=Math.max,ht=Math.min,xt=Math.floor;function _t(wt,At){this._currentTextLength=-1,this.k=!1,this.data=At,this.elem=wt,this.comp=wt.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(wt),this.s=PropertyFactory.getProp(wt,At.s||{k:0},0,0,this),"e"in At?this.e=PropertyFactory.getProp(wt,At.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(wt,At.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(wt,At.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(wt,At.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(wt,At.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(wt,At.a,0,.01,this),this.dynamicProperties.length||this.getValue()}_t.prototype={getMult:function(At){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var Ct=0,Rt=0,It=1,Lt=1;this.ne.v>0?Ct=this.ne.v/100:Rt=-this.ne.v/100,this.xe.v>0?It=1-this.xe.v/100:Lt=1+this.xe.v/100;var kt=BezierFactory.getBezierEasing(Ct,Rt,It,Lt).get,Dt=0,$t=this.finalS,Ot=this.finalE,zt=this.data.sh;if(zt===2)Ot===$t?Dt=At>=Ot?1:0:Dt=vt(0,ht(.5/(Ot-$t)+(At-$t)/(Ot-$t),1)),Dt=kt(Dt);else if(zt===3)Ot===$t?Dt=At>=Ot?0:1:Dt=1-vt(0,ht(.5/(Ot-$t)+(At-$t)/(Ot-$t),1)),Dt=kt(Dt);else if(zt===4)Ot===$t?Dt=0:(Dt=vt(0,ht(.5/(Ot-$t)+(At-$t)/(Ot-$t),1)),Dt<.5?Dt*=2:Dt=1-2*(Dt-.5)),Dt=kt(Dt);else if(zt===5){if(Ot===$t)Dt=0;else{var Gt=Ot-$t;At=ht(vt(0,At+.5-$t),Ot-$t);var Bt=-Gt/2+At,Ut=Gt/2;Dt=Math.sqrt(1-Bt*Bt/(Ut*Ut))}Dt=kt(Dt)}else zt===6?(Ot===$t?Dt=0:(At=ht(vt(0,At+.5-$t),Ot-$t),Dt=(1+Math.cos(Math.PI+Math.PI*2*At/(Ot-$t)))/2),Dt=kt(Dt)):(At>=xt($t)&&(At-$t<0?Dt=vt(0,ht(ht(Ot,1)-($t-At),1)):Dt=vt(0,ht(Ot-At,1))),Dt=kt(Dt));if(this.sm.v!==100){var Vt=this.sm.v*.01;Vt===0&&(Vt=1e-8);var Ht=.5-Vt*.5;Dt<Ht?Dt=0:(Dt=(Dt-Ht)/Vt,Dt>1&&(Dt=1))}return Dt*this.a.v},getValue:function(At){this.iterateDynamicProperties(),this._mdf=At||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,At&&this.data.r===2&&(this.e.v=this._currentTextLength);var Ct=this.data.r===2?1:100/this.data.totalChars,Rt=this.o.v/Ct,It=this.s.v/Ct+Rt,Lt=this.e.v/Ct+Rt;if(It>Lt){var kt=It;It=Lt,Lt=kt}this.finalS=It,this.finalE=Lt}},extendPrototype([DynamicPropertyContainer],_t);function St(wt,At,Ct){return new _t(wt,At)}return{getTextSelectorProp:St}}();function TextAnimatorDataProperty(vt,ht,xt){var _t={propType:!1},St=PropertyFactory.getProp,wt=ht.a;this.a={r:wt.r?St(vt,wt.r,0,degToRads,xt):_t,rx:wt.rx?St(vt,wt.rx,0,degToRads,xt):_t,ry:wt.ry?St(vt,wt.ry,0,degToRads,xt):_t,sk:wt.sk?St(vt,wt.sk,0,degToRads,xt):_t,sa:wt.sa?St(vt,wt.sa,0,degToRads,xt):_t,s:wt.s?St(vt,wt.s,1,.01,xt):_t,a:wt.a?St(vt,wt.a,1,0,xt):_t,o:wt.o?St(vt,wt.o,0,.01,xt):_t,p:wt.p?St(vt,wt.p,1,0,xt):_t,sw:wt.sw?St(vt,wt.sw,0,0,xt):_t,sc:wt.sc?St(vt,wt.sc,1,0,xt):_t,fc:wt.fc?St(vt,wt.fc,1,0,xt):_t,fh:wt.fh?St(vt,wt.fh,0,0,xt):_t,fs:wt.fs?St(vt,wt.fs,0,.01,xt):_t,fb:wt.fb?St(vt,wt.fb,0,.01,xt):_t,t:wt.t?St(vt,wt.t,0,0,xt):_t},this.s=TextSelectorProp.getTextSelectorProp(vt,ht.s,xt),this.s.t=ht.s.t}function TextAnimatorProperty(vt,ht,xt){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=vt,this._renderType=ht,this._elem=xt,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(xt)}TextAnimatorProperty.prototype.searchProperties=function(){var vt,ht=this._textData.a.length,xt,_t=PropertyFactory.getProp;for(vt=0;vt<ht;vt+=1)xt=this._textData.a[vt],this._animatorsData[vt]=new TextAnimatorDataProperty(this._elem,xt,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:_t(this._elem,this._textData.p.a,0,0,this),f:_t(this._elem,this._textData.p.f,0,0,this),l:_t(this._elem,this._textData.p.l,0,0,this),r:_t(this._elem,this._textData.p.r,0,0,this),p:_t(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=_t(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(vt,ht){if(this.lettersChangedFlag=ht,!(!this._mdf&&!this._isFirstFrame&&!ht&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var xt=this._moreOptions.alignment.v,_t=this._animatorsData,St=this._textData,wt=this.mHelper,At=this._renderType,Ct=this.renderedLetters.length,Rt,It,Lt,kt,Dt=vt.l,$t,Ot,zt,Gt,Bt,Ut,Vt,Ht,Xt,qt,Kt,en,tn,Qt,sn;if(this._hasMaskedPath){if(sn=this._pathData.m,!this._pathData.n||this._pathData._mdf){var un=sn.v;this._pathData.r.v&&(un=un.reverse()),$t={tLength:0,segments:[]},kt=un._length-1;var dn;for(en=0,Lt=0;Lt<kt;Lt+=1)dn=bez.buildBezierData(un.v[Lt],un.v[Lt+1],[un.o[Lt][0]-un.v[Lt][0],un.o[Lt][1]-un.v[Lt][1]],[un.i[Lt+1][0]-un.v[Lt+1][0],un.i[Lt+1][1]-un.v[Lt+1][1]]),$t.tLength+=dn.segmentLength,$t.segments.push(dn),en+=dn.segmentLength;Lt=kt,sn.v.c&&(dn=bez.buildBezierData(un.v[Lt],un.v[0],[un.o[Lt][0]-un.v[Lt][0],un.o[Lt][1]-un.v[Lt][1]],[un.i[0][0]-un.v[0][0],un.i[0][1]-un.v[0][1]]),$t.tLength+=dn.segmentLength,$t.segments.push(dn),en+=dn.segmentLength),this._pathData.pi=$t}if($t=this._pathData.pi,Ot=this._pathData.f.v,Vt=0,Ut=1,Gt=0,Bt=!0,qt=$t.segments,Ot<0&&sn.v.c)for($t.tLength<Math.abs(Ot)&&(Ot=-Math.abs(Ot)%$t.tLength),Vt=qt.length-1,Xt=qt[Vt].points,Ut=Xt.length-1;Ot<0;)Ot+=Xt[Ut].partialLength,Ut-=1,Ut<0&&(Vt-=1,Xt=qt[Vt].points,Ut=Xt.length-1);Xt=qt[Vt].points,Ht=Xt[Ut-1],zt=Xt[Ut],Kt=zt.partialLength}kt=Dt.length,Rt=0,It=0;var vn=vt.finalSize*1.2*.714,pn=!0,rn,an,Yt,Jt,on;Jt=_t.length;var ln,_n=-1,wn,xn,Pn,Bn=Ot,Hn=Vt,or=Ut,mr=-1,lr,dr,hn,Dn,An,Zn,$n,ur,qn="",er=this.defaultPropsArray,mn;if(vt.j===2||vt.j===1){var cn=0,Cn=0,Gn=vt.j===2?-.5:-1,On=0,zn=!0;for(Lt=0;Lt<kt;Lt+=1)if(Dt[Lt].n){for(cn&&(cn+=Cn);On<Lt;)Dt[On].animatorJustifyOffset=cn,On+=1;cn=0,zn=!0}else{for(Yt=0;Yt<Jt;Yt+=1)rn=_t[Yt].a,rn.t.propType&&(zn&&vt.j===2&&(Cn+=rn.t.v*Gn),an=_t[Yt].s,ln=an.getMult(Dt[Lt].anIndexes[Yt],St.a[Yt].s.totalChars),ln.length?cn+=rn.t.v*ln[0]*Gn:cn+=rn.t.v*ln*Gn);zn=!1}for(cn&&(cn+=Cn);On<Lt;)Dt[On].animatorJustifyOffset=cn,On+=1}for(Lt=0;Lt<kt;Lt+=1){if(wt.reset(),lr=1,Dt[Lt].n)Rt=0,It+=vt.yOffset,It+=pn?1:0,Ot=Bn,pn=!1,this._hasMaskedPath&&(Vt=Hn,Ut=or,Xt=qt[Vt].points,Ht=Xt[Ut-1],zt=Xt[Ut],Kt=zt.partialLength,Gt=0),qn="",ur="",Zn="",mn="",er=this.defaultPropsArray;else{if(this._hasMaskedPath){if(mr!==Dt[Lt].line){switch(vt.j){case 1:Ot+=en-vt.lineWidths[Dt[Lt].line];break;case 2:Ot+=(en-vt.lineWidths[Dt[Lt].line])/2;break}mr=Dt[Lt].line}_n!==Dt[Lt].ind&&(Dt[_n]&&(Ot+=Dt[_n].extra),Ot+=Dt[Lt].an/2,_n=Dt[Lt].ind),Ot+=xt[0]*Dt[Lt].an*.005;var ar=0;for(Yt=0;Yt<Jt;Yt+=1)rn=_t[Yt].a,rn.p.propType&&(an=_t[Yt].s,ln=an.getMult(Dt[Lt].anIndexes[Yt],St.a[Yt].s.totalChars),ln.length?ar+=rn.p.v[0]*ln[0]:ar+=rn.p.v[0]*ln),rn.a.propType&&(an=_t[Yt].s,ln=an.getMult(Dt[Lt].anIndexes[Yt],St.a[Yt].s.totalChars),ln.length?ar+=rn.a.v[0]*ln[0]:ar+=rn.a.v[0]*ln);for(Bt=!0,this._pathData.a.v&&(Ot=Dt[0].an*.5+(en-this._pathData.f.v-Dt[0].an*.5-Dt[Dt.length-1].an*.5)*_n/(kt-1),Ot+=this._pathData.f.v);Bt;)Gt+Kt>=Ot+ar||!Xt?(tn=(Ot+ar-Gt)/zt.partialLength,xn=Ht.point[0]+(zt.point[0]-Ht.point[0])*tn,Pn=Ht.point[1]+(zt.point[1]-Ht.point[1])*tn,wt.translate(-xt[0]*Dt[Lt].an*.005,-(xt[1]*vn)*.01),Bt=!1):Xt&&(Gt+=zt.partialLength,Ut+=1,Ut>=Xt.length&&(Ut=0,Vt+=1,qt[Vt]?Xt=qt[Vt].points:sn.v.c?(Ut=0,Vt=0,Xt=qt[Vt].points):(Gt-=zt.partialLength,Xt=null)),Xt&&(Ht=zt,zt=Xt[Ut],Kt=zt.partialLength));wn=Dt[Lt].an/2-Dt[Lt].add,wt.translate(-wn,0,0)}else wn=Dt[Lt].an/2-Dt[Lt].add,wt.translate(-wn,0,0),wt.translate(-xt[0]*Dt[Lt].an*.005,-xt[1]*vn*.01,0);for(Yt=0;Yt<Jt;Yt+=1)rn=_t[Yt].a,rn.t.propType&&(an=_t[Yt].s,ln=an.getMult(Dt[Lt].anIndexes[Yt],St.a[Yt].s.totalChars),(Rt!==0||vt.j!==0)&&(this._hasMaskedPath?ln.length?Ot+=rn.t.v*ln[0]:Ot+=rn.t.v*ln:ln.length?Rt+=rn.t.v*ln[0]:Rt+=rn.t.v*ln));for(vt.strokeWidthAnim&&(hn=vt.sw||0),vt.strokeColorAnim&&(vt.sc?dr=[vt.sc[0],vt.sc[1],vt.sc[2]]:dr=[0,0,0]),vt.fillColorAnim&&vt.fc&&(Dn=[vt.fc[0],vt.fc[1],vt.fc[2]]),Yt=0;Yt<Jt;Yt+=1)rn=_t[Yt].a,rn.a.propType&&(an=_t[Yt].s,ln=an.getMult(Dt[Lt].anIndexes[Yt],St.a[Yt].s.totalChars),ln.length?wt.translate(-rn.a.v[0]*ln[0],-rn.a.v[1]*ln[1],rn.a.v[2]*ln[2]):wt.translate(-rn.a.v[0]*ln,-rn.a.v[1]*ln,rn.a.v[2]*ln));for(Yt=0;Yt<Jt;Yt+=1)rn=_t[Yt].a,rn.s.propType&&(an=_t[Yt].s,ln=an.getMult(Dt[Lt].anIndexes[Yt],St.a[Yt].s.totalChars),ln.length?wt.scale(1+(rn.s.v[0]-1)*ln[0],1+(rn.s.v[1]-1)*ln[1],1):wt.scale(1+(rn.s.v[0]-1)*ln,1+(rn.s.v[1]-1)*ln,1));for(Yt=0;Yt<Jt;Yt+=1){if(rn=_t[Yt].a,an=_t[Yt].s,ln=an.getMult(Dt[Lt].anIndexes[Yt],St.a[Yt].s.totalChars),rn.sk.propType&&(ln.length?wt.skewFromAxis(-rn.sk.v*ln[0],rn.sa.v*ln[1]):wt.skewFromAxis(-rn.sk.v*ln,rn.sa.v*ln)),rn.r.propType&&(ln.length?wt.rotateZ(-rn.r.v*ln[2]):wt.rotateZ(-rn.r.v*ln)),rn.ry.propType&&(ln.length?wt.rotateY(rn.ry.v*ln[1]):wt.rotateY(rn.ry.v*ln)),rn.rx.propType&&(ln.length?wt.rotateX(rn.rx.v*ln[0]):wt.rotateX(rn.rx.v*ln)),rn.o.propType&&(ln.length?lr+=(rn.o.v*ln[0]-lr)*ln[0]:lr+=(rn.o.v*ln-lr)*ln),vt.strokeWidthAnim&&rn.sw.propType&&(ln.length?hn+=rn.sw.v*ln[0]:hn+=rn.sw.v*ln),vt.strokeColorAnim&&rn.sc.propType)for(An=0;An<3;An+=1)ln.length?dr[An]+=(rn.sc.v[An]-dr[An])*ln[0]:dr[An]+=(rn.sc.v[An]-dr[An])*ln;if(vt.fillColorAnim&&vt.fc){if(rn.fc.propType)for(An=0;An<3;An+=1)ln.length?Dn[An]+=(rn.fc.v[An]-Dn[An])*ln[0]:Dn[An]+=(rn.fc.v[An]-Dn[An])*ln;rn.fh.propType&&(ln.length?Dn=addHueToRGB(Dn,rn.fh.v*ln[0]):Dn=addHueToRGB(Dn,rn.fh.v*ln)),rn.fs.propType&&(ln.length?Dn=addSaturationToRGB(Dn,rn.fs.v*ln[0]):Dn=addSaturationToRGB(Dn,rn.fs.v*ln)),rn.fb.propType&&(ln.length?Dn=addBrightnessToRGB(Dn,rn.fb.v*ln[0]):Dn=addBrightnessToRGB(Dn,rn.fb.v*ln))}}for(Yt=0;Yt<Jt;Yt+=1)rn=_t[Yt].a,rn.p.propType&&(an=_t[Yt].s,ln=an.getMult(Dt[Lt].anIndexes[Yt],St.a[Yt].s.totalChars),this._hasMaskedPath?ln.length?wt.translate(0,rn.p.v[1]*ln[0],-rn.p.v[2]*ln[1]):wt.translate(0,rn.p.v[1]*ln,-rn.p.v[2]*ln):ln.length?wt.translate(rn.p.v[0]*ln[0],rn.p.v[1]*ln[1],-rn.p.v[2]*ln[2]):wt.translate(rn.p.v[0]*ln,rn.p.v[1]*ln,-rn.p.v[2]*ln));if(vt.strokeWidthAnim&&(Zn=hn<0?0:hn),vt.strokeColorAnim&&($n="rgb("+Math.round(dr[0]*255)+","+Math.round(dr[1]*255)+","+Math.round(dr[2]*255)+")"),vt.fillColorAnim&&vt.fc&&(ur="rgb("+Math.round(Dn[0]*255)+","+Math.round(Dn[1]*255)+","+Math.round(Dn[2]*255)+")"),this._hasMaskedPath){if(wt.translate(0,-vt.ls),wt.translate(0,xt[1]*vn*.01+It,0),this._pathData.p.v){Qt=(zt.point[1]-Ht.point[1])/(zt.point[0]-Ht.point[0]);var Yn=Math.atan(Qt)*180/Math.PI;zt.point[0]<Ht.point[0]&&(Yn+=180),wt.rotate(-Yn*Math.PI/180)}wt.translate(xn,Pn,0),Ot-=xt[0]*Dt[Lt].an*.005,Dt[Lt+1]&&_n!==Dt[Lt+1].ind&&(Ot+=Dt[Lt].an/2,Ot+=vt.tr*.001*vt.finalSize)}else{switch(wt.translate(Rt,It,0),vt.ps&&wt.translate(vt.ps[0],vt.ps[1]+vt.ascent,0),vt.j){case 1:wt.translate(Dt[Lt].animatorJustifyOffset+vt.justifyOffset+(vt.boxWidth-vt.lineWidths[Dt[Lt].line]),0,0);break;case 2:wt.translate(Dt[Lt].animatorJustifyOffset+vt.justifyOffset+(vt.boxWidth-vt.lineWidths[Dt[Lt].line])/2,0,0);break}wt.translate(0,-vt.ls),wt.translate(wn,0,0),wt.translate(xt[0]*Dt[Lt].an*.005,xt[1]*vn*.01,0),Rt+=Dt[Lt].l+vt.tr*.001*vt.finalSize}At==="html"?qn=wt.toCSS():At==="svg"?qn=wt.to2dCSS():er=[wt.props[0],wt.props[1],wt.props[2],wt.props[3],wt.props[4],wt.props[5],wt.props[6],wt.props[7],wt.props[8],wt.props[9],wt.props[10],wt.props[11],wt.props[12],wt.props[13],wt.props[14],wt.props[15]],mn=lr}Ct<=Lt?(on=new LetterProps(mn,Zn,$n,ur,qn,er),this.renderedLetters.push(on),Ct+=1,this.lettersChangedFlag=!0):(on=this.renderedLetters[Lt],this.lettersChangedFlag=on.update(mn,Zn,$n,ur,qn,er)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(vt,ht,xt){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(vt,ht,xt),this.textProperty=new TextProperty(this,vt.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(vt.t,this.renderType,this),this.initTransform(vt,ht,xt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(vt){this._mdf=!1,this.prepareRenderableFrame(vt),this.prepareProperties(vt,this.isInRange)},ITextElement.prototype.createPathShape=function(vt,ht){var xt,_t=ht.length,St,wt="";for(xt=0;xt<_t;xt+=1)ht[xt].ty==="sh"&&(St=ht[xt].ks.k,wt+=buildShapeString(St,St.i.length,!0,vt));return wt},ITextElement.prototype.updateDocumentData=function(vt,ht){this.textProperty.updateDocumentData(vt,ht)},ITextElement.prototype.canResizeFont=function(vt){this.textProperty.canResizeFont(vt)},ITextElement.prototype.setMinimumFontSize=function(vt){this.textProperty.setMinimumFontSize(vt)},ITextElement.prototype.applyTextPropertiesToMatrix=function(vt,ht,xt,_t,St){switch(vt.ps&&ht.translate(vt.ps[0],vt.ps[1]+vt.ascent,0),ht.translate(0,-vt.ls,0),vt.j){case 1:ht.translate(vt.justifyOffset+(vt.boxWidth-vt.lineWidths[xt]),0,0);break;case 2:ht.translate(vt.justifyOffset+(vt.boxWidth-vt.lineWidths[xt])/2,0,0);break}ht.translate(_t,St,0)},ITextElement.prototype.buildColor=function(vt){return"rgb("+Math.round(vt[0]*255)+","+Math.round(vt[1]*255)+","+Math.round(vt[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(vt,ht,xt){this.textSpans=[],this.renderType="svg",this.initElement(vt,ht,xt)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(vt){for(var ht=0,xt=vt.length,_t=[],St="";ht<xt;)vt[ht]==="\r"||vt[ht]===""?(_t.push(St),St=""):St+=vt[ht],ht+=1;return _t.push(St),_t},SVGTextLottieElement.prototype.buildShapeData=function(vt,ht){if(vt.shapes&&vt.shapes.length){var xt=vt.shapes[0];if(xt.it){var _t=xt.it[xt.it.length-1];_t.s&&(_t.s.k[0]=ht,_t.s.k[1]=ht)}}return vt},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var vt,ht,xt=this.textProperty.currentData;this.renderedLetters=createSizedArray(xt?xt.l.length:0),xt.fc?this.layerElement.setAttribute("fill",this.buildColor(xt.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),xt.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(xt.sc)),this.layerElement.setAttribute("stroke-width",xt.sw)),this.layerElement.setAttribute("font-size",xt.finalSize);var _t=this.globalData.fontManager.getFontByName(xt.f);if(_t.fClass)this.layerElement.setAttribute("class",_t.fClass);else{this.layerElement.setAttribute("font-family",_t.fFamily);var St=xt.fWeight,wt=xt.fStyle;this.layerElement.setAttribute("font-style",wt),this.layerElement.setAttribute("font-weight",St)}this.layerElement.setAttribute("aria-label",xt.t);var At=xt.l||[],Ct=!!this.globalData.fontManager.chars;ht=At.length;var Rt,It=this.mHelper,Lt="",kt=this.data.singleShape,Dt=0,$t=0,Ot=!0,zt=xt.tr*.001*xt.finalSize;if(kt&&!Ct&&!xt.sz){var Gt=this.textContainer,Bt="start";switch(xt.j){case 1:Bt="end";break;case 2:Bt="middle";break;default:Bt="start";break}Gt.setAttribute("text-anchor",Bt),Gt.setAttribute("letter-spacing",zt);var Ut=this.buildTextContents(xt.finalText);for(ht=Ut.length,$t=xt.ps?xt.ps[1]+xt.ascent:0,vt=0;vt<ht;vt+=1)Rt=this.textSpans[vt].span||createNS("tspan"),Rt.textContent=Ut[vt],Rt.setAttribute("x",0),Rt.setAttribute("y",$t),Rt.style.display="inherit",Gt.appendChild(Rt),this.textSpans[vt]||(this.textSpans[vt]={span:null,glyph:null}),this.textSpans[vt].span=Rt,$t+=xt.finalLineHeight;this.layerElement.appendChild(Gt)}else{var Vt=this.textSpans.length,Ht;for(vt=0;vt<ht;vt+=1){if(this.textSpans[vt]||(this.textSpans[vt]={span:null,childSpan:null,glyph:null}),!Ct||!kt||vt===0){if(Rt=Vt>vt?this.textSpans[vt].span:createNS(Ct?"g":"text"),Vt<=vt){if(Rt.setAttribute("stroke-linecap","butt"),Rt.setAttribute("stroke-linejoin","round"),Rt.setAttribute("stroke-miterlimit","4"),this.textSpans[vt].span=Rt,Ct){var Xt=createNS("g");Rt.appendChild(Xt),this.textSpans[vt].childSpan=Xt}this.textSpans[vt].span=Rt,this.layerElement.appendChild(Rt)}Rt.style.display="inherit"}if(It.reset(),kt&&(At[vt].n&&(Dt=-zt,$t+=xt.yOffset,$t+=Ot?1:0,Ot=!1),this.applyTextPropertiesToMatrix(xt,It,At[vt].line,Dt,$t),Dt+=At[vt].l||0,Dt+=zt),Ct){Ht=this.globalData.fontManager.getCharData(xt.finalText[vt],_t.fStyle,this.globalData.fontManager.getFontByName(xt.f).fFamily);var qt;if(Ht.t===1)qt=new SVGCompElement(Ht.data,this.globalData,this);else{var Kt=emptyShapeData;Ht.data&&Ht.data.shapes&&(Kt=this.buildShapeData(Ht.data,xt.finalSize)),qt=new SVGShapeElement(Kt,this.globalData,this)}if(this.textSpans[vt].glyph){var en=this.textSpans[vt].glyph;this.textSpans[vt].childSpan.removeChild(en.layerElement),en.destroy()}this.textSpans[vt].glyph=qt,qt._debug=!0,qt.prepareFrame(0),qt.renderFrame(),this.textSpans[vt].childSpan.appendChild(qt.layerElement),Ht.t===1&&this.textSpans[vt].childSpan.setAttribute("transform","scale("+xt.finalSize/100+","+xt.finalSize/100+")")}else kt&&Rt.setAttribute("transform","translate("+It.props[12]+","+It.props[13]+")"),Rt.textContent=At[vt].val,Rt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}kt&&Rt&&Rt.setAttribute("d",Lt)}for(;vt<this.textSpans.length;)this.textSpans[vt].span.style.display="none",vt+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var vt=this.layerElement.getBBox();this.bbox={top:vt.y,left:vt.x,width:vt.width,height:vt.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var vt,ht=this.textSpans.length,xt;for(this.renderedFrame=this.comp.renderedFrame,vt=0;vt<ht;vt+=1)xt=this.textSpans[vt].glyph,xt&&(xt.prepareFrame(this.comp.renderedFrame-this.data.st),xt._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var vt,ht,xt=this.textAnimator.renderedLetters,_t=this.textProperty.currentData.l;ht=_t.length;var St,wt,At;for(vt=0;vt<ht;vt+=1)_t[vt].n||(St=xt[vt],wt=this.textSpans[vt].span,At=this.textSpans[vt].glyph,At&&At.renderFrame(),St._mdf.m&&wt.setAttribute("transform",St.m),St._mdf.o&&wt.setAttribute("opacity",St.o),St._mdf.sw&&wt.setAttribute("stroke-width",St.sw),St._mdf.sc&&wt.setAttribute("stroke",St.sc),St._mdf.fc&&wt.setAttribute("fill",St.fc))}};function ISolidElement(vt,ht,xt){this.initElement(vt,ht,xt)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var vt=createNS("rect");vt.setAttribute("width",this.data.sw),vt.setAttribute("height",this.data.sh),vt.setAttribute("fill",this.data.sc),this.layerElement.appendChild(vt)};function NullElement(vt,ht,xt){this.initFrame(),this.initBaseData(vt,ht,xt),this.initFrame(),this.initTransform(vt,ht,xt),this.initHierarchy()}NullElement.prototype.prepareFrame=function(vt){this.prepareProperties(vt,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(vt){return new NullElement(vt,this.globalData,this)},SVGRendererBase.prototype.createShape=function(vt){return new SVGShapeElement(vt,this.globalData,this)},SVGRendererBase.prototype.createText=function(vt){return new SVGTextLottieElement(vt,this.globalData,this)},SVGRendererBase.prototype.createImage=function(vt){return new IImageElement(vt,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(vt){return new ISolidElement(vt,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(vt){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+vt.w+" "+vt.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",vt.w),this.svgElement.setAttribute("height",vt.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var ht=this.globalData.defs;this.setupGlobalData(vt,ht),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=vt;var xt=createNS("clipPath"),_t=createNS("rect");_t.setAttribute("width",vt.w),_t.setAttribute("height",vt.h),_t.setAttribute("x",0),_t.setAttribute("y",0);var St=createElementID();xt.setAttribute("id",St),xt.appendChild(_t),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+St+")"),ht.appendChild(xt),this.layers=vt.layers,this.elements=createSizedArray(vt.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var vt,ht=this.layers?this.layers.length:0;for(vt=0;vt<ht;vt+=1)this.elements[vt]&&this.elements[vt].destroy&&this.elements[vt].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(vt){var ht=0,xt=this.layers.length;for(ht=0;ht<xt;ht+=1)if(this.layers[ht].ind===vt)return ht;return-1},SVGRendererBase.prototype.buildItem=function(vt){var ht=this.elements;if(!(ht[vt]||this.layers[vt].ty===99)){ht[vt]=!0;var xt=this.createItem(this.layers[vt]);if(ht[vt]=xt,getExpressionsPlugin()&&(this.layers[vt].ty===0&&this.globalData.projectInterface.registerComposition(xt),xt.initExpressions()),this.appendElementInPos(xt,vt),this.layers[vt].tt){var _t="tp"in this.layers[vt]?this.findIndexByInd(this.layers[vt].tp):vt-1;if(_t===-1)return;if(!this.elements[_t]||this.elements[_t]===!0)this.buildItem(_t),this.addPendingElement(xt);else{var St=ht[_t],wt=St.getMatte(this.layers[vt].tt);xt.setMatte(wt)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var vt=this.pendingElements.pop();if(vt.checkParenting(),vt.data.tt)for(var ht=0,xt=this.elements.length;ht<xt;){if(this.elements[ht]===vt){var _t="tp"in vt.data?this.findIndexByInd(vt.data.tp):ht-1,St=this.elements[_t],wt=St.getMatte(this.layers[ht].tt);vt.setMatte(wt);break}ht+=1}}},SVGRendererBase.prototype.renderFrame=function(vt){if(!(this.renderedFrame===vt||this.destroyed)){vt===null?vt=this.renderedFrame:this.renderedFrame=vt,this.globalData.frameNum=vt,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=vt,this.globalData._mdf=!1;var ht,xt=this.layers.length;for(this.completeLayers||this.checkLayers(vt),ht=xt-1;ht>=0;ht-=1)(this.completeLayers||this.elements[ht])&&this.elements[ht].prepareFrame(vt-this.layers[ht].st);if(this.globalData._mdf)for(ht=0;ht<xt;ht+=1)(this.completeLayers||this.elements[ht])&&this.elements[ht].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(vt,ht){var xt=vt.getBaseElement();if(xt){for(var _t=0,St;_t<ht;)this.elements[_t]&&this.elements[_t]!==!0&&this.elements[_t].getBaseElement()&&(St=this.elements[_t].getBaseElement()),_t+=1;St?this.layerElement.insertBefore(xt,St):this.layerElement.appendChild(xt)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(vt,ht,xt){this.initFrame(),this.initBaseData(vt,ht,xt),this.initTransform(vt,ht,xt),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!ht.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(vt){if(this._mdf=!1,this.prepareRenderableFrame(vt),this.prepareProperties(vt,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=vt/this.data.sr;else{var ht=this.tm.v;ht===this.data.op&&(ht=this.data.op-1),this.renderedFrame=ht}var xt,_t=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),xt=_t-1;xt>=0;xt-=1)(this.completeLayers||this.elements[xt])&&(this.elements[xt].prepareFrame(this.renderedFrame-this.layers[xt].st),this.elements[xt]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var vt,ht=this.layers.length;for(vt=0;vt<ht;vt+=1)(this.completeLayers||this.elements[vt])&&this.elements[vt].renderFrame()},ICompElement.prototype.setElements=function(vt){this.elements=vt},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var vt,ht=this.layers.length;for(vt=0;vt<ht;vt+=1)this.elements[vt]&&this.elements[vt].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(vt,ht,xt){this.layers=vt.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(vt,ht,xt),this.tm=vt.tm?PropertyFactory.getProp(this,vt.tm,0,ht.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(vt){return new SVGCompElement(vt,this.globalData,this)};function SVGRenderer(vt,ht){this.animationItem=vt,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var xt="";if(ht&&ht.title){var _t=createNS("title"),St=createElementID();_t.setAttribute("id",St),_t.textContent=ht.title,this.svgElement.appendChild(_t),xt+=St}if(ht&&ht.description){var wt=createNS("desc"),At=createElementID();wt.setAttribute("id",At),wt.textContent=ht.description,this.svgElement.appendChild(wt),xt+=" "+At}xt&&this.svgElement.setAttribute("aria-labelledby",xt);var Ct=createNS("defs");this.svgElement.appendChild(Ct);var Rt=createNS("g");this.svgElement.appendChild(Rt),this.layerElement=Rt,this.renderConfig={preserveAspectRatio:ht&&ht.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:ht&&ht.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:ht&&ht.contentVisibility||"visible",progressiveLoad:ht&&ht.progressiveLoad||!1,hideOnTransparent:!(ht&&ht.hideOnTransparent===!1),viewBoxOnly:ht&&ht.viewBoxOnly||!1,viewBoxSize:ht&&ht.viewBoxSize||!1,className:ht&&ht.className||"",id:ht&&ht.id||"",focusable:ht&&ht.focusable,filterSize:{width:ht&&ht.filterSize&&ht.filterSize.width||"100%",height:ht&&ht.filterSize&&ht.filterSize.height||"100%",x:ht&&ht.filterSize&&ht.filterSize.x||"0%",y:ht&&ht.filterSize&&ht.filterSize.y||"0%"},width:ht&&ht.width,height:ht&&ht.height,runExpressions:!ht||ht.runExpressions===void 0||ht.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:Ct,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(vt){return new SVGCompElement(vt,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(ht){var xt,_t=ht.length,St="_";for(xt=0;xt<_t;xt+=1)St+=ht[xt].transform.key+"_";var wt=this.sequences[St];return wt||(wt={transforms:[].concat(ht),finalTransform:new Matrix,_mdf:!1},this.sequences[St]=wt,this.sequenceList.push(wt)),wt},processSequence:function(ht,xt){for(var _t=0,St=ht.transforms.length,wt=xt;_t<St&&!xt;){if(ht.transforms[_t].transform.mProps._mdf){wt=!0;break}_t+=1}if(wt)for(ht.finalTransform.reset(),_t=St-1;_t>=0;_t-=1)ht.finalTransform.multiply(ht.transforms[_t].transform.mProps.v);ht._mdf=wt},processSequences:function(ht){var xt,_t=this.sequenceList.length;for(xt=0;xt<_t;xt+=1)this.processSequence(this.sequenceList[xt],ht)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var ht="__lottie_element_luma_buffer",xt=null,_t=null,St=null;function wt(){var Rt=createNS("svg"),It=createNS("filter"),Lt=createNS("feColorMatrix");return It.setAttribute("id",ht),Lt.setAttribute("type","matrix"),Lt.setAttribute("color-interpolation-filters","sRGB"),Lt.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),It.appendChild(Lt),Rt.appendChild(It),Rt.setAttribute("id",ht+"_svg"),featureSupport.svgLumaHidden&&(Rt.style.display="none"),Rt}function At(){xt||(St=wt(),document.body.appendChild(St),xt=createTag("canvas"),_t=xt.getContext("2d"),_t.filter="url(#"+ht+")",_t.fillStyle="rgba(0,0,0,0)",_t.fillRect(0,0,1,1))}function Ct(Rt){return xt||At(),xt.width=Rt.width,xt.height=Rt.height,_t.filter="url(#"+ht+")",xt}return{load:At,get:Ct}};function createCanvas(vt,ht){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(vt,ht);var xt=createTag("canvas");return xt.width=vt,xt.height=ht,xt}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(vt){var ht,xt=vt.data.ef?vt.data.ef.length:0;this.filters=[];var _t;for(ht=0;ht<xt;ht+=1){_t=null;var St=vt.data.ef[ht].ty;if(registeredEffects[St]){var wt=registeredEffects[St].effect;_t=new wt(vt.effectsManager.effectElements[ht],vt)}_t&&this.filters.push(_t)}this.filters.length&&vt.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(vt){var ht,xt=this.filters.length;for(ht=0;ht<xt;ht+=1)this.filters[ht].renderFrame(vt)},CVEffects.prototype.getEffects=function(vt){var ht,xt=this.filters.length,_t=[];for(ht=0;ht<xt;ht+=1)this.filters[ht].type===vt&&_t.push(this.filters[ht]);return _t};function registerEffect(vt,ht){registeredEffects[vt]={effect:ht}}function CVMaskElement(vt,ht){this.data=vt,this.element=ht,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var xt,_t=this.masksProperties.length,St=!1;for(xt=0;xt<_t;xt+=1)this.masksProperties[xt].mode!=="n"&&(St=!0),this.viewData[xt]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[xt],3);this.hasMasks=St,St&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var vt=this.element.finalTransform.mat,ht=this.element.canvasContext,xt,_t=this.masksProperties.length,St,wt,At;for(ht.beginPath(),xt=0;xt<_t;xt+=1)if(this.masksProperties[xt].mode!=="n"){this.masksProperties[xt].inv&&(ht.moveTo(0,0),ht.lineTo(this.element.globalData.compSize.w,0),ht.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),ht.lineTo(0,this.element.globalData.compSize.h),ht.lineTo(0,0)),At=this.viewData[xt].v,St=vt.applyToPointArray(At.v[0][0],At.v[0][1],0),ht.moveTo(St[0],St[1]);var Ct,Rt=At._length;for(Ct=1;Ct<Rt;Ct+=1)wt=vt.applyToTriplePoints(At.o[Ct-1],At.i[Ct],At.v[Ct]),ht.bezierCurveTo(wt[0],wt[1],wt[2],wt[3],wt[4],wt[5]);wt=vt.applyToTriplePoints(At.o[Ct-1],At.i[0],At.v[0]),ht.bezierCurveTo(wt[0],wt[1],wt[2],wt[3],wt[4],wt[5])}this.element.globalData.renderer.save(!0),ht.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var ht=this.globalData.canvasContext,xt=assetLoader.createCanvas(ht.canvas.width,ht.canvas.height);this.buffers.push(xt);var _t=assetLoader.createCanvas(ht.canvas.width,ht.canvas.height);this.buffers.push(_t),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var ht=this.globalData;if(ht.blendMode!==this.data.bm){ht.blendMode=this.data.bm;var xt=getBlendMode(this.data.bm);ht.canvasContext.globalCompositeOperation=xt}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(ht){ht.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var ht=this.buffers[0],xt=ht.getContext("2d");this.clearCanvas(xt),xt.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var ht=this.buffers[1],xt=ht.getContext("2d");this.clearCanvas(xt),xt.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var _t=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(_t.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var St=assetLoader.getLumaCanvas(this.canvasContext.canvas),wt=St.getContext("2d");wt.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(St,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(ht,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(ht){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!ht)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var xt=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(xt),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(xt),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(vt,ht,xt,_t){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var St=4;ht.ty==="rc"?St=5:ht.ty==="el"?St=6:ht.ty==="sr"&&(St=7),this.sh=ShapePropertyFactory.getShapeProp(vt,ht,St,vt);var wt,At=xt.length,Ct;for(wt=0;wt<At;wt+=1)xt[wt].closed||(Ct={transforms:_t.addTransformSequence(xt[wt].transforms),trNodes:[]},this.styledShapes.push(Ct),xt[wt].elements.push(Ct))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(vt,ht,xt){this.shapes=[],this.shapesData=vt.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(vt,ht,xt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(vt,ht){var xt={data:vt,type:vt.ty,preTransforms:this.transformsManager.addTransformSequence(ht),transforms:[],elements:[],closed:vt.hd===!0},_t={};if(vt.ty==="fl"||vt.ty==="st"?(_t.c=PropertyFactory.getProp(this,vt.c,1,255,this),_t.c.k||(xt.co="rgb("+bmFloor(_t.c.v[0])+","+bmFloor(_t.c.v[1])+","+bmFloor(_t.c.v[2])+")")):(vt.ty==="gf"||vt.ty==="gs")&&(_t.s=PropertyFactory.getProp(this,vt.s,1,null,this),_t.e=PropertyFactory.getProp(this,vt.e,1,null,this),_t.h=PropertyFactory.getProp(this,vt.h||{k:0},0,.01,this),_t.a=PropertyFactory.getProp(this,vt.a||{k:0},0,degToRads,this),_t.g=new GradientProperty(this,vt.g,this)),_t.o=PropertyFactory.getProp(this,vt.o,0,.01,this),vt.ty==="st"||vt.ty==="gs"){if(xt.lc=lineCapEnum[vt.lc||2],xt.lj=lineJoinEnum[vt.lj||2],vt.lj==1&&(xt.ml=vt.ml),_t.w=PropertyFactory.getProp(this,vt.w,0,null,this),_t.w.k||(xt.wi=_t.w.v),vt.d){var St=new DashProperty(this,vt.d,"canvas",this);_t.d=St,_t.d.k||(xt.da=_t.d.dashArray,xt.do=_t.d.dashoffset[0])}}else xt.r=vt.r===2?"evenodd":"nonzero";return this.stylesList.push(xt),_t.style=xt,_t},CVShapeElement.prototype.createGroupElement=function(){var vt={it:[],prevViewData:[]};return vt},CVShapeElement.prototype.createTransformElement=function(vt){var ht={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,vt.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,vt,this)}};return ht},CVShapeElement.prototype.createShapeElement=function(vt){var ht=new CVShapeData(this,vt,this.stylesList,this.transformsManager);return this.shapes.push(ht),this.addShapeToModifiers(ht),ht},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var vt,ht=this.itemsData.length;for(vt=0;vt<ht;vt+=1)this.prevViewData[vt]=this.itemsData[vt];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),ht=this.dynamicProperties.length,vt=0;vt<ht;vt+=1)this.dynamicProperties[vt].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(vt){var ht,xt=this.stylesList.length;for(ht=0;ht<xt;ht+=1)this.stylesList[ht].closed||this.stylesList[ht].transforms.push(vt)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var vt,ht=this.stylesList.length;for(vt=0;vt<ht;vt+=1)this.stylesList[vt].closed||this.stylesList[vt].transforms.pop()},CVShapeElement.prototype.closeStyles=function(vt){var ht,xt=vt.length;for(ht=0;ht<xt;ht+=1)vt[ht].closed=!0},CVShapeElement.prototype.searchShapes=function(vt,ht,xt,_t,St){var wt,At=vt.length-1,Ct,Rt,It=[],Lt=[],kt,Dt,$t,Ot=[].concat(St);for(wt=At;wt>=0;wt-=1){if(kt=this.searchProcessedElement(vt[wt]),kt?ht[wt]=xt[kt-1]:vt[wt]._shouldRender=_t,vt[wt].ty==="fl"||vt[wt].ty==="st"||vt[wt].ty==="gf"||vt[wt].ty==="gs")kt?ht[wt].style.closed=!1:ht[wt]=this.createStyleElement(vt[wt],Ot),It.push(ht[wt].style);else if(vt[wt].ty==="gr"){if(!kt)ht[wt]=this.createGroupElement(vt[wt]);else for(Rt=ht[wt].it.length,Ct=0;Ct<Rt;Ct+=1)ht[wt].prevViewData[Ct]=ht[wt].it[Ct];this.searchShapes(vt[wt].it,ht[wt].it,ht[wt].prevViewData,_t,Ot)}else vt[wt].ty==="tr"?(kt||($t=this.createTransformElement(vt[wt]),ht[wt]=$t),Ot.push(ht[wt]),this.addTransformToStyleList(ht[wt])):vt[wt].ty==="sh"||vt[wt].ty==="rc"||vt[wt].ty==="el"||vt[wt].ty==="sr"?kt||(ht[wt]=this.createShapeElement(vt[wt])):vt[wt].ty==="tm"||vt[wt].ty==="rd"||vt[wt].ty==="pb"||vt[wt].ty==="zz"||vt[wt].ty==="op"?(kt?(Dt=ht[wt],Dt.closed=!1):(Dt=ShapeModifiers.getModifier(vt[wt].ty),Dt.init(this,vt[wt]),ht[wt]=Dt,this.shapeModifiers.push(Dt)),Lt.push(Dt)):vt[wt].ty==="rp"&&(kt?(Dt=ht[wt],Dt.closed=!0):(Dt=ShapeModifiers.getModifier(vt[wt].ty),ht[wt]=Dt,Dt.init(this,vt,wt,ht),this.shapeModifiers.push(Dt),_t=!1),Lt.push(Dt));this.addProcessedElement(vt[wt],wt+1)}for(this.removeTransformFromStyleList(),this.closeStyles(It),At=Lt.length,wt=0;wt<At;wt+=1)Lt[wt].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(vt,ht){(vt._opMdf||ht.op._mdf||this._isFirstFrame)&&(ht.opacity=vt.opacity,ht.opacity*=ht.op.v,ht._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var vt,ht=this.stylesList.length,xt,_t,St,wt,At,Ct,Rt=this.globalData.renderer,It=this.globalData.canvasContext,Lt,kt;for(vt=0;vt<ht;vt+=1)if(kt=this.stylesList[vt],Lt=kt.type,!((Lt==="st"||Lt==="gs")&&kt.wi===0||!kt.data._shouldRender||kt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(Rt.save(),At=kt.elements,Lt==="st"||Lt==="gs"?(Rt.ctxStrokeStyle(Lt==="st"?kt.co:kt.grd),Rt.ctxLineWidth(kt.wi),Rt.ctxLineCap(kt.lc),Rt.ctxLineJoin(kt.lj),Rt.ctxMiterLimit(kt.ml||0)):Rt.ctxFillStyle(Lt==="fl"?kt.co:kt.grd),Rt.ctxOpacity(kt.coOp),Lt!=="st"&&Lt!=="gs"&&It.beginPath(),Rt.ctxTransform(kt.preTransforms.finalTransform.props),_t=At.length,xt=0;xt<_t;xt+=1){for((Lt==="st"||Lt==="gs")&&(It.beginPath(),kt.da&&(It.setLineDash(kt.da),It.lineDashOffset=kt.do)),Ct=At[xt].trNodes,wt=Ct.length,St=0;St<wt;St+=1)Ct[St].t==="m"?It.moveTo(Ct[St].p[0],Ct[St].p[1]):Ct[St].t==="c"?It.bezierCurveTo(Ct[St].pts[0],Ct[St].pts[1],Ct[St].pts[2],Ct[St].pts[3],Ct[St].pts[4],Ct[St].pts[5]):It.closePath();(Lt==="st"||Lt==="gs")&&(Rt.ctxStroke(),kt.da&&It.setLineDash(this.dashResetter))}Lt!=="st"&&Lt!=="gs"&&this.globalData.renderer.ctxFill(kt.r),Rt.restore()}},CVShapeElement.prototype.renderShape=function(vt,ht,xt,_t){var St,wt=ht.length-1,At;for(At=vt,St=wt;St>=0;St-=1)ht[St].ty==="tr"?(At=xt[St].transform,this.renderShapeTransform(vt,At)):ht[St].ty==="sh"||ht[St].ty==="el"||ht[St].ty==="rc"||ht[St].ty==="sr"?this.renderPath(ht[St],xt[St]):ht[St].ty==="fl"?this.renderFill(ht[St],xt[St],At):ht[St].ty==="st"?this.renderStroke(ht[St],xt[St],At):ht[St].ty==="gf"||ht[St].ty==="gs"?this.renderGradientFill(ht[St],xt[St],At):ht[St].ty==="gr"?this.renderShape(At,ht[St].it,xt[St].it):ht[St].ty;_t&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(vt,ht){if(this._isFirstFrame||ht._mdf||vt.transforms._mdf){var xt=vt.trNodes,_t=ht.paths,St,wt,At,Ct=_t._length;xt.length=0;var Rt=vt.transforms.finalTransform;for(At=0;At<Ct;At+=1){var It=_t.shapes[At];if(It&&It.v){for(wt=It._length,St=1;St<wt;St+=1)St===1&&xt.push({t:"m",p:Rt.applyToPointArray(It.v[0][0],It.v[0][1],0)}),xt.push({t:"c",pts:Rt.applyToTriplePoints(It.o[St-1],It.i[St],It.v[St])});wt===1&&xt.push({t:"m",p:Rt.applyToPointArray(It.v[0][0],It.v[0][1],0)}),It.c&&wt&&(xt.push({t:"c",pts:Rt.applyToTriplePoints(It.o[St-1],It.i[0],It.v[0])}),xt.push({t:"z"}))}}vt.trNodes=xt}},CVShapeElement.prototype.renderPath=function(vt,ht){if(vt.hd!==!0&&vt._shouldRender){var xt,_t=ht.styledShapes.length;for(xt=0;xt<_t;xt+=1)this.renderStyledShape(ht.styledShapes[xt],ht.sh)}},CVShapeElement.prototype.renderFill=function(vt,ht,xt){var _t=ht.style;(ht.c._mdf||this._isFirstFrame)&&(_t.co="rgb("+bmFloor(ht.c.v[0])+","+bmFloor(ht.c.v[1])+","+bmFloor(ht.c.v[2])+")"),(ht.o._mdf||xt._opMdf||this._isFirstFrame)&&(_t.coOp=ht.o.v*xt.opacity)},CVShapeElement.prototype.renderGradientFill=function(vt,ht,xt){var _t=ht.style,St;if(!_t.grd||ht.g._mdf||ht.s._mdf||ht.e._mdf||vt.t!==1&&(ht.h._mdf||ht.a._mdf)){var wt=this.globalData.canvasContext,At=ht.s.v,Ct=ht.e.v;if(vt.t===1)St=wt.createLinearGradient(At[0],At[1],Ct[0],Ct[1]);else{var Rt=Math.sqrt(Math.pow(At[0]-Ct[0],2)+Math.pow(At[1]-Ct[1],2)),It=Math.atan2(Ct[1]-At[1],Ct[0]-At[0]),Lt=ht.h.v;Lt>=1?Lt=.99:Lt<=-1&&(Lt=-.99);var kt=Rt*Lt,Dt=Math.cos(It+ht.a.v)*kt+At[0],$t=Math.sin(It+ht.a.v)*kt+At[1];St=wt.createRadialGradient(Dt,$t,0,At[0],At[1],Rt)}var Ot,zt=vt.g.p,Gt=ht.g.c,Bt=1;for(Ot=0;Ot<zt;Ot+=1)ht.g._hasOpacity&&ht.g._collapsable&&(Bt=ht.g.o[Ot*2+1]),St.addColorStop(Gt[Ot*4]/100,"rgba("+Gt[Ot*4+1]+","+Gt[Ot*4+2]+","+Gt[Ot*4+3]+","+Bt+")");_t.grd=St}_t.coOp=ht.o.v*xt.opacity},CVShapeElement.prototype.renderStroke=function(vt,ht,xt){var _t=ht.style,St=ht.d;St&&(St._mdf||this._isFirstFrame)&&(_t.da=St.dashArray,_t.do=St.dashoffset[0]),(ht.c._mdf||this._isFirstFrame)&&(_t.co="rgb("+bmFloor(ht.c.v[0])+","+bmFloor(ht.c.v[1])+","+bmFloor(ht.c.v[2])+")"),(ht.o._mdf||xt._opMdf||this._isFirstFrame)&&(_t.coOp=ht.o.v*xt.opacity),(ht.w._mdf||this._isFirstFrame)&&(_t.wi=ht.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(vt,ht,xt){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(vt,ht,xt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var vt=this.textProperty.currentData;this.renderedLetters=createSizedArray(vt.l?vt.l.length:0);var ht=!1;vt.fc?(ht=!0,this.values.fill=this.buildColor(vt.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=ht;var xt=!1;vt.sc&&(xt=!0,this.values.stroke=this.buildColor(vt.sc),this.values.sWidth=vt.sw);var _t=this.globalData.fontManager.getFontByName(vt.f),St,wt,At=vt.l,Ct=this.mHelper;this.stroke=xt,this.values.fValue=vt.finalSize+"px "+this.globalData.fontManager.getFontByName(vt.f).fFamily,wt=vt.finalText.length;var Rt,It,Lt,kt,Dt,$t,Ot,zt,Gt,Bt,Ut=this.data.singleShape,Vt=vt.tr*.001*vt.finalSize,Ht=0,Xt=0,qt=!0,Kt=0;for(St=0;St<wt;St+=1){Rt=this.globalData.fontManager.getCharData(vt.finalText[St],_t.fStyle,this.globalData.fontManager.getFontByName(vt.f).fFamily),It=Rt&&Rt.data||{},Ct.reset(),Ut&&At[St].n&&(Ht=-Vt,Xt+=vt.yOffset,Xt+=qt?1:0,qt=!1),Dt=It.shapes?It.shapes[0].it:[],Ot=Dt.length,Ct.scale(vt.finalSize/100,vt.finalSize/100),Ut&&this.applyTextPropertiesToMatrix(vt,Ct,At[St].line,Ht,Xt),Gt=createSizedArray(Ot-1);var en=0;for($t=0;$t<Ot;$t+=1)if(Dt[$t].ty==="sh"){for(kt=Dt[$t].ks.k.i.length,zt=Dt[$t].ks.k,Bt=[],Lt=1;Lt<kt;Lt+=1)Lt===1&&Bt.push(Ct.applyToX(zt.v[0][0],zt.v[0][1],0),Ct.applyToY(zt.v[0][0],zt.v[0][1],0)),Bt.push(Ct.applyToX(zt.o[Lt-1][0],zt.o[Lt-1][1],0),Ct.applyToY(zt.o[Lt-1][0],zt.o[Lt-1][1],0),Ct.applyToX(zt.i[Lt][0],zt.i[Lt][1],0),Ct.applyToY(zt.i[Lt][0],zt.i[Lt][1],0),Ct.applyToX(zt.v[Lt][0],zt.v[Lt][1],0),Ct.applyToY(zt.v[Lt][0],zt.v[Lt][1],0));Bt.push(Ct.applyToX(zt.o[Lt-1][0],zt.o[Lt-1][1],0),Ct.applyToY(zt.o[Lt-1][0],zt.o[Lt-1][1],0),Ct.applyToX(zt.i[0][0],zt.i[0][1],0),Ct.applyToY(zt.i[0][0],zt.i[0][1],0),Ct.applyToX(zt.v[0][0],zt.v[0][1],0),Ct.applyToY(zt.v[0][0],zt.v[0][1],0)),Gt[en]=Bt,en+=1}Ut&&(Ht+=At[St].l,Ht+=Vt),this.textSpans[Kt]?this.textSpans[Kt].elem=Gt:this.textSpans[Kt]={elem:Gt},Kt+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var vt=this.canvasContext;vt.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var ht,xt,_t,St,wt,At,Ct=this.textAnimator.renderedLetters,Rt=this.textProperty.currentData.l;xt=Rt.length;var It,Lt=null,kt=null,Dt=null,$t,Ot,zt=this.globalData.renderer;for(ht=0;ht<xt;ht+=1)if(!Rt[ht].n){if(It=Ct[ht],It&&(zt.save(),zt.ctxTransform(It.p),zt.ctxOpacity(It.o)),this.fill){for(It&&It.fc?Lt!==It.fc&&(zt.ctxFillStyle(It.fc),Lt=It.fc):Lt!==this.values.fill&&(Lt=this.values.fill,zt.ctxFillStyle(this.values.fill)),$t=this.textSpans[ht].elem,St=$t.length,this.globalData.canvasContext.beginPath(),_t=0;_t<St;_t+=1)for(Ot=$t[_t],At=Ot.length,this.globalData.canvasContext.moveTo(Ot[0],Ot[1]),wt=2;wt<At;wt+=6)this.globalData.canvasContext.bezierCurveTo(Ot[wt],Ot[wt+1],Ot[wt+2],Ot[wt+3],Ot[wt+4],Ot[wt+5]);this.globalData.canvasContext.closePath(),zt.ctxFill()}if(this.stroke){for(It&&It.sw?Dt!==It.sw&&(Dt=It.sw,zt.ctxLineWidth(It.sw)):Dt!==this.values.sWidth&&(Dt=this.values.sWidth,zt.ctxLineWidth(this.values.sWidth)),It&&It.sc?kt!==It.sc&&(kt=It.sc,zt.ctxStrokeStyle(It.sc)):kt!==this.values.stroke&&(kt=this.values.stroke,zt.ctxStrokeStyle(this.values.stroke)),$t=this.textSpans[ht].elem,St=$t.length,this.globalData.canvasContext.beginPath(),_t=0;_t<St;_t+=1)for(Ot=$t[_t],At=Ot.length,this.globalData.canvasContext.moveTo(Ot[0],Ot[1]),wt=2;wt<At;wt+=6)this.globalData.canvasContext.bezierCurveTo(Ot[wt],Ot[wt+1],Ot[wt+2],Ot[wt+3],Ot[wt+4],Ot[wt+5]);this.globalData.canvasContext.closePath(),zt.ctxStroke()}It&&this.globalData.renderer.restore()}};function CVImageElement(vt,ht,xt){this.assetData=ht.getAssetData(vt.refId),this.img=ht.imageLoader.getAsset(this.assetData),this.initElement(vt,ht,xt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var vt=createTag("canvas");vt.width=this.assetData.w,vt.height=this.assetData.h;var ht=vt.getContext("2d"),xt=this.img.width,_t=this.img.height,St=xt/_t,wt=this.assetData.w/this.assetData.h,At,Ct,Rt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;St>wt&&Rt==="xMidYMid slice"||St<wt&&Rt!=="xMidYMid slice"?(Ct=_t,At=Ct*wt):(At=xt,Ct=At/wt),ht.drawImage(this.img,(xt-At)/2,(_t-Ct)/2,At,Ct,0,0,this.assetData.w,this.assetData.h),this.img=vt}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(vt,ht,xt){this.initElement(vt,ht,xt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(vt){return new CVShapeElement(vt,this.globalData,this)},CanvasRendererBase.prototype.createText=function(vt){return new CVTextElement(vt,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(vt){return new CVImageElement(vt,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(vt){return new CVSolidElement(vt,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(vt){vt[0]===1&&vt[1]===0&&vt[4]===0&&vt[5]===1&&vt[12]===0&&vt[13]===0||this.canvasContext.transform(vt[0],vt[1],vt[4],vt[5],vt[12],vt[13])},CanvasRendererBase.prototype.ctxOpacity=function(vt){this.canvasContext.globalAlpha*=vt<0?0:vt},CanvasRendererBase.prototype.ctxFillStyle=function(vt){this.canvasContext.fillStyle=vt},CanvasRendererBase.prototype.ctxStrokeStyle=function(vt){this.canvasContext.strokeStyle=vt},CanvasRendererBase.prototype.ctxLineWidth=function(vt){this.canvasContext.lineWidth=vt},CanvasRendererBase.prototype.ctxLineCap=function(vt){this.canvasContext.lineCap=vt},CanvasRendererBase.prototype.ctxLineJoin=function(vt){this.canvasContext.lineJoin=vt},CanvasRendererBase.prototype.ctxMiterLimit=function(vt){this.canvasContext.miterLimit=vt},CanvasRendererBase.prototype.ctxFill=function(vt){this.canvasContext.fill(vt)},CanvasRendererBase.prototype.ctxFillRect=function(vt,ht,xt,_t){this.canvasContext.fillRect(vt,ht,xt,_t)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(vt){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}vt&&(this.globalData.blendMode="source-over"),this.contextData.restore(vt)},CanvasRendererBase.prototype.configAnimation=function(vt){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var ht=this.animationItem.container.style;ht.width="100%",ht.height="100%";var xt="0px 0px 0px";ht.transformOrigin=xt,ht.mozTransformOrigin=xt,ht.webkitTransformOrigin=xt,ht["-webkit-transform"]=xt,ht.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=vt,this.layers=vt.layers,this.transformCanvas={w:vt.w,h:vt.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(vt,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(vt.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(vt,ht){this.reset();var xt,_t;vt?(xt=vt,_t=ht,this.canvasContext.canvas.width=xt,this.canvasContext.canvas.height=_t):(this.animationItem.wrapper&&this.animationItem.container?(xt=this.animationItem.wrapper.offsetWidth,_t=this.animationItem.wrapper.offsetHeight):(xt=this.canvasContext.canvas.width,_t=this.canvasContext.canvas.height),this.canvasContext.canvas.width=xt*this.renderConfig.dpr,this.canvasContext.canvas.height=_t*this.renderConfig.dpr);var St,wt;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var At=this.renderConfig.preserveAspectRatio.split(" "),Ct=At[1]||"meet",Rt=At[0]||"xMidYMid",It=Rt.substr(0,4),Lt=Rt.substr(4);St=xt/_t,wt=this.transformCanvas.w/this.transformCanvas.h,wt>St&&Ct==="meet"||wt<St&&Ct==="slice"?(this.transformCanvas.sx=xt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=xt/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=_t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=_t/(this.transformCanvas.h/this.renderConfig.dpr)),It==="xMid"&&(wt<St&&Ct==="meet"||wt>St&&Ct==="slice")?this.transformCanvas.tx=(xt-this.transformCanvas.w*(_t/this.transformCanvas.h))/2*this.renderConfig.dpr:It==="xMax"&&(wt<St&&Ct==="meet"||wt>St&&Ct==="slice")?this.transformCanvas.tx=(xt-this.transformCanvas.w*(_t/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,Lt==="YMid"&&(wt>St&&Ct==="meet"||wt<St&&Ct==="slice")?this.transformCanvas.ty=(_t-this.transformCanvas.h*(xt/this.transformCanvas.w))/2*this.renderConfig.dpr:Lt==="YMax"&&(wt>St&&Ct==="meet"||wt<St&&Ct==="slice")?this.transformCanvas.ty=(_t-this.transformCanvas.h*(xt/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=xt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=_t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var vt,ht=this.layers?this.layers.length:0;for(vt=ht-1;vt>=0;vt-=1)this.elements[vt]&&this.elements[vt].destroy&&this.elements[vt].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(vt,ht){if(!(this.renderedFrame===vt&&this.renderConfig.clearCanvas===!0&&!ht||this.destroyed||vt===-1)){this.renderedFrame=vt,this.globalData.frameNum=vt-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||ht,this.globalData.projectInterface.currentFrame=vt;var xt,_t=this.layers.length;for(this.completeLayers||this.checkLayers(vt),xt=_t-1;xt>=0;xt-=1)(this.completeLayers||this.elements[xt])&&this.elements[xt].prepareFrame(vt-this.layers[xt].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),xt=_t-1;xt>=0;xt-=1)(this.completeLayers||this.elements[xt])&&this.elements[xt].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(vt){var ht=this.elements;if(!(ht[vt]||this.layers[vt].ty===99)){var xt=this.createItem(this.layers[vt],this,this.globalData);ht[vt]=xt,xt.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var vt=this.pendingElements.pop();vt.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var vt,ht=15;for(vt=0;vt<ht;vt+=1){var xt=new CanvasContext;this.stack[vt]=xt}this._length=ht,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var vt=this._length*2,ht=0;for(ht=this._length;ht<vt;ht+=1)this.stack[ht]=new CanvasContext;this._length=vt},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(vt){this.cArrPos-=1;var ht=this.stack[this.cArrPos],xt=ht.transform,_t,St=this.cTr.props;for(_t=0;_t<16;_t+=1)St[_t]=xt[_t];if(vt){this.nativeContext.restore();var wt=this.stack[this.cArrPos+1];this.appliedFillStyle=wt.fillStyle,this.appliedStrokeStyle=wt.strokeStyle,this.appliedLineWidth=wt.lineWidth,this.appliedLineCap=wt.lineCap,this.appliedLineJoin=wt.lineJoin,this.appliedMiterLimit=wt.miterLimit}this.nativeContext.setTransform(xt[0],xt[1],xt[4],xt[5],xt[12],xt[13]),(vt||ht.opacity!==-1&&this.currentOpacity!==ht.opacity)&&(this.nativeContext.globalAlpha=ht.opacity,this.currentOpacity=ht.opacity),this.currentFillStyle=ht.fillStyle,this.currentStrokeStyle=ht.strokeStyle,this.currentLineWidth=ht.lineWidth,this.currentLineCap=ht.lineCap,this.currentLineJoin=ht.lineJoin,this.currentMiterLimit=ht.miterLimit},CVContextData.prototype.save=function(vt){vt&&this.nativeContext.save();var ht=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var xt=this.stack[this.cArrPos],_t;for(_t=0;_t<16;_t+=1)xt.transform[_t]=ht[_t];this.cArrPos+=1;var St=this.stack[this.cArrPos];St.opacity=xt.opacity,St.fillStyle=xt.fillStyle,St.strokeStyle=xt.strokeStyle,St.lineWidth=xt.lineWidth,St.lineCap=xt.lineCap,St.lineJoin=xt.lineJoin,St.miterLimit=xt.miterLimit},CVContextData.prototype.setOpacity=function(vt){this.stack[this.cArrPos].opacity=vt},CVContextData.prototype.setContext=function(vt){this.nativeContext=vt},CVContextData.prototype.fillStyle=function(vt){this.stack[this.cArrPos].fillStyle!==vt&&(this.currentFillStyle=vt,this.stack[this.cArrPos].fillStyle=vt)},CVContextData.prototype.strokeStyle=function(vt){this.stack[this.cArrPos].strokeStyle!==vt&&(this.currentStrokeStyle=vt,this.stack[this.cArrPos].strokeStyle=vt)},CVContextData.prototype.lineWidth=function(vt){this.stack[this.cArrPos].lineWidth!==vt&&(this.currentLineWidth=vt,this.stack[this.cArrPos].lineWidth=vt)},CVContextData.prototype.lineCap=function(vt){this.stack[this.cArrPos].lineCap!==vt&&(this.currentLineCap=vt,this.stack[this.cArrPos].lineCap=vt)},CVContextData.prototype.lineJoin=function(vt){this.stack[this.cArrPos].lineJoin!==vt&&(this.currentLineJoin=vt,this.stack[this.cArrPos].lineJoin=vt)},CVContextData.prototype.miterLimit=function(vt){this.stack[this.cArrPos].miterLimit!==vt&&(this.currentMiterLimit=vt,this.stack[this.cArrPos].miterLimit=vt)},CVContextData.prototype.transform=function(vt){this.transformMat.cloneFromProps(vt);var ht=this.cTr;this.transformMat.multiply(ht),ht.cloneFromProps(this.transformMat.props);var xt=ht.props;this.nativeContext.setTransform(xt[0],xt[1],xt[4],xt[5],xt[12],xt[13])},CVContextData.prototype.opacity=function(vt){var ht=this.stack[this.cArrPos].opacity;ht*=vt<0?0:vt,this.stack[this.cArrPos].opacity!==ht&&(this.currentOpacity!==vt&&(this.nativeContext.globalAlpha=vt,this.currentOpacity=vt),this.stack[this.cArrPos].opacity=ht)},CVContextData.prototype.fill=function(vt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(vt)},CVContextData.prototype.fillRect=function(vt,ht,xt,_t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(vt,ht,xt,_t)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(vt,ht,xt){this.completeLayers=!1,this.layers=vt.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(vt,ht,xt),this.tm=vt.tm?PropertyFactory.getProp(this,vt.tm,0,ht.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var vt=this.canvasContext;vt.beginPath(),vt.moveTo(0,0),vt.lineTo(this.data.w,0),vt.lineTo(this.data.w,this.data.h),vt.lineTo(0,this.data.h),vt.lineTo(0,0),vt.clip();var ht,xt=this.layers.length;for(ht=xt-1;ht>=0;ht-=1)(this.completeLayers||this.elements[ht])&&this.elements[ht].renderFrame()},CVCompElement.prototype.destroy=function(){var vt,ht=this.layers.length;for(vt=ht-1;vt>=0;vt-=1)this.elements[vt]&&this.elements[vt].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(vt){return new CVCompElement(vt,this.globalData,this)};function CanvasRenderer(vt,ht){this.animationItem=vt,this.renderConfig={clearCanvas:ht&&ht.clearCanvas!==void 0?ht.clearCanvas:!0,context:ht&&ht.context||null,progressiveLoad:ht&&ht.progressiveLoad||!1,preserveAspectRatio:ht&&ht.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:ht&&ht.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:ht&&ht.contentVisibility||"visible",className:ht&&ht.className||"",id:ht&&ht.id||"",runExpressions:!ht||ht.runExpressions===void 0||ht.runExpressions},this.renderConfig.dpr=ht&&ht.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=ht&&ht.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(vt){return new CVCompElement(vt,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var ht=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var xt=this.finalTransform.mat.toCSS();ht.transform=xt,ht.webkitTransform=xt}this.finalTransform._opMdf&&(ht.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(vt,ht,xt){this.initElement(vt,ht,xt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var vt;this.data.hasMask?(vt=createNS("rect"),vt.setAttribute("width",this.data.sw),vt.setAttribute("height",this.data.sh),vt.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(vt=createTag("div"),vt.style.width=this.data.sw+"px",vt.style.height=this.data.sh+"px",vt.style.backgroundColor=this.data.sc),this.layerElement.appendChild(vt)};function HShapeElement(vt,ht,xt){this.shapes=[],this.shapesData=vt.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(vt,ht,xt),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var vt;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),vt=this.svgElement;else{vt=createNS("svg");var ht=this.comp.data?this.comp.data:this.globalData.compSize;vt.setAttribute("width",ht.w),vt.setAttribute("height",ht.h),vt.appendChild(this.shapesContainer),this.layerElement.appendChild(vt)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=vt},HShapeElement.prototype.getTransformedPoint=function(vt,ht){var xt,_t=vt.length;for(xt=0;xt<_t;xt+=1)ht=vt[xt].mProps.v.applyToPointArray(ht[0],ht[1],0);return ht},HShapeElement.prototype.calculateShapeBoundingBox=function(vt,ht){var xt=vt.sh.v,_t=vt.transformers,St,wt=xt._length,At,Ct,Rt,It;if(!(wt<=1)){for(St=0;St<wt-1;St+=1)At=this.getTransformedPoint(_t,xt.v[St]),Ct=this.getTransformedPoint(_t,xt.o[St]),Rt=this.getTransformedPoint(_t,xt.i[St+1]),It=this.getTransformedPoint(_t,xt.v[St+1]),this.checkBounds(At,Ct,Rt,It,ht);xt.c&&(At=this.getTransformedPoint(_t,xt.v[St]),Ct=this.getTransformedPoint(_t,xt.o[St]),Rt=this.getTransformedPoint(_t,xt.i[0]),It=this.getTransformedPoint(_t,xt.v[0]),this.checkBounds(At,Ct,Rt,It,ht))}},HShapeElement.prototype.checkBounds=function(vt,ht,xt,_t,St){this.getBoundsOfCurve(vt,ht,xt,_t);var wt=this.shapeBoundingBox;St.x=bmMin(wt.left,St.x),St.xMax=bmMax(wt.right,St.xMax),St.y=bmMin(wt.top,St.y),St.yMax=bmMax(wt.bottom,St.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(vt,ht,xt,_t){for(var St=[[vt[0],_t[0]],[vt[1],_t[1]]],wt,At,Ct,Rt,It,Lt,kt,Dt=0;Dt<2;++Dt)At=6*vt[Dt]-12*ht[Dt]+6*xt[Dt],wt=-3*vt[Dt]+9*ht[Dt]-9*xt[Dt]+3*_t[Dt],Ct=3*ht[Dt]-3*vt[Dt],At|=0,wt|=0,Ct|=0,wt===0&&At===0||(wt===0?(Rt=-Ct/At,Rt>0&&Rt<1&&St[Dt].push(this.calculateF(Rt,vt,ht,xt,_t,Dt))):(It=At*At-4*Ct*wt,It>=0&&(Lt=(-At+bmSqrt(It))/(2*wt),Lt>0&&Lt<1&&St[Dt].push(this.calculateF(Lt,vt,ht,xt,_t,Dt)),kt=(-At-bmSqrt(It))/(2*wt),kt>0&&kt<1&&St[Dt].push(this.calculateF(kt,vt,ht,xt,_t,Dt)))));this.shapeBoundingBox.left=bmMin.apply(null,St[0]),this.shapeBoundingBox.top=bmMin.apply(null,St[1]),this.shapeBoundingBox.right=bmMax.apply(null,St[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,St[1])},HShapeElement.prototype.calculateF=function(vt,ht,xt,_t,St,wt){return bmPow(1-vt,3)*ht[wt]+3*bmPow(1-vt,2)*vt*xt[wt]+3*(1-vt)*bmPow(vt,2)*_t[wt]+bmPow(vt,3)*St[wt]},HShapeElement.prototype.calculateBoundingBox=function(vt,ht){var xt,_t=vt.length;for(xt=0;xt<_t;xt+=1)vt[xt]&&vt[xt].sh?this.calculateShapeBoundingBox(vt[xt],ht):vt[xt]&&vt[xt].it?this.calculateBoundingBox(vt[xt].it,ht):vt[xt]&&vt[xt].style&&vt[xt].w&&this.expandStrokeBoundingBox(vt[xt].w,ht)},HShapeElement.prototype.expandStrokeBoundingBox=function(vt,ht){var xt=0;if(vt.keyframes){for(var _t=0;_t<vt.keyframes.length;_t+=1){var St=vt.keyframes[_t].s;St>xt&&(xt=St)}xt*=vt.mult}else xt=vt.v*vt.mult;ht.x-=xt,ht.xMax+=xt,ht.y-=xt,ht.yMax+=xt},HShapeElement.prototype.currentBoxContains=function(vt){return this.currentBBox.x<=vt.x&&this.currentBBox.y<=vt.y&&this.currentBBox.width+this.currentBBox.x>=vt.x+vt.width&&this.currentBBox.height+this.currentBBox.y>=vt.y+vt.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var vt=this.tempBoundingBox,ht=999999;if(vt.x=ht,vt.xMax=-ht,vt.y=ht,vt.yMax=-ht,this.calculateBoundingBox(this.itemsData,vt),vt.width=vt.xMax<vt.x?0:vt.xMax-vt.x,vt.height=vt.yMax<vt.y?0:vt.yMax-vt.y,this.currentBoxContains(vt))return;var xt=!1;if(this.currentBBox.w!==vt.width&&(this.currentBBox.w=vt.width,this.shapeCont.setAttribute("width",vt.width),xt=!0),this.currentBBox.h!==vt.height&&(this.currentBBox.h=vt.height,this.shapeCont.setAttribute("height",vt.height),xt=!0),xt||this.currentBBox.x!==vt.x||this.currentBBox.y!==vt.y){this.currentBBox.w=vt.width,this.currentBBox.h=vt.height,this.currentBBox.x=vt.x,this.currentBBox.y=vt.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var _t=this.shapeCont.style,St="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";_t.transform=St,_t.webkitTransform=St}}};function HTextElement(vt,ht,xt){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(vt,ht,xt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var vt=createNS("g");this.maskedElement.appendChild(vt),this.innerElem=vt}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var vt=this.textProperty.currentData;this.renderedLetters=createSizedArray(vt.l?vt.l.length:0);var ht=this.innerElem.style,xt=vt.fc?this.buildColor(vt.fc):"rgba(0,0,0,0)";ht.fill=xt,ht.color=xt,vt.sc&&(ht.stroke=this.buildColor(vt.sc),ht.strokeWidth=vt.sw+"px");var _t=this.globalData.fontManager.getFontByName(vt.f);if(!this.globalData.fontManager.chars)if(ht.fontSize=vt.finalSize+"px",ht.lineHeight=vt.finalSize+"px",_t.fClass)this.innerElem.className=_t.fClass;else{ht.fontFamily=_t.fFamily;var St=vt.fWeight,wt=vt.fStyle;ht.fontStyle=wt,ht.fontWeight=St}var At,Ct,Rt=vt.l;Ct=Rt.length;var It,Lt,kt,Dt=this.mHelper,$t,Ot="",zt=0;for(At=0;At<Ct;At+=1){if(this.globalData.fontManager.chars?(this.textPaths[zt]?It=this.textPaths[zt]:(It=createNS("path"),It.setAttribute("stroke-linecap",lineCapEnum[1]),It.setAttribute("stroke-linejoin",lineJoinEnum[2]),It.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[zt]?(Lt=this.textSpans[zt],kt=Lt.children[0]):(Lt=createTag("div"),Lt.style.lineHeight=0,kt=createNS("svg"),kt.appendChild(It),styleDiv(Lt)))):this.isMasked?It=this.textPaths[zt]?this.textPaths[zt]:createNS("text"):this.textSpans[zt]?(Lt=this.textSpans[zt],It=this.textPaths[zt]):(Lt=createTag("span"),styleDiv(Lt),It=createTag("span"),styleDiv(It),Lt.appendChild(It)),this.globalData.fontManager.chars){var Gt=this.globalData.fontManager.getCharData(vt.finalText[At],_t.fStyle,this.globalData.fontManager.getFontByName(vt.f).fFamily),Bt;if(Gt?Bt=Gt.data:Bt=null,Dt.reset(),Bt&&Bt.shapes&&Bt.shapes.length&&($t=Bt.shapes[0].it,Dt.scale(vt.finalSize/100,vt.finalSize/100),Ot=this.createPathShape(Dt,$t),It.setAttribute("d",Ot)),this.isMasked)this.innerElem.appendChild(It);else{if(this.innerElem.appendChild(Lt),Bt&&Bt.shapes){document.body.appendChild(kt);var Ut=kt.getBBox();kt.setAttribute("width",Ut.width+2),kt.setAttribute("height",Ut.height+2),kt.setAttribute("viewBox",Ut.x-1+" "+(Ut.y-1)+" "+(Ut.width+2)+" "+(Ut.height+2));var Vt=kt.style,Ht="translate("+(Ut.x-1)+"px,"+(Ut.y-1)+"px)";Vt.transform=Ht,Vt.webkitTransform=Ht,Rt[At].yOffset=Ut.y-1}else kt.setAttribute("width",1),kt.setAttribute("height",1);Lt.appendChild(kt)}}else if(It.textContent=Rt[At].val,It.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(It);else{this.innerElem.appendChild(Lt);var Xt=It.style,qt="translate3d(0,"+-vt.finalSize/1.2+"px,0)";Xt.transform=qt,Xt.webkitTransform=qt}this.isMasked?this.textSpans[zt]=It:this.textSpans[zt]=Lt,this.textSpans[zt].style.display="block",this.textPaths[zt]=It,zt+=1}for(;zt<this.textSpans.length;)this.textSpans[zt].style.display="none",zt+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var vt;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),vt=this.svgElement.style;var ht="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";vt.transform=ht,vt.webkitTransform=ht}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var xt,_t,St=0,wt=this.textAnimator.renderedLetters,At=this.textProperty.currentData.l;_t=At.length;var Ct,Rt,It;for(xt=0;xt<_t;xt+=1)At[xt].n?St+=1:(Rt=this.textSpans[xt],It=this.textPaths[xt],Ct=wt[St],St+=1,Ct._mdf.m&&(this.isMasked?Rt.setAttribute("transform",Ct.m):(Rt.style.webkitTransform=Ct.m,Rt.style.transform=Ct.m)),Rt.style.opacity=Ct.o,Ct.sw&&Ct._mdf.sw&&It.setAttribute("stroke-width",Ct.sw),Ct.sc&&Ct._mdf.sc&&It.setAttribute("stroke",Ct.sc),Ct.fc&&Ct._mdf.fc&&(It.setAttribute("fill",Ct.fc),It.style.color=Ct.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var Lt=this.innerElem.getBBox();this.currentBBox.w!==Lt.width&&(this.currentBBox.w=Lt.width,this.svgElement.setAttribute("width",Lt.width)),this.currentBBox.h!==Lt.height&&(this.currentBBox.h=Lt.height,this.svgElement.setAttribute("height",Lt.height));var kt=1;if(this.currentBBox.w!==Lt.width+kt*2||this.currentBBox.h!==Lt.height+kt*2||this.currentBBox.x!==Lt.x-kt||this.currentBBox.y!==Lt.y-kt){this.currentBBox.w=Lt.width+kt*2,this.currentBBox.h=Lt.height+kt*2,this.currentBBox.x=Lt.x-kt,this.currentBBox.y=Lt.y-kt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),vt=this.svgElement.style;var Dt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";vt.transform=Dt,vt.webkitTransform=Dt}}}};function HCameraElement(vt,ht,xt){this.initFrame(),this.initBaseData(vt,ht,xt),this.initHierarchy();var _t=PropertyFactory.getProp;if(this.pe=_t(this,vt.pe,0,0,this),vt.ks.p.s?(this.px=_t(this,vt.ks.p.x,1,0,this),this.py=_t(this,vt.ks.p.y,1,0,this),this.pz=_t(this,vt.ks.p.z,1,0,this)):this.p=_t(this,vt.ks.p,1,0,this),vt.ks.a&&(this.a=_t(this,vt.ks.a,1,0,this)),vt.ks.or.k.length&&vt.ks.or.k[0].to){var St,wt=vt.ks.or.k.length;for(St=0;St<wt;St+=1)vt.ks.or.k[St].to=null,vt.ks.or.k[St].ti=null}this.or=_t(this,vt.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=_t(this,vt.ks.rx,0,degToRads,this),this.ry=_t(this,vt.ks.ry,0,degToRads,this),this.rz=_t(this,vt.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var vt,ht=this.comp.threeDElements.length,xt,_t,St;for(vt=0;vt<ht;vt+=1)if(xt=this.comp.threeDElements[vt],xt.type==="3d"){_t=xt.perspectiveElem.style,St=xt.container.style;var wt=this.pe.v+"px",At="0px 0px 0px",Ct="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";_t.perspective=wt,_t.webkitPerspective=wt,St.transformOrigin=At,St.mozTransformOrigin=At,St.webkitTransformOrigin=At,_t.transform=Ct,_t.webkitTransform=Ct}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var vt=this._isFirstFrame,ht,xt;if(this.hierarchy)for(xt=this.hierarchy.length,ht=0;ht<xt;ht+=1)vt=this.hierarchy[ht].finalTransform.mProp._mdf||vt;if(vt||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(xt=this.hierarchy.length-1,ht=xt;ht>=0;ht-=1){var _t=this.hierarchy[ht].finalTransform.mProp;this.mat.translate(-_t.p.v[0],-_t.p.v[1],_t.p.v[2]),this.mat.rotateX(-_t.or.v[0]).rotateY(-_t.or.v[1]).rotateZ(_t.or.v[2]),this.mat.rotateX(-_t.rx.v).rotateY(-_t.ry.v).rotateZ(_t.rz.v),this.mat.scale(1/_t.s.v[0],1/_t.s.v[1],1/_t.s.v[2]),this.mat.translate(_t.a.v[0],_t.a.v[1],_t.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var St;this.p?St=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:St=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var wt=Math.sqrt(Math.pow(St[0],2)+Math.pow(St[1],2)+Math.pow(St[2],2)),At=[St[0]/wt,St[1]/wt,St[2]/wt],Ct=Math.sqrt(At[2]*At[2]+At[0]*At[0]),Rt=Math.atan2(At[1],Ct),It=Math.atan2(At[0],-At[2]);this.mat.rotateY(It).rotateX(-Rt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var Lt=!this._prevMat.equals(this.mat);if((Lt||this.pe._mdf)&&this.comp.threeDElements){xt=this.comp.threeDElements.length;var kt,Dt,$t;for(ht=0;ht<xt;ht+=1)if(kt=this.comp.threeDElements[ht],kt.type==="3d"){if(Lt){var Ot=this.mat.toCSS();$t=kt.container.style,$t.transform=Ot,$t.webkitTransform=Ot}this.pe._mdf&&(Dt=kt.perspectiveElem.style,Dt.perspective=this.pe.v+"px",Dt.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(vt){this.prepareProperties(vt,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(vt,ht,xt){this.assetData=ht.getAssetData(vt.refId),this.initElement(vt,ht,xt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var vt=this.globalData.getAssetsPath(this.assetData),ht=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",vt),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(ht),ht.crossOrigin="anonymous",ht.src=vt,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(vt,ht){this.animationItem=vt,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:ht&&ht.className||"",imagePreserveAspectRatio:ht&&ht.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(ht&&ht.hideOnTransparent===!1),filterSize:{width:ht&&ht.filterSize&&ht.filterSize.width||"400%",height:ht&&ht.filterSize&&ht.filterSize.height||"400%",x:ht&&ht.filterSize&&ht.filterSize.x||"-100%",y:ht&&ht.filterSize&&ht.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var vt=this.pendingElements.pop();vt.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(vt,ht){var xt=vt.getBaseElement();if(xt){var _t=this.layers[ht];if(!_t.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(xt,ht);else{for(var St=0,wt,At,Ct;St<ht;)this.elements[St]&&this.elements[St]!==!0&&this.elements[St].getBaseElement&&(At=this.elements[St],Ct=this.layers[St].ddd?this.getThreeDContainerByPos(St):At.getBaseElement(),wt=Ct||wt),St+=1;wt?(!_t.ddd||!this.supports3d)&&this.layerElement.insertBefore(xt,wt):(!_t.ddd||!this.supports3d)&&this.layerElement.appendChild(xt)}else this.addTo3dContainer(xt,ht)}},HybridRendererBase.prototype.createShape=function(vt){return this.supports3d?new HShapeElement(vt,this.globalData,this):new SVGShapeElement(vt,this.globalData,this)},HybridRendererBase.prototype.createText=function(vt){return this.supports3d?new HTextElement(vt,this.globalData,this):new SVGTextLottieElement(vt,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(vt){return this.camera=new HCameraElement(vt,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(vt){return this.supports3d?new HImageElement(vt,this.globalData,this):new IImageElement(vt,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(vt){return this.supports3d?new HSolidElement(vt,this.globalData,this):new ISolidElement(vt,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(vt){for(var ht=0,xt=this.threeDElements.length;ht<xt;){if(this.threeDElements[ht].startPos<=vt&&this.threeDElements[ht].endPos>=vt)return this.threeDElements[ht].perspectiveElem;ht+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(vt,ht){var xt=createTag("div"),_t,St;styleDiv(xt);var wt=createTag("div");if(styleDiv(wt),ht==="3d"){_t=xt.style,_t.width=this.globalData.compSize.w+"px",_t.height=this.globalData.compSize.h+"px";var At="50% 50%";_t.webkitTransformOrigin=At,_t.mozTransformOrigin=At,_t.transformOrigin=At,St=wt.style;var Ct="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";St.transform=Ct,St.webkitTransform=Ct}xt.appendChild(wt);var Rt={container:wt,perspectiveElem:xt,startPos:vt,endPos:vt,type:ht};return this.threeDElements.push(Rt),Rt},HybridRendererBase.prototype.build3dContainers=function(){var vt,ht=this.layers.length,xt,_t="";for(vt=0;vt<ht;vt+=1)this.layers[vt].ddd&&this.layers[vt].ty!==3?(_t!=="3d"&&(_t="3d",xt=this.createThreeDContainer(vt,"3d")),xt.endPos=Math.max(xt.endPos,vt)):(_t!=="2d"&&(_t="2d",xt=this.createThreeDContainer(vt,"2d")),xt.endPos=Math.max(xt.endPos,vt));for(ht=this.threeDElements.length,vt=ht-1;vt>=0;vt-=1)this.resizerElem.appendChild(this.threeDElements[vt].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(vt,ht){for(var xt=0,_t=this.threeDElements.length;xt<_t;){if(ht<=this.threeDElements[xt].endPos){for(var St=this.threeDElements[xt].startPos,wt;St<ht;)this.elements[St]&&this.elements[St].getBaseElement&&(wt=this.elements[St].getBaseElement()),St+=1;wt?this.threeDElements[xt].container.insertBefore(vt,wt):this.threeDElements[xt].container.appendChild(vt);break}xt+=1}},HybridRendererBase.prototype.configAnimation=function(vt){var ht=createTag("div"),xt=this.animationItem.wrapper,_t=ht.style;_t.width=vt.w+"px",_t.height=vt.h+"px",this.resizerElem=ht,styleDiv(ht),_t.transformStyle="flat",_t.mozTransformStyle="flat",_t.webkitTransformStyle="flat",this.renderConfig.className&&ht.setAttribute("class",this.renderConfig.className),xt.appendChild(ht),_t.overflow="hidden";var St=createNS("svg");St.setAttribute("width","1"),St.setAttribute("height","1"),styleDiv(St),this.resizerElem.appendChild(St);var wt=createNS("defs");St.appendChild(wt),this.data=vt,this.setupGlobalData(vt,St),this.globalData.defs=wt,this.layers=vt.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var vt,ht=this.layers?this.layers.length:0;for(vt=0;vt<ht;vt+=1)this.elements[vt]&&this.elements[vt].destroy&&this.elements[vt].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var vt=this.animationItem.wrapper.offsetWidth,ht=this.animationItem.wrapper.offsetHeight,xt=vt/ht,_t=this.globalData.compSize.w/this.globalData.compSize.h,St,wt,At,Ct;_t>xt?(St=vt/this.globalData.compSize.w,wt=vt/this.globalData.compSize.w,At=0,Ct=(ht-this.globalData.compSize.h*(vt/this.globalData.compSize.w))/2):(St=ht/this.globalData.compSize.h,wt=ht/this.globalData.compSize.h,At=(vt-this.globalData.compSize.w*(ht/this.globalData.compSize.h))/2,Ct=0);var Rt=this.resizerElem.style;Rt.webkitTransform="matrix3d("+St+",0,0,0,0,"+wt+",0,0,0,0,1,0,"+At+","+Ct+",0,1)",Rt.transform=Rt.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var vt=this.globalData.compSize.w,ht=this.globalData.compSize.h,xt,_t=this.threeDElements.length;for(xt=0;xt<_t;xt+=1){var St=this.threeDElements[xt].perspectiveElem.style;St.webkitPerspective=Math.sqrt(Math.pow(vt,2)+Math.pow(ht,2))+"px",St.perspective=St.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(vt){var ht,xt=vt.length,_t=createTag("div");for(ht=0;ht<xt;ht+=1)if(vt[ht].xt){var St=this.createComp(vt[ht],_t,this.globalData.comp,null);St.initExpressions(),this.globalData.projectInterface.registerComposition(St)}};function HCompElement(vt,ht,xt){this.layers=vt.layers,this.supports3d=!vt.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(vt,ht,xt),this.tm=vt.tm?PropertyFactory.getProp(this,vt.tm,0,ht.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(vt,ht){for(var xt=0,_t;xt<ht;)this.elements[xt]&&this.elements[xt].getBaseElement&&(_t=this.elements[xt].getBaseElement()),xt+=1;_t?this.layerElement.insertBefore(vt,_t):this.layerElement.appendChild(vt)},HCompElement.prototype.createComp=function(vt){return this.supports3d?new HCompElement(vt,this.globalData,this):new SVGCompElement(vt,this.globalData,this)};function HybridRenderer(vt,ht){this.animationItem=vt,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:ht&&ht.className||"",imagePreserveAspectRatio:ht&&ht.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(ht&&ht.hideOnTransparent===!1),filterSize:{width:ht&&ht.filterSize&&ht.filterSize.width||"400%",height:ht&&ht.filterSize&&ht.filterSize.height||"400%",x:ht&&ht.filterSize&&ht.filterSize.x||"-100%",y:ht&&ht.filterSize&&ht.filterSize.y||"-100%"},runExpressions:!ht||ht.runExpressions===void 0||ht.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(vt){return this.supports3d?new HCompElement(vt,this.globalData,this):new SVGCompElement(vt,this.globalData,this)};var CompExpressionInterface=function(){return function(vt){function ht(xt){for(var _t=0,St=vt.layers.length;_t<St;){if(vt.layers[_t].nm===xt||vt.layers[_t].ind===xt)return vt.elements[_t].layerInterface;_t+=1}return null}return Object.defineProperty(ht,"_name",{value:vt.data.nm}),ht.layer=ht,ht.pixelAspect=1,ht.height=vt.data.h||vt.globalData.compSize.h,ht.width=vt.data.w||vt.globalData.compSize.w,ht.pixelAspect=1,ht.frameDuration=1/vt.globalData.frameRate,ht.displayStartTime=0,ht.numLayers=vt.layers.length,ht}}();function _typeof$2(vt){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht},_typeof$2(vt)}function seedRandom(vt,ht){var xt=this,_t=256,St=6,wt=52,At="random",Ct=ht.pow(_t,St),Rt=ht.pow(2,wt),It=Rt*2,Lt=_t-1,kt;function Dt(Vt,Ht,Xt){var qt=[];Ht=Ht===!0?{entropy:!0}:Ht||{};var Kt=Gt(zt(Ht.entropy?[Vt,Ut(vt)]:Vt===null?Bt():Vt,3),qt),en=new $t(qt),tn=function(){for(var sn=en.g(St),un=Ct,dn=0;sn<Rt;)sn=(sn+dn)*_t,un*=_t,dn=en.g(1);for(;sn>=It;)sn/=2,un/=2,dn>>>=1;return(sn+dn)/un};return tn.int32=function(){return en.g(4)|0},tn.quick=function(){return en.g(4)/4294967296},tn.double=tn,Gt(Ut(en.S),vt),(Ht.pass||Xt||function(Qt,sn,un,dn){return dn&&(dn.S&&Ot(dn,en),Qt.state=function(){return Ot(en,{})}),un?(ht[At]=Qt,sn):Qt})(tn,Kt,"global"in Ht?Ht.global:this==ht,Ht.state)}ht["seed"+At]=Dt;function $t(Vt){var Ht,Xt=Vt.length,qt=this,Kt=0,en=qt.i=qt.j=0,tn=qt.S=[];for(Xt||(Vt=[Xt++]);Kt<_t;)tn[Kt]=Kt++;for(Kt=0;Kt<_t;Kt++)tn[Kt]=tn[en=Lt&en+Vt[Kt%Xt]+(Ht=tn[Kt])],tn[en]=Ht;qt.g=function(Qt){for(var sn,un=0,dn=qt.i,vn=qt.j,pn=qt.S;Qt--;)sn=pn[dn=Lt&dn+1],un=un*_t+pn[Lt&(pn[dn]=pn[vn=Lt&vn+sn])+(pn[vn]=sn)];return qt.i=dn,qt.j=vn,un}}function Ot(Vt,Ht){return Ht.i=Vt.i,Ht.j=Vt.j,Ht.S=Vt.S.slice(),Ht}function zt(Vt,Ht){var Xt=[],qt=_typeof$2(Vt),Kt;if(Ht&&qt=="object")for(Kt in Vt)try{Xt.push(zt(Vt[Kt],Ht-1))}catch{}return Xt.length?Xt:qt=="string"?Vt:Vt+"\0"}function Gt(Vt,Ht){for(var Xt=Vt+"",qt,Kt=0;Kt<Xt.length;)Ht[Lt&Kt]=Lt&(qt^=Ht[Lt&Kt]*19)+Xt.charCodeAt(Kt++);return Ut(Ht)}function Bt(){try{var Vt=new Uint8Array(_t);return(xt.crypto||xt.msCrypto).getRandomValues(Vt),Ut(Vt)}catch{var Ht=xt.navigator,Xt=Ht&&Ht.plugins;return[+new Date,xt,Xt,xt.screen,Ut(vt)]}}function Ut(Vt){return String.fromCharCode.apply(0,Vt)}Gt(ht.random(),vt)}function initialize$2(vt){seedRandom([],vt)}var propTypes={SHAPE:"shape"};function _typeof$1(vt){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht},_typeof$1(vt)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(vt){return vt.constructor===Array||vt.constructor===Float32Array}function isNumerable(vt,ht){return vt==="number"||ht instanceof Number||vt==="boolean"||vt==="string"}function $bm_neg(vt){var ht=_typeof$1(vt);if(ht==="number"||vt instanceof Number||ht==="boolean")return-vt;if($bm_isInstanceOfArray(vt)){var xt,_t=vt.length,St=[];for(xt=0;xt<_t;xt+=1)St[xt]=-vt[xt];return St}return vt.propType?vt.v:-vt}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(vt,ht){var xt=_typeof$1(vt),_t=_typeof$1(ht);if(isNumerable(xt,vt)&&isNumerable(_t,ht)||xt==="string"||_t==="string")return vt+ht;if($bm_isInstanceOfArray(vt)&&isNumerable(_t,ht))return vt=vt.slice(0),vt[0]+=ht,vt;if(isNumerable(xt,vt)&&$bm_isInstanceOfArray(ht))return ht=ht.slice(0),ht[0]=vt+ht[0],ht;if($bm_isInstanceOfArray(vt)&&$bm_isInstanceOfArray(ht)){for(var St=0,wt=vt.length,At=ht.length,Ct=[];St<wt||St<At;)(typeof vt[St]=="number"||vt[St]instanceof Number)&&(typeof ht[St]=="number"||ht[St]instanceof Number)?Ct[St]=vt[St]+ht[St]:Ct[St]=ht[St]===void 0?vt[St]:vt[St]||ht[St],St+=1;return Ct}return 0}var add=sum;function sub(vt,ht){var xt=_typeof$1(vt),_t=_typeof$1(ht);if(isNumerable(xt,vt)&&isNumerable(_t,ht))return xt==="string"&&(vt=parseInt(vt,10)),_t==="string"&&(ht=parseInt(ht,10)),vt-ht;if($bm_isInstanceOfArray(vt)&&isNumerable(_t,ht))return vt=vt.slice(0),vt[0]-=ht,vt;if(isNumerable(xt,vt)&&$bm_isInstanceOfArray(ht))return ht=ht.slice(0),ht[0]=vt-ht[0],ht;if($bm_isInstanceOfArray(vt)&&$bm_isInstanceOfArray(ht)){for(var St=0,wt=vt.length,At=ht.length,Ct=[];St<wt||St<At;)(typeof vt[St]=="number"||vt[St]instanceof Number)&&(typeof ht[St]=="number"||ht[St]instanceof Number)?Ct[St]=vt[St]-ht[St]:Ct[St]=ht[St]===void 0?vt[St]:vt[St]||ht[St],St+=1;return Ct}return 0}function mul(vt,ht){var xt=_typeof$1(vt),_t=_typeof$1(ht),St;if(isNumerable(xt,vt)&&isNumerable(_t,ht))return vt*ht;var wt,At;if($bm_isInstanceOfArray(vt)&&isNumerable(_t,ht)){for(At=vt.length,St=createTypedArray("float32",At),wt=0;wt<At;wt+=1)St[wt]=vt[wt]*ht;return St}if(isNumerable(xt,vt)&&$bm_isInstanceOfArray(ht)){for(At=ht.length,St=createTypedArray("float32",At),wt=0;wt<At;wt+=1)St[wt]=vt*ht[wt];return St}return 0}function div(vt,ht){var xt=_typeof$1(vt),_t=_typeof$1(ht),St;if(isNumerable(xt,vt)&&isNumerable(_t,ht))return vt/ht;var wt,At;if($bm_isInstanceOfArray(vt)&&isNumerable(_t,ht)){for(At=vt.length,St=createTypedArray("float32",At),wt=0;wt<At;wt+=1)St[wt]=vt[wt]/ht;return St}if(isNumerable(xt,vt)&&$bm_isInstanceOfArray(ht)){for(At=ht.length,St=createTypedArray("float32",At),wt=0;wt<At;wt+=1)St[wt]=vt/ht[wt];return St}return 0}function mod(vt,ht){return typeof vt=="string"&&(vt=parseInt(vt,10)),typeof ht=="string"&&(ht=parseInt(ht,10)),vt%ht}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(vt,ht,xt){if(ht>xt){var _t=xt;xt=ht,ht=_t}return Math.min(Math.max(vt,ht),xt)}function radiansToDegrees(vt){return vt/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(vt){return vt*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(vt,ht){if(typeof vt=="number"||vt instanceof Number)return ht=ht||0,Math.abs(vt-ht);ht||(ht=helperLengthArray);var xt,_t=Math.min(vt.length,ht.length),St=0;for(xt=0;xt<_t;xt+=1)St+=Math.pow(ht[xt]-vt[xt],2);return Math.sqrt(St)}function normalize(vt){return div(vt,length(vt))}function rgbToHsl(vt){var ht=vt[0],xt=vt[1],_t=vt[2],St=Math.max(ht,xt,_t),wt=Math.min(ht,xt,_t),At,Ct,Rt=(St+wt)/2;if(St===wt)At=0,Ct=0;else{var It=St-wt;switch(Ct=Rt>.5?It/(2-St-wt):It/(St+wt),St){case ht:At=(xt-_t)/It+(xt<_t?6:0);break;case xt:At=(_t-ht)/It+2;break;case _t:At=(ht-xt)/It+4;break}At/=6}return[At,Ct,Rt,vt[3]]}function hue2rgb(vt,ht,xt){return xt<0&&(xt+=1),xt>1&&(xt-=1),xt<1/6?vt+(ht-vt)*6*xt:xt<1/2?ht:xt<2/3?vt+(ht-vt)*(2/3-xt)*6:vt}function hslToRgb(vt){var ht=vt[0],xt=vt[1],_t=vt[2],St,wt,At;if(xt===0)St=_t,At=_t,wt=_t;else{var Ct=_t<.5?_t*(1+xt):_t+xt-_t*xt,Rt=2*_t-Ct;St=hue2rgb(Rt,Ct,ht+1/3),wt=hue2rgb(Rt,Ct,ht),At=hue2rgb(Rt,Ct,ht-1/3)}return[St,wt,At,vt[3]]}function linear(vt,ht,xt,_t,St){if((_t===void 0||St===void 0)&&(_t=ht,St=xt,ht=0,xt=1),xt<ht){var wt=xt;xt=ht,ht=wt}if(vt<=ht)return _t;if(vt>=xt)return St;var At=xt===ht?0:(vt-ht)/(xt-ht);if(!_t.length)return _t+(St-_t)*At;var Ct,Rt=_t.length,It=createTypedArray("float32",Rt);for(Ct=0;Ct<Rt;Ct+=1)It[Ct]=_t[Ct]+(St[Ct]-_t[Ct])*At;return It}function random(vt,ht){if(ht===void 0&&(vt===void 0?(vt=0,ht=1):(ht=vt,vt=void 0)),ht.length){var xt,_t=ht.length;vt||(vt=createTypedArray("float32",_t));var St=createTypedArray("float32",_t),wt=BMMath.random();for(xt=0;xt<_t;xt+=1)St[xt]=vt[xt]+wt*(ht[xt]-vt[xt]);return St}vt===void 0&&(vt=0);var At=BMMath.random();return vt+At*(ht-vt)}function createPath(vt,ht,xt,_t){var St,wt=vt.length,At=shapePool.newElement();At.setPathData(!!_t,wt);var Ct=[0,0],Rt,It;for(St=0;St<wt;St+=1)Rt=ht&&ht[St]?ht[St]:Ct,It=xt&&xt[St]?xt[St]:Ct,At.setTripleAt(vt[St][0],vt[St][1],It[0]+vt[St][0],It[1]+vt[St][1],Rt[0]+vt[St][0],Rt[1]+vt[St][1],St,!0);return At}function initiateExpression(elem,data,property){function noOp(vt){return vt}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function vt(ht,xt){var _t,St,wt=this.pv.length?this.pv.length:1,At=createTypedArray("float32",wt);ht=5;var Ct=Math.floor(time*ht);for(_t=0,St=0;_t<Ct;){for(St=0;St<wt;St+=1)At[St]+=-xt+xt*2*BMMath.random();_t+=1}var Rt=time*ht,It=Rt-Math.floor(Rt),Lt=createTypedArray("float32",wt);if(wt>1){for(St=0;St<wt;St+=1)Lt[St]=this.pv[St]+At[St]+(-xt+xt*2*BMMath.random())*It;return Lt}return this.pv+At[0]+(-xt+xt*2*BMMath.random())*It}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(vt,ht){return loopIn(vt,ht,!0)}function loopOutDuration(vt,ht){return loopOut(vt,ht,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(vt,ht){var xt=[ht[0]-vt[0],ht[1]-vt[1],ht[2]-vt[2]],_t=Math.atan2(xt[0],Math.sqrt(xt[1]*xt[1]+xt[2]*xt[2]))/degToRads,St=-Math.atan2(xt[1],xt[2])/degToRads;return[St,_t,0]}function easeOut(vt,ht,xt,_t,St){return applyEase(easeOutBez,vt,ht,xt,_t,St)}function easeIn(vt,ht,xt,_t,St){return applyEase(easeInBez,vt,ht,xt,_t,St)}function ease(vt,ht,xt,_t,St){return applyEase(easeInOutBez,vt,ht,xt,_t,St)}function applyEase(vt,ht,xt,_t,St,wt){St===void 0?(St=xt,wt=_t):ht=(ht-xt)/(_t-xt),ht>1?ht=1:ht<0&&(ht=0);var At=vt(ht);if($bm_isInstanceOfArray(St)){var Ct,Rt=St.length,It=createTypedArray("float32",Rt);for(Ct=0;Ct<Rt;Ct+=1)It[Ct]=(wt[Ct]-St[Ct])*At+St[Ct];return It}return(wt-St)*At+St}function nearestKey(vt){var ht,xt=data.k.length,_t,St;if(!data.k.length||typeof data.k[0]=="number")_t=0,St=0;else if(_t=-1,vt*=elem.comp.globalData.frameRate,vt<data.k[0].t)_t=1,St=data.k[0].t;else{for(ht=0;ht<xt-1;ht+=1)if(vt===data.k[ht].t){_t=ht+1,St=data.k[ht].t;break}else if(vt>data.k[ht].t&&vt<data.k[ht+1].t){vt-data.k[ht].t>data.k[ht+1].t-vt?(_t=ht+2,St=data.k[ht+1].t):(_t=ht+1,St=data.k[ht].t);break}_t===-1&&(_t=ht+1,St=data.k[ht].t)}var wt={};return wt.index=_t,wt.time=St/elem.comp.globalData.frameRate,wt}function key(vt){var ht,xt,_t;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+vt);vt-=1,ht={time:data.k[vt].t/elem.comp.globalData.frameRate,value:[]};var St=Object.prototype.hasOwnProperty.call(data.k[vt],"s")?data.k[vt].s:data.k[vt-1].e;for(_t=St.length,xt=0;xt<_t;xt+=1)ht[xt]=St[xt],ht.value[xt]=St[xt];return ht}function framesToTime(vt,ht){return ht||(ht=elem.comp.globalData.frameRate),vt/ht}function timeToFrames(vt,ht){return!vt&&vt!==0&&(vt=time),ht||(ht=elem.comp.globalData.frameRate),vt*ht}function seedRandom(vt){BMMath.seedrandom(randSeed+vt)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(vt,ht){return typeof value=="string"?ht===void 0?value.substring(vt):value.substring(vt,ht):""}function substr(vt,ht){return typeof value=="string"?ht===void 0?value.substr(vt):value.substr(vt,ht):""}function posterizeTime(vt){time=vt===0?0:Math.floor(time*vt)/vt,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(vt){return value=vt,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var vt={};vt.initExpressions=ht,vt.resetFrame=ExpressionManager.resetFrame;function ht(xt){var _t=0,St=[];function wt(){_t+=1}function At(){_t-=1,_t===0&&Rt()}function Ct(It){St.indexOf(It)===-1&&St.push(It)}function Rt(){var It,Lt=St.length;for(It=0;It<Lt;It+=1)St[It].release();St.length=0}xt.renderer.compInterface=CompExpressionInterface(xt.renderer),xt.renderer.globalData.projectInterface.registerComposition(xt.renderer),xt.renderer.globalData.pushExpression=wt,xt.renderer.globalData.popExpression=At,xt.renderer.globalData.registerExpressionProperty=Ct}return vt}(),MaskManagerInterface=function(){function vt(xt,_t){this._mask=xt,this._data=_t}Object.defineProperty(vt.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(vt.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var ht=function(_t){var St=createSizedArray(_t.viewData.length),wt,At=_t.viewData.length;for(wt=0;wt<At;wt+=1)St[wt]=new vt(_t.viewData[wt],_t.masksProperties[wt]);var Ct=function(It){for(wt=0;wt<At;){if(_t.masksProperties[wt].nm===It)return St[wt];wt+=1}return null};return Ct};return ht}(),ExpressionPropertyInterface=function(){var vt={pv:0,v:0,mult:1},ht={pv:[0,0,0],v:[0,0,0],mult:1};function xt(At,Ct,Rt){Object.defineProperty(At,"velocity",{get:function(){return Ct.getVelocityAtTime(Ct.comp.currentFrame)}}),At.numKeys=Ct.keyframes?Ct.keyframes.length:0,At.key=function(It){if(!At.numKeys)return 0;var Lt="";"s"in Ct.keyframes[It-1]?Lt=Ct.keyframes[It-1].s:"e"in Ct.keyframes[It-2]?Lt=Ct.keyframes[It-2].e:Lt=Ct.keyframes[It-2].s;var kt=Rt==="unidimensional"?new Number(Lt):Object.assign({},Lt);return kt.time=Ct.keyframes[It-1].t/Ct.elem.comp.globalData.frameRate,kt.value=Rt==="unidimensional"?Lt[0]:Lt,kt},At.valueAtTime=Ct.getValueAtTime,At.speedAtTime=Ct.getSpeedAtTime,At.velocityAtTime=Ct.getVelocityAtTime,At.propertyGroup=Ct.propertyGroup}function _t(At){(!At||!("pv"in At))&&(At=vt);var Ct=1/At.mult,Rt=At.pv*Ct,It=new Number(Rt);return It.value=Rt,xt(It,At,"unidimensional"),function(){return At.k&&At.getValue(),Rt=At.v*Ct,It.value!==Rt&&(It=new Number(Rt),It.value=Rt,It[0]=Rt,xt(It,At,"unidimensional")),It}}function St(At){(!At||!("pv"in At))&&(At=ht);var Ct=1/At.mult,Rt=At.data&&At.data.l||At.pv.length,It=createTypedArray("float32",Rt),Lt=createTypedArray("float32",Rt);return It.value=Lt,xt(It,At,"multidimensional"),function(){At.k&&At.getValue();for(var kt=0;kt<Rt;kt+=1)Lt[kt]=At.v[kt]*Ct,It[kt]=Lt[kt];return It}}function wt(){return vt}return function(At){return At?At.propType==="unidimensional"?_t(At):St(At):wt}}(),TransformExpressionInterface=function(){return function(vt){function ht(At){switch(At){case"scale":case"Scale":case"ADBE Scale":case 6:return ht.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return ht.rotation;case"ADBE Rotate X":return ht.xRotation;case"ADBE Rotate Y":return ht.yRotation;case"position":case"Position":case"ADBE Position":case 2:return ht.position;case"ADBE Position_0":return ht.xPosition;case"ADBE Position_1":return ht.yPosition;case"ADBE Position_2":return ht.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return ht.anchorPoint;case"opacity":case"Opacity":case 11:return ht.opacity;default:return null}}Object.defineProperty(ht,"rotation",{get:ExpressionPropertyInterface(vt.r||vt.rz)}),Object.defineProperty(ht,"zRotation",{get:ExpressionPropertyInterface(vt.rz||vt.r)}),Object.defineProperty(ht,"xRotation",{get:ExpressionPropertyInterface(vt.rx)}),Object.defineProperty(ht,"yRotation",{get:ExpressionPropertyInterface(vt.ry)}),Object.defineProperty(ht,"scale",{get:ExpressionPropertyInterface(vt.s)});var xt,_t,St,wt;return vt.p?wt=ExpressionPropertyInterface(vt.p):(xt=ExpressionPropertyInterface(vt.px),_t=ExpressionPropertyInterface(vt.py),vt.pz&&(St=ExpressionPropertyInterface(vt.pz))),Object.defineProperty(ht,"position",{get:function(){return vt.p?wt():[xt(),_t(),St?St():0]}}),Object.defineProperty(ht,"xPosition",{get:ExpressionPropertyInterface(vt.px)}),Object.defineProperty(ht,"yPosition",{get:ExpressionPropertyInterface(vt.py)}),Object.defineProperty(ht,"zPosition",{get:ExpressionPropertyInterface(vt.pz)}),Object.defineProperty(ht,"anchorPoint",{get:ExpressionPropertyInterface(vt.a)}),Object.defineProperty(ht,"opacity",{get:ExpressionPropertyInterface(vt.o)}),Object.defineProperty(ht,"skew",{get:ExpressionPropertyInterface(vt.sk)}),Object.defineProperty(ht,"skewAxis",{get:ExpressionPropertyInterface(vt.sa)}),Object.defineProperty(ht,"orientation",{get:ExpressionPropertyInterface(vt.or)}),ht}}(),LayerExpressionInterface=function(){function vt(It){var Lt=new Matrix;if(It!==void 0){var kt=this._elem.finalTransform.mProp.getValueAtTime(It);kt.clone(Lt)}else{var Dt=this._elem.finalTransform.mProp;Dt.applyToMatrix(Lt)}return Lt}function ht(It,Lt){var kt=this.getMatrix(Lt);return kt.props[12]=0,kt.props[13]=0,kt.props[14]=0,this.applyPoint(kt,It)}function xt(It,Lt){var kt=this.getMatrix(Lt);return this.applyPoint(kt,It)}function _t(It,Lt){var kt=this.getMatrix(Lt);return kt.props[12]=0,kt.props[13]=0,kt.props[14]=0,this.invertPoint(kt,It)}function St(It,Lt){var kt=this.getMatrix(Lt);return this.invertPoint(kt,It)}function wt(It,Lt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var kt,Dt=this._elem.hierarchy.length;for(kt=0;kt<Dt;kt+=1)this._elem.hierarchy[kt].finalTransform.mProp.applyToMatrix(It)}return It.applyToPointArray(Lt[0],Lt[1],Lt[2]||0)}function At(It,Lt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var kt,Dt=this._elem.hierarchy.length;for(kt=0;kt<Dt;kt+=1)this._elem.hierarchy[kt].finalTransform.mProp.applyToMatrix(It)}return It.inversePoint(Lt)}function Ct(It){var Lt=new Matrix;if(Lt.reset(),this._elem.finalTransform.mProp.applyToMatrix(Lt),this._elem.hierarchy&&this._elem.hierarchy.length){var kt,Dt=this._elem.hierarchy.length;for(kt=0;kt<Dt;kt+=1)this._elem.hierarchy[kt].finalTransform.mProp.applyToMatrix(Lt);return Lt.inversePoint(It)}return Lt.inversePoint(It)}function Rt(){return[1,1,1,1]}return function(It){var Lt;function kt(zt){$t.mask=new MaskManagerInterface(zt,It)}function Dt(zt){$t.effect=zt}function $t(zt){switch(zt){case"ADBE Root Vectors Group":case"Contents":case 2:return $t.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return Lt;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return $t.effect;case"ADBE Text Properties":return $t.textInterface;default:return null}}$t.getMatrix=vt,$t.invertPoint=At,$t.applyPoint=wt,$t.toWorld=xt,$t.toWorldVec=ht,$t.fromWorld=St,$t.fromWorldVec=_t,$t.toComp=xt,$t.fromComp=Ct,$t.sampleImage=Rt,$t.sourceRectAtTime=It.sourceRectAtTime.bind(It),$t._elem=It,Lt=TransformExpressionInterface(It.finalTransform.mProp);var Ot=getDescriptor(Lt,"anchorPoint");return Object.defineProperties($t,{hasParent:{get:function(){return It.hierarchy.length}},parent:{get:function(){return It.hierarchy[0].layerInterface}},rotation:getDescriptor(Lt,"rotation"),scale:getDescriptor(Lt,"scale"),position:getDescriptor(Lt,"position"),opacity:getDescriptor(Lt,"opacity"),anchorPoint:Ot,anchor_point:Ot,transform:{get:function(){return Lt}},active:{get:function(){return It.isInRange}}}),$t.startTime=It.data.st,$t.index=It.data.ind,$t.source=It.data.refId,$t.height=It.data.ty===0?It.data.h:100,$t.width=It.data.ty===0?It.data.w:100,$t.inPoint=It.data.ip/It.comp.globalData.frameRate,$t.outPoint=It.data.op/It.comp.globalData.frameRate,$t._name=It.data.nm,$t.registerMaskInterface=kt,$t.registerEffectsInterface=Dt,$t}}(),propertyGroupFactory=function(){return function(vt,ht){return function(xt){return xt=xt===void 0?1:xt,xt<=0?vt:ht(xt-1)}}}(),PropertyInterface=function(){return function(vt,ht){var xt={_name:vt};function _t(St){return St=St===void 0?1:St,St<=0?xt:ht(St-1)}return _t}}(),EffectsExpressionInterface=function(){var vt={createEffectsInterface:ht};function ht(St,wt){if(St.effectsManager){var At=[],Ct=St.data.ef,Rt,It=St.effectsManager.effectElements.length;for(Rt=0;Rt<It;Rt+=1)At.push(xt(Ct[Rt],St.effectsManager.effectElements[Rt],wt,St));var Lt=St.data.ef||[],kt=function($t){for(Rt=0,It=Lt.length;Rt<It;){if($t===Lt[Rt].nm||$t===Lt[Rt].mn||$t===Lt[Rt].ix)return At[Rt];Rt+=1}return null};return Object.defineProperty(kt,"numProperties",{get:function(){return Lt.length}}),kt}return null}function xt(St,wt,At,Ct){function Rt($t){for(var Ot=St.ef,zt=0,Gt=Ot.length;zt<Gt;){if($t===Ot[zt].nm||$t===Ot[zt].mn||$t===Ot[zt].ix)return Ot[zt].ty===5?Lt[zt]:Lt[zt]();zt+=1}throw new Error}var It=propertyGroupFactory(Rt,At),Lt=[],kt,Dt=St.ef.length;for(kt=0;kt<Dt;kt+=1)St.ef[kt].ty===5?Lt.push(xt(St.ef[kt],wt.effectElements[kt],wt.effectElements[kt].propertyGroup,Ct)):Lt.push(_t(wt.effectElements[kt],St.ef[kt].ty,Ct,It));return St.mn==="ADBE Color Control"&&Object.defineProperty(Rt,"color",{get:function(){return Lt[0]()}}),Object.defineProperties(Rt,{numProperties:{get:function(){return St.np}},_name:{value:St.nm},propertyGroup:{value:It}}),Rt.enabled=St.en!==0,Rt.active=Rt.enabled,Rt}function _t(St,wt,At,Ct){var Rt=ExpressionPropertyInterface(St.p);function It(){return wt===10?At.comp.compInterface(St.p.v):Rt()}return St.p.setGroupProperty&&St.p.setGroupProperty(PropertyInterface("",Ct)),It}return vt}(),ShapePathInterface=function(){return function(ht,xt,_t){var St=xt.sh;function wt(Ct){return Ct==="Shape"||Ct==="shape"||Ct==="Path"||Ct==="path"||Ct==="ADBE Vector Shape"||Ct===2?wt.path:null}var At=propertyGroupFactory(wt,_t);return St.setGroupProperty(PropertyInterface("Path",At)),Object.defineProperties(wt,{path:{get:function(){return St.k&&St.getValue(),St}},shape:{get:function(){return St.k&&St.getValue(),St}},_name:{value:ht.nm},ix:{value:ht.ix},propertyIndex:{value:ht.ix},mn:{value:ht.mn},propertyGroup:{value:_t}}),wt}}(),ShapeExpressionInterface=function(){function vt(Ot,zt,Gt){var Bt=[],Ut,Vt=Ot?Ot.length:0;for(Ut=0;Ut<Vt;Ut+=1)Ot[Ut].ty==="gr"?Bt.push(xt(Ot[Ut],zt[Ut],Gt)):Ot[Ut].ty==="fl"?Bt.push(_t(Ot[Ut],zt[Ut],Gt)):Ot[Ut].ty==="st"?Bt.push(At(Ot[Ut],zt[Ut],Gt)):Ot[Ut].ty==="tm"?Bt.push(Ct(Ot[Ut],zt[Ut],Gt)):Ot[Ut].ty==="tr"||(Ot[Ut].ty==="el"?Bt.push(It(Ot[Ut],zt[Ut],Gt)):Ot[Ut].ty==="sr"?Bt.push(Lt(Ot[Ut],zt[Ut],Gt)):Ot[Ut].ty==="sh"?Bt.push(ShapePathInterface(Ot[Ut],zt[Ut],Gt)):Ot[Ut].ty==="rc"?Bt.push(kt(Ot[Ut],zt[Ut],Gt)):Ot[Ut].ty==="rd"?Bt.push(Dt(Ot[Ut],zt[Ut],Gt)):Ot[Ut].ty==="rp"?Bt.push($t(Ot[Ut],zt[Ut],Gt)):Ot[Ut].ty==="gf"?Bt.push(St(Ot[Ut],zt[Ut],Gt)):Bt.push(wt(Ot[Ut],zt[Ut])));return Bt}function ht(Ot,zt,Gt){var Bt,Ut=function(Xt){for(var qt=0,Kt=Bt.length;qt<Kt;){if(Bt[qt]._name===Xt||Bt[qt].mn===Xt||Bt[qt].propertyIndex===Xt||Bt[qt].ix===Xt||Bt[qt].ind===Xt)return Bt[qt];qt+=1}return typeof Xt=="number"?Bt[Xt-1]:null};Ut.propertyGroup=propertyGroupFactory(Ut,Gt),Bt=vt(Ot.it,zt.it,Ut.propertyGroup),Ut.numProperties=Bt.length;var Vt=Rt(Ot.it[Ot.it.length-1],zt.it[zt.it.length-1],Ut.propertyGroup);return Ut.transform=Vt,Ut.propertyIndex=Ot.cix,Ut._name=Ot.nm,Ut}function xt(Ot,zt,Gt){var Bt=function(Xt){switch(Xt){case"ADBE Vectors Group":case"Contents":case 2:return Bt.content;default:return Bt.transform}};Bt.propertyGroup=propertyGroupFactory(Bt,Gt);var Ut=ht(Ot,zt,Bt.propertyGroup),Vt=Rt(Ot.it[Ot.it.length-1],zt.it[zt.it.length-1],Bt.propertyGroup);return Bt.content=Ut,Bt.transform=Vt,Object.defineProperty(Bt,"_name",{get:function(){return Ot.nm}}),Bt.numProperties=Ot.np,Bt.propertyIndex=Ot.ix,Bt.nm=Ot.nm,Bt.mn=Ot.mn,Bt}function _t(Ot,zt,Gt){function Bt(Ut){return Ut==="Color"||Ut==="color"?Bt.color:Ut==="Opacity"||Ut==="opacity"?Bt.opacity:null}return Object.defineProperties(Bt,{color:{get:ExpressionPropertyInterface(zt.c)},opacity:{get:ExpressionPropertyInterface(zt.o)},_name:{value:Ot.nm},mn:{value:Ot.mn}}),zt.c.setGroupProperty(PropertyInterface("Color",Gt)),zt.o.setGroupProperty(PropertyInterface("Opacity",Gt)),Bt}function St(Ot,zt,Gt){function Bt(Ut){return Ut==="Start Point"||Ut==="start point"?Bt.startPoint:Ut==="End Point"||Ut==="end point"?Bt.endPoint:Ut==="Opacity"||Ut==="opacity"?Bt.opacity:null}return Object.defineProperties(Bt,{startPoint:{get:ExpressionPropertyInterface(zt.s)},endPoint:{get:ExpressionPropertyInterface(zt.e)},opacity:{get:ExpressionPropertyInterface(zt.o)},type:{get:function(){return"a"}},_name:{value:Ot.nm},mn:{value:Ot.mn}}),zt.s.setGroupProperty(PropertyInterface("Start Point",Gt)),zt.e.setGroupProperty(PropertyInterface("End Point",Gt)),zt.o.setGroupProperty(PropertyInterface("Opacity",Gt)),Bt}function wt(){function Ot(){return null}return Ot}function At(Ot,zt,Gt){var Bt=propertyGroupFactory(Kt,Gt),Ut=propertyGroupFactory(qt,Bt);function Vt(en){Object.defineProperty(qt,Ot.d[en].nm,{get:ExpressionPropertyInterface(zt.d.dataProps[en].p)})}var Ht,Xt=Ot.d?Ot.d.length:0,qt={};for(Ht=0;Ht<Xt;Ht+=1)Vt(Ht),zt.d.dataProps[Ht].p.setGroupProperty(Ut);function Kt(en){return en==="Color"||en==="color"?Kt.color:en==="Opacity"||en==="opacity"?Kt.opacity:en==="Stroke Width"||en==="stroke width"?Kt.strokeWidth:null}return Object.defineProperties(Kt,{color:{get:ExpressionPropertyInterface(zt.c)},opacity:{get:ExpressionPropertyInterface(zt.o)},strokeWidth:{get:ExpressionPropertyInterface(zt.w)},dash:{get:function(){return qt}},_name:{value:Ot.nm},mn:{value:Ot.mn}}),zt.c.setGroupProperty(PropertyInterface("Color",Bt)),zt.o.setGroupProperty(PropertyInterface("Opacity",Bt)),zt.w.setGroupProperty(PropertyInterface("Stroke Width",Bt)),Kt}function Ct(Ot,zt,Gt){function Bt(Vt){return Vt===Ot.e.ix||Vt==="End"||Vt==="end"?Bt.end:Vt===Ot.s.ix?Bt.start:Vt===Ot.o.ix?Bt.offset:null}var Ut=propertyGroupFactory(Bt,Gt);return Bt.propertyIndex=Ot.ix,zt.s.setGroupProperty(PropertyInterface("Start",Ut)),zt.e.setGroupProperty(PropertyInterface("End",Ut)),zt.o.setGroupProperty(PropertyInterface("Offset",Ut)),Bt.propertyIndex=Ot.ix,Bt.propertyGroup=Gt,Object.defineProperties(Bt,{start:{get:ExpressionPropertyInterface(zt.s)},end:{get:ExpressionPropertyInterface(zt.e)},offset:{get:ExpressionPropertyInterface(zt.o)},_name:{value:Ot.nm}}),Bt.mn=Ot.mn,Bt}function Rt(Ot,zt,Gt){function Bt(Vt){return Ot.a.ix===Vt||Vt==="Anchor Point"?Bt.anchorPoint:Ot.o.ix===Vt||Vt==="Opacity"?Bt.opacity:Ot.p.ix===Vt||Vt==="Position"?Bt.position:Ot.r.ix===Vt||Vt==="Rotation"||Vt==="ADBE Vector Rotation"?Bt.rotation:Ot.s.ix===Vt||Vt==="Scale"?Bt.scale:Ot.sk&&Ot.sk.ix===Vt||Vt==="Skew"?Bt.skew:Ot.sa&&Ot.sa.ix===Vt||Vt==="Skew Axis"?Bt.skewAxis:null}var Ut=propertyGroupFactory(Bt,Gt);return zt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Ut)),zt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Ut)),zt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Ut)),zt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Ut)),zt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Ut)),zt.transform.mProps.sk&&(zt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Ut)),zt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Ut))),zt.transform.op.setGroupProperty(PropertyInterface("Opacity",Ut)),Object.defineProperties(Bt,{opacity:{get:ExpressionPropertyInterface(zt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(zt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(zt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(zt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(zt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(zt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(zt.transform.mProps.sa)},_name:{value:Ot.nm}}),Bt.ty="tr",Bt.mn=Ot.mn,Bt.propertyGroup=Gt,Bt}function It(Ot,zt,Gt){function Bt(Ht){return Ot.p.ix===Ht?Bt.position:Ot.s.ix===Ht?Bt.size:null}var Ut=propertyGroupFactory(Bt,Gt);Bt.propertyIndex=Ot.ix;var Vt=zt.sh.ty==="tm"?zt.sh.prop:zt.sh;return Vt.s.setGroupProperty(PropertyInterface("Size",Ut)),Vt.p.setGroupProperty(PropertyInterface("Position",Ut)),Object.defineProperties(Bt,{size:{get:ExpressionPropertyInterface(Vt.s)},position:{get:ExpressionPropertyInterface(Vt.p)},_name:{value:Ot.nm}}),Bt.mn=Ot.mn,Bt}function Lt(Ot,zt,Gt){function Bt(Ht){return Ot.p.ix===Ht?Bt.position:Ot.r.ix===Ht?Bt.rotation:Ot.pt.ix===Ht?Bt.points:Ot.or.ix===Ht||Ht==="ADBE Vector Star Outer Radius"?Bt.outerRadius:Ot.os.ix===Ht?Bt.outerRoundness:Ot.ir&&(Ot.ir.ix===Ht||Ht==="ADBE Vector Star Inner Radius")?Bt.innerRadius:Ot.is&&Ot.is.ix===Ht?Bt.innerRoundness:null}var Ut=propertyGroupFactory(Bt,Gt),Vt=zt.sh.ty==="tm"?zt.sh.prop:zt.sh;return Bt.propertyIndex=Ot.ix,Vt.or.setGroupProperty(PropertyInterface("Outer Radius",Ut)),Vt.os.setGroupProperty(PropertyInterface("Outer Roundness",Ut)),Vt.pt.setGroupProperty(PropertyInterface("Points",Ut)),Vt.p.setGroupProperty(PropertyInterface("Position",Ut)),Vt.r.setGroupProperty(PropertyInterface("Rotation",Ut)),Ot.ir&&(Vt.ir.setGroupProperty(PropertyInterface("Inner Radius",Ut)),Vt.is.setGroupProperty(PropertyInterface("Inner Roundness",Ut))),Object.defineProperties(Bt,{position:{get:ExpressionPropertyInterface(Vt.p)},rotation:{get:ExpressionPropertyInterface(Vt.r)},points:{get:ExpressionPropertyInterface(Vt.pt)},outerRadius:{get:ExpressionPropertyInterface(Vt.or)},outerRoundness:{get:ExpressionPropertyInterface(Vt.os)},innerRadius:{get:ExpressionPropertyInterface(Vt.ir)},innerRoundness:{get:ExpressionPropertyInterface(Vt.is)},_name:{value:Ot.nm}}),Bt.mn=Ot.mn,Bt}function kt(Ot,zt,Gt){function Bt(Ht){return Ot.p.ix===Ht?Bt.position:Ot.r.ix===Ht?Bt.roundness:Ot.s.ix===Ht||Ht==="Size"||Ht==="ADBE Vector Rect Size"?Bt.size:null}var Ut=propertyGroupFactory(Bt,Gt),Vt=zt.sh.ty==="tm"?zt.sh.prop:zt.sh;return Bt.propertyIndex=Ot.ix,Vt.p.setGroupProperty(PropertyInterface("Position",Ut)),Vt.s.setGroupProperty(PropertyInterface("Size",Ut)),Vt.r.setGroupProperty(PropertyInterface("Rotation",Ut)),Object.defineProperties(Bt,{position:{get:ExpressionPropertyInterface(Vt.p)},roundness:{get:ExpressionPropertyInterface(Vt.r)},size:{get:ExpressionPropertyInterface(Vt.s)},_name:{value:Ot.nm}}),Bt.mn=Ot.mn,Bt}function Dt(Ot,zt,Gt){function Bt(Ht){return Ot.r.ix===Ht||Ht==="Round Corners 1"?Bt.radius:null}var Ut=propertyGroupFactory(Bt,Gt),Vt=zt;return Bt.propertyIndex=Ot.ix,Vt.rd.setGroupProperty(PropertyInterface("Radius",Ut)),Object.defineProperties(Bt,{radius:{get:ExpressionPropertyInterface(Vt.rd)},_name:{value:Ot.nm}}),Bt.mn=Ot.mn,Bt}function $t(Ot,zt,Gt){function Bt(Ht){return Ot.c.ix===Ht||Ht==="Copies"?Bt.copies:Ot.o.ix===Ht||Ht==="Offset"?Bt.offset:null}var Ut=propertyGroupFactory(Bt,Gt),Vt=zt;return Bt.propertyIndex=Ot.ix,Vt.c.setGroupProperty(PropertyInterface("Copies",Ut)),Vt.o.setGroupProperty(PropertyInterface("Offset",Ut)),Object.defineProperties(Bt,{copies:{get:ExpressionPropertyInterface(Vt.c)},offset:{get:ExpressionPropertyInterface(Vt.o)},_name:{value:Ot.nm}}),Bt.mn=Ot.mn,Bt}return function(Ot,zt,Gt){var Bt;function Ut(Ht){if(typeof Ht=="number")return Ht=Ht===void 0?1:Ht,Ht===0?Gt:Bt[Ht-1];for(var Xt=0,qt=Bt.length;Xt<qt;){if(Bt[Xt]._name===Ht)return Bt[Xt];Xt+=1}return null}function Vt(){return Gt}return Ut.propertyGroup=propertyGroupFactory(Ut,Vt),Bt=vt(Ot,zt,Ut.propertyGroup),Ut.numProperties=Bt.length,Ut._name="Contents",Ut}}(),TextExpressionInterface=function(){return function(vt){var ht;function xt(_t){switch(_t){case"ADBE Text Document":return xt.sourceText;default:return null}}return Object.defineProperty(xt,"sourceText",{get:function(){vt.textProperty.getValue();var St=vt.textProperty.currentData.t;return(!ht||St!==ht.value)&&(ht=new String(St),ht.value=St||new String(St),Object.defineProperty(ht,"style",{get:function(){return{fillColor:vt.textProperty.currentData.fc}}})),ht}}),xt}}();function _typeof(vt){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht},_typeof(vt)}var FootageInterface=function(){var vt=function(_t){var St="",wt=_t.getFootageData();function At(){return St="",wt=_t.getFootageData(),Ct}function Ct(Rt){if(wt[Rt])return St=Rt,wt=wt[Rt],_typeof(wt)==="object"?Ct:wt;var It=Rt.indexOf(St);if(It!==-1){var Lt=parseInt(Rt.substr(It+St.length),10);return wt=wt[Lt],_typeof(wt)==="object"?Ct:wt}return""}return At},ht=function(_t){function St(wt){return wt==="Outline"?St.outlineInterface():null}return St._name="Outline",St.outlineInterface=vt(_t),St};return function(xt){function _t(St){return St==="Data"?_t.dataInterface:null}return _t._name="Data",_t.dataInterface=ht(xt),_t}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(vt){return interfaces[vt]||null}var expressionHelpers=function(){function vt(At,Ct,Rt){Ct.x&&(Rt.k=!0,Rt.x=!0,Rt.initiateExpression=ExpressionManager.initiateExpression,Rt.effectsSequence.push(Rt.initiateExpression(At,Ct,Rt).bind(Rt)))}function ht(At){return At*=this.elem.globalData.frameRate,At-=this.offsetTime,At!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<At?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(At,this._cachingAtTime),this._cachingAtTime.lastFrame=At),this._cachingAtTime.value}function xt(At){var Ct=-.01,Rt=this.getValueAtTime(At),It=this.getValueAtTime(At+Ct),Lt=0;if(Rt.length){var kt;for(kt=0;kt<Rt.length;kt+=1)Lt+=Math.pow(It[kt]-Rt[kt],2);Lt=Math.sqrt(Lt)*100}else Lt=0;return Lt}function _t(At){if(this.vel!==void 0)return this.vel;var Ct=-.001,Rt=this.getValueAtTime(At),It=this.getValueAtTime(At+Ct),Lt;if(Rt.length){Lt=createTypedArray("float32",Rt.length);var kt;for(kt=0;kt<Rt.length;kt+=1)Lt[kt]=(It[kt]-Rt[kt])/Ct}else Lt=(It-Rt)/Ct;return Lt}function St(){return this.pv}function wt(At){this.propertyGroup=At}return{searchExpressions:vt,getSpeedAtTime:xt,getVelocityAtTime:_t,getValueAtTime:ht,getStaticValueAtTime:St,setGroupProperty:wt}}();function addPropertyDecorator(){function vt(Dt,$t,Ot){if(!this.k||!this.keyframes)return this.pv;Dt=Dt?Dt.toLowerCase():"";var zt=this.comp.renderedFrame,Gt=this.keyframes,Bt=Gt[Gt.length-1].t;if(zt<=Bt)return this.pv;var Ut,Vt;Ot?($t?Ut=Math.abs(Bt-this.elem.comp.globalData.frameRate*$t):Ut=Math.max(0,Bt-this.elem.data.ip),Vt=Bt-Ut):((!$t||$t>Gt.length-1)&&($t=Gt.length-1),Vt=Gt[Gt.length-1-$t].t,Ut=Bt-Vt);var Ht,Xt,qt;if(Dt==="pingpong"){var Kt=Math.floor((zt-Vt)/Ut);if(Kt%2!==0)return this.getValueAtTime((Ut-(zt-Vt)%Ut+Vt)/this.comp.globalData.frameRate,0)}else if(Dt==="offset"){var en=this.getValueAtTime(Vt/this.comp.globalData.frameRate,0),tn=this.getValueAtTime(Bt/this.comp.globalData.frameRate,0),Qt=this.getValueAtTime(((zt-Vt)%Ut+Vt)/this.comp.globalData.frameRate,0),sn=Math.floor((zt-Vt)/Ut);if(this.pv.length){for(qt=new Array(en.length),Xt=qt.length,Ht=0;Ht<Xt;Ht+=1)qt[Ht]=(tn[Ht]-en[Ht])*sn+Qt[Ht];return qt}return(tn-en)*sn+Qt}else if(Dt==="continue"){var un=this.getValueAtTime(Bt/this.comp.globalData.frameRate,0),dn=this.getValueAtTime((Bt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(qt=new Array(un.length),Xt=qt.length,Ht=0;Ht<Xt;Ht+=1)qt[Ht]=un[Ht]+(un[Ht]-dn[Ht])*((zt-Bt)/this.comp.globalData.frameRate)/5e-4;return qt}return un+(un-dn)*((zt-Bt)/.001)}return this.getValueAtTime(((zt-Vt)%Ut+Vt)/this.comp.globalData.frameRate,0)}function ht(Dt,$t,Ot){if(!this.k)return this.pv;Dt=Dt?Dt.toLowerCase():"";var zt=this.comp.renderedFrame,Gt=this.keyframes,Bt=Gt[0].t;if(zt>=Bt)return this.pv;var Ut,Vt;Ot?($t?Ut=Math.abs(this.elem.comp.globalData.frameRate*$t):Ut=Math.max(0,this.elem.data.op-Bt),Vt=Bt+Ut):((!$t||$t>Gt.length-1)&&($t=Gt.length-1),Vt=Gt[$t].t,Ut=Vt-Bt);var Ht,Xt,qt;if(Dt==="pingpong"){var Kt=Math.floor((Bt-zt)/Ut);if(Kt%2===0)return this.getValueAtTime(((Bt-zt)%Ut+Bt)/this.comp.globalData.frameRate,0)}else if(Dt==="offset"){var en=this.getValueAtTime(Bt/this.comp.globalData.frameRate,0),tn=this.getValueAtTime(Vt/this.comp.globalData.frameRate,0),Qt=this.getValueAtTime((Ut-(Bt-zt)%Ut+Bt)/this.comp.globalData.frameRate,0),sn=Math.floor((Bt-zt)/Ut)+1;if(this.pv.length){for(qt=new Array(en.length),Xt=qt.length,Ht=0;Ht<Xt;Ht+=1)qt[Ht]=Qt[Ht]-(tn[Ht]-en[Ht])*sn;return qt}return Qt-(tn-en)*sn}else if(Dt==="continue"){var un=this.getValueAtTime(Bt/this.comp.globalData.frameRate,0),dn=this.getValueAtTime((Bt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(qt=new Array(un.length),Xt=qt.length,Ht=0;Ht<Xt;Ht+=1)qt[Ht]=un[Ht]+(un[Ht]-dn[Ht])*(Bt-zt)/.001;return qt}return un+(un-dn)*(Bt-zt)/.001}return this.getValueAtTime((Ut-((Bt-zt)%Ut+Bt))/this.comp.globalData.frameRate,0)}function xt(Dt,$t){if(!this.k)return this.pv;if(Dt=(Dt||.4)*.5,$t=Math.floor($t||5),$t<=1)return this.pv;var Ot=this.comp.renderedFrame/this.comp.globalData.frameRate,zt=Ot-Dt,Gt=Ot+Dt,Bt=$t>1?(Gt-zt)/($t-1):1,Ut=0,Vt=0,Ht;this.pv.length?Ht=createTypedArray("float32",this.pv.length):Ht=0;for(var Xt;Ut<$t;){if(Xt=this.getValueAtTime(zt+Ut*Bt),this.pv.length)for(Vt=0;Vt<this.pv.length;Vt+=1)Ht[Vt]+=Xt[Vt];else Ht+=Xt;Ut+=1}if(this.pv.length)for(Vt=0;Vt<this.pv.length;Vt+=1)Ht[Vt]/=$t;else Ht/=$t;return Ht}function _t(Dt){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var $t=this._transformCachingAtTime.v;if($t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var Ot=this.a.getValueAtTime(Dt);$t.translate(-Ot[0]*this.a.mult,-Ot[1]*this.a.mult,Ot[2]*this.a.mult)}if(this.appliedTransformations<2){var zt=this.s.getValueAtTime(Dt);$t.scale(zt[0]*this.s.mult,zt[1]*this.s.mult,zt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Gt=this.sk.getValueAtTime(Dt),Bt=this.sa.getValueAtTime(Dt);$t.skewFromAxis(-Gt*this.sk.mult,Bt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Ut=this.r.getValueAtTime(Dt);$t.rotate(-Ut*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Vt=this.rz.getValueAtTime(Dt),Ht=this.ry.getValueAtTime(Dt),Xt=this.rx.getValueAtTime(Dt),qt=this.or.getValueAtTime(Dt);$t.rotateZ(-Vt*this.rz.mult).rotateY(Ht*this.ry.mult).rotateX(Xt*this.rx.mult).rotateZ(-qt[2]*this.or.mult).rotateY(qt[1]*this.or.mult).rotateX(qt[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Kt=this.px.getValueAtTime(Dt),en=this.py.getValueAtTime(Dt);if(this.data.p.z){var tn=this.pz.getValueAtTime(Dt);$t.translate(Kt*this.px.mult,en*this.py.mult,-tn*this.pz.mult)}else $t.translate(Kt*this.px.mult,en*this.py.mult,0)}else{var Qt=this.p.getValueAtTime(Dt);$t.translate(Qt[0]*this.p.mult,Qt[1]*this.p.mult,-Qt[2]*this.p.mult)}return $t}function St(){return this.v.clone(new Matrix)}var wt=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Dt,$t,Ot){var zt=wt(Dt,$t,Ot);return zt.dynamicProperties.length?zt.getValueAtTime=_t.bind(zt):zt.getValueAtTime=St.bind(zt),zt.setGroupProperty=expressionHelpers.setGroupProperty,zt};var At=PropertyFactory.getProp;PropertyFactory.getProp=function(Dt,$t,Ot,zt,Gt){var Bt=At(Dt,$t,Ot,zt,Gt);Bt.kf?Bt.getValueAtTime=expressionHelpers.getValueAtTime.bind(Bt):Bt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Bt),Bt.setGroupProperty=expressionHelpers.setGroupProperty,Bt.loopOut=vt,Bt.loopIn=ht,Bt.smooth=xt,Bt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Bt),Bt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Bt),Bt.numKeys=$t.a===1?$t.k.length:0,Bt.propertyIndex=$t.ix;var Ut=0;return Ot!==0&&(Ut=createTypedArray("float32",$t.a===1?$t.k[0].s.length:$t.k.length)),Bt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Ut},expressionHelpers.searchExpressions(Dt,$t,Bt),Bt.k&&Gt.addDynamicProperty(Bt),Bt};function Ct(Dt){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Dt*=this.elem.globalData.frameRate,Dt-=this.offsetTime,Dt!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Dt?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Dt,this.interpolateShape(Dt,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var Rt=ShapePropertyFactory.getConstructorFunction(),It=ShapePropertyFactory.getKeyframedConstructorFunction();function Lt(){}Lt.prototype={vertices:function($t,Ot){this.k&&this.getValue();var zt=this.v;Ot!==void 0&&(zt=this.getValueAtTime(Ot,0));var Gt,Bt=zt._length,Ut=zt[$t],Vt=zt.v,Ht=createSizedArray(Bt);for(Gt=0;Gt<Bt;Gt+=1)$t==="i"||$t==="o"?Ht[Gt]=[Ut[Gt][0]-Vt[Gt][0],Ut[Gt][1]-Vt[Gt][1]]:Ht[Gt]=[Ut[Gt][0],Ut[Gt][1]];return Ht},points:function($t){return this.vertices("v",$t)},inTangents:function($t){return this.vertices("i",$t)},outTangents:function($t){return this.vertices("o",$t)},isClosed:function(){return this.v.c},pointOnPath:function($t,Ot){var zt=this.v;Ot!==void 0&&(zt=this.getValueAtTime(Ot,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(zt));for(var Gt=this._segmentsLength,Bt=Gt.lengths,Ut=Gt.totalLength*$t,Vt=0,Ht=Bt.length,Xt=0,qt;Vt<Ht;){if(Xt+Bt[Vt].addedLength>Ut){var Kt=Vt,en=zt.c&&Vt===Ht-1?0:Vt+1,tn=(Ut-Xt)/Bt[Vt].addedLength;qt=bez.getPointInSegment(zt.v[Kt],zt.v[en],zt.o[Kt],zt.i[en],tn,Bt[Vt]);break}else Xt+=Bt[Vt].addedLength;Vt+=1}return qt||(qt=zt.c?[zt.v[0][0],zt.v[0][1]]:[zt.v[zt._length-1][0],zt.v[zt._length-1][1]]),qt},vectorOnPath:function($t,Ot,zt){$t==1?$t=this.v.c:$t==0&&($t=.999);var Gt=this.pointOnPath($t,Ot),Bt=this.pointOnPath($t+.001,Ot),Ut=Bt[0]-Gt[0],Vt=Bt[1]-Gt[1],Ht=Math.sqrt(Math.pow(Ut,2)+Math.pow(Vt,2));if(Ht===0)return[0,0];var Xt=zt==="tangent"?[Ut/Ht,Vt/Ht]:[-Vt/Ht,Ut/Ht];return Xt},tangentOnPath:function($t,Ot){return this.vectorOnPath($t,Ot,"tangent")},normalOnPath:function($t,Ot){return this.vectorOnPath($t,Ot,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([Lt],Rt),extendPrototype([Lt],It),It.prototype.getValueAtTime=Ct,It.prototype.initiateExpression=ExpressionManager.initiateExpression;var kt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Dt,$t,Ot,zt,Gt){var Bt=kt(Dt,$t,Ot,zt,Gt);return Bt.propertyIndex=$t.ix,Bt.lock=!1,Ot===3?expressionHelpers.searchExpressions(Dt,$t.pt,Bt):Ot===4&&expressionHelpers.searchExpressions(Dt,$t.ks,Bt),Bt.k&&Dt.addDynamicProperty(Bt),Bt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function vt(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(ht,xt){var _t=this.calculateExpression(xt);if(ht.t!==_t){var St={};return this.copyData(St,ht),St.t=_t.toString(),St.__complete=!1,St}return ht},TextProperty.prototype.searchProperty=function(){var ht=this.searchKeyframes(),xt=this.searchExpressions();return this.kf=ht||xt,this.kf},TextProperty.prototype.searchExpressions=vt}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function vt(ht,xt){var _t=createNS("feMerge");_t.setAttribute("result",ht);var St,wt;for(wt=0;wt<xt.length;wt+=1)St=createNS("feMergeNode"),St.setAttribute("in",xt[wt]),_t.appendChild(St),_t.appendChild(St);return _t}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(vt,ht,xt,_t,St){this.filterManager=ht;var wt=createNS("feColorMatrix");wt.setAttribute("type","matrix"),wt.setAttribute("color-interpolation-filters","linearRGB"),wt.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=wt,wt.setAttribute("result",_t+"_tint_1"),vt.appendChild(wt),wt=createNS("feColorMatrix"),wt.setAttribute("type","matrix"),wt.setAttribute("color-interpolation-filters","sRGB"),wt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),wt.setAttribute("result",_t+"_tint_2"),vt.appendChild(wt),this.matrixFilter=wt;var At=this.createMergeNode(_t,[St,_t+"_tint_1",_t+"_tint_2"]);vt.appendChild(At)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(vt){if(vt||this.filterManager._mdf){var ht=this.filterManager.effectElements[0].p.v,xt=this.filterManager.effectElements[1].p.v,_t=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+_t+" 0"),this.matrixFilter.setAttribute("values",xt[0]-ht[0]+" 0 0 0 "+ht[0]+" "+(xt[1]-ht[1])+" 0 0 0 "+ht[1]+" "+(xt[2]-ht[2])+" 0 0 0 "+ht[2]+" 0 0 0 1 0")}};function SVGFillFilter(vt,ht,xt,_t){this.filterManager=ht;var St=createNS("feColorMatrix");St.setAttribute("type","matrix"),St.setAttribute("color-interpolation-filters","sRGB"),St.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),St.setAttribute("result",_t),vt.appendChild(St),this.matrixFilter=St}SVGFillFilter.prototype.renderFrame=function(vt){if(vt||this.filterManager._mdf){var ht=this.filterManager.effectElements[2].p.v,xt=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+ht[0]+" 0 0 0 0 "+ht[1]+" 0 0 0 0 "+ht[2]+" 0 0 0 "+xt+" 0")}};function SVGStrokeEffect(vt,ht,xt){this.initialized=!1,this.filterManager=ht,this.elem=xt,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var vt=this.elem.layerElement.children||this.elem.layerElement.childNodes,ht,xt,_t,St;for(this.filterManager.effectElements[1].p.v===1?(St=this.elem.maskManager.masksProperties.length,_t=0):(_t=this.filterManager.effectElements[0].p.v-1,St=_t+1),xt=createNS("g"),xt.setAttribute("fill","none"),xt.setAttribute("stroke-linecap","round"),xt.setAttribute("stroke-dashoffset",1),_t;_t<St;_t+=1)ht=createNS("path"),xt.appendChild(ht),this.paths.push({p:ht,m:_t});if(this.filterManager.effectElements[10].p.v===3){var wt=createNS("mask"),At=createElementID();wt.setAttribute("id",At),wt.setAttribute("mask-type","alpha"),wt.appendChild(xt),this.elem.globalData.defs.appendChild(wt);var Ct=createNS("g");for(Ct.setAttribute("mask","url("+getLocationHref()+"#"+At+")");vt[0];)Ct.appendChild(vt[0]);this.elem.layerElement.appendChild(Ct),this.masker=wt,xt.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(vt=this.elem.layerElement.children||this.elem.layerElement.childNodes;vt.length;)this.elem.layerElement.removeChild(vt[0]);this.elem.layerElement.appendChild(xt),this.elem.layerElement.removeAttribute("mask"),xt.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=xt},SVGStrokeEffect.prototype.renderFrame=function(vt){this.initialized||this.initialize();var ht,xt=this.paths.length,_t,St;for(ht=0;ht<xt;ht+=1)if(this.paths[ht].m!==-1&&(_t=this.elem.maskManager.viewData[this.paths[ht].m],St=this.paths[ht].p,(vt||this.filterManager._mdf||_t.prop._mdf)&&St.setAttribute("d",_t.lastPath),vt||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||_t.prop._mdf)){var wt;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var At=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Ct=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Rt=St.getTotalLength();wt="0 0 0 "+Rt*At+" ";var It=Rt*(Ct-At),Lt=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,kt=Math.floor(It/Lt),Dt;for(Dt=0;Dt<kt;Dt+=1)wt+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";wt+="0 "+Rt*10+" 0 0"}else wt="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;St.setAttribute("stroke-dasharray",wt)}if((vt||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(vt||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(vt||this.filterManager.effectElements[3].p._mdf)){var $t=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor($t[0]*255)+","+bmFloor($t[1]*255)+","+bmFloor($t[2]*255)+")")}};function SVGTritoneFilter(vt,ht,xt,_t){this.filterManager=ht;var St=createNS("feColorMatrix");St.setAttribute("type","matrix"),St.setAttribute("color-interpolation-filters","linearRGB"),St.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),vt.appendChild(St);var wt=createNS("feComponentTransfer");wt.setAttribute("color-interpolation-filters","sRGB"),wt.setAttribute("result",_t),this.matrixFilter=wt;var At=createNS("feFuncR");At.setAttribute("type","table"),wt.appendChild(At),this.feFuncR=At;var Ct=createNS("feFuncG");Ct.setAttribute("type","table"),wt.appendChild(Ct),this.feFuncG=Ct;var Rt=createNS("feFuncB");Rt.setAttribute("type","table"),wt.appendChild(Rt),this.feFuncB=Rt,vt.appendChild(wt)}SVGTritoneFilter.prototype.renderFrame=function(vt){if(vt||this.filterManager._mdf){var ht=this.filterManager.effectElements[0].p.v,xt=this.filterManager.effectElements[1].p.v,_t=this.filterManager.effectElements[2].p.v,St=_t[0]+" "+xt[0]+" "+ht[0],wt=_t[1]+" "+xt[1]+" "+ht[1],At=_t[2]+" "+xt[2]+" "+ht[2];this.feFuncR.setAttribute("tableValues",St),this.feFuncG.setAttribute("tableValues",wt),this.feFuncB.setAttribute("tableValues",At)}};function SVGProLevelsFilter(vt,ht,xt,_t){this.filterManager=ht;var St=this.filterManager.effectElements,wt=createNS("feComponentTransfer");(St[10].p.k||St[10].p.v!==0||St[11].p.k||St[11].p.v!==1||St[12].p.k||St[12].p.v!==1||St[13].p.k||St[13].p.v!==0||St[14].p.k||St[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",wt)),(St[17].p.k||St[17].p.v!==0||St[18].p.k||St[18].p.v!==1||St[19].p.k||St[19].p.v!==1||St[20].p.k||St[20].p.v!==0||St[21].p.k||St[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",wt)),(St[24].p.k||St[24].p.v!==0||St[25].p.k||St[25].p.v!==1||St[26].p.k||St[26].p.v!==1||St[27].p.k||St[27].p.v!==0||St[28].p.k||St[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",wt)),(St[31].p.k||St[31].p.v!==0||St[32].p.k||St[32].p.v!==1||St[33].p.k||St[33].p.v!==1||St[34].p.k||St[34].p.v!==0||St[35].p.k||St[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",wt)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(wt.setAttribute("color-interpolation-filters","sRGB"),vt.appendChild(wt)),(St[3].p.k||St[3].p.v!==0||St[4].p.k||St[4].p.v!==1||St[5].p.k||St[5].p.v!==1||St[6].p.k||St[6].p.v!==0||St[7].p.k||St[7].p.v!==1)&&(wt=createNS("feComponentTransfer"),wt.setAttribute("color-interpolation-filters","sRGB"),wt.setAttribute("result",_t),vt.appendChild(wt),this.feFuncRComposed=this.createFeFunc("feFuncR",wt),this.feFuncGComposed=this.createFeFunc("feFuncG",wt),this.feFuncBComposed=this.createFeFunc("feFuncB",wt))}SVGProLevelsFilter.prototype.createFeFunc=function(vt,ht){var xt=createNS(vt);return xt.setAttribute("type","table"),ht.appendChild(xt),xt},SVGProLevelsFilter.prototype.getTableValue=function(vt,ht,xt,_t,St){for(var wt=0,At=256,Ct,Rt=Math.min(vt,ht),It=Math.max(vt,ht),Lt=Array.call(null,{length:At}),kt,Dt=0,$t=St-_t,Ot=ht-vt;wt<=256;)Ct=wt/256,Ct<=Rt?kt=Ot<0?St:_t:Ct>=It?kt=Ot<0?_t:St:kt=_t+$t*Math.pow((Ct-vt)/Ot,1/xt),Lt[Dt]=kt,Dt+=1,wt+=256/(At-1);return Lt.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(vt){if(vt||this.filterManager._mdf){var ht,xt=this.filterManager.effectElements;this.feFuncRComposed&&(vt||xt[3].p._mdf||xt[4].p._mdf||xt[5].p._mdf||xt[6].p._mdf||xt[7].p._mdf)&&(ht=this.getTableValue(xt[3].p.v,xt[4].p.v,xt[5].p.v,xt[6].p.v,xt[7].p.v),this.feFuncRComposed.setAttribute("tableValues",ht),this.feFuncGComposed.setAttribute("tableValues",ht),this.feFuncBComposed.setAttribute("tableValues",ht)),this.feFuncR&&(vt||xt[10].p._mdf||xt[11].p._mdf||xt[12].p._mdf||xt[13].p._mdf||xt[14].p._mdf)&&(ht=this.getTableValue(xt[10].p.v,xt[11].p.v,xt[12].p.v,xt[13].p.v,xt[14].p.v),this.feFuncR.setAttribute("tableValues",ht)),this.feFuncG&&(vt||xt[17].p._mdf||xt[18].p._mdf||xt[19].p._mdf||xt[20].p._mdf||xt[21].p._mdf)&&(ht=this.getTableValue(xt[17].p.v,xt[18].p.v,xt[19].p.v,xt[20].p.v,xt[21].p.v),this.feFuncG.setAttribute("tableValues",ht)),this.feFuncB&&(vt||xt[24].p._mdf||xt[25].p._mdf||xt[26].p._mdf||xt[27].p._mdf||xt[28].p._mdf)&&(ht=this.getTableValue(xt[24].p.v,xt[25].p.v,xt[26].p.v,xt[27].p.v,xt[28].p.v),this.feFuncB.setAttribute("tableValues",ht)),this.feFuncA&&(vt||xt[31].p._mdf||xt[32].p._mdf||xt[33].p._mdf||xt[34].p._mdf||xt[35].p._mdf)&&(ht=this.getTableValue(xt[31].p.v,xt[32].p.v,xt[33].p.v,xt[34].p.v,xt[35].p.v),this.feFuncA.setAttribute("tableValues",ht))}};function SVGDropShadowEffect(vt,ht,xt,_t,St){var wt=ht.container.globalData.renderConfig.filterSize,At=ht.data.fs||wt;vt.setAttribute("x",At.x||wt.x),vt.setAttribute("y",At.y||wt.y),vt.setAttribute("width",At.width||wt.width),vt.setAttribute("height",At.height||wt.height),this.filterManager=ht;var Ct=createNS("feGaussianBlur");Ct.setAttribute("in","SourceAlpha"),Ct.setAttribute("result",_t+"_drop_shadow_1"),Ct.setAttribute("stdDeviation","0"),this.feGaussianBlur=Ct,vt.appendChild(Ct);var Rt=createNS("feOffset");Rt.setAttribute("dx","25"),Rt.setAttribute("dy","0"),Rt.setAttribute("in",_t+"_drop_shadow_1"),Rt.setAttribute("result",_t+"_drop_shadow_2"),this.feOffset=Rt,vt.appendChild(Rt);var It=createNS("feFlood");It.setAttribute("flood-color","#00ff00"),It.setAttribute("flood-opacity","1"),It.setAttribute("result",_t+"_drop_shadow_3"),this.feFlood=It,vt.appendChild(It);var Lt=createNS("feComposite");Lt.setAttribute("in",_t+"_drop_shadow_3"),Lt.setAttribute("in2",_t+"_drop_shadow_2"),Lt.setAttribute("operator","in"),Lt.setAttribute("result",_t+"_drop_shadow_4"),vt.appendChild(Lt);var kt=this.createMergeNode(_t,[_t+"_drop_shadow_4",St]);vt.appendChild(kt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(vt){if(vt||this.filterManager._mdf){if((vt||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),vt||this.filterManager.effectElements[0].p._mdf){var ht=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(ht[0]*255),Math.round(ht[1]*255),Math.round(ht[2]*255)))}if((vt||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),vt||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var xt=this.filterManager.effectElements[3].p.v,_t=(this.filterManager.effectElements[2].p.v-90)*degToRads,St=xt*Math.cos(_t),wt=xt*Math.sin(_t);this.feOffset.setAttribute("dx",St),this.feOffset.setAttribute("dy",wt)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(vt,ht,xt){this.initialized=!1,this.filterManager=ht,this.filterElem=vt,this.elem=xt,xt.matteElement=createNS("g"),xt.matteElement.appendChild(xt.layerElement),xt.matteElement.appendChild(xt.transformedElement),xt.baseElement=xt.matteElement}SVGMatte3Effect.prototype.findSymbol=function(vt){for(var ht=0,xt=_svgMatteSymbols.length;ht<xt;){if(_svgMatteSymbols[ht]===vt)return _svgMatteSymbols[ht];ht+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(vt,ht){var xt=vt.layerElement.parentNode;if(xt){for(var _t=xt.children,St=0,wt=_t.length;St<wt&&_t[St]!==vt.layerElement;)St+=1;var At;St<=wt-2&&(At=_t[St+1]);var Ct=createNS("use");Ct.setAttribute("href","#"+ht),At?xt.insertBefore(Ct,At):xt.appendChild(Ct)}},SVGMatte3Effect.prototype.setElementAsMask=function(vt,ht){if(!this.findSymbol(ht)){var xt=createElementID(),_t=createNS("mask");_t.setAttribute("id",ht.layerId),_t.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(ht);var St=vt.globalData.defs;St.appendChild(_t);var wt=createNS("symbol");wt.setAttribute("id",xt),this.replaceInParent(ht,xt),wt.appendChild(ht.layerElement),St.appendChild(wt);var At=createNS("use");At.setAttribute("href","#"+xt),_t.appendChild(At),ht.data.hd=!1,ht.show()}vt.setMatte(ht.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var vt=this.filterManager.effectElements[0].p.v,ht=this.elem.comp.elements,xt=0,_t=ht.length;xt<_t;)ht[xt]&&ht[xt].data.ind===vt&&this.setElementAsMask(this.elem,ht[xt]),xt+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(vt,ht,xt,_t){vt.setAttribute("x","-100%"),vt.setAttribute("y","-100%"),vt.setAttribute("width","300%"),vt.setAttribute("height","300%"),this.filterManager=ht;var St=createNS("feGaussianBlur");St.setAttribute("result",_t),vt.appendChild(St),this.feGaussianBlur=St}SVGGaussianBlurEffect.prototype.renderFrame=function(vt){if(vt||this.filterManager._mdf){var ht=.3,xt=this.filterManager.effectElements[0].p.v*ht,_t=this.filterManager.effectElements[1].p.v,St=_t==3?0:xt,wt=_t==2?0:xt;this.feGaussianBlur.setAttribute("stdDeviation",St+" "+wt);var At=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",At)}};function TransformEffect(){}TransformEffect.prototype.init=function(vt){this.effectsManager=vt,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(vt){if(this._opMdf=!1,this._mdf=!1,vt||this.effectsManager._mdf){var ht=this.effectsManager.effectElements,xt=ht[0].p.v,_t=ht[1].p.v,St=ht[2].p.v===1,wt=ht[3].p.v,At=St?wt:ht[4].p.v,Ct=ht[5].p.v,Rt=ht[6].p.v,It=ht[7].p.v;this.matrix.reset(),this.matrix.translate(-xt[0],-xt[1],xt[2]),this.matrix.scale(At*.01,wt*.01,1),this.matrix.rotate(-It*degToRads),this.matrix.skewFromAxis(-Ct*degToRads,(Rt+90)*degToRads),this.matrix.translate(_t[0],_t[1],0),this._mdf=!0,this.opacity!==ht[8].p.v&&(this.opacity=ht[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(vt,ht){this.init(ht)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(vt){this.init(vt)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(vt,ht){(ht==null||ht>vt.length)&&(ht=vt.length);for(var xt=0,_t=Array(ht);xt<ht;xt++)_t[xt]=vt[xt];return _t}function _arrayWithHoles(vt){if(Array.isArray(vt))return vt}function _defineProperty(vt,ht,xt){return(ht=_toPropertyKey(ht))in vt?Object.defineProperty(vt,ht,{value:xt,enumerable:!0,configurable:!0,writable:!0}):vt[ht]=xt,vt}function _iterableToArrayLimit(vt,ht){var xt=vt==null?null:typeof Symbol<"u"&&vt[Symbol.iterator]||vt["@@iterator"];if(xt!=null){var _t,St,wt,At,Ct=[],Rt=!0,It=!1;try{if(wt=(xt=xt.call(vt)).next,ht!==0)for(;!(Rt=(_t=wt.call(xt)).done)&&(Ct.push(_t.value),Ct.length!==ht);Rt=!0);}catch(Lt){It=!0,St=Lt}finally{try{if(!Rt&&xt.return!=null&&(At=xt.return(),Object(At)!==At))return}finally{if(It)throw St}}return Ct}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(vt,ht){var xt=Object.keys(vt);if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(vt);ht&&(_t=_t.filter(function(St){return Object.getOwnPropertyDescriptor(vt,St).enumerable})),xt.push.apply(xt,_t)}return xt}function _objectSpread2(vt){for(var ht=1;ht<arguments.length;ht++){var xt=arguments[ht]!=null?arguments[ht]:{};ht%2?ownKeys(Object(xt),!0).forEach(function(_t){_defineProperty(vt,_t,xt[_t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(vt,Object.getOwnPropertyDescriptors(xt)):ownKeys(Object(xt)).forEach(function(_t){Object.defineProperty(vt,_t,Object.getOwnPropertyDescriptor(xt,_t))})}return vt}function _objectWithoutProperties(vt,ht){if(vt==null)return{};var xt,_t,St=_objectWithoutPropertiesLoose(vt,ht);if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(vt);for(_t=0;_t<wt.length;_t++)xt=wt[_t],ht.includes(xt)||{}.propertyIsEnumerable.call(vt,xt)&&(St[xt]=vt[xt])}return St}function _objectWithoutPropertiesLoose(vt,ht){if(vt==null)return{};var xt={};for(var _t in vt)if({}.hasOwnProperty.call(vt,_t)){if(ht.includes(_t))continue;xt[_t]=vt[_t]}return xt}function _slicedToArray(vt,ht){return _arrayWithHoles(vt)||_iterableToArrayLimit(vt,ht)||_unsupportedIterableToArray(vt,ht)||_nonIterableRest()}function _toPrimitive(vt,ht){if(typeof vt!="object"||!vt)return vt;var xt=vt[Symbol.toPrimitive];if(xt!==void 0){var _t=xt.call(vt,ht);if(typeof _t!="object")return _t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ht==="string"?String:Number)(vt)}function _toPropertyKey(vt){var ht=_toPrimitive(vt,"string");return typeof ht=="symbol"?ht:ht+""}function _unsupportedIterableToArray(vt,ht){if(vt){if(typeof vt=="string")return _arrayLikeToArray(vt,ht);var xt={}.toString.call(vt).slice(8,-1);return xt==="Object"&&vt.constructor&&(xt=vt.constructor.name),xt==="Map"||xt==="Set"?Array.from(vt):xt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xt)?_arrayLikeToArray(vt,ht):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function vt(ht,xt){var _t=ht.animationData,St=ht.loop,wt=ht.autoplay,At=ht.initialSegment,Ct=ht.onComplete,Rt=ht.onLoopComplete,It=ht.onEnterFrame,Lt=ht.onSegmentStart,kt=ht.onConfigReady,Dt=ht.onDataReady,$t=ht.onDataFailed,Ot=ht.onLoadedImages,zt=ht.onDOMLoaded,Gt=ht.onDestroy;ht.lottieRef,ht.renderer,ht.name,ht.assetsPath,ht.rendererSettings;var Bt=_objectWithoutProperties(ht,_excluded$1),Ut=reactExports.useState(!1),Vt=_slicedToArray(Ut,2),Ht=Vt[0],Xt=Vt[1],qt=reactExports.useRef(),Kt=reactExports.useRef(null),en=function(){var _n;(_n=qt.current)===null||_n===void 0||_n.play()},tn=function(){var _n;(_n=qt.current)===null||_n===void 0||_n.stop()},Qt=function(){var _n;(_n=qt.current)===null||_n===void 0||_n.pause()},sn=function(_n){var wn;(wn=qt.current)===null||wn===void 0||wn.setSpeed(_n)},un=function(_n,wn){var xn;(xn=qt.current)===null||xn===void 0||xn.goToAndPlay(_n,wn)},dn=function(_n,wn){var xn;(xn=qt.current)===null||xn===void 0||xn.goToAndStop(_n,wn)},vn=function(_n){var wn;(wn=qt.current)===null||wn===void 0||wn.setDirection(_n)},pn=function(_n,wn){var xn;(xn=qt.current)===null||xn===void 0||xn.playSegments(_n,wn)},rn=function(_n){var wn;(wn=qt.current)===null||wn===void 0||wn.setSubframe(_n)},an=function(_n){var wn;return(wn=qt.current)===null||wn===void 0?void 0:wn.getDuration(_n)},Yt=function(){var _n;(_n=qt.current)===null||_n===void 0||_n.destroy(),qt.current=void 0},Jt=function(){var _n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},wn;if(Kt.current){(wn=qt.current)===null||wn===void 0||wn.destroy();var xn=_objectSpread2(_objectSpread2(_objectSpread2({},ht),_n),{},{container:Kt.current});return qt.current=lottie.loadAnimation(xn),Xt(!!qt.current),function(){var Pn;(Pn=qt.current)===null||Pn===void 0||Pn.destroy(),qt.current=void 0}}};reactExports.useEffect(function(){var ln=Jt();return function(){return ln==null?void 0:ln()}},[_t,St]),reactExports.useEffect(function(){qt.current&&(qt.current.autoplay=!!wt)},[wt]),reactExports.useEffect(function(){if(qt.current){if(!At){qt.current.resetSegments(!0);return}!Array.isArray(At)||!At.length||((qt.current.currentRawFrame<At[0]||qt.current.currentRawFrame>At[1])&&(qt.current.currentRawFrame=At[0]),qt.current.setSegment(At[0],At[1]))}},[At]),reactExports.useEffect(function(){var ln=[{name:"complete",handler:Ct},{name:"loopComplete",handler:Rt},{name:"enterFrame",handler:It},{name:"segmentStart",handler:Lt},{name:"config_ready",handler:kt},{name:"data_ready",handler:Dt},{name:"data_failed",handler:$t},{name:"loaded_images",handler:Ot},{name:"DOMLoaded",handler:zt},{name:"destroy",handler:Gt}],_n=ln.filter(function(xn){return xn.handler!=null});if(_n.length){var wn=_n.map(function(xn){var Pn;return(Pn=qt.current)===null||Pn===void 0||Pn.addEventListener(xn.name,xn.handler),function(){var Bn;(Bn=qt.current)===null||Bn===void 0||Bn.removeEventListener(xn.name,xn.handler)}});return function(){wn.forEach(function(xn){return xn()})}}},[Ct,Rt,It,Lt,kt,Dt,$t,Ot,zt,Gt]);var on=React$1.createElement("div",_objectSpread2({style:xt,ref:Kt},Bt));return{View:on,play:en,stop:tn,pause:Qt,setSpeed:sn,goToAndStop:dn,goToAndPlay:un,setDirection:vn,playSegments:pn,setSubframe:rn,getDuration:an,destroy:Yt,animationContainerRef:Kt,animationLoaded:Ht,animationItem:qt.current}};function getContainerVisibility(vt){var ht=vt.getBoundingClientRect(),xt=ht.top,_t=ht.height,St=window.innerHeight-xt,wt=window.innerHeight+_t;return St/wt}function getContainerCursorPosition(vt,ht,xt){var _t=vt.getBoundingClientRect(),St=_t.top,wt=_t.left,At=_t.width,Ct=_t.height,Rt=(ht-wt)/At,It=(xt-St)/Ct;return{x:Rt,y:It}}var useInitInteractivity=function vt(ht){var xt=ht.wrapperRef,_t=ht.animationItem,St=ht.mode,wt=ht.actions;reactExports.useEffect(function(){var At=xt.current;if(!(!At||!_t||!wt.length)){_t.stop();var Ct=function(){var Lt=null,kt=function(){var $t=getContainerVisibility(At),Ot=wt.find(function(Gt){var Bt=Gt.visibility;return Bt&&$t>=Bt[0]&&$t<=Bt[1]});if(Ot){if(Ot.type==="seek"&&Ot.visibility&&Ot.frames.length===2){var zt=Ot.frames[0]+Math.ceil(($t-Ot.visibility[0])/(Ot.visibility[1]-Ot.visibility[0])*Ot.frames[1]);//! goToAndStop must be relative to the start of the current segment
_t.goToAndStop(zt-_t.firstFrame-1,!0)}Ot.type==="loop"&&(Lt===null||Lt!==Ot.frames||_t.isPaused)&&(_t.playSegments(Ot.frames,!0),Lt=Ot.frames),Ot.type==="play"&&_t.isPaused&&(_t.resetSegments(!0),_t.play()),Ot.type==="stop"&&_t.goToAndStop(Ot.frames[0]-_t.firstFrame-1,!0)}};return document.addEventListener("scroll",kt),function(){document.removeEventListener("scroll",kt)}},Rt=function(){var Lt=function(Ot,zt){var Gt=Ot,Bt=zt;if(Gt!==-1&&Bt!==-1){var Ut=getContainerCursorPosition(At,Gt,Bt);Gt=Ut.x,Bt=Ut.y}var Vt=wt.find(function(qt){var Kt=qt.position;return Kt&&Array.isArray(Kt.x)&&Array.isArray(Kt.y)?Gt>=Kt.x[0]&&Gt<=Kt.x[1]&&Bt>=Kt.y[0]&&Bt<=Kt.y[1]:Kt&&!Number.isNaN(Kt.x)&&!Number.isNaN(Kt.y)?Gt===Kt.x&&Bt===Kt.y:!1});if(Vt){if(Vt.type==="seek"&&Vt.position&&Array.isArray(Vt.position.x)&&Array.isArray(Vt.position.y)&&Vt.frames.length===2){var Ht=(Gt-Vt.position.x[0])/(Vt.position.x[1]-Vt.position.x[0]),Xt=(Bt-Vt.position.y[0])/(Vt.position.y[1]-Vt.position.y[0]);_t.playSegments(Vt.frames,!0),_t.goToAndStop(Math.ceil((Ht+Xt)/2*(Vt.frames[1]-Vt.frames[0])),!0)}Vt.type==="loop"&&_t.playSegments(Vt.frames,!0),Vt.type==="play"&&(_t.isPaused&&_t.resetSegments(!1),_t.playSegments(Vt.frames)),Vt.type==="stop"&&_t.goToAndStop(Vt.frames[0],!0)}},kt=function(Ot){Lt(Ot.clientX,Ot.clientY)},Dt=function(){Lt(-1,-1)};return At.addEventListener("mousemove",kt),At.addEventListener("mouseout",Dt),function(){At.removeEventListener("mousemove",kt),At.removeEventListener("mouseout",Dt)}};switch(St){case"scroll":return Ct();case"cursor":return Rt()}}},[St,_t])},useLottieInteractivity=function vt(ht){var xt=ht.actions,_t=ht.mode,St=ht.lottieObj,wt=St.animationItem,At=St.View,Ct=St.animationContainerRef;return useInitInteractivity({actions:xt,animationItem:wt,mode:_t,wrapperRef:Ct}),At},_excluded=["style","interactivity"],Lottie=function vt(ht){var xt,_t,St,wt=ht.style,At=ht.interactivity,Ct=_objectWithoutProperties(ht,_excluded),Rt=useLottie(Ct,wt),It=Rt.View,Lt=Rt.play,kt=Rt.stop,Dt=Rt.pause,$t=Rt.setSpeed,Ot=Rt.goToAndStop,zt=Rt.goToAndPlay,Gt=Rt.setDirection,Bt=Rt.playSegments,Ut=Rt.setSubframe,Vt=Rt.getDuration,Ht=Rt.destroy,Xt=Rt.animationContainerRef,qt=Rt.animationLoaded,Kt=Rt.animationItem;return reactExports.useEffect(function(){ht.lottieRef&&(ht.lottieRef.current={play:Lt,stop:kt,pause:Dt,setSpeed:$t,goToAndPlay:zt,goToAndStop:Ot,setDirection:Gt,playSegments:Bt,setSubframe:Ut,getDuration:Vt,destroy:Ht,animationContainerRef:Xt,animationLoaded:qt,animationItem:Kt})},[(xt=ht.lottieRef)===null||xt===void 0?void 0:xt.current]),useLottieInteractivity({lottieObj:{View:It,play:Lt,stop:kt,pause:Dt,setSpeed:$t,goToAndStop:Ot,goToAndPlay:zt,setDirection:Gt,playSegments:Bt,setSubframe:Ut,getDuration:Vt,destroy:Ht,animationContainerRef:Xt,animationLoaded:qt,animationItem:Kt},actions:(_t=At==null?void 0:At.actions)!==null&&_t!==void 0?_t:[],mode:(St=At==null?void 0:At.mode)!==null&&St!==void 0?St:"scroll"})};const falsyToString=vt=>typeof vt=="boolean"?`${vt}`:vt===0?"0":vt,cx=clsx,cva=(vt,ht)=>xt=>{var _t;if((ht==null?void 0:ht.variants)==null)return cx(vt,xt==null?void 0:xt.class,xt==null?void 0:xt.className);const{variants:St,defaultVariants:wt}=ht,At=Object.keys(St).map(It=>{const Lt=xt==null?void 0:xt[It],kt=wt==null?void 0:wt[It];if(Lt===null)return null;const Dt=falsyToString(Lt)||falsyToString(kt);return St[It][Dt]}),Ct=xt&&Object.entries(xt).reduce((It,Lt)=>{let[kt,Dt]=Lt;return Dt===void 0||(It[kt]=Dt),It},{}),Rt=ht==null||(_t=ht.compoundVariants)===null||_t===void 0?void 0:_t.reduce((It,Lt)=>{let{class:kt,className:Dt,...$t}=Lt;return Object.entries($t).every(Ot=>{let[zt,Gt]=Ot;return Array.isArray(Gt)?Gt.includes({...wt,...Ct}[zt]):{...wt,...Ct}[zt]===Gt})?[...It,kt,Dt]:It},[]);return cx(vt,At,Rt,xt==null?void 0:xt.class,xt==null?void 0:xt.className)},textStyles=cva("",{variants:{style:{h1:"font-satoshi font-bold text-5xl md:text-6xl lg:text-7xl leading-tight tracking-tight text-text-white",h2:"font-satoshi font-bold text-3xl md:text-4xl lg:text-5xl leading-tight text-text-white",h3:"font-satoshi font-medium text-2xl md:text-3xl leading-snug text-text-white",h4:"font-inter font-semibold text-xl md:text-2xl text-text-white",h5:"font-inter font-medium text-lg md:text-xl text-text-white-90",h6:"font-inter font-medium text-base md:text-lg text-text-white-90",body:"font-inter text-base leading-relaxed text-text-white-80","body-large":"font-inter text-lg leading-relaxed text-text-white-80","body-small":"font-sans text-xs text-text-white-60",caption:"font-inter text-sm text-text-white-60",serif:"font-times text-base text-text-white-80"},color:{default:"",primary:"text-primary",accent:"text-accent-purple",muted:"text-text-muted",gradient:"bg-gradient-to-r from-primary via-accent-blue to-accent-purple bg-clip-text text-transparent"}},defaultVariants:{style:"body",color:"default"}}),Text=({as:vt="p",className:ht,style:xt,color:_t,...St})=>jsxRuntimeExports.jsx(vt,{className:twMerge(textStyles({style:xt,color:_t}),ht),...St}),v="5.5.7",fr=24,ip=0,op=24,w=200,h=200,nm="Sparkles",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[100,100,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0,0,100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:6,s:[100,100,100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:12,s:[0,0,100]},{t:23}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10,0],[0,-10],[10,0],[0,10]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"st",c:{a:0,k:[.96,.76,.23,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:24,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:45,ix:10},p:{a:0,k:[100,100,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0,0,100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:6,s:[80,80,100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:12,s:[0,0,100]},{t:23}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10,0],[0,-10],[10,0],[0,10]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"st",c:{a:0,k:[.23,.51,.96,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:24,st:0,bm:0}],sparklesAnimation={v,fr,ip,op,w,h,nm,ddd,assets,layers},containerVariants={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},itemVariants={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},CommunitySection=()=>jsxRuntimeExports.jsx(SectionWrapper,{id:"community",children:jsxRuntimeExports.jsxs(motion.div,{className:"text-center",variants:containerVariants,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.5},children:[jsxRuntimeExports.jsx(motion.div,{variants:itemVariants,children:jsxRuntimeExports.jsx(Text,{as:"h2",style:"h2",children:copy.community.headline})}),jsxRuntimeExports.jsx(motion.div,{variants:itemVariants,children:jsxRuntimeExports.jsx(Text,{style:"body",className:"mt-4 max-w-2xl mx-auto",children:copy.community.subhead})}),jsxRuntimeExports.jsxs(motion.div,{variants:itemVariants,className:"mt-10 flex flex-col sm:flex-row items-center justify-center gap-4",children:[jsxRuntimeExports.jsx(CTAButton,{variant:"outline",children:copy.community.ctas[1]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(CTAButton,{variant:"primary",className:"!px-10 !py-4",children:copy.community.ctas[2]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-8 -right-8 w-24 h-24 pointer-events-none",children:jsxRuntimeExports.jsx(Lottie,{animationData:sparklesAnimation,loop:!0})})]}),jsxRuntimeExports.jsx(CTAButton,{variant:"secondary",children:copy.community.ctas[0]})]})]})}),MobileFooterCTA=()=>jsxRuntimeExports.jsx(motion.div,{id:"mobile-footer-cta",initial:{y:"100%"},animate:{y:0},transition:{type:"spring",stiffness:100,damping:20},className:"md:hidden fixed bottom-0 left-0 right-0 bg-bg-dark/95 backdrop-blur-xl border-t border-border-white-20 p-3 sm:p-4 z-40 shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-around items-center",children:[jsxRuntimeExports.jsxs(motion.button,{"aria-label":copy.footerCTA.primary,className:"flex flex-col items-center gap-1 text-primary px-4 py-2 rounded-lg hover:bg-bg-white-5 transition-colors",animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:[jsxRuntimeExports.jsx(Phone,{className:"h-5 w-5 sm:h-6 sm:w-6"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:copy.footerCTA.primary})]}),jsxRuntimeExports.jsxs(motion.button,{"aria-label":copy.footerCTA.secondary,className:"flex flex-col items-center gap-1 text-text-white px-4 py-2 rounded-lg hover:bg-bg-white-5 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(SquarePen,{className:"h-5 w-5 sm:h-6 sm:w-6"}),jsxRuntimeExports.jsx(motion.div,{className:"absolute inset-0 rounded-full bg-primary/50",animate:{scale:[0,1.5],opacity:[1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeOut"}})]}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:copy.footerCTA.secondary})]})]})}),footerLinks={product:[{name:"Features",href:"#capabilities"},{name:"Marketplace",href:"#marketplace"},{name:"Use Cases",href:"#use-cases"},{name:"Pricing",href:"#"},{name:"Enterprise",href:"#"}],developers:[{name:"Documentation",href:"#"},{name:"API Reference",href:"#"},{name:"SDK & Tools",href:"#"},{name:"Community",href:"#"},{name:"Open Source",href:"#"}],company:[{name:"About Us",href:"#"},{name:"Blog",href:"#"},{name:"Careers",href:"#"},{name:"Press",href:"#"},{name:"Contact",href:"#"}],legal:[{name:"Privacy Policy",href:"#"},{name:"Terms of Service",href:"#"},{name:"Security",href:"#"},{name:"Compliance",href:"#"}]},socialLinks=[{name:"GitHub",icon:Github,href:"#"},{name:"Twitter",icon:Twitter,href:"#"},{name:"LinkedIn",icon:Linkedin,href:"#"},{name:"YouTube",icon:Youtube,href:"#"}],Footer=()=>jsxRuntimeExports.jsxs("footer",{className:"relative bg-bg-dark pt-12 sm:pt-16 md:pt-20 pb-20 md:pb-8 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl -translate-x-1/2 translate-y-1/2"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-accent-purple/10 rounded-full blur-3xl translate-x-1/2 -translate-y-1/2"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff05_1px,transparent_1px),linear-gradient(to_bottom,#ffffff05_1px,transparent_1px)] bg-[size:64px_64px]"})]}),jsxRuntimeExports.jsxs("div",{className:"container relative z-10",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},className:"glass-card p-8 md:p-12 mb-16 text-center",children:[jsxRuntimeExports.jsx("h3",{className:"font-satoshi font-bold text-2xl sm:text-3xl md:text-4xl mb-3 sm:mb-4",children:"Ready to Deploy Your First Agent?"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-80 text-base sm:text-lg mb-6 sm:mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses automating their workflows with LOG_ON's autonomous AI agents"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[jsxRuntimeExports.jsx(CTAButton,{variant:"primary",className:"!px-8 !py-4",children:"Start Free Trial"}),jsxRuntimeExports.jsx(CTAButton,{variant:"secondary",className:"!px-8 !py-4",children:"Schedule Demo"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-6 sm:gap-8 mb-8 sm:mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2 sm:col-span-3 md:col-span-2 mb-6 sm:mb-8 md:mb-0",children:[jsxRuntimeExports.jsx(Logo,{className:"mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-60 text-sm mb-6 max-w-sm",children:"Building the future of work with autonomous AI agents that amplify human potential."}),jsxRuntimeExports.jsx("div",{className:"flex gap-3",children:socialLinks.map(({name:vt,icon:ht,href:xt})=>jsxRuntimeExports.jsx("a",{href:xt,"aria-label":vt,className:"p-2 rounded-lg bg-bg-white-5 hover:bg-bg-white-10 text-text-white-60 hover:text-text-white transition-all duration-200",children:jsxRuntimeExports.jsx(ht,{className:"h-5 w-5"})},vt))})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-text-white mb-3 sm:mb-4 text-sm sm:text-base",children:"Product"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:footerLinks.product.map(vt=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("a",{href:vt.href,className:"text-text-white-60 hover:text-text-white text-sm transition-colors duration-200 flex items-center gap-1 group",children:[vt.name,vt.href==="#"&&jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})},vt.name))})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-text-white mb-3 sm:mb-4 text-sm sm:text-base",children:"Developers"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:footerLinks.developers.map(vt=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("a",{href:vt.href,className:"text-text-white-60 hover:text-text-white text-sm transition-colors duration-200 flex items-center gap-1 group",children:[vt.name,jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})},vt.name))})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-text-white mb-3 sm:mb-4 text-sm sm:text-base",children:"Company"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:footerLinks.company.map(vt=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("a",{href:vt.href,className:"text-text-white-60 hover:text-text-white text-sm transition-colors duration-200 flex items-center gap-1 group",children:[vt.name,jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})},vt.name))})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-text-white mb-3 sm:mb-4 text-sm sm:text-base",children:"Legal"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:footerLinks.legal.map(vt=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("a",{href:vt.href,className:"text-text-white-60 hover:text-text-white text-sm transition-colors duration-200 flex items-center gap-1 group",children:[vt.name,jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})},vt.name))})]})]}),jsxRuntimeExports.jsx("div",{className:"border-t border-border-white-10 pt-6 sm:pt-8 mb-6 sm:mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center lg:text-left w-full lg:w-auto",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-text-white mb-1 sm:mb-2",children:"Stay Updated"}),jsxRuntimeExports.jsx("p",{className:"text-text-white-60 text-sm",children:"Get the latest updates on AI agents and automation"})]}),jsxRuntimeExports.jsxs("form",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Enter your email",className:"input flex-1 sm:flex-initial md:w-64 text-sm sm:text-base",required:!0}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary whitespace-nowrap",children:"Subscribe"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"border-t border-border-white-10 pt-6 sm:pt-8 flex flex-col sm:flex-row items-center justify-between gap-4 text-center sm:text-left",children:[jsxRuntimeExports.jsxs("p",{className:"text-text-white-60 text-xs sm:text-sm order-2 sm:order-1",children:[" ",new Date().getFullYear()," LOG_ON. All rights reserved."]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 sm:gap-6 order-1 sm:order-2",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"text-text-white-60 hover:text-text-white text-xs sm:text-sm transition-colors",children:"System Status"}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-text-white-60 hover:text-text-white text-xs sm:text-sm transition-colors",children:"Cookie Settings"})]})]})]})]}),GridBackground=({children:vt})=>jsxRuntimeExports.jsxs("div",{className:"w-full min-h-screen bg-bg-dark relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#050505] via-[#101010] to-[#202020]"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-1/4 w-56 h-56 bg-primary/20 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-1/4 w-56 h-56 bg-accent-orange/20 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff0d_1px,transparent_1px),linear-gradient(to_bottom,#ffffff0d_1px,transparent_1px)] bg-[size:32px_32px]"}),jsxRuntimeExports.jsx("div",{className:"relative z-10",children:vt})]}),LandingPage=()=>jsxRuntimeExports.jsxs(GridBackground,{children:[jsxRuntimeExports.jsx(AppHeader,{}),jsxRuntimeExports.jsxs("main",{children:[jsxRuntimeExports.jsx(HeroSection,{}),jsxRuntimeExports.jsx(CapabilitiesSection,{}),jsxRuntimeExports.jsx(MarketplaceSection,{}),jsxRuntimeExports.jsx(UseCasesByIndustry,{}),jsxRuntimeExports.jsx(AgentsUseCasesSection,{}),jsxRuntimeExports.jsx(CommunitySection,{})]}),jsxRuntimeExports.jsx(Footer,{}),jsxRuntimeExports.jsx(MobileFooterCTA,{})]});function App(){return jsxRuntimeExports.jsx(LandingPage,{})}var TAG_NAMES=(vt=>(vt.BASE="base",vt.BODY="body",vt.HEAD="head",vt.HTML="html",vt.LINK="link",vt.META="meta",vt.NOSCRIPT="noscript",vt.SCRIPT="script",vt.STYLE="style",vt.TITLE="title",vt.FRAGMENT="Symbol(react.fragment)",vt))(TAG_NAMES||{}),SEO_PRIORITY_TAGS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(TAG_NAMES);var REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(REACT_TAG_MAP).reduce((vt,[ht,xt])=>(vt[xt]=ht,vt),{});var HELMET_ATTRIBUTE="data-rh",flattenArray=vt=>Array.isArray(vt)?vt.join(""):vt,checkIfPropsMatch=(vt,ht)=>{const xt=Object.keys(vt);for(let _t=0;_t<xt.length;_t+=1)if(ht[xt[_t]]&&ht[xt[_t]].includes(vt[xt[_t]]))return!0;return!1},prioritizer=(vt,ht)=>Array.isArray(vt)?vt.reduce((xt,_t)=>(checkIfPropsMatch(_t,ht)?xt.priority.push(_t):xt.default.push(_t),xt),{priority:[],default:[]}):{default:vt,priority:[]},SELF_CLOSING_TAGS=["noscript","script","style"],encodeSpecialCharacters=(vt,ht=!0)=>ht===!1?String(vt):String(vt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),generateElementAttributesAsString=vt=>Object.keys(vt).reduce((ht,xt)=>{const _t=typeof vt[xt]<"u"?`${xt}="${vt[xt]}"`:`${xt}`;return ht?`${ht} ${_t}`:_t},""),generateTitleAsString=(vt,ht,xt,_t)=>{const St=generateElementAttributesAsString(xt),wt=flattenArray(ht);return St?`<${vt} ${HELMET_ATTRIBUTE}="true" ${St}>${encodeSpecialCharacters(wt,_t)}</${vt}>`:`<${vt} ${HELMET_ATTRIBUTE}="true">${encodeSpecialCharacters(wt,_t)}</${vt}>`},generateTagsAsString=(vt,ht,xt=!0)=>ht.reduce((_t,St)=>{const wt=St,At=Object.keys(wt).filter(It=>!(It==="innerHTML"||It==="cssText")).reduce((It,Lt)=>{const kt=typeof wt[Lt]>"u"?Lt:`${Lt}="${encodeSpecialCharacters(wt[Lt],xt)}"`;return It?`${It} ${kt}`:kt},""),Ct=wt.innerHTML||wt.cssText||"",Rt=SELF_CLOSING_TAGS.indexOf(vt)===-1;return`${_t}<${vt} ${HELMET_ATTRIBUTE}="true" ${At}${Rt?"/>":`>${Ct}</${vt}>`}`},""),convertElementAttributesToReactProps=(vt,ht={})=>Object.keys(vt).reduce((xt,_t)=>{const St=REACT_TAG_MAP[_t];return xt[St||_t]=vt[_t],xt},ht),generateTitleAsReactComponent=(vt,ht,xt)=>{const _t={key:ht,[HELMET_ATTRIBUTE]:!0},St=convertElementAttributesToReactProps(xt,_t);return[React$1.createElement("title",St,ht)]},generateTagsAsReactComponent=(vt,ht)=>ht.map((xt,_t)=>{const St={key:_t,[HELMET_ATTRIBUTE]:!0};return Object.keys(xt).forEach(wt=>{const Ct=REACT_TAG_MAP[wt]||wt;if(Ct==="innerHTML"||Ct==="cssText"){const Rt=xt.innerHTML||xt.cssText;St.dangerouslySetInnerHTML={__html:Rt}}else St[Ct]=xt[wt]}),React$1.createElement(vt,St)}),getMethodsForTag=(vt,ht,xt=!0)=>{switch(vt){case"title":return{toComponent:()=>generateTitleAsReactComponent(vt,ht.title,ht.titleAttributes),toString:()=>generateTitleAsString(vt,ht.title,ht.titleAttributes,xt)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>convertElementAttributesToReactProps(ht),toString:()=>generateElementAttributesAsString(ht)};default:return{toComponent:()=>generateTagsAsReactComponent(vt,ht),toString:()=>generateTagsAsString(vt,ht,xt)}}},getPriorityMethods=({metaTags:vt,linkTags:ht,scriptTags:xt,encode:_t})=>{const St=prioritizer(vt,SEO_PRIORITY_TAGS.meta),wt=prioritizer(ht,SEO_PRIORITY_TAGS.link),At=prioritizer(xt,SEO_PRIORITY_TAGS.script);return{priorityMethods:{toComponent:()=>[...generateTagsAsReactComponent("meta",St.priority),...generateTagsAsReactComponent("link",wt.priority),...generateTagsAsReactComponent("script",At.priority)],toString:()=>`${getMethodsForTag("meta",St.priority,_t)} ${getMethodsForTag("link",wt.priority,_t)} ${getMethodsForTag("script",At.priority,_t)}`},metaTags:St.default,linkTags:wt.default,scriptTags:At.default}},mapStateOnServer=vt=>{const{baseTag:ht,bodyAttributes:xt,encode:_t=!0,htmlAttributes:St,noscriptTags:wt,styleTags:At,title:Ct="",titleAttributes:Rt,prioritizeSeoTags:It}=vt;let{linkTags:Lt,metaTags:kt,scriptTags:Dt}=vt,$t={toComponent:()=>{},toString:()=>""};return It&&({priorityMethods:$t,linkTags:Lt,metaTags:kt,scriptTags:Dt}=getPriorityMethods(vt)),{priority:$t,base:getMethodsForTag("base",ht,_t),bodyAttributes:getMethodsForTag("bodyAttributes",xt,_t),htmlAttributes:getMethodsForTag("htmlAttributes",St,_t),link:getMethodsForTag("link",Lt,_t),meta:getMethodsForTag("meta",kt,_t),noscript:getMethodsForTag("noscript",wt,_t),script:getMethodsForTag("script",Dt,_t),style:getMethodsForTag("style",At,_t),title:getMethodsForTag("title",{title:Ct,titleAttributes:Rt},_t)}},server_default=mapStateOnServer,instances=[],isDocument=!!(typeof window<"u"&&window.document&&window.document.createElement),HelmetData=class{constructor(vt,ht){yo(this,"instances",[]);yo(this,"canUseDOM",isDocument);yo(this,"context");yo(this,"value",{setHelmet:vt=>{this.context.helmet=vt},helmetInstances:{get:()=>this.canUseDOM?instances:this.instances,add:vt=>{(this.canUseDOM?instances:this.instances).push(vt)},remove:vt=>{const ht=(this.canUseDOM?instances:this.instances).indexOf(vt);(this.canUseDOM?instances:this.instances).splice(ht,1)}}});this.context=vt,this.canUseDOM=ht||!1,ht||(vt.helmet=server_default({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},defaultValue={},Context=React$1.createContext(defaultValue),xo,HelmetProvider=(xo=class extends reactExports.Component{constructor(xt){super(xt);yo(this,"helmetData");this.helmetData=new HelmetData(this.props.context||{},xo.canUseDOM)}render(){return React$1.createElement(Context.Provider,{value:this.helmetData.value},this.props.children)}},yo(xo,"canUseDOM",isDocument),xo);client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$1.StrictMode,{children:jsxRuntimeExports.jsx(HelmetProvider,{children:jsxRuntimeExports.jsx(App,{})})}));
